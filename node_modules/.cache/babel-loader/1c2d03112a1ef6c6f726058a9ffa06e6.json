{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\tiriq\\\\Documents\\\\Tiago\\\\MyThings\\\\MyProjects\\\\MySiteReact\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\tiriq\\\\Documents\\\\Tiago\\\\MyThings\\\\MyProjects\\\\MySiteReact\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\tiriq\\\\Documents\\\\Tiago\\\\MyThings\\\\MyProjects\\\\MySiteReact\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _get from \"C:\\\\Users\\\\tiriq\\\\Documents\\\\Tiago\\\\MyThings\\\\MyProjects\\\\MySiteReact\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\tiriq\\\\Documents\\\\Tiago\\\\MyThings\\\\MyProjects\\\\MySiteReact\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\tiriq\\\\Documents\\\\Tiago\\\\MyThings\\\\MyProjects\\\\MySiteReact\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\n/**\r\n * DevExtreme (esm/ui/box.js)\r\n * Version: 22.2.4\r\n * Build date: Thu Jan 19 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../core/renderer\";\nimport registerComponent from \"../core/component_registrator\";\nimport { extend } from \"../core/utils/extend\";\nimport { hasWindow } from \"../core/utils/window\";\nimport { dasherize } from \"../core/utils/inflector\";\nimport { isDefined } from \"../core/utils/type\";\nimport { normalizeStyleProp, styleProp, stylePropPrefix } from \"../core/utils/style\";\nimport { each } from \"../core/utils/iterator\";\nimport CollectionWidgetItem from \"./collection/item\";\nimport CollectionWidget from \"./collection/ui.collection_widget.edit\";\nvar BOX_CLASS = \"dx-box\";\nvar BOX_FLEX_CLASS = \"dx-box-flex\";\nvar BOX_ITEM_CLASS = \"dx-box-item\";\nvar BOX_ITEM_DATA_KEY = \"dxBoxItemData\";\nvar SHRINK = 1;\nvar MINSIZE_MAP = {\n  row: \"minWidth\",\n  col: \"minHeight\"\n};\nvar MAXSIZE_MAP = {\n  row: \"maxWidth\",\n  col: \"maxHeight\"\n};\nvar FLEX_JUSTIFY_CONTENT_MAP = {\n  start: \"flex-start\",\n  end: \"flex-end\",\n  center: \"center\",\n  \"space-between\": \"space-between\",\n  \"space-around\": \"space-around\"\n};\nvar FLEX_ALIGN_ITEMS_MAP = {\n  start: \"flex-start\",\n  end: \"flex-end\",\n  center: \"center\",\n  stretch: \"stretch\"\n};\nvar FLEX_DIRECTION_MAP = {\n  row: \"row\",\n  col: \"column\"\n};\nvar setFlexProp = function setFlexProp(element, prop, value) {\n  value = normalizeStyleProp(prop, value);\n  element.style[styleProp(prop)] = value;\n  if (!hasWindow()) {\n    if (\"\" === value || !isDefined(value)) {\n      return;\n    }\n    var cssName = dasherize(prop);\n    var styleExpr = cssName + \": \" + value + \";\";\n    if (!element.attributes.style) {\n      element.setAttribute(\"style\", styleExpr);\n    } else if (element.attributes.style.value.indexOf(styleExpr) < 0) {\n      element.attributes.style.value += \" \" + styleExpr;\n    }\n  }\n};\nvar BoxItem = /*#__PURE__*/function (_CollectionWidgetItem) {\n  _inherits(BoxItem, _CollectionWidgetItem);\n  function BoxItem() {\n    _classCallCheck(this, BoxItem);\n    return _possibleConstructorReturn(this, _getPrototypeOf(BoxItem).apply(this, arguments));\n  }\n  _createClass(BoxItem, [{\n    key: \"_renderVisible\",\n    value: function _renderVisible(value, oldValue) {\n      _get(_getPrototypeOf(BoxItem.prototype), \"_renderVisible\", this).call(this, value);\n      if (isDefined(oldValue)) {\n        this._options.fireItemStateChangedAction({\n          name: \"visible\",\n          state: value,\n          oldState: oldValue\n        });\n      }\n    }\n  }]);\n  return BoxItem;\n}(CollectionWidgetItem);\nvar LayoutStrategy = /*#__PURE__*/function () {\n  function LayoutStrategy($element, option) {\n    _classCallCheck(this, LayoutStrategy);\n    this._$element = $element;\n    this._option = option;\n  }\n  _createClass(LayoutStrategy, [{\n    key: \"renderBox\",\n    value: function renderBox() {\n      this._$element.css({\n        display: stylePropPrefix(\"flexDirection\") + \"flex\"\n      });\n      setFlexProp(this._$element.get(0), \"flexDirection\", FLEX_DIRECTION_MAP[this._option(\"direction\")]);\n    }\n  }, {\n    key: \"renderAlign\",\n    value: function renderAlign() {\n      this._$element.css({\n        justifyContent: this._normalizedAlign()\n      });\n    }\n  }, {\n    key: \"_normalizedAlign\",\n    value: function _normalizedAlign() {\n      var align = this._option(\"align\");\n      return align in FLEX_JUSTIFY_CONTENT_MAP ? FLEX_JUSTIFY_CONTENT_MAP[align] : align;\n    }\n  }, {\n    key: \"renderCrossAlign\",\n    value: function renderCrossAlign() {\n      this._$element.css({\n        alignItems: this._normalizedCrossAlign()\n      });\n    }\n  }, {\n    key: \"_normalizedCrossAlign\",\n    value: function _normalizedCrossAlign() {\n      var crossAlign = this._option(\"crossAlign\");\n      return crossAlign in FLEX_ALIGN_ITEMS_MAP ? FLEX_ALIGN_ITEMS_MAP[crossAlign] : crossAlign;\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems($items) {\n      var flexPropPrefix = stylePropPrefix(\"flexDirection\");\n      var direction = this._option(\"direction\");\n      each($items, function () {\n        var $item = $(this);\n        var item = $item.data(BOX_ITEM_DATA_KEY);\n        $item.css({\n          display: flexPropPrefix + \"flex\"\n        }).css(MAXSIZE_MAP[direction], item.maxSize || \"none\").css(MINSIZE_MAP[direction], item.minSize || \"0\");\n        setFlexProp($item.get(0), \"flexBasis\", item.baseSize || 0);\n        setFlexProp($item.get(0), \"flexGrow\", item.ratio);\n        setFlexProp($item.get(0), \"flexShrink\", isDefined(item.shrink) ? item.shrink : SHRINK);\n        $item.children().each(function (_, itemContent) {\n          $(itemContent).css({\n            width: \"auto\",\n            height: \"auto\",\n            display: stylePropPrefix(\"flexDirection\") + \"flex\",\n            flexBasis: 0\n          });\n          setFlexProp(itemContent, \"flexGrow\", 1);\n          setFlexProp(itemContent, \"flexDirection\", $(itemContent)[0].style.flexDirection || \"column\");\n        });\n      });\n    }\n  }]);\n  return LayoutStrategy;\n}();\nvar Box = /*#__PURE__*/function (_CollectionWidget) {\n  _inherits(Box, _CollectionWidget);\n  function Box() {\n    _classCallCheck(this, Box);\n    return _possibleConstructorReturn(this, _getPrototypeOf(Box).apply(this, arguments));\n  }\n  _createClass(Box, [{\n    key: \"_getDefaultOptions\",\n    value: function _getDefaultOptions() {\n      return extend(_get(_getPrototypeOf(Box.prototype), \"_getDefaultOptions\", this).call(this), {\n        direction: \"row\",\n        align: \"start\",\n        crossAlign: \"stretch\",\n        activeStateEnabled: false,\n        focusStateEnabled: false,\n        onItemStateChanged: void 0,\n        _queue: void 0\n      });\n    }\n  }, {\n    key: \"_itemClass\",\n    value: function _itemClass() {\n      return BOX_ITEM_CLASS;\n    }\n  }, {\n    key: \"_itemDataKey\",\n    value: function _itemDataKey() {\n      return BOX_ITEM_DATA_KEY;\n    }\n  }, {\n    key: \"_itemElements\",\n    value: function _itemElements() {\n      return this._itemContainer().children(this._itemSelector());\n    }\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      _get(_getPrototypeOf(Box.prototype), \"_init\", this).call(this);\n      this.$element().addClass(BOX_FLEX_CLASS);\n      this._initLayout();\n      this._initBoxQueue();\n    }\n  }, {\n    key: \"_initLayout\",\n    value: function _initLayout() {\n      this._layout = new LayoutStrategy(this.$element(), this.option.bind(this));\n    }\n  }, {\n    key: \"_initBoxQueue\",\n    value: function _initBoxQueue() {\n      this._queue = this.option(\"_queue\") || [];\n    }\n  }, {\n    key: \"_queueIsNotEmpty\",\n    value: function _queueIsNotEmpty() {\n      return this.option(\"_queue\") ? false : !!this._queue.length;\n    }\n  }, {\n    key: \"_pushItemToQueue\",\n    value: function _pushItemToQueue($item, config) {\n      this._queue.push({\n        $item: $item,\n        config: config\n      });\n    }\n  }, {\n    key: \"_shiftItemFromQueue\",\n    value: function _shiftItemFromQueue() {\n      return this._queue.shift();\n    }\n  }, {\n    key: \"_initMarkup\",\n    value: function _initMarkup() {\n      this.$element().addClass(BOX_CLASS);\n      this._layout.renderBox();\n      _get(_getPrototypeOf(Box.prototype), \"_initMarkup\", this).call(this);\n      this._renderAlign();\n      this._renderActions();\n    }\n  }, {\n    key: \"_renderActions\",\n    value: function _renderActions() {\n      this._onItemStateChanged = this._createActionByOption(\"onItemStateChanged\");\n    }\n  }, {\n    key: \"_renderAlign\",\n    value: function _renderAlign() {\n      this._layout.renderAlign();\n      this._layout.renderCrossAlign();\n    }\n  }, {\n    key: \"_renderItems\",\n    value: function _renderItems(items) {\n      _get(_getPrototypeOf(Box.prototype), \"_renderItems\", this).call(this, items);\n      while (this._queueIsNotEmpty()) {\n        var item = this._shiftItemFromQueue();\n        this._createComponent(item.$item, Box, extend({\n          itemTemplate: this.option(\"itemTemplate\"),\n          itemHoldTimeout: this.option(\"itemHoldTimeout\"),\n          onItemHold: this.option(\"onItemHold\"),\n          onItemClick: this.option(\"onItemClick\"),\n          onItemContextMenu: this.option(\"onItemContextMenu\"),\n          onItemRendered: this.option(\"onItemRendered\"),\n          _queue: this._queue\n        }, item.config));\n      }\n      this._layout.renderItems(this._itemElements());\n    }\n  }, {\n    key: \"_renderItemContent\",\n    value: function _renderItemContent(args) {\n      var $itemNode = args.itemData && args.itemData.node;\n      if ($itemNode) {\n        return this._renderItemContentByNode(args, $itemNode);\n      }\n      return _get(_getPrototypeOf(Box.prototype), \"_renderItemContent\", this).call(this, args);\n    }\n  }, {\n    key: \"_postprocessRenderItem\",\n    value: function _postprocessRenderItem(args) {\n      var boxConfig = args.itemData.box;\n      if (!boxConfig) {\n        return;\n      }\n      this._pushItemToQueue(args.itemContent, boxConfig);\n    }\n  }, {\n    key: \"_createItemByTemplate\",\n    value: function _createItemByTemplate(itemTemplate, args) {\n      if (args.itemData.box) {\n        return itemTemplate.source ? itemTemplate.source() : $();\n      }\n      return _get(_getPrototypeOf(Box.prototype), \"_createItemByTemplate\", this).call(this, itemTemplate, args);\n    }\n  }, {\n    key: \"_itemOptionChanged\",\n    value: function _itemOptionChanged(item, property, value, oldValue) {\n      if (\"visible\" === property) {\n        this._onItemStateChanged({\n          name: property,\n          state: value,\n          oldState: false !== oldValue\n        });\n      }\n      _get(_getPrototypeOf(Box.prototype), \"_itemOptionChanged\", this).call(this, item, property, value);\n    }\n  }, {\n    key: \"_optionChanged\",\n    value: function _optionChanged(args) {\n      switch (args.name) {\n        case \"_queue\":\n        case \"direction\":\n          this._invalidate();\n          break;\n        case \"align\":\n          this._layout.renderAlign();\n          break;\n        case \"crossAlign\":\n          this._layout.renderCrossAlign();\n          break;\n        default:\n          _get(_getPrototypeOf(Box.prototype), \"_optionChanged\", this).call(this, args);\n      }\n    }\n  }, {\n    key: \"_itemOptions\",\n    value: function _itemOptions() {\n      var _this = this;\n      var options = _get(_getPrototypeOf(Box.prototype), \"_itemOptions\", this).call(this);\n      options.fireItemStateChangedAction = function (e) {\n        _this._onItemStateChanged(e);\n      };\n      return options;\n    }\n  }]);\n  return Box;\n}(CollectionWidget);\nBox.ItemClass = BoxItem;\nregisterComponent(\"dxBox\", Box);\nexport default Box;","map":null,"metadata":{},"sourceType":"module"}