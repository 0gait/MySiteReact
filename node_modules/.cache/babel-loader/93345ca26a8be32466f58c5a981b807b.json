{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\tiriq\\\\Documents\\\\Tiago\\\\MyThings\\\\MyProjects\\\\MySiteReact\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\tiriq\\\\Documents\\\\Tiago\\\\MyThings\\\\MyProjects\\\\MySiteReact\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\tiriq\\\\Documents\\\\Tiago\\\\MyThings\\\\MyProjects\\\\MySiteReact\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\tiriq\\\\Documents\\\\Tiago\\\\MyThings\\\\MyProjects\\\\MySiteReact\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\tiriq\\\\Documents\\\\Tiago\\\\MyThings\\\\MyProjects\\\\MySiteReact\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\tiriq\\\\Documents\\\\Tiago\\\\MyThings\\\\MyProjects\\\\MySiteReact\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\n/**\r\n * DevExtreme (esm/ui/html_editor/modules/imageCursor.js)\r\n * Version: 22.2.4\r\n * Build date: Thu Jan 19 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport Quill from \"devextreme-quill\";\nimport BaseModule from \"./base\";\nimport eventsEngine from \"../../../events/core/events_engine\";\nimport { addNamespace } from \"../../../events/utils/index\";\nvar MODULE_NAMESPACE = \"dxHtmlEditorImageCursor\";\nvar clickEvent = addNamespace(\"dxclick\", MODULE_NAMESPACE);\nvar ImageCursorModule = BaseModule;\nif (Quill) {\n  ImageCursorModule = /*#__PURE__*/function (_BaseModule) {\n    _inherits(ImageCursorModule, _BaseModule);\n    function ImageCursorModule(quill, options) {\n      var _this;\n      _classCallCheck(this, ImageCursorModule);\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(ImageCursorModule).call(this, quill, options));\n      _this.addCleanCallback(_this.clean.bind(_assertThisInitialized(_assertThisInitialized(_this))));\n      _this._attachEvents();\n      return _this;\n    }\n    _createClass(ImageCursorModule, [{\n      key: \"_attachEvents\",\n      value: function _attachEvents() {\n        eventsEngine.on(this.quill.root, clickEvent, this._clickHandler.bind(this));\n      }\n    }, {\n      key: \"_detachEvents\",\n      value: function _detachEvents() {\n        eventsEngine.off(this.quill.root, clickEvent);\n      }\n    }, {\n      key: \"_clickHandler\",\n      value: function _clickHandler(e) {\n        if (this._isAllowedTarget(e.target)) {\n          this._adjustSelection(e);\n        }\n      }\n    }, {\n      key: \"_isAllowedTarget\",\n      value: function _isAllowedTarget(targetElement) {\n        return this._isImage(targetElement);\n      }\n    }, {\n      key: \"_isImage\",\n      value: function _isImage(targetElement) {\n        return \"IMG\" === targetElement.tagName.toUpperCase();\n      }\n    }, {\n      key: \"_adjustSelection\",\n      value: function _adjustSelection(e) {\n        var blot = this.quill.scroll.find(e.target);\n        if (blot) {\n          var index = blot.offset(this.quill.scroll);\n          this.quill.setSelection(index + 1, 0);\n        } else {\n          this.quill.setSelection(0, 0);\n        }\n      }\n    }, {\n      key: \"clean\",\n      value: function clean() {\n        this._detachEvents();\n      }\n    }]);\n    return ImageCursorModule;\n  }(BaseModule);\n}\nexport default ImageCursorModule;","map":null,"metadata":{},"sourceType":"module"}