(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(t,e,n){"use strict";var i=n(4),o=n.n(i),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=o.a.createContext&&o.a.createContext(r),s=function(){return(s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},l=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n};function c(t){return function(e){return o.a.createElement(u,s({attr:s({},t.attr)},e),function t(e){return e&&e.map(function(e,n){return o.a.createElement(e.tag,s({key:n},e.attr),t(e.child))})}(t.child))}}function u(t){var e=function(e){var n,i=t.attr,r=t.size,a=t.title,c=l(t,["attr","size","title"]),u=r||e.size||"1em";return e.className&&(n=e.className),t.className&&(n=(n?n+" ":"")+t.className),o.a.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,c,{className:n,style:s(s({color:t.color||e.color},e.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&o.a.createElement("title",null,a),t.children)};return void 0!==a?o.a.createElement(a.Consumer,null,function(t){return e(t)}):e(r)}n.d(e,"a",function(){return c})},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"g",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return l}),n.d(e,"h",function(){return c}),n.d(e,"o",function(){return u}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"e",function(){return p}),n.d(e,"k",function(){return f}),n.d(e,"l",function(){return m}),n.d(e,"p",function(){return g}),n.d(e,"n",function(){return v}),n.d(e,"m",function(){return y}),n.d(e,"c",function(){return _}),n.d(e,"q",function(){return o}),n.d(e,"f",function(){return b});var i={"[object Array]":"array","[object Date]":"date","[object Object]":"object","[object String]":"string","[object Null]":"null"},o=function(t){var e=Object.prototype.toString.call(t);return"object"===typeof t?i[e]||"object":typeof t},r=function(t){return"boolean"===typeof t},a=function(t){return h(t)&&-1!==t.toString().indexOf("e")},s=function(t){return"date"===o(t)},l=function(t){return null!==t&&void 0!==t},c=function(t){return"function"===typeof t},u=function(t){return"string"===typeof t},h=function(t){return"number"===typeof t&&isFinite(t)||!isNaN(t-parseFloat(t))},d=function(t){return"object"===o(t)},p=function(t){var e;for(e in t)return!1;return!0},f=function(t){if(!t||"[object Object]"!==Object.prototype.toString.call(t))return!1;var e=Object.getPrototypeOf(t),n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return"function"===typeof n&&Object.toString.call(n)===Object.toString.call(Object)},m=function(t){return-1===["object","array","function"].indexOf(o(t))},g=function(t){return null!=t&&t===t.window},v=function(t){return!!t&&!(!t.jquery&&!t.dxRenderer)},y=function(t){return!!t&&c(t.then)},_=function(t){return!!t&&c(t.done)&&c(t.fail)},b=function(t){return!(!t||!t.preventDefault)}},function(t,e,n){"use strict";var i,o=n(46),r=n(17),a=n(15),s=n(1),l=n(73),c=n(11),u=n(168),h=Object(a.d)(),d=function(t,e){return t?"string"===typeof t?"body"===t?(this[0]=e?e.body:r.a.getBody(),this.length=1,this):(e=e||r.a.getDocument(),"<"===t[0]?(this[0]=r.a.createElement(t.slice(1,-1),e),this.length=1,this):([].push.apply(this,r.a.querySelectorAll(e,t)),this)):r.a.isNode(t)||Object(s.p)(t)?(this[0]=t,this.length=1,this):Array.isArray(t)?([].push.apply(this,t),this):i(t.toArray?t.toArray():[t]):(this.length=0,this)};(i=function(t,e){return new d(t,e)}).fn={dxRenderer:!0},d.prototype=i.fn;var p=function(t,e){for(var n=0;n<this.length;n++){var o=i(this[n]);o[t].apply(o,e)}return this},f=function(t,e,n){void 0!==n&&null!==n&&!1!==n?r.a.setAttribute(t,e,n):r.a.removeAttribute(t,e)};d.prototype.show=function(){return this.toggle(!0)},d.prototype.hide=function(){return this.toggle(!1)},d.prototype.toggle=function(t){return this[0]&&this.toggleClass("dx-state-invisible",!t),this},d.prototype.attr=function(t,e){if(this.length>1&&arguments.length>1)return p.call(this,"attr",arguments);if(!this[0])return Object(s.j)(t)||void 0!==e?this:void 0;if(!this[0].getAttribute)return this.prop(t,e);if("string"===typeof t&&1===arguments.length){var n=this[0].getAttribute(t);return null==n?void 0:n}if(Object(s.k)(t))for(var i in t)this.attr(i,t[i]);else f(this[0],t,e);return this},d.prototype.removeAttr=function(t){return this[0]&&r.a.removeAttribute(this[0],t),this},d.prototype.prop=function(t,e){if(!this[0])return this;if("string"===typeof t&&1===arguments.length)return this[0][t];if(Object(s.k)(t))for(var n in t)this.prop(n,t[n]);else r.a.setProperty(this[0],t,e);return this},d.prototype.addClass=function(t){return this.toggleClass(t,!0)},d.prototype.removeClass=function(t){return this.toggleClass(t,!1)},d.prototype.hasClass=function(t){if(!this[0]||void 0===this[0].className)return!1;for(var e=t.split(" "),n=0;n<e.length;n++){if(this[0].classList){if(this[0].classList.contains(e[n]))return!0}else if(((Object(s.o)(this[0].className)?this[0].className:r.a.getAttribute(this[0],"class"))||"").split(" ").indexOf(e[n])>=0)return!0}return!1},d.prototype.toggleClass=function(t,e){if(this.length>1)return p.call(this,"toggleClass",arguments);if(!this[0]||!t)return this;e=void 0===e?!this.hasClass(t):e;for(var n=t.split(" "),i=0;i<n.length;i++)r.a.setClass(this[0],n[i],e);return this},d.prototype.html=function(t){return arguments.length?(this.empty(),"string"===typeof t&&!Object(u.a)(t)||"number"===typeof t?(this[0].innerHTML=t,this):this.append(Object(u.b)(t))):this[0].innerHTML};var m=function(t,e){if(this[0]&&t){"string"===typeof t?t=Object(u.b)(t):t.nodeType?t=[t]:Object(s.i)(t)&&(t=[r.a.createTextNode(t)]);for(var n=0;n<t.length;n++){var i=t[n],o=this[0];"TABLE"===o.tagName&&"TR"===i.tagName&&o.tBodies&&o.tBodies.length&&(o=o.tBodies[0]),r.a.insertElement(o,i.nodeType?i:i[0],e)}}},g=function(t,e){if(this[0]&&this[0].style&&!(null===e||"number"===typeof e&&isNaN(e))){t=Object(l.b)(t);for(var n=0;n<this.length;n++)this[n].style[t]=Object(l.a)(t,e)}};d.prototype.css=function(t,e){if(Object(s.o)(t)){if(2!==arguments.length){if(!this[0])return;t=Object(l.b)(t);var n=h.getComputedStyle(this[0])[t]||this[0].style[t];return Object(s.i)(n)?n.toString():n}g.call(this,t,e)}else if(Object(s.k)(t))for(var i in t)g.call(this,i,t[i]);return this},d.prototype.prepend=function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.prepend(arguments[e]);return this}return m.apply(this,[t,this[0].firstChild]),this},d.prototype.append=function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.append(arguments[e]);return this}return m.apply(this,[t]),this},d.prototype.prependTo=function(t){if(this.length>1){for(var e=this.length-1;e>=0;e--)i(this[e]).prependTo(t);return this}return(t=i(t))[0]&&r.a.insertElement(t[0],this[0],t[0].firstChild),this},d.prototype.appendTo=function(t){return this.length>1?p.call(this,"appendTo",arguments):(r.a.insertElement(i(t)[0],this[0]),this)},d.prototype.insertBefore=function(t){return t&&t[0]&&r.a.insertElement(t[0].parentNode,this[0],t[0]),this},d.prototype.insertAfter=function(t){return t&&t[0]&&r.a.insertElement(t[0].parentNode,this[0],t[0].nextSibling),this},d.prototype.before=function(t){return this[0]&&r.a.insertElement(this[0].parentNode,t[0],this[0]),this},d.prototype.after=function(t){return this[0]&&r.a.insertElement(this[0].parentNode,t[0],this[0].nextSibling),this},d.prototype.wrap=function(t){if(this[0]){var e=i(t);e.insertBefore(this),e.append(this)}return this},d.prototype.wrapInner=function(t){var e=this.contents();return e.length?e.wrap(t):this.append(t),this},d.prototype.replaceWith=function(t){if(t&&t[0])return t.is(this)?this:(t.insertBefore(this),this.remove(),t)},d.prototype.remove=function(){return this.length>1?p.call(this,"remove",arguments):(Object(o.b)(this[0],!0),r.a.removeElement(this[0]),this)},d.prototype.detach=function(){return this.length>1?p.call(this,"detach",arguments):(r.a.removeElement(this[0]),this)},d.prototype.empty=function(){return this.length>1?p.call(this,"empty",arguments):(Object(o.b)(this[0]),r.a.setText(this[0],""),this)},d.prototype.clone=function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e].cloneNode(!0));return i(t)},d.prototype.text=function(t){if(!arguments.length){for(var e="",n=0;n<this.length;n++)e+=this[n]&&this[n].textContent||"";return e}var i=Object(s.h)(t)?t():t;return Object(o.b)(this[0],!1),r.a.setText(this[0],Object(s.d)(i)?i:""),this},d.prototype.val=function(t){return 1===arguments.length?this.prop("value",Object(s.d)(t)?t:""):this.prop("value")},d.prototype.contents=function(){if(!this[0])return i();var t=[];return t.push.apply(t,this[0].childNodes),i(t)},d.prototype.find=function(t){var e=i();if(!t)return e;var n,o=[];if("string"===typeof t)for(t=t.trim(),n=0;n<this.length;n++){var a=this[n];if(r.a.isElementNode(a)){var s=a.getAttribute("id"),l=s||"dx-query-children";s||f(a,"id",l);var c=(l="[id='"+l+"'] ")+t.replace(/([^\\])(,)/g,"$1, "+l);o.push.apply(o,r.a.querySelectorAll(a,c)),f(a,"id",s)}else(r.a.isDocument(a)||r.a.isDocumentFragment(a))&&o.push.apply(o,r.a.querySelectorAll(a,t))}else for(n=0;n<this.length;n++)t=r.a.isNode(t)?t:t[0],this[n]!==t&&this[n].contains(t)&&o.push(t);return e.add(o)};var v=function(t,e){var n;return!(e=null!==(n=e.host)&&void 0!==n?n:e).nodeType||!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)};d.prototype.filter=function(t){if(!t)return i();if(":visible"===t)return this.filter(v);if(":hidden"===t)return this.filter(function(t,e){return!v(0,e)});for(var e=[],n=0;n<this.length;n++){var o=this[n];if(r.a.isElementNode(o)&&"string"===Object(s.q)(t))r.a.elementMatches(o,t)&&e.push(o);else if(r.a.isNode(t)||Object(s.p)(t))t===o&&e.push(o);else if(Object(s.h)(t))t.call(o,n,o)&&e.push(o);else for(var a=0;a<t.length;a++)t[a]===o&&e.push(o)}return i(e)},d.prototype.not=function(t){for(var e=[],n=this.filter(t).toArray(),o=0;o<this.length;o++)-1===n.indexOf(this[o])&&e.push(this[o]);return i(e)},d.prototype.is=function(t){return!!this.filter(t).length},d.prototype.children=function(t){for(var e=[],n=0;n<this.length;n++)for(var o=this[n]?this[n].childNodes:[],a=0;a<o.length;a++)r.a.isElementNode(o[a])&&e.push(o[a]);return e=i(e),t?e.filter(t):e},d.prototype.siblings=function(){var t=this[0];if(!t||!t.parentNode)return i();for(var e=[],n=t.parentNode.childNodes||[],o=0;o<n.length;o++){var a=n[o];r.a.isElementNode(a)&&a!==t&&e.push(a)}return i(e)},d.prototype.each=function(t){for(var e=0;e<this.length&&!1!==t.call(this[e],e,this[e]);e++);},d.prototype.index=function(t){return t?(t=i(t),this.toArray().indexOf(t[0])):this.parent().children().index(this)},d.prototype.get=function(t){return this[t<0?this.length+t:t]},d.prototype.eq=function(t){return t=t<0?this.length+t:t,i(this[t])},d.prototype.first=function(){return this.eq(0)},d.prototype.last=function(){return this.eq(-1)},d.prototype.select=function(){for(var t=0;t<this.length;t+=1)this[t].select&&this[t].select();return this},d.prototype.parent=function(t){if(!this[0])return i();var e=i(this[0].parentNode);return!t||e.is(t)?e:i()},d.prototype.parents=function(t){for(var e=[],n=this.parent();n&&n[0]&&!r.a.isDocument(n[0]);)r.a.isElementNode(n[0])&&(t&&!n.is(t)||e.push(n.get(0))),n=n.parent();return i(e)},d.prototype.closest=function(t){if(this.is(t))return this;for(var e=this.parent();e&&e.length;){if(e.is(t))return e;e=e.parent()}return i()},d.prototype.next=function(t){if(!this[0])return i();var e=i(this[0].nextSibling);if(!arguments.length)return e;for(;e&&e.length;){if(e.is(t))return e;e=e.next()}return i()},d.prototype.prev=function(){return this[0]?i(this[0].previousSibling):i()},d.prototype.add=function(t){for(var e=i(t),n=this.toArray(),o=0;o<e.length;o++){var r=e[o];-1===n.indexOf(r)&&n.push(r)}return i(n)};var y=[];d.prototype.splice=function(){return i(y.splice.apply(this,arguments))},d.prototype.slice=function(){return i(y.slice.apply(this,arguments))},d.prototype.toArray=function(){return y.slice.call(this)},d.prototype.offset=function(){if(this[0])return Object(c.f)(this[0])},d.prototype.offsetParent=function(){if(!this[0])return i();for(var t=i(this[0].offsetParent);t[0]&&"static"===t.css("position");)t=i(t[0].offsetParent);return t=t[0]?t:i(r.a.getDocumentElement())},d.prototype.position=function(){if(this[0]){var t,e=parseFloat(this.css("marginTop")),n=parseFloat(this.css("marginLeft"));if("fixed"===this.css("position"))return{top:(t=this[0].getBoundingClientRect()).top-e,left:t.left-n};t=this.offset();var i=this.offsetParent(),o={top:0,left:0};return"HTML"!==i[0].nodeName&&(o=i.offset()),o={top:o.top+parseFloat(i.css("borderTopWidth")),left:o.left+parseFloat(i.css("borderLeftWidth"))},{top:t.top-o.top-e,left:t.left-o.left-n}}},[{name:"scrollLeft",offsetProp:"pageXOffset",scrollWindow:function(t,e){t.scrollTo(e,t.pageYOffset)}},{name:"scrollTop",offsetProp:"pageYOffset",scrollWindow:function(t,e){t.scrollTo(t.pageXOffset,e)}}].forEach(function(t){var e=t.name;d.prototype[e]=function(n){if(this[0]){var i=Object(c.l)(this[0]);return void 0===n?i?i[t.offsetProp]:this[0][e]:(i?t.scrollWindow(i,n):this[0][e]=n,this)}}}),d.prototype.data=function(t,e){if(this[0])return arguments.length<2?o.c.call(i,this[0],t):(o.c.call(i,this[0],t,e),this)},d.prototype.removeData=function(t){return this[0]&&Object(o.d)(this[0],t),this};var _=function(){return i.apply(this,arguments)};Object.defineProperty(_,"fn",{enumerable:!0,configurable:!0,get:function(){return i.fn},set:function(t){i.fn=t}});var b=function(){return _};e.a=b()},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return r});var i=n(1),o=function(t,e,n){for(var i in t=t||{},e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=e[i];i in t&&!n||(t[i]=o)}return t},r=function t(e){var n=1,o=!1;for("boolean"===typeof(e=e||{})&&(o=e,e=arguments[1]||{},n++);n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var a in r){var s=e[a],l=r[a],c=!1,u=void 0;"__proto__"!==a&&"constructor"!==a&&e!==l&&(o&&l&&(Object(i.k)(l)||(c=Array.isArray(l)))?(u=c?s&&Array.isArray(s)?s:[]:s&&Object(i.k)(s)?s:{},e[a]=t(o,u,l)):void 0!==l&&(e[a]=l))}}return e}},function(t,e,n){"use strict";t.exports=n(252)},function(t,e,n){"use strict";n.r(e),n.d(e,"ensureDefined",function(){return u}),n.d(e,"executeAsync",function(){return h}),n.d(e,"deferRender",function(){return g}),n.d(e,"deferUpdate",function(){return v}),n.d(e,"deferRenderer",function(){return y}),n.d(e,"deferUpdater",function(){return _}),n.d(e,"findBestMatches",function(){return b}),n.d(e,"splitPair",function(){return O}),n.d(e,"normalizeKey",function(){return x}),n.d(e,"denormalizeKey",function(){return S}),n.d(e,"pairToObject",function(){return w}),n.d(e,"getKeyHash",function(){return P}),n.d(e,"escapeRegExp",function(){return k}),n.d(e,"applyServerDecimalSeparator",function(){return E}),n.d(e,"noop",function(){return T}),n.d(e,"asyncNoop",function(){return I}),n.d(e,"grep",function(){return j}),n.d(e,"equalByValue",function(){return A});var i,o=n(50),r=n(55),a=n(16),s=n(37),l=n(9),c=n(1),u=function(t,e){return Object(c.d)(t)?t:e},h=function(t,e){var n=new a.a,i=e||this,o={promise:n.promise(),abort:function(){clearTimeout(r),n.rejectWith(i)}},r=(arguments[2]||setTimeout)(function(){var e=t.call(i);e&&e.done&&Object(c.h)(e.done)?e.done(function(){n.resolveWith(i)}):n.resolveWith(i)},"number"===typeof e?e:0);return o},d=[],p=[],f=[],m=function(t,e,n){if(i&&i!==t)return d.push(e),p.push(t),n=n||new a.a,f.push(n),n;var o=i,r=f.length;i=t;var s=e();return s||(f.length>r?s=a.c.apply(this,f.slice(r)):n&&n.resolve()),i=o,n&&s&&s.done&&s.done(n.resolve).fail(n.reject),!i&&d.length&&("render"===p.shift()?g:v)(d.shift(),f.shift()),s||Object(a.c)()},g=function(t,e){return m("render",t,e)},v=function(t,e){return m("update",t,e)},y=function(t){return function(){var e=this;return m("render",function(){return t.call(e)})}},_=function(t){return function(){var e=this;return m("update",function(){return t.call(e)})}},b=function(t,e,n){var i=[],o=0;return Object(l.a)(e,function(e,r){var a=0,s=n?n(r):r;Object(l.a)(t,function(t,e){var n=s[t];if(void 0!==n){if(!C(n,e))return a=-1,!1;a++}}),a<o||(a>o&&(i.length=0,o=a),i.push(r))}),i},C=function(t,e){if(Array.isArray(t)&&Array.isArray(e)){var n=!1;return Object(l.a)(t,function(t,i){if(i!==e[t])return n=!0,!1}),!n}return t===e},O=function(t){var e,n;switch(Object(c.q)(t)){case"string":return t.split(/\s+/,2);case"object":return[null!==(e=t.x)&&void 0!==e?e:t.h,null!==(n=t.y)&&void 0!==n?n:t.v];case"number":return[t];case"array":return t;default:return null}},x=function(t){var e=Object(c.o)(t)?t:t.toString(),n=e.match(/[^a-zA-Z0-9_]/g);return n&&Object(l.a)(n,function(t,n){e=e.replace(n,"__"+n.charCodeAt()+"__")}),e},S=function(t){var e=t.match(/__\d+__/g);return e&&e.forEach(function(e){var n=parseInt(e.replace("__",""));t=t.replace(e,String.fromCharCode(n))}),t},w=function(t,e){var n=O(t),i=e?parseFloat(n&&n[0]):parseInt(n&&n[0],10),o=e?parseFloat(n&&n[1]):parseInt(n&&n[1],10);return isFinite(i)||(i=0),isFinite(o)||(o=i),{h:i,v:o}},P=function(t){if(t instanceof r.a)return t.toString();if(Object(c.j)(t)||Array.isArray(t))try{var e=JSON.stringify(t);return"{}"===e?t:e}catch(n){return t}return t},k=function(t){return t.replace(/[[\]{}\-()*+?.\\^$|\s]/g,"\\$&")},E=function(t){var e=Object(o.a)().serverDecimalSeparator;return Object(c.d)(t)&&(t=t.toString().replace(".",e)),t},T=function(){},I=function(){return(new a.a).resolve().promise()},j=function(t,e,n){for(var i=[],o=!n,r=0;r<t.length;r++)!!e(t[r],r)===o&&i.push(t[r]);return i},M=function(t,e,n){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!A(t[i],e[i],n+1))return!1;return!0},D=function(t,e,n,i){for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&!A(t[o],e[o],n+1,i))return!1;for(var r in e)if(!(r in t))return!1;return!0},A=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return t=Object(s.d)(t,!0),e=Object(s.d)(e,!0),!!((i?t===e:t==e)||n>=3)||(Object(c.j)(t)&&Object(c.j)(e)?D(t,e,n,i):!(!Array.isArray(t)||!Array.isArray(e))&&M(t,e,n))}},function(t,e,n){"use strict";function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";var i=n(24),o=n(178),r=n(3),a=n(17),s=n(15),l=n(70),c=n(1),u=n(43),h=n(38),d=["pageX","pageY","screenX","screenY","clientX","clientY"],p=n(77),f=Object(s.d)(),m="dxEmptyEventType",g={mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},v={focusin:"focus",focusout:"blur"},y=["blur","focus","load"],_=["touchmove","wheel","mousewheel","touchstart"];function b(t,e){return!Object(c.p)(t)&&"#document"!==t.nodeName&&a.a.elementMatches(t,e)}var C,O,x=new WeakMap,S=0,w=function(){var t={};return o.a.add(function(e,n){t[e]=n}),{getField:function(e,n){return t[e]&&t[e][n]},callMethod:function(e,n,i,o){return t[e]&&t[e][n]&&t[e][n].apply(i,o)}}}(),P=Object(l.a)({on:E(D(R(function(t,e,n,i,o){j(t,e).addHandler(o,n,i)}))),one:E(D(function(t,e,n,i,o){P.on(t,e,n,i,function i(){P.off(t,e,n,i),o.apply(this,arguments)})})),off:E((O=R(function(t,e,n,i){j(t,e).removeHandler(i,n)}),function(t,e,n,i){"function"===typeof n&&(i=n,n=void 0),O(t,e,n,i)})),trigger:E(A(function(t,e,n){var i=e.type,o=j(t,e.type);if(w.callMethod(i,"trigger",t,[e,n]),o.callHandlers(e,n),!(w.getField(i,"noBubble")||e.isPropagationStopped()||-1!==y.indexOf(i))){var a=[];!function t(e){var n,i=null!==(n=e.parentNode)&&void 0!==n?n:e.host;i&&(a.push(i),t(i))}(t),a.push(f);for(var s=0;a[s]&&!e.isPropagationStopped();){j(a[s],e.type).callHandlers(Object(r.a)(e,{currentTarget:a[s]}),n),s++}}(t.nodeType||Object(c.p)(t))&&(w.callMethod(i,"_default",t,[e,n]),function(t,e){var n=v[t]||t;if(function(t,e){return"click"===t&&"a"===e.localName}(t,e))return;Object(c.h)(e[n])&&(C=t,e[n](),C=void 0)}(i,t))})),triggerHandler:E(A(function(t,e,n){j(t,e.type).callHandlers(e,n)}))});function k(t,e){var n=t[0];if(n)if(a.a.isNode(n)||Object(c.p)(n))e.apply(P,t);else{if(Object(c.o)(n)||!("length"in n))throw h.a.Error("E0025");var i=Array.prototype.slice.call(t,0);Array.prototype.forEach.call(n,function(t){i[0]=t,k(i,e)})}}function E(t){return function(){k(arguments,t)}}var T=Object(p.a)(function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return t=!0,!0}});f.addEventListener("test",null,e)}catch(n){}return t}),I=function t(e,n){return Object(c.p)(e)?t(e.document,n):e.contains?e.contains(n):!!(n.compareDocumentPosition(e)&n.DOCUMENT_POSITION_CONTAINS)};function j(t,e){var n=x.get(t),i=(e=e||"").split("."),o=i.slice(1),r=!!i[0];e=i[0]||m,n||(n={},x.set(t,n)),n[e]||(n[e]={handleObjects:[],nativeHandler:null});var s=n[e];return{addHandler:function(n,i,l){var c=function(i,o){var r,a,s=[i],c=i.currentTarget,u=i.relatedTarget;e in g&&(r=u&&c&&(u===c||I(c,u))),void 0!==o&&s.push(o),w.callMethod(e,"handle",t,[i,l]),r||(a=n.apply(c,s)),!1===a&&(i.preventDefault(),i.stopPropagation())},u={handler:n,wrappedHandler:function(e,n){if(!C||e.type!==C)if(e.data=l,e.delegateTarget=t,i)for(var o=e.target;o&&o!==t;)b(o,i)&&(e.currentTarget=o,c(e,n)),o=o.parentNode;else e.currentTarget=e.delegateTarget||e.target,c(e,n)},selector:i,type:e,data:l,namespace:o.join("."),namespaces:o,guid:++S};s.handleObjects.push(u);var h,d,p=1===s.handleObjects.length&&r;p&&(p=!w.callMethod(e,"setup",t,[l,o,n])),p&&(s.nativeHandler=(d=e,function(t,e){var n=j(this,d);t=P.Event(t),n.callHandlers(t,e)}),T()&&_.indexOf(e)>-1&&(h={passive:!1}),s.removeListener=a.a.listen(t,g[e]||e,s.nativeHandler,h)),w.callMethod(e,"add",t,[u])},removeHandler:function(i,a){var s=function(e){var r,s=n[e];s.handleObjects.length?(s.handleObjects=s.handleObjects.filter(function(n){var s=o.length&&!M(n.namespaces,o)||i&&n.handler!==i||a&&n.selector!==a;return s||(r=n.handler,w.callMethod(e,"remove",t,[n])),s}),!s.handleObjects.length&&e!==m&&(w.callMethod(e,"teardown",t,[o,r]),s.nativeHandler&&s.removeListener(),delete n[e])):delete n[e]};if(r)s(e);else for(var l in n)s(l);0===Object.keys(n).length&&x.delete(t)},callHandlers:function(t,e){var i=!1,r=function(n){i||o.length&&!M(n.namespaces,o)||(n.wrappedHandler(t,e),i=t.isImmediatePropagationStopped())};s.handleObjects.forEach(r),o.length&&n[m]&&n[m].handleObjects.forEach(r)}}}function M(t,e){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])<0)return!1;return!0}function D(t){return function(e,n,i,o,r){r||(r=o,o=void 0),"string"!==typeof i&&(o=i,i=void 0),r||"string"!==typeof n||(r=o||i,i=void 0,o=void 0),t(e,n,i,o,r)}}function A(t){return function(e,n,i){"string"===typeof n&&(n={type:n}),n.target||(n.target=e),n.currentTarget=e,n.delegateTarget||(n.delegateTarget=e),!n.type&&n.originalEvent&&(n.type=n.originalEvent.type),t(e,n instanceof P.Event?n:P.Event(n),i)}}function R(t){var e=function(e,n){if(n&&n.indexOf(" ")>-1){var i=Array.prototype.slice.call(arguments,0);n.split(" ").forEach(function(e){i[1]=e,t.apply(this,i)})}else t.apply(this,arguments)};return function(t,n){if("object"===typeof n){var i=Array.prototype.slice.call(arguments,0);for(var o in n)i[1]=o,i[i.length-1]=n[o],e.apply(this,i)}else e.apply(this,arguments)}}function B(t){return function(t){return null==t.which&&0===t.type.indexOf("key")}(t)?null!=t.charCode?t.charCode:t.keyCode:function(t){return!t.which&&void 0!==t.button&&/^(?:mouse|pointer|contextmenu|drag|drop)|click/.test(t.type)}(t)?{1:1,2:3,3:1,4:2}[t.button]:t.which}function L(t){t&&(P.Event=t,P.Event.prototype=t.prototype)}function N(t,e,n){Object.defineProperty(n||P.Event.prototype,t,{enumerable:!0,configurable:!0,get:function(){return this.originalEvent&&e(this.originalEvent)},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})}L(function(t){return P.Event=function(e,n){if(!(this instanceof P.Event))return new P.Event(e,n);e||(e={}),"string"===typeof e&&(e={type:e}),n||(n={}),t.call(this,e,n)},Object(i.a)(P.Event.prototype,{_propagationStopped:!1,_immediatePropagationStopped:!1,_defaultPrevented:!1,isPropagationStopped:function(){return!!(this._propagationStopped||this.originalEvent&&this.originalEvent.propagationStopped)},stopPropagation:function(){this._propagationStopped=!0,this.originalEvent&&this.originalEvent.stopPropagation()},isImmediatePropagationStopped:function(){return this._immediatePropagationStopped},stopImmediatePropagation:function(){this.stopPropagation(),this._immediatePropagationStopped=!0,this.originalEvent&&this.originalEvent.stopImmediatePropagation()},isDefaultPrevented:function(){return!!(this._defaultPrevented||this.originalEvent&&this.originalEvent.defaultPrevented)},preventDefault:function(){this._defaultPrevented=!0,this.originalEvent&&this.originalEvent.preventDefault()}}),P.Event}(function(t,e){var n;t instanceof P.Event||Object(s.f)()&&t instanceof f.Event||(null===(n=t.view)||void 0===n?void 0:n.Event)&&t instanceof t.view.Event?(this.originalEvent=t,this.type=t.type,this.currentTarget=void 0,Object.prototype.hasOwnProperty.call(t,"isTrusted")&&(this.isTrusted=t.isTrusted),this.timeStamp=t.timeStamp||Date.now()):Object(i.a)(this,t),N("which",B,this),0===t.type.indexOf("touch")&&(delete e.pageX,delete e.pageY),Object(i.a)(this,e),this.guid=++S})),["target","relatedTarget","delegateTarget","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","shiftKey","view","char","code","charCode","key","keyCode","button","buttons","offsetX","offsetY","pointerId","pointerType","targetTouches","toElement","touches"].forEach(function(t){return N(t,function(e){return e[t]})}),function(t){d.forEach(function(e){t(e,function(t){return function(t,e){if(e[t]&&!e.touches||!e.touches)return e[t];var n=e.touches.length?e.touches:e.changedTouches;return n.length?n[0][t]:void 0}(e,t)})},this)}(N);var z=Object(u.a)(),F=Object(u.a)();P.set=function(t){z.fire(),P.inject(t),L(t.Event),F.fire()},P.subscribeGlobal=function(){k(arguments,D(function(){var t=arguments;P.on.apply(this,t),z.add(function(){var e=Array.prototype.slice.call(t,0);e.splice(3,1),P.off.apply(this,e)}),F.add(function(){P.on.apply(this,t)})}))},P.forcePassiveFalseEventNames=_,P.passiveEventHandlersSupported=T;e.a=P},function(t,e,n){"use strict";var i=n(70),o=n(3),r=n(76),a=n(51),s=n(84),l=Object(o.a)(!0,{},{en:{Yes:"Yes",No:"No",Cancel:"Cancel",Close:"Close",Clear:"Clear",Done:"Done",Loading:"Loading...",Select:"Select...",Search:"Search",Back:"Back",OK:"OK","dxCollectionWidget-noDataText":"No data to display","dxDropDownEditor-selectLabel":"Select","validation-required":"Required","validation-required-formatted":"{0} is required","validation-numeric":"Value must be a number","validation-numeric-formatted":"{0} must be a number","validation-range":"Value is out of range","validation-range-formatted":"{0} is out of range","validation-stringLength":"The length of the value is not correct","validation-stringLength-formatted":"The length of {0} is not correct","validation-custom":"Value is invalid","validation-custom-formatted":"{0} is invalid","validation-async":"Value is invalid","validation-async-formatted":"{0} is invalid","validation-compare":"Values do not match","validation-compare-formatted":"{0} does not match","validation-pattern":"Value does not match pattern","validation-pattern-formatted":"{0} does not match pattern","validation-email":"Email is invalid","validation-email-formatted":"{0} is invalid","validation-mask":"Value is invalid","dxLookup-searchPlaceholder":"Minimum character number: {0}","dxList-pullingDownText":"Pull down to refresh...","dxList-pulledDownText":"Release to refresh...","dxList-refreshingText":"Refreshing...","dxList-pageLoadingText":"Loading...","dxList-nextButtonText":"More","dxList-selectAll":"Select All","dxListEditDecorator-delete":"Delete","dxListEditDecorator-more":"More","dxScrollView-pullingDownText":"Pull down to refresh...","dxScrollView-pulledDownText":"Release to refresh...","dxScrollView-refreshingText":"Refreshing...","dxScrollView-reachBottomText":"Loading...","dxDateBox-simulatedDataPickerTitleTime":"Select time","dxDateBox-simulatedDataPickerTitleDate":"Select date","dxDateBox-simulatedDataPickerTitleDateTime":"Select date and time","dxDateBox-validation-datetime":"Value must be a date or time","dxFileUploader-selectFile":"Select a file","dxFileUploader-dropFile":"or Drop a file here","dxFileUploader-bytes":"bytes","dxFileUploader-kb":"kb","dxFileUploader-Mb":"Mb","dxFileUploader-Gb":"Gb","dxFileUploader-upload":"Upload","dxFileUploader-uploaded":"Uploaded","dxFileUploader-readyToUpload":"Ready to upload","dxFileUploader-uploadAbortedMessage":"Upload cancelled","dxFileUploader-uploadFailedMessage":"Upload failed","dxFileUploader-invalidFileExtension":"File type is not allowed","dxFileUploader-invalidMaxFileSize":"File is too large","dxFileUploader-invalidMinFileSize":"File is too small","dxRangeSlider-ariaFrom":"From","dxRangeSlider-ariaTill":"Till","dxSwitch-switchedOnText":"ON","dxSwitch-switchedOffText":"OFF","dxForm-optionalMark":"optional","dxForm-requiredMessage":"{0} is required","dxNumberBox-invalidValueMessage":"Value must be a number","dxNumberBox-noDataText":"No data","dxDataGrid-columnChooserTitle":"Column Chooser","dxDataGrid-columnChooserEmptyText":"Drag a column here to hide it","dxDataGrid-groupContinuesMessage":"Continues on the next page","dxDataGrid-groupContinuedMessage":"Continued from the previous page","dxDataGrid-groupHeaderText":"Group by This Column","dxDataGrid-ungroupHeaderText":"Ungroup","dxDataGrid-ungroupAllText":"Ungroup All","dxDataGrid-editingEditRow":"Edit","dxDataGrid-editingSaveRowChanges":"Save","dxDataGrid-editingCancelRowChanges":"Cancel","dxDataGrid-editingDeleteRow":"Delete","dxDataGrid-editingUndeleteRow":"Undelete","dxDataGrid-editingConfirmDeleteMessage":"Are you sure you want to delete this record?","dxDataGrid-validationCancelChanges":"Cancel changes","dxDataGrid-groupPanelEmptyText":"Drag a column header here to group by that column","dxDataGrid-noDataText":"No data","dxDataGrid-searchPanelPlaceholder":"Search...","dxDataGrid-filterRowShowAllText":"(All)","dxDataGrid-filterRowResetOperationText":"Reset","dxDataGrid-filterRowOperationEquals":"Equals","dxDataGrid-filterRowOperationNotEquals":"Does not equal","dxDataGrid-filterRowOperationLess":"Less than","dxDataGrid-filterRowOperationLessOrEquals":"Less than or equal to","dxDataGrid-filterRowOperationGreater":"Greater than","dxDataGrid-filterRowOperationGreaterOrEquals":"Greater than or equal to","dxDataGrid-filterRowOperationStartsWith":"Starts with","dxDataGrid-filterRowOperationContains":"Contains","dxDataGrid-filterRowOperationNotContains":"Does not contain","dxDataGrid-filterRowOperationEndsWith":"Ends with","dxDataGrid-filterRowOperationBetween":"Between","dxDataGrid-filterRowOperationBetweenStartText":"Start","dxDataGrid-filterRowOperationBetweenEndText":"End","dxDataGrid-applyFilterText":"Apply filter","dxDataGrid-trueText":"true","dxDataGrid-falseText":"false","dxDataGrid-sortingAscendingText":"Sort Ascending","dxDataGrid-sortingDescendingText":"Sort Descending","dxDataGrid-sortingClearText":"Clear Sorting","dxDataGrid-editingSaveAllChanges":"Save changes","dxDataGrid-editingCancelAllChanges":"Discard changes","dxDataGrid-editingAddRow":"Add a row","dxDataGrid-summaryMin":"Min: {0}","dxDataGrid-summaryMinOtherColumn":"Min of {1} is {0}","dxDataGrid-summaryMax":"Max: {0}","dxDataGrid-summaryMaxOtherColumn":"Max of {1} is {0}","dxDataGrid-summaryAvg":"Avg: {0}","dxDataGrid-summaryAvgOtherColumn":"Avg of {1} is {0}","dxDataGrid-summarySum":"Sum: {0}","dxDataGrid-summarySumOtherColumn":"Sum of {1} is {0}","dxDataGrid-summaryCount":"Count: {0}","dxDataGrid-columnFixingFix":"Fix","dxDataGrid-columnFixingUnfix":"Unfix","dxDataGrid-columnFixingLeftPosition":"To the left","dxDataGrid-columnFixingRightPosition":"To the right","dxDataGrid-exportTo":"Export","dxDataGrid-exportToExcel":"Export to Excel file","dxDataGrid-exporting":"Exporting...","dxDataGrid-excelFormat":"Excel file","dxDataGrid-selectedRows":"Selected rows","dxDataGrid-exportSelectedRows":"Export selected rows to {0}","dxDataGrid-exportAll":"Export all data to {0}","dxDataGrid-headerFilterLabel":"Filter options","dxDataGrid-headerFilterIndicatorLabel":"Show filter options for column '{0}'","dxDataGrid-headerFilterEmptyValue":"(Blanks)","dxDataGrid-headerFilterOK":"OK","dxDataGrid-headerFilterCancel":"Cancel","dxDataGrid-ariaAdaptiveCollapse":"Hide additional data","dxDataGrid-ariaAdaptiveExpand":"Display additional data","dxDataGrid-ariaColumn":"Column","dxDataGrid-ariaValue":"Value","dxDataGrid-ariaFilterCell":"Filter cell","dxDataGrid-ariaCollapse":"Collapse","dxDataGrid-ariaExpand":"Expand","dxDataGrid-ariaDataGrid":"Data grid","dxDataGrid-ariaSearchInGrid":"Search in the data grid","dxDataGrid-ariaSelectAll":"Select all","dxDataGrid-ariaSelectRow":"Select row","dxDataGrid-ariaToolbar":"Data grid toolbar","dxDataGrid-filterBuilderPopupTitle":"Filter Builder","dxDataGrid-filterPanelCreateFilter":"Create Filter","dxDataGrid-filterPanelClearFilter":"Clear","dxDataGrid-filterPanelFilterEnabledHint":"Enable the filter","dxTreeList-ariaTreeList":"Tree list","dxTreeList-ariaSearchInGrid":"Search in the tree list","dxTreeList-ariaToolbar":"Tree list toolbar","dxTreeList-editingAddRowToNode":"Add","dxPager-infoText":"Page {0} of {1} ({2} items)","dxPager-pagesCountText":"of","dxPager-pageSize":"Items per page: {0}","dxPager-pageSizesAllText":"All","dxPager-page":"Page {0}","dxPager-prevPage":"Previous Page","dxPager-nextPage":"Next Page","dxPager-ariaLabel":"Page Navigation","dxPivotGrid-grandTotal":"Grand Total","dxPivotGrid-total":"{0} Total","dxPivotGrid-fieldChooserTitle":"Field Chooser","dxPivotGrid-showFieldChooser":"Show Field Chooser","dxPivotGrid-expandAll":"Expand All","dxPivotGrid-collapseAll":"Collapse All","dxPivotGrid-sortColumnBySummary":'Sort "{0}" by This Column',"dxPivotGrid-sortRowBySummary":'Sort "{0}" by This Row',"dxPivotGrid-removeAllSorting":"Remove All Sorting","dxPivotGrid-dataNotAvailable":"N/A","dxPivotGrid-rowFields":"Row Fields","dxPivotGrid-columnFields":"Column Fields","dxPivotGrid-dataFields":"Data Fields","dxPivotGrid-filterFields":"Filter Fields","dxPivotGrid-allFields":"All Fields","dxPivotGrid-columnFieldArea":"Drop Column Fields Here","dxPivotGrid-dataFieldArea":"Drop Data Fields Here","dxPivotGrid-rowFieldArea":"Drop Row Fields Here","dxPivotGrid-filterFieldArea":"Drop Filter Fields Here","dxScheduler-editorLabelTitle":"Subject","dxScheduler-editorLabelStartDate":"Start Date","dxScheduler-editorLabelEndDate":"End Date","dxScheduler-editorLabelDescription":"Description","dxScheduler-editorLabelRecurrence":"Repeat","dxScheduler-openAppointment":"Open appointment","dxScheduler-recurrenceNever":"Never","dxScheduler-recurrenceMinutely":"Every minute","dxScheduler-recurrenceHourly":"Hourly","dxScheduler-recurrenceDaily":"Daily","dxScheduler-recurrenceWeekly":"Weekly","dxScheduler-recurrenceMonthly":"Monthly","dxScheduler-recurrenceYearly":"Yearly","dxScheduler-recurrenceRepeatEvery":"Repeat Every","dxScheduler-recurrenceRepeatOn":"Repeat On","dxScheduler-recurrenceEnd":"End repeat","dxScheduler-recurrenceAfter":"After","dxScheduler-recurrenceOn":"On","dxScheduler-recurrenceRepeatMinutely":"minute(s)","dxScheduler-recurrenceRepeatHourly":"hour(s)","dxScheduler-recurrenceRepeatDaily":"day(s)","dxScheduler-recurrenceRepeatWeekly":"week(s)","dxScheduler-recurrenceRepeatMonthly":"month(s)","dxScheduler-recurrenceRepeatYearly":"year(s)","dxScheduler-switcherDay":"Day","dxScheduler-switcherWeek":"Week","dxScheduler-switcherWorkWeek":"Work Week","dxScheduler-switcherMonth":"Month","dxScheduler-switcherAgenda":"Agenda","dxScheduler-switcherTimelineDay":"Timeline Day","dxScheduler-switcherTimelineWeek":"Timeline Week","dxScheduler-switcherTimelineWorkWeek":"Timeline Work Week","dxScheduler-switcherTimelineMonth":"Timeline Month","dxScheduler-recurrenceRepeatOnDate":"on date","dxScheduler-recurrenceRepeatCount":"occurrence(s)","dxScheduler-allDay":"All day","dxScheduler-confirmRecurrenceEditMessage":"Do you want to edit only this appointment or the whole series?","dxScheduler-confirmRecurrenceDeleteMessage":"Do you want to delete only this appointment or the whole series?","dxScheduler-confirmRecurrenceEditSeries":"Edit series","dxScheduler-confirmRecurrenceDeleteSeries":"Delete series","dxScheduler-confirmRecurrenceEditOccurrence":"Edit appointment","dxScheduler-confirmRecurrenceDeleteOccurrence":"Delete appointment","dxScheduler-noTimezoneTitle":"No timezone","dxScheduler-moreAppointments":"{0} more","dxCalendar-todayButtonText":"Today","dxCalendar-ariaWidgetName":"Calendar","dxColorView-ariaRed":"Red","dxColorView-ariaGreen":"Green","dxColorView-ariaBlue":"Blue","dxColorView-ariaAlpha":"Transparency","dxColorView-ariaHex":"Color code","dxTagBox-selected":"{0} selected","dxTagBox-allSelected":"All selected ({0})","dxTagBox-moreSelected":"{0} more","vizExport-printingButtonText":"Print","vizExport-titleMenuText":"Exporting/Printing","vizExport-exportButtonText":"{0} file","dxFilterBuilder-and":"And","dxFilterBuilder-or":"Or","dxFilterBuilder-notAnd":"Not And","dxFilterBuilder-notOr":"Not Or","dxFilterBuilder-addCondition":"Add Condition","dxFilterBuilder-addGroup":"Add Group","dxFilterBuilder-enterValueText":"<enter a value>","dxFilterBuilder-filterOperationEquals":"Equals","dxFilterBuilder-filterOperationNotEquals":"Does not equal","dxFilterBuilder-filterOperationLess":"Is less than","dxFilterBuilder-filterOperationLessOrEquals":"Is less than or equal to","dxFilterBuilder-filterOperationGreater":"Is greater than","dxFilterBuilder-filterOperationGreaterOrEquals":"Is greater than or equal to","dxFilterBuilder-filterOperationStartsWith":"Starts with","dxFilterBuilder-filterOperationContains":"Contains","dxFilterBuilder-filterOperationNotContains":"Does not contain","dxFilterBuilder-filterOperationEndsWith":"Ends with","dxFilterBuilder-filterOperationIsBlank":"Is blank","dxFilterBuilder-filterOperationIsNotBlank":"Is not blank","dxFilterBuilder-filterOperationBetween":"Is between","dxFilterBuilder-filterOperationAnyOf":"Is any of","dxFilterBuilder-filterOperationNoneOf":"Is none of","dxHtmlEditor-dialogColorCaption":"Change Font Color","dxHtmlEditor-dialogBackgroundCaption":"Change Background Color","dxHtmlEditor-dialogLinkCaption":"Add Link","dxHtmlEditor-dialogLinkUrlField":"URL","dxHtmlEditor-dialogLinkTextField":"Text","dxHtmlEditor-dialogLinkTargetField":"Open link in new window","dxHtmlEditor-dialogImageCaption":"Add Image","dxHtmlEditor-dialogImageUrlField":"URL","dxHtmlEditor-dialogImageAltField":"Alternate text","dxHtmlEditor-dialogImageWidthField":"Width (px)","dxHtmlEditor-dialogImageHeightField":"Height (px)","dxHtmlEditor-dialogInsertTableRowsField":"Rows","dxHtmlEditor-dialogInsertTableColumnsField":"Columns","dxHtmlEditor-dialogInsertTableCaption":"Insert Table","dxHtmlEditor-dialogUpdateImageCaption":"Update Image","dxHtmlEditor-dialogImageUpdateButton":"Update","dxHtmlEditor-dialogImageAddButton":"Add","dxHtmlEditor-dialogImageSpecifyUrl":"From the Web","dxHtmlEditor-dialogImageSelectFile":"From This Device","dxHtmlEditor-dialogImageKeepAspectRatio":"Keep Aspect Ratio","dxHtmlEditor-dialogImageEncodeToBase64":"Encode to Base64","dxHtmlEditor-heading":"Heading","dxHtmlEditor-normalText":"Normal text","dxHtmlEditor-background":"Background Color","dxHtmlEditor-bold":"Bold","dxHtmlEditor-color":"Font Color","dxHtmlEditor-font":"Font","dxHtmlEditor-italic":"Italic","dxHtmlEditor-link":"Add Link","dxHtmlEditor-image":"Add Image","dxHtmlEditor-size":"Size","dxHtmlEditor-strike":"Strikethrough","dxHtmlEditor-subscript":"Subscript","dxHtmlEditor-superscript":"Superscript","dxHtmlEditor-underline":"Underline","dxHtmlEditor-blockquote":"Blockquote","dxHtmlEditor-header":"Header","dxHtmlEditor-increaseIndent":"Increase Indent","dxHtmlEditor-decreaseIndent":"Decrease Indent","dxHtmlEditor-orderedList":"Ordered List","dxHtmlEditor-bulletList":"Bullet List","dxHtmlEditor-alignLeft":"Align Left","dxHtmlEditor-alignCenter":"Align Center","dxHtmlEditor-alignRight":"Align Right","dxHtmlEditor-alignJustify":"Align Justify","dxHtmlEditor-codeBlock":"Code Block","dxHtmlEditor-variable":"Add Variable","dxHtmlEditor-undo":"Undo","dxHtmlEditor-redo":"Redo","dxHtmlEditor-clear":"Clear Formatting","dxHtmlEditor-insertTable":"Insert Table","dxHtmlEditor-insertHeaderRow":"Insert Header Row","dxHtmlEditor-insertRowAbove":"Insert Row Above","dxHtmlEditor-insertRowBelow":"Insert Row Below","dxHtmlEditor-insertColumnLeft":"Insert Column Left","dxHtmlEditor-insertColumnRight":"Insert Column Right","dxHtmlEditor-deleteColumn":"Delete Column","dxHtmlEditor-deleteRow":"Delete Row","dxHtmlEditor-deleteTable":"Delete Table","dxHtmlEditor-cellProperties":"Cell Properties","dxHtmlEditor-tableProperties":"Table Properties","dxHtmlEditor-insert":"Insert","dxHtmlEditor-delete":"Delete","dxHtmlEditor-border":"Border","dxHtmlEditor-style":"Style","dxHtmlEditor-width":"Width","dxHtmlEditor-height":"Height","dxHtmlEditor-borderColor":"Color","dxHtmlEditor-tableBackground":"Background","dxHtmlEditor-dimensions":"Dimensions","dxHtmlEditor-alignment":"Alignment","dxHtmlEditor-horizontal":"Horizontal","dxHtmlEditor-vertical":"Vertical","dxHtmlEditor-paddingVertical":"Vertical Padding","dxHtmlEditor-paddingHorizontal":"Horizontal Padding","dxHtmlEditor-pixels":"Pixels","dxHtmlEditor-list":"List","dxHtmlEditor-ordered":"Ordered","dxHtmlEditor-bullet":"Bullet","dxHtmlEditor-align":"Align","dxHtmlEditor-center":"Center","dxHtmlEditor-left":"Left","dxHtmlEditor-right":"Right","dxHtmlEditor-indent":"Indent","dxHtmlEditor-justify":"Justify","dxFileManager-newDirectoryName":"Untitled directory","dxFileManager-rootDirectoryName":"Files","dxFileManager-errorNoAccess":"Access Denied. Operation could not be completed.","dxFileManager-errorDirectoryExistsFormat":"Directory '{0}' already exists.","dxFileManager-errorFileExistsFormat":"File '{0}' already exists.","dxFileManager-errorFileNotFoundFormat":"File '{0}' not found.","dxFileManager-errorDirectoryNotFoundFormat":"Directory '{0}' not found.","dxFileManager-errorWrongFileExtension":"File extension is not allowed.","dxFileManager-errorMaxFileSizeExceeded":"File size exceeds the maximum allowed size.","dxFileManager-errorInvalidSymbols":"This name contains invalid characters.","dxFileManager-errorDefault":"Unspecified error.","dxFileManager-errorDirectoryOpenFailed":"The directory cannot be opened","dxFileManager-commandCreate":"New directory","dxFileManager-commandRename":"Rename","dxFileManager-commandMove":"Move to","dxFileManager-commandCopy":"Copy to","dxFileManager-commandDelete":"Delete","dxFileManager-commandDownload":"Download","dxFileManager-commandUpload":"Upload files","dxFileManager-commandRefresh":"Refresh","dxFileManager-commandThumbnails":"Thumbnails View","dxFileManager-commandDetails":"Details View","dxFileManager-commandClearSelection":"Clear selection","dxFileManager-commandShowNavPane":"Toggle navigation pane","dxFileManager-dialogDirectoryChooserMoveTitle":"Move to","dxFileManager-dialogDirectoryChooserMoveButtonText":"Move","dxFileManager-dialogDirectoryChooserCopyTitle":"Copy to","dxFileManager-dialogDirectoryChooserCopyButtonText":"Copy","dxFileManager-dialogRenameItemTitle":"Rename","dxFileManager-dialogRenameItemButtonText":"Save","dxFileManager-dialogCreateDirectoryTitle":"New directory","dxFileManager-dialogCreateDirectoryButtonText":"Create","dxFileManager-dialogDeleteItemTitle":"Delete","dxFileManager-dialogDeleteItemButtonText":"Delete","dxFileManager-dialogDeleteItemSingleItemConfirmation":"Are you sure you want to delete {0}?","dxFileManager-dialogDeleteItemMultipleItemsConfirmation":"Are you sure you want to delete {0} items?","dxFileManager-dialogButtonCancel":"Cancel","dxFileManager-editingCreateSingleItemProcessingMessage":"Creating a directory inside {0}","dxFileManager-editingCreateSingleItemSuccessMessage":"Created a directory inside {0}","dxFileManager-editingCreateSingleItemErrorMessage":"Directory was not created","dxFileManager-editingCreateCommonErrorMessage":"Directory was not created","dxFileManager-editingRenameSingleItemProcessingMessage":"Renaming an item inside {0}","dxFileManager-editingRenameSingleItemSuccessMessage":"Renamed an item inside {0}","dxFileManager-editingRenameSingleItemErrorMessage":"Item was not renamed","dxFileManager-editingRenameCommonErrorMessage":"Item was not renamed","dxFileManager-editingDeleteSingleItemProcessingMessage":"Deleting an item from {0}","dxFileManager-editingDeleteMultipleItemsProcessingMessage":"Deleting {0} items from {1}","dxFileManager-editingDeleteSingleItemSuccessMessage":"Deleted an item from {0}","dxFileManager-editingDeleteMultipleItemsSuccessMessage":"Deleted {0} items from {1}","dxFileManager-editingDeleteSingleItemErrorMessage":"Item was not deleted","dxFileManager-editingDeleteMultipleItemsErrorMessage":"{0} items were not deleted","dxFileManager-editingDeleteCommonErrorMessage":"Some items were not deleted","dxFileManager-editingMoveSingleItemProcessingMessage":"Moving an item to {0}","dxFileManager-editingMoveMultipleItemsProcessingMessage":"Moving {0} items to {1}","dxFileManager-editingMoveSingleItemSuccessMessage":"Moved an item to {0}","dxFileManager-editingMoveMultipleItemsSuccessMessage":"Moved {0} items to {1}","dxFileManager-editingMoveSingleItemErrorMessage":"Item was not moved","dxFileManager-editingMoveMultipleItemsErrorMessage":"{0} items were not moved","dxFileManager-editingMoveCommonErrorMessage":"Some items were not moved","dxFileManager-editingCopySingleItemProcessingMessage":"Copying an item to {0}","dxFileManager-editingCopyMultipleItemsProcessingMessage":"Copying {0} items to {1}","dxFileManager-editingCopySingleItemSuccessMessage":"Copied an item to {0}","dxFileManager-editingCopyMultipleItemsSuccessMessage":"Copied {0} items to {1}","dxFileManager-editingCopySingleItemErrorMessage":"Item was not copied","dxFileManager-editingCopyMultipleItemsErrorMessage":"{0} items were not copied","dxFileManager-editingCopyCommonErrorMessage":"Some items were not copied","dxFileManager-editingUploadSingleItemProcessingMessage":"Uploading an item to {0}","dxFileManager-editingUploadMultipleItemsProcessingMessage":"Uploading {0} items to {1}","dxFileManager-editingUploadSingleItemSuccessMessage":"Uploaded an item to {0}","dxFileManager-editingUploadMultipleItemsSuccessMessage":"Uploaded {0} items to {1}","dxFileManager-editingUploadSingleItemErrorMessage":"Item was not uploaded","dxFileManager-editingUploadMultipleItemsErrorMessage":"{0} items were not uploaded","dxFileManager-editingUploadCanceledMessage":"Canceled","dxFileManager-editingDownloadSingleItemErrorMessage":"Item was not downloaded","dxFileManager-editingDownloadMultipleItemsErrorMessage":"{0} items were not downloaded","dxFileManager-listDetailsColumnCaptionName":"Name","dxFileManager-listDetailsColumnCaptionDateModified":"Date Modified","dxFileManager-listDetailsColumnCaptionFileSize":"File Size","dxFileManager-listThumbnailsTooltipTextSize":"Size","dxFileManager-listThumbnailsTooltipTextDateModified":"Date Modified","dxFileManager-notificationProgressPanelTitle":"Progress","dxFileManager-notificationProgressPanelEmptyListText":"No operations","dxFileManager-notificationProgressPanelOperationCanceled":"Canceled","dxDiagram-categoryGeneral":"General","dxDiagram-categoryFlowchart":"Flowchart","dxDiagram-categoryOrgChart":"Org Chart","dxDiagram-categoryContainers":"Containers","dxDiagram-categoryCustom":"Custom","dxDiagram-commandExportToSvg":"Export to SVG","dxDiagram-commandExportToPng":"Export to PNG","dxDiagram-commandExportToJpg":"Export to JPEG","dxDiagram-commandUndo":"Undo","dxDiagram-commandRedo":"Redo","dxDiagram-commandFontName":"Font Name","dxDiagram-commandFontSize":"Font Size","dxDiagram-commandBold":"Bold","dxDiagram-commandItalic":"Italic","dxDiagram-commandUnderline":"Underline","dxDiagram-commandTextColor":"Font Color","dxDiagram-commandLineColor":"Line Color","dxDiagram-commandLineWidth":"Line Width","dxDiagram-commandLineStyle":"Line Style","dxDiagram-commandLineStyleSolid":"Solid","dxDiagram-commandLineStyleDotted":"Dotted","dxDiagram-commandLineStyleDashed":"Dashed","dxDiagram-commandFillColor":"Fill Color","dxDiagram-commandAlignLeft":"Align Left","dxDiagram-commandAlignCenter":"Align Center","dxDiagram-commandAlignRight":"Align Right","dxDiagram-commandConnectorLineType":"Connector Line Type","dxDiagram-commandConnectorLineStraight":"Straight","dxDiagram-commandConnectorLineOrthogonal":"Orthogonal","dxDiagram-commandConnectorLineStart":"Connector Line Start","dxDiagram-commandConnectorLineEnd":"Connector Line End","dxDiagram-commandConnectorLineNone":"None","dxDiagram-commandConnectorLineArrow":"Arrow","dxDiagram-commandFullscreen":"Full Screen","dxDiagram-commandUnits":"Units","dxDiagram-commandPageSize":"Page Size","dxDiagram-commandPageOrientation":"Page Orientation","dxDiagram-commandPageOrientationLandscape":"Landscape","dxDiagram-commandPageOrientationPortrait":"Portrait","dxDiagram-commandPageColor":"Page Color","dxDiagram-commandShowGrid":"Show Grid","dxDiagram-commandSnapToGrid":"Snap to Grid","dxDiagram-commandGridSize":"Grid Size","dxDiagram-commandZoomLevel":"Zoom Level","dxDiagram-commandAutoZoom":"Auto Zoom","dxDiagram-commandFitToContent":"Fit to Content","dxDiagram-commandFitToWidth":"Fit to Width","dxDiagram-commandAutoZoomByContent":"Auto Zoom by Content","dxDiagram-commandAutoZoomByWidth":"Auto Zoom by Width","dxDiagram-commandSimpleView":"Simple View","dxDiagram-commandCut":"Cut","dxDiagram-commandCopy":"Copy","dxDiagram-commandPaste":"Paste","dxDiagram-commandSelectAll":"Select All","dxDiagram-commandDelete":"Delete","dxDiagram-commandBringToFront":"Bring to Front","dxDiagram-commandSendToBack":"Send to Back","dxDiagram-commandLock":"Lock","dxDiagram-commandUnlock":"Unlock","dxDiagram-commandInsertShapeImage":"Insert Image...","dxDiagram-commandEditShapeImage":"Change Image...","dxDiagram-commandDeleteShapeImage":"Delete Image","dxDiagram-commandLayoutLeftToRight":"Left-to-right","dxDiagram-commandLayoutRightToLeft":"Right-to-left","dxDiagram-commandLayoutTopToBottom":"Top-to-bottom","dxDiagram-commandLayoutBottomToTop":"Bottom-to-top","dxDiagram-unitIn":"in","dxDiagram-unitCm":"cm","dxDiagram-unitPx":"px","dxDiagram-dialogButtonOK":"OK","dxDiagram-dialogButtonCancel":"Cancel","dxDiagram-dialogInsertShapeImageTitle":"Insert Image","dxDiagram-dialogEditShapeImageTitle":"Change Image","dxDiagram-dialogEditShapeImageSelectButton":"Select image","dxDiagram-dialogEditShapeImageLabelText":"or drop a file here","dxDiagram-uiExport":"Export","dxDiagram-uiProperties":"Properties","dxDiagram-uiSettings":"Settings","dxDiagram-uiShowToolbox":"Show Toolbox","dxDiagram-uiSearch":"Search","dxDiagram-uiStyle":"Style","dxDiagram-uiLayout":"Layout","dxDiagram-uiLayoutTree":"Tree","dxDiagram-uiLayoutLayered":"Layered","dxDiagram-uiDiagram":"Diagram","dxDiagram-uiText":"Text","dxDiagram-uiObject":"Object","dxDiagram-uiConnector":"Connector","dxDiagram-uiPage":"Page","dxDiagram-shapeText":"Text","dxDiagram-shapeRectangle":"Rectangle","dxDiagram-shapeEllipse":"Ellipse","dxDiagram-shapeCross":"Cross","dxDiagram-shapeTriangle":"Triangle","dxDiagram-shapeDiamond":"Diamond","dxDiagram-shapeHeart":"Heart","dxDiagram-shapePentagon":"Pentagon","dxDiagram-shapeHexagon":"Hexagon","dxDiagram-shapeOctagon":"Octagon","dxDiagram-shapeStar":"Star","dxDiagram-shapeArrowLeft":"Left Arrow","dxDiagram-shapeArrowUp":"Up Arrow","dxDiagram-shapeArrowRight":"Right Arrow","dxDiagram-shapeArrowDown":"Down Arrow","dxDiagram-shapeArrowUpDown":"Up Down Arrow","dxDiagram-shapeArrowLeftRight":"Left Right Arrow","dxDiagram-shapeProcess":"Process","dxDiagram-shapeDecision":"Decision","dxDiagram-shapeTerminator":"Terminator","dxDiagram-shapePredefinedProcess":"Predefined Process","dxDiagram-shapeDocument":"Document","dxDiagram-shapeMultipleDocuments":"Multiple Documents","dxDiagram-shapeManualInput":"Manual Input","dxDiagram-shapePreparation":"Preparation","dxDiagram-shapeData":"Data","dxDiagram-shapeDatabase":"Database","dxDiagram-shapeHardDisk":"Hard Disk","dxDiagram-shapeInternalStorage":"Internal Storage","dxDiagram-shapePaperTape":"Paper Tape","dxDiagram-shapeManualOperation":"Manual Operation","dxDiagram-shapeDelay":"Delay","dxDiagram-shapeStoredData":"Stored Data","dxDiagram-shapeDisplay":"Display","dxDiagram-shapeMerge":"Merge","dxDiagram-shapeConnector":"Connector","dxDiagram-shapeOr":"Or","dxDiagram-shapeSummingJunction":"Summing Junction","dxDiagram-shapeContainerDefaultText":"Container","dxDiagram-shapeVerticalContainer":"Vertical Container","dxDiagram-shapeHorizontalContainer":"Horizontal Container","dxDiagram-shapeCardDefaultText":"Person's Name","dxDiagram-shapeCardWithImageOnLeft":"Card with Image on the Left","dxDiagram-shapeCardWithImageOnTop":"Card with Image on the Top","dxDiagram-shapeCardWithImageOnRight":"Card with Image on the Right","dxGantt-dialogTitle":"Title","dxGantt-dialogStartTitle":"Start","dxGantt-dialogEndTitle":"End","dxGantt-dialogProgressTitle":"Progress","dxGantt-dialogResourcesTitle":"Resources","dxGantt-dialogResourceManagerTitle":"Resource Manager","dxGantt-dialogTaskDetailsTitle":"Task Details","dxGantt-dialogEditResourceListHint":"Edit Resource List","dxGantt-dialogEditNoResources":"No resources","dxGantt-dialogButtonAdd":"Add","dxGantt-contextMenuNewTask":"New Task","dxGantt-contextMenuNewSubtask":"New Subtask","dxGantt-contextMenuDeleteTask":"Delete Task","dxGantt-contextMenuDeleteDependency":"Delete Dependency","dxGantt-dialogTaskDeleteConfirmation":"Deleting a task also deletes all its dependencies and subtasks. Are you sure you want to delete this task?","dxGantt-dialogDependencyDeleteConfirmation":"Are you sure you want to delete the dependency from the task?","dxGantt-dialogResourcesDeleteConfirmation":"Deleting a resource also deletes it from tasks to which this resource is assigned. Are you sure you want to delete these resources? Resources: {0}","dxGantt-dialogConstraintCriticalViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. How would you like to proceed?","dxGantt-dialogCancelOperationMessage":"Cancel the operation","dxGantt-dialogDeleteDependencyMessage":"Delete the dependency","dxGantt-dialogMoveTaskAndKeepDependencyMessage":"Move the task and keep the dependency","dxGantt-dialogConstraintCriticalViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. How would you like to proceed?","dxGantt-dialogDeleteDependenciesMessage":"Delete the dependency relations","dxGantt-dialogMoveTaskAndKeepDependenciesMessage":"Move the task and keep the dependencies","dxGantt-undo":"Undo","dxGantt-redo":"Redo","dxGantt-expandAll":"Expand All","dxGantt-collapseAll":"Collapse All","dxGantt-addNewTask":"Add New Task","dxGantt-deleteSelectedTask":"Delete Selected Task","dxGantt-zoomIn":"Zoom In","dxGantt-zoomOut":"Zoom Out","dxGantt-fullScreen":"Full Screen","dxGantt-quarter":"Q{0}","dxGantt-sortingAscendingText":"Sort Ascending","dxGantt-sortingDescendingText":"Sort Descending","dxGantt-sortingClearText":"Clear Sorting","dxGantt-showResources":"Show Resources","dxGantt-showDependencies":"Show Dependencies","dxGantt-dialogStartDateValidation":"Start date must be after {0}","dxGantt-dialogEndDateValidation":"End date must be after {0}"}}),c={},u=Object(i.a)({engine:function(){return"base"},_dictionary:l,load:function(t){Object(o.a)(!0,this._dictionary,t)},_localizablePrefix:"@",setup:function(t){this._localizablePrefix=t},localizeString:function(t){var e=this,n=new RegExp("(^|[^a-zA-Z_0-9"+e._localizablePrefix+"-]+)("+e._localizablePrefix+"{1,2})([a-zA-Z_0-9-]+)","g"),i=e._localizablePrefix+e._localizablePrefix;return t.replace(n,function(t,n,o,r){var s,l=e._localizablePrefix+r;return o!==i&&(s=e.format(r)),s||(c[r]=Object(a.d)(r)),n+(s||l)})},getMessagesByLocales:function(){return this._dictionary},getDictionary:function(t){return t?c:Object(o.a)({},c,this.getMessagesByLocales()[s.a.locale()])},getFormatter:function(t){return this._getFormatterBase(t)||this._getFormatterBase(t,"en")},_getFormatterBase:function(t,e){var n=this,i=s.a.getValueByClosestLocale(function(e){return function(t,e){return t[e]||{}}(n._dictionary,e)[t]});if(i)return function(){var t=1===arguments.length&&Array.isArray(arguments[0])?arguments[0].slice(0):Array.prototype.slice.call(arguments,0);return t.unshift(i),r.b.apply(this,t)}},format:function(t){var e=this.getFormatter(t),n=Array.prototype.slice.call(arguments,1);return e&&e.apply(this,n)||""}});e.a=u},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var i=function(t,e){if(Array.isArray(t))return t.map(e);var n=[];for(var i in t)n.push(e(t[i],i));return n},o=function(t,e){if(t){if("length"in t)for(var n=0;n<t.length&&!1!==e.call(t[n],n,t[n]);n++);else for(var i in t)if(!1===e.call(t[i],i,t[i]))break;return t}}},function(t,e,n){"use strict";var i=n(2),o=n(38),r=function t(e,n){if(!n)throw o.a.Error("E0017");return Array.isArray(e)?e.map(function(e){return t(e,n)}).join(" "):-1!==e.indexOf(" ")?t(e.split(/\s+/g),n):"".concat(e,".").concat(n)},a=n(7),s=n(9),l=n(3),c=n(83);n.d(e,"e",function(){return g}),n.d(e,"k",function(){return y}),n.d(e,"j",function(){return _}),n.d(e,"l",function(){return b}),n.d(e,"c",function(){return C}),n.d(e,"d",function(){return O}),n.d(e,"h",function(){return x}),n.d(e,"m",function(){return w}),n.d(e,"b",function(){return P}),n.d(e,"f",function(){return k}),n.d(e,"n",function(){return E}),n.d(e,"g",function(){return T}),n.d(e,"a",function(){return I}),n.d(e,"i",function(){return j});var u={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space",f:"F",a:"A","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift"},h={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",70:"F",65:"A",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},d={dx:/^dx/i,mouse:/(mouse|wheel)/i,touch:/^touch/i,keyboard:/^key/i,pointer:/^(ms)?pointer/i},p=function(t){return t},f=function(t){return"dx"===g(t)},m=function(t){return"touch"===g(t)},g=function(t){var e=t.type,n="other";return Object(s.a)(d,function(t){if(this.test(e))return n=t,!1}),n},v=function(t){return"pointer"===g(t)},y=function(t){return function(t){return"mouse"===g(t)}(t)||(v(t)||f(t))&&"mouse"===t.pointerType},_=function(t){return t&&"dxmousewheel"===t.type},b=function(t){return m(t)||(v(t)||f(t))&&"touch"===t.pointerType},C=function(t){return{x:t.pageX,y:t.pageY,time:t.timeStamp}},O=function(t,e){return{x:e.x-t.x,y:e.y-t.y,time:e.time-t.time||1}},x=function(t){var e=t.originalEvent,n=t.pointers;return m(t)?(e.touches||[]).length:f(t)?(n||[]).length:0},S=!1,w=function(t){if(S)return!0;var e=t.target,n=Object(i.a)(e),o=(null===e||void 0===e?void 0:e.isContentEditable)||(null===e||void 0===e?void 0:e.hasAttribute("contenteditable")),r=n.is("input, textarea, select")||o;return _(t)?!(n.is("textarea")&&n.hasClass("dx-texteditor-input")||o)&&(n.is("input[type='number'], textarea, select")&&n.is(":focus")):y(t)?r||t.which>1:b(t)?r&&Object(c.b)(n):void 0},P=function(t,e){var n=function(t){return p(a.a.Event(t,t),t)}(t);return e&&Object(l.a)(n,e),n},k=function(t){var e=t.originalEvent,n=t.delegateTarget,i=P(e,t);return a.a.trigger(n||i.target,i),i},E=function(t){var e=t.key,n=t.which,i=u[null===e||void 0===e?void 0:e.toLowerCase()]||e,o=h[n];return o&&i===e?o:!i&&n?String.fromCharCode(n):i},T=function(t){var e=t.key,n=t.which;return e||String.fromCharCode(n)},I=r,j=function(t){var e=t.ctrlKey,n=t.metaKey;return e||n}},function(t,e,n){"use strict";n.d(e,"a",function(){return v}),n.d(e,"b",function(){return y}),n.d(e,"i",function(){return _}),n.d(e,"j",function(){return b}),n.d(e,"k",function(){return I}),n.d(e,"n",function(){return j}),n.d(e,"c",function(){return M}),n.d(e,"m",function(){return D}),n.d(e,"h",function(){return A}),n.d(e,"g",function(){return R}),n.d(e,"e",function(){return B}),n.d(e,"d",function(){return L}),n.d(e,"l",function(){return z}),n.d(e,"f",function(){return F});var i=n(15),o=n(17),r=n(1),a=Object(i.d)(),s=["auto","none","inherit","initial"],l=function(t,e){var n=0;return e.forEach(function(e){n+=parseFloat(t[e])||0}),n},c=function(t,e){var n="width"===t?"Left":"Top",i="width"===t?"Right":"Bottom";return{padding:l(e,["padding"+n,"padding"+i]),border:l(e,["border"+n+"Width","border"+i+"Width"]),margin:l(e,["margin"+n,"margin"+i])}},u=function(t){var e,n=(null===t||void 0===t?void 0:null===(e=t.ownerDocument)||void 0===e?void 0:e.defaultView)||a;return n.getComputedStyle&&n.getComputedStyle(t)},h=function(t,e,n,i){var o;return(null===e||void 0===e?void 0:e[n])||(null===(o=t.style)||void 0===o?void 0:o[n])||i},d={content:0,padding:1,border:2,margin:3,"content-box":0,"border-box":2},p={width:["left","right"],height:["top","bottom"]};function f(t,e,n,i){var o=function(t,e,n){return parseFloat(h(t,e,n,"0"))||0},r="border"===n?"-width":"";return o(t,i,"".concat(n,"-").concat(p[e][0]).concat(r))+o(t,i,"".concat(n,"-").concat(p[e][1]).concat(r))}var m=function(t,e){return t.indexOf("px")>0?t=parseInt(t.replace("px","")):t.indexOf("%")>0?t=parseInt(t.replace("%",""))*function(t){return Object(r.p)(t)?t.innerHeight:t.offsetHeight}(e)/100:isNaN(t)?t.indexOf("vh")>0&&(t=a.innerHeight/100*parseInt(t.replace("vh",""))):t=parseInt(t),t},g=function(t,e,n){return t?s.indexOf(t)>-1?e?null:t:(Object(r.o)(t)&&(t=m(t,n)),Object(r.i)(t)?Math.max(0,t+e):"calc("+t+(e<0?" - ":" ")+Math.abs(e)+"px)"):null},v=function(t,e,n){var i=g(t,e,n);return null!==i?i:"none"},y=function(t,e,n){var i=g(t,e,n);return null!==i?i:0},_=function(t,e){if(!t)return 0;var n=c("height",a.getComputedStyle(t));return n.padding+n.border+(e?n.margin:0)},b=function(t){if(t){var e=t.getBoundingClientRect();if(e.height)return e.height}return 0},C=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return T.apply(void 0,["width"].concat(e))},O=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return T.apply(void 0,["width"].concat(e))},x=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return T.apply(void 0,["height"].concat(e))},S=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return T.apply(void 0,["height"].concat(e))},w=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return T.apply(void 0,["outerWidth"].concat(e))},P=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return T.apply(void 0,["outerHeight"].concat(e))},k=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return T.apply(void 0,["innerWidth"].concat(e))},E=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return T.apply(void 0,["innerHeight"].concat(e))};function T(t,e,n){return 2===arguments.length?N(e,t):N(e,t,n)}var I=function(t){return C(t)},j=function(t,e){return O(t,e)},M=function(t){return x(t)},D=function(t,e){return S(t,e)},A=function(t,e){return w(t,e||!1)},R=function(t,e){return P(t,e||!1)},B=function(t){return k(t)},L=function(t){return E(t)},N=function t(e,n,i){var a=n.toLowerCase().indexOf("width")>=0?"Width":"Height",s=a.toLowerCase(),l=0===n.indexOf("outer"),p=0===n.indexOf("inner"),m=2===arguments.length||"boolean"===typeof i;if(Object(r.n)(e)){if(e.length>1&&!m){for(var g=0;g<e.length;g++)t(e[g],n,i);return}e=e[0]}if(e){if(Object(r.p)(e))return l?e["inner"+a]:o.a.getDocumentElement()["client"+a];if(o.a.isDocument(e)){var v=o.a.getDocumentElement(),y=o.a.getBody();return Math.max(y["scroll"+a],y["offset"+a],v["scroll"+a],v["offset"+a],v["client"+a])}if(m){var _="content";return l&&(_=i?"margin":"border"),p&&(_="padding"),function(t,e,n){var i="width"===e?"offsetWidth":"offsetHeight",o=u(t),r=h(t,o,e);""!==r&&"auto"!==r||(r=t[i]),r=parseFloat(r)||0;var a=h(t,o,"boxSizing","content-box"),s=d[n||a],l=d[a];if(void 0===s||void 0===l)throw new Error;if(l===s)return r;var c=Math.sign(s-l),p=!1,m=!1,g=!1,v=!1;1===c&&(s+=1,l+=1);for(var y=l;y!==s;y+=c)switch(y){case d.content:break;case d.padding:p=c*f(t,e,"padding",o);break;case d.border:m=c*f(t,e,"border",o);break;case d.margin:g=c*f(t,e,"margin",o)}if(p||m){var _=(!1===p?c*f(t,e,"padding",o):p)+(!1===m?c*f(t,e,"border",o):m);v=c*Math.max(0,Math.floor(t[i]-r-c*_))||0}return r+g+p+m+v}(e,s,_)}if(Object(r.i)(i)){var b=u(e),C=c(s,b),O="border-box"===b.boxSizing;i=Number(i),l?i-=O?0:C.border+C.padding:p?i+=O?C.border:-C.padding:O&&(i+=C.border+C.padding)}return i+=Object(r.i)(i)?"px":"",o.a.setStyle(e,s,i),null}},z=function(t){return Object(r.p)(t)?t:t.defaultView},F=function(t){if(!t.getClientRects().length)return{top:0,left:0};var e=t.getBoundingClientRect(),n=z(t.ownerDocument),i=t.ownerDocument.documentElement;return{top:e.top+n.pageYOffset-i.clientTop,left:e.left+n.pageXOffset-i.clientLeft}}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}n.d(e,"a",function(){return o})},function(t,e,n){"use strict";var i=n(6);function o(t,e,n){return(o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Object(i.a)(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}n.d(e,"a",function(){return o})},function(t,e,n){"use strict";n.d(e,"f",function(){return r}),n.d(e,"d",function(){return s}),n.d(e,"e",function(){return l}),n.d(e,"a",function(){return c}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return h});var i=n(17),o="undefined"!==typeof window,r=function(){return o},a=r()?window:void 0;a||((a={}).window=a);var s=function(){return a},l=function(t){return r()&&t in a},c=function(t){return t<768?"xs":t<992?"sm":t<1200?"md":"lg"},u=function(t){return(t||c)(i.a.getDocumentElement().clientWidth)},h=function(){return r()?a.navigator:{userAgent:""}}},function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return u}),n.d(e,"c",function(){return h});var i=n(1),o=n(3),r=n(43),a=[{method:"resolve",handler:"done",state:"resolved"},{method:"reject",handler:"fail",state:"rejected"},{method:"notify",handler:"progress"}],s=function(){var t=this;this._state="pending",this._promise={},a.forEach(function(e){var n=e.method;this[n+"Callbacks"]=Object(r.a)(),this[n]=function(){return this[n+"With"](this._promise,arguments)}.bind(this),this._promise[e.handler]=function(e){if(!e)return this;var i=t[n+"Callbacks"];return i.fired()?e.apply(t[n+"Context"],t[n+"Args"]):i.add(function(t,n){e.apply(t,n)}.bind(this)),this}}.bind(this)),this._promise.always=function(t){return this.done(t).fail(t)},this._promise.catch=function(t){return this.then(null,t)},this._promise.then=function(t,e){var n=new s;return["done","fail"].forEach(function(o){var r="done"===o?t:e;this[o](function(){if(r){var t=r&&r.apply(this,arguments);Object(i.c)(t)?t.done(n.resolve).fail(n.reject):Object(i.m)(t)?t.then(n.resolve,n.reject):n.resolve.apply(this,Object(i.d)(t)?[t]:arguments)}else n["done"===o?"resolve":"reject"].apply(this,arguments)})}.bind(this)),n.promise()},this._promise.state=function(){return t._state},this._promise.promise=function(e){return e?Object(o.a)(e,t._promise):t._promise},this._promise.promise(this)};function l(t,e){if(Object(i.c)(t))return t;if(Object(i.m)(t)){var n=new s;return t.then(function(){n.resolveWith.apply(n,[e].concat([[].slice.call(arguments)]))},function(){n.rejectWith.apply(n,[e].concat([[].slice.call(arguments)]))}),n}return(new s).resolveWith(e,[t])}a.forEach(function(t){var e=t.method,n=t.state;s.prototype[e+"With"]=function(t,i){var o=this[e+"Callbacks"];return"pending"===this.state()&&(this[e+"Args"]=i,this[e+"Context"]=t,n&&(this._state=n),o.fire(t,i)),this}});var c=function(){if(1===arguments.length)return l(arguments[0]);for(var t=[].slice.call(arguments),e=[],n=0,o=new s,r=function(i){return function(r){e[i]=this,t[i]=arguments.length>1?[].slice.call(arguments):r,++n===t.length&&o.resolveWith(e,t)}},a=0;a<t.length;a++)Object(i.c)(t[a])?t[a].promise().done(r(a)).fail(o.reject):n++;return n===t.length&&o.resolveWith(e,t),o.promise()};function u(){return new s}function h(){return c.apply(this,arguments)}},function(t,e,n){"use strict";var i=n(70),o=n(5),r=n(191),a={querySelectorAll:function(t,e){return t.querySelectorAll(e)},elementMatches:function(t,e){var n=this;return(t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||function(e){var i=t.document||t.ownerDocument;if(!i)return!1;for(var o=n.querySelectorAll(i,e),r=0;r<o.length;r++)if(o[r]===t)return!0}).call(t,e)},createElement:function(t,e){return(e=e||this._document).createElement(t)},createElementNS:function(t,e,n){return(n=n||this._document).createElementNS(t,e)},createTextNode:function(t,e){return(e=e||this._document).createTextNode(t)},isNode:function(t){return t&&"object"===typeof t&&"nodeType"in t&&"nodeName"in t},isElementNode:function(t){return t&&1===t.nodeType},isTextNode:function(t){return t&&3===t.nodeType},isDocument:function(t){return t&&9===t.nodeType},isDocumentFragment:function(t){return t&&11===t.nodeType},removeElement:function(t){var e=t&&t.parentNode;e&&e.removeChild(t)},insertElement:function(t,e,n){t&&e&&t!==e&&(n?t.insertBefore(e,n):t.appendChild(e))},getAttribute:function(t,e){return t.getAttribute(e)},setAttribute:function(t,e,n){t.setAttribute(e,n)},removeAttribute:function(t,e){t.removeAttribute(e)},setProperty:function(t,e,n){t[e]=n},setText:function(t,e){t&&(t.textContent=e)},setClass:function(t,e,n){1===t.nodeType&&e&&(n?t.classList.add(e):t.classList.remove(e))},setStyle:function(t,e,n){t.style[e]=n||""},_document:"undefined"===typeof document?void 0:document,getDocument:function(){return this._document},getActiveElement:function(t){return this.getRootNode(t).activeElement},getRootNode:function(t){var e,n;return null!==(e=null===t||void 0===t?void 0:null===(n=t.getRootNode)||void 0===n?void 0:n.call(t))&&void 0!==e?e:this._document},getBody:function(){return this._document.body},createDocumentFragment:function(){return this._document.createDocumentFragment()},getDocumentElement:function(){return this._document.documentElement},getLocation:function(){return this._document.location},getSelection:function(){return this._document.selection},getReadyState:function(){return this._document.readyState},getHead:function(){return this._document.head},hasDocumentProperty:function(t){return t in this._document},listen:function(t,e,n,i){return t&&"addEventListener"in t?(t.addEventListener(e,n,i),function(){t.removeEventListener(e,n)}):o.noop},elementsFromPoint:function(t,e,n){var i=this.getRootNode(n);return i.host?Object(r.b)(t,e,i):i.elementsFromPoint(t,e)}};e.a=Object(i.a)(a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(150);function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Object(i.a)(t,e)}},function(t,e,n){"use strict";function i(t){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return(o="function"===typeof Symbol&&"symbol"===i(Symbol.iterator)?function(t){return i(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":i(t)})(t)}var r=n(22);function a(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?Object(r.a)(t):e}n.d(e,"a",function(){return a})},function(t,e,n){"use strict";var i=n(12),o=n(13),r=n(11),a=n(2),s=n(15),l=n(3),c=n(1),u=n(9),h=n(38),d=n(43),p=n(75),f=n(98),m=n(118),g=Object(s.d)(),v=n(91),y=n(50),_=Object(s.c)(),b=Object(s.d)(),C={iPhone:"iPhone",iPhone5:"iPhone",iPhone6:"iPhone",iPhone6plus:"iPhone",iPad:"iPad",iPadMini:"iPad Mini",androidPhone:"Android Mobile",androidTablet:"Android",msSurface:"Windows ARM Tablet PC",desktop:"desktop"},O={deviceType:"desktop",platform:"generic",version:[],phone:!1,tablet:!1,android:!1,ios:!1,generic:!0,grade:"A",mac:!1},x={generic:function(t){var e=/windows phone/i.test(t)||t.match(/WPDesktop/),n=!e&&/Windows(.*)arm(.*)Tablet PC/i.test(t),i=!e&&!n&&/msapphost/i.test(t),o=/((intel|ppc) mac os x)/.test(t.toLowerCase());if(e||n||i||o)return{deviceType:e?"phone":n?"tablet":"desktop",platform:"generic",version:[],grade:"A",mac:o}},ios:function(t){if(/ip(hone|od|ad)/i.test(t)){var e=/ip(hone|od)/i.test(t),n=t.match(/os (\d+)_(\d+)_?(\d+)?/i);return{deviceType:e?"phone":"tablet",platform:"ios",version:n?[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3]||0,10)]:[],grade:480===b.screen.height?"B":"A"}}},android:function(t){if(/android|htc_|silk/i.test(t)){var e=/mobile/i.test(t),n=t.match(/android (\d+)\.?(\d+)?\.?(\d+)?/i),i=n?[parseInt(n[1],10),parseInt(n[2]||0,10),parseInt(n[3]||0,10)]:[];return{deviceType:e?"phone":"tablet",platform:"android",version:i,grade:i.length>1&&(i[0]<4||4===i[0]&&i[1]<4)?"B":"A"}}}},S=new(function(){function t(e){Object(i.a)(this,t),this._window=(null===e||void 0===e?void 0:e.window)||b,this._realDevice=this._getDevice(),this._currentDevice=void 0,this._currentOrientation=void 0,this._eventsStrategy=new m.a(this),this.changed=Object(d.a)(),Object(s.f)()&&(p.a.add(this._recalculateOrientation.bind(this)),f.a.add(this._recalculateOrientation.bind(this)))}return Object(o.a)(t,[{key:"current",value:function(t){if(t)return this._currentDevice=this._getDevice(t),this._forced=!0,void this.changed.fire();if(!this._currentDevice){t=void 0;try{t=this._getDeviceOrNameFromWindowScope()}catch(e){t=this._getDeviceNameFromSessionStorage()}finally{t||(t=this._getDeviceNameFromSessionStorage()),t&&(this._forced=!0)}this._currentDevice=this._getDevice(t)}return this._currentDevice}},{key:"real",value:function(t){return Object(l.a)({},this._realDevice)}},{key:"orientation",value:function(){return this._currentOrientation}},{key:"isForced",value:function(){return this._forced}},{key:"isRippleEmulator",value:function(){return!!this._window.tinyHippos}},{key:"_getCssClasses",value:function(t){var e=[],n=this._realDevice;return(t=t||this.current()).deviceType&&(e.push("dx-device-".concat(t.deviceType)),"desktop"!==t.deviceType&&e.push("dx-device-mobile")),e.push("dx-device-".concat(n.platform)),n.version&&n.version.length&&e.push("dx-device-".concat(n.platform,"-").concat(n.version[0])),this.isSimulator()&&e.push("dx-simulator"),Object(y.a)().rtlEnabled&&e.push("dx-rtl"),e}},{key:"attachCssClasses",value:function(t,e){this._deviceClasses=this._getCssClasses(e).join(" "),Object(a.a)(t).addClass(this._deviceClasses)}},{key:"detachCssClasses",value:function(t){Object(a.a)(t).removeClass(this._deviceClasses)}},{key:"isSimulator",value:function(){try{return this._isSimulator||Object(s.f)()&&this._window.top!==this._window.self&&this._window.top["dx-force-device"]||this.isRippleEmulator()}catch(t){return!1}}},{key:"forceSimulator",value:function(){this._isSimulator=!0}},{key:"_getDevice",value:function(t){if("genericPhone"===t&&(t={deviceType:"phone",platform:"generic",generic:!0}),Object(c.k)(t))return this._fromConfig(t);var e;if(t){if(!(e=C[t]))throw h.a.Error("E0005")}else e=_.userAgent;return this._fromUA(e)}},{key:"_getDeviceOrNameFromWindowScope",value:function(){var t;return Object(s.f)()&&(this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"])&&(t=this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"]),t}},{key:"_getDeviceNameFromSessionStorage",value:function(){var t=function(){var t;try{t=g.sessionStorage}catch(e){}return t}();if(t){var e=t.getItem("dx-force-device");try{return JSON.parse(e)}catch(n){return e}}}},{key:"_fromConfig",value:function(t){var e=Object(l.a)({},O,this._currentDevice,t),n={phone:"phone"===e.deviceType,tablet:"tablet"===e.deviceType,android:"android"===e.platform,ios:"ios"===e.platform,generic:"generic"===e.platform};return Object(l.a)(e,n)}},{key:"_fromUA",value:function(t){var e;return Object(u.a)(x,function(n,i){return!(e=i(t))}),e?this._fromConfig(e):O}},{key:"_changeOrientation",value:function(){var t=Object(a.a)(this._window),e=Object(r.c)(t)>Object(r.k)(t)?"portrait":"landscape";this._currentOrientation!==e&&(this._currentOrientation=e,this._eventsStrategy.fireEvent("orientationChanged",[{orientation:e}]))}},{key:"_recalculateOrientation",value:function(){var t=Object(r.k)(this._window);this._currentWidth!==t&&(this._currentWidth=t,this._changeOrientation())}},{key:"on",value:function(t,e){return this._eventsStrategy.on(t,e),this}},{key:"off",value:function(t,e){return this._eventsStrategy.off(t,e),this}}]),t}()),w=Object(v.c)();w&&S.attachCssClasses(w),v.a.add(function(t,e){S.detachCssClasses(e),S.attachCssClasses(t)});e.a=S},function(t,e,n){"use strict";(function(t){var i,o=n(196),r=Object.prototype.toString,a=Object.getPrototypeOf,s=(i=Object.create(null),function(t){var e=r.call(t);return i[e]||(i[e]=e.slice(8,-1).toLowerCase())}),l=function(t){return t=t.toLowerCase(),function(e){return s(e)===t}},c=function(t){return function(e){return typeof e===t}},u=Array.isArray,h=c("undefined");var d=l("ArrayBuffer");var p=c("string"),f=c("function"),m=c("number"),g=function(t){return null!==t&&"object"===typeof t},v=function(t){if("object"!==s(t))return!1;var e=a(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},y=l("Date"),_=l("File"),b=l("Blob"),C=l("FileList"),O=l("URLSearchParams");function x(t,e){var n,i,o=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,r=void 0!==o&&o;if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),u(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{var a,s=r?Object.getOwnPropertyNames(t):Object.keys(t),l=s.length;for(n=0;n<l;n++)a=s[n],e.call(null,t[a],a,t)}}function S(t,e){e=e.toLowerCase();for(var n,i=Object.keys(t),o=i.length;o-- >0;)if(e===(n=i[o]).toLowerCase())return n;return null}var w="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:t,P=function(t){return!h(t)&&t!==w};var k,E=(k="undefined"!==typeof Uint8Array&&a(Uint8Array),function(t){return k&&t instanceof k}),T=l("HTMLFormElement"),I=function(t){var e=Object.prototype.hasOwnProperty;return function(t,n){return e.call(t,n)}}(),j=l("RegExp"),M=function(t,e){var n=Object.getOwnPropertyDescriptors(t),i={};x(n,function(n,o){!1!==e(n,o,t)&&(i[o]=n)}),Object.defineProperties(t,i)},D="abcdefghijklmnopqrstuvwxyz",A={DIGIT:"0123456789",ALPHA:D,ALPHA_DIGIT:D+D.toUpperCase()+"0123456789"};e.a={isArray:u,isArrayBuffer:d,isBuffer:function(t){return null!==t&&!h(t)&&null!==t.constructor&&!h(t.constructor)&&f(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:function(t){return t&&("function"===typeof FormData&&t instanceof FormData||"[object FormData]"===r.call(t)||f(t.toString)&&"[object FormData]"===t.toString())},isArrayBufferView:function(t){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&d(t.buffer)},isString:p,isNumber:m,isBoolean:function(t){return!0===t||!1===t},isObject:g,isPlainObject:v,isUndefined:h,isDate:y,isFile:_,isBlob:b,isRegExp:j,isFunction:f,isStream:function(t){return g(t)&&f(t.pipe)},isURLSearchParams:O,isTypedArray:E,isFileList:C,forEach:x,merge:function t(){for(var e=(P(this)&&this||{}).caseless,n={},i=function(i,o){var r=e&&S(n,o)||o;v(n[r])&&v(i)?n[r]=t(n[r],i):v(i)?n[r]=t({},i):u(i)?n[r]=i.slice():n[r]=i},o=0,r=arguments.length;o<r;o++)arguments[o]&&x(arguments[o],i);return n},extend:function(t,e,n){return x(e,function(e,i){n&&f(e)?t[i]=Object(o.a)(e,n):t[i]=e},{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),t},trim:function(t){return t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t},inherits:function(t,e,n,i){t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:function(t,e,n,i){var o,r,s,l={};if(e=e||{},null==t)return e;do{for(r=(o=Object.getOwnPropertyNames(t)).length;r-- >0;)s=o[r],i&&!i(s,t,e)||l[s]||(e[s]=t[s],l[s]=!0);t=!1!==n&&a(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:s,kindOfTest:l,endsWith:function(t,e,n){t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;var i=t.indexOf(e,n);return-1!==i&&i===n},toArray:function(t){if(!t)return null;if(u(t))return t;var e=t.length;if(!m(e))return null;for(var n=new Array(e);e-- >0;)n[e]=t[e];return n},forEachEntry:function(t,e){for(var n,i=(t&&t[Symbol.iterator]).call(t);(n=i.next())&&!n.done;){var o=n.value;e.call(t,o[0],o[1])}},matchAll:function(t,e){for(var n,i=[];null!==(n=t.exec(e));)i.push(n);return i},isHTMLForm:T,hasOwnProperty:I,hasOwnProp:I,reduceDescriptors:M,freezeMethods:function(t){M(t,function(e,n){if(f(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var i=t[n];f(i)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:function(t,e){var n={},i=function(t){t.forEach(function(t){n[t]=!0})};return u(t)?i(t):i(String(t).split(e)),n},toCamelCase:function(t){return t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,e,n){return e.toUpperCase()+n})},noop:function(){},toFiniteNumber:function(t,e){return t=+t,Number.isFinite(t)?t:e},findKey:S,global:w,isContextDefined:P,ALPHABET:A,generateString:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.ALPHA_DIGIT,n="",i=e.length;t--;)n+=e[Math.random()*i|0];return n},isSpecCompliantForm:function(t){return!!(t&&f(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:function(t){var e=new Array(10);return function t(n,i){if(g(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;var o=u(n)?[]:{};return x(n,function(e,n){var r=t(e,i+1);!h(r)&&(o[n]=r)}),e[i]=void 0,o}}return n}(t,0)}}}).call(this,n(147))},function(t,e,n){"use strict";function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";var i=n(190),o=n(1),r=n(28),a=n(9),s=n(51),l={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,quarter:7776e6,year:31536e6};function c(t){return l[t]}var u=7,h=4,d=7,p=52,f=["millisecond","second","minute","hour","day","week","month","quarter","year"],m=function(t){var e,n,i,o=["millisecond","second","minute","hour","day","month","year"],r={};for(e=o.length-1;e>=0;e--)i=o[e],(n=Math.floor(t/c(i)))>0&&(r[i+"s"]=n,t-=g(i,n));return r};function g(t,e){return c(t)*e}function v(t){var e,n=-1;return Object(o.o)(t)?t:Object(o.j)(t)?(Object(a.a)(t,function(t,i){for(e=0;e<f.length;e++)i&&(t===f[e]+"s"||t===f[e])&&n<e&&(n=e)}),f[n]):""}var y={millisecond:"millisecond",second:"longtime",minute:"shorttime",hour:"shorttime",day:"day",week:"day",month:"month",quarter:"quarter",year:"year"};var _=function(t){return Math.floor(t/3)},b=function(t){return 3*_(t)};function C(t,e,n,i){t=new Date(t.getTime());var o,r,a=new Date(t.getTime()),s=v(e);switch(s){case"second":t=new Date(1e3*Math.floor(a.getTime()/1e3));break;case"minute":t=new Date(6e4*Math.floor(a.getTime()/6e4));break;case"hour":t=new Date(36e5*Math.floor(a.getTime()/36e5));break;case"year":t.setMonth(0);case"month":t.setDate(1);case"day":t.setHours(0,0,0,0);break;case"week":(t=j(t,i||0)).setHours(0,0,0,0);break;case"quarter":o=b(t.getMonth()),r=t.getMonth(),t.setDate(1),t.setHours(0,0,0,0),r!==o&&t.setMonth(o)}return n&&"hour"!==s&&"minute"!==s&&"second"!==s&&L(a,t),t}function O(t){return C(t,"day")}function x(t,e,n){var i=new Date(t.getTime()),r=Object(o.o)(e)?P(e.toLowerCase()):Object(o.i)(e)?m(e):e;return r.years&&i.setFullYear(i.getFullYear()+r.years*n),r.quarters&&i.setMonth(i.getMonth()+3*r.quarters*n),r.months&&i.setMonth(i.getMonth()+r.months*n),r.weeks&&i.setDate(i.getDate()+7*r.weeks*n),r.days&&i.setDate(i.getDate()+r.days*n),r.hours&&i.setTime(i.getTime()+36e5*r.hours*n),r.minutes&&i.setTime(i.getTime()+6e4*r.minutes*n),r.seconds&&i.setTime(i.getTime()+1e3*r.seconds*n),r.milliseconds&&i.setTime(i.getTime()+r.milliseconds*n),i}var S=function(t,e,n){var i=n?-1:1;return Object(o.b)(t)?x(t,e,i):Object(r.a)(t+e*i,e)};function w(t){return z(t.getFullYear(),t.getMonth()+1,0).getDate()}function P(t){var e={};switch(t){case"year":e.years=1;break;case"month":e.months=1;break;case"quarter":e.months=3;break;case"week":e.weeks=1;break;case"day":e.days=1;break;case"hour":e.hours=1;break;case"minute":e.minutes=1;break;case"second":e.seconds=1;break;case"millisecond":e.milliseconds=1}return e}function k(t,e){return E(t,e)&&t.getMonth()===e.getMonth()}function E(t,e){return t&&e&&t.getFullYear()===e.getFullYear()}function T(t){return t&&t.getFullYear()-t.getFullYear()%100}function I(t){return t&&t.getFullYear()-t.getFullYear()%10}function j(t,e){var n=(t.getDay()-e+u)%u,i=new Date(t);return i.setDate(t.getDate()-n),i}function M(t){return Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())}function D(t){return new Date(t,0,1)}function A(t){return new Date(t,11,31)}function R(t,e){var n=t.getDay()-e+1;return n<=0&&(n+=u),n}function B(t,e,n){var i=t;return Object(o.d)(t)?(Object(o.d)(e)&&t<e&&(i=e),Object(o.d)(n)&&t>n&&(i=n),i):t}function L(t,e){if(Object(o.d)(t)){var n=e.getHours()-t.getHours();if(0!==n){var i=1===n||-23===n?-1:1,r=new Date(e.getTime()+36e5*i);(i>0||r.getDate()===e.getDate())&&e.setTime(r.getTime())}}}function N(t,e){return 60*(e.getTimezoneOffset()-t.getTimezoneOffset())*1e3}var z=function(t){var e=Object(i.a)(Date,Array.prototype.slice.call(arguments));return e.setFullYear(t),e},F={dateUnitIntervals:f,convertMillisecondsToDateUnits:m,dateToMilliseconds:function(t){var e=0;return Object(o.j)(t)&&Object(a.a)(t,function(t,n){e+=g(t.substr(0,t.length-1),n)}),Object(o.o)(t)&&(e=g(t,1)),e},getNextDateUnit:function(t,e){switch(v(t)){case"millisecond":return"second";case"second":return"minute";case"minute":return"hour";case"hour":return"day";case"day":return e?"week":"month";case"week":return"month";case"month":return"quarter";case"quarter":case"year":return"year";default:return 0}},convertDateUnitToMilliseconds:g,getDateUnitInterval:v,getDateFormatByTickInterval:function(t){return y[v(t)]||""},getDatesDifferences:function(t,e){var n=0,i={year:t.getFullYear()!==e.getFullYear(),month:t.getMonth()!==e.getMonth(),day:t.getDate()!==e.getDate(),hour:t.getHours()!==e.getHours(),minute:t.getMinutes()!==e.getMinutes(),second:t.getSeconds()!==e.getSeconds(),millisecond:t.getMilliseconds()!==e.getMilliseconds()};return Object(a.a)(i,function(t,e){e&&n++}),0===n&&0!==N(t,e)&&(i.hour=!0,n++),i.count=n,i},correctDateWithUnitBeginning:C,trimTime:O,setToDayEnd:function(t){var e=O(t);return e.setDate(e.getDate()+1),new Date(e.getTime()-1)},roundDateByStartDayHour:function(t,e){var n=this.dateTimeFromDecimal(e),i=new Date(t);return(t.getHours()===n.hours&&t.getMinutes()<n.minutes||t.getHours()<n.hours)&&i.setHours(n.hours,n.minutes,0,0),i},dateTimeFromDecimal:function(t){return{hours:Math.floor(t),minutes:t%1*60}},addDateInterval:x,addInterval:S,getSequenceByInterval:function(t,e,n){var i,r=[];for(r.push(Object(o.b)(t)?new Date(t.getTime()):t),i=t;i<e;)i=S(i,n),r.push(i);return r},getDateIntervalByString:P,sameHoursAndMinutes:function(t,e){return t&&e&&t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes()},sameDate:function(t,e){return k(t,e)&&t.getDate()===e.getDate()},sameMonthAndYear:k,sameMonth:k,sameYear:E,sameDecade:function(t,e){if(Object(o.d)(t)&&Object(o.d)(e)){var n=t.getFullYear()-t.getFullYear()%10,i=e.getFullYear()-e.getFullYear()%10;return t&&e&&n===i}},sameCentury:function(t,e){if(Object(o.d)(t)&&Object(o.d)(e)){var n=t.getFullYear()-t.getFullYear()%100,i=e.getFullYear()-e.getFullYear()%100;return t&&e&&n===i}},getDifferenceInMonth:function(t){var e=1;return"year"===t&&(e=12),"decade"===t&&(e=120),"century"===t&&(e=1200),e},getDifferenceInMonthForCells:function(t){var e=1;return"decade"===t&&(e=12),"century"===t&&(e=120),e},getFirstYearInDecade:I,getFirstDecadeInCentury:T,getShortDateFormat:function(){return"yyyy/MM/dd"},getViewFirstCellDate:function(t,e){return"month"===t?z(e.getFullYear(),e.getMonth(),1):"year"===t?z(e.getFullYear(),0,e.getDate()):"decade"===t?z(I(e),e.getMonth(),e.getDate()):"century"===t?z(T(e),e.getMonth(),e.getDate()):void 0},getViewLastCellDate:function(t,e){return"month"===t?z(e.getFullYear(),e.getMonth(),w(e)):"year"===t?z(e.getFullYear(),11,e.getDate()):"decade"===t?z(I(e)+9,e.getMonth(),e.getDate()):"century"===t?z(T(e)+90,e.getMonth(),e.getDate()):void 0},getViewDown:function(t){switch(t){case"century":return"decade";case"decade":return"year";case"year":return"month"}},getViewUp:function(t){switch(t){case"month":return"year";case"year":return"decade";case"decade":return"century"}},getLastMonthDay:w,getLastMonthDate:function(t){if(Object(o.d)(t))return z(t.getFullYear(),t.getMonth()+1,0)},getFirstMonthDate:function(t){if(Object(o.d)(t))return z(t.getFullYear(),t.getMonth(),1)},getFirstWeekDate:j,getWeekNumber:function t(e,n,i){var o=R(D(e.getFullYear()),n),r=R(A(e.getFullYear()),n),a=u-o+1,s=Math.ceil((function(t){var e=M(t)-M(D(t.getFullYear()));return 1+Math.floor(e/c("day"))}(e)-a)/7);switch(i){case"fullWeek":return a===u&&s++,0===s?t(A(e.getFullYear()-1),n,i):s;case"firstDay":return a>0&&s++,(s>p&&!(o===d||r===d)||54===s)&&(s=1),s;case"firstFourDays":return a>3&&s++,s>p&&!(o===h||r===h)&&(s=1),0===s?t(A(e.getFullYear()-1),n,i):s}},normalizeDateByWeek:function(t,e){var n=F.getDatesInterval(t,e,"day"),i=new Date(t);return n>=6&&(i=new Date(i.setDate(i.getDate()+7))),i},getQuarter:_,getFirstQuarterMonth:b,dateInRange:function(t,e,n,i){return"date"===i&&(e=e&&F.correctDateWithUnitBeginning(e,"day"),n=n&&F.correctDateWithUnitBeginning(n,"day"),t=t&&F.correctDateWithUnitBeginning(t,"day")),B(t,e,n)===t},intervalsOverlap:function(t){var e=t.firstMin,n=t.firstMax,i=t.secondMin,o=t.secondMax;return e<=i&&i<=n||e>i&&e<o||e<o&&n>o},roundToHour:function(t){var e=new Date(t.getTime());return e.setHours(e.getHours()+1),e.setMinutes(0),e},normalizeDate:B,getViewMinBoundaryDate:function(t,e){var n=z(e.getFullYear(),e.getMonth(),1);return"month"===t?n:(n.setMonth(0),"year"===t?n:("decade"===t&&n.setFullYear(I(e)),"century"===t&&n.setFullYear(T(e)),n))},getViewMaxBoundaryDate:function(t,e){var n=new Date(e);return n.setDate(w(e)),"month"===t?n:(n.setMonth(11),n.setDate(w(n)),"year"===t?n:("decade"===t&&n.setFullYear(I(e)+9),"century"===t&&n.setFullYear(T(e)+99),n))},fixTimezoneGap:L,getTimezonesDifference:N,makeDate:function(t){return new Date(t)},getDatesInterval:function(t,e,n){var i=e.getTime()-t.getTime(),o=c(n)||1;return Math.floor(i/o)},getDatesOfInterval:function(t,e,n){for(var i=[],o=new Date(t.getTime());o<e;)i.push(new Date(o.getTime())),o=this.addInterval(o,n);return i},createDateWithFullYear:z,sameView:function(t,e,n){return F[Object(s.a)("same "+t)](e,n)}};e.a=F},function(t,e,n){"use strict";function i(){return(i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";var i=Array.isArray;function o(t){var e=typeof t;return"string"===e||"number"===e}function r(t){return void 0===t||null===t}function a(t){return null===t||!1===t||!0===t||void 0===t}function s(t){return"function"===typeof t}function l(t){return"string"===typeof t}function c(t){return null===t}function u(t,e){var n={};if(t)for(var i in t)n[i]=t[i];if(e)for(var o in e)n[o]=e[o];return n}function h(t){return!c(t)&&"object"===typeof t}var d={},p="$F";function f(t){return t.substr(2).toLowerCase()}function m(t,e){t.appendChild(e)}function g(t,e,n){c(n)?m(t,e):t.insertBefore(e,n)}function v(t,e){t.removeChild(e)}function y(t){for(var e=0;e<t.length;e++)t[e]()}function _(t,e,n){var i=t.children;return 4&n?i.$LI:8192&n?2===t.childFlags?i:i[e?0:i.length-1]:i}function b(t,e){for(var n;t;){if(2033&(n=t.flags))return t.dom;t=_(t,e,n)}return null}function C(t,e){do{var n=t.flags;if(2033&n)return void v(e,t.dom);var i=t.children;if(4&n&&(t=i.$LI),8&n&&(t=i),8192&n){if(2!==t.childFlags){for(var o=0,r=i.length;o<r;++o)C(i[o],e);return}t=i}}while(t)}function O(t,e,n){do{var i=t.flags;if(2033&i)return void g(e,t.dom,n);var o=t.children;if(4&i&&(t=o.$LI),8&i&&(t=o),8192&i){if(2!==t.childFlags){for(var r=0,a=o.length;r<a;++r)O(o[r],e,n);return}t=o}}while(t)}function x(t,e,n){return t.constructor.getDerivedStateFromProps?u(n,t.constructor.getDerivedStateFromProps(e,n)):n}var S={v:!1},w={componentComparator:null,createVNode:null,renderComplete:null};function P(t,e){t.textContent=e}function k(t,e){return h(t)&&t.event===e.event&&t.data===e.data}function E(t,e){for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t}function T(t,e){return!!s(t)&&(t(e),!0)}var I="$";function j(t,e,n,i,o,r,a,s){this.childFlags=t,this.children=e,this.className=n,this.dom=null,this.flags=i,this.key=void 0===o?null:o,this.props=void 0===r?null:r,this.ref=void 0===a?null:a,this.type=s}function M(t,e,n,i,o,r,a,s){var l=void 0===o?1:o,c=new j(l,i,n,t,a,r,s,e);return w.createVNode&&w.createVNode(c),0===l&&V(c,c.children),c}function D(t,e,n,i,o){var a=new j(1,null,null,t=function(t,e){return 12&t?t:e.prototype&&e.prototype.render?4:e.render?32776:8}(t,e),i,function(t,e,n){var i=(32768&t?e.render:e).defaultProps;return r(i)?n:r(n)?u(i,null):E(n,i)}(t,e,n),function(t,e,n){if(4&t)return n;var i=(32768&t?e.render:e).defaultHooks;return r(i)?n:r(n)?i:E(n,i)}(t,e,o),e);return w.createVNode&&w.createVNode(a),a}function A(t,e){return new j(1,r(t)||!0===t||!1===t?"":t,null,16,e,null,null,null)}function R(t,e,n){var i=M(8192,8192,null,t,e,null,n,null);switch(i.childFlags){case 1:i.children=N(),i.childFlags=2;break;case 16:i.children=[A(t)],i.childFlags=4}return i}function B(t){var e=t.props;if(e){var n=t.flags;481&n&&(void 0!==e.children&&r(t.children)&&V(t,e.children),void 0!==e.className&&(r(t.className)&&(t.className=e.className||null),e.className=void 0)),void 0!==e.key&&(t.key=e.key,e.key=void 0),void 0!==e.ref&&(t.ref=8&n?u(t.ref,e.ref):e.ref,e.ref=void 0)}return t}function L(t){var e=-16385&t.flags,n=t.props;if(14&e&&!c(n)){var i=n;for(var o in n={},i)n[o]=i[o]}return 0===(8192&e)?new j(t.childFlags,t.children,t.className,e,t.key,n,t.ref,t.type):function(t){var e=t.children,n=t.childFlags;return R(2===n?L(e):e.map(L),n,t.key)}(t)}function N(){return A("",null)}function z(t,e){var n=U(t);return M(1024,1024,null,n,0,null,n.key,e)}function F(t,e,n,r){for(var s=t.length;n<s;n++){var u=t[n];if(!a(u)){var h=r+I+n;if(i(u))F(u,e,0,h);else{if(o(u))u=A(u,h);else{var d=u.key,p=l(d)&&d[0]===I;(81920&u.flags||p)&&(u=L(u)),u.flags|=65536,p?d.substring(0,r.length)!==r&&(u.key=r+d):c(d)?u.key=h:u.key=r+d}e.push(u)}}}}function H(t){switch(t){case"svg":return 32;case"input":return 64;case"select":return 256;case"textarea":return 128;case p:return 8192;default:return 1}}function V(t,e){var n,r=1;if(a(e))n=e;else if(o(e))r=16,n=e;else if(i(e)){for(var s=e.length,u=0;u<s;++u){var h=e[u];if(a(h)||i(h)){n=n||e.slice(0,u),F(e,n,u,"");break}if(o(h))(n=n||e.slice(0,u)).push(A(h,I+u));else{var d=h.key,p=(81920&h.flags)>0,f=c(d),m=l(d)&&d[0]===I;p||f||m?(n=n||e.slice(0,u),(p||m)&&(h=L(h)),(f||m)&&(h.key=I+u),n.push(h)):n&&n.push(h),h.flags|=65536}}r=0===(n=n||e).length?1:8}else(n=e).flags|=65536,81920&e.flags&&(n=L(e)),r=2;return t.children=n,t.childFlags=r,t}function U(t){return a(t)||o(t)?A(t,null):i(t)?R(t,0,null):16384&t.flags?L(t):t}var W="http://www.w3.org/1999/xlink",K="http://www.w3.org/XML/1998/namespace",$={"xlink:actuate":W,"xlink:arcrole":W,"xlink:href":W,"xlink:role":W,"xlink:show":W,"xlink:title":W,"xlink:type":W,"xml:base":K,"xml:lang":K,"xml:space":K};function G(t){return{onClick:t,onDblClick:t,onFocusIn:t,onFocusOut:t,onKeyDown:t,onKeyPress:t,onKeyUp:t,onMouseDown:t,onMouseMove:t,onMouseUp:t,onTouchEnd:t,onTouchMove:t,onTouchStart:t}}var q=G(0),Z=G(null),Y=G(!0);function X(t,e){var n=e.$EV;return n||(n=e.$EV=G(null)),n[t]||1===++q[t]&&(Z[t]=function(t){var e="onClick"===t||"onDblClick"===t?function(t){return function(e){0===e.button?J(e,!0,t,it(e)):e.stopPropagation()}}(t):function(t){return function(e){J(e,!1,t,it(e))}}(t);return document.addEventListener(f(t),e),e}(t)),n}function Q(t,e){var n=e.$EV;n&&n[t]&&(0===--q[t]&&(document.removeEventListener(f(t),Z[t]),Z[t]=null),n[t]=null)}function J(t,e,n,i){var o=function(t){return s(t.composedPath)?t.composedPath()[0]:t.target}(t);do{if(e&&o.disabled)return;var r=o.$EV;if(r){var a=r[n];if(a&&(i.dom=o,a.event?a.event(a.data,t):a(t),t.cancelBubble))return}o=o.parentNode}while(!c(o))}function tt(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function et(){return this.defaultPrevented}function nt(){return this.cancelBubble}function it(t){var e={dom:document};return t.isDefaultPrevented=et,t.isPropagationStopped=nt,t.stopPropagation=tt,Object.defineProperty(t,"currentTarget",{configurable:!0,get:function(){return e.dom}}),e}function ot(t,e,n){if(t[e]){var i=t[e];i.event?i.event(i.data,n):i(n)}else{var o=e.toLowerCase();t[o]&&t[o](n)}}function rt(t,e){var n=function(n){var i=this.$V;if(i){var o=i.props||d,r=i.dom;if(l(t))ot(o,t,n);else for(var a=0;a<t.length;++a)ot(o,t[a],n);if(s(e)){var c=this.$V,u=c.props||d;e(u,r,!1,c)}}};return Object.defineProperty(n,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),n}function at(t,e,n){var i="$"+e,o=t[i];if(o){if(o[1].wrapped)return;t.removeEventListener(o[0],o[1]),t[i]=null}s(n)&&(t.addEventListener(e,n),t[i]=[e,n])}function st(t){return"checkbox"===t||"radio"===t}var lt=rt("onInput",ht),ct=rt(["onClick","onChange"],ht);function ut(t){t.stopPropagation()}function ht(t,e){var n=t.type,i=t.value,o=t.checked,a=t.multiple,s=t.defaultValue,l=!r(i);n&&n!==e.type&&e.setAttribute("type",n),r(a)||a===e.multiple||(e.multiple=a),r(s)||l||(e.defaultValue=s+""),st(n)?(l&&(e.value=i),r(o)||(e.checked=o)):l&&e.value!==i?(e.defaultValue=i,e.value=i):r(o)||(e.checked=o)}function dt(t,e){if("option"===t.type)!function(t,e){var n=t.props||d,o=t.dom;o.value=n.value,n.value===e||i(e)&&-1!==e.indexOf(n.value)?o.selected=!0:r(e)&&r(n.selected)||(o.selected=n.selected||!1)}(t,e);else{var n=t.children,o=t.flags;if(4&o)dt(n.$LI,e);else if(8&o)dt(n,e);else if(2===t.childFlags)dt(n,e);else if(12&t.childFlags)for(var a=0,s=n.length;a<s;++a)dt(n[a],e)}}ut.wrapped=!0;var pt=rt("onChange",ft);function ft(t,e,n,i){var o=Boolean(t.multiple);r(t.multiple)||o===e.multiple||(e.multiple=o);var a=t.selectedIndex;if(-1===a&&(e.selectedIndex=-1),1!==i.childFlags){var s=t.value;"number"===typeof a&&a>-1&&e.options[a]&&(s=e.options[a].value),n&&r(s)&&(s=t.defaultValue),dt(i,s)}}var mt,gt,vt=rt("onInput",_t),yt=rt("onChange");function _t(t,e,n){var i=t.value,o=e.value;if(r(i)){if(n){var a=t.defaultValue;r(a)||a===o||(e.defaultValue=a,e.value=a)}}else o!==i&&(e.defaultValue=i,e.value=i)}function bt(t,e,n,i,o,r){64&t?ht(i,n):256&t?ft(i,n,o,e):128&t&&_t(i,n,o),r&&(n.$V=e)}function Ct(t,e,n){64&t?function(t,e){st(e.type)?(at(t,"change",ct),at(t,"click",ut)):at(t,"input",lt)}(e,n):256&t?function(t){at(t,"change",pt)}(e):128&t&&function(t,e){at(t,"input",vt),e.onChange&&at(t,"change",yt)}(e,n)}function Ot(t){return t.type&&st(t.type)?!r(t.checked):!r(t.value)}function xt(){return{current:null}}function St(t){t&&!T(t,null)&&t.current&&(t.current=null)}function wt(t,e,n){t&&(s(t)||void 0!==t.current)&&n.push(function(){T(t,e)||void 0===t.current||(t.current=e)})}function Pt(t,e){kt(t),C(t,e)}function kt(t){var e,n=t.flags,i=t.children;if(481&n){e=t.ref;var o=t.props;St(e);var a=t.childFlags;if(!c(o))for(var l=Object.keys(o),u=0,h=l.length;u<h;u++){var p=l[u];Y[p]&&Q(p,t.dom)}12&a?Et(i):2===a&&kt(i)}else i&&(4&n?(s(i.componentWillUnmount)&&i.componentWillUnmount(),St(t.ref),i.$UN=!0,kt(i.$LI)):8&n?(!r(e=t.ref)&&s(e.onComponentWillUnmount)&&e.onComponentWillUnmount(b(t,!0),t.props||d),kt(i)):1024&n?Pt(i,t.ref):8192&n&&12&t.childFlags&&Et(i))}function Et(t){for(var e=0,n=t.length;e<n;++e)kt(t[e])}function Tt(t){t.textContent=""}function It(t,e,n){Et(n),8192&e.flags?C(e,t):Tt(t)}function jt(t,e,n,i){var o=t&&t.__html||"",a=e&&e.__html||"";o!==a&&(r(a)||function(t,e){var n=document.createElement("i");return n.innerHTML=e,n.innerHTML===t.innerHTML}(i,a)||(c(n)||(12&n.childFlags?Et(n.children):2===n.childFlags&&kt(n.children),n.children=null,n.childFlags=1),i.innerHTML=a))}function Mt(t,e,n,i,o,a,c){switch(t){case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":case"selectedIndex":break;case"autoFocus":i.autofocus=!!n;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":i[t]=!!n;break;case"defaultChecked":case"value":case"volume":if(a&&"value"===t)break;var u=r(n)?"":n;i[t]!==u&&(i[t]=u);break;case"style":!function(t,e,n){if(r(e))n.removeAttribute("style");else{var i,o,a=n.style;if(l(e))a.cssText=e;else if(r(t)||l(t))for(i in e)o=e[i],a.setProperty(i,o);else{for(i in e)(o=e[i])!==t[i]&&a.setProperty(i,o);for(i in t)r(e[i])&&a.removeProperty(i)}}}(e,n,i);break;case"dangerouslySetInnerHTML":jt(e,n,c,i);break;default:Y[t]?function(t,e,n,i){if(s(n))X(t,i)[t]=n;else if(h(n)){if(k(e,n))return;X(t,i)[t]=n}else Q(t,i)}(t,e,n,i):111===t.charCodeAt(0)&&110===t.charCodeAt(1)?function(t,e,n,i){if(h(n)){if(k(e,n))return;n=function(t){var e=t.event;return function(n){e(t.data,n)}}(n)}at(i,f(t),n)}(t,e,n,i):r(n)?i.removeAttribute(t):o&&$[t]?i.setAttributeNS($[t],t,n):i.setAttribute(t,n)}}function Dt(t,e,n,i,o){var r=!1,a=(448&e)>0;for(var s in a&&(r=Ot(n))&&Ct(e,i,n),n)Mt(s,null,n[s],i,o,r,null);a&&bt(e,t,i,n,!0,r)}function At(t,e,n){var i=U(t.render(e,t.state,n)),o=n;return s(t.getChildContext)&&(o=u(n,t.getChildContext())),t.$CX=o,i}function Rt(t,e,n,i,o,r){var a=new e(n,i),l=a.$N=Boolean(e.getDerivedStateFromProps||a.getSnapshotBeforeUpdate);if(a.$SVG=o,a.$L=r,t.children=a,a.$BS=!1,a.context=i,a.props===d&&(a.props=n),l)a.state=x(a,n,a.state);else if(s(a.componentWillMount)){a.$BR=!0,a.componentWillMount();var u=a.$PS;if(!c(u)){var h=a.state;if(c(h))a.state=u;else for(var p in u)h[p]=u[p];a.$PS=null}a.$BR=!1}return a.$LI=At(a,n,i),a}function Bt(t,e){var n=t.props||d;return 32768&t.flags?t.type.render(n,t.ref,e):t.type(n,e)}function Lt(t,e,n,i,o,r){var a=t.flags|=16384;481&a?zt(t,e,n,i,o,r):4&a?function(t,e,n,i,o,r){var a=Rt(t,t.type,t.props||d,n,i,r);Lt(a.$LI,e,a.$CX,i,o,r),Ht(t.ref,a,r)}(t,e,n,i,o,r):8&a?(!function(t,e,n,i,o,r){Lt(t.children=U(Bt(t,n)),e,n,i,o,r)}(t,e,n,i,o,r),Vt(t,r)):512&a||16&a?Nt(t,e,o):8192&a?function(t,e,n,i,o,r){var a=t.children,s=t.childFlags;12&s&&0===a.length&&(s=t.childFlags=2,a=t.children=N());2===s?Lt(a,n,e,i,o,r):Ft(a,n,e,i,o,r)}(t,n,e,i,o,r):1024&a&&function(t,e,n,i,o){Lt(t.children,t.ref,e,!1,null,o);var r=N();Nt(r,n,i),t.dom=r.dom}(t,n,e,o,r)}function Nt(t,e,n){var i=t.dom=document.createTextNode(t.children);c(e)||g(e,i,n)}function zt(t,e,n,i,o,a){var s=t.flags,l=t.props,u=t.className,h=t.childFlags,d=t.dom=function(t,e){return e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t)}(t.type,i=i||(32&s)>0),p=t.children;if(r(u)||""===u||(i?d.setAttribute("class",u):d.className=u),16===h)P(d,p);else if(1!==h){var f=i&&"foreignObject"!==t.type;2===h?(16384&p.flags&&(t.children=p=L(p)),Lt(p,d,n,f,null,a)):8!==h&&4!==h||Ft(p,d,n,f,null,a)}c(e)||g(e,d,o),c(l)||Dt(t,s,l,d,i),wt(t.ref,d,a)}function Ft(t,e,n,i,o,r){for(var a=0;a<t.length;++a){var s=t[a];16384&s.flags&&(t[a]=s=L(s)),Lt(s,e,n,i,o,r)}}function Ht(t,e,n){wt(t,e,n),s(e.componentDidMount)&&n.push(function(t){return function(){t.componentDidMount()}}(e))}function Vt(t,e){var n=t.ref;r(n)||(T(n.onComponentWillMount,t.props||d),s(n.onComponentDidMount)&&e.push(function(t,e){return function(){t.onComponentDidMount(b(e,!0),e.props||d)}}(n,t)))}function Ut(t,e,n,i,o,l,h){var p=e.flags|=16384;t.flags!==p||t.type!==e.type||t.key!==e.key||2048&p?16384&t.flags?function(t,e,n,i,o,r){kt(t),0!==(e.flags&t.flags&2033)?(Lt(e,null,i,o,null,r),function(t,e,n){t.replaceChild(e,n)}(n,e.dom,t.dom)):(Lt(e,n,i,o,b(t,!0),r),C(t,n))}(t,e,n,i,o,h):Lt(e,n,i,o,l,h):481&p?function(t,e,n,i,o,a){var s,l=e.dom=t.dom,c=t.props,u=e.props,h=!1,p=!1;if(i=i||(32&o)>0,c!==u){var f=c||d;if((s=u||d)!==d)for(var m in(h=(448&o)>0)&&(p=Ot(s)),s){var g=f[m],v=s[m];g!==v&&Mt(m,g,v,l,i,p,t)}if(f!==d)for(var y in f)r(s[y])&&!r(f[y])&&Mt(y,f[y],null,l,i,p,t)}var _=e.children,b=e.className;t.className!==b&&(r(b)?l.removeAttribute("class"):i?l.setAttribute("class",b):l.className=b);4096&o?function(t,e){t.textContent!==e&&(t.textContent=e)}(l,_):Wt(t.childFlags,e.childFlags,t.children,_,l,n,i&&"foreignObject"!==e.type,null,t,a);h&&bt(o,e,l,s,!1,p);var C=e.ref,O=t.ref;O!==C&&(St(O),wt(C,l,a))}(t,e,i,o,p,h):4&p?function(t,e,n,i,o,r,a){var l=e.children=t.children;if(c(l))return;l.$L=a;var h=e.props||d,p=e.ref,f=t.ref,m=l.state;if(!l.$N){if(s(l.componentWillReceiveProps)){if(l.$BR=!0,l.componentWillReceiveProps(h,i),l.$UN)return;l.$BR=!1}c(l.$PS)||(m=u(m,l.$PS),l.$PS=null)}Kt(l,m,h,n,i,o,!1,r,a),f!==p&&(St(f),wt(p,l,a))}(t,e,n,i,o,l,h):8&p?function(t,e,n,i,o,a,l){var c=!0,u=e.props||d,h=e.ref,p=t.props,f=!r(h),m=t.children;f&&s(h.onComponentShouldUpdate)&&(c=h.onComponentShouldUpdate(p,u));if(!1!==c){f&&s(h.onComponentWillUpdate)&&h.onComponentWillUpdate(p,u);var g=U(Bt(e,i));Ut(m,g,n,i,o,a,l),e.children=g,f&&s(h.onComponentDidUpdate)&&h.onComponentDidUpdate(p,u)}else e.children=m}(t,e,n,i,o,l,h):16&p?function(t,e){var n=e.children,i=e.dom=t.dom;n!==t.children&&(i.nodeValue=n)}(t,e):512&p?e.dom=t.dom:8192&p?function(t,e,n,i,o,r){var a=t.children,s=e.children,l=t.childFlags,c=e.childFlags,u=null;12&c&&0===s.length&&(c=e.childFlags=2,s=e.children=N());var h=0!==(2&c);if(12&l){var d=a.length;(8&l&&8&c||h||!h&&s.length>d)&&(u=b(a[d-1],!1).nextSibling)}Wt(l,c,a,s,n,i,o,u,t,r)}(t,e,n,i,o,h):function(t,e,n,i){var o=t.ref,r=e.ref,s=e.children;if(Wt(t.childFlags,e.childFlags,t.children,s,o,n,!1,null,t,i),e.dom=t.dom,o!==r&&!a(s)){var l=s.dom;v(o,l),m(r,l)}}(t,e,i,h)}function Wt(t,e,n,i,o,r,a,s,l,c){switch(t){case 2:switch(e){case 2:Ut(n,i,o,r,a,s,c);break;case 1:Pt(n,o);break;case 16:kt(n),P(o,i);break;default:!function(t,e,n,i,o,r){kt(t),Ft(e,n,i,o,b(t,!0),r),C(t,n)}(n,i,o,r,a,c)}break;case 1:switch(e){case 2:Lt(i,o,r,a,s,c);break;case 1:break;case 16:P(o,i);break;default:Ft(i,o,r,a,s,c)}break;case 16:switch(e){case 16:!function(t,e,n){t!==e&&(""!==t?n.firstChild.nodeValue=e:P(n,e))}(n,i,o);break;case 2:Tt(o),Lt(i,o,r,a,s,c);break;case 1:Tt(o);break;default:Tt(o),Ft(i,o,r,a,s,c)}break;default:switch(e){case 16:Et(n),P(o,i);break;case 2:It(o,l,n),Lt(i,o,r,a,s,c);break;case 1:It(o,l,n);break;default:var u=0|n.length,h=0|i.length;0===u?h>0&&Ft(i,o,r,a,s,c):0===h?It(o,l,n):8===e&&8===t?function(t,e,n,i,o,r,a,s,l,c){var u,h,d=r-1,p=a-1,f=0,m=t[f],g=e[f];t:{for(;m.key===g.key;){if(16384&g.flags&&(e[f]=g=L(g)),Ut(m,g,n,i,o,s,c),t[f]=g,++f>d||f>p)break t;m=t[f],g=e[f]}for(m=t[d],g=e[p];m.key===g.key;){if(16384&g.flags&&(e[p]=g=L(g)),Ut(m,g,n,i,o,s,c),t[d]=g,p--,f>--d||f>p)break t;m=t[d],g=e[p]}}if(f>d){if(f<=p)for(h=(u=p+1)<a?b(e[u],!0):s;f<=p;)16384&(g=e[f]).flags&&(e[f]=g=L(g)),++f,Lt(g,n,i,o,h,c)}else if(f>p)for(;f<=d;)Pt(t[f++],n);else!function(t,e,n,i,o,r,a,s,l,c,u,h,d){var p,f,m,g=0,v=s,y=s,_=r-s+1,C=a-s+1,x=new Int32Array(C+1),S=_===i,w=!1,P=0,k=0;if(o<4||(_|C)<32)for(g=v;g<=r;++g)if(p=t[g],k<C){for(s=y;s<=a;s++)if(f=e[s],p.key===f.key){if(x[s-y]=g+1,S)for(S=!1;v<g;)Pt(t[v++],l);P>s?w=!0:P=s,16384&f.flags&&(e[s]=f=L(f)),Ut(p,f,l,n,c,u,d),++k;break}!S&&s>a&&Pt(p,l)}else S||Pt(p,l);else{var E={};for(g=y;g<=a;++g)E[e[g].key]=g;for(g=v;g<=r;++g)if(p=t[g],k<C)if(void 0!==(s=E[p.key])){if(S)for(S=!1;g>v;)Pt(t[v++],l);x[s-y]=g+1,P>s?w=!0:P=s,16384&(f=e[s]).flags&&(e[s]=f=L(f)),Ut(p,f,l,n,c,u,d),++k}else S||Pt(p,l);else S||Pt(p,l)}if(S)It(l,h,t),Ft(e,l,n,c,u,d);else if(w){var T=function(t){var e=0,n=0,i=0,o=0,r=0,a=0,s=0,l=t.length;l>$t&&($t=l,mt=new Int32Array(l),gt=new Int32Array(l));for(;n<l;++n)if(0!==(e=t[n])){if(i=mt[o],t[i]<e){gt[n]=i,mt[++o]=n;continue}for(r=0,a=o;r<a;)t[mt[s=r+a>>1]]<e?r=s+1:a=s;e<t[mt[r]]&&(r>0&&(gt[n]=mt[r-1]),mt[r]=n)}r=o+1;var c=new Int32Array(r);a=mt[r-1];for(;r-- >0;)c[r]=a,a=gt[a],mt[r]=0;return c}(x);for(s=T.length-1,g=C-1;g>=0;g--)0===x[g]?(16384&(f=e[P=g+y]).flags&&(e[P]=f=L(f)),Lt(f,l,n,c,(m=P+1)<o?b(e[m],!0):u,d)):s<0||g!==T[s]?O(f=e[P=g+y],l,(m=P+1)<o?b(e[m],!0):u):s--}else if(k!==C)for(g=C-1;g>=0;g--)0===x[g]&&(16384&(f=e[P=g+y]).flags&&(e[P]=f=L(f)),Lt(f,l,n,c,(m=P+1)<o?b(e[m],!0):u,d))}(t,e,i,r,a,d,p,f,n,o,s,l,c)}(n,i,o,r,a,u,h,s,l,c):function(t,e,n,i,o,r,a,s,l){for(var c,u,h=r>a?a:r,d=0;d<h;++d)c=e[d],u=t[d],16384&c.flags&&(c=e[d]=L(c)),Ut(u,c,n,i,o,s,l),t[d]=c;if(r<a)for(d=h;d<a;++d)16384&(c=e[d]).flags&&(c=e[d]=L(c)),Lt(c,n,i,o,s,l);else if(r>a)for(d=h;d<r;++d)Pt(t[d],n)}(n,i,o,r,a,u,h,s,c)}}}function Kt(t,e,n,i,o,r,a,l,c){var h=t.state,d=t.props,p=Boolean(t.$N),f=s(t.shouldComponentUpdate);if(p&&(e=x(t,n,e!==h?u(h,e):e)),a||!f||f&&t.shouldComponentUpdate(n,e,o)){!p&&s(t.componentWillUpdate)&&t.componentWillUpdate(n,e,o),t.props=n,t.state=e,t.context=o;var m=null,g=At(t,n,o);p&&s(t.getSnapshotBeforeUpdate)&&(m=t.getSnapshotBeforeUpdate(d,h)),Ut(t.$LI,g,i,t.$CX,r,l,c),t.$LI=g,s(t.componentDidUpdate)&&function(t,e,n,i,o){o.push(function(){t.componentDidUpdate(e,n,i)})}(t,d,h,m,c)}else t.props=n,t.state=e,t.context=o}var $t=0;function Gt(t,e,n,i){void 0===n&&(n=null),void 0===i&&(i=d),function(t,e,n,i){var o=[],a=e.$V;S.v=!0,r(a)?r(t)||(16384&t.flags&&(t=L(t)),Lt(t,e,i,!1,null,o),e.$V=t,a=t):r(t)?(Pt(a,e),e.$V=null):(16384&t.flags&&(t=L(t)),Ut(a,t,e,i,!1,null,o),a=e.$V=t),y(o),S.v=!1,s(n)&&n(),s(w.renderComplete)&&w.renderComplete(a,e)}(t,e,n,i)}"undefined"!==typeof document&&window.Node&&(Node.prototype.$EV=null,Node.prototype.$V=null);var qt=[],Zt="undefined"!==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):function(t){window.setTimeout(t,0)},Yt=!1;function Xt(t,e,n,i){var o=t.$PS;if(s(e)&&(e=e(o?u(t.state,o):t.state,t.props,t.context)),r(o))t.$PS=e;else for(var a in e)o[a]=e[a];if(t.$BR)s(n)&&t.$L.push(n.bind(t));else{if(!S.v&&0===qt.length)return te(t,i),void(s(n)&&n.call(t));if(-1===qt.indexOf(t)&&qt.push(t),i&&(t.$F=!0),Yt||(Yt=!0,Zt(Jt)),s(n)){var l=t.$QU;l||(l=t.$QU=[]),l.push(n)}}}function Qt(t){for(var e=t.$QU,n=0;n<e.length;++n)e[n].call(t);t.$QU=null}function Jt(){var t;for(Yt=!1;t=qt.shift();)if(!t.$UN){var e=t.$F;t.$F=!1,te(t,e),t.$QU&&Qt(t)}}function te(t,e){if(e||!t.$BR){var n=t.$PS;t.$PS=null;var i=[];S.v=!0,Kt(t,u(t.state,n),t.props,b(t.$LI,!0).parentNode,t.context,t.$SVG,e,null,i),y(i),S.v=!1}else t.state=t.$PS,t.$PS=null}var ee=function(t,e){this.state=null,this.$BR=!1,this.$BS=!0,this.$PS=null,this.$LI=null,this.$UN=!1,this.$CX=null,this.$QU=null,this.$N=!1,this.$L=null,this.$SVG=!1,this.$F=!1,this.props=t||d,this.context=e||d};ee.prototype.forceUpdate=function(t){this.$UN||Xt(this,{},t,!0)},ee.prototype.setState=function(t,e){this.$UN||this.$BS||Xt(this,t,e,!1)},ee.prototype.render=function(t,e,n){return null};n.d(e,"a",function(){return ee}),n.d(e,"b",function(){return d}),n.d(e,"c",function(){return Rt}),n.d(e,"d",function(){return U}),n.d(e,"e",function(){return Lt}),n.d(e,"f",function(){return Ht}),n.d(e,"g",function(){return zt}),n.d(e,"h",function(){return Vt}),n.d(e,"i",function(){return Dt}),n.d(e,"j",function(){return wt}),n.d(e,"k",function(){return Bt}),n.d(e,"l",function(){return D}),n.d(e,"m",function(){return R}),n.d(e,"n",function(){return z}),n.d(e,"o",function(){return xt}),n.d(e,"p",function(){return M}),n.d(e,"q",function(){return b}),n.d(e,"r",function(){return H}),n.d(e,"s",function(){return B}),n.d(e,"t",function(){return Gt}),n.d(e,"u",function(){return Jt})},function(t,e,n){"use strict";var i=n(2),o=new(n(153).a),r=n(38),a=n(108);o.add(function(t,e){i.a.fn[t]=function(n){var i;if("string"===typeof n){var o=n,a=[].slice.call(arguments).slice(1);this.each(function(){var n=e.getInstance(this);if(!n)throw r.a.Error("E0009",t);var s=n[o].apply(n,a);void 0===i&&(i=s)})}else this.each(function(){var t=e.getInstance(this);t?t.option(n):new e(this,n)}),i=this;return i}});e.a=function(t,e,n){n?e[t]=n:n=e,Object(a.c)(n,t),o.fire(t,n)}},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"g",function(){return o}),n.d(e,"b",function(){return r}),n.d(e,"e",function(){return a}),n.d(e,"a",function(){return c}),n.d(e,"d",function(){return u}),n.d(e,"c",function(){return s}),n.d(e,"f",function(){return l});var i=n(1),o=function(t){return 0===t?0:t/Math.abs(t)},r=function(t,e,n){var i=!e&&0!==e,o=!n&&0!==n;return i&&(e=o?t:Math.min(t,n)),o&&(n=i?t:Math.max(t,e)),Math.min(Math.max(t,e),n)},a=function(t,e,n){return t>=e&&t<=n};function s(t){return Math.abs(parseInt(t.toExponential().split("e")[1]))}function l(t,e){var n=function(t){var e=t.toExponential().split("e"),n=parseFloat(e[0]);return{exponent:parseInt(e[1]),mantissa:n}}(t);return parseFloat("".concat(n.mantissa,"e").concat(n.exponent+e))}function c(t,e){var n,o=u(e||0)+2,r=t.toString().split("."),a=t,l=Math.abs(t),c=Object(i.g)(t),h=l>1?10:0;return 1===r.length?t:(c||(Object(i.g)(e)&&(o=r[0].length+s(e)),t=(t=l)-Math.floor(t)+h),o="0.000300"!==3e-4.toPrecision(3)&&s(t)>6||o>7?15:7,c||(n=parseFloat(t.toPrecision(o)).toString().split("."))[0]!==h.toString()?parseFloat(a.toPrecision(o)):parseFloat(r[0]+"."+n[1]))}function u(t){var e=t.toString();if(e.indexOf(".")<0)return 0;var n=e.split("."),i=n[1].indexOf("e");return i>=0?i:n[1].length}},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return It}),n.d(e,"b",function(){return Rt}),n.d(e,"c",function(){return yt});var i=n(222),o=n(4),r=n.n(o),a=n(239),s=n.n(a),l=n(240),c=n(241),u=n(225),h=n(223),d=n.n(h);function p(){return(p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var f=function(t,e){for(var n=[t[0]],i=0,o=e.length;i<o;i+=1)n.push(e[i],t[i+1]);return n},m=function(t){return null!==t&&"object"==typeof t&&"[object Object]"===(t.toString?t.toString():Object.prototype.toString.call(t))&&!Object(i.typeOf)(t)},g=Object.freeze([]),v=Object.freeze({});function y(t){return"function"==typeof t}function _(t){return t.displayName||t.name||"Component"}function b(t){return t&&"string"==typeof t.styledComponentId}var C="undefined"!=typeof t&&(Object({NODE_ENV:"production",PUBLIC_URL:"/MySiteReact",REACT_APP_OPEN_WHEATHER_KEY:"3068f5fc24ae8ae6d7ebee42e2b41a6e"}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:"/MySiteReact",REACT_APP_OPEN_WHEATHER_KEY:"3068f5fc24ae8ae6d7ebee42e2b41a6e"}).SC_ATTR)||"data-styled",O="undefined"!=typeof window&&"HTMLElement"in window,x=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof t&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/MySiteReact",REACT_APP_OPEN_WHEATHER_KEY:"3068f5fc24ae8ae6d7ebee42e2b41a6e"}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"/MySiteReact",REACT_APP_OPEN_WHEATHER_KEY:"3068f5fc24ae8ae6d7ebee42e2b41a6e"}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:"/MySiteReact",REACT_APP_OPEN_WHEATHER_KEY:"3068f5fc24ae8ae6d7ebee42e2b41a6e"}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"/MySiteReact",REACT_APP_OPEN_WHEATHER_KEY:"3068f5fc24ae8ae6d7ebee42e2b41a6e"}).REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof t&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/MySiteReact",REACT_APP_OPEN_WHEATHER_KEY:"3068f5fc24ae8ae6d7ebee42e2b41a6e"}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"/MySiteReact",REACT_APP_OPEN_WHEATHER_KEY:"3068f5fc24ae8ae6d7ebee42e2b41a6e"}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:"/MySiteReact",REACT_APP_OPEN_WHEATHER_KEY:"3068f5fc24ae8ae6d7ebee42e2b41a6e"}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"/MySiteReact",REACT_APP_OPEN_WHEATHER_KEY:"3068f5fc24ae8ae6d7ebee42e2b41a6e"}).SC_DISABLE_SPEEDY)),S={};function w(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var P=function(){function t(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=t.prototype;return e.indexOfGroup=function(t){for(var e=0,n=0;n<t;n++)e+=this.groupSizes[n];return e},e.insertRules=function(t,e){if(t>=this.groupSizes.length){for(var n=this.groupSizes,i=n.length,o=i;t>=o;)(o<<=1)<0&&w(16,""+t);this.groupSizes=new Uint32Array(o),this.groupSizes.set(n),this.length=o;for(var r=i;r<o;r++)this.groupSizes[r]=0}for(var a=this.indexOfGroup(t+1),s=0,l=e.length;s<l;s++)this.tag.insertRule(a,e[s])&&(this.groupSizes[t]++,a++)},e.clearGroup=function(t){if(t<this.length){var e=this.groupSizes[t],n=this.indexOfGroup(t),i=n+e;this.groupSizes[t]=0;for(var o=n;o<i;o++)this.tag.deleteRule(n)}},e.getGroup=function(t){var e="";if(t>=this.length||0===this.groupSizes[t])return e;for(var n=this.groupSizes[t],i=this.indexOfGroup(t),o=i+n,r=i;r<o;r++)e+=this.tag.getRule(r)+"/*!sc*/\n";return e},t}(),k=new Map,E=new Map,T=1,I=function(t){if(k.has(t))return k.get(t);for(;E.has(T);)T++;var e=T++;return k.set(t,e),E.set(e,t),e},j=function(t){return E.get(t)},M=function(t,e){e>=T&&(T=e+1),k.set(t,e),E.set(e,t)},D="style["+C+'][data-styled-version="5.3.6"]',A=new RegExp("^"+C+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),R=function(t,e,n){for(var i,o=n.split(","),r=0,a=o.length;r<a;r++)(i=o[r])&&t.registerName(e,i)},B=function(t,e){for(var n=(e.textContent||"").split("/*!sc*/\n"),i=[],o=0,r=n.length;o<r;o++){var a=n[o].trim();if(a){var s=a.match(A);if(s){var l=0|parseInt(s[1],10),c=s[2];0!==l&&(M(c,l),R(t,c,s[3]),t.getTag().insertRules(l,i)),i.length=0}else i.push(a)}}},L=function(){return n.nc},N=function(t){var e=document.head,n=t||e,i=document.createElement("style"),o=function(t){for(var e=t.childNodes,n=e.length;n>=0;n--){var i=e[n];if(i&&1===i.nodeType&&i.hasAttribute(C))return i}}(n),r=void 0!==o?o.nextSibling:null;i.setAttribute(C,"active"),i.setAttribute("data-styled-version","5.3.6");var a=L();return a&&i.setAttribute("nonce",a),n.insertBefore(i,r),i},z=function(){function t(t){var e=this.element=N(t);e.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var e=document.styleSheets,n=0,i=e.length;n<i;n++){var o=e[n];if(o.ownerNode===t)return o}w(17)}(e),this.length=0}var e=t.prototype;return e.insertRule=function(t,e){try{return this.sheet.insertRule(e,t),this.length++,!0}catch(t){return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var e=this.sheet.cssRules[t];return void 0!==e&&"string"==typeof e.cssText?e.cssText:""},t}(),F=function(){function t(t){var e=this.element=N(t);this.nodes=e.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(t,e){if(t<=this.length&&t>=0){var n=document.createTextNode(e),i=this.nodes[t];return this.element.insertBefore(n,i||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},t}(),H=function(){function t(t){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(t,e){return t<=this.length&&(this.rules.splice(t,0,e),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},t}(),V=O,U={isServer:!O,useCSSOMInjection:!x},W=function(){function t(t,e,n){void 0===t&&(t=v),void 0===e&&(e={}),this.options=p({},U,{},t),this.gs=e,this.names=new Map(n),this.server=!!t.isServer,!this.server&&O&&V&&(V=!1,function(t){for(var e=document.querySelectorAll(D),n=0,i=e.length;n<i;n++){var o=e[n];o&&"active"!==o.getAttribute(C)&&(B(t,o),o.parentNode&&o.parentNode.removeChild(o))}}(this))}t.registerId=function(t){return I(t)};var e=t.prototype;return e.reconstructWithOptions=function(e,n){return void 0===n&&(n=!0),new t(p({},this.options,{},e),this.gs,n&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(n=(e=this.options).isServer,i=e.useCSSOMInjection,o=e.target,t=n?new H(o):i?new z(o):new F(o),new P(t)));var t,e,n,i,o},e.hasNameForId=function(t,e){return this.names.has(t)&&this.names.get(t).has(e)},e.registerName=function(t,e){if(I(t),this.names.has(t))this.names.get(t).add(e);else{var n=new Set;n.add(e),this.names.set(t,n)}},e.insertRules=function(t,e,n){this.registerName(t,e),this.getTag().insertRules(I(t),n)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(I(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var e=t.getTag(),n=e.length,i="",o=0;o<n;o++){var r=j(o);if(void 0!==r){var a=t.names.get(r),s=e.getGroup(o);if(a&&s&&a.size){var l=C+".g"+o+'[id="'+r+'"]',c="";void 0!==a&&a.forEach(function(t){t.length>0&&(c+=t+",")}),i+=""+s+l+'{content:"'+c+'"}/*!sc*/\n'}}}return i}(this)},t}(),K=/(a)(d)/gi,$=function(t){return String.fromCharCode(t+(t>25?39:97))};function G(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=$(e%52)+n;return($(e%52)+n).replace(K,"$1-$2")}var q=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},Z=function(t){return q(5381,t)};function Y(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(y(n)&&!b(n))return!1}return!0}var X=Z("5.3.6"),Q=function(){function t(t,e,n){this.rules=t,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Y(t),this.componentId=e,this.baseHash=q(X,e),this.baseStyle=n,W.registerId(e)}return t.prototype.generateAndInjectStyles=function(t,e,n){var i=this.componentId,o=[];if(this.baseStyle&&o.push(this.baseStyle.generateAndInjectStyles(t,e,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&e.hasNameForId(i,this.staticRulesId))o.push(this.staticRulesId);else{var r=gt(this.rules,t,e,n).join(""),a=G(q(this.baseHash,r)>>>0);if(!e.hasNameForId(i,a)){var s=n(r,"."+a,void 0,i);e.insertRules(i,a,s)}o.push(a),this.staticRulesId=a}else{for(var l=this.rules.length,c=q(this.baseHash,n.hash),u="",h=0;h<l;h++){var d=this.rules[h];if("string"==typeof d)u+=d;else if(d){var p=gt(d,t,e,n),f=Array.isArray(p)?p.join(""):p;c=q(c,f+h),u+=f}}if(u){var m=G(c>>>0);if(!e.hasNameForId(i,m)){var g=n(u,"."+m,void 0,i);e.insertRules(i,m,g)}o.push(m)}}return o.join(" ")},t}(),J=/^\s*\/\/.*$/gm,tt=[":","[",".","#"];function et(t){var e,n,i,o,r=void 0===t?v:t,a=r.options,s=void 0===a?v:a,c=r.plugins,u=void 0===c?g:c,h=new l.a(s),d=[],p=function(t){function e(e){if(e)try{t(e+"}")}catch(t){}}return function(n,i,o,r,a,s,l,c,u,h){switch(n){case 1:if(0===u&&64===i.charCodeAt(0))return t(i+";"),"";break;case 2:if(0===c)return i+"/*|*/";break;case 3:switch(c){case 102:case 112:return t(o[0]+i),"";default:return i+(0===h?"/*|*/":"")}case-2:i.split("/*|*/}").forEach(e)}}}(function(t){d.push(t)}),f=function(t,i,r){return 0===i&&-1!==tt.indexOf(r[n.length])||r.match(o)?t:"."+e};function m(t,r,a,s){void 0===s&&(s="&");var l=t.replace(J,""),c=r&&a?a+" "+r+" { "+l+" }":l;return e=s,n=r,i=new RegExp("\\"+n+"\\b","g"),o=new RegExp("(\\"+n+"\\b){2,}"),h(a||!r?"":r,c)}return h.use([].concat(u,[function(t,e,o){2===t&&o.length&&o[0].lastIndexOf(n)>0&&(o[0]=o[0].replace(i,f))},p,function(t){if(-2===t){var e=d;return d=[],e}}])),m.hash=u.length?u.reduce(function(t,e){return e.name||w(15),q(t,e.name)},5381).toString():"",m}var nt=r.a.createContext(),it=(nt.Consumer,r.a.createContext()),ot=(it.Consumer,new W),rt=et();function at(){return Object(o.useContext)(nt)||ot}function st(){return Object(o.useContext)(it)||rt}function lt(t){var e=Object(o.useState)(t.stylisPlugins),n=e[0],i=e[1],a=at(),l=Object(o.useMemo)(function(){var e=a;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e},[t.disableCSSOMInjection,t.sheet,t.target]),c=Object(o.useMemo)(function(){return et({options:{prefix:!t.disableVendorPrefixes},plugins:n})},[t.disableVendorPrefixes,n]);return Object(o.useEffect)(function(){s()(n,t.stylisPlugins)||i(t.stylisPlugins)},[t.stylisPlugins]),r.a.createElement(nt.Provider,{value:l},r.a.createElement(it.Provider,{value:c},t.children))}var ct=function(){function t(t,e){var n=this;this.inject=function(t,e){void 0===e&&(e=rt);var i=n.name+e.hash;t.hasNameForId(n.id,i)||t.insertRules(n.id,i,e(n.rules,i,"@keyframes"))},this.toString=function(){return w(12,String(n.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=e}return t.prototype.getName=function(t){return void 0===t&&(t=rt),this.name+t.hash},t}(),ut=/([A-Z])/,ht=/([A-Z])/g,dt=/^ms-/,pt=function(t){return"-"+t.toLowerCase()};function ft(t){return ut.test(t)?t.replace(ht,pt).replace(dt,"-ms-"):t}var mt=function(t){return null==t||!1===t||""===t};function gt(t,e,n,i){if(Array.isArray(t)){for(var o,r=[],a=0,s=t.length;a<s;a+=1)""!==(o=gt(t[a],e,n,i))&&(Array.isArray(o)?r.push.apply(r,o):r.push(o));return r}return mt(t)?"":b(t)?"."+t.styledComponentId:y(t)?"function"!=typeof(l=t)||l.prototype&&l.prototype.isReactComponent||!e?t:gt(t(e),e,n,i):t instanceof ct?n?(t.inject(n,i),t.getName(i)):t:m(t)?function t(e,n){var i,o,r=[];for(var a in e)e.hasOwnProperty(a)&&!mt(e[a])&&(Array.isArray(e[a])&&e[a].isCss||y(e[a])?r.push(ft(a)+":",e[a],";"):m(e[a])?r.push.apply(r,t(e[a],a)):r.push(ft(a)+": "+(i=a,null==(o=e[a])||"boolean"==typeof o||""===o?"":"number"!=typeof o||0===o||i in c.a?String(o).trim():o+"px")+";"));return n?[n+" {"].concat(r,["}"]):r}(t):t.toString();var l}var vt=function(t){return Array.isArray(t)&&(t.isCss=!0),t};function yt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return y(t)||m(t)?vt(gt(f(g,[t].concat(n)))):0===n.length&&1===t.length&&"string"==typeof t[0]?t:vt(gt(f(t,n)))}new Set;var _t=function(t,e,n){return void 0===n&&(n=v),t.theme!==n.theme&&t.theme||e||n.theme},bt=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ct=/(^-|-$)/g;function Ot(t){return t.replace(bt,"-").replace(Ct,"")}var xt=function(t){return G(Z(t)>>>0)};function St(t){return"string"==typeof t&&!0}var wt=function(t){return"function"==typeof t||"object"==typeof t&&null!==t&&!Array.isArray(t)},Pt=function(t){return"__proto__"!==t&&"constructor"!==t&&"prototype"!==t};function kt(t,e,n){var i=t[n];wt(e)&&wt(i)?Et(i,e):t[n]=e}function Et(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(var o=0,r=n;o<r.length;o++){var a=r[o];if(wt(a))for(var s in a)Pt(s)&&kt(t,a[s],s)}return t}var Tt=r.a.createContext();Tt.Consumer;function It(t){var e=Object(o.useContext)(Tt),n=Object(o.useMemo)(function(){return function(t,e){return t?y(t)?t(e):Array.isArray(t)||"object"!=typeof t?w(8):e?p({},e,{},t):t:w(14)}(t.theme,e)},[t.theme,e]);return t.children?r.a.createElement(Tt.Provider,{value:n},t.children):null}var jt={};function Mt(t,e,n){var i=b(t),a=!St(t),s=e.attrs,l=void 0===s?g:s,c=e.componentId,h=void 0===c?function(t,e){var n="string"!=typeof t?"sc":Ot(t);jt[n]=(jt[n]||0)+1;var i=n+"-"+xt("5.3.6"+n+jt[n]);return e?e+"-"+i:i}(e.displayName,e.parentComponentId):c,f=e.displayName,m=void 0===f?function(t){return St(t)?"styled."+t:"Styled("+_(t)+")"}(t):f,C=e.displayName&&e.componentId?Ot(e.displayName)+"-"+e.componentId:e.componentId||h,O=i&&t.attrs?Array.prototype.concat(t.attrs,l).filter(Boolean):l,x=e.shouldForwardProp;i&&t.shouldForwardProp&&(x=e.shouldForwardProp?function(n,i,o){return t.shouldForwardProp(n,i,o)&&e.shouldForwardProp(n,i,o)}:t.shouldForwardProp);var S,w=new Q(n,C,i?t.componentStyle:void 0),P=w.isStatic&&0===l.length,k=function(t,e){return function(t,e,n,i){var r=t.attrs,a=t.componentStyle,s=t.defaultProps,l=t.foldedComponentIds,c=t.shouldForwardProp,h=t.styledComponentId,d=t.target,f=function(t,e,n){void 0===t&&(t=v);var i=p({},e,{theme:t}),o={};return n.forEach(function(t){var e,n,r,a=t;for(e in y(a)&&(a=a(i)),a)i[e]=o[e]="className"===e?(n=o[e],r=a[e],n&&r?n+" "+r:n||r):a[e]}),[i,o]}(_t(e,Object(o.useContext)(Tt),s)||v,e,r),m=f[0],g=f[1],_=function(t,e,n,i){var o=at(),r=st();return e?t.generateAndInjectStyles(v,o,r):t.generateAndInjectStyles(n,o,r)}(a,i,m),b=n,C=g.$as||e.$as||g.as||e.as||d,O=St(C),x=g!==e?p({},e,{},g):e,S={};for(var w in x)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?S.as=x[w]:(c?c(w,u.a,C):!O||Object(u.a)(w))&&(S[w]=x[w]));return e.style&&g.style!==e.style&&(S.style=p({},e.style,{},g.style)),S.className=Array.prototype.concat(l,h,_!==h?_:null,e.className,g.className).filter(Boolean).join(" "),S.ref=b,Object(o.createElement)(C,S)}(S,t,e,P)};return k.displayName=m,(S=r.a.forwardRef(k)).attrs=O,S.componentStyle=w,S.displayName=m,S.shouldForwardProp=x,S.foldedComponentIds=i?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):g,S.styledComponentId=C,S.target=i?t.target:t,S.withComponent=function(t){var i=e.componentId,o=function(t,e){if(null==t)return{};var n,i,o={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(o[n]=t[n]);return o}(e,["componentId"]),r=i&&i+"-"+(St(t)?t:Ot(_(t)));return Mt(t,p({},o,{attrs:O,componentId:r}),n)},Object.defineProperty(S,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?Et({},t.defaultProps,e):e}}),S.toString=function(){return"."+S.styledComponentId},a&&d()(S,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),S}var Dt=function(t){return function t(e,n,o){if(void 0===o&&(o=v),!Object(i.isValidElementType)(n))return w(1,String(n));var r=function(){return e(n,o,yt.apply(void 0,arguments))};return r.withConfig=function(i){return t(e,n,p({},o,{},i))},r.attrs=function(i){return t(e,n,p({},o,{attrs:Array.prototype.concat(o.attrs,i).filter(Boolean)}))},r}(Mt,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(t){Dt[t]=Dt(t)});var At=function(){function t(t,e){this.rules=t,this.componentId=e,this.isStatic=Y(t),W.registerId(this.componentId+1)}var e=t.prototype;return e.createStyles=function(t,e,n,i){var o=i(gt(this.rules,e,n,i).join(""),""),r=this.componentId+t;n.insertRules(r,r,o)},e.removeStyles=function(t,e){e.clearRules(this.componentId+t)},e.renderStyles=function(t,e,n,i){t>2&&W.registerId(this.componentId+t),this.removeStyles(t,n),this.createStyles(t,e,n,i)},t}();function Rt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var a=yt.apply(void 0,[t].concat(n)),s="sc-global-"+xt(JSON.stringify(a)),l=new At(a,s);function c(t){var e=at(),n=st(),i=Object(o.useContext)(Tt),r=Object(o.useRef)(e.allocateGSInstance(s)).current;return e.server&&u(r,t,e,i,n),Object(o.useLayoutEffect)(function(){if(!e.server)return u(r,t,e,i,n),function(){return l.removeStyles(r,e)}},[r,t,e,i,n]),null}function u(t,e,n,i,o){if(l.isStatic)l.renderStyles(t,S,n,o);else{var r=p({},e,{theme:_t(e,i,c.defaultProps)});l.renderStyles(t,r,n,o)}}return r.a.memo(c)}!function(){function t(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString();if(!e)return"";var n=L();return"<style "+[n&&'nonce="'+n+'"',C+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+e+"</style>"},this.getStyleTags=function(){return t.sealed?w(2):t._emitSheetCSS()},this.getStyleElement=function(){var e;if(t.sealed)return w(2);var n=((e={})[C]="",e["data-styled-version"]="5.3.6",e.dangerouslySetInnerHTML={__html:t.instance.toString()},e),i=L();return i&&(n.nonce=i),[r.a.createElement("style",p({},n,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new W({isServer:!0}),this.sealed=!1}var e=t.prototype;e.collectStyles=function(t){return this.sealed?w(2):r.a.createElement(lt,{sheet:this.instance},t)},e.interleaveWithNodeStream=function(t){return w(3)}}();e.d=Dt}).call(this,n(219))},function(t,e,n){"use strict";n.d(e,"a",function(){return $}),n.d(e,"b",function(){return G}),n.d(e,"c",function(){return q}),n.d(e,"d",function(){return b}),n.d(e,"e",function(){return C}),n.d(e,"f",function(){return x}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return Y}),n.d(e,"i",function(){return W}),n.d(e,"j",function(){return k}),n.d(e,"k",function(){return T}),n.d(e,"l",function(){return V}),n.d(e,"m",function(){return I}),n.d(e,"n",function(){return H}),n.d(e,"o",function(){return j});var i=n(41),o=n(12),r=n(13),a=n(19),s=n(6),l=n(18),c=n(40),u=n(35),h=n(4);function d(){return(d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var p="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},f=h.useState,m=h.useEffect,g=h.useLayoutEffect,v=h.useDebugValue;function y(t){var e=t.getSnapshot,n=t.value;try{var i=e();return!p(n,i)}catch(o){return!0}}var _=!!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?function(t,e,n){return e()}:function(t,e,n){var i=e(),o=f({inst:{value:i,getSnapshot:e}}),r=Object(c.a)(o,2),a=r[0].inst,s=r[1];return g(function(){a.value=i,a.getSnapshot=e,y(a)&&s({inst:a})},[t,i,e]),m(function(){return y(a)&&s({inst:a}),t(function(){y(a)&&s({inst:a})})},[t]),v(i),i},b=("useSyncExternalStore"in h&&h.useSyncExternalStore,h.createContext(null));var C=h.createContext(null);var O=h.createContext(null);var x=h.createContext(null);var S=h.createContext(null);var w=h.createContext({outlet:null,matches:[]});var P=h.createContext(null);function k(t,e){var n=(void 0===e?{}:e).relative;E()||Object(u.e)(!1);var i=h.useContext(x),o=i.basename,r=i.navigator,a=j(t,{relative:n}),s=a.hash,l=a.pathname,c=a.search,d=l;return"/"!==o&&(d="/"===l?o:Object(u.l)([o,l])),r.createHref({pathname:d,search:c,hash:s})}function E(){return null!=h.useContext(S)}function T(){return E()||Object(u.e)(!1),h.useContext(S).location}function I(){E()||Object(u.e)(!1);var t=h.useContext(x),e=t.basename,n=t.navigator,i=h.useContext(w).matches,o=T().pathname,r=JSON.stringify(Object(u.d)(i).map(function(t){return t.pathnameBase})),a=h.useRef(!1);return h.useEffect(function(){a.current=!0}),h.useCallback(function(t,i){if(void 0===i&&(i={}),a.current)if("number"!==typeof t){var s=Object(u.p)(t,JSON.parse(r),o,"path"===i.relative);"/"!==e&&(s.pathname="/"===s.pathname?e:Object(u.l)([e,s.pathname])),(i.replace?n.replace:n.push)(s,i.state,i)}else n.go(t)},[e,n,r,o])}function j(t,e){var n=(void 0===e?{}:e).relative,i=h.useContext(w).matches,o=T().pathname,r=JSON.stringify(Object(u.d)(i).map(function(t){return t.pathnameBase}));return h.useMemo(function(){return Object(u.p)(t,JSON.parse(r),o,"path"===n)},[t,r,o,n])}function M(){var t=function(){var t,e=h.useContext(P),n=z(A.UseRouteError),i=F(A.UseRouteError);if(e)return e;return null==(t=n.errors)?void 0:t[i]}(),e=Object(u.k)(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),n?h.createElement("pre",{style:i},n):null,null)}var D,A,R=function(t){function e(t){var n;return Object(o.a)(this,e),(n=Object(a.a)(this,Object(s.a)(e).call(this,t))).state={location:t.location,error:t.error},n}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidCatch",value:function(t,e){console.error("React Router caught the following error during render",t,e)}},{key:"render",value:function(){return this.state.error?h.createElement(w.Provider,{value:this.props.routeContext},h.createElement(P.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(t){return{error:t}}},{key:"getDerivedStateFromProps",value:function(t,e){return e.location!==t.location?{error:t.error,location:t.location}:{error:t.error||e.error,location:e.location}}}]),e}(h.Component);function B(t){var e=t.routeContext,n=t.match,i=t.children,o=h.useContext(b);return o&&o.static&&o.staticContext&&n.route.errorElement&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(w.Provider,{value:e},i)}function L(t,e,n){if(void 0===e&&(e=[]),null==t){if(null==n||!n.errors)return null;t=n.matches}var i=t,o=null==n?void 0:n.errors;if(null!=o){var r=i.findIndex(function(t){return t.route.id&&(null==o?void 0:o[t.route.id])});r>=0||Object(u.e)(!1),i=i.slice(0,Math.min(i.length,r+1))}return i.reduceRight(function(t,r,a){var s=r.route.id?null==o?void 0:o[r.route.id]:null,l=n?r.route.errorElement||h.createElement(M,null):null,c=e.concat(i.slice(0,a+1)),u=function(){return h.createElement(B,{match:r,routeContext:{outlet:t,matches:c}},s?l:void 0!==r.route.element?r.route.element:t)};return n&&(r.route.errorElement||0===a)?h.createElement(R,{location:n.location,component:l,error:s,children:u(),routeContext:{outlet:null,matches:c}}):u()},null)}function N(t){var e=h.useContext(b);return e||Object(u.e)(!1),e}function z(t){var e=h.useContext(C);return e||Object(u.e)(!1),e}function F(t){var e=function(t){var e=h.useContext(w);return e||Object(u.e)(!1),e}(),n=e.matches[e.matches.length-1];return n.route.id||Object(u.e)(!1),n.route.id}function H(){return z(A.UseNavigation).navigation}function V(){var t=z(A.UseMatches),e=t.matches,n=t.loaderData;return h.useMemo(function(){return e.map(function(t){var e=t.pathname,i=t.params;return{id:t.route.id,pathname:e,params:i,data:n[t.route.id],handle:t.route.handle}})},[e,n])}!function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"}(D||(D={})),function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"}(A||(A={}));var U=0;function W(t){var e=N(D.UseBlocker).router,n=h.useState(function(){return String(++U)}),i=Object(c.a)(n,1)[0],o=h.useCallback(function(e){return"function"===typeof t?!!t(e):!!t},[t]),r=e.getBlocker(i,o);return h.useEffect(function(){return function(){return e.deleteBlocker(i)}},[e,i]),r}var K;function $(t){Object(u.e)(!1)}function G(t){var e=t.basename,n=void 0===e?"/":e,i=t.children,o=void 0===i?null:i,r=t.location,a=t.navigationType,s=void 0===a?u.b.Pop:a,l=t.navigator,c=t.static,d=void 0!==c&&c;E()&&Object(u.e)(!1);var p=n.replace(/^\/*/,"/"),f=h.useMemo(function(){return{basename:p,navigator:l,static:d}},[p,l,d]);"string"===typeof r&&(r=Object(u.o)(r));var m=r,g=m.pathname,v=void 0===g?"/":g,y=m.search,_=void 0===y?"":y,b=m.hash,C=void 0===b?"":b,O=m.state,w=void 0===O?null:O,P=m.key,k=void 0===P?"default":P,T=h.useMemo(function(){var t=Object(u.q)(v,p);return null==t?null:{pathname:t,search:_,hash:C,state:w,key:k}},[p,v,_,C,w,k]);return null==T?null:h.createElement(x.Provider,{value:f},h.createElement(S.Provider,{children:o,value:{location:T,navigationType:s}}))}function q(t){var e=t.children,n=t.location,o=h.useContext(b);return function(t,e){E()||Object(u.e)(!1);var n,i=h.useContext(x).navigator,o=h.useContext(C),r=h.useContext(w).matches,a=r[r.length-1],s=a?a.params:{},l=(a&&a.pathname,a?a.pathnameBase:"/"),c=(a&&a.route,T());if(e){var p,f="string"===typeof e?Object(u.o)(e):e;"/"===l||null!=(p=f.pathname)&&p.startsWith(l)||Object(u.e)(!1),n=f}else n=c;var m=n.pathname||"/",g="/"===l?m:m.slice(l.length)||"/",v=Object(u.n)(t,{pathname:g}),y=L(v&&v.map(function(t){return Object.assign({},t,{params:Object.assign({},s,t.params),pathname:Object(u.l)([l,i.encodeLocation?i.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?l:Object(u.l)([l,i.encodeLocation?i.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])})}),r,o||void 0);return e&&y?h.createElement(S.Provider,{value:{location:d({pathname:"/",search:"",hash:"",state:null,key:"default"},n),navigationType:u.b.Pop}},y):y}(o&&!e?o.router.routes:function t(e,n){void 0===n&&(n=[]);var o=[];h.Children.forEach(e,function(e,r){if(h.isValidElement(e))if(e.type!==h.Fragment){e.type!==$&&Object(u.e)(!1),e.props.index&&e.props.children&&Object(u.e)(!1);var a=[].concat(Object(i.a)(n),[r]),s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(s.children=t(e.props.children,a)),o.push(s)}else o.push.apply(o,t(e.props.children,n))});return o}(e),n)}!function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"}(K||(K={}));var Z=new Promise(function(){});h.Component;function Y(t){return t.map(function(t){var e=d({},t);return null==e.hasErrorBoundary&&(e.hasErrorBoundary=null!=e.errorElement),e.children&&(e.children=Y(e.children)),e})}},function(t,e,n){"use strict";function i(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";var i=n(38),o=n(1),r=function(t,e,n){return function(){var i=this.callBase;this.callBase=t[e];try{return n.apply(this,arguments)}finally{this.callBase=i}}},a=function(t){var e,n,i;if(!t)return this;for(n in t)i=t[n],e="function"===typeof this.prototype[n]&&"function"===typeof i,this.prototype[n]=e?r(this.parent.prototype,n,i):i;return this},s=function(){var t,e,n,i=Object.prototype.hasOwnProperty.bind(this);for(!i("_includedCtors")&&!i("_includedPostCtors")&&(this._includedCtors=this._includedCtors.slice(0),this._includedPostCtors=this._includedPostCtors.slice(0)),n=0;n<arguments.length;n++)for(e in(t=arguments[n]).ctor&&this._includedCtors.push(t.ctor),t.postCtor&&this._includedPostCtors.push(t.postCtor),t)"ctor"!==e&&"postCtor"!==e&&"default"!==e&&(this.prototype[e]=t[e]);return this},l=function(t){if(!Object.prototype.hasOwnProperty.bind(this)("parent")&&this.parent){var e=Object.getPrototypeOf(this);return e===t||e.subclassOf(t)}return this.parent===t||!(!this.parent||!this.parent.subclassOf)&&this.parent.subclassOf(t)},c=function(){throw i.a.Error("E0001")},u=function(){var t=Object.prototype.hasOwnProperty;return function(e,n){for(var i in e){if(!t.call(e,i))return;n[i]=e[i]}}}(),h=function(){};h.inherit=function(t){var e=function(){if(!this||Object(o.p)(this)||"function"!==typeof this.constructor)throw i.a.Error("E0003");var t,e=this.ctor,n=this.constructor._includedCtors,r=this.constructor._includedPostCtors;for(t=0;t<n.length;t++)n[t].call(this);for(e&&e.apply(this,arguments),t=0;t<r.length;t++)r[t].call(this)};return e.prototype=function(t){var e=function(){};return e.prototype=t.prototype,new e}(this),u(this,e),e.inherit=this.inherit,e.abstract=c,e.redefine=a,e.include=s,e.subclassOf=l,e.parent=this,e._includedCtors=this._includedCtors?this._includedCtors.slice(0):[],e._includedPostCtors=this._includedPostCtors?this._includedPostCtors.slice(0):[],e.prototype.constructor=e,e.redefine(t),e},h.abstract=c,e.a=h},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=function(t){return t&&t.get(0)};function o(t){return i(t)}},function(t,e,n){"use strict";n.d(e,"d",function(){return c}),n.d(e,"a",function(){return d}),n.d(e,"c",function(){return p}),n.d(e,"b",function(){return f}),n.d(e,"e",function(){return m}),n.d(e,"g",function(){return g}),n.d(e,"f",function(){return v});var i=n(2),o=n(46),r=n(1),a="dxTranslator",s=/matrix(3d)?\((.+?)\)/,l=/translate(?:3d)?\((.+?)\)/,c=function(t){t=Object(i.a)(t);var e=f(t);return{left:e.x,top:e.y}};function u(t){return"string"===Object(r.q)(t)&&"%"===t[t.length-1]}function h(t,e){t.length&&Object(o.c)(t.get(0),a,e)}var d=function(t){t.length&&Object(o.d)(t.get(0),a)},p=function(t){return t.x=t.x||0,t.y=t.y||0,"translate("+(u(t.x)?t.x:t.x+"px")+", "+(u(t.y)?t.y:t.y+"px")+")"},f=function(t){var e=t.length?Object(o.c)(t.get(0),a):null;if(!e){var n=(t.css("transform")||p({x:0,y:0})).match(s),i=n&&n[1];n?(n=n[2].split(","),"3d"===i?n=n.slice(12,15):(n.push(0),n=n.slice(4,7))):n=[0,0,0],h(t,e={x:parseFloat(n[0]),y:parseFloat(n[1]),z:parseFloat(n[2])})}return e},m=function(t,e){t=Object(i.a)(t);var n,o=e.left,r=e.top;void 0===o?(n=f(t)).y=r||0:void 0===r?(n=f(t)).x=o||0:h(t,n={x:o||0,y:r||0,z:0}),t.css({transform:p(n)}),(u(o)||u(r))&&d(t)},g=function(t,e){var n;t=Object(i.a)(t);var o={left:0,top:0,transform:"none"};e&&(n=t.css("transition"),o.transition="none"),t.css(o),d(t),e&&(t.get(0).offsetHeight,t.css("transition",n))},v=function(t){var e=t.match(l);if(e&&e[1])return e=e[1].split(","),e={x:parseFloat(e[0]),y:parseFloat(e[1]),z:parseFloat(e[2])}}},function(t,e,n){"use strict";var i=n(81),o=n(27),r=n(13),a=n(12),s=n(19),l=n(6),c=n(18),u=n(150);var h=n(190);function d(t){var e="function"===typeof Map?new Map:void 0;return(d=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return Object(h.a)(t,arguments,Object(l.a)(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Object(u.a)(i,t)})(t)}var p=n(40),f=n(187),m=n(189),g=n(188);var v,y=n(41);function _(){_=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(T){l=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var r=e&&e.prototype instanceof d?e:d,a=Object.create(r.prototype),s=new P(o||[]);return i(a,"_invoke",{value:O(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(T){return{type:"throw",arg:T}}}t.wrap=c;var h={};function d(){}function p(){}function f(){}var m={};l(m,r,function(){return this});var g=Object.getPrototypeOf,v=g&&g(g(k([])));v&&v!==e&&n.call(v,r)&&(m=v);var y=f.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function C(t,e){var o;i(this,"_invoke",{value:function(i,r){function a(){return new e(function(o,a){!function i(o,r,a,s){var l=u(t[o],t,r);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then(function(t){i("next",t,a,s)},function(t){i("throw",t,a,s)}):e.resolve(h).then(function(t){c.value=t,a(c)},function(t){return i("throw",t,a,s)})}s(l.arg)}(i,r,o,a)})}return o=o?o.then(a,a):a()}})}function O(t,e,n){var i="suspendedStart";return function(o,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw r;return E()}for(n.method=o,n.arg=r;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=u(t,e,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function x(t,e){var n=e.method,i=t.iterator[n];if(void 0===i)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=u(i,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var r=o.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function k(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return p.prototype=f,i(y,"constructor",{value:f,configurable:!0}),i(f,"constructor",{value:p,configurable:!0}),p.displayName=l(f,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,l(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(C.prototype),l(C.prototype,a,function(){return this}),t.AsyncIterator=C,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new C(c(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},b(y),l(y,s,"Generator"),l(y,r,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=k,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],a=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var s=n.call(r,"catchLoc"),l=n.call(r,"finallyLoc");if(s&&l){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function b(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return C(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,r=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw r}}}}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function O(){return(O=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}n.d(e,"a",function(){return it}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return rt}),n.d(e,"d",function(){return X}),n.d(e,"e",function(){return E}),n.d(e,"f",function(){return P}),n.d(e,"g",function(){return k}),n.d(e,"h",function(){return w}),n.d(e,"i",function(){return M}),n.d(e,"j",function(){return _t}),n.d(e,"k",function(){return at}),n.d(e,"l",function(){return J}),n.d(e,"m",function(){return $}),n.d(e,"n",function(){return B}),n.d(e,"o",function(){return D}),n.d(e,"p",function(){return Q}),n.d(e,"q",function(){return q}),function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(v||(v={}));var x,S="popstate";function w(t){void 0===t&&(t={});var e,n=t,i=n.initialEntries,o=void 0===i?["/"]:i,r=n.initialIndex,a=n.v5Compat,s=void 0!==a&&a;e=o.map(function(t,e){return p(t,"string"===typeof t?null:t.state,0===e?"default":void 0)});var l=h(null==r?e.length-1:r),c=v.Pop,u=null;function h(t){return Math.min(Math.max(t,0),e.length-1)}function d(){return e[l]}function p(t,n,i){void 0===n&&(n=null);var o=j(e?d().pathname:"/",t,n,i);return T("/"===o.pathname.charAt(0),"relative pathnames are not supported in memory history: "+JSON.stringify(t)),o}function f(t){return"string"===typeof t?t:M(t)}return{get index(){return l},get action(){return c},get location(){return d()},createHref:f,createURL:function(t){return new URL(f(t),"http://localhost")},encodeLocation:function(t){var e="string"===typeof t?D(t):t;return{pathname:e.pathname||"",search:e.search||"",hash:e.hash||""}},push:function(t,n){c=v.Push;var i=p(t,n);l+=1,e.splice(l,e.length,i),s&&u&&u({action:c,location:i,delta:1})},replace:function(t,n){c=v.Replace;var i=p(t,n);e[l]=i,s&&u&&u({action:c,location:i,delta:0})},go:function(t){c=v.Pop;var n=h(l+t),i=e[n];l=n,u&&u({action:c,location:i,delta:t})},listen:function(t){return u=t,function(){u=null}}}}function P(t){return void 0===t&&(t={}),A(function(t,e){var n=t.location;return j("",{pathname:n.pathname,search:n.search,hash:n.hash},e.state&&e.state.usr||null,e.state&&e.state.key||"default")},function(t,e){return"string"===typeof e?e:M(e)},null,t)}function k(t){return void 0===t&&(t={}),A(function(t,e){var n=D(t.location.hash.substr(1)),i=n.pathname,o=void 0===i?"/":i,r=n.search,a=void 0===r?"":r,s=n.hash;return j("",{pathname:o,search:a,hash:void 0===s?"":s},e.state&&e.state.usr||null,e.state&&e.state.key||"default")},function(t,e){var n=t.document.querySelector("base"),i="";if(n&&n.getAttribute("href")){var o=t.location.href,r=o.indexOf("#");i=-1===r?o:o.slice(0,r)}return i+"#"+("string"===typeof e?e:M(e))},function(t,e){T("/"===t.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(e)+")")},t)}function E(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function T(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function I(t,e){return{usr:t.state,key:t.key,idx:e}}function j(t,e,n,i){return void 0===n&&(n=null),O({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?D(e):e,{state:n,key:e&&e.key||i||Math.random().toString(36).substr(2,8)})}function M(t){var e=t.pathname,n=void 0===e?"/":e,i=t.search,o=void 0===i?"":i,r=t.hash,a=void 0===r?"":r;return o&&"?"!==o&&(n+="?"===o.charAt(0)?o:"?"+o),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function D(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function A(t,e,n,i){void 0===i&&(i={});var o=i,r=o.window,a=void 0===r?document.defaultView:r,s=o.v5Compat,l=void 0!==s&&s,c=a.history,u=v.Pop,h=null,d=p();function p(){return(c.state||{idx:null}).idx}function f(){u=v.Pop;var t=p(),e=null==t?null:t-d;d=t,h&&h({action:u,location:g.location,delta:e})}function m(t){var e="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof t?t:M(t);return E(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}null==d&&(d=0,c.replaceState(O({},c.state,{idx:d}),""));var g={get action(){return u},get location(){return t(a,c)},listen:function(t){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(S,f),h=t,function(){a.removeEventListener(S,f),h=null}},createHref:function(t){return e(a,t)},createURL:m,encodeLocation:function(t){var e=m(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){u=v.Push;var i=j(g.location,t,e);n&&n(i,t);var o=I(i,d=p()+1),r=g.createHref(i);try{c.pushState(o,"",r)}catch(s){a.location.assign(r)}l&&h&&h({action:u,location:g.location,delta:1})},replace:function(t,e){u=v.Replace;var i=j(g.location,t,e);n&&n(i,t);var o=I(i,d=p()),r=g.createHref(i);c.replaceState(o,"",r),l&&h&&h({action:u,location:g.location,delta:0})},go:function(t){return c.go(t)}};return g}function R(t,e,n){return void 0===e&&(e=[]),void 0===n&&(n=new Set),t.map(function(t,i){var o=[].concat(Object(y.a)(e),[i]),r="string"===typeof t.id?t.id:o.join("-");return E(!0!==t.index||!t.children,"Cannot specify children on an index route"),E(!n.has(r),'Found a route id collision on id "'+r+"\".  Route id's must be globally unique within Data Router usages"),n.add(r),function(t){return!0===t.index}(t)?O({},t,{id:r}):O({},t,{id:r,children:t.children?R(t.children,o,n):void 0})})}function B(t,e,n){void 0===n&&(n="/");var i=q(("string"===typeof e?D(e):e).pathname||"/",n);if(null==i)return null;var o=function t(e,n,i,o){void 0===n&&(n=[]);void 0===i&&(i=[]);void 0===o&&(o="");var r=function(e,r,a){var s={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};s.relativePath.startsWith("/")&&(E(s.relativePath.startsWith(o),'Absolute route path "'+s.relativePath+'" nested under path "'+o+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(o.length));var l=J([o,s.relativePath]),c=i.concat(s);e.children&&e.children.length>0&&(E(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),t(e.children,n,c,l)),(null!=e.path||e.index)&&n.push({path:l,score:W(l,e.index),routesMeta:c})};e.forEach(function(t,e){var n;if(""!==t.path&&null!=(n=t.path)&&n.includes("?")){var i,o=b(function t(e){var n=e.split("/");if(0===n.length)return[];var i=(a=n,Object(f.a)(a)||Object(m.a)(a)||Object(g.a)()),o=i[0],r=i.slice(1);var a;var s=o.endsWith("?");var l=o.replace(/\?$/,"");if(0===r.length)return s?[l,""]:[l];var c=t(r.join("/"));var u=[];u.push.apply(u,Object(y.a)(c.map(function(t){return""===t?l:[l,t].join("/")})));s&&u.push.apply(u,Object(y.a)(c));return u.map(function(t){return e.startsWith("/")&&""===t?"/":t})}(t.path));try{for(o.s();!(i=o.n()).done;){var a=i.value;r(t,e,a)}}catch(s){o.e(s)}finally{o.f()}}else r(t,e)});return n}(t);!function(t){t.sort(function(t,e){return t.score!==e.score?e.score-t.score:function(t,e){return t.length===e.length&&t.slice(0,-1).every(function(t,n){return t===e[n]})?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map(function(t){return t.childrenIndex}),e.routesMeta.map(function(t){return t.childrenIndex}))})}(o);for(var r=null,a=0;null==r&&a<o.length;++a)r=K(o[a],G(i));return r}!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(x||(x={}));var L=/^:\w+$/,N=3,z=2,F=1,H=10,V=-2,U=function(t){return"*"===t};function W(t,e){var n=t.split("/"),i=n.length;return n.some(U)&&(i+=V),e&&(i+=z),n.filter(function(t){return!U(t)}).reduce(function(t,e){return t+(L.test(e)?N:""===e?F:H)},i)}function K(t,e){for(var n=t.routesMeta,i={},o="/",r=[],a=0;a<n.length;++a){var s=n[a],l=a===n.length-1,c="/"===o?e:e.slice(o.length)||"/",u=$({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!u)return null;Object.assign(i,u.params);var h=s.route;r.push({params:i,pathname:J([o,u.pathname]),pathnameBase:tt(J([o,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(o=J([o,u.pathnameBase]))}return r}function $(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});var n=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);Z("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');var i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,function(t,e){return i.push(e),"/([^\\/]+)"});t.endsWith("*")?(i.push("*"),o+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==t&&"/"!==t&&(o+="(?:(?=\\/|$))");return[new RegExp(o,e?void 0:"i"),i]}(t.path,t.caseSensitive,t.end),i=Object(p.a)(n,2),o=i[0],r=i[1],a=e.match(o);if(!a)return null;var s=a[0],l=s.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:r.reduce(function(t,e,n){if("*"===e){var i=c[n]||"";l=s.slice(0,s.length-i.length).replace(/(.)\/+$/,"$1")}return t[e]=function(t,e){try{return decodeURIComponent(t)}catch(n){return Z(!1,'The value for the URL param "'+e+'" will not be decoded because the string "'+t+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),t}}(c[n]||"",e),t},{}),pathname:s,pathnameBase:l,pattern:t}}function G(t){try{return decodeURI(t)}catch(e){return Z(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function q(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;var n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&"/"!==i?null:t.slice(n)||"/"}function Z(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function Y(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function X(t){return t.filter(function(t,e){return 0===e||t.route.path&&t.route.path.length>0})}function Q(t,e,n,i){var o;void 0===i&&(i=!1),"string"===typeof t?o=D(t):(E(!(o=O({},t)).pathname||!o.pathname.includes("?"),Y("?","pathname","search",o)),E(!o.pathname||!o.pathname.includes("#"),Y("#","pathname","hash",o)),E(!o.search||!o.search.includes("#"),Y("#","search","hash",o)));var r,a=""===t||""===o.pathname,s=a?"/":o.pathname;if(i||null==s)r=n;else{var l=e.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),l-=1;o.pathname=c.join("/")}r=l>=0?e[l]:"/"}var u=function(t,e){void 0===e&&(e="/");var n="string"===typeof t?D(t):t,i=n.pathname,o=n.search,r=void 0===o?"":o,a=n.hash,s=void 0===a?"":a;return{pathname:i?i.startsWith("/")?i:function(t,e){var n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(function(t){".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)}),n.length>1?n.join("/"):"/"}(i,e):e,search:et(r),hash:nt(s)}}(o,r),h=s&&"/"!==s&&s.endsWith("/"),d=(a||"."===s)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}var J=function(t){return t.join("/").replace(/\/\/+/g,"/")},tt=function(t){return t.replace(/\/+$/,"").replace(/^\/*/,"/")},et=function(t){return t&&"?"!==t?t.startsWith("?")?t:"?"+t:""},nt=function(t){return t&&"#"!==t?t.startsWith("#")?t:"#"+t:""},it=function(t){function e(){return Object(a.a)(this,e),Object(s.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(c.a)(e,t),e}(d(Error)),ot=function(){function t(e,n){var i,r=this;Object(a.a)(this,t),this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],E(e&&"object"===typeof e&&!Array.isArray(e),"defer() only accepts plain objects"),this.abortPromise=new Promise(function(t,e){return i=e}),this.controller=new AbortController;var s=function(){return i(new it("Deferred data aborted"))};this.unlistenAbortSignal=function(){return r.controller.signal.removeEventListener("abort",s)},this.controller.signal.addEventListener("abort",s),this.data=Object.entries(e).reduce(function(t,e){var n=Object(p.a)(e,2),i=n[0],a=n[1];return Object.assign(t,Object(o.a)({},i,r.trackPromise(i,a)))},{}),this.done&&this.unlistenAbortSignal(),this.init=n}return Object(r.a)(t,[{key:"trackPromise",value:function(t,e){var n=this;if(!(e instanceof Promise))return e;this.deferredKeys.push(t),this.pendingKeysSet.add(t);var i=Promise.race([e,this.abortPromise]).then(function(e){return n.onSettle(i,t,null,e)},function(e){return n.onSettle(i,t,e)});return i.catch(function(){}),Object.defineProperty(i,"_tracked",{get:function(){return!0}}),i}},{key:"onSettle",value:function(t,e,n,i){return this.controller.signal.aborted&&n instanceof it?(this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:function(){return n}}),Promise.reject(n)):(this.pendingKeysSet.delete(e),this.done&&this.unlistenAbortSignal(),n?(Object.defineProperty(t,"_error",{get:function(){return n}}),this.emit(!1,e),Promise.reject(n)):(Object.defineProperty(t,"_data",{get:function(){return i}}),this.emit(!1,e),i))}},{key:"emit",value:function(t,e){this.subscribers.forEach(function(n){return n(t,e)})}},{key:"subscribe",value:function(t){var e=this;return this.subscribers.add(t),function(){return e.subscribers.delete(t)}}},{key:"cancel",value:function(){var t=this;this.controller.abort(),this.pendingKeysSet.forEach(function(e,n){return t.pendingKeysSet.delete(n)}),this.emit(!0)}},{key:"resolveData",value:function(){var t=Object(i.a)(_().mark(function t(e){var n,i,o=this;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=!1,this.done){t.next=7;break}return i=function(){return o.cancel()},e.addEventListener("abort",i),t.next=6,new Promise(function(t){o.subscribe(function(n){e.removeEventListener("abort",i),(n||o.done)&&t(n)})});case 6:n=t.sent;case 7:return t.abrupt("return",n);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"done",get:function(){return 0===this.pendingKeysSet.size}},{key:"unwrappedData",get:function(){return E(null!==this.data&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce(function(t,e){var n=Object(p.a)(e,2),i=n[0],r=n[1];return Object.assign(t,Object(o.a)({},i,function(t){if(!function(t){return t instanceof Promise&&!0===t._tracked}(t))return t;if(t._error)throw t._error;return t._data}(r)))},{})}},{key:"pendingKeys",get:function(){return Array.from(this.pendingKeysSet)}}]),t}();var rt=function t(e,n,i,o){Object(a.a)(this,t),void 0===o&&(o=!1),this.status=e,this.statusText=n||"",this.internal=o,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i};function at(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}var st=["post","put","patch","delete"],lt=new Set(st),ct=["get"].concat(st),ut=new Set(ct),ht=new Set([301,302,303,307,308]),dt=new Set([307,308]),pt={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ft={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},mt={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},gt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,yt=!vt;function _t(t){E(t.routes.length>0,"You must provide a non-empty routes array to createRouter");var e,n=R(t.routes),r=null,a=new Set,s=null,l=null,c=null,u=null!=t.hydrationData,h=B(n,t.history.location,t.basename),d=null;if(null==h){var f=At(404,{pathname:t.history.location.pathname}),m=Dt(n),g=m.matches,C=m.route;h=g,d=Object(o.a)({},C.id,f)}var S,w,P=!h.some(function(t){return t.route.loader})||null!=t.hydrationData,k={historyAction:t.history.action,location:t.history.location,matches:h,initialized:P,navigation:pt,restoreScrollPosition:null==t.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||d,fetchers:new Map,blockers:new Map},T=v.Pop,I=!1,M=!1,D=!1,A=[],L=[],N=new Map,z=0,F=-1,H=new Map,V=new Set,U=new Map,W=new Map,K=new Map,$=!1;function G(t){k=O({},k,t),a.forEach(function(t){return t(k)})}function Y(i,o){var r,a,s,l=null!=k.actionData&&null!=k.navigation.formMethod&&Vt(k.navigation.formMethod)&&"loading"===k.navigation.state&&!0!==(null==(r=i.state)?void 0:r._isRedirect);s=o.actionData?Object.keys(o.actionData).length>0?o.actionData:null:l?k.actionData:null;var c,u=o.loaderData?jt(k.loaderData,o.loaderData,o.matches||[],o.errors):k.loaderData,h=b(K);try{for(h.s();!(c=h.n()).done;){Bt(Object(p.a)(c.value,1)[0])}}catch(f){h.e(f)}finally{h.f()}var d=!0===I||null!=k.navigation.formMethod&&Vt(k.navigation.formMethod)&&!0!==(null==(a=i.state)?void 0:a._isRedirect);e&&(n=e,e=void 0),G(O({},o,{actionData:s,loaderData:u,historyAction:T,location:i,initialized:!0,navigation:pt,revalidation:"idle",restoreScrollPosition:Gt(i,o.matches||k.matches),preventScrollReset:d,blockers:new Map(k.blockers)})),M||T===v.Pop||(T===v.Push?t.history.push(i,i.state):T===v.Replace&&t.history.replace(i,i.state)),T=v.Pop,I=!1,M=!1,D=!1,A=[],L=[]}function X(t,e){return Q.apply(this,arguments)}function Q(){return(Q=Object(i.a)(_().mark(function e(n,i){var o,r,a,s,l,c,u,h,d,p;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("number"!==typeof n){e.next=3;break}return t.history.go(n),e.abrupt("return");case 3:if(o=bt(n,i),r=o.path,a=o.submission,s=o.error,l=k.location,c=O({},c=j(k.location,r,i&&i.state),t.history.encodeLocation(c)),u=i&&null!=i.replace?i.replace:void 0,h=v.Push,!0===u?h=v.Replace:!1===u||null!=a&&Vt(a.formMethod)&&a.formAction===k.location.pathname+k.location.search&&(h=v.Replace),d=i&&"preventScrollReset"in i?!0===i.preventScrollReset:void 0,!(p=Ht({currentLocation:l,nextLocation:c,historyAction:h}))){e.next=15;break}return Ft(p,{state:"blocked",location:c,proceed:function(){Ft(p,{state:"proceeding",proceed:void 0,reset:void 0,location:c}),X(n,i)},reset:function(){Bt(p),G({blockers:new Map(k.blockers)})}}),e.abrupt("return");case 15:return e.next=17,J(h,c,{submission:a,pendingError:s,preventScrollReset:d,replace:i&&i.replace});case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}function J(t,e,n){return tt.apply(this,arguments)}function tt(){return(tt=Object(i.a)(_().mark(function i(r,a,s){var l,c,u,h,d,p,f,m,g,v,y,b,C,x,S,P;return _().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(w&&w.abort(),w=null,T=r,M=!0===(s&&s.startUninterruptedRevalidation),$t(k.location,k.matches),I=!0===(s&&s.preventScrollReset),l=e||n,c=s&&s.overrideNavigation,u=B(l,a,t.basename)){i.next=15;break}return h=At(404,{pathname:a.pathname}),d=Dt(l),p=d.matches,f=d.route,Wt(),Y(a,{matches:p,loaderData:{},errors:Object(o.a)({},f.id,h)}),i.abrupt("return");case 15:if(_=k.location,E=a,_.pathname!==E.pathname||_.search!==E.search||_.hash===E.hash||s&&s.submission&&Vt(s.submission.formMethod)){i.next=18;break}return Y(a,{matches:u}),i.abrupt("return");case 18:if(w=new AbortController,m=kt(t.history,a,w.signal,s&&s.submission),!s||!s.pendingError){i.next=24;break}v=Object(o.a)({},Mt(u).route.id,s.pendingError),i.next=35;break;case 24:if(!(s&&s.submission&&Vt(s.submission.formMethod))){i.next=35;break}return i.next=27,et(m,a,s.submission,u,{replace:s.replace});case 27:if(!(y=i.sent).shortCircuited){i.next=30;break}return i.abrupt("return");case 30:g=y.pendingActionData,v=y.pendingActionError,b=O({state:"loading",location:a},s.submission),c=b,m=new Request(m.url,{signal:m.signal});case 35:return i.next=37,it(m,a,u,c,s&&s.submission,s&&s.replace,g,v);case 37:if(C=i.sent,x=C.shortCircuited,S=C.loaderData,P=C.errors,!x){i.next=43;break}return i.abrupt("return");case 43:w=null,Y(a,O({matches:u},g?{actionData:g}:{},{loaderData:S,errors:P}));case 45:case"end":return i.stop()}var _,E},i)}))).apply(this,arguments)}function et(t,e,n,i,o){return nt.apply(this,arguments)}function nt(){return(nt=Object(i.a)(_().mark(function t(e,n,i,r,a){var s,l,c,u;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(_t(),G({navigation:O({state:"submitting",location:n},i)}),(l=Zt(r,n)).route.action){t.next=8;break}s={type:x.error,error:At(405,{method:e.method,pathname:n.pathname,routeId:l.route.id})},t.next=13;break;case 8:return t.next=10,wt("action",e,l,r,S.basename);case 10:if(s=t.sent,!e.signal.aborted){t.next=13;break}return t.abrupt("return",{shortCircuited:!0});case 13:if(!zt(s)){t.next=18;break}return c=a&&null!=a.replace?a.replace:s.location===k.location.pathname+k.location.search,t.next=17,lt(k,s,{submission:i,replace:c});case 17:return t.abrupt("return",{shortCircuited:!0});case 18:if(!Nt(s)){t.next=22;break}return u=Mt(r,l.route.id),!0!==(a&&a.replace)&&(T=v.Push),t.abrupt("return",{pendingActionData:{},pendingActionError:Object(o.a)({},u.route.id,s.error)});case 22:if(!Lt(s)){t.next=24;break}throw At(400,{type:"defer-action"});case 24:return t.abrupt("return",{pendingActionData:Object(o.a)({},l.route.id,s.data)});case 25:case"end":return t.stop()}},t)}))).apply(this,arguments)}function it(t,e,n,i,o,r,a,s){return ot.apply(this,arguments)}function ot(){return(ot=Object(i.a)(_().mark(function i(o,r,a,s,l,c,u,h){var d,f,m,g,v,y,b,C,x,S,P,E,T,I,j,R,B,H;return _().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if((d=s)||(f=O({state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},l),d=f),m=l||(d.formMethod&&d.formAction&&d.formData&&d.formEncType?{formMethod:d.formMethod,formAction:d.formAction,formData:d.formData,formEncType:d.formEncType}:void 0),g=e||n,v=Ot(t.history,k,a,m,r,D,A,L,U,g,t.basename,u,h),y=Object(p.a)(v,2),b=y[0],C=y[1],Wt(function(t){return!(a&&a.some(function(e){return e.route.id===t}))||b&&b.some(function(e){return e.route.id===t})}),0!==b.length||0!==C.length){i.next=9;break}return Y(r,O({matches:a,loaderData:{},errors:h||null},u?{actionData:u}:{})),i.abrupt("return",{shortCircuited:!0});case 9:return M||(C.forEach(function(t){var e=k.fetchers.get(t.key),n={state:"loading",data:e&&e.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};k.fetchers.set(t.key,n)}),x=u||k.actionData,G(O({navigation:d},x?0===Object.keys(x).length?{actionData:null}:{actionData:x}:{},C.length>0?{fetchers:new Map(k.fetchers)}:{}))),F=++z,C.forEach(function(t){return N.set(t.key,w)}),i.next=14,ut(k.matches,a,b,C,o);case 14:if(S=i.sent,P=S.results,E=S.loaderResults,T=S.fetcherResults,!o.signal.aborted){i.next=20;break}return i.abrupt("return",{shortCircuited:!0});case 20:if(C.forEach(function(t){return N.delete(t.key)}),!(I=Rt(P))){i.next=26;break}return i.next=25,lt(k,I,{replace:c});case 25:return i.abrupt("return",{shortCircuited:!0});case 26:return j=It(k,a,b,E,h,C,T,W),R=j.loaderData,B=j.errors,W.forEach(function(t,e){t.subscribe(function(n){(n||t.done)&&W.delete(e)})}),Et(),H=Tt(F),i.abrupt("return",O({loaderData:R,errors:B},H||C.length>0?{fetchers:new Map(k.fetchers)}:{}));case 31:case"end":return i.stop()}},i)}))).apply(this,arguments)}function rt(t){return k.fetchers.get(t)||ft}function at(){return(at=Object(i.a)(_().mark(function i(r,a,s,l,c,u){var h,d,f,m,g,v,y,b,C,x,P,I,j,M,R,K,$,q,Z,X,Q,J,tt,et,nt,it,ot;return _().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(_t(),U.delete(r),l.route.action){i.next=6;break}return h=At(405,{method:u.formMethod,pathname:s,routeId:a}),Ct(r,a,h),i.abrupt("return");case 6:return d=k.fetchers.get(r),f=O({state:"submitting"},u,{data:d&&d.data," _hasFetcherDoneAnything ":!0}),k.fetchers.set(r,f),G({fetchers:new Map(k.fetchers)}),m=new AbortController,g=kt(t.history,s,m.signal,u),N.set(r,m),i.next=15,wt("action",g,l,c,S.basename);case 15:if(v=i.sent,!g.signal.aborted){i.next=19;break}return N.get(r)===m&&N.delete(r),i.abrupt("return");case 19:if(!zt(v)){i.next=26;break}return N.delete(r),V.add(r),y=O({state:"loading"},u,{data:void 0," _hasFetcherDoneAnything ":!0}),k.fetchers.set(r,y),G({fetchers:new Map(k.fetchers)}),i.abrupt("return",lt(k,v,{isFetchActionRedirect:!0}));case 26:if(!Nt(v)){i.next=29;break}return Ct(r,a,v.error),i.abrupt("return");case 29:if(!Lt(v)){i.next=31;break}throw At(400,{type:"defer-action"});case 31:return b=k.navigation.location||k.location,C=kt(t.history,b,m.signal),x=e||n,E(P="idle"!==k.navigation.state?B(x,k.navigation.location,t.basename):k.matches,"Didn't find any matches after fetcher action"),I=++z,H.set(r,I),j=O({state:"loading",data:v.data},u,{" _hasFetcherDoneAnything ":!0}),k.fetchers.set(r,j),M=Ot(t.history,k,P,u,b,D,A,L,U,x,t.basename,Object(o.a)({},l.route.id,v.data),void 0),R=Object(p.a)(M,2),K=R[0],($=R[1]).filter(function(t){return t.key!==r}).forEach(function(t){var e=t.key,n=k.fetchers.get(e),i={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};k.fetchers.set(e,i),N.set(e,m)}),G({fetchers:new Map(k.fetchers)}),i.next=45,ut(k.matches,P,K,$,C);case 45:if(q=i.sent,Z=q.results,X=q.loaderResults,Q=q.fetcherResults,!m.signal.aborted){i.next=51;break}return i.abrupt("return");case 51:if(H.delete(r),N.delete(r),$.forEach(function(t){return N.delete(t.key)}),!(J=Rt(Z))){i.next=57;break}return i.abrupt("return",lt(k,J));case 57:tt=It(k,k.matches,K,X,void 0,$,Q,W),et=tt.loaderData,nt=tt.errors,it={state:"idle",data:v.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0},k.fetchers.set(r,it),ot=Tt(I),"loading"===k.navigation.state&&I>F?(E(T,"Expected pending action"),w&&w.abort(),Y(k.navigation.location,{matches:P,loaderData:et,errors:nt,fetchers:new Map(k.fetchers)})):(G(O({errors:nt,loaderData:jt(k.loaderData,et,P,nt)},ot?{fetchers:new Map(k.fetchers)}:{})),D=!1);case 62:case"end":return i.stop()}},i)}))).apply(this,arguments)}function st(){return(st=Object(i.a)(_().mark(function e(n,i,r,a,s,l){var c,u,h,d,p,f,m;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=k.fetchers.get(n),u=O({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},l,{data:c&&c.data," _hasFetcherDoneAnything ":!0}),k.fetchers.set(n,u),G({fetchers:new Map(k.fetchers)}),h=new AbortController,d=kt(t.history,r,h.signal),N.set(n,h),e.next=9,wt("loader",d,a,s,S.basename);case 9:if(!Lt(p=e.sent)){e.next=17;break}return e.next=13,Kt(p,d.signal,!0);case 13:if(e.t0=e.sent,e.t0){e.next=16;break}e.t0=p;case 16:p=e.t0;case 17:if(N.get(n)===h&&N.delete(n),!d.signal.aborted){e.next=20;break}return e.abrupt("return");case 20:if(!zt(p)){e.next=24;break}return e.next=23,lt(k,p);case 23:return e.abrupt("return");case 24:if(!Nt(p)){e.next=29;break}return f=Mt(k.matches,i),k.fetchers.delete(n),G({fetchers:new Map(k.fetchers),errors:Object(o.a)({},f.route.id,p.error)}),e.abrupt("return");case 29:E(!Lt(p),"Unhandled fetcher deferred data"),m={state:"idle",data:p.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0},k.fetchers.set(n,m),G({fetchers:new Map(k.fetchers)});case 33:case"end":return e.stop()}},e)}))).apply(this,arguments)}function lt(t,e,n){return ct.apply(this,arguments)}function ct(){return(ct=Object(i.a)(_().mark(function e(n,i,o){var r,a,s,l,c,u,h,d,p,f,m,g,y,b;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=(a=void 0===o?{}:o).submission,l=a.replace,c=a.isFetchActionRedirect,i.revalidate&&(D=!0),E(u=j(n.location,i.location,O({_isRedirect:!0},c?{_isFetchActionRedirect:!0}:{})),"Expected a location on the redirect navigation"),!gt.test(i.location)||!vt||"undefined"===typeof(null==(r=window)?void 0:r.location)){e.next=10;break}if(h=t.history.createURL(i.location),d=null==q(h.pathname,t.basename||"/"),window.location.origin===h.origin&&!d){e.next=10;break}return l?window.location.replace(i.location):window.location.assign(i.location),e.abrupt("return");case 10:if(w=null,p=!0===l?v.Replace:v.Push,f=n.navigation,m=f.formMethod,g=f.formAction,y=f.formEncType,b=f.formData,!s&&m&&g&&b&&y&&(s={formMethod:m,formAction:g,formEncType:y,formData:b}),!(dt.has(i.status)&&s&&Vt(s.formMethod))){e.next=19;break}return e.next=17,J(p,u,{submission:O({},s,{formAction:i.location}),preventScrollReset:I});case 17:e.next=21;break;case 19:return e.next=21,J(p,u,{overrideNavigation:{state:"loading",location:u,formMethod:s?s.formMethod:void 0,formAction:s?s.formAction:void 0,formEncType:s?s.formEncType:void 0,formData:s?s.formData:void 0},preventScrollReset:I});case 21:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ut(t,e,n,i,o){return ht.apply(this,arguments)}function ht(){return(ht=Object(i.a)(_().mark(function e(n,i,o,r,a){var s,l,c;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([].concat(Object(y.a)(o.map(function(t){return wt("loader",a,t,i,S.basename)})),Object(y.a)(r.map(function(e){return e.matches&&e.match?wt("loader",kt(t.history,e.path,a.signal),e.match,e.matches,S.basename):{type:x.error,error:At(404,{pathname:e.path})}}))));case 2:return s=e.sent,l=s.slice(0,o.length),c=s.slice(o.length),e.next=7,Promise.all([Ut(n,o,l,a.signal,!1,k.loaderData),Ut(n,r.map(function(t){return t.match}),c,a.signal,!0)]);case 7:return e.abrupt("return",{results:s,loaderResults:l,fetcherResults:c});case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _t(){var t;D=!0,(t=A).push.apply(t,Object(y.a)(Wt())),U.forEach(function(t,e){N.has(e)&&(L.push(e),St(e))})}function Ct(t,e,n){var i=Mt(k.matches,e);xt(t),G({errors:Object(o.a)({},i.route.id,n),fetchers:new Map(k.fetchers)})}function xt(t){N.has(t)&&St(t),U.delete(t),H.delete(t),V.delete(t),k.fetchers.delete(t)}function St(t){var e=N.get(t);E(e,"Expected fetch controller: "+t),e.abort(),N.delete(t)}function Pt(t){var e,n=b(t);try{for(n.s();!(e=n.n()).done;){var i=e.value,o={state:"idle",data:rt(i).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};k.fetchers.set(i,o)}}catch(r){n.e(r)}finally{n.f()}}function Et(){var t,e=[],n=b(V);try{for(n.s();!(t=n.n()).done;){var i=t.value,o=k.fetchers.get(i);E(o,"Expected fetcher: "+i),"loading"===o.state&&(V.delete(i),e.push(i))}}catch(r){n.e(r)}finally{n.f()}Pt(e)}function Tt(t){var e,n=[],i=b(H);try{for(i.s();!(e=i.n()).done;){var o=Object(p.a)(e.value,2),r=o[0];if(o[1]<t){var a=k.fetchers.get(r);E(a,"Expected fetcher: "+r),"loading"===a.state&&(St(r),H.delete(r),n.push(r))}}}catch(s){i.e(s)}finally{i.f()}return Pt(n),n.length>0}function Bt(t){k.blockers.delete(t),K.delete(t)}function Ft(t,e){var n=k.blockers.get(t)||mt;E("unblocked"===n.state&&"blocked"===e.state||"blocked"===n.state&&"blocked"===e.state||"blocked"===n.state&&"proceeding"===e.state||"blocked"===n.state&&"unblocked"===e.state||"proceeding"===n.state&&"unblocked"===e.state,"Invalid blocker state transition: "+n.state+" -> "+e.state),k.blockers.set(t,e),G({blockers:new Map(k.blockers)})}function Ht(t){var e=t.currentLocation,n=t.nextLocation,i=t.historyAction;if(0!==K.size){K.size>1&&Z(!1,"A router only supports one blocker at a time");var o=Array.from(K.entries()),r=Object(p.a)(o[o.length-1],2),a=r[0],s=r[1],l=k.blockers.get(a);if(!l||"proceeding"!==l.state)return s({currentLocation:e,nextLocation:n,historyAction:i})?a:void 0}}function Wt(t){var e=[];return W.forEach(function(n,i){t&&!t(i)||(n.cancel(),e.push(i),W.delete(i))}),e}function $t(t,e){if(s&&l&&c){var n=e.map(function(t){return qt(t,k.loaderData)}),i=l(t,n)||t.key;s[i]=c()}}function Gt(t,e){if(s&&l&&c){var n=e.map(function(t){return qt(t,k.loaderData)}),i=l(t,n)||t.key,o=s[i];if("number"===typeof o)return o}return null}return S={get basename(){return t.basename},get state(){return k},get routes(){return n},initialize:function(){return r=t.history.listen(function(e){var n=e.action,i=e.location,o=e.delta;if(!$){Z(0===K.size||null!=o,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");var r=Ht({currentLocation:k.location,nextLocation:i,historyAction:n});return r&&null!=o?($=!0,t.history.go(-1*o),void Ft(r,{state:"blocked",location:i,proceed:function(){Ft(r,{state:"proceeding",proceed:void 0,reset:void 0,location:i}),t.history.go(o)},reset:function(){Bt(r),G({blockers:new Map(S.state.blockers)})}})):J(n,i)}$=!1}),k.initialized||J(v.Pop,k.location),S},subscribe:function(t){return a.add(t),function(){return a.delete(t)}},enableScrollRestoration:function(t,e,n){if(s=t,c=e,l=n||function(t){return t.key},!u&&k.navigation===pt){u=!0;var i=Gt(k.location,k.matches);null!=i&&G({restoreScrollPosition:i})}return function(){s=null,c=null,l=null}},navigate:X,fetch:function(i,o,r,a){if(yt)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");N.has(i)&&St(i);var s=B(e||n,r,t.basename);if(s){var l=bt(r,a,!0),c=l.path,u=l.submission,h=Zt(s,c);I=!0===(a&&a.preventScrollReset),u&&Vt(u.formMethod)?function(t,e,n,i,o,r){at.apply(this,arguments)}(i,o,c,h,s,u):(U.set(i,{routeId:o,path:c}),function(t,e,n,i,o,r){st.apply(this,arguments)}(i,o,c,h,s,u))}else Ct(i,o,At(404,{pathname:r}))},revalidate:function(){_t(),G({revalidation:"loading"}),"submitting"!==k.navigation.state&&("idle"!==k.navigation.state?J(T||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation}):J(k.historyAction,k.location,{startUninterruptedRevalidation:!0}))},createHref:function(e){return t.history.createHref(e)},encodeLocation:function(e){return t.history.encodeLocation(e)},getFetcher:rt,deleteFetcher:xt,dispose:function(){r&&r(),a.clear(),w&&w.abort(),k.fetchers.forEach(function(t,e){return xt(e)}),k.blockers.forEach(function(t,e){return Bt(e)})},getBlocker:function(t,e){var n=k.blockers.get(t)||mt;return K.get(t)!==e&&K.set(t,e),n},deleteBlocker:Bt,_internalFetchControllers:N,_internalActiveDeferreds:W,_internalSetRoutes:function(t){e=t}}}Symbol("deferred");function bt(t,e,n){void 0===n&&(n=!1);var i,o="string"===typeof t?t:M(t);if(!e||!function(t){return null!=t&&"formData"in t}(e))return{path:o};if(e.formMethod&&!Ht(e.formMethod))return{path:o,error:At(405,{method:e.formMethod})};if(e.formData&&Vt((i={formMethod:e.formMethod||"get",formAction:Bt(o),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData}).formMethod))return{path:o,submission:i};var r=D(o),a=Et(e.formData);return n&&r.search&&Gt(r.search)&&a.append("index",""),r.search="?"+a,{path:M(r),submission:i}}function Ct(t,e){var n=t;if(e){var i=t.findIndex(function(t){return t.route.id===e});i>=0&&(n=t.slice(0,i))}return n}function Ot(t,e,n,i,o,r,a,s,l,c,u,h,d){var p=d?Object.values(d)[0]:h?Object.values(h)[0]:void 0,f=t.createURL(e.location),m=t.createURL(o),g=r||f.toString()===m.toString()||f.search!==m.search,v=d?Object.keys(d)[0]:void 0,y=Ct(n,v).filter(function(t,n){if(null==t.route.loader)return!1;if(function(t,e,n){var i=!e||n.route.id!==e.route.id,o=void 0===t[n.route.id];return i||o}(e.loaderData,e.matches[n],t)||a.some(function(e){return e===t.route.id}))return!0;var o=e.matches[n],r=t;return St(t,O({currentUrl:f,currentParams:o.params,nextUrl:m,nextParams:r.params},i,{actionResult:p,defaultShouldRevalidate:g||xt(o,r)}))}),_=[];return l.forEach(function(t,o){if(n.some(function(e){return e.route.id===t.routeId})){var r=B(c,t.path,u);if(r){var a=Zt(r,t.path);if(s.includes(o))_.push(O({key:o,matches:r,match:a},t));else St(a,O({currentUrl:f,currentParams:e.matches[e.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},i,{actionResult:p,defaultShouldRevalidate:g}))&&_.push(O({key:o,matches:r,match:a},t))}else _.push(O({key:o},t,{matches:null,match:null}))}}),[y,_]}function xt(t,e){var n=t.route.path;return t.pathname!==e.pathname||null!=n&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function St(t,e){if(t.route.shouldRevalidate){var n=t.route.shouldRevalidate(e);if("boolean"===typeof n)return n}return e.defaultShouldRevalidate}function wt(t,e,n,i,o,r,a,s){return Pt.apply(this,arguments)}function Pt(){return(Pt=Object(i.a)(_().mark(function t(e,n,i,o,r,a,s,l){var c,u,h,d,p,f,m,g,v,y,b,C,O,S,w,P,k,T,I;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r="/"),void 0===a&&(a=!1),void 0===s&&(s=!1),d=new Promise(function(t,e){return h=e}),p=function(){return h()},n.signal.addEventListener("abort",p),t.prev=6,E(f=i.route[e],"Could not find the "+e+' to run on the "'+i.route.id+'" route'),t.next=11,Promise.race([f({request:n,params:i.params,context:l}),d]);case 11:E(void 0!==(u=t.sent),"You defined "+("action"===e?"an action":"a loader")+' for route "'+i.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`."),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(6),c=x.error,u=t.t0;case 19:return t.prev=19,n.signal.removeEventListener("abort",p),t.finish(19);case 22:if(!Ft(u)){t.next=47;break}if(m=u.status,!ht.has(m)){t.next=32;break}if(E(g=u.headers.get("Location"),"Redirects returned/thrown from loaders/actions must have a Location header"),gt.test(g)?a||(O=new URL(n.url),S=g.startsWith("//")?new URL(O.protocol+g):new URL(g),w=null!=q(S.pathname,r),S.origin===O.origin&&w&&(g=S.pathname+S.search+S.hash)):(v=o.slice(0,o.indexOf(i)+1),y=X(v).map(function(t){return t.pathnameBase}),E(M(b=Q(g,y,new URL(n.url).pathname)),"Unable to resolve redirect location: "+g),r&&(C=b.pathname,b.pathname="/"===C?r:J([r,C])),g=M(b)),!a){t.next=31;break}throw u.headers.set("Location",g),u;case 31:return t.abrupt("return",{type:x.redirect,status:m,location:g,revalidate:null!==u.headers.get("X-Remix-Revalidate")});case 32:if(!s){t.next=34;break}throw{type:c||x.data,response:u};case 34:if(!(k=u.headers.get("Content-Type"))||!/\bapplication\/json\b/.test(k)){t.next=41;break}return t.next=38,u.json();case 38:P=t.sent,t.next=44;break;case 41:return t.next=43,u.text();case 43:P=t.sent;case 44:if(c!==x.error){t.next=46;break}return t.abrupt("return",{type:c,error:new rt(m,u.statusText,P),headers:u.headers});case 46:return t.abrupt("return",{type:x.data,data:P,statusCode:u.status,headers:u.headers});case 47:if(c!==x.error){t.next=49;break}return t.abrupt("return",{type:c,error:u});case 49:if(!(u instanceof ot)){t.next=51;break}return t.abrupt("return",{type:x.deferred,deferredData:u,statusCode:null==(T=u.init)?void 0:T.status,headers:(null==(I=u.init)?void 0:I.headers)&&new Headers(u.init.headers)});case 51:return t.abrupt("return",{type:x.data,data:u});case 52:case"end":return t.stop()}},t,null,[[6,15,19,22]])}))).apply(this,arguments)}function kt(t,e,n,i){var o=t.createURL(Bt(e)).toString(),r={signal:n};if(i&&Vt(i.formMethod)){var a=i.formMethod,s=i.formEncType,l=i.formData;r.method=a.toUpperCase(),r.body="application/x-www-form-urlencoded"===s?Et(l):l}return new Request(o,r)}function Et(t){var e,n=new URLSearchParams,i=b(t.entries());try{for(i.s();!(e=i.n()).done;){var o=Object(p.a)(e.value,2),r=o[0],a=o[1];n.append(r,a instanceof File?a.name:a)}}catch(s){i.e(s)}finally{i.f()}return n}function Tt(t,e,n,i,o){var r,a={},s=null,l=!1,c={};return n.forEach(function(n,u){var h=e[u].route.id;if(E(!zt(n),"Cannot handle redirect results in processLoaderData"),Nt(n)){var d=Mt(t,h),p=n.error;i&&(p=Object.values(i)[0],i=void 0),null==(s=s||{})[d.route.id]&&(s[d.route.id]=p),a[h]=void 0,l||(l=!0,r=at(n.error)?n.error.status:500),n.headers&&(c[h]=n.headers)}else Lt(n)?(o.set(h,n.deferredData),a[h]=n.deferredData.data):a[h]=n.data,null==n.statusCode||200===n.statusCode||l||(r=n.statusCode),n.headers&&(c[h]=n.headers)}),i&&(s=i,a[Object.keys(i)[0]]=void 0),{loaderData:a,errors:s,statusCode:r||200,loaderHeaders:c}}function It(t,e,n,i,r,a,s,l){for(var c=Tt(e,n,i,r,l),u=c.loaderData,h=c.errors,d=0;d<a.length;d++){var p=a[d],f=p.key,m=p.match;E(void 0!==s&&void 0!==s[d],"Did not find corresponding fetcher result");var g=s[d];if(Nt(g)){var v=Mt(t.matches,null==m?void 0:m.route.id);h&&h[v.route.id]||(h=O({},h,Object(o.a)({},v.route.id,g.error))),t.fetchers.delete(f)}else if(zt(g))E(!1,"Unhandled fetcher revalidation redirect");else if(Lt(g))E(!1,"Unhandled fetcher deferred data");else{var y={state:"idle",data:g.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(f,y)}}return{loaderData:u,errors:h}}function jt(t,e,n,i){var o,r=O({},e),a=b(n);try{for(a.s();!(o=a.n()).done;){var s=o.value,l=s.route.id;if(e.hasOwnProperty(l)?void 0!==e[l]&&(r[l]=e[l]):void 0!==t[l]&&s.route.loader&&(r[l]=t[l]),i&&i.hasOwnProperty(l))break}}catch(c){a.e(c)}finally{a.f()}return r}function Mt(t,e){return(e?t.slice(0,t.findIndex(function(t){return t.route.id===e})+1):Object(y.a)(t)).reverse().find(function(t){return!0===t.route.hasErrorBoundary})||t[0]}function Dt(t){var e=t.find(function(t){return t.index||!t.path||"/"===t.path})||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function At(t,e){var n=void 0===e?{}:e,i=n.pathname,o=n.routeId,r=n.method,a=n.type,s="Unknown Server Error",l="Unknown @remix-run/router error";return 400===t?(s="Bad Request",r&&i&&o?l="You made a "+r+' request to "'+i+'" but did not provide a `loader` for route "'+o+'", so there is no way to handle the request.':"defer-action"===a&&(l="defer() is not supported in actions")):403===t?(s="Forbidden",l='Route "'+o+'" does not match URL "'+i+'"'):404===t?(s="Not Found",l='No route matches URL "'+i+'"'):405===t&&(s="Method Not Allowed",r&&i&&o?l="You made a "+r.toUpperCase()+' request to "'+i+'" but did not provide an `action` for route "'+o+'", so there is no way to handle the request.':r&&(l='Invalid request method "'+r.toUpperCase()+'"')),new rt(t||500,s,new Error(l),!0)}function Rt(t){for(var e=t.length-1;e>=0;e--){var n=t[e];if(zt(n))return n}}function Bt(t){return M(O({},"string"===typeof t?D(t):t,{hash:""}))}function Lt(t){return t.type===x.deferred}function Nt(t){return t.type===x.error}function zt(t){return(t&&t.type)===x.redirect}function Ft(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"object"===typeof t.headers&&"undefined"!==typeof t.body}function Ht(t){return ut.has(t)}function Vt(t){return lt.has(t)}function Ut(t,e,n,i,o,r){return Wt.apply(this,arguments)}function Wt(){return(Wt=Object(i.a)(_().mark(function t(e,n,i,o,r,a){var s,l;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=_().mark(function t(s){var l,c,u,h;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l=i[s],c=n[s]){t.next=4;break}return t.abrupt("return","continue");case 4:if(u=e.find(function(t){return t.route.id===c.route.id}),h=null!=u&&!xt(u,c)&&void 0!==(a&&a[c.route.id]),!Lt(l)||!r&&!h){t.next=9;break}return t.next=9,Kt(l,o,r).then(function(t){t&&(i[s]=t||i[s])});case 9:case"end":return t.stop()}},t)}),l=0;case 2:if(!(l<i.length)){t.next=10;break}return t.delegateYield(s(l),"t0",4);case 4:if("continue"!==t.t0){t.next=7;break}return t.abrupt("continue",7);case 7:l++,t.next=2;break;case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Kt(t,e,n){return $t.apply(this,arguments)}function $t(){return($t=Object(i.a)(_().mark(function t(e,n,i){return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===i&&(i=!1),t.next=3,e.deferredData.resolveData(n);case 3:if(!t.sent){t.next=6;break}return t.abrupt("return");case 6:if(!i){t.next=14;break}return t.prev=7,t.abrupt("return",{type:x.data,data:e.deferredData.unwrappedData});case 11:return t.prev=11,t.t0=t.catch(7),t.abrupt("return",{type:x.error,error:t.t0});case 14:return t.abrupt("return",{type:x.data,data:e.deferredData.data});case 15:case"end":return t.stop()}},t,null,[[7,11]])}))).apply(this,arguments)}function Gt(t){return new URLSearchParams(t).getAll("index").some(function(t){return""===t})}function qt(t,e){var n=t.route,i=t.pathname,o=t.params;return{id:n.id,pathname:i,params:o,data:e[n.id],handle:n.handle}}function Zt(t,e){var n="string"===typeof e?D(e).search:e.search;if(t[t.length-1].route.index&&Gt(n||""))return t[t.length-1];var i=X(t);return i[i.length-1]}},function(t,e,n){"use strict";var i=n(14),o=n(12),r=n(13),a=n(19),s=n(6),l=n(18),c=n(25),u={lockCount:0,lock:function(){this.lockCount++},callbacks:[],callEffects:function(){if(this.lockCount--,this.lockCount<0)throw new Error("Unexpected Effect Call");if(0===this.lockCount){var t=this.callbacks;this.callbacks=[],t.forEach(function(t){return t()})}}},h=function(t,e){if(!(t instanceof Object&&e instanceof Object))return t===e;var n=Object.keys(t),i=Object.keys(e);return n.length===i.length&&!n.some(function(n){return t[n]!==e[n]})},d=function(t){function e(){var t;return Object(o.a)(this,e),(t=Object(a.a)(this,Object(s.a)(e).apply(this,arguments)))._pendingContext=t.context,t}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentWillReceiveProps",value:function(t,e){this._pendingContext=null!==e&&void 0!==e?e:{}}},{key:"shouldComponentUpdate",value:function(t,e){return!h(this.props,t)||!h(this.state,e)||!h(this.context,this._pendingContext)}}]),e}(c.a),p=function(t){function e(){var t;return Object(o.a)(this,e),(t=Object(a.a)(this,Object(s.a)(e).apply(this,arguments)))._effects=[],t}return Object(l.a)(e,t),Object(r.a)(e,[{key:"createEffects",value:function(){return[]}},{key:"updateEffects",value:function(){}},{key:"componentWillMount",value:function(){u.lock()}},{key:"componentWillUpdate",value:function(t,e,n){u.lock()}},{key:"componentDidMount",value:function(){var t=this;u.callbacks.push(function(){t._effects=t.createEffects()}),u.callEffects()}},{key:"componentDidUpdate",value:function(){var t=this;u.callbacks.push(function(){return t.updateEffects()}),u.callEffects()}},{key:"destroyEffects",value:function(){this._effects.forEach(function(t){return t.dispose()})}},{key:"componentWillUnmount",value:function(){this.destroyEffects()}}]),e}(d),f=function(t){function e(){var t;return Object(o.a)(this,e),(t=Object(a.a)(this,Object(s.a)(e).apply(this,arguments))).vDomElement=null,t}return Object(l.a)(e,t),Object(r.a)(e,[{key:"vDomUpdateClasses",value:function(){var t=this.vDomElement,e=t.className.length?t.className.split(" "):[],n=e.filter(function(e){return t.dxClasses.previous.indexOf(e)<0}),i=t.dxClasses.previous.filter(function(t){return e.indexOf(t)<0});n.forEach(function(e){var n=t.dxClasses.removed.indexOf(e);n>-1?t.dxClasses.removed.splice(n,1):t.dxClasses.added.push(e)}),i.forEach(function(e){var n=t.dxClasses.added.indexOf(e);n>-1?t.dxClasses.added.splice(n,1):t.dxClasses.removed.push(e)})}},{key:"componentDidMount",value:function(){var t=Object(c.q)(this.$LI,!0);this.vDomElement=t,Object(i.a)(Object(s.a)(e.prototype),"componentDidMount",this).call(this),t.dxClasses=t.dxClasses||{removed:[],added:[],previous:[]},t.dxClasses.previous=(null===t||void 0===t?void 0:t.className.length)?t.className.split(" "):[]}},{key:"componentDidUpdate",value:function(){Object(i.a)(Object(s.a)(e.prototype),"componentDidUpdate",this).call(this);var t=this.vDomElement;null!==t&&(t.dxClasses.added.forEach(function(e){return t.classList.add(e)}),t.dxClasses.removed.forEach(function(e){return t.classList.remove(e)}),t.dxClasses.previous=t.className.length?t.className.split(" "):[])}},{key:"shouldComponentUpdate",value:function(t,n){var o=Object(i.a)(Object(s.a)(e.prototype),"shouldComponentUpdate",this).call(this,t,n);return o&&this.vDomUpdateClasses(),o}}]),e}(p),m=n(27),g=0,v=function(t){var e=g++;return{id:e,defaultValue:t,Provider:function(n){function i(){return Object(o.a)(this,i),Object(a.a)(this,Object(s.a)(i).apply(this,arguments))}return Object(l.a)(i,n),Object(r.a)(i,[{key:"getChildContext",value:function(){return Object.assign(Object.assign({},this.context),Object(m.a)({},e,this.props.value||t))}},{key:"render",value:function(){return this.props.children}}]),i}(c.a)}},y=function(){function t(e,n){Object(o.a)(this,t),this.dependency=n,this.effect=e,this.destroy=e()}return Object(r.a)(t,[{key:"update",value:function(t){var e=this.dependency;t&&(this.dependency=t),t&&!t.some(function(t,n){return e[n]!==t})||(this.dispose(),this.destroy=this.effect())}},{key:"dispose",value:function(){this.destroy&&this.destroy()}}]),t}(),_=function(){return new y(function(){Object(c.u)()},[])},b="a runtime error occured! Use Inferno in development environment to find the error.";function C(t){return null===t}function O(t,e){return Boolean(e&&e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html&&function(t,e){var n=document.createElement("i");return n.innerHTML=e,n.innerHTML===t.innerHTML}(t,e.dangerouslySetInnerHTML.__html))}function x(t,e,n,i,o,r){var a=t.childFlags,s=t.children,l=t.props,u=t.flags;if(1!==a){if(2===a)C(n)?Object(c.e)(s,e,i,o,null,r):n=(n=w(s,e,n,i,o,r))?n.nextSibling:null;else if(16===a)C(n)?e.appendChild(document.createTextNode(s)):1!==e.childNodes.length||3!==n.nodeType?e.textContent=s:n.nodeValue!==s&&(n.nodeValue=s),n=null;else if(12&a)for(var h=!1,d=0,p=s.length;d<p;++d){var f=s[d];C(n)||h&&(16&f.flags)>0?Object(c.e)(f,e,i,o,n,r):n=(n=w(f,e,n,i,o,r))?n.nextSibling:null,h=(16&f.flags)>0}if(0===(8192&u))for(var m=null;n;)m=n.nextSibling,e.removeChild(n),n=m}else C(e.firstChild)||O(e,l)||(e.textContent="",448&u&&(e.defaultValue=""))}function S(t,e,n){if(3!==n.nodeType)e.replaceChild(t.dom=document.createTextNode(t.children),n);else{var i=t.children;n.nodeValue!==i&&(n.nodeValue=i),t.dom=n}return t.dom}function w(t,e,n,i,o,r){var a=t.flags|=16384;return 14&a?function(t,e,n,i,o,r,a){var s,l=t.type,u=t.ref,h=t.props||c.b;if(r){var d=Object(c.c)(t,l,h,i,o,a);s=w(d.$LI,e,n,d.$CX,o,a),Object(c.f)(u,d,a)}else{var p=Object(c.d)(Object(c.k)(t,i));s=w(p,e,n,i,o,a),t.children=p,Object(c.h)(t,a)}return s}(t,e,n,i,o,(4&a)>0,r):481&a?function(t,e,n,i,o,r){var a,s=t.props,l=t.className,u=t.flags,h=t.ref;return o=o||(32&u)>0,1!==n.nodeType?(Object(c.g)(t,null,i,o,null,r),e.replaceChild(t.dom,n)):(t.dom=n,x(t,n,n.firstChild,i,o,r),C(s)||Object(c.i)(t,u,s,n,o),void 0===(a=l)||null===a?""!==n.className&&n.removeAttribute("class"):o?n.setAttribute("class",l):n.className=l,Object(c.j)(h,n,r)),t.dom}(t,e,n,i,o,r):16&a?S(t,e,n):512&a?t.dom=n:8192&a?function(t,e,n,i,o,r){var a=t.children;return 2===t.childFlags?(S(a,e,n),a.dom):(x(t,e,n,i,o,r),function(t){for(var e,n;t;){if(2033&(e=t.flags))return t.dom;n=t.children,t=8192&e?2===t.childFlags?n:n[n.length-1]:4&e?n.$LI:n}return null}(a[a.length-1]))}(t,e,n,i,o,r):(function(t){throw t||(t=b),new Error("Inferno Error: ".concat(t))}(),null)}function P(t,e,n){var i,o=e.firstChild;if(C(o))Object(c.t)(t,e,n);else{var r=[];for(null!==(i=t)&&!1!==i&&!0!==i&&void 0!==i&&(o=w(t,e,o,{},!1,r));o&&(o=o.nextSibling);)e.removeChild(o);if(r.length>0)for(var a;void 0!==(a=r.shift());)a()}e.$V=t,function(t){return"function"===typeof t}(n)&&n()}var k=n(169),E=function(t){var e,n;return(null===(e=t.container)||void 0===e?void 0:e.get(0))||(null===(n=t.item)||void 0===n?void 0:n.get(0))};function T(t,e,n){setTimeout(function(){Object(c.t)(Object(k.a)(t,e),E(e))},0)}var I=function(t,e,n){var i=e[t];return!!i&&"string"!==typeof i},j=n(40),M=new Set(["animationIterationCount","borderImageOutset","borderImageSlice","border-imageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","fillOpacity","flex","flexGrow","flexNegative","flexOrder","flexPositive","flexShrink","floodOpacity","fontWeight","gridColumn","gridRow","lineClamp","lineHeight","opacity","order","orphans","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","tabSize","widows","zIndex","zoom"]),D=function(t){return"number"===typeof t||!Number.isNaN(Number(t))},A=function(t,e){return M.has(t)?e:"".concat(e,"px")},R=/[A-Z]/g,B=function(t){return t.replace(R,"-$&").toLowerCase()};function L(t){if(t instanceof Object)return Object.entries(t).reduce(function(t,e){var n=Object(j.a)(e,2),i=n[0],o=n[1];return t[B(i)]=D(o)?A(i,o):o,t},{})}n.d(e,"a",function(){return d}),n.d(e,"b",function(){return p}),n.d(e,"e",function(){return f}),n.d(e,"f",function(){return v}),n.d(e,"c",function(){return y}),n.d(e,"d",function(){return u}),n.d(e,"g",function(){return _}),n.d(e,"i",function(){return P}),n.d(e,"k",function(){return T}),n.d(e,"h",function(){return I}),n.d(e,"j",function(){return L})},function(t,e,n){"use strict";n.d(e,"c",function(){return d}),n.d(e,"a",function(){return g}),n.d(e,"b",function(){return _}),n.d(e,"d",function(){return b});var i=n(38),o=n(32),r=n(107),a=n(1),s=n(9),l=n(89),c=l.a.unwrap,u=l.a.isWrapped,h=l.a.assign,d=function(t){return(e=t,e.replace(/\[/g,".").replace(/\]/g,"")).split(".");var e},p=function(t,e,n,o){if("this"===e)throw new i.a.Error("E4016");var r=t[e];o.unwrapObservables&&u(r)?h(r,n):t[e]=n},f=function(t){return(t=t||{}).unwrapObservables=void 0===t.unwrapObservables||t.unwrapObservables,t};function m(t,e){return e.unwrapObservables?c(t):t}var g=function(t){if(arguments.length>1&&(t=[].slice.call(arguments)),!t||"this"===t)return function(t){return t};if("string"===typeof t){var e=d(t);return function(t,n){for(var i=(n=f(n)).functionsAsIs,o=("defaultValue"in n),r=m(t,n),s=0;s<e.length;s++){if(!r){if(null==r&&o)return n.defaultValue;break}var l=e[s];if(o&&Object(a.j)(r)&&!(l in r))return n.defaultValue;var c=m(r[l],n);!i&&Object(a.h)(c)&&(c=c.call(r)),r=c}return r}}return Array.isArray(t)?v(t):Object(a.h)(t)?t:void 0};function v(t){for(var e={},n=0,i=t.length;n<i;n++){var o=t[n];e[o]=g(o)}return function(t,n){var i;return Object(s.a)(e,function(e){var o=this(t,n);if(void 0!==o){for(var r=i||(i={}),a=e.split("."),s=a.length-1,l=0;l<s;l++){var c=a[l];c in r||(r[c]={}),r=r[c]}r[a[s]]=o}}),i}}var y=function(t,e,n,i){if(Object(a.d)(n))return n;var o={};return p(t,e,o,i),o},_=function(t){var e=(t=d(t||"this")).length-1;return function(n,i,o){var s=m(n,o=f(o));t.forEach(function(t,n){var l=function(t,e,n){return n=n||{},m("this"===e?t:t[e],n)}(s,t,o),c=!o.functionsAsIs&&Object(a.h)(l)&&!u(l);n===e?o.merge&&Object(a.k)(i)&&(!Object(a.d)(l)||Object(a.k)(l))?(l=y(s,t,l,o),Object(r.b)(l,i,!1,!0)):c?s[t](i):p(s,t,i,o):(l=y(s,t,l,o),c&&(l=l.call(s)),s=l)})}},b=function(t,e){return t instanceof Date?t.getTime():t&&t instanceof o.a&&t.valueOf?t.valueOf():e||"string"!==typeof t?t:t.toLowerCase()}},function(t,e,n){"use strict";var i=n(128);e.a=Object(i.a)({E0001:"Method is not implemented",E0002:"Member name collision: {0}",E0003:"A class must be instantiated using the 'new' keyword",E0004:"The NAME property of the component is not specified",E0005:"Unknown device",E0006:"Unknown endpoint key is requested",E0007:"'Invalidate' method is called outside the update transaction",E0008:"Type of the option name is not appropriate to create an action",E0009:"Component '{0}' has not been initialized for an element",E0010:"Animation configuration with the '{0}' type requires '{1}' configuration as {2}",E0011:"Unknown animation type '{0}'",E0012:"jQuery version is too old. Please upgrade jQuery to 1.10.0 or later",E0013:"KnockoutJS version is too old. Please upgrade KnockoutJS to 2.3.0 or later",E0014:"The 'release' method shouldn't be called for an unlocked Lock object",E0015:"Queued task returned an unexpected result",E0017:"Event namespace is not defined",E0018:"DevExpress.ui.DevExpressPopup widget is required",E0020:"Template engine '{0}' is not supported",E0021:"Unknown theme is set: {0}",E0022:"LINK[rel=DevExpress-theme] tags must go before DevExpress included scripts",E0023:"Template name is not specified",E0024:"DevExtreme bundle already included",E0025:"Unexpected argument type",E0100:"Unknown validation type is detected",E0101:"Misconfigured range validation rule is detected",E0102:"Misconfigured comparison validation rule is detected",E0103:"validationCallback of an asynchronous rule should return a jQuery or a native promise",E0110:"Unknown validation group is detected",E0120:"Adapter for a DevExpressValidator component cannot be configured",E0121:"The 'customItem' parameter of the 'onCustomItemCreating' function is empty or contains invalid data. Assign a custom object or a Promise that is resolved after the item is created.",W0000:"'{0}' is deprecated in {1}. {2}",W0001:"{0} - '{1}' option is deprecated in {2}. {3}",W0002:"{0} - '{1}' method is deprecated in {2}. {3}",W0003:"{0} - '{1}' property is deprecated in {2}. {3}",W0004:"Timeout for theme loading is over: {0}",W0005:"'{0}' event is deprecated in {1}. {2}",W0006:"Invalid recurrence rule: '{0}'",W0007:"'{0}' Globalize culture is not defined",W0008:"Invalid view name: '{0}'",W0009:"Invalid time zone name: '{0}'",W0010:"{0} is deprecated in {1}. {2}",W0011:"Number parsing is invoked while the parser is not defined",W0012:"Date parsing is invoked while the parser is not defined",W0013:"'{0}' file is deprecated in {1}. {2}",W0014:"{0} - '{1}' type is deprecated in {2}. {3}",W0015:"Instead of returning a value from the '{0}' function, write it into the '{1}' field of the function's parameter.",W0016:'The "{0}" option does not accept the "{1}" value since v{2}. {3}.',W0017:'Setting the "{0}" property with a function is deprecated since v21.2',W0018:'Setting the "position" property with a function is deprecated since v21.2'})},function(t,e,n){"use strict";var i=n(70),o=n(1),r=n(9),a=n(38),s=n(195),l=n(156),c=n(157),u=n(146),h={"af-NA":1,agq:1,ak:1,ar:6,"ar-EH":1,"ar-ER":1,"ar-KM":1,"ar-LB":1,"ar-MA":1,"ar-MR":1,"ar-PS":1,"ar-SO":1,"ar-SS":1,"ar-TD":1,"ar-TN":1,asa:1,ast:1,az:1,"az-Cyrl":1,bas:1,be:1,bem:1,bez:1,bg:1,bm:1,br:1,bs:1,"bs-Cyrl":1,ca:1,ce:1,cgg:1,ckb:6,cs:1,cy:1,da:1,de:1,dje:1,dsb:1,dua:1,dyo:1,ee:1,el:1,"en-001":1,"en-AE":6,"en-BI":1,"en-MP":1,"en-MV":5,"en-SD":6,eo:1,es:1,et:1,eu:1,ewo:1,fa:6,ff:1,"ff-Adlm":1,fi:1,fo:1,fr:1,"fr-DJ":6,"fr-DZ":6,"fr-SY":6,fur:1,fy:1,ga:1,gd:1,gl:1,gsw:1,gv:1,ha:1,hr:1,hsb:1,hu:1,hy:1,ia:1,ig:1,is:1,it:1,jgo:1,jmc:1,ka:1,kab:6,kde:1,kea:1,khq:1,kk:1,kkj:1,kl:1,"ko-KP":1,ksb:1,ksf:1,ksh:1,ku:1,kw:1,ky:1,lag:1,lb:1,lg:1,ln:1,lrc:6,lt:1,lu:1,lv:1,"mas-TZ":1,mfe:1,mg:1,mgo:1,mi:1,mk:1,mn:1,ms:1,mua:1,mzn:6,naq:1,nds:1,nl:1,nmg:1,nnh:1,no:1,nus:1,nyn:1,os:1,pcm:1,pl:1,ps:6,"pt-AO":1,"pt-CH":1,"pt-CV":1,"pt-GQ":1,"pt-GW":1,"pt-LU":1,"pt-ST":1,"pt-TL":1,"qu-BO":1,"qu-EC":1,rm:1,rn:1,ro:1,rof:1,ru:1,rw:1,rwk:1,sah:1,sbp:1,sc:1,se:1,ses:1,sg:1,shi:1,"shi-Latn":1,si:1,sk:1,sl:1,smn:1,so:1,"so-DJ":6,sq:1,sr:1,"sr-Latn":1,sv:1,sw:1,"ta-LK":1,"ta-MY":1,teo:1,tg:1,"ti-ER":1,tk:1,to:1,tr:1,tt:1,twq:1,tzm:1,uk:1,uz:1,"uz-Arab":6,"uz-Cyrl":1,vai:1,"vai-Latn":1,vi:1,vun:1,wae:1,wo:1,xog:1,yav:1,yi:1,yo:1,zgh:1},d=n(84),p=n(53),f=n(3),m=/[\u200E\u200F]/g,g=function(t){return function(e){if(!t.timeZoneName){var n=e.getFullYear(),i=String(n).length<3,o=i?n+400:n,r=new Date(Date.UTC(o,e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return i&&r.setFullYear(n),_(r,Object(f.a)({timeZone:"UTC"},t))}return _(e,t)}},v={},y=function(t){var e=d.a.locale()+"/"+JSON.stringify(t);return v[e]||(v[e]=new Intl.DateTimeFormat(d.a.locale(),t).format),v[e]};function _(t,e){return y(e)(t).replace(m,"")}var b=function(t){return new Intl.NumberFormat(d.a.locale()).format(t)},C=function(){var t={};return function(e){if(!(e in t)){if("0"===b(0))return t[e]=!1,!1;t[e]={};for(var n=0;n<10;++n)t[e][b(n)]=n}return t[e]}}(),O=function(t){var e=C(d.a.locale());return e?t.split("").map(function(t){return t in e?String(e[t]):t}).join(""):t},x=function(t){return t.replace(/(\D)0+(\d)/g,"$1$2")},S=function(t){return t.replace("d\u2019","de ")},w={day:{day:"numeric"},dayofweek:{weekday:"long"},longdate:{weekday:"long",year:"numeric",month:"long",day:"numeric"},longdatelongtime:{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},longtime:{hour:"numeric",minute:"numeric",second:"numeric"},month:{month:"long"},monthandday:{month:"long",day:"numeric"},monthandyear:{year:"numeric",month:"long"},shortdate:{},shorttime:{hour:"numeric",minute:"numeric"},shortyear:{year:"2-digit"},year:{year:"numeric"}};Object.defineProperty(w,"shortdateshorttime",{get:function(){var t=Intl.DateTimeFormat(d.a.locale()).resolvedOptions();return{year:t.year,month:t.month,day:t.day,hour:"numeric",minute:"numeric"}}});var P={standalone:function(t,e){var n=new Date(1999,t,13,1);return g({month:e})(n)},format:function(t,e){var n=new Date(0,t,13,1),i=S(g({day:"numeric",month:e})(n)).split(" ").filter(function(t){return t.indexOf("13")<0});return 1===i.length?i[0]:2===i.length?i[0].length>i[1].length?i[0]:i[1]:P.standalone(t,e)}},k={engine:function(){return"intl"},getMonthNames:function(t,e){var n={wide:"long",abbreviated:"short",narrow:"narrow"}[t||"wide"];return e="format"===e?e:"standalone",Array.apply(null,new Array(12)).map(function(t,i){return P[e](i,n)})},getDayNames:function(t){return function(t){return Array.apply(null,new Array(7)).map(function(e,n){return g({weekday:t})(new Date(0,0,n))})}({wide:"long",abbreviated:"short",short:"narrow",narrow:"narrow"}[t||"wide"])},getPeriodNames:function(){var t=g({hour:"numeric",hour12:!0});return[1,13].map(function(e){var n=b(1),i=t(new Date(0,0,1,e)).split(n);return 2!==i.length?"":(i[0].length>i[1].length?i[0]:i[1]).trim()})},format:function(t,e){if(t){if(!e)return t;"function"===typeof e||e.formatter||(e=e.type||e);var n=function(t){return"string"===typeof t&&w[t.toLowerCase()]}(e);if(n)return g(n)(t);var i=typeof e;return e.formatter||"function"===i||"string"===i?this.callBase.apply(this,arguments):g(e)(t)}},parse:function(t,e){var n,i=this;return e&&!e.parser&&"string"===typeof t&&(t=S(t),n=function(t){return S(i.format(t,e))}),this.callBase(t,n||e)},_parseDateBySimpleFormat:function(t,e){var n=this;t=O(t);var i=this.getFormatParts(e),o=t.split(/\D+/).filter(function(t){return t.length>0});if(i.length===o.length){var r=this._generateDateArgs(i,o),a=function(i){var o,a,s=function(t,e){var n=e?12:0;return new Date(t.year,t.month,t.day,(t.hours+n)%24,t.minutes,t.seconds)}(r,i);if(o=O(n.format(s,e)),a=t,x(o)===x(a))return s};return a(!1)||a(!0)}},_generateDateArgs:function(t,e){var n=new Date,i={year:n.getFullYear(),month:n.getMonth(),day:n.getDate(),hours:0,minutes:0,seconds:0};return t.forEach(function(t,n){var o=e[n],r=parseInt(o,10);"month"===t&&(r-=1),i[t]=r}),i},formatUsesMonthName:function(t){return"object"!==typeof t||t.type||t.format?this.callBase.apply(this,arguments):"long"===t.month},formatUsesDayName:function(t){return"object"!==typeof t||t.type||t.format?this.callBase.apply(this,arguments):"long"===t.weekday},getTimeSeparator:function(){return O(_(new Date(2001,1,1,11,11),{hour:"numeric",minute:"numeric",hour12:!1})).replace(/\d/g,"")},getFormatParts:function(t){if("string"===typeof t)return this.callBase(t);var e=Object(f.a)({},w[t.toLowerCase()]),n=new Date(2001,2,4,5,6,7),i=g(e)(n);return i=O(i),[{name:"year",value:1},{name:"month",value:3},{name:"day",value:4},{name:"hours",value:5},{name:"minutes",value:6},{name:"seconds",value:7}].map(function(t){return{name:t.name,index:i.indexOf(t.value)}}).filter(function(t){return t.index>-1}).sort(function(t,e){return t.index-e.index}).map(function(t){return t.name})}},E="undefined"!==typeof Intl,T={shortdate:"M/d/y",shorttime:"h:mm a",longdate:"EEEE, MMMM d, y",longtime:"h:mm:ss a",monthandday:"MMMM d",monthandyear:"MMMM y",quarterandyear:"QQQ y",day:"d",year:"y",shortdateshorttime:"M/d/y, h:mm a",longdatelongtime:"EEEE, MMMM d, y, h:mm:ss a",month:"LLLL",shortyear:"yy",dayofweek:"EEEE",quarter:"QQQ",hour:"HH",minute:"mm",second:"ss",millisecond:"SSS","datetime-local":"yyyy-MM-ddTHH':'mm':'ss"},I={year:["y","yy","yyyy"],day:["d","dd"],month:["M","MM","MMM","MMMM"],hours:["H","HH","h","hh","ah"],minutes:["m","mm"],seconds:["s","ss"],milliseconds:["S","SS","SSS"]},j=Object(i.a)({engine:function(){return"base"},_getPatternByFormat:function(t){return T[t.toLowerCase()]},_expandPattern:function(t){return this._getPatternByFormat(t)||t},formatUsesMonthName:function(t){return-1!==this._expandPattern(t).indexOf("MMMM")},formatUsesDayName:function(t){return-1!==this._expandPattern(t).indexOf("EEEE")},getFormatParts:function(t){var e=this._getPatternByFormat(t)||t,n=[];return Object(r.a)(e.split(/\W+/),function(t,e){Object(r.a)(I,function(t,i){i.includes(e)&&n.push(t)})}),n},getMonthNames:function(t){return u.a.getMonthNames(t)},getDayNames:function(t){return u.a.getDayNames(t)},getQuarterNames:function(t){return u.a.getQuarterNames(t)},getPeriodNames:function(t){return u.a.getPeriodNames(t)},getTimeSeparator:function(){return":"},is24HourFormat:function(t){for(var e=new Date(2017,0,20,11,0,0,0),n=new Date(2017,0,20,23,0,0,0),i=this.format(e,t),o=this.format(n,t),r=0;r<i.length;r++)if(i[r]!==o[r])return!isNaN(parseInt(i[r]))},format:function(t,e){if(t){if(!e)return t;var n;if("function"===typeof e)n=e;else if(e.formatter)n=e.formatter;else if(e=e.type||e,Object(o.o)(e))return e=T[e.toLowerCase()]||e,p.a.convertDigits(Object(s.a)(e,this)(t));if(n)return n(t)}},parse:function(t,e){var n,i,o=this;if(t){if(!e)return this.parse(t,"shortdate");if(e.parser)return e.parser(t);if("string"!==typeof e||T[e.toLowerCase()]){i=function(t){var n=o.format(t,e);return p.a.convertDigits(n,!0)};try{n=Object(l.a)(i)}catch(s){}}else n=e;if(n)return t=p.a.convertDigits(t,!0),Object(c.a)(n,this)(t);a.a.log("W0012");var r=new Date(t);if(r&&!isNaN(r.getTime()))return r}},firstDayOfWeekIndex:function(){var t=d.a.getValueByClosestLocale(function(t){return h[t]});return void 0===t?0:t}});E&&j.inject(k);e.a=j},function(t,e,n){"use strict";var i=n(187);var o=n(188);function r(t,e){return Object(i.a)(t)||function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(l){o=!0,r=l}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}(t,e)||Object(o.a)()}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";var i=n(189);function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||Object(i.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"a",function(){return o})},function(t,e,n){"use strict";var i=n(128),o=n(38);e.a=Object(i.a)(o.a.ERROR_MESSAGES,{E1001:"Module '{0}'. Controller '{1}' is already registered",E1002:"Module '{0}'. Controller '{1}' does not inherit from DevExpress.ui.dxDataGrid.Controller",E1003:"Module '{0}'. View '{1}' is already registered",E1004:"Module '{0}'. View '{1}' does not inherit from DevExpress.ui.dxDataGrid.View",E1005:"Public method '{0}' is already registered",E1006:"Public method '{0}.{1}' does not exist",E1007:"State storing cannot be provided due to the restrictions of the browser",E1010:"The template does not contain the TextBox widget",E1011:'Items cannot be deleted from the List. Implement the "remove" function in the data store',E1012:"Editing type '{0}' with the name '{1}' is unsupported",E1016:"Unexpected type of data source is provided for a lookup column",E1018:"The 'collapseAll' method cannot be called if you use a remote data source",E1019:"Search mode '{0}' is unavailable",E1020:"The type cannot be changed after initialization",E1021:"{0} '{1}' you are trying to remove does not exist",E1022:'The "markers" option is given an invalid value. Assign an array instead',E1023:'The "routes" option is given an invalid value. Assign an array instead',E1025:"This layout is too complex to render",E1026:'The "calculateCustomSummary" function is missing from a field whose "summaryType" option is set to "custom"',E1031:"Unknown subscription in the Scheduler widget: '{0}'",E1032:"Unknown start date in an appointment: '{0}'",E1033:"Unknown step in the date navigator: '{0}'",E1034:"The browser does not implement an API for saving files",E1035:"The editor cannot be created: {0}",E1037:"Invalid structure of grouped data",E1038:"The browser does not support local storages for local web pages",E1039:"A cell's position cannot be calculated",E1040:"The '{0}' key value is not unique within the data array",E1041:"The '{0}' script is referenced after the DevExtreme scripts or not referenced at all",E1042:"{0} requires the key field to be specified",E1043:"Changes cannot be processed due to the incorrectly set key",E1044:"The key field specified by the keyExpr option does not match the key field specified in the data store",E1045:"Editing requires the key field to be specified in the data store",E1046:"The '{0}' key field is not found in data objects",E1047:'The "{0}" field is not found in the fields array',E1048:'The "{0}" operation is not found in the filterOperations array',E1049:"Column '{0}': filtering is allowed but the 'dataField' or 'name' option is not specified",E1050:"The validationRules option does not apply to third-party editors defined in the editCellTemplate",E1051:'HtmlEditor\'s valueType is "{0}", but the {0} converter was not imported.',E1052:'{0} should have the "dataSource" option specified',E1053:'The "buttons" option accepts an array that contains only objects or string values',E1054:"All text editor buttons must have names",E1055:'One or several text editor buttons have invalid or non-unique "name" values',E1056:'The {0} widget does not support buttons of the "{1}" type',E1058:'The "startDayHour" must be earlier than the "endDayHour"',E1059:"The following column names are not unique: {0}",E1060:"All editable columns must have names",W1001:'The "key" option cannot be modified after initialization',W1002:"An item with the key '{0}' does not exist",W1003:"A group with the key '{0}' in which you are trying to select items does not exist",W1004:"The item '{0}' you are trying to select in the group '{1}' does not exist",W1005:"Due to column data types being unspecified, data has been loaded twice in order to apply initial filter settings. To resolve this issue, specify data types for all grid columns.",W1006:"The map service returned the following error: '{0}'",W1007:"No item with key {0} was found in the data source, but this key was used as the parent key for item {1}",W1008:"Cannot scroll to the '{0}' date because it does not exist on the current view",W1009:"Searching works only if data is specified using the dataSource option",W1010:"The capability to select all items works with source data of plain structure only",W1011:'The "keyExpr" option is not applied when dataSource is not an array',W1012:"The '{0}' key field is not found in data objects",W1013:'The "message" field in the dialog component was renamed to "messageHtml". Change your code correspondingly. In addition, if you used HTML code in the message, make sure that it is secure',W1014:"The Floating Action Button exceeds the recommended speed dial action count. If you need to display more speed dial actions, increase the maxSpeedDialActionCount option value in the global config.",W1015:'The "cellDuration" should divide the range from the "startDayHour" to the "endDayHour" into even intervals',W1016:"The '{0}' field in the HTML Editor toolbar item configuration was renamed to '{1}'. Please make a corresponding change in your code.",W1017:"The 'key' property is not specified for a lookup data source. Please specify it to prevent requests for the entire dataset when users filter data.",W1018:"Infinite scrolling may not work properly with multiple selection. To use these features together, set 'selection.deferred' to true or set 'selection.selectAllMode' to 'page'.",W1019:"Filter query string exceeds maximum length limit of {0} characters.",W1020:"hideEvent is ignored when the shading property is true",W1021:"The '{0}' is not rendered because none of the DOM elements match the value of the \"container\" property."})},function(t,e,n){"use strict";var i=function(t){this._options=t||{},this._list=[],this._queue=[],this._firing=!1,this._fired=!1,this._firingIndexes=[]};i.prototype._fireCore=function(t,e){var n=this._firingIndexes,i=this._list,o=this._options.stopOnFalse,r=n.length;for(n[r]=0;n[r]<i.length;n[r]++){if(!1===i[n[r]].apply(t,e)&&o)break}n.pop()},i.prototype.add=function(t){return"function"!==typeof t||this._options.unique&&this.has(t)||this._list.push(t),this},i.prototype.remove=function(t){var e=this._list,n=this._firingIndexes,i=e.indexOf(t);if(i>-1&&(e.splice(i,1),this._firing&&n.length))for(var o=0;o<n.length;o++)i<=n[o]&&n[o]--;return this},i.prototype.has=function(t){var e=this._list;return t?e.indexOf(t)>-1:!!e.length},i.prototype.empty=function(t){return this._list=[],this},i.prototype.fireWith=function(t,e){var n=this._queue;if(e=(e=e||[]).slice?e.slice():e,this._options.syncStrategy)this._firing=!0,this._fireCore(t,e);else{if(n.push([t,e]),this._firing)return;for(this._firing=!0;n.length;){var i=n.shift();this._fireCore(i[0],i[1])}}return this._firing=!1,this._fired=!0,this},i.prototype.fire=function(){this.fireWith(this,arguments)},i.prototype.fired=function(){return this._fired};e.a=function(t){return new i(t)}},function(t,e,n){"use strict";var i=n(64),o=n(9),r=n(20),a=n(85),s=n(3),l=n(7),c=n(72),u=n(17),h=n(32),d=n(10),p=h.a.inherit({ctor:function(t,e){this._eventName=t,this._originalEvents=Object(d.a)(e,"dxPointerEvents"),this._handlerCount=0,this.noBubble=this._isNoBubble()},_isNoBubble:function(){var t=this._eventName;return"dxpointerenter"===t||"dxpointerleave"===t},_handler:function(t){var e,n=this._getDelegateTarget(t),i={type:this._eventName,pointerType:t.pointerType||Object(d.e)(t),originalEvent:t,delegateTarget:n,timeStamp:c.a.mozilla?(new Date).getTime():t.timeStamp},o=t.originalEvent;if(null!==o&&void 0!==o&&null!==(e=o.target)&&void 0!==e&&e.shadowRoot){var r,a,s=null!==(r=o.path)&&void 0!==r?r:null===(a=o.composedPath)||void 0===a?void 0:a.call(o);i.target=s[0]}return this._fireEvent(i)},_getDelegateTarget:function(t){var e;return this.noBubble&&(e=t.delegateTarget),e},_fireEvent:function(t){return Object(d.f)(t)},_setSelector:function(t){this._selector=this.noBubble&&t?t.selector:null},_getSelector:function(){return this._selector},setup:function(){return!0},add:function(t,e){if(this._handlerCount<=0||this.noBubble){t=this.noBubble?t:u.a.getDocument(),this._setSelector(e);var n=this;l.a.on(t,this._originalEvents,this._getSelector(),function(t){n._handler(t)})}this.noBubble||this._handlerCount++},remove:function(t){this._setSelector(t),this.noBubble||this._handlerCount--},teardown:function(t){this._handlerCount&&!this.noBubble||(t=this.noBubble?t:u.a.getDocument(),".dxPointerEvents"!==this._originalEvents&&l.a.off(t,this._originalEvents,this._getSelector()))},dispose:function(t){t=this.noBubble?t:u.a.getDocument(),l.a.off(t,this._originalEvents)}}),f=function(t){var e=[];return Object(o.a)(t.touches,function(t,n){e.push(Object(s.a)({pointerId:n.identifier},n))}),{pointers:e,pointerId:t.changedTouches[0].identifier}},m=p.inherit({ctor:function(){this.callBase.apply(this,arguments),this._pointerId=0},_handler:function(t){if(n=this._eventName,"ios"===r.a.real().platform&&("dxpointerdown"===n||"dxpointerup"===n)){var e=t.changedTouches[0];if(this._pointerId===e.identifier&&0!==this._pointerId)return;this._pointerId=e.identifier}var n;return this.callBase.apply(this,arguments)},_fireEvent:function(t){return this.callBase(Object(s.a)(f(t.originalEvent),t))}});m.map={dxpointerdown:"touchstart",dxpointermove:"touchmove",dxpointerup:"touchend",dxpointercancel:"touchcancel",dxpointerover:"",dxpointerout:"",dxpointerenter:"",dxpointerleave:""},m.normalize=f;var g,v=m,y=n(75),_=function(t,e){y.a.add(function(){t.split(" ").forEach(function(t){u.a.listen(u.a.getDocument(),t,e,!0)})})},b=function(t,e,n){n=n||function(){};var i=[],r=function(t){var n=-1;return Object(o.a)(i,function(i,o){return!e(t,o)||(n=i,!1)}),n},a=function(t){var e=r(t);e>-1&&i.splice(e,1)};_(t.dxpointerdown,function(t){-1===r(t)&&(n(t),i.push(t))}),_(t.dxpointermove,function(t){i[r(t)]=t}),_(t.dxpointerup,a),_(t.dxpointercancel,a),this.pointers=function(){return i},this.reset=function(){i=[]}},C={dxpointerdown:"mousedown",dxpointermove:"mousemove",dxpointerup:"mouseup",dxpointercancel:"",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},O=function(t){return t.pointerId=1,{pointers:g.pointers(),pointerId:1}},x=!1,S=function(){x||(g=new b(C,function(){return!0}),x=!0)},w=p.inherit({ctor:function(){this.callBase.apply(this,arguments),S()},_fireEvent:function(t){return this.callBase(Object(s.a)(O(t.originalEvent),t))}});w.map=C,w.normalize=O,w.activate=S,w.resetObserver=function(){g.reset()};var P=w,k=!1,E=p.inherit({EVENT_LOCK_TIMEOUT:100,ctor:function(){this.callBase.apply(this,arguments),k||(P.activate(),k=!0)},_handler:function(t){var e=Object(d.k)(t);if(e||(this._skipNextEvents=!0),!e||!this._mouseLocked){if(!e||!this._skipNextEvents)return this.callBase(t);this._skipNextEvents=!1,this._mouseLocked=!0,clearTimeout(this._unlockMouseTimer);var n=this;this._unlockMouseTimer=setTimeout(function(){n._mouseLocked=!1},this.EVENT_LOCK_TIMEOUT)}},_fireEvent:function(t){var e=Object(d.k)(t.originalEvent)?P.normalize:v.normalize;return this.callBase(Object(s.a)(e(t.originalEvent),t))},dispose:function(){this.callBase(),this._skipNextEvents=!1,this._mouseLocked=!1,clearTimeout(this._unlockMouseTimer)}});E.map={dxpointerdown:"touchstart mousedown",dxpointermove:"touchmove mousemove",dxpointerup:"touchend mouseup",dxpointercancel:"touchcancel",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},E.resetObserver=P.resetObserver;var T=E,I=function(t,e){var n=e.tablet,i=e.phone;return!t.touch||n||i?t.touch?v:P:T}(i,r.a.real());Object(o.a)(I.map,function(t,e){Object(a.a)(t,new I(t,e))});e.a={down:"dxpointerdown",up:"dxpointerup",move:"dxpointermove",cancel:"dxpointercancel",enter:"dxpointerenter",leave:"dxpointerleave",over:"dxpointerover",out:"dxpointerout"}},function(t,e,n){var i,o=n(279);i=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=176)}([function(t,e,n){"use strict";n.d(e,"c",function(){return x}),n.d(e,"b",function(){return w}),n.d(e,"d",function(){return k}),n.d(e,"a",function(){return S});var i=n(1),o=n.n(i),r=n(16),a=n.n(r),s=n(37),l=n.n(s),c=n(2),u=n(4),h=n(3),d=n(12),p=n(7),f=n(44),m=n(23),g=n(57);function v(t){return(v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,o,r=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function C(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var O=Object(m.a)("quill"),x=new c.Registry;c.ParentBlot.uiClass="ql-ui";var S=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=w(e,i),this.container=this.options.container,null==this.container)return O.error("Invalid Quill container",e);this.options.debug&&t.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",f.a.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new h.a;var r=this.options.registry.query(c.ScrollBlot.blotName);this.scroll=new r(this.options.registry,this.root,{emitter:this.emitter,toggleBlankClass:this.toggleBlankClass.bind(this)}),this.editor=new u.a(this.scroll),this.selection=new p.b(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.init(),this.emitter.on(h.a.events.EDITOR_CHANGE,function(t){t===h.a.events.TEXT_CHANGE&&n.toggleBlankClass()}),this.emitter.on(h.a.events.SCROLL_UPDATE,function(t,e){var i=n.selection.lastRange,o=_(n.selection.getRange(),1)[0],r=i&&o?{oldRange:i,newRange:o}:void 0;P.call(n,function(){return n.editor.update(null,e,r)},t)}),this.setContents(this.getInitialContent(o)),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}var e,n,i;return e=t,i=[{key:"debug",value:function(t){!0===t&&(t="log"),m.a.level(t)}},{key:"find",value:function(t){return f.a.get(t)||x.find(t)}},{key:"import",value:function(t){return null==this.imports[t]&&O.error("Cannot import ".concat(t,". Are you sure it was registered?")),this.imports[t]}},{key:"register",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!==typeof t){var o=t.attrName||t.blotName;"string"===typeof o?this.register("formats/".concat(o),t,e):Object.keys(t).forEach(function(i){n.register(i,t[i],e)})}else null==this.imports[t]||i||O.warn("Overwriting ".concat(t," with"),e),this.imports[t]=e,0!==t.indexOf("blots/")&&0!==t.indexOf("formats/")||"abstract"===e.blotName||x.register(e),"function"===typeof e.register&&e.register(x)}}],(n=[{key:"getInitialContent",value:function(t){return this.clipboard.convert({html:"".concat(t,"<p><br></p>"),text:"\n"})}},{key:"toggleBlankClass",value:function(){var t=this.selection.composing;this.root.classList.toggle("ql-blank",this.editor.isBlank(t))}},{key:"addContainer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"===typeof t){var n=t;(t=document.createElement("div")).classList.add(n)}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(t,e,n){var i=this,o=_(k(t,e,n),4);return t=o[0],e=o[1],n=o[3],P.call(this,function(){return i.editor.deleteText(t,e)},n,t,-1*e)}},{key:"disable",value:function(){this.enable(!1)}},{key:"editReadOnly",value:function(t){this.allowReadOnlyEdits=!0;var e=t();return this.allowReadOnlyEdits=!1,e}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}},{key:"focus",value:function(){var t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}},{key:"format",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.a.sources.API;return P.call(this,function(){var i=n.getSelection(!0),r=new o.a;if(null==i)return r;if(n.scroll.query(t,c.Scope.BLOCK))r=n.editor.formatLine(i.index,i.length,y({},t,e));else{if(0===i.length)return n.selection.format(t,e),r;r=n.editor.formatText(i.index,i.length,y({},t,e))}return n.setSelection(i,h.a.sources.SILENT),r},i)}},{key:"formatLine",value:function(t,e,n,i,o){var r,a=this,s=_(k(t,e,n,i,o),4);return t=s[0],e=s[1],r=s[2],o=s[3],P.call(this,function(){return a.editor.formatLine(t,e,r)},o,t,0)}},{key:"formatText",value:function(t,e,n,i,o){var r,a=this,s=_(k(t,e,n,i,o),4);return t=s[0],e=s[1],r=s[2],o=s[3],P.call(this,function(){return a.editor.formatText(t,e,r)},o,t,0)}},{key:"getBounds",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e="number"===typeof t?this.selection.getBounds(t,n):this.selection.getBounds(t.index,t.length);var i=this.container.getBoundingClientRect();return{bottom:e.bottom-i.top,height:e.height,left:e.left-i.left,right:e.right-i.left,top:e.top-i.top,width:e.width}}},{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=_(k(t,e),2);return t=n[0],e=n[1],this.editor.getContents(t,e)}},{key:"getFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"===typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}},{key:"getIndex",value:function(t){return t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!==typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getSemanticHTML",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=_(k(t,e),2);return t=n[0],e=n[1],this.editor.getHTML(t,e)}},{key:"getText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=_(k(t,e),2);return t=n[0],e=n[1],this.editor.getText(t,e)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,n,i){var o=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.sources.API;return P.call(this,function(){return o.editor.insertEmbed(e,n,i)},r,e)}},{key:"insertText",value:function(t,e,n,i,o){var r,a=this,s=_(k(t,0,n,i,o),4);return t=s[0],r=s[2],o=s[3],P.call(this,function(){return a.editor.insertText(t,e,r)},o,t,e.length)}},{key:"isEnabled",value:function(){return this.scroll.isEnabled()}},{key:"off",value:function(){var t;return(t=this.emitter).off.apply(t,arguments)}},{key:"on",value:function(){var t;return(t=this.emitter).on.apply(t,arguments)}},{key:"once",value:function(){var t;return(t=this.emitter).once.apply(t,arguments)}},{key:"removeFormat",value:function(t,e,n){var i=this,o=_(k(t,e,n),4);return t=o[0],e=o[1],n=o[3],P.call(this,function(){return i.editor.removeFormat(t,e)},n,t)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.sources.API;return P.call(this,function(){e=new o.a(e);var i=n.getLength(),r=n.editor.deleteText(0,i),a=n.editor.applyDelta(e),s=n.editor.deleteText(n.getLength()-1,1);return n.emitter.emit(t.events.CONTENT_SETTED),r.compose(a).compose(s)},i)}},{key:"setSelection",value:function(e,n,i){if(null==e)this.selection.setRange(null,n||t.sources.API);else{var o=_(k(e,n,i),4);e=o[0],n=o[1],i=o[3],this.selection.setRange(new p.a(Math.max(0,e),n),i),i!==h.a.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.sources.API,n=(new o.a).insert(t);return this.setContents(n,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.a.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a.sources.API;return P.call(this,function(){return t=new o.a(t),e.editor.applyDelta(t,n)},n,!0)}}])&&C(e.prototype,n),i&&C(e,i),t}();function w(t,e){if((e=l()({container:t,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0}},e)).theme&&e.theme!==S.DEFAULTS.theme){if(e.theme=S.import("themes/".concat(e.theme)),null==e.theme)throw new Error("Invalid theme ".concat(e.theme,". Did you register it?"))}else e.theme=g.a;var n=a()(e.theme.DEFAULTS);[n,e].forEach(function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach(function(e){!0===t.modules[e]&&(t.modules[e]={})})});var i=Object.keys(n.modules).concat(Object.keys(e.modules)).reduce(function(t,e){var n=S.import("modules/".concat(e));return null==n?O.error("Cannot load ".concat(e," module. Are you sure you registered it?")):t[e]=n.DEFAULTS||{},t},{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar}),e=l()({},S.DEFAULTS,{modules:i},n,e),["bounds","container","scrollingContainer"].forEach(function(t){"string"===typeof e[t]&&(e[t]=document.querySelector(e[t]))}),e.modules=Object.keys(e.modules).reduce(function(t,n){return e.modules[n]&&(t[n]=e.modules[n]),t},{}),e}function P(t,e,n,i){if(!this.isEnabled()&&e===h.a.sources.USER&&!this.allowReadOnlyEdits)return new o.a;var r=null==n?null:this.getSelection(),a=this.editor.delta,s=t();if(null!=r&&(!0===n&&(n=r.index),null==i?r=E(r,s,e):0!==i&&(r=E(r,n,i,e)),this.setSelection(r,h.a.sources.SILENT)),s.length()>0){var l,c,u=[h.a.events.TEXT_CHANGE,s,a,e];if((l=this.emitter).emit.apply(l,[h.a.events.EDITOR_CHANGE].concat(u)),e!==h.a.sources.SILENT)(c=this.emitter).emit.apply(c,u)}return s}function k(t,e,n,i,o){var r={};return"number"===typeof t.index&&"number"===typeof t.length?"number"!==typeof e?(o=i,i=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!==typeof e&&(o=i,i=n,n=e,e=0),"object"===v(n)?(r=n,o=i):"string"===typeof n&&(null!=i?r[n]=i:o=n),[t,e,r,o=o||h.a.sources.API]}function E(t,e,n,i){if(null==t)return null;var r,a;if(e instanceof o.a){var s=_([t.index,t.index+t.length].map(function(t){return e.transformPosition(t,i!==h.a.sources.USER)}),2);r=s[0],a=s[1]}else{var l=_([t.index,t.index+t.length].map(function(t){return t<e||t===e&&i===h.a.sources.USER?t:n>=0?t+n:Math.max(e,t+n)}),2);r=l[0],a=l[1]}return new p.a(r,a-r)}S.DEFAULTS={bounds:null,modules:{},placeholder:"",readOnly:!1,registry:x,scrollingContainer:null,theme:"default"},S.events=h.a.events,S.sources=h.a.sources,S.version="1.5.20",S.imports={delta:o.a,parchment:c,"core/module":d.a,"core/theme":g.a}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=i(n(118)),r=i(n(16)),a=i(n(30)),s=i(n(119)),l=i(n(94)),c=String.fromCharCode(0),u=function(){function t(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]}return t.prototype.insert=function(t,e){var n={};return"string"===typeof t&&0===t.length?this:(n.insert=t,null!=e&&"object"===typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},t.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},t.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};return null!=e&&"object"===typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},t.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=r.default(t),"object"===typeof n){if("number"===typeof t.delete&&"number"===typeof n.delete)return this.ops[e-1]={delete:n.delete+t.delete},this;if("number"===typeof n.delete&&null!=t.insert&&(e-=1,"object"!==typeof(n=this.ops[e-1])))return this.ops.unshift(t),this;if(a.default(t.attributes,n.attributes)){if("string"===typeof t.insert&&"string"===typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"===typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"===typeof t.retain&&"number"===typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"===typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},t.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},t.prototype.filter=function(t){return this.ops.filter(t)},t.prototype.forEach=function(t){this.ops.forEach(t)},t.prototype.map=function(t){return this.ops.map(t)},t.prototype.partition=function(t){var e=[],n=[];return this.forEach(function(i){(t(i)?e:n).push(i)}),[e,n]},t.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},t.prototype.changeLength=function(){return this.reduce(function(t,e){return e.insert?t+l.default.length(e):e.delete?t-e.delete:t},0)},t.prototype.length=function(){return this.reduce(function(t,e){return t+l.default.length(e)},0)},t.prototype.slice=function(e,n){void 0===e&&(e=0),void 0===n&&(n=1/0);for(var i=[],o=l.default.iterator(this.ops),r=0;r<n&&o.hasNext();){var a=void 0;r<e?a=o.next(e-r):(a=o.next(n-r),i.push(a)),r+=l.default.length(a)}return new t(i)},t.prototype.compose=function(e){var n=l.default.iterator(this.ops),i=l.default.iterator(e.ops),o=[],r=i.peek();if(null!=r&&"number"===typeof r.retain&&null==r.attributes){for(var c=r.retain;"insert"===n.peekType()&&n.peekLength()<=c;)c-=n.peekLength(),o.push(n.next());r.retain-c>0&&i.next(r.retain-c)}for(var u=new t(o);n.hasNext()||i.hasNext();)if("insert"===i.peekType())u.push(i.next());else if("delete"===n.peekType())u.push(n.next());else{var h=Math.min(n.peekLength(),i.peekLength()),d=n.next(h),p=i.next(h);if("number"===typeof p.retain){var f={};"number"===typeof d.retain?f.retain=h:f.insert=d.insert;var m=s.default.compose(d.attributes,p.attributes,"number"===typeof d.retain);if(m&&(f.attributes=m),u.push(f),!i.hasNext()&&a.default(u.ops[u.ops.length-1],f)){var g=new t(n.rest());return u.concat(g).chop()}}else"number"===typeof p.delete&&"number"===typeof d.retain&&u.push(p)}return u.chop()},t.prototype.concat=function(e){var n=new t(this.ops.slice());return e.ops.length>0&&(n.push(e.ops[0]),n.ops=n.ops.concat(e.ops.slice(1))),n},t.prototype.diff=function(e,n){if(this.ops===e.ops)return new t;var i=[this,e].map(function(t){return t.map(function(n){if(null!=n.insert)return"string"===typeof n.insert?n.insert:c;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")}).join("")}),r=new t,u=o.default(i[0],i[1],n),h=l.default.iterator(this.ops),d=l.default.iterator(e.ops);return u.forEach(function(t){for(var e=t[1].length;e>0;){var n=0;switch(t[0]){case o.default.INSERT:n=Math.min(d.peekLength(),e),r.push(d.next(n));break;case o.default.DELETE:n=Math.min(e,h.peekLength()),h.next(n),r.delete(n);break;case o.default.EQUAL:n=Math.min(h.peekLength(),d.peekLength(),e);var i=h.next(n),l=d.next(n);a.default(i.insert,l.insert)?r.retain(n,s.default.diff(i.attributes,l.attributes)):r.push(l).delete(n)}e-=n}}),r.chop()},t.prototype.eachLine=function(e,n){void 0===n&&(n="\n");for(var i=l.default.iterator(this.ops),o=new t,r=0;i.hasNext();){if("insert"!==i.peekType())return;var a=i.peek(),s=l.default.length(a)-i.peekLength(),c="string"===typeof a.insert?a.insert.indexOf(n,s)-s:-1;if(c<0)o.push(i.next());else if(c>0)o.push(i.next(c));else{if(!1===e(o,i.next(1).attributes||{},r))return;r+=1,o=new t}}o.length()>0&&e(o,{},r)},t.prototype.invert=function(e){var n=new t;return this.reduce(function(t,i){if(i.insert)n.delete(l.default.length(i));else{if(i.retain&&null==i.attributes)return n.retain(i.retain),t+i.retain;if(i.delete||i.retain&&i.attributes){var o=i.delete||i.retain;return e.slice(t,t+o).forEach(function(t){i.delete?n.push(t):i.retain&&i.attributes&&n.retain(l.default.length(t),s.default.invert(i.attributes,t.attributes))}),t+o}}return t},0),n.chop()},t.prototype.transform=function(e,n){if(void 0===n&&(n=!1),n=!!n,"number"===typeof e)return this.transformPosition(e,n);for(var i=e,o=l.default.iterator(this.ops),r=l.default.iterator(i.ops),a=new t;o.hasNext()||r.hasNext();)if("insert"!==o.peekType()||!n&&"insert"===r.peekType())if("insert"===r.peekType())a.push(r.next());else{var c=Math.min(o.peekLength(),r.peekLength()),u=o.next(c),h=r.next(c);if(u.delete)continue;h.delete?a.push(h):a.retain(c,s.default.transform(u.attributes,h.attributes,n))}else a.retain(l.default.length(o.next()));return a.chop()},t.prototype.transformPosition=function(t,e){void 0===e&&(e=!1),e=!!e;for(var n=l.default.iterator(this.ops),i=0;n.hasNext()&&i<=t;){var o=n.peekLength(),r=n.peekType();n.next(),"delete"!==r?("insert"===r&&(i<t||!e)&&(t+=o),i+=o):t-=Math.min(o,t-i)}return t},t.Op=l.default,t.AttributeMap=s.default,t}();t.exports=u},function(t,e,n){"use strict";var i;n.r(e),n.d(e,"ParentBlot",function(){return d}),n.d(e,"ContainerBlot",function(){return f}),n.d(e,"LeafBlot",function(){return g}),n.d(e,"EmbedBlot",function(){return I}),n.d(e,"ScrollBlot",function(){return D}),n.d(e,"BlockBlot",function(){return E}),n.d(e,"InlineBlot",function(){return P}),n.d(e,"TextBlot",function(){return R}),n.d(e,"Attributor",function(){return v}),n.d(e,"ClassAttributor",function(){return b}),n.d(e,"StyleAttributor",function(){return x}),n.d(e,"AttributorStore",function(){return S}),n.d(e,"Registry",function(){return l}),n.d(e,"Scope",function(){return o}),function(t){t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY"}(i||(i={}));var o=i,r=function(){function t(){this.head=null,this.tail=null,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.insertBefore(t[0],null),t.length>1){var n=t.slice(1);this.append.apply(this,n)}},t.prototype.at=function(t){for(var e=this.iterator(),n=e();n&&t>0;)t-=1,n=e();return n},t.prototype.contains=function(t){for(var e=this.iterator(),n=e();n;){if(n===t)return!0;n=e()}return!1},t.prototype.indexOf=function(t){for(var e=this.iterator(),n=e(),i=0;n;){if(n===t)return i;i+=1,n=e()}return-1},t.prototype.insertBefore=function(t,e){null!=t&&(this.remove(t),t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)},t.prototype.offset=function(t){for(var e=0,n=this.head;null!=n;){if(n===t)return e;e+=n.length(),n=n.next}return-1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);for(var n=this.iterator(),i=n();i;){var o=i.length();if(t<o||e&&t===o&&(null==i.next||0!==i.next.length()))return[i,t];t-=o,i=n()}return[null,0]},t.prototype.forEach=function(t){for(var e=this.iterator(),n=e();n;)t(n),n=e()},t.prototype.forEachAt=function(t,e,n){if(!(e<=0))for(var i=this.find(t),o=i[0],r=t-i[1],a=this.iterator(o),s=a();s&&r<t+e;){var l=s.length();t>r?n(s,t-r,Math.min(e,r+l-t)):n(s,0,Math.min(l,t+e-r)),r+=l,s=a()}},t.prototype.map=function(t){return this.reduce(function(e,n){return e.push(t(n)),e},[])},t.prototype.reduce=function(t,e){for(var n=this.iterator(),i=n();i;)e=t(e,i),i=n();return e},t}(),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s=function(t){function e(e){var n=this;return e="[Parchment] "+e,(n=t.call(this,e)||this).message=e,n.name=n.constructor.name,n}return a(e,t),e}(Error),l=function(){function t(){this.attributes={},this.classes={},this.tags={},this.types={}}return t.find=function(t,e){return void 0===e&&(e=!1),null==t?null:this.blots.has(t)?this.blots.get(t)||null:e?this.find(t.parentNode,e):null},t.prototype.create=function(e,n,i){var o=this.query(n);if(null==o)throw new s("Unable to create "+n+" blot");var r=o,a=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:r.create(i),l=new r(e,a,i);return t.blots.set(l.domNode,l),l},t.prototype.find=function(e,n){return void 0===n&&(n=!1),t.find(e,n)},t.prototype.query=function(t,e){var n,i=this;if(void 0===e&&(e=o.ANY),"string"===typeof t)n=this.types[t]||this.attributes[t];else if(t instanceof Text||t.nodeType===Node.TEXT_NODE)n=this.types.text;else if("number"===typeof t)t&o.LEVEL&o.BLOCK?n=this.types.block:t&o.LEVEL&o.INLINE&&(n=this.types.inline);else if(t instanceof HTMLElement){(t.getAttribute("class")||"").split(/\s+/).some(function(t){return!!(n=i.classes[t])}),n=n||this.tags[t.tagName]}return null==n?null:e&o.LEVEL&n.scope&&e&o.TYPE&n.scope?n:null},t.prototype.register=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length>1)return e.map(function(e){return t.register(e)});var i=e[0];if("string"!==typeof i.blotName&&"string"!==typeof i.attrName)throw new s("Invalid definition");if("abstract"===i.blotName)throw new s("Cannot register abstract class");(this.types[i.blotName||i.attrName]=i,"string"===typeof i.keyName)?this.attributes[i.keyName]=i:(null!=i.className&&(this.classes[i.className]=i),null!=i.tagName&&(Array.isArray(i.tagName)?i.tagName=i.tagName.map(function(t){return t.toUpperCase()}):i.tagName=i.tagName.toUpperCase(),(Array.isArray(i.tagName)?i.tagName:[i.tagName]).forEach(function(e){null!=t.tags[e]&&null!=i.className||(t.tags[e]=i)})));return i},t.blots=new WeakMap,t}(),c=function(){function t(t,e){this.scroll=t,this.domNode=e,l.blots.set(e,this),this.prev=null,this.next=null}return t.create=function(t){if(null==this.tagName)throw new s("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"===typeof t&&(t=t.toUpperCase(),parseInt(t,10).toString()===t&&(t=parseInt(t,10))),e="number"===typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!1,configurable:!0}),t.prototype.attach=function(){},t.prototype.clone=function(){var t=this.domNode.cloneNode(!1);return this.scroll.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),l.blots.delete(this.domNode)},t.prototype.deleteAt=function(t,e){this.isolate(t,e).remove()},t.prototype.formatAt=function(t,e,n,i){var r=this.isolate(t,e);if(null!=this.scroll.query(n,o.BLOT)&&i)r.wrap(n,i);else if(null!=this.scroll.query(n,o.ATTRIBUTE)){var a=this.scroll.create(this.statics.scope);r.wrap(a),a.format(n,i)}},t.prototype.insertAt=function(t,e,n){var i=null==n?this.scroll.create("text",e):this.scroll.create(e,n),o=this.split(t);this.parent.insertBefore(i,o||void 0)},t.prototype.isolate=function(t,e){var n=this.split(t);if(null==n)throw new Error("Attempt to isolate at end");return n.split(e),n},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(t){!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName)},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replaceWith=function(t,e){var n="string"===typeof t?this.scroll.create(t,e):t;return null!=this.parent&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t,e){},t.prototype.wrap=function(t,e){var n="string"===typeof t?this.scroll.create(t,e):t;if(null!=this.parent&&this.parent.insertBefore(n,this.next||void 0),"function"!==typeof n.appendChild)throw new s("Cannot wrap "+t);return n.appendChild(this),n},t.blotName="abstract",t}(),u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function h(t,e){var n=e.find(t);if(null==n)try{n=e.create(t)}catch(i){n=e.create(o.INLINE),Array.from(t.childNodes).forEach(function(t){n.domNode.appendChild(t)}),t.parentNode&&t.parentNode.replaceChild(n.domNode,t),n.attach()}return n}var d=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.uiNode=null,i.build(),i}return u(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){t.prototype.attach.call(this),this.children.forEach(function(t){t.attach()})},e.prototype.attachUI=function(t){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=t,e.uiClass&&this.uiNode.classList.add(e.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)},e.prototype.build=function(){var t=this;this.children=new r,Array.from(this.domNode.childNodes).filter(function(e){return e!==t.uiNode}).reverse().forEach(function(e){try{var n=h(e,t.scroll);t.insertBefore(n,t.children.head||void 0)}catch(i){if(i instanceof s)return;throw i}})},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,function(t,e,n){t.deleteAt(e,n)})},e.prototype.descendant=function(t,n){void 0===n&&(n=0);var i=this.children.find(n),o=i[0],r=i[1];return null==t.blotName&&t(o)||null!=t.blotName&&o instanceof t?[o,r]:o instanceof e?o.descendant(t,r):[null,-1]},e.prototype.descendants=function(t,n,i){void 0===n&&(n=0),void 0===i&&(i=Number.MAX_VALUE);var o=[],r=i;return this.children.forEachAt(n,i,function(n,i,a){(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&o.push(n),n instanceof e&&(o=o.concat(n.descendants(t,i,r))),r-=a}),o},e.prototype.detach=function(){this.children.forEach(function(t){t.detach()}),t.prototype.detach.call(this)},e.prototype.enforceAllowedChildren=function(){var t=this,n=!1;this.children.forEach(function(i){n||(t.statics.allowedChildren.some(function(t){return i instanceof t})||(i.statics.scope===o.BLOCK_BLOT?(null!=i.next&&t.splitAfter(i),null!=i.prev&&t.splitAfter(i.prev),i.parent.unwrap(),n=!0):i instanceof e?i.unwrap():i.remove()))})},e.prototype.formatAt=function(t,e,n,i){this.children.forEachAt(t,e,function(t,e,o){t.formatAt(e,o,n,i)})},e.prototype.insertAt=function(t,e,n){var i=this.children.find(t),o=i[0],r=i[1];if(o)o.insertAt(r,e,n);else{var a=null==n?this.scroll.create("text",e):this.scroll.create(e,n);this.appendChild(a)}},e.prototype.insertBefore=function(t,e){null!=t.parent&&t.parent.children.remove(t);var n=null;this.children.insertBefore(t,e||null),t.parent=this,null!=e&&(n=e.domNode),this.domNode.parentNode===t.domNode&&this.domNode.nextSibling===n||this.domNode.insertBefore(t.domNode,n),t.attach()},e.prototype.length=function(){return this.children.reduce(function(t,e){return t+e.length()},0)},e.prototype.moveChildren=function(t,e){this.children.forEach(function(n){t.insertBefore(n,e)})},e.prototype.optimize=function(e){if(t.prototype.optimize.call(this,e),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){var n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()},e.prototype.path=function(t,n){void 0===n&&(n=!1);var i=this.children.find(t,n),o=i[0],r=i[1],a=[[this,t]];return o instanceof e?a.concat(o.path(r,n)):(null!=o&&a.push([o,r]),a)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replaceWith=function(n,i){var o="string"===typeof n?this.scroll.create(n,i):n;return o instanceof e&&this.moveChildren(o),t.prototype.replaceWith.call(this,o)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(t,this.length(),function(t,i,o){var r=t.split(i,e);null!=r&&n.appendChild(r)}),n},e.prototype.splitAfter=function(t){for(var e=this.clone();null!=t.next;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e},e.prototype.unwrap=function(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()},e.prototype.update=function(t,e){var n=this,i=[],o=[];t.forEach(function(t){t.target===n.domNode&&"childList"===t.type&&(i.push.apply(i,t.addedNodes),o.push.apply(o,t.removedNodes))}),o.forEach(function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=n.scroll.find(t);null!=e&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==n.domNode||e.detach())}}),i.filter(function(t){return t.parentNode===n.domNode||t===n.uiNode}).sort(function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(t){var e=null;null!=t.nextSibling&&(e=n.scroll.find(t.nextSibling));var i=h(t,n.scroll);i.next===e&&null!=i.next||(null!=i.parent&&i.parent.removeChild(n),n.insertBefore(i,e||void 0))}),this.enforceAllowedChildren()},e.uiClass="",e}(c),p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.checkMerge=function(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName},e.prototype.deleteAt=function(e,n){t.prototype.deleteAt.call(this,e,n),this.enforceAllowedChildren()},e.prototype.formatAt=function(e,n,i,o){t.prototype.formatAt.call(this,e,n,i,o),this.enforceAllowedChildren()},e.prototype.insertAt=function(e,n,i){t.prototype.insertAt.call(this,e,n,i),this.enforceAllowedChildren()},e.prototype.optimize=function(e){t.prototype.optimize.call(this,e),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())},e.blotName="container",e.scope=o.BLOCK_BLOT,e}(d),m=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},e.prototype.position=function(t,e){var n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]},e.prototype.value=function(){var t;return(t={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,t},e.scope=o.INLINE_BLOT,e}(c),v=function(){function t(t,e,n){void 0===n&&(n={}),this.attrName=t,this.keyName=e;var i=o.TYPE&o.ATTRIBUTE;this.scope=null!=n.scope?n.scope&o.LEVEL|i:o.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return t.keys=function(t){return Array.from(t.attributes).map(function(t){return t.name})},t.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){return null==this.whitelist||("string"===typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1)},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""},t}(),y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function _(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(function(t){return 0===t.indexOf(e+"-")})}var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y(e,t),e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map(function(t){return t.split("-").slice(0,-1).join("-")})},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+"-"+e),!0)},e.prototype.remove=function(t){_(t,this.keyName).forEach(function(e){t.classList.remove(e)}),0===t.classList.length&&t.removeAttribute("class")},e.prototype.value=function(t){var e=(_(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""},e}(v),C=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function O(t){var e=t.split("-"),n=e.slice(1).map(function(t){return t[0].toUpperCase()+t.slice(1)}).join("");return e[0]+n}var x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return C(e,t),e.keys=function(t){return(t.getAttribute("style")||"").split(";").map(function(t){return t.split(":")[0].trim()})},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style[O(this.keyName)]=e,!0)},e.prototype.remove=function(t){t.style[O(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")},e.prototype.value=function(t){var e=t.style[O(this.keyName)];return this.canAdd(t,e)?e:""},e}(v),S=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=l.find(this.domNode);if(null!=e){var n=v.keys(this.domNode),i=b.keys(this.domNode),r=x.keys(this.domNode);n.concat(i).concat(r).forEach(function(n){var i=e.scroll.query(n,o.ATTRIBUTE);i instanceof v&&(t.attributes[i.attrName]=i)})}},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach(function(n){var i=e.attributes[n].value(e.domNode);t.format(n,i)})},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach(function(t){e.attributes[t].remove(e.domNode)}),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce(function(e,n){return e[n]=t.attributes[n].value(t.domNode),e},{})},t}(),w=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();var P=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.attributes=new S(i.domNode),i}return w(e,t),e.formats=function(t,n){var i=n.query(e.blotName);if(null==i||t.tagName!==i.tagName)return"string"===typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,n){var i=this;if(t!==this.statics.blotName||n){var r=this.scroll.query(t,o.INLINE);if(null==r)return;r instanceof v?this.attributes.attribute(r,n):!n||t===this.statics.blotName&&this.formats()[t]===n||this.replaceWith(t,n)}else this.children.forEach(function(t){t instanceof e||(t=t.wrap(e.blotName,!0)),i.attributes.copy(t)}),this.unwrap()},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.formatAt=function(e,n,i,r){null!=this.formats()[i]||this.scroll.query(i,o.ATTRIBUTE)?this.isolate(e,n).format(i,r):t.prototype.formatAt.call(this,e,n,i,r)},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);var i=this.formats();if(0===Object.keys(i).length)return this.unwrap();var o=this.next;o instanceof e&&o.prev===this&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}(i,o.formats())&&(o.moveChildren(this),o.remove())},e.prototype.replaceWith=function(e,n){var i=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(i),i},e.prototype.update=function(e,n){var i=this;t.prototype.update.call(this,e,n),e.some(function(t){return t.target===i.domNode&&"attributes"===t.type})&&this.attributes.build()},e.prototype.wrap=function(n,i){var o=t.prototype.wrap.call(this,n,i);return o instanceof e&&this.attributes.move(o),o},e.allowedChildren=[e,g],e.blotName="inline",e.scope=o.INLINE_BLOT,e.tagName="SPAN",e}(d),k=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),E=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.attributes=new S(i.domNode),i}return k(e,t),e.formats=function(t,n){var i=n.query(e.blotName);if(null==i||t.tagName!==i.tagName)return"string"===typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,n){var i=this.scroll.query(t,o.BLOCK);null!=i&&(i instanceof v?this.attributes.attribute(i,n):t!==this.statics.blotName||n?!n||t===this.statics.blotName&&this.formats()[t]===n||this.replaceWith(t,n):this.replaceWith(e.blotName))},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.formatAt=function(e,n,i,r){null!=this.scroll.query(i,o.BLOCK)?this.format(i,r):t.prototype.formatAt.call(this,e,n,i,r)},e.prototype.insertAt=function(e,n,i){if(null==i||null!=this.scroll.query(n,o.INLINE))t.prototype.insertAt.call(this,e,n,i);else{var r=this.split(e);if(null==r)throw new Error("Attempt to insertAt after block boundaries");var a=this.scroll.create(n,i);r.parent.insertBefore(a,r)}},e.prototype.replaceWith=function(e,n){var i=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(i),i},e.prototype.update=function(e,n){var i=this;t.prototype.update.call(this,e,n),e.some(function(t){return t.target===i.domNode&&"attributes"===t.type})&&this.attributes.build()},e.blotName="block",e.scope=o.BLOCK_BLOT,e.tagName="P",e.allowedChildren=[P,e,g],e}(d),T=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T(e,t),e.formats=function(t,e){},e.prototype.format=function(e,n){t.prototype.formatAt.call(this,0,this.length(),e,n)},e.prototype.formatAt=function(e,n,i,o){0===e&&n===this.length()?this.format(i,o):t.prototype.formatAt.call(this,e,n,i,o)},e.prototype.formats=function(){return this.statics.formats(this.domNode,this.scroll)},e}(g),j=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),M={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},D=function(t){function e(e,n){var i=t.call(this,null,n)||this;return i.registry=e,i.scroll=i,i.build(),i.observer=new MutationObserver(function(t){i.update(t)}),i.observer.observe(i.domNode,M),i.attach(),i}return j(e,t),e.prototype.create=function(t,e){return this.registry.create(this,t,e)},e.prototype.find=function(t,e){return void 0===e&&(e=!1),this.registry.find(t,e)},e.prototype.query=function(t,e){return void 0===e&&(e=o.ANY),this.registry.query(t,e)},e.prototype.register=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this.registry).register.apply(t,e)},e.prototype.build=function(){null!=this.scroll&&t.prototype.build.call(this)},e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,n){this.update(),0===e&&n===this.length()?this.children.forEach(function(t){t.remove()}):t.prototype.deleteAt.call(this,e,n)},e.prototype.formatAt=function(e,n,i,o){this.update(),t.prototype.formatAt.call(this,e,n,i,o)},e.prototype.insertAt=function(e,n,i){this.update(),t.prototype.insertAt.call(this,e,n,i)},e.prototype.optimize=function(e,n){var i=this;void 0===e&&(e=[]),void 0===n&&(n={}),t.prototype.optimize.call(this,n);for(var o=n.mutationsMap||new WeakMap,r=Array.from(this.observer.takeRecords());r.length>0;)e.push(r.pop());for(var a=function t(e,n){void 0===n&&(n=!0),null!=e&&e!==i&&null!=e.domNode.parentNode&&(o.has(e.domNode)||o.set(e.domNode,[]),n&&t(e.parent))},s=function t(e){o.has(e.domNode)&&(e instanceof d&&e.children.forEach(t),o.delete(e.domNode),e.optimize(n))},l=e,c=0;l.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(function(t){var e=i.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(a(i.find(t.previousSibling,!1)),Array.from(t.addedNodes).forEach(function(t){var e=i.find(t,!1);a(e,!1),e instanceof d&&e.children.forEach(function(t){a(t,!1)})})):"attributes"===t.type&&a(e.prev)),a(e))}),this.children.forEach(s),r=(l=Array.from(this.observer.takeRecords())).slice();r.length>0;)e.push(r.pop())}},e.prototype.update=function(e,n){var i=this;void 0===n&&(n={}),e=e||this.observer.takeRecords();var o=new WeakMap;e.map(function(t){var e=l.find(t.target,!0);return null==e?null:o.has(e.domNode)?(o.get(e.domNode).push(t),null):(o.set(e.domNode,[t]),e)}).forEach(function(t){null!=t&&t!==i&&o.has(t.domNode)&&t.update(o.get(t.domNode)||[],n)}),n.mutationsMap=o,o.has(this.domNode)&&t.prototype.update.call(this,o.get(this.domNode),n),this.optimize(e,n)},e.blotName="scroll",e.defaultChild=E,e.allowedChildren=[E,f],e.scope=o.BLOCK_BLOT,e.tagName="DIV",e}(d),A=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),R=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.text=i.statics.value(i.domNode),i}return A(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){return t.data},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,n,i){null==i?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,n,i)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n},e.prototype.update=function(t,e){var n=this;t.some(function(t){return"characterData"===t.type&&t.target===n.domNode})&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=o.INLINE_BLOT,e}(g)},function(t,e,n){"use strict";var i=n(95),o=n.n(i),r=n(15),a=n(44),s=n(23);function l(t){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return(u="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===l(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=Object(s.a)("quill:events");Object(r.a)()&&["selectionchange","mousedown","mouseup","click"].forEach(function(t){document.addEventListener(t,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach(function(t){var n,i=a.a.get(t);i&&i.emitter&&(n=i.emitter).handleDOM.apply(n,e)})})});var m=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(a,o.a);var e,n,i,r=d(a);function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=r.call(this)).listeners={},t.on("error",f.error),t}return e=a,(n=[{key:"emit",value:function(){for(var t,e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];(t=f.log).call.apply(t,[f].concat(i)),(e=u(p(a.prototype),"emit",this)).call.apply(e,[this].concat(i))}},{key:"handleDOM",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];(this.listeners[t.type]||[]).forEach(function(e){var i=e.node,o=e.handler;(t.target===i||i.contains(t.target))&&o.apply(void 0,[t].concat(n))})}},{key:"listenDOM",value:function(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:n})}}])&&c(e.prototype,n),i&&c(e,i),a}();m.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",CONTENT_SETTED:"content-setted"},m.sources={API:"api",SILENT:"silent",USER:"user"},e.a=m},function(t,e,n){"use strict";var i=n(16),o=n.n(i),r=n(30),a=n.n(r),s=n(37),l=n.n(s),c=n(1),u=n.n(c),h=n(2),d=n(7),p=n(24),f=n(6),m=n(10),g=n(9);function v(t){return P(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||S(t)||x()}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach(function(e){b(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C(t){return(C="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){return P(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,o,r=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}(t,e)||S(t,e)||x()}function x(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(t,e){if(t){if("string"===typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(t,e):void 0}}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function P(t){if(Array.isArray(t))return t}function k(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var E=/^[ -~]*$/,T=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scroll=e,this.delta=this.getDelta(),this.immediateFormats=new Set}var e,n,i;return e=t,(n=[{key:"addImmediateFormat",value:function(t){this.immediateFormats.add(t)}},{key:"applyDelta",value:function(t){var e=this;this.scroll.update();var n=this.scroll.length();this.scroll.batchStart();var i=function(t){return t.reduce(function(t,e){if("string"===typeof e.insert){var n=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(n,e.attributes)}return t.push(e)},new u.a)}(t),o=new u.a;return i.reduce(function(t,i){var r=c.Op.length(i),a=i.attributes||{},s=!1;if(null!=i.insert){if(o.retain(r),"string"===typeof i.insert){var u=i.insert;s=!u.endsWith("\n")&&(n<=t||e.scroll.descendant(f.a,t)[0]),e.scroll.insertAt(t,u);var d=O(e.scroll.line(t),2),p=d[0],m=d[1],g=l()({},Object(f.c)(p));if(p instanceof f.d){var v=O(p.descendant(h.LeafBlot,m),1)[0];g=l()(g,Object(f.c)(v))}a=c.AttributeMap.diff(g,a)||{}}else if("object"===C(i.insert)){var y=Object.keys(i.insert)[0];if(null==y)return t;s=null!=e.scroll.query(y,h.Scope.INLINE)&&(n<=t||e.scroll.descendant(f.a,t)[0]),e.scroll.insertAt(t,y,i.insert[y])}n+=r}else o.push(i);var _=Object.keys(a);e.immediateFormats.forEach(function(n){_.indexOf(n)>-1&&(e.scroll.formatAt(t,r,n,a[n]),delete a[n])}),Object.keys(a).forEach(function(n){e.scroll.formatAt(t,r,n,a[n])});var b=s?1:0;return n+=b,o.delete(b),t+r+b},0),o.reduce(function(t,n){return"number"===typeof n.delete?(e.scroll.deleteAt(t,n.delete),t):t+c.Op.length(n)},0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(i)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new u.a).retain(t).delete(e))}},{key:"formatLine",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(i).forEach(function(o){n.scroll.lines(t,Math.max(e,1)).forEach(function(t){t.format(o,i[o])})}),this.scroll.optimize();var r=(new u.a).retain(t).retain(e,o()(i));return this.update(r)}},{key:"formatText",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(i).forEach(function(o){n.scroll.formatAt(t,e,o,i[o])});var r=(new u.a).retain(t).retain(e,o()(i));return this.update(r)}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(t,e){return t.concat(e.delta())},new u.a)}},{key:"getFormat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],i=[];0===e?this.scroll.path(t).forEach(function(t){var e=O(t,1)[0];e instanceof f.d?n.push(e):e instanceof h.LeafBlot&&i.push(e)}):(n=this.scroll.lines(t,e),i=this.scroll.descendants(h.LeafBlot,t,e));var o=O([n,i].map(function(t){if(0===t.length)return{};for(var e=Object(f.c)(t.shift());Object.keys(e).length>0;){var n=t.shift();if(null==n)return e;e=j(Object(f.c)(n),e)}return e}),2);return n=o[0],i=o[1],_(_({},n),i)}},{key:"getHTML",value:function(t,e){var n=O(this.scroll.line(t),2),i=n[0],o=n[1];return i.length()>=o+e?I(i,o,e,!0):I(this.scroll,t,e,!0)}},{key:"getText",value:function(t,e){return this.getContents(t,e).filter(function(t){return"string"===typeof t.insert}).map(function(t){return t.insert}).join("")}},{key:"insertEmbed",value:function(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new u.a).retain(t).insert(b({},e,n)))}},{key:"insertText",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(i).forEach(function(o){n.scroll.formatAt(t,e.length,o,i[o])}),this.update((new u.a).retain(t).insert(e,o()(i)))}},{key:"isBlank",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(0===this.scroll.children.length)return!0;if(t)return!1;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===f.d.blotName&&(!(e.children.length>1)&&e.children.head instanceof m.a)}},{key:"removeFormat",value:function(t,e){var n=this.getText(t,e),i=O(this.scroll.line(t+e),2),o=i[0],r=i[1],a=0,s=new u.a;null!=o&&(a=o.length()-r,s=o.delta().slice(r,r+a-1).insert("\n"));var l=this.getContents(t,e+a).diff((new u.a).insert(n).concat(s)),c=(new u.a).retain(t).concat(l);return this.applyDelta(c)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(E)&&this.scroll.find(e[0].target)){var o=this.scroll.find(e[0].target),r=Object(f.c)(o),s=o.offset(this.scroll),l=e[0].oldValue.replace(p.a.CONTENTS,""),c=(new u.a).insert(l),h=(new u.a).insert(o.value()),d=n&&{oldRange:D(n.oldRange,-s),newRange:D(n.newRange,-s)};t=(new u.a).retain(s).concat(c.diff(h,d)).reduce(function(t,e){return e.insert?t.insert(e.insert,r):t.push(e)},new u.a),this.delta=i.compose(t)}else this.delta=this.getDelta(),t&&a()(i.compose(t),this.delta)||(t=i.diff(this.delta,n));return t}}])&&k(e.prototype,n),i&&k(e,i),t}();function I(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"===typeof t.html)return t.html(e,n);if(t instanceof g.a)return Object(g.b)(t.value().slice(e,e+n));if(t.children){if("list-container"===t.statics.blotName){var o=[];return t.children.forEachAt(e,n,function(t,e,n){var i=t.formats();o.push({child:t,offset:e,length:n,indent:i.indent||0,type:i.list})}),function t(e,n,i){if(0===e.length){var o=O(M(i.pop()),1)[0];return n<=0?"</li></".concat(o,">"):"</li></".concat(o,">").concat(t([],n-1,i))}var r=v(e),a=r[0],s=a.child,l=a.offset,c=a.length,u=a.indent,h=a.type,d=r.slice(1),p=O(M(h,s),2),f=p[0],m=p[1];if(u>n)return i.push(h),u===n+1?"<".concat(f,"><li").concat(m,">").concat(I(s,l,c)).concat(t(d,u,i)):"<".concat(f,"><li>").concat(t(e,n+1,i));var g=i[i.length-1];if(u===n&&h===g)return"</li><li".concat(m,">").concat(I(s,l,c)).concat(t(d,u,i));var y=O(M(i.pop()),1)[0];return"</li></".concat(y,">").concat(t(e,n-1,i))}(o,-1,[])}var r=[];if(t.children.forEachAt(e,n,function(t,e,n){r.push(I(t,e,n))}),function(t,e){1===t.length&&t.head instanceof m.a&&e.push("<br>")}(t.children,r),i||"list"===t.statics.blotName)return r.join("");var a=function(t){var e=t.domNode.cloneNode(!0);return function(t,e){["tableCellLine","tableHeaderCellLine","tableCell","tableHeaderCell"].includes(t.statics.blotName)&&(n=e,i=t.statics.className,n.classList.remove(i),0===n.classList.length&&n.removeAttribute("class"));var n,i;return e}(t,e)}(t),s=a.outerHTML,l=a.innerHTML,c=O(s.split(">".concat(l,"<")),2),u=c[0],h=c[1];return 0===u.indexOf("<table")?"".concat(u.replace(/(\sdata-.+?=["'].*?["'])/g,""),">").concat(r.join("").replace(/(\sdata-table.+?=["'].*?["'])/g,""),"<").concat(h):"".concat(u,">").concat(r.join(""),"<").concat(h)}return t.domNode.outerHTML}function j(t,e){return Object.keys(e).reduce(function(n,i){return null==t[i]?n:(e[i]===t[i]?n[i]=e[i]:Array.isArray(e[i])?e[i].indexOf(t[i])<0&&(n[i]=e[i].concat([t[i]])):n[i]=[e[i],t[i]],n)},{})}function M(t,e){var n="ordered"===t?"ol":"ul",i=e?"".concat(function(t){var e=t.domNode;if(!e.hasAttributes())return"";for(var n=e.attributes,i=" ",o=0;o<n.length;o+=1){var r=n[o].name,a=n[o].value;"class"===r&&(a=a.replace(/ql-indent-\d/g,"").trim()),a.length&&-1===r.indexOf("data-")&&(i+="".concat(r,'="').concat(a,'"'))}return i.length>1?i:""}(e)):"";switch(t){case"checked":return[n,"".concat(i,' data-list="checked"')];case"unchecked":return[n,"".concat(i,' data-list="unchecked"')];default:return[n,i]}}function D(t,e){var n=t.index,i=t.length;return new d.a(n+e,i)}e.a=T},function(t,e,n){"use strict";function i(t){return null!==t&&void 0!==t}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"b",function(){return P}),n.d(e,"c",function(){return k}),n.d(e,"a",function(){return w}),n.d(e,"d",function(){return S});var i=n(1),r=n.n(i),a=n(2),s=n(10),l=n(14),c=n(9),u=n(19);function h(t,e,n,i){return n.map(function(n){var o=i?Object(u.b)(t,n,i):n;return e.scroll.query(o,a.Scope.ATTRIBUTE)}).filter(function(t){return t instanceof a.Attributor}).reduce(function(t,e){return t[e.attrName]=e,t},{})}function d(t){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach(function(e){m(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function y(t,e,n){return e&&v(t.prototype,e),n&&v(t,n),t}function _(t,e,n){return(_="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function b(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=x(t);if(e){var o=x(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===d(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}a.AttributorStore.prototype.build=function(){var t=this.domNode.tagName,e=a.Registry.find(this.domNode);if(null!=e){var n=a.Attributor.keys(this.domNode),i=a.ClassAttributor.keys(this.domNode),r=a.StyleAttributor.keys(this.domNode);this.attributes=o({},h(t,e,n,u.a.attribute),h(t,e,i),h(t,e,r,u.a.style))}};var S=function(t){b(n,a["BlockBlot"]);var e=O(n);function n(t,i){var o;return g(this,n),(o=e.call(this,t,i)).cache={},o}return y(n,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=P(this)),this.cache.delta}},{key:"deleteAt",value:function(t,e){_(x(n.prototype),"deleteAt",this).call(this,t,e),this.cache={}}},{key:"formatAt",value:function(t,e,i,o){e<=0||(this.scroll.query(i,a.Scope.BLOCK)?t+e===this.length()&&this.format(i,o):_(x(n.prototype),"formatAt",this).call(this,t,Math.min(e,this.length()-t-1),i,o),this.cache={})}},{key:"insertAt",value:function(t,e,i){if(null!=i)return _(x(n.prototype),"insertAt",this).call(this,t,e,i),void(this.cache={});if(0!==e.length){var o=e.split("\n"),r=o.shift();r.length>0&&(t<this.length()-1||null==this.children.tail?_(x(n.prototype),"insertAt",this).call(this,Math.min(t,this.length()-1),r):this.children.tail.insertAt(this.children.tail.length(),r),this.cache={});var a=this;o.reduce(function(t,e){return(a=a.split(t,!0)).insertAt(0,e),e.length},t+r.length)}}},{key:"insertBefore",value:function(t,e){var i=this.children.head;_(x(n.prototype),"insertBefore",this).call(this,t,e),i instanceof s.a&&i.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=_(x(n.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(t,e){_(x(n.prototype),"moveChildren",this).call(this,t,e),this.cache={}}},{key:"optimize",value:function(t){_(x(n.prototype),"optimize",this).call(this,t),this.cache={}}},{key:"path",value:function(t){return _(x(n.prototype),"path",this).call(this,t,!0)}},{key:"removeChild",value:function(t){_(x(n.prototype),"removeChild",this).call(this,t),this.cache={}}},{key:"split",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&(0===t||t>=this.length()-1)){var i=this.clone();return 0===t?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}var o=_(x(n.prototype),"split",this).call(this,t,e);return this.cache={},o}}]),n}();S.blotName="block",S.tagName="P",S.defaultChild=s.a,S.allowedChildren=[s.a,l.a,a.EmbedBlot,c.a];var w=function(t){b(n,a["EmbedBlot"]);var e=O(n);function n(){return g(this,n),e.apply(this,arguments)}return y(n,[{key:"attach",value:function(){_(x(n.prototype),"attach",this).call(this),this.attributes=new a.AttributorStore(this.domNode)}},{key:"delta",value:function(){return(new r.a).insert(this.value(),f(f({},this.formats()),this.attributes.values()))}},{key:"format",value:function(t,e){var n=this.scroll.query(t,a.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,e)}},{key:"formatAt",value:function(t,e,n,i){this.format(n,i)}},{key:"insertAt",value:function(t,e,i){if("string"===typeof e&&e.endsWith("\n")){var o=this.scroll.create(S.blotName);this.parent.insertBefore(o,0===t?this:this.next),o.insertAt(0,e.slice(0,-1))}else _(x(n.prototype),"insertAt",this).call(this,t,e,i)}}]),n}();function P(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.descendants(a.LeafBlot).reduce(function(t,n){return 0===n.length()?t:t.insert(n.value(),k(n,{},e))},new r.a).insert("\n",k(t))}function k(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null==t?e:("function"===typeof t.formats&&(e=f(f({},e),t.formats()),n&&delete e["code-token"]),null==t.parent||"scroll"===t.parent.statics.blotName||t.parent.statics.scope!==t.statics.scope?e:k(t.parent,e,n))}w.scope=a.Scope.BLOCK_BLOT},function(t,e,n){"use strict";n.d(e,"a",function(){return v}),n.d(e,"b",function(){return y});var i=n(2),o=n(16),r=n.n(o),a=n(30),s=n.n(a),l=n(3),c=n(23);function u(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||d(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,o,r=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}(t,e)||d(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){if(t){if("string"===typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var g=Object(c.a)("quill:selection"),v=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;m(this,t),this.index=e,this.length=n},y=function(){function t(e,n){var i=this;m(this,t),this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new v(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){i.mouseDown||i.composing||setTimeout(i.update.bind(i,l.a.sources.USER),1)}),this.emitter.on(l.a.events.SCROLL_BEFORE_UPDATE,function(){if(i.hasFocus()){var t=i.getNativeRange();null!=t&&t.start.node!==i.cursor.textNode&&i.emitter.once(l.a.events.SCROLL_UPDATE,function(){try{i.root.contains(t.start.node)&&i.root.contains(t.end.node)&&i.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset),i.update(l.a.sources.SILENT)}catch(e){}})}}),this.emitter.on(l.a.events.SCROLL_OPTIMIZE,function(t,e){if(e.range){var n=e.range,o=n.startNode,r=n.startOffset,a=n.endNode,s=n.endOffset;i.setNativeRange(o,r,a,s),i.update(l.a.sources.SILENT)}}),this.update(l.a.sources.SILENT)}var e,n,o;return e=t,(n=[{key:"handleComposition",value:function(){var t=this;this.root.addEventListener("compositionstart",function(){t.composing=!0,t.scroll.batchStart()}),this.root.addEventListener("compositionend",function(){if(t.scroll.batchEnd(),t.composing=!1,t.cursor.parent){var e=t.cursor.restore();if(!e)return;setTimeout(function(){t.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}},{key:"handleDragging",value:function(){var t=this;this.emitter.listenDOM("mousedown",document.body,function(){t.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){t.mouseDown=!1,t.update(l.a.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(t,e){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!this.scroll.query(t,i.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var o=this.scroll.find(n.start.node,!1);if(null==o)return;if(o instanceof i.LeafBlot){var r=o.split(n.start.offset);o.parent.insertBefore(this.cursor,r)}else o.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}},{key:"getBounds",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.scroll.length();t=Math.min(t,i-1),n=Math.min(t+n,i-1)-t;var o=h(this.scroll.leaf(t),2),r=o[0],a=o[1];if(null==r)return null;var s=h(r.position(a,!0),2);e=s[0],a=s[1];var l=document.createRange();if(n>0){l.setStart(e,a);var c=h(this.scroll.leaf(t+n),2);if(r=c[0],a=c[1],null==r)return null;var u=h(r.position(a,!0),2);return e=u[0],a=u[1],l.setEnd(e,a),l.getBoundingClientRect()}var d,p="left";return e instanceof Text?(a<e.data.length?(l.setStart(e,a),l.setEnd(e,a+1)):(l.setStart(e,a-1),l.setEnd(e,a),p="right"),d=l.getBoundingClientRect()):(d=r.domNode.getBoundingClientRect(),a>0&&(p="right")),{bottom:d.top+d.height,height:d.height,left:d[p],right:d[p],top:d.top,width:0}}},{key:"getNativeRange",value:function(){var t=document.getSelection();if(null==t||t.rangeCount<=0)return null;var e=t.getRangeAt(0);if(null==e)return null;var n=this.normalizeNative(e);return g.info("getNativeRange",n),n}},{key:"getRange",value:function(){var t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root||_(this.root,document.activeElement)}},{key:"normalizedToRange",value:function(t){var e=this,n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);var o=n.map(function(t){var n=h(t,2),o=n[0],r=n[1],a=e.scroll.find(o,!0),s=a.offset(e.scroll);return 0===r?s:a instanceof i.LeafBlot?s+a.index(o,r):s+a.length()}),r=Math.min(Math.max.apply(Math,u(o)),this.scroll.length()-1),a=Math.min.apply(Math,[r].concat(u(o)));return new v(a,r-a)}},{key:"normalizeNative",value:function(t){if(!_(this.root,t.startContainer)||!t.collapsed&&!_(this.root,t.endContainer))return null;var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(function(t){for(var e=t.node,n=t.offset;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;n=(e=e.lastChild)instanceof Text?e.data.length:e.childNodes.length>0?e.childNodes.length:e.childNodes.length+1}t.node=e,t.offset=n}),e}},{key:"rangeToNative",value:function(t){var e=this,n=t.collapsed?[t.index]:[t.index,t.index+t.length],i=[],o=this.scroll.length();return n.forEach(function(t,n){t=Math.min(o-1,t);var r=h(e.scroll.leaf(t),2),a=r[0],s=r[1],l=h(a.position(s,0!==n),2),c=l[0],u=l[1];i.push(c,u)}),i.length<2?i.concat(i):i}},{key:"scrollIntoView",value:function(t){var e=this.lastRange;if(null!=e){var n=this.getBounds(e.index,e.length);if(null!=n){var i=this.scroll.length()-1,o=h(this.scroll.line(Math.min(e.index,i)),1)[0],r=o;if(e.length>0)r=h(this.scroll.line(Math.min(e.index+e.length,i)),1)[0];if(null!=o&&null!=r){var a=t.getBoundingClientRect();n.top<a.top?t.scrollTop-=a.top-n.top:n.bottom>a.bottom&&(t.scrollTop+=n.bottom-a.bottom)}}}}},{key:"setNativeRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(g.info("setNativeRange",t,e,n,i),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=n.parentNode){var r=document.getSelection();if(null!=r)if(null!=t){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||o||t!==a.startContainer||e!==a.startOffset||n!==a.endContainer||i!==a.endOffset){"BR"===t.tagName&&(e=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),"BR"===n.tagName&&(i=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);var s=document.createRange();s.setStart(t,e),s.setEnd(n,i),r.removeAllRanges(),r.addRange(s)}}else r.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.a.sources.API;if("string"===typeof e&&(n=e,e=!1),g.info("setRange",t),null!=t){var i=this.rangeToNative(t);this.setNativeRange.apply(this,u(i).concat([e]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.a.sources.USER,e=this.lastRange,n=h(this.getRange(),2),i=n[0],o=n[1];if(this.lastRange=i,this.lastNative=o,null!=this.lastRange&&(this.savedRange=this.lastRange),!s()(e,this.lastRange)){var a;if(!this.composing&&null!=o&&o.native.collapsed&&o.start.node!==this.cursor.textNode){var c=this.cursor.restore();c&&this.setNativeRange(c.startNode,c.startOffset,c.endNode,c.endOffset)}var u,d=[l.a.events.SELECTION_CHANGE,r()(this.lastRange),r()(e),t];if((a=this.emitter).emit.apply(a,[l.a.events.EDITOR_CHANGE].concat(d)),t!==l.a.sources.SILENT)(u=this.emitter).emit.apply(u,d)}}}])&&f(e.prototype,n),o&&f(e,o),t}();function _(t,e){try{e.parentNode}catch(n){return!1}return e instanceof Text&&(e=e.parentNode),t.contains(e)}},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n(58))},function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"b",function(){return c});var i=n(2);function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(n,i["TextBlot"]);var e=a(n);function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e.apply(this,arguments)}return n}();function c(t){return t.replace(/[&<>"']/g,function(t){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[t]})}},function(t,e,n){"use strict";var i=n(2);function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(c,i["EmbedBlot"]);var e,n,o,l=s(c);function c(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),l.apply(this,arguments)}return e=c,o=[{key:"value",value:function(){}}],(n=[{key:"optimize",value:function(){(this.prev||this.next)&&this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}])&&r(e.prototype,n),o&&r(e,o),c}();c.blotName="break",c.tagName="BR",e.a=c},function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return u}),n.d(e,"a",function(){return h});var i=n(73),o=n(74),r=n(32);function a(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var l=r.a.map(function(t){return Object(i.a)(r.d,t)}),c=r.c.map(function(t){return Object(o.a)(r.d,t)}),u=c.reduce(function(t,e){return t[e.attrName]=e,t},{}),h=[].concat(a(l),a(c)).reduce(function(t,e){return t[e.keyName]=e,t},{})},function(t,e,n){"use strict";var i=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.options=n};i.DEFAULTS={},e.a=i},function(t,e,n){"use strict";var i=n(2);function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(n,i["ContainerBlot"]);var e=a(n);function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e.apply(this,arguments)}return n}();e.a=l},function(t,e,n){"use strict";var i=n(2),o=n(10),r=n(9);function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,n){return(l="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(a,i["InlineBlot"]);var e,n,o,r=u(a);function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),r.apply(this,arguments)}return e=a,o=[{key:"compare",value:function(t,e){var n=a.order.indexOf(t),i=a.order.indexOf(e);return n>=0||i>=0?n-i:t===e?0:t<e?-1:1}}],(n=[{key:"formatAt",value:function(t,e,n,o){if(a.compare(this.statics.blotName,n)<0&&this.scroll.query(n,i.Scope.BLOT)){var r=this.isolate(t,e);o&&r.wrap(n,o)}else l(h(a.prototype),"formatAt",this).call(this,t,e,n,o)}},{key:"optimize",value:function(t){if(l(h(a.prototype),"optimize",this).call(this,t),this.parent instanceof a&&a.compare(this.statics.blotName,this.parent.statics.blotName)>0){var e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}}])&&s(e.prototype,n),o&&s(e,o),a}();d.allowedChildren=[d,o.a,i.EmbedBlot,r.a],d.order=["cursor","inline","link","underline","strike","italic","bold","script","code"],e.a=d},function(t,e,n){"use strict";e.a=function(){return"undefined"!==typeof window}},function(t,e,n){(function(t,n){var i=200,o="__lodash_hash_undefined__",r=9007199254740991,a="[object Arguments]",s="[object Boolean]",l="[object Date]",c="[object Function]",u="[object GeneratorFunction]",h="[object Map]",d="[object Number]",p="[object Object]",f="[object RegExp]",m="[object Set]",g="[object String]",v="[object Symbol]",y="[object ArrayBuffer]",_="[object DataView]",b="[object Float32Array]",C="[object Float64Array]",O="[object Int8Array]",x="[object Int16Array]",S="[object Int32Array]",w="[object Uint8Array]",P="[object Uint8ClampedArray]",k="[object Uint16Array]",E="[object Uint32Array]",T=/\w*$/,I=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,M={};M[a]=M["[object Array]"]=M[y]=M[_]=M[s]=M[l]=M[b]=M[C]=M[O]=M[x]=M[S]=M[h]=M[d]=M[p]=M[f]=M[m]=M[g]=M[v]=M[w]=M[P]=M[k]=M[E]=!0,M["[object Error]"]=M[c]=M["[object WeakMap]"]=!1;var D="object"==typeof t&&t&&t.Object===Object&&t,A="object"==typeof self&&self&&self.Object===Object&&self,R=D||A||Function("return this")(),B=e&&!e.nodeType&&e,L=B&&"object"==typeof n&&n&&!n.nodeType&&n,N=L&&L.exports===B;function z(t,e){return t.set(e[0],e[1]),t}function F(t,e){return t.add(e),t}function H(t,e,n,i){var o=-1,r=t?t.length:0;for(i&&r&&(n=t[++o]);++o<r;)n=e(n,t[o],o,t);return n}function V(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function U(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function W(t,e){return function(n){return t(e(n))}}function K(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var $=Array.prototype,G=Function.prototype,q=Object.prototype,Z=R["__core-js_shared__"],Y=function(){var t=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),X=G.toString,Q=q.hasOwnProperty,J=q.toString,tt=RegExp("^"+X.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=N?R.Buffer:void 0,nt=R.Symbol,it=R.Uint8Array,ot=W(Object.getPrototypeOf,Object),rt=Object.create,at=q.propertyIsEnumerable,st=$.splice,lt=Object.getOwnPropertySymbols,ct=et?et.isBuffer:void 0,ut=W(Object.keys,Object),ht=Bt(R,"DataView"),dt=Bt(R,"Map"),pt=Bt(R,"Promise"),ft=Bt(R,"Set"),mt=Bt(R,"WeakMap"),gt=Bt(Object,"create"),vt=Ht(ht),yt=Ht(dt),_t=Ht(pt),bt=Ht(ft),Ct=Ht(mt),Ot=nt?nt.prototype:void 0,xt=Ot?Ot.valueOf:void 0;function St(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function wt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Pt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function kt(t){this.__data__=new wt(t)}function Et(t,e){var n=Ut(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Wt(t)}(t)&&Q.call(t,"callee")&&(!at.call(t,"callee")||J.call(t)==a)}(t)?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],i=n.length,o=!!i;for(var r in t)!e&&!Q.call(t,r)||o&&("length"==r||zt(r,i))||n.push(r);return n}function Tt(t,e,n){var i=t[e];Q.call(t,e)&&Vt(i,n)&&(void 0!==n||e in t)||(t[e]=n)}function It(t,e){for(var n=t.length;n--;)if(Vt(t[n][0],e))return n;return-1}function jt(t,e,n,i,o,r,I){var j;if(i&&(j=r?i(t,o,r,I):i(t)),void 0!==j)return j;if(!Gt(t))return t;var D=Ut(t);if(D){if(j=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&Q.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return function(t,e){var n=-1,i=t.length;e||(e=Array(i));for(;++n<i;)e[n]=t[n];return e}(t,j)}else{var A=Nt(t),R=A==c||A==u;if(Kt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(A==p||A==a||R&&!r){if(V(t))return r?t:{};if(j=function(t){return"function"!=typeof t.constructor||Ft(t)?{}:(e=ot(t),Gt(e)?rt(e):{});var e}(R?{}:t),!e)return function(t,e){return At(t,Lt(t),e)}(t,function(t,e){return t&&At(e,qt(e),t)}(j,t))}else{if(!M[A])return r?t:{};j=function(t,e,n,i){var o=t.constructor;switch(e){case y:return Dt(t);case s:case l:return new o(+t);case _:return function(t,e){var n=e?Dt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,i);case b:case C:case O:case x:case S:case w:case P:case k:case E:return function(t,e){var n=e?Dt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,i);case h:return function(t,e,n){return H(e?n(U(t),!0):U(t),z,new t.constructor)}(t,i,n);case d:case g:return new o(t);case f:return function(t){var e=new t.constructor(t.source,T.exec(t));return e.lastIndex=t.lastIndex,e}(t);case m:return function(t,e,n){return H(e?n(K(t),!0):K(t),F,new t.constructor)}(t,i,n);case v:return r=t,xt?Object(xt.call(r)):{}}var r}(t,A,jt,e)}}I||(I=new kt);var B=I.get(t);if(B)return B;if(I.set(t,j),!D)var L=n?function(t){return function(t,e,n){var i=e(t);return Ut(t)?i:function(t,e){for(var n=-1,i=e.length,o=t.length;++n<i;)t[o+n]=e[n];return t}(i,n(t))}(t,qt,Lt)}(t):qt(t);return function(t,e){for(var n=-1,i=t?t.length:0;++n<i&&!1!==e(t[n],n,t););}(L||t,function(o,r){L&&(o=t[r=o]),Tt(j,r,jt(o,e,n,i,r,t,I))}),j}function Mt(t){return!(!Gt(t)||(e=t,Y&&Y in e))&&($t(t)||V(t)?tt:I).test(Ht(t));var e}function Dt(t){var e=new t.constructor(t.byteLength);return new it(e).set(new it(t)),e}function At(t,e,n,i){n||(n={});for(var o=-1,r=e.length;++o<r;){var a=e[o],s=i?i(n[a],t[a],a,n,t):void 0;Tt(n,a,void 0===s?t[a]:s)}return n}function Rt(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Bt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Mt(n)?n:void 0}St.prototype.clear=function(){this.__data__=gt?gt(null):{}},St.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},St.prototype.get=function(t){var e=this.__data__;if(gt){var n=e[t];return n===o?void 0:n}return Q.call(e,t)?e[t]:void 0},St.prototype.has=function(t){var e=this.__data__;return gt?void 0!==e[t]:Q.call(e,t)},St.prototype.set=function(t,e){return this.__data__[t]=gt&&void 0===e?o:e,this},wt.prototype.clear=function(){this.__data__=[]},wt.prototype.delete=function(t){var e=this.__data__,n=It(e,t);return!(n<0)&&(n==e.length-1?e.pop():st.call(e,n,1),!0)},wt.prototype.get=function(t){var e=this.__data__,n=It(e,t);return n<0?void 0:e[n][1]},wt.prototype.has=function(t){return It(this.__data__,t)>-1},wt.prototype.set=function(t,e){var n=this.__data__,i=It(n,t);return i<0?n.push([t,e]):n[i][1]=e,this},Pt.prototype.clear=function(){this.__data__={hash:new St,map:new(dt||wt),string:new St}},Pt.prototype.delete=function(t){return Rt(this,t).delete(t)},Pt.prototype.get=function(t){return Rt(this,t).get(t)},Pt.prototype.has=function(t){return Rt(this,t).has(t)},Pt.prototype.set=function(t,e){return Rt(this,t).set(t,e),this},kt.prototype.clear=function(){this.__data__=new wt},kt.prototype.delete=function(t){return this.__data__.delete(t)},kt.prototype.get=function(t){return this.__data__.get(t)},kt.prototype.has=function(t){return this.__data__.has(t)},kt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof wt){var o=n.__data__;if(!dt||o.length<i-1)return o.push([t,e]),this;n=this.__data__=new Pt(o)}return n.set(t,e),this};var Lt=lt?W(lt,Object):function(){return[]},Nt=function(t){return J.call(t)};function zt(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||j.test(t))&&t>-1&&t%1==0&&t<e}function Ft(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||q)}function Ht(t){if(null!=t){try{return X.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Vt(t,e){return t===e||t!==t&&e!==e}(ht&&Nt(new ht(new ArrayBuffer(1)))!=_||dt&&Nt(new dt)!=h||pt&&"[object Promise]"!=Nt(pt.resolve())||ft&&Nt(new ft)!=m||mt&&"[object WeakMap]"!=Nt(new mt))&&(Nt=function(t){var e=J.call(t),n=e==p?t.constructor:void 0,i=n?Ht(n):void 0;if(i)switch(i){case vt:return _;case yt:return h;case _t:return"[object Promise]";case bt:return m;case Ct:return"[object WeakMap]"}return e});var Ut=Array.isArray;function Wt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!$t(t)}var Kt=ct||function(){return!1};function $t(t){var e=Gt(t)?J.call(t):"";return e==c||e==u}function Gt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function qt(t){return Wt(t)?Et(t):function(t){if(!Ft(t))return ut(t);var e=[];for(var n in Object(t))Q.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}n.exports=function(t){return jt(t,!0,!0)}}).call(this,n(58),n(66)(t))},function(t,e,n){"use strict";n.d(e,"a",function(){return C}),n.d(e,"b",function(){return _}),n.d(e,"c",function(){return b});var i=n(6),o=n(10),r=n(24),a=n(14),s=n(9),l=n(13),c=n(0);function u(t){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function f(t,e,n){return(f="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function m(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===u(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(t){m(n,l["a"]);var e=v(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"code",value:function(t,e){var n=this.children.map(function(t){return t.length()<=1?"":t.domNode.textContent}).join("\n").slice(t,t+e);return Object(s.b)(n)}},{key:"html",value:function(t,e){return"<pre>\n".concat(this.code(t,e),"\n</pre>")}}],[{key:"create",value:function(t){var e=f(y(n),"create",this).call(this,t);return e.setAttribute("spellcheck",!1),e}}]),n}(),b=function(t){m(n,i["d"]);var e=v(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,null,[{key:"register",value:function(){c.a.register(_)}}]),n}(),C=function(t){m(n,a["a"]);var e=v(n);function n(){return h(this,n),e.apply(this,arguments)}return n}();C.blotName="code",C.tagName="CODE",b.blotName="code-block",b.className="ql-code-block",b.tagName="DIV",_.blotName="code-block-container",_.className="ql-code-block-container",_.tagName="DIV",_.allowedChildren=[b],b.allowedChildren=[s.a,o.a,r.a],b.requiredContainer=_,b.TAB="  "},function(t,e,n){"use strict";var i=n(2),o=n(3),r=n(6),a=n(10),s=n(13);function l(t){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,o,r=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e,n){return(d="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=m(t);if(e){var o=m(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===l(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t){return t instanceof r.d||t instanceof r.a}var v=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(u,i["ScrollBlot"]);var e,n,s,l=f(u);function u(t,e,n){var i,o=n.emitter,r=n.toggleBlankClass;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(i=l.call(this,t,e)).emitter=o,i.toggleBlankClass=r,i.batch=!1,i.optimize(),i.enable(),i.domNode.addEventListener("dragstart",function(t){return i.handleDragStart(t)}),i}return e=u,(n=[{key:"batchStart",value:function(){Array.isArray(this.batch)||(this.batch=[])}},{key:"batchEnd",value:function(){var t=this.batch;this.batch=!1,this.update(t)}},{key:"emitMount",value:function(t){this.emitter.emit(o.a.events.SCROLL_BLOT_MOUNT,t)}},{key:"emitUnmount",value:function(t){this.emitter.emit(o.a.events.SCROLL_BLOT_UNMOUNT,t)}},{key:"deleteAt",value:function(t,e){var n=c(this.line(t),2),i=n[0],o=n[1],s=c(this.line(t+e),1)[0];if(d(m(u.prototype),"deleteAt",this).call(this,t,e),null!=s&&i!==s&&o>0){if(i instanceof r.a||s instanceof r.a)return void this.optimize();var l=s.children.head instanceof a.a?null:s.children.head;i.moveChildren(s,l),i.remove()}this.optimize()}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",t)}},{key:"formatAt",value:function(t,e,n,i){d(m(u.prototype),"formatAt",this).call(this,t,e,n,i),this.optimize()}},{key:"handleDragStart",value:function(t){t.preventDefault()}},{key:"insertAt",value:function(t,e,n){if(t>=this.length())if(null==n||null==this.scroll.query(e,i.Scope.BLOCK)){var o=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(o),null==n&&e.endsWith("\n")?o.insertAt(0,e.slice(0,-1),n):o.insertAt(0,e,n)}else{var r=this.scroll.create(e,n);this.appendChild(r)}else d(m(u.prototype),"insertAt",this).call(this,t,e,n);this.optimize()}},{key:"insertBefore",value:function(t,e){if(t.statics.scope===i.Scope.INLINE_BLOT){var n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(t),d(m(u.prototype),"insertBefore",this).call(this,n,e)}else d(m(u.prototype),"insertBefore",this).call(this,t,e)}},{key:"isEnabled",value:function(){return"true"===this.domNode.getAttribute("contenteditable")}},{key:"leaf",value:function(t){return this.path(t).pop()||[null,-1]}},{key:"line",value:function(t){return t===this.length()?this.line(t-1):this.descendant(g,t)}},{key:"lines",value:function(){return function t(e,n,o){var r=[],a=o;return e.children.forEachAt(n,o,function(e,n,o){g(e)?r.push(e):e instanceof i.ContainerBlot&&(r=r.concat(t(e,n,a))),a-=o}),r}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.batch||(d(m(u.prototype),"optimize",this).call(this,t,e),t.length>0&&this.emitter.emit(o.a.events.SCROLL_OPTIMIZE,t,e))}},{key:"path",value:function(t){return d(m(u.prototype),"path",this).call(this,t).slice(1)}},{key:"remove",value:function(){}},{key:"update",value:function(t){var e=this;if(this.batch)Array.isArray(t)&&(this.batch=this.batch.concat(t),this.toggleBlankClass());else{var n=o.a.sources.USER;"string"===typeof t&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),(t=t.filter(function(t){var n=t.target,i=e.find(n,!0);return i&&i.scroll===e})).length>0&&this.emitter.emit(o.a.events.SCROLL_BEFORE_UPDATE,n,t),d(m(u.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(o.a.events.SCROLL_UPDATE,n,t)}}}])&&h(e.prototype,n),s&&h(e,s),u}();v.blotName="scroll",v.className="ql-editor",v.tagName="DIV",v.defaultChild=r.d,v.allowedChildren=[r.d,r.a,s.a],e.a=v},function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return h});var i=n(32),o=n(33);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){s(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={attribute:"attr",style:"style"},c=a(a({},i.d.allowedTags.reduce(function(t,e){return t[e]={name:i.d.name,keyNamesSet:i.b},t},{})),o.d.allowedTags.reduce(function(t,e){return t[e]={name:o.d.name,keyNamesSet:o.b},t},{}));function u(t,e,n){var i=c[t];return i&&i.keyNamesSet.has(e)?"".concat(n).concat(i.name,"_").concat(e):e}function h(t){return t.replace(/([^]*_)/,"")}},function(t,e){var n=Function.prototype,i=n.bind,o=n.call,r=i&&i.bind(o);t.exports=i?function(t){return t&&r(o,t)}:function(t){return t&&function(){return o.apply(t,arguments)}}},function(t,e,n){"use strict";n.d(e,"c",function(){return l}),n.d(e,"d",function(){return c}),n.d(e,"b",function(){return u}),n.d(e,"a",function(){return h});var i=n(73),o=n(74),r=n(33);function a(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var l=r.a.map(function(t){return Object(i.a)(r.d,t)}),c=r.c.map(function(t){return Object(o.a)(r.d,t)}),u=c.reduce(function(t,e){return t[e.attrName]=e,t},{}),h=[].concat(a(l),a(c)).reduce(function(t,e){return t[e.keyName]=e,t},{})},function(t,e){t.exports=function(t){return"function"==typeof t}},function(t,e,n){"use strict";var i=["error","warn","log","info"],o="warn";function r(t){if(i.indexOf(t)<=i.indexOf(o)){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(e=console)[t].apply(e,r)}}function a(t){return i.reduce(function(e,n){return e[n]=r.bind(console,n,t),e},{})}a.level=function(t){o=t},r.level=a.level,e.a=a},function(t,e,n){"use strict";var i=n(2),o=n(9);function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return(s="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(d,i["EmbedBlot"]);var e,n,r,h=c(d);function d(t,e,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),(i=h.call(this,t,e)).selection=n,i.textNode=document.createTextNode(d.CONTENTS),i.domNode.appendChild(i.textNode),i.savedLength=0,i}return e=d,r=[{key:"value",value:function(){}}],(n=[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,e){if(0===this.savedLength){for(var n=this,o=0;null!=n&&n.statics.scope!==i.Scope.BLOCK_BLOT;)o+=n.offset(n.parent),n=n.parent;null!=n&&(this.savedLength=d.CONTENTS.length,n.optimize(),n.formatAt(o,d.CONTENTS.length,t,e),this.savedLength=0)}else s(u(d.prototype),"format",this).call(this,t,e)}},{key:"index",value:function(t,e){return t===this.textNode?0:s(u(d.prototype),"index",this).call(this,t,e)}},{key:"length",value:function(){return this.savedLength}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(u(d.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(this.selection.composing||null==this.parent)return null;for(var t=this.selection.getNativeRange();null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);var e,n=this.prev instanceof o.a?this.prev:null,i=n?n.length():0,r=this.next instanceof o.a?this.next:null,a=r?r.text:"",s=this.textNode,l=s.data.split(d.CONTENTS).join("");if(s.data=d.CONTENTS,n)e=n,(l||r)&&(n.insertAt(n.length(),l+a),r&&r.remove());else if(r)e=r,r.insertAt(0,l);else{var c=document.createTextNode(l);e=this.scroll.create(c),this.parent.insertBefore(e,this)}if(this.remove(),t){var u=function(t,e){return n&&t===n.domNode?e:t===s?i+e-1:r&&t===r.domNode?i+l.length+e:null},h=u(t.start.node,t.start.offset),p=u(t.end.node,t.end.offset);if(null!==h&&null!==p)return{startNode:e.domNode,startOffset:h,endNode:e.domNode,endOffset:p}}return null}},{key:"update",value:function(t,e){var n=this;if(t.some(function(t){return"characterData"===t.type&&t.target===n.textNode})){var i=this.restore();i&&(e.range=i)}}},{key:"value",value:function(){return""}}])&&a(e.prototype,n),r&&a(e,r),d}();h.blotName="cursor",h.className="ql-cursor",h.tagName="span",h.CONTENTS="\ufeff",e.a=h},function(t,e,n){"use strict";n.r(e);var i=n(0),o=n(6),r=n(10),a=n(13),s=n(24),l=n(56),c=n(14),u=n(18),h=n(9),d=n(26),p=n(50),f=n(27),m=n(59);i.a.register({"blots/block":o.d,"blots/block/embed":o.a,"blots/break":r.a,"blots/container":a.a,"blots/cursor":s.a,"blots/embed":l.a,"blots/inline":c.a,"blots/scroll":u.a,"blots/text":h.a,"modules/clipboard":d.b,"modules/history":p.a,"modules/keyboard":f.b,"modules/uploader":m.a}),e.default=i.a},function(t,e,n){"use strict";n.d(e,"b",function(){return R}),n.d(e,"d",function(){return F}),n.d(e,"a",function(){return B}),n.d(e,"c",function(){return L});var i=n(1),o=n.n(i),r=n(2),a=n(6),s=n(0),l=n(23),c=n(12),u=n(38),h=n(45),d=n(17),p=n(34),f=n(35),m=n(46),g=n(47),v=n(27),y=n(31);function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach(function(e){O(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function C(t){return(C="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,o,r=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function w(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=T(t);if(e){var o=T(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===C(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return E(t)}(this,n)}}function E(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var I=Object(l.a)("quill:clipboard"),j=[[3,W],[3,V],["br",function(t,e){L(e,"\n")||e.insert("\n");return e}],[1,V],[1,function(t,e,n){var i=n.query(t);if(null==i)return e;if(i.prototype instanceof r.EmbedBlot){var a={},s=i.value(t);if(null!=s)return a[i.blotName]=s,(new o.a).insert(a,i.formats(t,n))}else if(i.prototype instanceof r.BlockBlot&&!L(e,"\n")&&e.insert("\n"),"function"===typeof i.formats)return B(e,i.blotName,i.formats(t,n));return e}],[1,function(t,e,n){if(-1===["TD","TH","TR","TABLE"].indexOf(t.tagName)){var i=r.Attributor.keys(t),o=r.ClassAttributor.keys(t),a=r.StyleAttributor.keys(t),s={};if(i.concat(o).concat(a).forEach(function(e){var i=n.query(e,r.Scope.ATTRIBUTE);null!=i&&(s[i.attrName]=i.value(t),s[i.attrName])||(null==(i=D[e])||i.attrName!==e&&i.keyName!==e||(s[i.attrName]=i.value(t)||void 0),null==(i=A[e])||i.attrName!==e&&i.keyName!==e||(i=A[e],s[i.attrName]=i.value(t)||void 0))}),Object.keys(s).length>0)return B(e,s)}return e}],[1,function(t,e){var n={},i=t.style||{};["height","width"].forEach(function(e){var o=-1!==["TD","TH"].indexOf(t.tagName),r="TABLE"===t.tagName;if((o||r)&&i[e]){var a="".concat(r?"table":"cell").concat(Object(y.a)(e));n[a]=i[e]}}),"italic"===i.fontStyle&&(n.italic=!0);-1!==i.textDecoration.indexOf("underline")&&(n.underline=!0);-1!==i.textDecoration.indexOf("line-through")&&(n.strike=!0);(0===i.fontWeight.indexOf("bold")||parseInt(i.fontWeight,10)>=700)&&(n.bold=!0);Object.keys(n).length>0&&(e=B(e,n));if(parseFloat(i.textIndent||0)>0)return(new o.a).insert("\t").concat(e);return e}],["li",function(t,e,n){var i=n.query(t);if(null==i||"list"!==i.blotName||!L(e,"\n"))return e;var r=-1,a=t.parentNode;for(;null!=a;)-1!==["OL","UL"].indexOf(a.tagName)&&(r+=1),a=a.parentNode;return r<=0?e:e.reduce(function(t,e){return e.attributes&&"number"===typeof e.attributes.indent?t.push(e):t.insert(e.insert,b({indent:r},e.attributes||{}))},new o.a)}],["ol, ul",function(t,e){var n="OL"===t.tagName?"ordered":"bullet";return B(e,"list",n)}],["pre",function(t,e,n){var i=n.query("code-block"),o=!i||i.formats(t,n);return B(e,"code-block",o)}],["b",H.bind(H,"bold")],["i",H.bind(H,"italic")],["strike",H.bind(H,"strike")],["style",function(){return new o.a}]],M=[W,V],D=[u.a,f.a].reduce(function(t,e){return t[e.keyName]=e,t},{}),A=[u.c,h.b,p.c,f.c,m.b,g.b].reduce(function(t,e){return t[e.keyName]=e,t},{}),R=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(a,c["a"]);var e,n,i,r=k(a);function a(t,e){var n,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,t,e)).quill.root.addEventListener("copy",function(t){return i.onCaptureCopy(t,!1)}),i.quill.root.addEventListener("cut",function(t){return i.onCaptureCopy(t,!0)}),i.quill.root.addEventListener("paste",i.onCapturePaste.bind(E(i))),i.matchers=[],i.tableBlots=null!==(n=e.tableBlots)&&void 0!==n?n:[],j.concat(i.options.matchers).forEach(function(t){var e=x(t,2),n=e[0],o=e[1];i.addMatcher(n,o)}),i}return e=a,(n=[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e])}},{key:"addTableBlot",value:function(t){this.tableBlots.push(t)}},{key:"convert",value:function(t){var e=t.html,n=t.text,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i[d.c.blotName]?(new o.a).insert(n,O({},d.c.blotName,i[d.c.blotName])):e?this.applyMatchers(e,i):this.applyTextMatchers(n)}},{key:"applyTextMatchers",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(0===e.length)return new o.a;var n=this.prepareTextMatching(),i=this.quill.root.ownerDocument.createElement("div");i.textContent=e;var r=i.childNodes[0];return n.reduce(function(e,n){return n(r,e,t.quill.scroll)},new o.a)}},{key:"applyMatchers",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(new DOMParser).parseFromString(t,"text/html").body,r=new WeakMap,a=x(this.prepareMatching(i,r),2),s=a[0],l=a[1],c=F(this.quill.scroll,i,s,l,r);return L(c,"\n")&&(null==c.ops[c.ops.length-1].attributes||Object.values(n).some(function(t){return e.tableBlots.includes(t)}))?c.compose((new o.a).retain(c.length()-1).delete(1)):c}},{key:"dangerouslyPasteHTML",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.a.sources.API;if("string"===typeof t){var i=this.convert({html:t,text:""});this.quill.setContents(i,e),this.quill.setSelection(0,s.a.sources.SILENT)}else{var r=this.convert({html:e,text:""});this.quill.updateContents((new o.a).retain(t).concat(r),n),this.quill.setSelection(t+r.length(),s.a.sources.SILENT)}}},{key:"onCaptureCopy",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t.defaultPrevented&&t.clipboardData){t.preventDefault();var n=x(this.quill.selection.getRange(),1)[0];if(null!=n){var i=this.onCopy(n,e),o=i.html,r=i.text;t.clipboardData.setData("text/plain",r),t.clipboardData.setData("text/html",o),e&&(this.raiseCallback("onCut",t),Object(v.c)({range:n,quill:this.quill}))}}}},{key:"onCapturePaste",value:function(t){if(!t.defaultPrevented&&this.quill.isEnabled()&&(this.raiseCallback("onPaste",t),t.clipboardData)){t.preventDefault();var e=this.quill.getSelection(!0);if(null!=e){var n=t.clipboardData.getData("text/html"),i=Array.from(t.clipboardData.files||[]);if(!n&&i.length>0)this.quill.uploader.upload(e,i);else{if(n&&i.length>0){var o=(new DOMParser).parseFromString(n,"text/html").body;if(1===o.childElementCount&&"IMG"===o.firstElementChild.tagName)return void this.quill.uploader.upload(e,i)}var r=t.clipboardData.getData("text/plain");this.onPaste(e,{html:n,text:r})}}}}},{key:"raiseCallback",value:function(t,e){var n=this.options[t];n&&"function"===typeof n&&n(e)}},{key:"onCopy",value:function(t){var e=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:e}}},{key:"onPaste",value:function(t,e){var n=e.text,i=e.html,r=this.quill.getFormat(t.index),a=this.convert({text:n,html:i},r);I.log("onPaste",a,{text:n,html:i});var l=(new o.a).retain(t.index).delete(t.length).concat(a);this.quill.updateContents(l,s.a.sources.USER),this.quill.setSelection(l.length()-t.length,s.a.sources.SILENT),this.quill.scrollIntoView()}},{key:"prepareMatching",value:function(t,e){var n=[],i=[];return this.matchers.forEach(function(o){var r=x(o,2),a=r[0],s=r[1];switch(a){case 3:i.push(s);break;case 1:n.push(s);break;default:Array.from(t.querySelectorAll(a)).forEach(function(t){e.has(t)?e.get(t).push(s):e.set(t,[s])})}}),[n,i]}},{key:"prepareTextMatching",value:function(){var t=[U];return this.matchers.forEach(function(e){var n=x(e,2),i=n[0],o=n[1];-1===M.indexOf(o)&&3===i&&t.push(o)}),t}}])&&w(e.prototype,n),i&&w(e,i),a}();function B(t,e,n){return"object"===C(e)?Object.keys(e).reduce(function(t,n){return B(t,n,e[n])},t):t.reduce(function(t,i){if(i.attributes&&i.attributes[e])return t.push(i);var o=n?O({},e,n):{};return t.insert(i.insert,b(b({},o),i.attributes))},new o.a)}function L(t,e){for(var n="",i=t.ops.length-1;i>=0&&n.length<e.length;--i){var o=t.ops[i];if("string"!==typeof o.insert)break;n=o.insert+n}return n.slice(-1*e.length)===e}function N(t){return 0!==t.childNodes.length&&-1!==["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].indexOf(t.tagName.toLowerCase())}R.DEFAULTS={matchers:[]};var z=new WeakMap;function F(t,e,n,i,r){return e.nodeType===e.TEXT_NODE?i.reduce(function(n,i){return i(e,n,t)},new o.a):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce(function(o,a){var s=F(t,a,n,i,r);return a.nodeType===e.ELEMENT_NODE&&(s=n.reduce(function(e,n){return n(a,e,t)},s),s=(r.get(a)||[]).reduce(function(e,n){return n(a,e,t)},s)),o.concat(s)},new o.a):new o.a}function H(t,e,n){return B(n,t,!0)}function V(t,e,n){if(!L(e,"\n")){if(N(t))return e.insert("\n");if(e.length()>0&&t.nextSibling)for(var i=t.nextSibling;null!=i;){if(N(i))return e.insert("\n");var o=n.query(i);if((null===o||void 0===o?void 0:o.prototype)instanceof a.a)return e.insert("\n");i=i.firstChild}}return e}function U(t,e){var n=t.data||"";return n=n.replace(/\r\n/g,"\n"),e.insert(n)}function W(t,e){var n=t.data;if("O:P"===t.parentNode.tagName)return e.insert(n.trim());if(0===n.trim().length&&-1!==n.indexOf("\n"))return e;if(!function t(e){return null!=e&&(z.has(e)||("PRE"===e.tagName?z.set(e,!0):z.set(e,t(e.parentNode))),z.get(e))}(t)){var i=function(t,e){var n=e.replace(/[^\u00a0]/g,"");return n.length<1&&t?" ":n};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,i.bind(i,!0)),(null==t.previousSibling&&N(t.parentNode)||null!=t.previousSibling&&N(t.previousSibling))&&(n=n.replace(/^\s+/,i.bind(i,!1))),(null==t.nextSibling&&N(t.parentNode)||null!=t.nextSibling&&N(t.nextSibling))&&(n=n.replace(/\s+$/,i.bind(i,!1)))}return e.insert(n)}},function(t,e,n){"use strict";n.d(e,"b",function(){return E}),n.d(e,"a",function(){return k}),n.d(e,"d",function(){return M}),n.d(e,"c",function(){return D});var i=n(16),o=n.n(i),r=n(30),a=n.n(r),s=n(1),l=n.n(s),c=n(2),u=n(0),h=n(23),d=n(12),p=n(15);function f(t){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,o,r=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach(function(e){_(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=x(t);if(e){var o=x(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===f(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var S=Object(h.a)("quill:keyboard"),w={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift",left:"leftArrow",up:"upArrow",right:"rightArrow",down:"downArrow",multiply:"asterisk",spacebar:"space",del:"del",subtract:"minus",esc:"escape"},P={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},k=Object(p.a)()&&/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",E=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(r,d["a"]);var e,n,i,o=O(r);function r(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=o.call(this,t,e)).bindings={},Object.keys(n.options.bindings).forEach(function(t){n.options.bindings[t]&&n.addBinding(n.options.bindings[t])}),n.addInternalBindings(),n.listen(),n}return e=r,i=[{key:"match",value:function(t,e){return!["altKey","ctrlKey","metaKey","shiftKey"].some(function(n){return!!e[n]!==t[n]&&null!==e[n]})&&(e.key===r.normalizeKeyName(t)||e.key===t.which)}},{key:"normalizeKeyName",value:function(t){var e=t.key,n=t.which,i=!!e,o=i?e:n;return o&&(o=i?w[o.toLowerCase()]||o:P[o]||String.fromCharCode(o)),o}}],(n=[{key:"addInternalBindings",value:function(){var t=this;this.quill.once(u.a.events.CONTENT_SETTED,function(){t.addBinding({key:"enter",shiftKey:null},t.handleEnter),t.addBinding({key:"enter",metaKey:null,ctrlKey:null,altKey:null},function(){}),Object(p.a)()&&/Firefox/i.test(navigator.userAgent)?(t.addBinding({key:"backspace"},{collapsed:!0},t.handleBackspace),t.addBinding({key:"del"},{collapsed:!0},t.handleDelete)):(t.addBinding({key:"backspace"},{collapsed:!0,prefix:/^.?$/},t.handleBackspace),t.addBinding({key:"del"},{collapsed:!0,suffix:/^.?$/},t.handleDelete)),t.addBinding({key:"backspace"},{collapsed:!1},t.handleDeleteRange),t.addBinding({key:"del"},{collapsed:!1},t.handleDeleteRange),t.addBinding({key:"backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},t.handleBackspace)})}},{key:"addBinding",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=M(t);if(null!=o){"function"===typeof n&&(n={handler:n}),"function"===typeof i&&(i={handler:i});var r=o.which?"which":"key";(Array.isArray(o[r])?o[r]:[o[r]]).forEach(function(t){var r=y(y(y({},o),{},{key:t},n),i);e.bindings[r.key]=e.bindings[r.key]||[],e.bindings[r.key].push(r)})}else S.warn("Attempted to add invalid keyboard binding",o)}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",function(e){if(!e.defaultPrevented&&!e.isComposing){t.raiseOnKeydownCallback(e);var n=r.normalizeKeyName(e),i=(t.bindings[n]||[]).concat(t.bindings[e.which]||[]).filter(function(t){return r.match(e,t)});if(0!==i.length){var o=t.quill.getSelection();if(null!=o&&t.quill.hasFocus()){var s=m(t.quill.getLine(o.index),2),l=s[0],u=s[1],h=m(t.quill.getLeaf(o.index),2),d=h[0],p=h[1],g=m(0===o.length?[d,p]:t.quill.getLeaf(o.index+o.length),2),v=g[0],y=g[1],_=d instanceof c.TextBlot?d.value().slice(0,p):"",b=v instanceof c.TextBlot?v.value().slice(y):"",C={collapsed:0===o.length,empty:0===o.length&&l.length()<=1,format:t.quill.getFormat(o),line:l,offset:u,prefix:_,suffix:b,event:e},O=!1;i.some(function(e){if(null!=e.collapsed&&e.collapsed!==C.collapsed)return!1;if(null!=e.empty&&e.empty!==C.empty)return!1;if(null!=e.offset&&e.offset!==C.offset)return!1;if(Array.isArray(e.format)){if(e.format.every(function(t){return null==C.format[t]}))return!1}else if("object"===f(e.format)&&!Object.keys(e.format).every(function(t){return!0===e.format[t]?null!=C.format[t]:!1===e.format[t]?null==C.format[t]:a()(e.format[t],C.format[t])}))return!1;if(null!=e.prefix&&!e.prefix.test(C.prefix))return!1;if(null!=e.suffix&&!e.suffix.test(C.suffix))return!1;var n=e.handler.call(t,o,C,e),i=null===n||void 0===n?void 0:n.preventAfterAllMatches;return(O=!0!==n||i)&&!i}),O&&e.preventDefault()}}}})}},{key:"raiseOnKeydownCallback",value:function(t){var e=this.options.onKeydown;e&&"function"===typeof e&&e(t)}},{key:"handleBackspace",value:function(t,e){var n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(!(0===t.index||this.quill.getLength()<=1)){var i={},o=m(this.quill.getLine(t.index),1)[0],r=(new l.a).retain(t.index-n).delete(n);if(0===e.offset){var a=m(this.quill.getLine(t.index-1),1)[0];if(a)if(!("block"===a.statics.blotName&&a.length()<=1)){var c=o.formats(),h=this.quill.getFormat(t.index-1,1);if(i=s.AttributeMap.diff(c,h)||{},Object.keys(i).length>0){var d=(new l.a).retain(t.index+o.length()-2).retain(1,i);r=r.compose(d)}}}this.quill.updateContents(r,u.a.sources.USER),this.quill.focus()}}},{key:"handleDelete",value:function(t,e){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-n)){var i={},o=m(this.quill.getLine(t.index),1)[0],r=(new l.a).retain(t.index).delete(n);if(e.offset>=o.length()-1){var a=m(this.quill.getLine(t.index+1),1)[0];if(a){var c=o.formats(),h=this.quill.getFormat(t.index,1);i=s.AttributeMap.diff(c,h)||{},Object.keys(i).length>0&&(r=r.retain(a.length()-1).retain(1,i))}}this.quill.updateContents(r,u.a.sources.USER),this.quill.focus()}}},{key:"handleDeleteRange",value:function(t,e){this.raiseOnKeydownCallback(e.event),D({range:t,quill:this.quill}),this.quill.focus()}},{key:"handleEnter",value:function(t,e){var n=this,i=Object.keys(e.format).reduce(function(t,i){return n.quill.scroll.query(i,c.Scope.BLOCK)&&!Array.isArray(e.format[i])&&(t[i]=e.format[i]),t},{}),o=(new l.a).retain(t.index).delete(t.length).insert("\n",i);this.quill.updateContents(o,u.a.sources.USER),this.quill.setSelection(t.index+1,u.a.sources.SILENT),this.quill.focus();var r=m(this.quill.getLine(t.index+1),1)[0],a=function(t){var e=window.innerHeight,n=t.getBoundingClientRect(),i=n.y,o=n.bottom;return i<0||!(o>=e)&&null}(r.domNode);null!==a&&r.domNode.scrollIntoView(a),Object.keys(e.format).forEach(function(t){null==i[t]&&(Array.isArray(e.format[t])||"code"!==t&&"link"!==t&&(n.raiseOnKeydownCallback(e.event),n.quill.format(t,e.format[t],u.a.sources.USER)))})}}])&&b(e.prototype,n),i&&b(e,i),r}();function T(t){return{key:"tab",shiftKey:!t,format:{"code-block":!0},handler:function(e){var n=this.quill.scroll.query("code-block"),i=0===e.length?this.quill.getLines(e.index,1):this.quill.getLines(e),o=e.index,r=e.length;i.forEach(function(e,i){t?(e.insertAt(0,n.TAB),0===i?o+=n.TAB.length:r+=n.TAB.length):0===e.domNode.textContent.indexOf(n.TAB)&&(e.deleteAt(0,n.TAB.length),0===i?o-=n.TAB.length:r-=n.TAB.length)}),this.quill.update(u.a.sources.USER),this.quill.setSelection(o,r,u.a.sources.SILENT)}}}function I(t,e){var n;return _(n={key:t,shiftKey:e,altKey:null},"leftArrow"===t?"prefix":"suffix",/^$/),_(n,"handler",function(n){var i=n.index;return"rightArrow"===t&&(i+=n.length+1),!(m(this.quill.getLeaf(i),1)[0]instanceof c.EmbedBlot)||("leftArrow"===t?e?this.quill.setSelection(n.index-1,n.length+1,u.a.sources.USER):this.quill.setSelection(n.index-1,u.a.sources.USER):e?this.quill.setSelection(n.index,n.length+1,u.a.sources.USER):this.quill.setSelection(n.index+n.length+1,u.a.sources.USER),!1)}),n}function j(t,e){return{key:t[0],which:e,shortKey:!0,handler:function(e,n){return this.quill.format(t,!n.format[t],u.a.sources.USER),{preventAfterAllMatches:!0}}}}function M(t){if("string"===typeof t||"number"===typeof t)t={key:t};else{if("object"!==f(t))return null;t=o()(t)}return t.shortKey&&(t[k]=t.shortKey,delete t.shortKey),t}function D(t){var e=t.quill,n=t.range,i=e.getLines(n),o={};if(i.length>1){var r=i[0].formats(),a=i[i.length-1].formats();o=s.AttributeMap.diff(a,r)||{}}e.deleteText(n,u.a.sources.USER),Object.keys(o).length>0&&e.formatLine(n.index,1,o,u.a.sources.USER),e.setSelection(n.index,u.a.sources.SILENT)}E.DEFAULTS={bindings:{bold:j("bold",66),italic:j("italic",73),underline:j("underline",85),indent:{key:"tab",format:["blockquote","indent","list"],handler:function(t,e){return!(!e.collapsed||0===e.offset)||(this.quill.format("indent","+1",u.a.sources.USER),!1)}},outdent:{key:"tab",shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){return!(!e.collapsed||0===e.offset)||(this.quill.format("indent","-1",u.a.sources.USER),!1)}},"outdent backspace":{key:"backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",u.a.sources.USER):null!=e.format.list&&this.quill.format("list",!1,u.a.sources.USER)}},"indent code-block":T(!0),"outdent code-block":T(!1),"remove tab":{key:"tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,u.a.sources.USER)}},tab:{key:"tab",handler:function(t,e){if(e.format.table)return!0;this.quill.history.cutoff();var n=(new l.a).retain(t.index).delete(t.length).insert("\t");return this.quill.updateContents(n,u.a.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,u.a.sources.SILENT),!1}},"blockquote empty enter":{key:"enter",collapsed:!0,format:["blockquote"],empty:!0,handler:function(){this.quill.format("blockquote",!1,u.a.sources.USER)}},"list empty enter":{key:"enter",collapsed:!0,format:["list"],empty:!0,handler:function(t,e){var n={list:!1};e.format.indent&&(n.indent=!1),this.quill.formatLine(t.index,t.length,n,u.a.sources.USER)}},"checklist enter":{key:"enter",collapsed:!0,format:{list:"checked"},handler:function(t){var e=m(this.quill.getLine(t.index),2),n=e[0],i=e[1],o=y(y({},n.formats()),{},{list:"checked"}),r=(new l.a).retain(t.index).insert("\n",o).retain(n.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(r,u.a.sources.USER),this.quill.setSelection(t.index+1,u.a.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:"enter",collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){var n=m(this.quill.getLine(t.index),2),i=n[0],o=n[1],r=(new l.a).retain(t.index).insert("\n",e.format).retain(i.length()-o-1).retain(1,{header:null});this.quill.updateContents(r,u.a.sources.USER),this.quill.setSelection(t.index+1,u.a.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:"space",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){if(null==this.quill.scroll.query("list"))return!0;var n,i=e.prefix.length,o=m(this.quill.getLine(t.index),2),r=o[0],a=o[1];if(a>i)return!0;switch(e.prefix.trim()){case"[]":case"[ ]":n="unchecked";break;case"[x]":n="checked";break;case"-":case"*":n="bullet";break;default:n="ordered"}this.quill.insertText(t.index," ",u.a.sources.USER),this.quill.history.cutoff();var s=(new l.a).retain(t.index-a).delete(i+1).retain(r.length()-2-a).retain(1,{list:n});return this.raiseOnKeydownCallback(e.event),this.quill.updateContents(s,u.a.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-i,u.a.sources.SILENT),!1}},"code exit":{key:"enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler:function(t){for(var e=m(this.quill.getLine(t.index),2),n=e[0],i=e[1],o=2,r=n;null!=r&&r.length()<=1&&r.formats()["code-block"];)if(r=r.prev,(o-=1)<=0){var a=(new l.a).retain(t.index+n.length()-i-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(a,u.a.sources.USER),this.quill.setSelection(t.index-1,u.a.sources.SILENT),!1}return!0}},"embed left":I("leftArrow",!1),"embed left shift":I("leftArrow",!0),"embed right":I("rightArrow",!1),"embed right shift":I("rightArrow",!0)}}},function(t,e,n){var i=n(8),o=n(96),r=n(36),a=n(97),s=n(98),l=n(99),c=o("wks"),u=i.Symbol,h=u&&u.for,d=l?u:u&&u.withoutSetter||a;t.exports=function(t){if(!r(c,t)||!s&&"string"!=typeof c[t]){var e="Symbol."+t;s&&r(u,t)?c[t]=u[t]:c[t]=l&&h?h(e):d(e)}return c[t]}},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"a",function(){return r}),n.d(e,"b",function(){return a});var i=n(19);function o(t){var e=this.keyName;this.keyName=Object(i.c)(this.keyName);for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];var a=t.call.apply(t,[this].concat(o));return this.keyName=e,a}function r(t,e,n){return this.allowedTags.indexOf(e.tagName)>-1&&t.call(this,e,n)}function a(t,e,n){return t(e).map(function(t){return Object(i.b)(e.tagName,t,n)})}},function(t,e,n){(function(t,n){var i=200,o="__lodash_hash_undefined__",r=1,a=2,s=9007199254740991,l="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",h="[object Boolean]",d="[object Date]",p="[object Error]",f="[object Function]",m="[object GeneratorFunction]",g="[object Map]",v="[object Number]",y="[object Null]",_="[object Object]",b="[object Proxy]",C="[object RegExp]",O="[object Set]",x="[object String]",S="[object Symbol]",w="[object Undefined]",P="[object ArrayBuffer]",k="[object DataView]",E=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,I={};I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I[l]=I[c]=I[P]=I[h]=I[k]=I[d]=I[p]=I[f]=I[g]=I[v]=I[_]=I[C]=I[O]=I[x]=I["[object WeakMap]"]=!1;var j="object"==typeof t&&t&&t.Object===Object&&t,M="object"==typeof self&&self&&self.Object===Object&&self,D=j||M||Function("return this")(),A=e&&!e.nodeType&&e,R=A&&"object"==typeof n&&n&&!n.nodeType&&n,B=R&&R.exports===A,L=B&&j.process,N=function(){try{return L&&L.binding&&L.binding("util")}catch(t){}}(),z=N&&N.isTypedArray;function F(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function H(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var U,W,K=Array.prototype,$=Function.prototype,G=Object.prototype,q=D["__core-js_shared__"],Z=$.toString,Y=G.hasOwnProperty,X=function(){var t=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Q=G.toString,J=RegExp("^"+Z.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tt=B?D.Buffer:void 0,et=D.Symbol,nt=D.Uint8Array,it=G.propertyIsEnumerable,ot=K.splice,rt=et?et.toStringTag:void 0,at=Object.getOwnPropertySymbols,st=tt?tt.isBuffer:void 0,lt=(U=Object.keys,W=Object,function(t){return U(W(t))}),ct=Lt(D,"DataView"),ut=Lt(D,"Map"),ht=Lt(D,"Promise"),dt=Lt(D,"Set"),pt=Lt(D,"WeakMap"),ft=Lt(Object,"create"),mt=Ht(ct),gt=Ht(ut),vt=Ht(ht),yt=Ht(dt),_t=Ht(pt),bt=et?et.prototype:void 0,Ct=bt?bt.valueOf:void 0;function Ot(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function xt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function St(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function wt(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new St;++e<n;)this.add(t[e])}function Pt(t){var e=this.__data__=new xt(t);this.size=e.size}function kt(t,e){var n=Wt(t),i=!n&&Ut(t),o=!n&&!i&&Kt(t),r=!n&&!i&&!o&&Yt(t),a=n||i||o||r,s=a?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],l=s.length;for(var c in t)!e&&!Y.call(t,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ft(c,l))||s.push(c);return s}function Et(t,e){for(var n=t.length;n--;)if(Vt(t[n][0],e))return n;return-1}function Tt(t){return null==t?void 0===t?w:y:rt&&rt in Object(t)?function(t){var e=Y.call(t,rt),n=t[rt];try{t[rt]=void 0;var i=!0}catch(r){}var o=Q.call(t);i&&(e?t[rt]=n:delete t[rt]);return o}(t):function(t){return Q.call(t)}(t)}function It(t){return Zt(t)&&Tt(t)==l}function jt(t,e,n,i,o){return t===e||(null==t||null==e||!Zt(t)&&!Zt(e)?t!==t&&e!==e:function(t,e,n,i,o,s){var u=Wt(t),f=Wt(e),m=u?c:zt(t),y=f?c:zt(e),b=(m=m==l?_:m)==_,w=(y=y==l?_:y)==_,E=m==y;if(E&&Kt(t)){if(!Kt(e))return!1;u=!0,b=!1}if(E&&!b)return s||(s=new Pt),u||Yt(t)?At(t,e,n,i,o,s):function(t,e,n,i,o,s,l){switch(n){case k:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case P:return!(t.byteLength!=e.byteLength||!s(new nt(t),new nt(e)));case h:case d:case v:return Vt(+t,+e);case p:return t.name==e.name&&t.message==e.message;case C:case x:return t==e+"";case g:var c=H;case O:var u=i&r;if(c||(c=V),t.size!=e.size&&!u)return!1;var f=l.get(t);if(f)return f==e;i|=a,l.set(t,e);var m=At(c(t),c(e),i,o,s,l);return l.delete(t),m;case S:if(Ct)return Ct.call(t)==Ct.call(e)}return!1}(t,e,m,n,i,o,s);if(!(n&r)){var T=b&&Y.call(t,"__wrapped__"),I=w&&Y.call(e,"__wrapped__");if(T||I){var j=T?t.value():t,M=I?e.value():e;return s||(s=new Pt),o(j,M,n,i,s)}}if(!E)return!1;return s||(s=new Pt),function(t,e,n,i,o,a){var s=n&r,l=Rt(t),c=l.length,u=Rt(e).length;if(c!=u&&!s)return!1;for(var h=c;h--;){var d=l[h];if(!(s?d in e:Y.call(e,d)))return!1}var p=a.get(t);if(p&&a.get(e))return p==e;var f=!0;a.set(t,e),a.set(e,t);for(var m=s;++h<c;){d=l[h];var g=t[d],v=e[d];if(i)var y=s?i(v,g,d,e,t,a):i(g,v,d,t,e,a);if(!(void 0===y?g===v||o(g,v,n,i,a):y)){f=!1;break}m||(m="constructor"==d)}if(f&&!m){var _=t.constructor,b=e.constructor;_!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b)&&(f=!1)}return a.delete(t),a.delete(e),f}(t,e,n,i,o,s)}(t,e,n,i,jt,o))}function Mt(t){return!(!qt(t)||(e=t,X&&X in e))&&($t(t)?J:E).test(Ht(t));var e}function Dt(t){if(!function(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||G;return t===n}(t))return lt(t);var e=[];for(var n in Object(t))Y.call(t,n)&&"constructor"!=n&&e.push(n);return e}function At(t,e,n,i,o,s){var l=n&r,c=t.length,u=e.length;if(c!=u&&!(l&&u>c))return!1;var h=s.get(t);if(h&&s.get(e))return h==e;var d=-1,p=!0,f=n&a?new wt:void 0;for(s.set(t,e),s.set(e,t);++d<c;){var m=t[d],g=e[d];if(i)var v=l?i(g,m,d,e,t,s):i(m,g,d,t,e,s);if(void 0!==v){if(v)continue;p=!1;break}if(f){if(!F(e,function(t,e){if(r=e,!f.has(r)&&(m===t||o(m,t,n,i,s)))return f.push(e);var r})){p=!1;break}}else if(m!==g&&!o(m,g,n,i,s)){p=!1;break}}return s.delete(t),s.delete(e),p}function Rt(t){return function(t,e,n){var i=e(t);return Wt(t)?i:function(t,e){for(var n=-1,i=e.length,o=t.length;++n<i;)t[o+n]=e[n];return t}(i,n(t))}(t,Xt,Nt)}function Bt(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Lt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Mt(n)?n:void 0}Ot.prototype.clear=function(){this.__data__=ft?ft(null):{},this.size=0},Ot.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ot.prototype.get=function(t){var e=this.__data__;if(ft){var n=e[t];return n===o?void 0:n}return Y.call(e,t)?e[t]:void 0},Ot.prototype.has=function(t){var e=this.__data__;return ft?void 0!==e[t]:Y.call(e,t)},Ot.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ft&&void 0===e?o:e,this},xt.prototype.clear=function(){this.__data__=[],this.size=0},xt.prototype.delete=function(t){var e=this.__data__,n=Et(e,t);return!(n<0)&&(n==e.length-1?e.pop():ot.call(e,n,1),--this.size,!0)},xt.prototype.get=function(t){var e=this.__data__,n=Et(e,t);return n<0?void 0:e[n][1]},xt.prototype.has=function(t){return Et(this.__data__,t)>-1},xt.prototype.set=function(t,e){var n=this.__data__,i=Et(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},St.prototype.clear=function(){this.size=0,this.__data__={hash:new Ot,map:new(ut||xt),string:new Ot}},St.prototype.delete=function(t){var e=Bt(this,t).delete(t);return this.size-=e?1:0,e},St.prototype.get=function(t){return Bt(this,t).get(t)},St.prototype.has=function(t){return Bt(this,t).has(t)},St.prototype.set=function(t,e){var n=Bt(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},wt.prototype.add=wt.prototype.push=function(t){return this.__data__.set(t,o),this},wt.prototype.has=function(t){return this.__data__.has(t)},Pt.prototype.clear=function(){this.__data__=new xt,this.size=0},Pt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Pt.prototype.get=function(t){return this.__data__.get(t)},Pt.prototype.has=function(t){return this.__data__.has(t)},Pt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof xt){var o=n.__data__;if(!ut||o.length<i-1)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new St(o)}return n.set(t,e),this.size=n.size,this};var Nt=at?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,i=null==t?0:t.length,o=0,r=[];++n<i;){var a=t[n];e(a,n,t)&&(r[o++]=a)}return r}(at(t),function(e){return it.call(t,e)}))}:function(){return[]},zt=Tt;function Ft(t,e){return!!(e=null==e?s:e)&&("number"==typeof t||T.test(t))&&t>-1&&t%1==0&&t<e}function Ht(t){if(null!=t){try{return Z.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Vt(t,e){return t===e||t!==t&&e!==e}(ct&&zt(new ct(new ArrayBuffer(1)))!=k||ut&&zt(new ut)!=g||ht&&"[object Promise]"!=zt(ht.resolve())||dt&&zt(new dt)!=O||pt&&"[object WeakMap]"!=zt(new pt))&&(zt=function(t){var e=Tt(t),n=e==_?t.constructor:void 0,i=n?Ht(n):"";if(i)switch(i){case mt:return k;case gt:return g;case vt:return"[object Promise]";case yt:return O;case _t:return"[object WeakMap]"}return e});var Ut=It(function(){return arguments}())?It:function(t){return Zt(t)&&Y.call(t,"callee")&&!it.call(t,"callee")},Wt=Array.isArray;var Kt=st||function(){return!1};function $t(t){if(!qt(t))return!1;var e=Tt(t);return e==f||e==m||e==u||e==b}function Gt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function qt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Zt(t){return null!=t&&"object"==typeof t}var Yt=z?function(t){return function(e){return t(e)}}(z):function(t){return Zt(t)&&Gt(t.length)&&!!I[Tt(t)]};function Xt(t){return null!=(e=t)&&Gt(e.length)&&!$t(e)?kt(t):Dt(t);var e}n.exports=function(t,e){return jt(t,e)}}).call(this,n(58),n(66)(t))},function(t,e,n){"use strict";function i(t){return t?t.substring(0,1).toUpperCase()+t.substring(1):""}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"d",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return r}),n.d(e,"b",function(){return a});var i={name:"table",allowedTags:["TABLE"]},o=["height","width"],r=["height","width","text-align","background-color","border","border-style","border-width","border-color"],a=new Set([].concat(o,r))},function(t,e,n){"use strict";n.d(e,"d",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return r}),n.d(e,"b",function(){return a});var i={name:"cell",allowedTags:["TH","TD","TR"]},o=["height","width"],r=["height","width","vertical-align","text-align","background-color","border","border-style","border-width","border-color","padding","padding-top","padding-right","padding-bottom","padding-left"],a=new Set([].concat(o,r))},function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d});var i=n(2);function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return(a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(h,i["StyleAttributor"]);var e,n,o,u=l(h);function h(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),u.apply(this,arguments)}return e=h,(n=[{key:"value",value:function(t){var e=a(c(h.prototype),"value",this).call(this,t);if(0!==e.indexOf("rgb("))return e;e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"");var n=e.split(",").map(function(t){return"00".concat(parseInt(t,10).toString(16)).slice(-2)}).join("");return"#".concat(n)}}])&&r(e.prototype,n),o&&r(e,o),h}(),h=new i.ClassAttributor("color","ql-color",{scope:i.Scope.INLINE}),d=new u("color","color",{scope:i.Scope.INLINE})},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s});var i=n(2),o={scope:i.Scope.BLOCK,whitelist:["rtl"]},r=new i.Attributor("direction","dir",o),a=new i.ClassAttributor("direction","ql-direction",o),s=new i.StyleAttributor("direction","direction",o)},function(t,e,n){var i=n(20),o=n(68),r=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return r(o(t),e)}},function(t,e,n){(function(t,n){var i=200,o="__lodash_hash_undefined__",r=800,a=16,s=9007199254740991,l="[object Arguments]",c="[object AsyncFunction]",u="[object Function]",h="[object GeneratorFunction]",d="[object Null]",p="[object Object]",f="[object Proxy]",m="[object Undefined]",g=/^\[object .+?Constructor\]$/,v=/^(?:0|[1-9]\d*)$/,y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y[l]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y[u]=y["[object Map]"]=y["[object Number]"]=y[p]=y["[object RegExp]"]=y["[object Set]"]=y["[object String]"]=y["[object WeakMap]"]=!1;var _="object"==typeof t&&t&&t.Object===Object&&t,b="object"==typeof self&&self&&self.Object===Object&&self,C=_||b||Function("return this")(),O=e&&!e.nodeType&&e,x=O&&"object"==typeof n&&n&&!n.nodeType&&n,S=x&&x.exports===O,w=S&&_.process,P=function(){try{var t=x&&x.require&&x.require("util").types;return t||w&&w.binding&&w.binding("util")}catch(e){}}(),k=P&&P.isTypedArray;var E,T,I=Array.prototype,j=Function.prototype,M=Object.prototype,D=C["__core-js_shared__"],A=j.toString,R=M.hasOwnProperty,B=function(){var t=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),L=M.toString,N=A.call(Object),z=RegExp("^"+A.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=S?C.Buffer:void 0,H=C.Symbol,V=C.Uint8Array,U=F?F.allocUnsafe:void 0,W=(E=Object.getPrototypeOf,T=Object,function(t){return E(T(t))}),K=Object.create,$=M.propertyIsEnumerable,G=I.splice,q=H?H.toStringTag:void 0,Z=function(){try{var t=bt(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),Y=F?F.isBuffer:void 0,X=Math.max,Q=Date.now,J=bt(C,"Map"),tt=bt(Object,"create"),et=function(){function t(){}return function(e){if(!Mt(e))return{};if(K)return K(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function nt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function it(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function ot(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function rt(t){var e=this.__data__=new it(t);this.size=e.size}function at(t,e){var n=kt(t),i=!n&&Pt(t),o=!n&&!i&&Tt(t),r=!n&&!i&&!o&&At(t),a=n||i||o||r,s=a?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],l=s.length;for(var c in t)!e&&!R.call(t,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ct(c,l))||s.push(c);return s}function st(t,e,n){(void 0===n||wt(t[e],n))&&(void 0!==n||e in t)||ut(t,e,n)}function lt(t,e,n){var i=t[e];R.call(t,e)&&wt(i,n)&&(void 0!==n||e in t)||ut(t,e,n)}function ct(t,e){for(var n=t.length;n--;)if(wt(t[n][0],e))return n;return-1}function ut(t,e,n){"__proto__"==e&&Z?Z(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}nt.prototype.clear=function(){this.__data__=tt?tt(null):{},this.size=0},nt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},nt.prototype.get=function(t){var e=this.__data__;if(tt){var n=e[t];return n===o?void 0:n}return R.call(e,t)?e[t]:void 0},nt.prototype.has=function(t){var e=this.__data__;return tt?void 0!==e[t]:R.call(e,t)},nt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=tt&&void 0===e?o:e,this},it.prototype.clear=function(){this.__data__=[],this.size=0},it.prototype.delete=function(t){var e=this.__data__,n=ct(e,t);return!(n<0)&&(n==e.length-1?e.pop():G.call(e,n,1),--this.size,!0)},it.prototype.get=function(t){var e=this.__data__,n=ct(e,t);return n<0?void 0:e[n][1]},it.prototype.has=function(t){return ct(this.__data__,t)>-1},it.prototype.set=function(t,e){var n=this.__data__,i=ct(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},ot.prototype.clear=function(){this.size=0,this.__data__={hash:new nt,map:new(J||it),string:new nt}},ot.prototype.delete=function(t){var e=_t(this,t).delete(t);return this.size-=e?1:0,e},ot.prototype.get=function(t){return _t(this,t).get(t)},ot.prototype.has=function(t){return _t(this,t).has(t)},ot.prototype.set=function(t,e){var n=_t(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},rt.prototype.clear=function(){this.__data__=new it,this.size=0},rt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},rt.prototype.get=function(t){return this.__data__.get(t)},rt.prototype.has=function(t){return this.__data__.has(t)},rt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof it){var o=n.__data__;if(!J||o.length<i-1)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new ot(o)}return n.set(t,e),this.size=n.size,this};var ht,dt=function(t,e,n){for(var i=-1,o=Object(t),r=n(t),a=r.length;a--;){var s=r[ht?a:++i];if(!1===e(o[s],s,o))break}return t};function pt(t){return null==t?void 0===t?m:d:q&&q in Object(t)?function(t){var e=R.call(t,q),n=t[q];try{t[q]=void 0;var i=!0}catch(r){}var o=L.call(t);i&&(e?t[q]=n:delete t[q]);return o}(t):function(t){return L.call(t)}(t)}function ft(t){return Dt(t)&&pt(t)==l}function mt(t){return!(!Mt(t)||(e=t,B&&B in e))&&(It(t)?z:g).test(function(t){if(null!=t){try{return A.call(t)}catch(e){}try{return t+""}catch(e){}}return""}(t));var e}function gt(t){if(!Mt(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=Ot(t),n=[];for(var i in t)("constructor"!=i||!e&&R.call(t,i))&&n.push(i);return n}function vt(t,e,n,i,o){t!==e&&dt(e,function(r,a){if(o||(o=new rt),Mt(r))!function(t,e,n,i,o,r,a){var s=xt(t,n),l=xt(e,n),c=a.get(l);if(c)return void st(t,n,c);var u=r?r(s,l,n+"",t,e,a):void 0,h=void 0===u;if(h){var d=kt(l),f=!d&&Tt(l),m=!d&&!f&&At(l);u=l,d||f||m?kt(s)?u=s:Dt(g=s)&&Et(g)?u=function(t,e){var n=-1,i=t.length;e||(e=Array(i));for(;++n<i;)e[n]=t[n];return e}(s):f?(h=!1,u=function(t,e){if(e)return t.slice();var n=t.length,i=U?U(n):new t.constructor(n);return t.copy(i),i}(l,!0)):m?(h=!1,u=function(t,e){var n=e?function(t){var e=new t.constructor(t.byteLength);return new V(e).set(new V(t)),e}(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(l,!0)):u=[]:function(t){if(!Dt(t)||pt(t)!=p)return!1;var e=W(t);if(null===e)return!0;var n=R.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&A.call(n)==N}(l)||Pt(l)?(u=s,Pt(s)?u=function(t){return function(t,e,n,i){var o=!n;n||(n={});var r=-1,a=e.length;for(;++r<a;){var s=e[r],l=i?i(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),o?ut(n,s,l):lt(n,s,l)}return n}(t,Rt(t))}(s):Mt(s)&&!It(s)||(u=function(t){return"function"!=typeof t.constructor||Ot(t)?{}:et(W(t))}(l))):h=!1}var g;h&&(a.set(l,u),o(u,l,i,r,a),a.delete(l));st(t,n,u)}(t,e,a,n,vt,i,o);else{var s=i?i(xt(t,a),r,a+"",t,e,o):void 0;void 0===s&&(s=r),st(t,a,s)}},Rt)}function yt(t,e){return St(function(t,e,n){return e=X(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,r=X(i.length-e,0),a=Array(r);++o<r;)a[o]=i[e+o];o=-1;for(var s=Array(e+1);++o<e;)s[o]=i[o];return s[e]=n(a),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,s)}}(t,e,Nt),t+"")}function _t(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function bt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return mt(n)?n:void 0}function Ct(t,e){var n=typeof t;return!!(e=null==e?s:e)&&("number"==n||"symbol"!=n&&v.test(t))&&t>-1&&t%1==0&&t<e}function Ot(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||M)}function xt(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var St=function(t){var e=0,n=0;return function(){var i=Q(),o=a-(i-n);if(n=i,o>0){if(++e>=r)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Z?function(t,e){return Z(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:Nt);function wt(t,e){return t===e||t!==t&&e!==e}var Pt=ft(function(){return arguments}())?ft:function(t){return Dt(t)&&R.call(t,"callee")&&!$.call(t,"callee")},kt=Array.isArray;function Et(t){return null!=t&&jt(t.length)&&!It(t)}var Tt=Y||function(){return!1};function It(t){if(!Mt(t))return!1;var e=pt(t);return e==u||e==h||e==c||e==f}function jt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function Mt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Dt(t){return null!=t&&"object"==typeof t}var At=k?function(t){return function(e){return t(e)}}(k):function(t){return Dt(t)&&jt(t.length)&&!!y[pt(t)]};function Rt(t){return Et(t)?at(t,!0):gt(t)}var Bt,Lt=(Bt=function(t,e,n){vt(t,e,n)},yt(function(t,e){var n=-1,i=e.length,o=i>1?e[i-1]:void 0,r=i>2?e[2]:void 0;for(o=Bt.length>3&&"function"==typeof o?(i--,o):void 0,r&&function(t,e,n){if(!Mt(n))return!1;var i=typeof e;return!!("number"==i?Et(n)&&Ct(e,n.length):"string"==i&&e in n)&&wt(n[e],t)}(e[0],e[1],r)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var a=e[n];a&&Bt(t,a,n,o)}return t}));function Nt(t){return t}n.exports=Lt}).call(this,n(58),n(66)(t))},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s});var i=n(2),o={scope:i.Scope.BLOCK,whitelist:["right","center","justify"]},r=new i.Attributor("align","align",o),a=new i.ClassAttributor("align","ql-align",o),s=new i.StyleAttributor("align","text-align",o)},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var i=n(8),o=n(51),r=i.String,a=i.TypeError;t.exports=function(t){if(o(t))return t;throw a(r(t)+" is not an object")}},function(t,e,n){var i=n(39);t.exports=!i(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(t,e){var n=Function.prototype.call;t.exports=n.bind?n.bind(n):function(){return n.apply(n,arguments)}},function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return h});var i=n(14);function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return(a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(d,i["a"]);var e,n,o,u=l(d);function d(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),u.apply(this,arguments)}return e=d,o=[{key:"create",value:function(t){var e=a(c(d),"create",this).call(this,t);return e.setAttribute("href",this.sanitize(t)),e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"),e}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return h(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}],(n=[{key:"format",value:function(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("href",this.constructor.sanitize(e)):a(c(d.prototype),"format",this).call(this,t,e)}}])&&r(e.prototype,n),o&&r(e,o),d}();function h(t,e){var n=document.createElement("a");n.href=t;var i=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(i)>-1}u.blotName="link",u.tagName="A",u.SANITIZED_URL="about:blank",u.PROTOCOL_WHITELIST=["http","https","mailto","tel"]},function(t,e,n){"use strict";e.a=new WeakMap},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return a});var i=n(2),o=n(34),r=new i.ClassAttributor("background","ql-bg",{scope:i.Scope.INLINE}),a=new o.a("background","background-color",{scope:i.Scope.INLINE})},function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return h});var i=n(2);function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return(a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u={scope:i.Scope.INLINE,whitelist:["serif","monospace"]},h=new i.ClassAttributor("font","ql-font",u),d=new(function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(h,i["StyleAttributor"]);var e,n,o,u=l(h);function h(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),u.apply(this,arguments)}return e=h,(n=[{key:"value",value:function(t){return a(c(h.prototype),"value",this).call(this,t).replace(/["']/g,"")}}])&&r(e.prototype,n),o&&r(e,o),h}())("font","font-family",u)},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r});var i=n(2),o=new i.ClassAttributor("size","ql-size",{scope:i.Scope.INLINE,whitelist:["small","large","huge"]}),r=new i.StyleAttributor("size","font-size",{scope:i.Scope.INLINE,whitelist:["10px","18px","32px"]})},function(t,e,n){"use strict";function i(t,e,n){n?t.setAttribute(e,n):t.removeAttribute(e)}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";var i=n(14);function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return(a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(h,i["a"]);var e,n,o,u=l(h);function h(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),u.apply(this,arguments)}return e=h,o=[{key:"create",value:function(){return a(c(h),"create",this).call(this)}},{key:"formats",value:function(){return!0}}],(n=[{key:"optimize",value:function(t){a(c(h.prototype),"optimize",this).call(this,t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}])&&r(e.prototype,n),o&&r(e,o),h}();u.blotName="bold",u.tagName=["STRONG","B"],e.a=u},function(t,e,n){"use strict";n.d(e,"a",function(){return p}),n.d(e,"b",function(){return m});var i=n(2),o=n(0),r=n(12),a=n(15);function s(t){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=d(t);if(e){var o=d(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return h(t)}(this,n)}}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(d,r["a"]);var e,n,i,s=u(d);function d(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),(n=s.call(this,t,e)).lastRecorded=0,n.ignoreChange=!1,n.clear(),n.quill.on(o.a.events.EDITOR_CHANGE,function(t,e,i,r){t!==o.a.events.TEXT_CHANGE||n.ignoreChange||(n.options.userOnly&&r!==o.a.sources.USER?n.transform(e):n.record(e,i))}),n.quill.keyboard.addBinding({key:"z",shortKey:!0},n.undo.bind(h(n))),n.quill.keyboard.addBinding({key:"z",shortKey:!0,shiftKey:!0},n.redo.bind(h(n))),Object(a.a)()&&/Win/i.test(navigator.platform)&&n.quill.keyboard.addBinding({key:"y",shortKey:!0},n.redo.bind(h(n))),n.quill.root.addEventListener("beforeinput",function(t){"historyUndo"===t.inputType?(n.undo(),t.preventDefault()):"historyRedo"===t.inputType&&(n.redo(),t.preventDefault())}),n}return e=d,(n=[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var n=this.stack[t].pop(),i=this.quill.getContents(),r=n.invert(i);this.stack[e].push(r),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n,o.a.sources.USER),this.ignoreChange=!1;var a=m(this.quill.scroll,n);this.quill.setSelection(a)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var n=t.invert(e),i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){var o=this.stack.undo.pop();n=n.compose(o)}else this.lastRecorded=i;0!==n.length()&&(this.stack.undo.push(n),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){f(this.stack.undo,t),f(this.stack.redo,t)}},{key:"undo",value:function(){this.change("undo","redo")}}])&&l(e.prototype,n),i&&l(e,i),d}();function f(t,e){for(var n=e,i=t.length-1;i>=0;i-=1){var o=t[i];t[i]=n.transform(o,!0),n=o.transform(n),0===t[i].length()&&t.splice(i,1)}}function m(t,e){var n=e.reduce(function(t,e){return t+(e.delete||0)},0),o=e.length()-n;return function(t,e){var n=e.ops[e.ops.length-1];return null!=n&&(null!=n.insert?"string"===typeof n.insert&&n.insert.endsWith("\n"):null!=n.attributes&&Object.keys(n.attributes).some(function(e){return null!=t.query(e,i.Scope.BLOCK)}))}(t,e)&&(o-=1),o}p.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1}},function(t,e,n){var i=n(22);t.exports=function(t){return"object"==typeof t?null!==t:i(t)}},function(t,e,n){var i=n(8),o=n(41),r=n(101),a=n(40),s=n(84),l=i.TypeError,c=Object.defineProperty;e.f=o?c:function(t,e,n){if(a(t),e=s(e),a(n),r)try{return c(t,e,n)}catch(i){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n(2),o=n(29),r=n(19);function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,n){return(l="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(p,i["StyleAttributor"]);var e,n,a,d=u(p);function p(t,e){var n,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{allowedTags:[]};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(i=d.call(this,t,e,o)).allowedTags=null!==(n=o.allowedTags)&&void 0!==n?n:[],i}return e=p,a=[{key:"keys",value:function(t){return Object(o.b)(l(h(p),"keys",this),t,r.a.style)}}],(n=[{key:"add",value:function(t,e){return o.c.call(this,l(h(p.prototype),"add",this),t,e)}},{key:"remove",value:function(t){return o.c.call(this,l(h(p.prototype),"remove",this),t)}},{key:"value",value:function(t){return o.c.call(this,l(h(p.prototype),"value",this),t)}},{key:"canAdd",value:function(t,e){return o.a.call(this,l(h(p.prototype),"canAdd",this),t,e)}}])&&s(e.prototype,n),a&&s(e,a),p}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(0);function o(t,e){return{key:t?"upArrow":"downArrow",collapsed:!0,format:e,handler:function(e,n){var o=t?"prev":"next",r=n.line,a=r.statics.blotName.indexOf("Line")>-1?r.parent:r,s=a.parent.parent[o],l=a.parent[o]||(null===s||void 0===s?void 0:s.children.head);if(null!=l){if("tableRow"===l.statics.blotName||"tableHeaderRow"===l.statics.blotName){for(var c=l.children.head,u=a;null!=u.prev;)u=u.prev,c=c.next;var h=c.offset(this.quill.scroll)+Math.min(n.offset,c.length()-1);this.quill.setSelection(h,0,i.a.sources.USER)}}else{var d=a.table()[o];null!=d&&(t?this.quill.setSelection(d.offset(this.quill.scroll)+d.length()-1,0,i.a.sources.USER):this.quill.setSelection(d.offset(this.quill.scroll),0,i.a.sources.USER))}return!1}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return d}),n.d(e,"b",function(){return p});var i=n(2),o=n(63),r=n(53),a=n(26);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach(function(e){c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e,n,i){t[e]=!i&&t[e]?t[e]:n}function h(t,e,n,o,r,a){return t.filter(function(t){return!!t}).forEach(function(t){var s=n.query(t,i.Scope.ATTRIBUTE);if(null!==s){var l=s.value(e);if(l)return void u(r,s.attrName,l,a)}var c=o[t];if(null!=c&&(c.attrName===t||c.keyName===t)){var h=c.value(e)||void 0;u(r,c.attrName,h,a)}}),r}function d(t){return function(e,n,i){var s=o.a.keys(e),c=r.a.keys(e),u=l(l({},h(s,e,i,t,{},!0)),h(c,e,i,t,{},!0));return Object.keys(u).length>0?Object(a.a)(n,u):n}}function p(t){return function(e,n,i){var s,c=o.a.keys(e),u=r.a.keys(e),d="TR"===(null===(s=e.parentNode)||void 0===s?void 0:s.tagName)?e.parentNode:void 0,p=l(l({},h(c,e,i,t,{},!0)),h(u,e,i,t,{},!0));d&&(p=h(r.a.keys(d),d,i,t,p,!1));return Object.keys(p).length>0?Object(a.a)(n,p):n}}},function(t,e,n){"use strict";var i=n(2),o=n(9);function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return(s="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h="\ufeff",d=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(p,i["EmbedBlot"]);var e,n,r,d=c(p);function p(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(n=d.call(this,t,e)).contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),Array.from(n.domNode.childNodes).forEach(function(t){n.contentNode.appendChild(t)}),n.leftGuard=document.createTextNode(h),n.rightGuard=document.createTextNode(h),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return e=p,(n=[{key:"index",value:function(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:s(u(p.prototype),"index",this).call(this,t,e)}},{key:"restore",value:function(t){var e,n,i=t.data.split(h).join("");if(t===this.leftGuard)if(this.prev instanceof o.a){var r=this.prev.length();this.prev.insertAt(r,i),e={startNode:this.prev.domNode,startOffset:r+i.length}}else n=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(n),this),e={startNode:n,startOffset:i.length};else t===this.rightGuard&&(this.next instanceof o.a?(this.next.insertAt(0,i),e={startNode:this.next.domNode,startOffset:i.length}):(n=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(n),this.next),e={startNode:n,startOffset:i.length}));return t.data=h,e}},{key:"update",value:function(t,e){var n=this;t.forEach(function(t){if("characterData"===t.type&&(t.target===n.leftGuard||t.target===n.rightGuard)){var i=n.restore(t.target);i&&(e.range=i)}})}}])&&a(e.prototype,n),r&&a(e,r),p}();e.a=d},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.options=n,this.modules={}}var e,n,o;return e=t,(n=[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach(function(e){null==t.modules[e]&&t.addModule(e)})}},{key:"addModule",value:function(t){var e=this.quill.constructor.import("modules/".concat(t));return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}])&&i(e.prototype,n),o&&i(e,o),t}();o.DEFAULTS={modules:{}},o.themes={default:o},e.a=o},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var i=n(1),o=n.n(i),r=n(3),a=n(12),s=n(15);function l(t){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=d(t);if(e){var o=d(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===l(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(r,a["a"]);var e,n,i,o=h(r);function r(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=o.call(this,t,e)).preventImageUploading(!1),n.addDragOverHandler(),n.addDropHandler(),n}return e=r,(n=[{key:"addDragOverHandler",value:function(){if(Object(s.a)()){var t=window.navigator.userAgent.toLowerCase();(-1!==t.indexOf("msie ")||-1!==t.indexOf("trident/")||-1!==t.indexOf("edge/"))&&this.quill.root.addEventListener("dragover",function(t){t.preventDefault()})}}},{key:"addDropHandler",value:function(){var t=this;this.quill.root.addEventListener("drop",function(e){var n=0===e.dataTransfer.files.length,i=t.options.onDrop;if(i&&"function"===typeof i&&i(e),!n&&!t.preventImageUpload){var o;if(e.preventDefault(),document.caretRangeFromPoint)o=document.caretRangeFromPoint(e.clientX,e.clientY);else{if(!document.caretPositionFromPoint)return;var r=document.caretPositionFromPoint(e.clientX,e.clientY);(o=document.createRange()).setStart(r.offsetNode,r.offset),o.setEnd(r.offsetNode,r.offset)}var a=t.quill.selection.normalizeNative(o),s=t.quill.selection.normalizedToRange(a);t.upload(s,e.dataTransfer.files)}})}},{key:"preventImageUploading",value:function(t){return"undefined"!==typeof t&&(this.preventImageUpload=t),this.preventImageUpload}},{key:"upload",value:function(t,e,n){var i=this;if(!this.preventImageUpload||n){var o=[];Array.from(e).forEach(function(t){t&&-1!==i.options.mimetypes.indexOf(t.type)&&o.push(t)}),o.length>0&&this.options.handler.call(this,t,o,this.options.imageBlot)}}}])&&c(e.prototype,n),i&&c(e,i),r}();p.DEFAULTS={mimetypes:["image/png","image/jpeg","image/pjpeg","image/gif","image/webp","image/bmp","image/svg+xml","image/vnd.microsoft.icon"],imageBlot:"image",handler:function(t,e,n){var i=this,a=e.map(function(t){return new Promise(function(e){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.readAsDataURL(t)})});Promise.all(a).then(function(e){var a=e.reduce(function(t,e){return t.insert((r=e,(o=n)in(i={})?Object.defineProperty(i,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[o]=r,i));var i,o,r},(new o.a).retain(t.index).delete(t.length));i.quill.updateContents(a,r.a.sources.USER),i.quill.setSelection(t.index+e.length,r.a.sources.SILENT)})}},e.a=p},function(t,e,n){var i=n(8),o=n(22);t.exports=function(t,e){return arguments.length<2?(n=i[t],o(n)?n:void 0):i[t]&&i[t][e];var n}},function(t,e,n){var i=n(8),o=n(89).f,r=n(70),a=n(90),s=n(81),l=n(135),c=n(140);t.exports=function(t,e){var n,u,h,d,p,f=t.target,m=t.global,g=t.stat;if(n=m?i:g?i[f]||s(f,{}):(i[f]||{}).prototype)for(u in e){if(d=e[u],h=t.noTargetGet?(p=o(n,u))&&p.value:n[u],!c(m?u:f+(g?".":"#")+u,t.forced)&&void 0!==h){if(typeof d==typeof h)continue;l(d,h)}(t.sham||h&&h.sham)&&r(d,"sham",!0),a(n,u,d,t)}}},function(t,e,n){var i=n(134),o=n(69);t.exports=function(t){return i(o(t))}},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n(2),o=n(29),r=n(19);function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,n){return(l="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(p,i["Attributor"]);var e,n,a,d=u(p);function p(t,e){var n,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{allowedTags:[]};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(i=d.call(this,t,e,o)).allowedTags=null!==(n=o.allowedTags)&&void 0!==n?n:[],i}return e=p,a=[{key:"keys",value:function(t){return Object(o.b)(l(h(p),"keys",this),t,r.a.attribute)}}],(n=[{key:"add",value:function(t,e){return o.c.call(this,l(h(p.prototype),"add",this),t,e)}},{key:"remove",value:function(t){return o.c.call(this,l(h(p.prototype),"remove",this),t)}},{key:"value",value:function(t){return o.c.call(this,l(h(p.prototype),"value",this),t)}},{key:"canAdd",value:function(t,e){return o.a.call(this,l(h(p.prototype),"canAdd",this),t,e)}}])&&s(e.prototype,n),a&&s(e,a),p}()},function(t,e,n){"use strict";function i(){return Math.random().toString(36).slice(2,6)}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";var i=n(1),o=n.n(i),r=n(2),a=n(0),s=n(12),l=n(6),c=n(10),u=n(13),h=n(5),d=n(21),p=n(11),f=n(64),m=n(48);function g(t){return(g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,o,r=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}(t,e)||_(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t){return function(t){if(Array.isArray(t))return b(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){if(t){if("string"===typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(t,e):void 0}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function x(t,e,n){return e&&O(t.prototype,e),n&&O(t,n),t}function S(t,e,n){return(S="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=E(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function w(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=E(t);if(e){var o=E(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===g(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=["row","cell"],I="data-table-",j=function(t){w(n,l["d"]);var e=k(n);function n(){return C(this,n),e.apply(this,arguments)}return x(n,[{key:"optimize",value:function(){var t,e=this.domNode.getAttribute("".concat(I,"row"));if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var i=this.domNode,o={row:e};Object.keys(d.b).forEach(function(t){var e=i.dataset[t.toLowerCase()];e&&(o[t]=e)}),this.wrap(this.statics.requiredContainer.blotName,o)}for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];(t=S(E(n.prototype),"optimize",this)).call.apply(t,[this].concat(a))}},{key:"format",value:function(t,e){"tableCellLine"===t&&null===e&&(e=this.formats().tableCellLine);var i=T.indexOf(t)>-1;if(i||p.c[t]||d.b[t]){var o,r,a,s="data-".concat(i?"table-":"").concat(t.toLowerCase());if(Object(m.a)(this.domNode,s,e),d.b[t])null===(o=this.cell())||void 0===o||o.format(t,e);if(p.c[t])null===(r=this.cell())||void 0===r||null===(a=r.table())||void 0===a||a.format(t,e)}else S(E(n.prototype),"format",this).call(this,t,e)}},{key:"cell",value:function(){return"row"in this.parent?this.parent:null}}],[{key:"create",value:function(t){var e=S(E(n),"create",this).call(this,t);return T.forEach(function(n){var i,o="row"===n?U:W;e.setAttribute("".concat(I).concat(n),null!==(i=t[n])&&void 0!==i?i:o())}),e}},{key:"formats",value:function(t){return T.reduce(function(e,n){var i="".concat(I).concat(n);return t.hasAttribute(i)&&(e[n]=t.getAttribute(i)||void 0),e},{})}}]),n}();j.blotName="tableCellLine",j.className="ql-table-cell-line",j.tagName="P";var M=function(t){w(n,j);var e=k(n);function n(){return C(this,n),e.apply(this,arguments)}return n}();M.blotName="tableHeaderCellLine",M.className="ql-table-header-cell-line";var D=function(t){w(n,u["a"]);var e=k(n);function n(){return C(this,n),e.apply(this,arguments)}return x(n,[{key:"format",value:function(t,e){var n;null===(n=d.b[t])||void 0===n||n.add(this.domNode,e)}},{key:"checkMerge",value:function(){if(S(E(n.prototype),"checkMerge",this).call(this)&&null!=this.next.children.head){var t=this.children.head.formats()[this.children.head.statics.blotName],e=this.children.tail.formats()[this.children.tail.statics.blotName],i=this.next.children.head.formats()[this.next.children.head.statics.blotName],o=this.next.children.tail.formats()[this.next.children.tail.statics.blotName];return t.cell===e.cell&&t.cell===i.cell&&t.cell===o.cell}return!1}},{key:"formats",value:function(){return n.cellFormats(this.domNode)}},{key:"cellOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"row",value:function(){return"table"in this.parent?this.parent:null}},{key:"rowOffset",value:function(){return this.row()?this.row().rowOffset():-1}},{key:"table",value:function(){var t;return null===(t=this.row())||void 0===t?void 0:t.table()}},{key:"optimize",value:function(){var t,e,i=null!==(t=this.domNode.getAttribute("".concat(I,"row")))&&void 0!==t?t:this.domNode.getAttribute("".concat(I,"header-row"));!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName,{row:i});for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];(e=S(E(n.prototype),"optimize",this)).call.apply(e,[this].concat(r))}}],[{key:"create",value:function(t){var e=S(E(n),"create",this).call(this,t);return t&&Object.keys(t).forEach(function(n){var i;null===(i=d.b[n])||void 0===i||i.add(e,t[n])}),e}},{key:"cellFormats",value:function(t){var e,n={};(t.hasAttribute("".concat(I,"row"))||t.hasAttribute("".concat(I,"header-row")))&&(n.row=null!==(e=t.getAttribute("".concat(I,"row")))&&void 0!==e?e:t.getAttribute("".concat(I,"header-row")));return Object.keys(d.b).forEach(function(e){var i,o=null===(i=t.firstElementChild)||void 0===i?void 0:i.dataset[e.toLowerCase()];o&&(n[e]=o)}),n}}]),n}();D.tagName=["TD","TH"];var A=function(t){w(n,D);var e=k(n);function n(){return C(this,n),e.apply(this,arguments)}return x(n,[{key:"format",value:function(t,e){"row"===t?(this.domNode.setAttribute("".concat(I).concat(t),e),this.children.forEach(function(n){n.format(t,e)})):S(E(n.prototype),"format",this).call(this,t,e)}}],[{key:"create",value:function(t){var e=S(E(n),"create",this).call(this,t),i="".concat(I,"row");return null!==t&&void 0!==t&&t.row&&e.setAttribute(i,t.row),e}}]),n}();A.blotName="tableCell",A.className="ql-table-data-cell",A.dataAttribute="".concat(I,"row");var R=function(t){w(n,D);var e=k(n);function n(){return C(this,n),e.apply(this,arguments)}return x(n,[{key:"format",value:function(t,e){"row"===t?(this.domNode.setAttribute("".concat(I).concat(t),e),this.children.forEach(function(n){n.format(t,e)})):S(E(n.prototype),"format",this).call(this,t,e)}}],[{key:"create",value:function(t){var e=S(E(n),"create",this).call(this,t),i="".concat(I,"header-row");return t&&t.row&&e.setAttribute(i,t.row),e}}]),n}();R.tagName=["TH","TD"],R.className="ql-table-header-cell",R.blotName="tableHeaderCell",R.dataAttribute="".concat(I,"header-row");var B=function(t){w(n,u["a"]);var e=k(n);function n(){return C(this,n),e.apply(this,arguments)}return x(n,[{key:"checkMerge",value:function(){if(S(E(n.prototype),"checkMerge",this).call(this)&&Object(h.a)(this.next.children.head)){var t=this.children.head.formats(),e=this.children.tail.formats(),i=this.next.children.head.formats(),o=this.next.children.tail.formats();return t.row===e.row&&t.row===i.row&&t.row===o.row}return!1}},{key:"optimize",value:function(){for(var t,e=this,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];(t=S(E(n.prototype),"optimize",this)).call.apply(t,[this].concat(o));var a=this.childFormatName;this.children.forEach(function(t){if(Object(h.a)(t.next)){var n=t.formats(),i=t.next.formats();if(n[a]!==i[a]){var o=e.splitAfter(t);o&&o.optimize(),e.prev&&e.prev.optimize()}}})}},{key:"rowOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"table",value:function(){var t;return null===(t=this.parent)||void 0===t?void 0:t.parent}},{key:"formats",value:function(){var t={},e="".concat(I,"row");return this.domNode.hasAttribute(e)&&(t[e]=this.domNode.getAttribute(e)),t}}],[{key:"create",value:function(t){var e=S(E(n),"create",this).call(this,t);return null!==t&&void 0!==t&&t.row&&e.setAttribute("".concat(I,"row"),t.row),e}}]),n}();B.tagName="TR";var L=function(t){w(n,B);var e=k(n);function n(t,i){var o;return C(this,n),(o=e.call(this,t,i)).childFormatName="table",o}return n}();L.blotName="tableRow";var N=function(t){w(n,B);var e=k(n);function n(t,i){var o;return C(this,n),(o=e.call(this,t,i)).childFormatName="tableHeaderCell",o}return n}();N.blotName="tableHeaderRow";var z=function(t){w(n,u["a"]);var e=k(n);function n(){return C(this,n),e.apply(this,arguments)}return x(n,[{key:"optimize",value:function(){var t;if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var e=this.children.head.children.head.children.head.domNode,i={};Object.keys(p.c).forEach(function(t){var n=e.dataset[t.toLowerCase()];n&&(i[t]=n)}),this.wrap(this.statics.requiredContainer.blotName,i)}for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];(t=S(E(n.prototype),"optimize",this)).call.apply(t,[this].concat(r))}}]),n}(),F=function(t){w(n,z);var e=k(n);function n(){return C(this,n),e.apply(this,arguments)}return n}();F.blotName="tableBody",F.tagName="TBODY";var H=function(t){w(n,z);var e=k(n);function n(){return C(this,n),e.apply(this,arguments)}return n}();H.blotName="tableHeader",H.tagName="THEAD";var V=function(t){w(n,u["a"]);var e=k(n);function n(){return C(this,n),e.apply(this,arguments)}return x(n,[{key:"balanceCells",value:function(){var t=this.descendants(N),e=this.descendants(L),n=this.getMaxTableColCount(t,e);this.balanceRows(n,t,R),this.balanceRows(n,e,A)}},{key:"getMaxTableColCount",value:function(t,e){return Math.max(this.getMaxRowColCount(t),this.getMaxRowColCount(e))}},{key:"getMaxRowColCount",value:function(t){return Math.max.apply(Math,y(t.map(function(t){return t.children.length})))}},{key:"balanceRows",value:function(t,e,n){var i=this;e.forEach(function(e){new Array(t-e.children.length).fill(0).forEach(function(){var t;Object(h.a)(e.children.head)&&(t=n.cellFormats(e.children.head.domNode));var o=i.scroll.create(n.blotName,t),r=i.scroll.create(n.allowedChildren[0].blotName,t);o.appendChild(r),e.appendChild(o),o.optimize()})})}},{key:"cells",value:function(t){return this.rows().map(function(e){return e.children.at(t)})}},{key:"deleteColumn",value:function(t){var e=this;[H,F].forEach(function(n){var i=v(e.descendants(n),1)[0];Object(h.a)(i)&&Object(h.a)(i.children.head)&&i.children.forEach(function(e){var n=e.children.at(t);Object(h.a)(n)&&n.remove()})})}},{key:"insertColumn",value:function(t){var e=this;[H,F].forEach(function(n){var i=v(e.descendants(n),1)[0];if(Object(h.a)(i)&&Object(h.a)(i.children.head)){var o=n===H?R:A,r=n===H?M:j;i.children.forEach(function(n){var i=n.children.at(t),a=r.formats(n.children.head.children.head.domNode),s=e.scroll.create(o.blotName,{row:a.row}),l=e.scroll.create(r.blotName,{row:a.row}),u=e.scroll.create(c.a.blotName);l.appendChild(u),s.appendChild(l),n.insertBefore(s,i)})}})}},{key:"insertRow",value:function(t){var e=this,n=v(this.descendants(F),1)[0];if(Object(h.a)(n)&&Object(h.a)(n.children.head)){var i=U(),o=this.scroll.create(L.blotName,{row:i});n.children.head.children.forEach(function(){var t=e.scroll.create(A.blotName,{row:i}),n=e.scroll.create(j.blotName,{row:i}),r=e.scroll.create(c.a.blotName);n.appendChild(r),t.appendChild(n),o.appendChild(t)});var r=n.children.at(t);n.insertBefore(o,r)}}},{key:"insertHeaderRow",value:function(){var t=this,e=v(this.descendants(H),1)[0],n=v(this.descendants(F),1)[0];if(!Object(h.a)(e)&&Object(h.a)(n)&&Object(h.a)(n.children.head)){var i=U(),o=this.scroll.create(H.blotName),r=this.scroll.create(N.blotName),a=this.children.at(0);o.appendChild(r),n.children.head.children.forEach(function(){var e=t.scroll.create(R.blotName,{row:i}),n=t.scroll.create(M.blotName,{row:i}),o=t.scroll.create(c.a.blotName);n.appendChild(o),e.appendChild(n),r.appendChild(e),e.optimize()}),this.insertBefore(o,a)}}},{key:"rows",value:function(){var t=this.children.head;return Object(h.a)(t)?t.children.map(function(t){return t}):[]}},{key:"formats",value:function(){var t={},e=this.cells()[0].domNode.firstElementChild;return Object.keys(p.c).forEach(function(n){var i=e.dataset[n.toLowerCase()];i&&(t[n]=i)}),t}},{key:"format",value:function(t,e){var n=p.c[t];if(n){var i="data-".concat(t.toLowerCase());this.cells().forEach(function(t){Object(m.a)(t.children.head.domNode,i,e)}),n.add(this.domNode,e)}}}],[{key:"create",value:function(t){var e=S(E(n),"create",this).call(this,t);return t&&Object.keys(t).forEach(function(n){var i;null===(i=p.c[n])||void 0===i||i.add(e,t[n])}),e}}]),n}();function U(){return"row-".concat(Object(f.a)())}function W(){return"cell-".concat(Object(f.a)())}V.blotName="tableContainer",V.tagName="TABLE",V.allowedChildren=[H,F],F.requiredContainer=V,H.requiredContainer=V,F.allowedChildren=[L],L.requiredContainer=F,L.allowedChildren=[A],A.requiredContainer=L,j.requiredContainer=A,A.allowedChildren=[j],H.allowedChildren=[N],N.requiredContainer=H,M.requiredContainer=R,R.allowedChildren=[M],N.allowedChildren=[R],R.requiredContainer=N;var K=n(26),$=n(54),G=n(55);function q(t){return(q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,o,r=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return X(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Q(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function J(t,e){return(J=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=et(t);if(e){var o=et(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===q(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function et(t){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nt=[null,null,null,-1],it=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&J(t,e)}(l,s["a"]);var e,n,i,r=tt(l);function l(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=r.call.apply(r,[this].concat(n))).tableBlots=[j.blotName,M.blotName],t.tableBlots.forEach(function(e){t.quill.editor.addImmediateFormat(e)}),t.integrateClipboard(),t.addKeyboardHandlers(),t.listenBalanceCells(),t}return e=l,i=[{key:"register",value:function(){a.a.register(j,!0),a.a.register(M,!0),a.a.register(R,!0),a.a.register(A,!0),a.a.register(N,!0),a.a.register(L,!0),a.a.register(F,!0),a.a.register(H,!0),a.a.register(V,!0),[p.c,d.b].forEach(function(t){Object.keys(t).forEach(function(e){a.a.register(Z({},"formats/".concat(e),t[e]),!0)})})}}],(n=[{key:"integrateClipboard",value:function(){var t=this;this.tableBlots.forEach(function(e){t.quill.clipboard.addTableBlot(e)}),this.quill.clipboard.addMatcher("td, th",ot),this.quill.clipboard.addMatcher("table",Object(G.a)(p.a)),this.quill.clipboard.addMatcher("td, th",Object(G.b)(d.a))}},{key:"addKeyboardHandlers",value:function(){var t=this,e=l.keyboardBindings;Object.keys(e).forEach(function(n){e[n]&&t.quill.keyboard.addBinding(e[n])})}},{key:"balanceTables",value:function(){this.quill.scroll.descendants(V).forEach(function(t){t.balanceCells()})}},{key:"deleteColumn",value:function(){var t=Y(this.getTable(),3),e=t[0],n=t[2];Object(h.a)(n)&&(e.deleteColumn(n.cellOffset()),this.quill.update(a.a.sources.USER))}},{key:"deleteRow",value:function(){var t=Y(this.getTable(),2)[1];Object(h.a)(t)&&(t.remove(),this.quill.update(a.a.sources.USER))}},{key:"deleteTable",value:function(){var t=Y(this.getTable(),1)[0];if(Object(h.a)(t)){var e=t.offset();t.remove(),this.quill.update(a.a.sources.USER),this.quill.setSelection(e,a.a.sources.SILENT)}}},{key:"getTable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(!Object(h.a)(t))return nt;var e=Y(this.quill.getLine(t.index),2),n=e[0],i=e[1];if(!Object(h.a)(n)||-1===this.tableBlots.indexOf(n.statics.blotName))return nt;var o=n.parent,r=o.parent;return[r.parent.parent,r,o,i]}},{key:"insertColumn",value:function(t){var e=this.quill.getSelection(),n=Y(this.getTable(e),3),i=n[0],o=n[1],r=n[2];if(Object(h.a)(r)){var s=r.cellOffset();i.insertColumn(s+t),this.quill.update(a.a.sources.USER);var l=o.rowOffset();0===t&&(l+=1),this.quill.setSelection(e.index+l,e.length,a.a.sources.SILENT)}}},{key:"insertColumnLeft",value:function(){this.insertColumn(0)}},{key:"insertColumnRight",value:function(){this.insertColumn(1)}},{key:"insertRow",value:function(t){var e=this.quill.getSelection(),n=Y(this.getTable(e),3),i=n[0],o=n[1],r=n[2];if(Object(h.a)(r)){var s=o.rowOffset();i.insertRow(s+t),this.quill.update(a.a.sources.USER),t>0?this.quill.setSelection(e,a.a.sources.SILENT):this.quill.setSelection(e.index+o.children.length,e.length,a.a.sources.SILENT)}}},{key:"insertRowAbove",value:function(){this.insertRow(0)}},{key:"insertRowBelow",value:function(){this.insertRow(1)}},{key:"insertHeaderRow",value:function(){var t=this.quill.getSelection(),e=Y(this.getTable(t),3),n=e[0],i=e[2];Object(h.a)(i)&&(n.insertHeaderRow(),this.quill.update(a.a.sources.USER))}},{key:"insertTable",value:function(t,e){var n=this.quill.getSelection();if(Object(h.a)(n)){var i=new Array(t).fill(0).reduce(function(t){var n=U();return new Array(e).fill("\n").forEach(function(e){t.insert(e,{tableCellLine:{row:n,cell:U()}})}),t},(new o.a).retain(n.index));this.quill.updateContents(i,a.a.sources.USER),this.quill.setSelection(n.index,a.a.sources.SILENT),this.balanceTables()}}},{key:"tableFormats",value:function(){return this.tableBlots}},{key:"listenBalanceCells",value:function(){var t=this;this.quill.on(a.a.events.SCROLL_OPTIMIZE,function(e){e.some(function(e){return-1!==["TD","TH","TR","TBODY","THEAD","TABLE"].indexOf(e.target.tagName)&&(t.quill.once(a.a.events.TEXT_CHANGE,function(e,n,i){i===a.a.sources.USER&&t.balanceTables()}),!0)})}),this.quill.on(a.a.events.CONTENT_SETTED,function(){t.quill.once(a.a.events.TEXT_CHANGE,function(){t.balanceTables()})})}}])&&Q(e.prototype,n),i&&Q(e,i),l}();function ot(t,e){var n=t.parentNode,i="TABLE"===n.parentNode.tagName?n.parentNode:n.parentNode.parentNode,r="THEAD"===n.parentNode.tagName||null,a=Array.from(i.querySelectorAll("tr")),s=Array.from(n.querySelectorAll("th,td")),l=a.indexOf(n)+1,c=s.indexOf(t)+1,u=r?"tableHeaderCellLine":"tableCellLine";return 0===e.length()?e=(new o.a).insert("\n",Z({},u,{row:l,cell:c})):(Object(K.c)(e,"\n")||e.insert("\n"),Object(K.a)(e,u,{row:l,cell:c}))}it.keyboardBindings={"table backspace":{key:"backspace",format:["tableCellLine","tableHeaderCellLine"],collapsed:!0,offset:0,handler:function(t){var e=Y(this.quill.getLine(t.index),1)[0];return!(!e.prev||-1===["tableCellLine","tableHeaderCellLine"].indexOf(e.prev.statics.blotName))}},"table delete":{key:"del",format:["tableCellLine","tableHeaderCellLine"],collapsed:!0,suffix:/^$/,handler:function(){}},"table cell enter":{key:"enter",shiftKey:null,format:["tableCellLine","tableHeaderCellLine"],handler:function(t,e){var n,i=this;if(null===(n=this.quill.selection)||void 0===n||!n.composing){t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);var o=Object.keys(e.format).reduce(function(t,n){return i.quill.scroll.query(n,r.Scope.BLOCK)&&!Array.isArray(e.format[n])&&(t[n]=e.format[n]),t},{});this.quill.insertText(t.index,"\n",o.tableCellLine,a.a.sources.USER),this.quill.setSelection(t.index+1,a.a.sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach(function(t){null==o[t]&&(Array.isArray(e.format[t])||"link"!==t&&i.quill.format(t,e.format[t],a.a.sources.USER))})}}},"table tab":{key:"tab",shiftKey:null,format:["tableCellLine","tableHeaderCellLine"],handler:function(t,e){var n=e.event,i=e.line,o=i.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(o-1,a.a.sources.USER):this.quill.setSelection(o+i.length(),a.a.sources.USER)}},"table down":Object($.a)(!1,["tableCellLine","tableHeaderCellLine"]),"table up":Object($.a)(!0,["tableCellLine","tableHeaderCellLine"])};e.a=it},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=!1},function(t,e,n){var i=n(8),o=n(69),r=i.Object;t.exports=function(t){return r(o(t))}},function(t,e,n){var i=n(8).TypeError;t.exports=function(t){if(void 0==t)throw i("Can't call method on "+t);return t}},function(t,e,n){var i=n(41),o=n(52),r=n(71);t.exports=i?function(t,e,n){return o.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports={}},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(63),o=n(31),r=n(19),a=["name"];function s(t,e){if(null==t)return{};var n,i,o=function(t,e){if(null==t)return{};var n,i,o={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function l(t,e){var n=t.name,l=s(t,a),c="".concat(n).concat(Object(o.a)(e)),u="".concat(r.a.attribute).concat(n,"_").concat(e);return new i.a(c,u,l)}},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(53),o=n(31),r=n(19),a=["name","formatName"];function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,o,r=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function c(t,e){if(null==t)return{};var n,i,o=function(t,e){if(null==t)return{};var n,i,o={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function u(t,e){var n=t.name,l=t.formatName,u=c(t,a),h=s(e.split("-"),2),d=h[0],p=h[1],f="".concat(n).concat(Object(o.a)(null!==l&&void 0!==l?l:d)).concat(p?Object(o.a)(p):""),m="".concat(r.a.style).concat(n,"_").concat(e);return new i.a(f,m,u)}},function(t,e,n){"use strict";var i=n(1),o=n.n(i),r=n(0),a=n(12),s=n(6),l=n(13),c=n(5),u=n(11),h=n(64),d=n(48);function p(t){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,o,r=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}(t,e)||g(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||g(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){if(t){if("string"===typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function b(t,e,n){return e&&_(t.prototype,e),n&&_(t,n),t}function C(t,e,n){return(C="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function O(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=w(t);if(e){var o=w(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===p(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P=function(t){O(n,s["d"]);var e=S(n);function n(){return y(this,n),e.apply(this,arguments)}return b(n,[{key:"format",value:function(t,e){if(u.c[t]){var i,o,r="data-".concat(t.toLowerCase());Object(d.a)(this.domNode,r,e),null===(i=this.row())||void 0===i||null===(o=i.table())||void 0===o||o.format(t,e)}else C(w(n.prototype),"format",this).call(this,t,e)}},{key:"cellOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"row",value:function(){return"table"in this.parent?this.parent:null}},{key:"rowOffset",value:function(){return this.row()?this.row().rowOffset():-1}},{key:"table",value:function(){var t;return null===(t=this.row())||void 0===t?void 0:t.table()}}],[{key:"create",value:function(t){var e=C(w(n),"create",this).call(this),i=this.dataAttribute;return Object(d.a)(e,i,null!==t&&void 0!==t?t:B()),e}},{key:"formats",value:function(t){var e=this.dataAttribute;if(t.hasAttribute(e))return t.getAttribute(e)}}]),n}();P.tagName=["TD","TH"];var k=function(t){O(n,P);var e=S(n);function n(){return y(this,n),e.apply(this,arguments)}return b(n,[{key:"format",value:function(t,e){t===n.blotName&&e?this.domNode.setAttribute(n.dataAttribute,e):C(w(n.prototype),"format",this).call(this,t,e)}}]),n}();k.blotName="table",k.dataAttribute="".concat("data-tablelite-","row");var E=function(t){O(n,P);var e=S(n);function n(){return y(this,n),e.apply(this,arguments)}return b(n,[{key:"format",value:function(t,e){t===n.blotName&&e?this.domNode.setAttribute(n.dataAttribute,e):C(w(n.prototype),"format",this).call(this,t,e)}}]),n}();E.tagName=["TH","TD"],E.blotName="tableHeaderCell",E.dataAttribute="".concat("data-tablelite-","header-row");var T=function(t){O(n,l["a"]);var e=S(n);function n(){return y(this,n),e.apply(this,arguments)}return b(n,[{key:"checkMerge",value:function(){if(C(w(n.prototype),"checkMerge",this).call(this)&&Object(c.a)(this.next.children.head)){var t=this.childFormatName,e=this.children.head.formats(),i=this.children.tail.formats(),o=this.next.children.head.formats(),r=this.next.children.tail.formats();return e[t]===i[t]&&e[t]===o[t]&&e[t]===r[t]}return!1}},{key:"optimize",value:function(){for(var t,e=this,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];(t=C(w(n.prototype),"optimize",this)).call.apply(t,[this].concat(o));var a=this.childFormatName;this.children.forEach(function(t){if(Object(c.a)(t.next)){var n=t.formats(),i=t.next.formats();if(n[a]!==i[a]){var o=e.splitAfter(t);o&&o.optimize(),e.prev&&e.prev.optimize()}}})}},{key:"rowOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"table",value:function(){var t;return null===(t=this.parent)||void 0===t?void 0:t.parent}}]),n}();T.tagName="TR";var I=function(t){O(n,T);var e=S(n);function n(t,i){var o;return y(this,n),(o=e.call(this,t,i)).childFormatName="table",o}return n}();I.blotName="tableRow";var j=function(t){O(n,T);var e=S(n);function n(t,i){var o;return y(this,n),(o=e.call(this,t,i)).childFormatName="tableHeaderCell",o}return n}();j.blotName="tableHeaderRow";var M=function(t){O(n,l["a"]);var e=S(n);function n(){return y(this,n),e.apply(this,arguments)}return b(n,[{key:"optimize",value:function(){var t;if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var e=this.children.head.children.head.domNode,i={};Object.keys(u.c).forEach(function(t){var n=e.dataset[t.toLowerCase()];n&&(i[t]=n)}),this.wrap(this.statics.requiredContainer.blotName,i)}for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];(t=C(w(n.prototype),"optimize",this)).call.apply(t,[this].concat(r))}}]),n}(),D=function(t){O(n,M);var e=S(n);function n(){return y(this,n),e.apply(this,arguments)}return n}();D.blotName="tableBody",D.tagName=["TBODY"];var A=function(t){O(n,M);var e=S(n);function n(){return y(this,n),e.apply(this,arguments)}return n}();A.blotName="tableHeader",A.tagName=["THEAD"];var R=function(t){O(n,l["a"]);var e=S(n);function n(){return y(this,n),e.apply(this,arguments)}return b(n,[{key:"balanceCells",value:function(){var t=this.descendants(j),e=this.descendants(I),n=this.getMaxTableColCount(t,e);this.balanceRows(n,t,E),this.balanceRows(n,e,k)}},{key:"getMaxTableColCount",value:function(t,e){return Math.max(this.getMaxRowColCount(t),this.getMaxRowColCount(e))}},{key:"getMaxRowColCount",value:function(t){return Math.max.apply(Math,m(t.map(function(t){return t.children.length})))}},{key:"balanceRows",value:function(t,e,n){var i=this;e.forEach(function(e){new Array(t-e.children.length).fill(0).forEach(function(){var t;Object(c.a)(e.children.head)&&(t=n.formats(e.children.head.domNode));var o=i.scroll.create(n.blotName,t);e.appendChild(o),o.optimize()})})}},{key:"cells",value:function(t){return this.rows().map(function(e){return e.children.at(t)})}},{key:"deleteColumn",value:function(t){var e=this;[A,D].forEach(function(n){var i=f(e.descendants(n),1)[0];Object(c.a)(i)&&Object(c.a)(i.children.head)&&i.children.forEach(function(e){var n=e.children.at(t);Object(c.a)(n)&&n.remove()})})}},{key:"insertColumn",value:function(t){var e=this;[A,D].forEach(function(n){var i=f(e.descendants(n),1)[0];if(Object(c.a)(i)&&Object(c.a)(i.children.head)){var o=n===A?E:k;i.children.forEach(function(n){var i=n.children.at(t),r=o.formats(n.children.head.domNode),a=e.scroll.create(o.blotName,r);n.insertBefore(a,i)})}})}},{key:"insertRow",value:function(t){var e=this,n=f(this.descendants(D),1)[0];if(Object(c.a)(n)&&Object(c.a)(n.children.head)){var i=B(),o=this.scroll.create(I.blotName);n.children.head.children.forEach(function(){var t=e.scroll.create(k.blotName,i);o.appendChild(t)});var r=n.children.at(t);n.insertBefore(o,r)}}},{key:"insertHeaderRow",value:function(){var t=this,e=f(this.descendants(A),1)[0],n=f(this.descendants(D),1)[0];if(!Object(c.a)(e)&&Object(c.a)(n)&&Object(c.a)(n.children.head)){var i=B(),o=this.scroll.create(A.blotName),r=this.scroll.create(j.blotName),a=this.children.at(0);o.appendChild(r),n.children.head.children.forEach(function(){var e=t.scroll.create(E.blotName,i);r.appendChild(e),e.optimize()}),this.insertBefore(o,a)}}},{key:"rows",value:function(){var t=this.children.head;return Object(c.a)(t)?t.children.map(function(t){return t}):[]}},{key:"formats",value:function(){var t={},e=this.cells()[0].domNode;return Object.keys(u.c).forEach(function(n){var i=e.dataset[n.toLowerCase()];i&&(t[n]=i)}),t}},{key:"format",value:function(t,e){var n=u.c[t];if(n){var i="data-".concat(t.toLowerCase());this.cells().forEach(function(t){Object(d.a)(t.domNode,i,e)}),n.add(this.domNode,e)}}}],[{key:"create",value:function(t){var e=C(w(n),"create",this).call(this,t);return t&&Object.keys(t).forEach(function(n){var i;null===(i=u.c[n])||void 0===i||i.add(e,t[n])}),e}}]),n}();function B(){return"row-".concat(Object(h.a)())}R.blotName="tableContainer",R.tagName="TABLE",R.allowedChildren=[A,D],D.requiredContainer=R,A.requiredContainer=R,D.allowedChildren=[I],I.requiredContainer=D,I.allowedChildren=[k],k.requiredContainer=I,A.allowedChildren=[j],j.requiredContainer=A,j.allowedChildren=[E],E.requiredContainer=j;var L=n(26),N=n(54);function z(t){var e=t.quill,n=t.index,i=t.range,a=n-1,s=(new o.a).retain(a).insert("\n");e.updateContents(s,r.a.sources.USER),e.setSelection(i.index+1,i.length,r.a.sources.SILENT)}function F(t){var e=t.quill,n=t.index+t.table.length(),i=(new o.a).retain(n).insert("\n");e.updateContents(i,r.a.sources.USER),e.setSelection(n,r.a.sources.USER)}function H(t,e,n){return null==t.prev&&null==t.next?null==e.prev&&null==e.next?0===n?-1:1:null==e.prev?-1:1:null==t.prev?-1:null==t.next?1:null}var V=n(55),U=n(21);function W(t){return(W="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,o,r=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return $(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function G(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Z(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=Y(t);if(e){var o=Y(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===W(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var X=[null,null,null,-1],Q=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(l,a["a"]);var e,n,i,s=Z(l);function l(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=s.call.apply(s,[this].concat(n))).tableBlots=[k.blotName,E.blotName],t.tableBlots.forEach(function(e){t.quill.editor.addImmediateFormat(e)}),t.integrateClipboard(),t.addKeyboardHandlers(),t.listenBalanceCells(),t}return e=l,i=[{key:"register",value:function(){r.a.register(E,!0),r.a.register(k,!0),r.a.register(j,!0),r.a.register(I,!0),r.a.register(D,!0),r.a.register(A,!0),r.a.register(R,!0),[u.c,U.b].forEach(function(t){Object.keys(t).forEach(function(e){var n,i,o;r.a.register((n={},i="formats/".concat(e),o=t[e],i in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,n),!0)})})}}],(n=[{key:"integrateClipboard",value:function(){var t=this;this.tableBlots.forEach(function(e){return t.quill.clipboard.addTableBlot(e)}),this.quill.clipboard.addMatcher("tr",J),this.quill.clipboard.addMatcher("table",Object(V.a)(u.a)),this.quill.clipboard.addMatcher("td, th",Object(V.b)(U.a))}},{key:"addKeyboardHandlers",value:function(){var t=this,e=l.keyboardBindings;Object.keys(e).forEach(function(n){e[n]&&t.quill.keyboard.addBinding(e[n])})}},{key:"balanceTables",value:function(){this.quill.scroll.descendants(R).forEach(function(t){t.balanceCells()})}},{key:"deleteColumn",value:function(){var t=K(this.getTable(),3),e=t[0],n=t[2];Object(c.a)(n)&&(e.deleteColumn(n.cellOffset()),this.quill.update(r.a.sources.USER))}},{key:"deleteRow",value:function(){var t=K(this.getTable(),2)[1];Object(c.a)(t)&&(t.remove(),this.quill.update(r.a.sources.USER))}},{key:"deleteTable",value:function(){var t=K(this.getTable(),1)[0];if(Object(c.a)(t)){var e=t.offset();t.remove(),this.quill.update(r.a.sources.USER),this.quill.setSelection(e,r.a.sources.SILENT)}}},{key:"getTable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(!Object(c.a)(t))return X;var e=K(this.quill.getLine(t.index),2),n=e[0],i=e[1];if(!Object(c.a)(n)||-1===this.tableBlots.indexOf(n.statics.blotName))return X;var o=n.parent;return[o.parent.parent,o,n,i]}},{key:"insertColumn",value:function(t){var e=this.quill.getSelection(),n=K(this.getTable(e),3),i=n[0],o=n[1],a=n[2];if(Object(c.a)(a)){var s=a.cellOffset();i.insertColumn(s+t),this.quill.update(r.a.sources.USER);var l=o.rowOffset();0===t&&(l+=1),this.quill.setSelection(e.index+l,e.length,r.a.sources.SILENT)}}},{key:"insertColumnLeft",value:function(){this.insertColumn(0)}},{key:"insertColumnRight",value:function(){this.insertColumn(1)}},{key:"insertRow",value:function(t){var e=this.quill.getSelection(),n=K(this.getTable(e),3),i=n[0],o=n[1],a=n[2];if(Object(c.a)(a)){var s=o.rowOffset();i.insertRow(s+t),this.quill.update(r.a.sources.USER),t>0?this.quill.setSelection(e,r.a.sources.SILENT):this.quill.setSelection(e.index+o.children.length,e.length,r.a.sources.SILENT)}}},{key:"insertRowAbove",value:function(){this.insertRow(0)}},{key:"insertRowBelow",value:function(){this.insertRow(1)}},{key:"insertHeaderRow",value:function(){var t=this.quill.getSelection(),e=K(this.getTable(t),3),n=e[0],i=e[2];Object(c.a)(i)&&(n.insertHeaderRow(),this.quill.update(r.a.sources.USER))}},{key:"insertTable",value:function(t,e){var n=this.quill.getSelection();if(Object(c.a)(n)){var i=new Array(t).fill(0).reduce(function(t){var n=new Array(e).fill("\n").join("");return t.insert(n,{table:B()})},(new o.a).retain(n.index));this.quill.updateContents(i,r.a.sources.USER),this.quill.setSelection(n.index,r.a.sources.SILENT),this.balanceTables()}}},{key:"tableFormats",value:function(){return this.tableBlots}},{key:"listenBalanceCells",value:function(){var t=this;this.quill.on(r.a.events.SCROLL_OPTIMIZE,function(e){e.some(function(e){return-1!==["TD","TH","TR","TBODY","THEAD","TABLE"].indexOf(e.target.tagName)&&(t.quill.once(r.a.events.TEXT_CHANGE,function(e,n,i){i===r.a.sources.USER&&t.balanceTables()}),!0)})}),this.quill.on(r.a.events.CONTENT_SETTED,function(){t.quill.once(r.a.events.TEXT_CHANGE,function(){t.balanceTables()})})}}])&&G(e.prototype,n),i&&G(e,i),l}();function J(t,e){var n="TABLE"===t.parentNode.tagName?t.parentNode:t.parentNode.parentNode,i="THEAD"===t.parentNode.tagName||null,o=Array.from(n.querySelectorAll("tr")).indexOf(t)+1;return Object(L.a)(e,i?"tableHeaderCell":"table",o)}Q.keyboardBindings={"table backspace":{key:"backspace",format:["table","tableHeaderCell"],collapsed:!0,offset:0,handler:function(){}},"table delete":{key:"del",format:["table","tableHeaderCell"],collapsed:!0,suffix:/^$/,handler:function(){}},"table enter":{key:"enter",shiftKey:null,format:["table"],handler:function(t){var e=this.quill.getModule("table");if(e){var n=this.quill,i=K(e.getTable(t),4),o=i[0],r=H(i[1],i[2],i[3]),a=o.children.length>1&&o.children.head;if(null==r||r<0&&a)return;var s=o.offset();r<0?z({quill:n,index:s,range:t}):F({quill:n,index:s,table:o})}}},"table header enter":{key:"enter",shiftKey:null,format:["tableHeaderCell"],handler:function(t){var e=this.quill.getModule("table");if(e){var n=this.quill,i=K(e.getTable(t),4),o=i[0],r=H(i[1],i[2],i[3]);if(null==r)return;var a=o.offset(),s=o.children.length>1&&o.children.tail;r<0||r>0&&s?z({quill:n,index:a,range:t}):F({quill:n,index:a,table:o})}}},"table tab":{key:"tab",shiftKey:null,format:["table","tableHeaderCell"],handler:function(t,e){var n=e.event,i=e.line,o=i.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(o-1,r.a.sources.USER):this.quill.setSelection(o+i.length(),r.a.sources.USER)}},"table down":Object(N.a)(!1,["table","tableHeaderCell"]),"table up":Object(N.a)(!0,["table","tableHeaderCell"])};e.a=Q},function(t,e,n){"use strict";n.d(e,"a",function(){return j}),n.d(e,"b",function(){return D});var i=n(1),o=n.n(i),r=n(2),a=n(14),s=n(0),l=n(12),c=n(6),u=n(10),h=n(24),d=n(9),p=n(17),f=n(26),m=n(15);function g(t){return(g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,o,r=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function O(t,e,n){return e&&C(t.prototype,e),n&&C(t,n),t}function x(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=E(t);if(e){var o=E(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===g(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return P(t)}(this,n)}}function P(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k(t,e,n){return(k="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=E(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=new r.ClassAttributor("code-token","hljs",{scope:r.Scope.INLINE}),I=function(t){x(n,a["a"]);var e=w(n);function n(t,i,o){var r;return b(this,n),r=e.call(this,t,i,o),T.add(r.domNode,o),r}return O(n,[{key:"format",value:function(t,e){t!==n.blotName?k(E(n.prototype),"format",this).call(this,t,e):e?T.add(this.domNode,e):(T.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}},{key:"optimize",value:function(){for(var t,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];(t=k(E(n.prototype),"optimize",this)).call.apply(t,[this].concat(i)),T.value(this.domNode)||this.unwrap()}}],[{key:"formats",value:function(t,e){for(;null!=t&&t!==e.domNode;){if(t.classList&&t.classList.contains(p.c.className))return k(E(n),"formats",this).call(this,t,e);t=t.parentNode}}}]),n}();I.blotName="code-token",I.className="ql-token";var j=function(t){x(n,p["c"]);var e=w(n);function n(){return b(this,n),e.apply(this,arguments)}return O(n,[{key:"format",value:function(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-language",e):k(E(n.prototype),"format",this).call(this,t,e)}},{key:"replaceWith",value:function(t,e){return this.formatAt(0,this.length(),I.blotName,!1),k(E(n.prototype),"replaceWith",this).call(this,t,e)}}],[{key:"create",value:function(t){var e=k(E(n),"create",this).call(this,t);return"string"===typeof t&&e.setAttribute("data-language",t),e}},{key:"formats",value:function(t){return t.getAttribute("data-language")||"plain"}},{key:"register",value:function(){}}]),n}(),M=function(t){x(n,p["b"]);var e=w(n);function n(){return b(this,n),e.apply(this,arguments)}return O(n,[{key:"attach",value:function(){k(E(n.prototype),"attach",this).call(this),this.forceNext=!1,this.scroll.emitMount(this)}},{key:"format",value:function(t,e){t===j.blotName&&(this.forceNext=!0,this.children.forEach(function(n){n.format(t,e)}))}},{key:"formatAt",value:function(t,e,i,o){i===j.blotName&&(this.forceNext=!0),k(E(n.prototype),"formatAt",this).call(this,t,e,i,o)}},{key:"highlight",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=this.children.head){var i=Array.from(this.domNode.childNodes).filter(function(t){return t!==e.uiNode}),r="".concat(i.map(function(t){return t.textContent}).join("\n"),"\n"),a=j.formats(this.children.head.domNode);if(n||this.forceNext||this.cachedText!==r){if(r.trim().length>0||null==this.cachedText){var s=this.children.reduce(function(t,e){return t.concat(Object(c.b)(e,!1))},new o.a),l=t(r,a);s.diff(l).reduce(function(t,n){var i=n.retain,o=n.attributes;return i?(o&&Object.keys(o).forEach(function(n){-1!==[j.blotName,I.blotName].indexOf(n)&&e.formatAt(t,i,n,o[n])}),t+i):t},0)}this.cachedText=r,this.forceNext=!1}}}},{key:"html",value:function(t,e){var n=y(this.children.find(t),1)[0],i=n?j.formats(n.domNode):"plain";return'<pre data-language="'.concat(i,'">\n').concat(this.code(t,e),"\n</pre>")}},{key:"optimize",value:function(t){if(k(E(n.prototype),"optimize",this).call(this,t),null!=this.parent&&null!=this.children.head&&null!=this.uiNode){var e=j.formats(this.children.head.domNode);e!==this.uiNode.value&&(this.uiNode.value=e)}}}]),n}();M.allowedChildren=[j],j.requiredContainer=M,j.allowedChildren=[I,h.a,d.a,u.a];var D=function(t){x(n,l["a"]);var e=w(n);function n(t,i){var o;if(b(this,n),null==(o=e.call(this,t,i)).options.hljs)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");return o.languages=o.options.languages.reduce(function(t,e){return t[e.key]=!0,t},{}),o.highlightBlot=o.highlightBlot.bind(P(o)),o.initListener(),o.initTimer(),o}return O(n,[{key:"initListener",value:function(){var t=this;this.quill.on(s.a.events.SCROLL_BLOT_MOUNT,function(e){if(e instanceof M){var n=t.quill.root.ownerDocument.createElement("select");t.options.languages.forEach(function(t){var e=t.key,i=t.label,o=n.ownerDocument.createElement("option");o.textContent=i,o.setAttribute("value",e),n.appendChild(o)}),n.addEventListener("change",function(){e.format(j.blotName,n.value),t.quill.root.focus(),t.highlight(e,!0)}),null==e.uiNode&&(e.attachUI(n),e.children.head&&(n.value=j.formats(e.children.head.domNode)))}})}},{key:"initTimer",value:function(){var t=this,e=null;this.quill.on(s.a.events.SCROLL_OPTIMIZE,function(){clearTimeout(e),e=setTimeout(function(){t.highlight(),e=null},t.options.interval)})}},{key:"highlight",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.quill.selection.composing){this.quill.update(s.a.sources.USER);var i=this.quill.getSelection();(null==e?this.quill.scroll.descendants(M):[e]).forEach(function(e){e.highlight(t.highlightBlot,n)}),this.quill.update(s.a.sources.SILENT),null!=i&&this.quill.setSelection(i,s.a.sources.SILENT)}}},{key:"highlightBlot",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plain";if("plain"===(e=this.languages[e]?e:"plain"))return Object(d.b)(t).split("\n").reduce(function(t,n,i){return 0!==i&&t.insert("\n",v({},p.c.blotName,e)),t.insert(n)},new o.a);var n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(p.c.className),n.innerHTML=this.options.hljs.highlight(e,t).value,Object(f.d)(this.quill.scroll,n,[function(t,e){var n=T.value(t);return n?e.compose((new o.a).retain(e.length(),v({},I.blotName,n))):e}],[function(t,n){return t.data.split("\n").reduce(function(t,n,i){return 0!==i&&t.insert("\n",v({},p.c.blotName,e)),t.insert(n)},n)}],new WeakMap)}}],[{key:"register",value:function(){s.a.register(I,!0),s.a.register(j,!0),s.a.register(M,!0)}}]),n}();D.DEFAULTS={hljs:Object(m.a)()?window.hljs:null,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"Javascript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){var e=+t;return e!==e||0===e?0:(e>0?i:n)(e)}},function(t,e,n){var i=n(8),o=n(79),r=i.String;t.exports=function(t){if("Symbol"===o(t))throw TypeError("Cannot convert a Symbol value to a string");return r(t)}},function(t,e,n){var i=n(8),o=n(126),r=n(22),a=n(82),s=n(28)("toStringTag"),l=i.Object,c="Arguments"==a(function(){return arguments}());t.exports=o?a:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(n){}}(e=l(t),s))?n:c?a(e):"Object"==(i=a(e))&&r(e.callee)?"Arguments":i}},function(t,e,n){var i=n(8),o=n(81),r=i["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=r},function(t,e,n){var i=n(8),o=Object.defineProperty;t.exports=function(t,e){try{o(i,t,{value:e,configurable:!0,writable:!0})}catch(n){i[t]=e}return e}},function(t,e,n){var i=n(20),o=i({}.toString),r=i("".slice);t.exports=function(t){return r(o(t),8,-1)}},function(t,e,n){var i=n(20),o=n(22),r=n(80),a=i(Function.toString);o(r.inspectSource)||(r.inspectSource=function(t){return a(t)}),t.exports=r.inspectSource},function(t,e,n){var i=n(130),o=n(103);t.exports=function(t){var e=i(t,"string");return o(e)?e:e+""}},function(t,e,n){var i=n(86);t.exports=function(t,e){var n=t[e];return null==n?void 0:i(n)}},function(t,e,n){var i=n(8),o=n(22),r=n(104),a=i.TypeError;t.exports=function(t){if(o(t))return t;throw a(r(t)+" is not a function")}},function(t,e,n){var i=n(96),o=n(97),r=i("keys");t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e){t.exports={}},function(t,e,n){var i=n(41),o=n(42),r=n(105),a=n(71),s=n(62),l=n(84),c=n(36),u=n(101),h=Object.getOwnPropertyDescriptor;e.f=i?h:function(t,e){if(t=s(t),e=l(e),u)try{return h(t,e)}catch(n){}if(c(t,e))return a(!o(r.f,t,e),t[e])}},function(t,e,n){var i=n(8),o=n(22),r=n(36),a=n(70),s=n(81),l=n(83),c=n(100),u=n(106).CONFIGURABLE,h=c.get,d=c.enforce,p=String(String).split("String");(t.exports=function(t,e,n,l){var c,h=!!l&&!!l.unsafe,f=!!l&&!!l.enumerable,m=!!l&&!!l.noTargetGet,g=l&&void 0!==l.name?l.name:e;o(n)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!r(n,"name")||u&&n.name!==g)&&a(n,"name",g),(c=d(n)).source||(c.source=p.join("string"==typeof g?g:""))),t!==i?(h?!m&&t[e]&&(f=!0):delete t[e],f?t[e]=n:a(t,e,n)):f?t[e]=n:s(e,n)})(Function.prototype,"toString",function(){return o(this)&&h(this).source||l(this)})},function(t,e,n){var i=n(109);t.exports=function(t){return i(t.length)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var i,o=n(40),r=n(142),a=n(92),s=n(88),l=n(143),c=n(102),u=n(87),h=u("IE_PROTO"),d=function(){},p=function(t){return"<script>"+t+"<\/script>"},f=function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e},m=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}m="undefined"!=typeof document?document.domain&&i?f(i):function(){var t,e=c("iframe");return e.style.display="none",l.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F}():f(i);for(var t=a.length;t--;)delete m.prototype[a[t]];return m()};s[h]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(d.prototype=o(t),n=new d,d.prototype=null,n[h]=t):n=m(),void 0===e?n:r(n,e)}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o,r=i(n(120));!function(t){t.iterator=function(t){return new r.default(t)},t.length=function(t){return"number"===typeof t.delete?t.delete:"number"===typeof t.retain?t.retain:"string"===typeof t.insert?t.insert.length:1}}(o||(o={})),e.default=o},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function o(){}function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(t,e,n,o,a){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new r(n,o||t,a),l=i?i+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],s]:t._events[l].push(s):(t._events[l]=s,t._eventsCount++),t}function s(t,e){0===--t._eventsCount?t._events=new o:delete t._events[e]}function l(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),l.prototype.eventNames=function(){var t,e,o=[];if(0===this._eventsCount)return o;for(e in t=this._events)n.call(t,e)&&o.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},l.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,r=n.length,a=new Array(r);o<r;o++)a[o]=n[o].fn;return a},l.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},l.prototype.emit=function(t,e,n,o,r,a){var s=i?i+t:t;if(!this._events[s])return!1;var l,c,u=this._events[s],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,n),!0;case 4:return u.fn.call(u.context,e,n,o),!0;case 5:return u.fn.call(u.context,e,n,o,r),!0;case 6:return u.fn.call(u.context,e,n,o,r,a),!0}for(c=1,l=new Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var d,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,n);break;case 4:u[c].fn.call(u[c].context,e,n,o);break;default:if(!l)for(d=1,l=new Array(h-1);d<h;d++)l[d-1]=arguments[d];u[c].fn.apply(u[c].context,l)}}return!0},l.prototype.on=function(t,e,n){return a(this,t,e,n,!1)},l.prototype.once=function(t,e,n){return a(this,t,e,n,!0)},l.prototype.removeListener=function(t,e,n,o){var r=i?i+t:t;if(!this._events[r])return this;if(!e)return s(this,r),this;var a=this._events[r];if(a.fn)a.fn!==e||o&&!a.once||n&&a.context!==n||s(this,r);else{for(var l=0,c=[],u=a.length;l<u;l++)(a[l].fn!==e||o&&!a[l].once||n&&a[l].context!==n)&&c.push(a[l]);c.length?this._events[r]=1===c.length?c[0]:c:s(this,r)}return this},l.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&s(this,e)):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,"undefined"!==typeof t&&(t.exports=l)},function(t,e,n){var i=n(67),o=n(80);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.1",mode:i?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var i=n(20),o=0,r=Math.random(),a=i(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++o+r,36)}},function(t,e,n){var i=n(127),o=n(39);t.exports=!!Object.getOwnPropertySymbols&&!o(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41})},function(t,e,n){var i=n(98);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var i,o,r,a=n(129),s=n(8),l=n(20),c=n(51),u=n(70),h=n(36),d=n(80),p=n(87),f=n(88),m=s.TypeError,g=s.WeakMap;if(a||d.state){var v=d.state||(d.state=new g),y=l(v.get),_=l(v.has),b=l(v.set);i=function(t,e){if(_(v,t))throw new m("Object already initialized");return e.facade=t,b(v,t,e),e},o=function(t){return y(v,t)||{}},r=function(t){return _(v,t)}}else{var C=p("state");f[C]=!0,i=function(t,e){if(h(t,C))throw new m("Object already initialized");return e.facade=t,u(t,C,e),e},o=function(t){return h(t,C)?t[C]:{}},r=function(t){return h(t,C)}}t.exports={set:i,get:o,has:r,enforce:function(t){return r(t)?o(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw m("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var i=n(41),o=n(39),r=n(102);t.exports=!i&&!o(function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(8),o=n(51),r=i.document,a=o(r)&&o(r.createElement);t.exports=function(t){return a?r.createElement(t):{}}},function(t,e,n){var i=n(8),o=n(60),r=n(22),a=n(131),s=n(99),l=i.Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=o("Symbol");return r(e)&&a(e.prototype,l(t))}},function(t,e,n){var i=n(8).String;t.exports=function(t){try{return i(t)}catch(e){return"Object"}}},function(t,e,n){"use strict";var i={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,r=o&&!i.call({1:2},1);e.f=r?function(t){var e=o(this,t);return!!e&&e.enumerable}:i},function(t,e,n){var i=n(41),o=n(36),r=Function.prototype,a=i&&Object.getOwnPropertyDescriptor,s=o(r,"name"),l=s&&"something"===function(){}.name,c=s&&(!i||i&&a(r,"name").configurable);t.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},function(t,e,n){var i=n(20),o=n(36),r=n(62),a=n(138).indexOf,s=n(88),l=i([].push);t.exports=function(t,e){var n,i=r(t),c=0,u=[];for(n in i)!o(s,n)&&o(i,n)&&l(u,n);for(;e.length>c;)o(i,n=e[c++])&&(~a(u,n)||l(u,n));return u}},function(t,e,n){var i=n(77),o=Math.max,r=Math.min;t.exports=function(t,e){var n=i(t);return n<0?o(n+e,0):r(n,e)}},function(t,e,n){var i=n(77),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},function(t,e,n){"use strict";var i,o,r,a=n(39),s=n(22),l=n(93),c=n(112),u=n(90),h=n(28),d=n(67),p=h("iterator"),f=!1;[].keys&&("next"in(r=[].keys())?(o=c(c(r)))!==Object.prototype&&(i=o):f=!0),void 0==i||a(function(){var t={};return i[p].call(t)!==t})?i={}:d&&(i=l(i)),s(i[p])||u(i,p,function(){return this}),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:f}},function(t,e,n){var i=n(107),o=n(92);t.exports=Object.keys||function(t){return i(t,o)}},function(t,e,n){var i=n(8),o=n(36),r=n(22),a=n(68),s=n(87),l=n(144),c=s("IE_PROTO"),u=i.Object,h=u.prototype;t.exports=l?u.getPrototypeOf:function(t){var e=a(t);if(o(e,c))return e[c];var n=e.constructor;return r(n)&&e instanceof n?n.prototype:e instanceof u?h:null}},function(t,e,n){var i=n(52).f,o=n(36),r=n(28)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,r)&&i(t,r,{configurable:!0,value:e})}},function(t,e,n){var i=n(79),o=n(85),r=n(72),a=n(28)("iterator");t.exports=function(t){if(void 0!=t)return o(t,a)||o(t,"@@iterator")||r[i(t)]}},function(t,e,n){var i=n(8);t.exports=i},function(t,e,n){var i=n(8),o=n(20);t.exports=function(t,e){return o(i[t].prototype[e])}},function(t,e,n){"use strict";n.r(e);n(121),n(157),n(163),n(168);var i=n(25),o=n(38),r=n(35),a=n(2);function s(t){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return(c="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=d(t);if(e){var o=d(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=new(function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(r,a["ClassAttributor"]);var e,n,i,o=h(r);function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return e=r,(n=[{key:"add",value:function(t,e){if("+1"===e||"-1"===e){var n=this.value(t)||0;e="+1"===e?n+1:n-1}return 0===e?(this.remove(t),!0):c(d(r.prototype),"add",this).call(this,t,e)}},{key:"canAdd",value:function(t,e){return c(d(r.prototype),"canAdd",this).call(this,t,e)||c(d(r.prototype),"canAdd",this).call(this,t,parseInt(e,10))}},{key:"value",value:function(t){return parseInt(c(d(r.prototype),"value",this).call(this,t),10)||void 0}}])&&l(e.prototype,n),i&&l(e,i),r}())("indent","ql-indent",{scope:a.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),f=n(6);function m(t){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===m(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(n,f["d"]);var e=v(n);function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e.apply(this,arguments)}return n}();_.blotName="blockquote",_.tagName="blockquote";var b=_;function C(t){return(C="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=w(t);if(e){var o=w(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===C(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(r,f["d"]);var e,n,i,o=S(r);function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return e=r,i=[{key:"formats",value:function(t){return this.tagName.indexOf(t.tagName)+1}}],(n=null)&&O(e.prototype,n),i&&O(e,i),r}();P.blotName="header",P.tagName=["H1","H2","H3","H4","H5","H6"];var k=P,E=n(13),T=n(0);function I(t){return(I="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function M(t,e,n){return(M="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=L(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function D(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&R(t,e)}function R(t,e){return(R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function B(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=L(t);if(e){var o=L(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===I(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var N=function(t){A(n,E["a"]);var e=B(n);function n(){return D(this,n),e.apply(this,arguments)}return n}();N.blotName="list-container",N.tagName="OL";var z=function(t){A(r,f["d"]);var e,n,i,o=B(r);function r(t,e){var n;D(this,r),n=o.call(this,t,e);var i=e.ownerDocument.createElement("span"),a=function(i){if(t.isEnabled()){var o=n.statics.formats(e,t);"checked"===o?(n.format("list","unchecked"),i.preventDefault()):"unchecked"===o&&(n.format("list","checked"),i.preventDefault())}};return i.addEventListener("mousedown",a),i.addEventListener("touchstart",a),n.attachUI(i),n}return e=r,i=[{key:"create",value:function(t){var e=M(L(r),"create",this).call(this);return e.setAttribute("data-list",t),e}},{key:"formats",value:function(t){return t.getAttribute("data-list")||void 0}},{key:"register",value:function(){T.a.register(N)}}],(n=[{key:"format",value:function(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-list",e):M(L(r.prototype),"format",this).call(this,t,e)}}])&&j(e.prototype,n),i&&j(e,i),r}();z.blotName="list",z.tagName="LI",N.allowedChildren=[z],z.requiredContainer=N;var F=n(45),H=n(34),V=n(46),U=n(47),W=n(49);function K(t){return(K="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,e){return($=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function G(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=q(t);if(e){var o=q(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===K(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Z=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$(t,e)}(n,W["a"]);var e=G(n);function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e.apply(this,arguments)}return n}();Z.blotName="italic",Z.tagName=["EM","I"];var Y=Z,X=n(43),Q=n(14);function J(t){return(J="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function et(t,e,n){return(et="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ot(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function nt(t,e){return(nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function it(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=ot(t);if(e){var o=ot(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===J(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rt=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(r,Q["a"]);var e,n,i,o=it(r);function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return e=r,i=[{key:"create",value:function(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):et(ot(r),"create",this).call(this,t)}},{key:"formats",value:function(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}],(n=null)&&tt(e.prototype,n),i&&tt(e,i),r}();rt.blotName="script",rt.tagName=["SUB","SUP"];var at=rt;function st(t){return(st="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lt(t,e){return(lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ct(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=ut(t);if(e){var o=ut(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===st(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function ut(t){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ht=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lt(t,e)}(n,W["a"]);var e=ct(n);function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e.apply(this,arguments)}return n}();ht.blotName="strike",ht.tagName=["S","STRIKE"];var dt=ht;function pt(t){return(pt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(t,e){return(ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=gt(t);if(e){var o=gt(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===pt(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vt=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ft(t,e)}(n,Q["a"]);var e=mt(n);function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e.apply(this,arguments)}return n}();vt.blotName="underline",vt.tagName="U";var yt=vt,_t=n(56),bt=n(15);function Ct(t){return(Ct="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ot(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function xt(t,e,n){return(xt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Pt(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function St(t,e){return(St=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=Pt(t);if(e){var o=Pt(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Ct(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Pt(t){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var kt=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&St(t,e)}(r,_t["a"]);var e,n,i,o=wt(r);function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return e=r,i=[{key:"create",value:function(t){var e=null;if(Object(bt.a)()&&(e=window.katex),null==e)throw new Error("Formula module requires KaTeX.");var n=xt(Pt(r),"create",this).call(this,t);return"string"===typeof t&&(e.render(t,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",t)),n}},{key:"value",value:function(t){return t.getAttribute("data-value")}}],(n=[{key:"html",value:function(){var t=this.value().formula;return"<span>".concat(t,"</span>")}}])&&Ot(e.prototype,n),i&&Ot(e,i),r}();kt.blotName="formula",kt.className="ql-formula",kt.tagName="SPAN";var Et=kt;function Tt(t){return(Tt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function It(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function jt(t,e,n){return(jt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=At(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Mt(t,e){return(Mt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Dt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=At(t);if(e){var o=At(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Tt(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function At(t){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rt=["alt","height","width"],Bt=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mt(t,e)}(r,a["EmbedBlot"]);var e,n,i,o=Dt(r);function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return e=r,i=[{key:"create",value:function(t){var e=jt(At(r),"create",this).call(this,t);return"string"===typeof t&&e.setAttribute("src",this.sanitize(t)),e}},{key:"formats",value:function(t){return Rt.reduce(function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e},{})}},{key:"match",value:function(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}},{key:"register",value:function(){Object(bt.a)()&&/Firefox/i.test(navigator.userAgent)&&setTimeout(function(){document.execCommand("enableObjectResizing",!1,!1)},1)}},{key:"sanitize",value:function(t){return Object(X.b)(t,["http","https","data"])?t:"//:0"}},{key:"value",value:function(t){return t.getAttribute("src")}}],(n=[{key:"format",value:function(t,e){Rt.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):jt(At(r.prototype),"format",this).call(this,t,e)}}])&&It(e.prototype,n),i&&It(e,i),r}();Bt.blotName="image",Bt.tagName="IMG";var Lt=Bt;function Nt(t){return(Nt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ft(t,e,n){return(Ft="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ut(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ht(t,e){return(Ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=Ut(t);if(e){var o=Ut(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Nt(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Ut(t){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wt=["height","width"],Kt=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ht(t,e)}(r,f["a"]);var e,n,i,o=Vt(r);function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return e=r,i=[{key:"create",value:function(t){var e=Ft(Ut(r),"create",this).call(this,t);return e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen",!0),e.setAttribute("src",this.sanitize(t)),e}},{key:"formats",value:function(t){return Wt.reduce(function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e},{})}},{key:"sanitize",value:function(t){return X.a.sanitize(t)}},{key:"value",value:function(t){return t.getAttribute("src")}}],(n=[{key:"format",value:function(t,e){Wt.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):Ft(Ut(r.prototype),"format",this).call(this,t,e)}},{key:"html",value:function(){var t=this.value().video;return'<a href="'.concat(t,'">').concat(t,"</a>")}}])&&zt(e.prototype,n),i&&zt(e,i),r}();Kt.blotName="video",Kt.className="ql-video",Kt.tagName="IFRAME";var $t=Kt,Gt=n(17),qt=n(76),Zt=n(65),Yt=n(1),Xt=n.n(Yt);function Qt(t){return(Qt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function te(t,e){return(te=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ee(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=ne(t);if(e){var o=ne(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Qt(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function ne(t){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ie=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&te(t,e)}(r,a["EmbedBlot"]);var e,n,i,o=ee(r);function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return e=r,i=[{key:"value",value:function(){return"\n"}}],(n=[{key:"length",value:function(){return 1}},{key:"value",value:function(){return"\n"}},{key:"optimize",value:function(){this.prev||this.next||this.remove()}}])&&Jt(e.prototype,n),i&&Jt(e,i),r}();ie.blotName="multilineBreak",ie.tagName="BR";var oe=ie,re=n(12);function ae(t){return(ae="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function se(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function le(t,e){return(le=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ce(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=he(t);if(e){var o=he(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===ae(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ue(t)}(this,n)}}function ue(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function he(t){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function de(t){return t.nextSibling||t.previousSibling?(new Xt.a).insert({multilineBreak:""}):(new Xt.a).insert("\n")}var pe=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&le(t,e)}(r,re["a"]);var e,n,i,o=ce(r);function r(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var i,a,s;return n=o.call(this,t,e),T.a.register((s=oe,(a="blots/multilineBreak")in(i={})?Object.defineProperty(i,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[a]=s,i),!0),t.keyboard.addBinding({key:"enter",shiftKey:!0},n.enterHandler.bind(ue(n))),t.keyboard.bindings.enter.unshift(t.keyboard.bindings.enter.pop()),t.clipboard.addMatcher("BR",de),n}return e=r,(n=[{key:"enterHandler",value:function(t){var e=this.quill.getLeaf(t.index)[0],n=this.quill.getLeaf(t.index+1)[0];this.quill.insertEmbed(t.index,"multilineBreak",!0,"user"),null!==n&&e.parent===n.parent||this.quill.insertEmbed(t.index,"multilineBreak",!0,"user"),this.quill.setSelection(t.index+1,T.a.sources.SILENT)}}])&&se(e.prototype,n),i&&se(e,i),r}(),fe=n(75),me=n(21),ge=n(11);function ve(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function ye(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ve(Object(n),!0).forEach(function(e){_e(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function be(t,e){return e.reduce(function(e,n){return e["".concat(t).concat(n.attrName)]=n,e},{})}i.default.register(ye(ye(ye(ye({"attributors/attribute/direction":r.a},be("attributors/attribute/",ge.b)),be("attributors/attribute/",me.c)),{},{"attributors/class/align":o.b,"attributors/class/background":F.a,"attributors/class/color":H.b,"attributors/class/direction":r.b,"attributors/class/font":V.a,"attributors/class/size":U.a,"attributors/style/align":o.c,"attributors/style/background":F.b,"attributors/style/color":H.c,"attributors/style/direction":r.c,"attributors/style/font":V.b,"attributors/style/size":U.b},be("attributors/style/",ge.d)),be("attributors/style/",me.d)),!0),i.default.register({"formats/align":o.b,"formats/direction":r.b,"formats/indent":p,"formats/background":F.b,"formats/color":H.c,"formats/font":V.a,"formats/size":U.a,"formats/blockquote":b,"formats/code-block":Gt.c,"formats/header":k,"formats/list":z,"formats/bold":W.a,"formats/code":Gt.a,"formats/italic":Y,"formats/link":X.a,"formats/script":at,"formats/strike":dt,"formats/underline":yt,"formats/formula":Et,"formats/image":Lt,"formats/video":$t,"tableModules/lite":fe.a,"tableModules/main":Zt.a,"modules/syntax":qt.b,"modules/multiline":pe,"modules/table":Zt.a},!0);e.default=i.default},function(t,e){var n=-1,i=1,o=0;function r(t,e,c,u){if(t===e)return t?[[o,t]]:[];if(null!=c){var f=function(t,e,n){var i="number"===typeof n?{index:n,length:0}:n.oldRange,o="number"===typeof n?null:n.newRange,r=t.length,a=e.length;if(0===i.length&&(null===o||0===o.length)){var s=i.index,l=t.slice(0,s),c=t.slice(s),u=o?o.index:null,h=s+a-r;if((null===u||u===h)&&!(h<0||h>a)){var d=e.slice(0,h),f=e.slice(h);if(f===c){var m=Math.min(s,h),g=l.slice(0,m),v=d.slice(0,m);if(g===v){var y=l.slice(m),_=d.slice(m);return p(g,y,_,c)}}}if(null===u||u===s){var b=s,d=e.slice(0,b),f=e.slice(b);if(d===l){var C=Math.min(r-b,a-b),O=c.slice(c.length-C),x=f.slice(f.length-C);if(O===x){var y=c.slice(0,c.length-C),_=f.slice(0,f.length-C);return p(l,y,_,O)}}}}if(i.length>0&&o&&0===o.length){var g=t.slice(0,i.index),O=t.slice(i.index+i.length),m=g.length,C=O.length;if(!(a<m+C)){var v=e.slice(0,m),x=e.slice(a-C);if(g===v&&O===x){var y=t.slice(m,r-C),_=e.slice(m,a-C);return p(g,y,_,O)}}}return null}(t,e,c);if(f)return f}var m=s(t,e),g=t.substring(0,m);m=l(t=t.substring(m),e=e.substring(m));var v=t.substring(t.length-m),y=function(t,e){var c;if(!t)return[[i,e]];if(!e)return[[n,t]];var u=t.length>e.length?t:e,h=t.length>e.length?e:t,d=u.indexOf(h);if(-1!==d)return c=[[i,u.substring(0,d)],[o,h],[i,u.substring(d+h.length)]],t.length>e.length&&(c[0][0]=c[2][0]=n),c;if(1===h.length)return[[n,t],[i,e]];var p=function(t,e){var n=t.length>e.length?t:e,i=t.length>e.length?e:t;if(n.length<4||2*i.length<n.length)return null;function o(t,e,n){for(var i,o,r,a,c=t.substring(n,n+Math.floor(t.length/4)),u=-1,h="";-1!==(u=e.indexOf(c,u+1));){var d=s(t.substring(n),e.substring(u)),p=l(t.substring(0,n),e.substring(0,u));h.length<p+d&&(h=e.substring(u-p,u)+e.substring(u,u+d),i=t.substring(0,n-p),o=t.substring(n+d),r=e.substring(0,u-p),a=e.substring(u+d))}return 2*h.length>=t.length?[i,o,r,a,h]:null}var r,a,c,u,h,d=o(n,i,Math.ceil(n.length/4)),p=o(n,i,Math.ceil(n.length/2));if(!d&&!p)return null;r=p?d&&d[4].length>p[4].length?d:p:d;t.length>e.length?(a=r[0],c=r[1],u=r[2],h=r[3]):(u=r[0],h=r[1],a=r[2],c=r[3]);var f=r[4];return[a,c,u,h,f]}(t,e);if(p){var f=p[0],m=p[1],g=p[2],v=p[3],y=p[4],_=r(f,g),b=r(m,v);return _.concat([[o,y]],b)}return function(t,e){for(var o=t.length,r=e.length,s=Math.ceil((o+r)/2),l=s,c=2*s,u=new Array(c),h=new Array(c),d=0;d<c;d++)u[d]=-1,h[d]=-1;u[l+1]=0,h[l+1]=0;for(var p=o-r,f=p%2!==0,m=0,g=0,v=0,y=0,_=0;_<s;_++){for(var b=-_+m;b<=_-g;b+=2){for(var C=l+b,O=(k=b===-_||b!==_&&u[C-1]<u[C+1]?u[C+1]:u[C-1]+1)-b;k<o&&O<r&&t.charAt(k)===e.charAt(O);)k++,O++;if(u[C]=k,k>o)g+=2;else if(O>r)m+=2;else if(f){var x=l+p-b;if(x>=0&&x<c&&-1!==h[x]){var S=o-h[x];if(k>=S)return a(t,e,k,O)}}}for(var w=-_+v;w<=_-y;w+=2){for(var x=l+w,P=(S=w===-_||w!==_&&h[x-1]<h[x+1]?h[x+1]:h[x-1]+1)-w;S<o&&P<r&&t.charAt(o-S-1)===e.charAt(r-P-1);)S++,P++;if(h[x]=S,S>o)y+=2;else if(P>r)v+=2;else if(!f){var C=l+p-w;if(C>=0&&C<c&&-1!==u[C]){var k=u[C],O=l+k-C;if(k>=(S=o-S))return a(t,e,k,O)}}}}return[[n,t],[i,e]]}(t,e)}(t=t.substring(0,t.length-m),e=e.substring(0,e.length-m));return g&&y.unshift([o,g]),v&&y.push([o,v]),function t(e,r){e.push([o,""]);var a=0;var c=0;var u=0;var p="";var f="";var m;for(;a<e.length;)if(a<e.length-1&&!e[a][1])e.splice(a,1);else switch(e[a][0]){case i:u++,f+=e[a][1],a++;break;case n:c++,p+=e[a][1],a++;break;case o:var g=a-u-c-1;if(r){if(g>=0&&d(e[g][1])){var v=e[g][1].slice(-1);if(e[g][1]=e[g][1].slice(0,-1),p=v+p,f=v+f,!e[g][1]){e.splice(g,1),a--;var y=g-1;e[y]&&e[y][0]===i&&(u++,f=e[y][1]+f,y--),e[y]&&e[y][0]===n&&(c++,p=e[y][1]+p,y--),g=y}}if(h(e[a][1])){var v=e[a][1].charAt(0);e[a][1]=e[a][1].slice(1),p+=v,f+=v}}if(a<e.length-1&&!e[a][1]){e.splice(a,1);break}if(p.length>0||f.length>0){p.length>0&&f.length>0&&(0!==(m=s(f,p))&&(g>=0?e[g][1]+=f.substring(0,m):(e.splice(0,0,[o,f.substring(0,m)]),a++),f=f.substring(m),p=p.substring(m)),0!==(m=l(f,p))&&(e[a][1]=f.substring(f.length-m)+e[a][1],f=f.substring(0,f.length-m),p=p.substring(0,p.length-m)));var _=u+c;0===p.length&&0===f.length?(e.splice(a-_,_),a-=_):0===p.length?(e.splice(a-_,_,[i,f]),a=a-_+1):0===f.length?(e.splice(a-_,_,[n,p]),a=a-_+1):(e.splice(a-_,_,[n,p],[i,f]),a=a-_+2)}0!==a&&e[a-1][0]===o?(e[a-1][1]+=e[a][1],e.splice(a,1)):a++,u=0,c=0,p="",f=""}""===e[e.length-1][1]&&e.pop();var b=!1;a=1;for(;a<e.length-1;)e[a-1][0]===o&&e[a+1][0]===o&&(e[a][1].substring(e[a][1].length-e[a-1][1].length)===e[a-1][1]?(e[a][1]=e[a-1][1]+e[a][1].substring(0,e[a][1].length-e[a-1][1].length),e[a+1][1]=e[a-1][1]+e[a+1][1],e.splice(a-1,1),b=!0):e[a][1].substring(0,e[a+1][1].length)==e[a+1][1]&&(e[a-1][1]+=e[a+1][1],e[a][1]=e[a][1].substring(e[a+1][1].length)+e[a+1][1],e.splice(a+1,1),b=!0)),a++;b&&t(e,r)}(y,u),y}function a(t,e,n,i){var o=t.substring(0,n),a=e.substring(0,i),s=t.substring(n),l=e.substring(i),c=r(o,a),u=r(s,l);return c.concat(u)}function s(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,i=Math.min(t.length,e.length),o=i,r=0;n<o;)t.substring(r,o)==e.substring(r,o)?r=n=o:i=o,o=Math.floor((i-n)/2+n);return c(t.charCodeAt(o-1))&&o--,o}function l(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,i=Math.min(t.length,e.length),o=i,r=0;n<o;)t.substring(t.length-o,t.length-r)==e.substring(e.length-o,e.length-r)?r=n=o:i=o,o=Math.floor((i-n)/2+n);return u(t.charCodeAt(t.length-o))&&o--,o}function c(t){return t>=55296&&t<=56319}function u(t){return t>=56320&&t<=57343}function h(t){return u(t.charCodeAt(0))}function d(t){return c(t.charCodeAt(t.length-1))}function p(t,e,r,a){return d(t)||h(a)?null:function(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}([[o,t],[n,e],[i,r],[o,a]])}function f(t,e,n){return r(t,e,n,!0)}f.INSERT=i,f.DELETE=n,f.EQUAL=o,t.exports=f},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o,r=i(n(16)),a=i(n(30));!function(t){t.compose=function(t,e,n){void 0===t&&(t={}),void 0===e&&(e={}),"object"!==typeof t&&(t={}),"object"!==typeof e&&(e={});var i=r.default(e);for(var o in n||(i=Object.keys(i).reduce(function(t,e){return null!=i[e]&&(t[e]=i[e]),t},{})),t)void 0!==t[o]&&void 0===e[o]&&(i[o]=t[o]);return Object.keys(i).length>0?i:void 0},t.diff=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),"object"!==typeof t&&(t={}),"object"!==typeof e&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce(function(n,i){return a.default(t[i],e[i])||(n[i]=void 0===e[i]?null:e[i]),n},{});return Object.keys(n).length>0?n:void 0},t.invert=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),t=t||{};var n=Object.keys(e).reduce(function(n,i){return e[i]!==t[i]&&void 0!==t[i]&&(n[i]=e[i]),n},{});return Object.keys(t).reduce(function(n,i){return t[i]!==e[i]&&void 0===e[i]&&(n[i]=null),n},n)},t.transform=function(t,e,n){if(void 0===n&&(n=!1),"object"!==typeof t)return e;if("object"===typeof e){if(!n)return e;var i=Object.keys(e).reduce(function(n,i){return void 0===t[i]&&(n[i]=e[i]),n},{});return Object.keys(i).length>0?i:void 0}}}(o||(o={})),e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(94)),r=function(){function t(t){this.ops=t,this.index=0,this.offset=0}return t.prototype.hasNext=function(){return this.peekLength()<1/0},t.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,i=o.default.length(e);if(t>=i-n?(t=i-n,this.index+=1,this.offset=0):this.offset+=t,"number"===typeof e.delete)return{delete:t};var r={};return e.attributes&&(r.attributes=e.attributes),"number"===typeof e.retain?r.retain=t:"string"===typeof e.insert?r.insert=e.insert.substr(n,t):r.insert=e.insert,r}return{retain:1/0}},t.prototype.peek=function(){return this.ops[this.index]},t.prototype.peekLength=function(){return this.ops[this.index]?o.default.length(this.ops[this.index])-this.offset:1/0},t.prototype.peekType=function(){return this.ops[this.index]?"number"===typeof this.ops[this.index].delete?"delete":"number"===typeof this.ops[this.index].retain?"retain":"insert":"retain"},t.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),i=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(i)}return[]},t}();e.default=r},function(t,e,n){var i=n(122);t.exports=i},function(t,e,n){var i=n(123);t.exports=i},function(t,e,n){n(124),n(147);var i=n(115);t.exports=i.Array.from},function(t,e,n){"use strict";var i=n(125).charAt,o=n(78),r=n(100),a=n(133),s=r.set,l=r.getterFor("String Iterator");a(String,"String",function(t){s(this,{type:"String Iterator",string:o(t),index:0})},function(){var t,e=l(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=i(n,o),e.index+=t.length,{value:t,done:!1})})},function(t,e,n){var i=n(20),o=n(77),r=n(78),a=n(69),s=i("".charAt),l=i("".charCodeAt),c=i("".slice),u=function(t){return function(e,n){var i,u,h=r(a(e)),d=o(n),p=h.length;return d<0||d>=p?t?"":void 0:(i=l(h,d))<55296||i>56319||d+1===p||(u=l(h,d+1))<56320||u>57343?t?s(h,d):i:t?c(h,d,d+2):u-56320+(i-55296<<10)+65536}};t.exports={codeAt:u(!1),charAt:u(!0)}},function(t,e,n){var i={};i[n(28)("toStringTag")]="z",t.exports="[object z]"===String(i)},function(t,e,n){var i,o,r=n(8),a=n(128),s=r.process,l=r.Deno,c=s&&s.versions||l&&l.version,u=c&&c.v8;u&&(o=(i=u.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!o&&a&&(!(i=a.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/))&&(o=+i[1]),t.exports=o},function(t,e,n){var i=n(60);t.exports=i("navigator","userAgent")||""},function(t,e,n){var i=n(8),o=n(22),r=n(83),a=i.WeakMap;t.exports=o(a)&&/native code/.test(r(a))},function(t,e,n){var i=n(8),o=n(42),r=n(51),a=n(103),s=n(85),l=n(132),c=n(28),u=i.TypeError,h=c("toPrimitive");t.exports=function(t,e){if(!r(t)||a(t))return t;var n,i=s(t,h);if(i){if(void 0===e&&(e="default"),n=o(i,t,e),!r(n)||a(n))return n;throw u("Can't convert object to primitive value")}return void 0===e&&(e="number"),l(t,e)}},function(t,e,n){var i=n(20);t.exports=i({}.isPrototypeOf)},function(t,e,n){var i=n(8),o=n(42),r=n(22),a=n(51),s=i.TypeError;t.exports=function(t,e){var n,i;if("string"===e&&r(n=t.toString)&&!a(i=o(n,t)))return i;if(r(n=t.valueOf)&&!a(i=o(n,t)))return i;if("string"!==e&&r(n=t.toString)&&!a(i=o(n,t)))return i;throw s("Can't convert object to primitive value")}},function(t,e,n){"use strict";var i=n(61),o=n(42),r=n(67),a=n(106),s=n(22),l=n(141),c=n(112),u=n(145),h=n(113),d=n(70),p=n(90),f=n(28),m=n(72),g=n(110),v=a.PROPER,y=a.CONFIGURABLE,_=g.IteratorPrototype,b=g.BUGGY_SAFARI_ITERATORS,C=f("iterator"),O=function(){return this};t.exports=function(t,e,n,a,f,g,x){l(n,e,a);var S,w,P,k=function(t){if(t===f&&M)return M;if(!b&&t in I)return I[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},E=e+" Iterator",T=!1,I=t.prototype,j=I[C]||I["@@iterator"]||f&&I[f],M=!b&&j||k(f),D="Array"==e&&I.entries||j;if(D&&(S=c(D.call(new t)))!==Object.prototype&&S.next&&(r||c(S)===_||(u?u(S,_):s(S[C])||p(S,C,O)),h(S,E,!0,!0),r&&(m[E]=O)),v&&"values"==f&&j&&"values"!==j.name&&(!r&&y?d(I,"name","values"):(T=!0,M=function(){return o(j,this)})),f)if(w={values:k("values"),keys:g?M:k("keys"),entries:k("entries")},x)for(P in w)!b&&!T&&P in I||p(I,P,w[P]);else i({target:e,proto:!0,forced:b||T},w);return r&&!x||I[C]===M||p(I,C,M,{name:f}),m[e]=M,w}},function(t,e,n){var i=n(8),o=n(20),r=n(39),a=n(82),s=i.Object,l=o("".split);t.exports=r(function(){return!s("z").propertyIsEnumerable(0)})?function(t){return"String"==a(t)?l(t,""):s(t)}:s},function(t,e,n){var i=n(36),o=n(136),r=n(89),a=n(52);t.exports=function(t,e){for(var n=o(e),s=a.f,l=r.f,c=0;c<n.length;c++){var u=n[c];i(t,u)||s(t,u,l(e,u))}}},function(t,e,n){var i=n(60),o=n(20),r=n(137),a=n(139),s=n(40),l=o([].concat);t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(s(t)),n=a.f;return n?l(e,n(t)):e}},function(t,e,n){var i=n(107),o=n(92).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},function(t,e,n){var i=n(62),o=n(108),r=n(91),a=function(t){return function(e,n,a){var s,l=i(e),c=r(l),u=o(a,c);if(t&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(39),o=n(22),r=/#|\.prototype\./,a=function(t,e){var n=l[s(t)];return n==u||n!=c&&(o(e)?i(e):!!e)},s=a.normalize=function(t){return String(t).replace(r,".").toLowerCase()},l=a.data={},c=a.NATIVE="N",u=a.POLYFILL="P";t.exports=a},function(t,e,n){"use strict";var i=n(110).IteratorPrototype,o=n(93),r=n(71),a=n(113),s=n(72),l=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=o(i,{next:r(1,n)}),a(t,c,!1,!0),s[c]=l,t}},function(t,e,n){var i=n(41),o=n(52),r=n(40),a=n(62),s=n(111);t.exports=i?Object.defineProperties:function(t,e){r(t);for(var n,i=a(e),l=s(e),c=l.length,u=0;c>u;)o.f(t,n=l[u++],i[n]);return t}},function(t,e,n){var i=n(60);t.exports=i("document","documentElement")},function(t,e,n){var i=n(39);t.exports=!i(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},function(t,e,n){var i=n(20),o=n(40),r=n(146);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(a){}return function(n,i){return o(n),r(i),e?t(n,i):n.__proto__=i,n}}():void 0)},function(t,e,n){var i=n(8),o=n(22),r=i.String,a=i.TypeError;t.exports=function(t){if("object"==typeof t||o(t))return t;throw a("Can't set "+r(t)+" as a prototype")}},function(t,e,n){var i=n(61),o=n(148);i({target:"Array",stat:!0,forced:!n(156)(function(t){Array.from(t)})},{from:o})},function(t,e,n){"use strict";var i=n(8),o=n(149),r=n(42),a=n(68),s=n(150),l=n(152),c=n(153),u=n(91),h=n(154),d=n(155),p=n(114),f=i.Array;t.exports=function(t){var e=a(t),n=c(this),i=arguments.length,m=i>1?arguments[1]:void 0,g=void 0!==m;g&&(m=o(m,i>2?arguments[2]:void 0));var v,y,_,b,C,O,x=p(e),S=0;if(!x||this==f&&l(x))for(v=u(e),y=n?new this(v):f(v);v>S;S++)O=g?m(e[S],S):e[S],h(y,S,O);else for(C=(b=d(e,x)).next,y=n?new this:[];!(_=r(C,b)).done;S++)O=g?s(b,m,[_.value,S],!0):_.value,h(y,S,O);return y.length=S,y}},function(t,e,n){var i=n(20),o=n(86),r=i(i.bind);t.exports=function(t,e){return o(t),void 0===e?t:r?r(t,e):function(){return t.apply(e,arguments)}}},function(t,e,n){var i=n(40),o=n(151);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(a){o(t,"throw",a)}}},function(t,e,n){var i=n(42),o=n(40),r=n(85);t.exports=function(t,e,n){var a,s;o(t);try{if(!(a=r(t,"return"))){if("throw"===e)throw n;return n}a=i(a,t)}catch(l){s=!0,a=l}if("throw"===e)throw n;if(s)throw a;return o(a),n}},function(t,e,n){var i=n(28),o=n(72),r=i("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[r]===t)}},function(t,e,n){var i=n(20),o=n(39),r=n(22),a=n(79),s=n(60),l=n(83),c=function(){},u=[],h=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,p=i(d.exec),f=!d.exec(c),m=function(t){if(!r(t))return!1;try{return h(c,u,t),!0}catch(e){return!1}};t.exports=!h||o(function(){var t;return m(m.call)||!m(Object)||!m(function(){t=!0})||t})?function(t){if(!r(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return f||!!p(d,l(t))}:m},function(t,e,n){"use strict";var i=n(84),o=n(52),r=n(71);t.exports=function(t,e,n){var a=i(e);a in t?o.f(t,a,r(0,n)):t[a]=n}},function(t,e,n){var i=n(8),o=n(42),r=n(86),a=n(40),s=n(104),l=n(114),c=i.TypeError;t.exports=function(t,e){var n=arguments.length<2?l(t):e;if(r(n))return a(o(n,t));throw c(s(t)+" is not iterable")}},function(t,e,n){var i=n(28)("iterator"),o=!1;try{var r=0,a={next:function(){return{done:!!r++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,function(){throw 2})}catch(s){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(s){}return n}},function(t,e,n){var i=n(158);t.exports=i},function(t,e,n){var i=n(159);t.exports=i},function(t,e,n){n(160);var i=n(116);t.exports=i("Array","fill")},function(t,e,n){var i=n(61),o=n(161),r=n(162);i({target:"Array",proto:!0},{fill:o}),r("fill")},function(t,e,n){"use strict";var i=n(68),o=n(108),r=n(91);t.exports=function(t){for(var e=i(this),n=r(e),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,c=void 0===l?n:o(l,n);c>s;)e[s++]=t;return e}},function(t,e,n){var i=n(28),o=n(93),r=n(52),a=i("unscopables"),s=Array.prototype;void 0==s[a]&&r.f(s,a,{configurable:!0,value:o(null)}),t.exports=function(t){s[a][t]=!0}},function(t,e,n){var i=n(164);t.exports=i},function(t,e,n){var i=n(165);t.exports=i},function(t,e,n){n(166);var i=n(115);t.exports=i.Object.values},function(t,e,n){var i=n(61),o=n(167).values;i({target:"Object",stat:!0},{values:function(t){return o(t)}})},function(t,e,n){var i=n(41),o=n(20),r=n(111),a=n(62),s=o(n(105).f),l=o([].push),c=function(t){return function(e){for(var n,o=a(e),c=r(o),u=c.length,h=0,d=[];u>h;)n=c[h++],i&&!s(o,n)||l(d,t?[n,o[n]]:o[n]);return d}};t.exports={entries:c(!0),values:c(!1)}},function(t,e,n){var i=n(169);t.exports=i},function(t,e,n){var i=n(170);t.exports=i},function(t,e,n){n(171);var i=n(116);t.exports=i("String","endsWith")},function(t,e,n){"use strict";var i=n(61),o=n(20),r=n(89).f,a=n(109),s=n(78),l=n(172),c=n(69),u=n(174),h=n(67),d=o("".endsWith),p=o("".slice),f=Math.min,m=u("endsWith");i({target:"String",proto:!0,forced:!(!h&&!m&&!!function(){var t=r(String.prototype,"endsWith");return t&&!t.writable}())&&!m},{endsWith:function(t){var e=s(c(this));l(t);var n=arguments.length>1?arguments[1]:void 0,i=e.length,o=void 0===n?i:f(a(n),i),r=s(t);return d?d(e,r,o):p(e,o-r.length,o)===r}})},function(t,e,n){var i=n(8),o=n(173),r=i.TypeError;t.exports=function(t){if(o(t))throw r("The method doesn't accept regular expressions");return t}},function(t,e,n){var i=n(51),o=n(82),r=n(28)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==o(t))}},function(t,e,n){var i=n(28)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,"/./"[t](e)}catch(o){}}return!1}},,function(t,e,n){t.exports=n(117)}]).default},t.exports=i()},function(t,e,n){"use strict";n.d(e,"c",function(){return h}),n.d(e,"a",function(){return d}),n.d(e,"d",function(){return p}),n.d(e,"b",function(){return f});var i,o=n(17),r=n(7),a=n(153),s=new WeakMap,l=new a.a,c=function(){},u=function(){};function h(){return i.data.apply(this,arguments)}function d(t){c=t}function p(t,e){return i.removeData.call(this,t,e)}function f(t,e){if(o.a.isElementNode(t)){var n=t.getElementsByTagName("*");i.cleanData(n),e&&i.cleanData([t])}}!function(t){l.fire(t);var e=(i=t).cleanData;i.cleanData=function(t){c(t);var n=e.call(this,t);return u(t),n}}({data:function(){var t=arguments[0],e=arguments[1],n=arguments[2];if(t){var i=s.get(t);return i||(i={},s.set(t,i)),void 0===e?i:2===arguments.length?i[e]:(i[e]=n,n)}},removeData:function(t,e){if(t)if(void 0===e)s.delete(t);else{var n=s.get(t);n&&delete n[e]}},cleanData:function(t){for(var e=0;e<t.length;e++)r.a.off(t[e]),s.delete(t[e])}})},function(t,e,n){"use strict";var i=n(11),o=n(20),r=n(17),a=n(2),s=n(16),l=n(168),c=n(9),u=n(75),h=n(91),d=n(15),p=n(43),f=Object(p.a)(),m=n(42);n.d(e,"a",function(){return N}),n.d(e,"d",function(){return V}),n.d(e,"c",function(){return U}),n.d(e,"b",function(){return W}),n.d(e,"e",function(){return $});var g,v,y,_,b,C,O=Object(d.d)(),x=u.a.add,S=h.c,w=h.a,P=new s.a,k="link[rel=dx-theme]",E="data-theme",T="data-active",I="dx-hairlines",j="any",M=15e3,D="dx.";function A(){if(!Object(d.f)())return null;var t,e=Object(a.a)("<div>",g).addClass("dx-theme-marker").appendTo(g.documentElement);try{return(t=O.getComputedStyle(e.get(0)).fontFamily)?(t=t.replace(/["']/g,"")).substr(0,D.length)!==D?null:t.substr(D.length):null}finally{e.remove()}}function R(t){var e,n,i=!0;function o(){b=null,clearInterval(n),i=!0,f.fire(),f.empty(),P.resolve()}if(b=t,B()||!M)o();else{if(!i)return void(b&&(b=t));e=Date.now(),i=!1,n=setInterval(function(){var t=B(),n=!t&&Date.now()-e>M;n&&m.a.log("W0004",b),(t||n)&&o()},10)}}function B(){if(!b)return!0;var t=b===j;if("resolved"===P.state()&&t)return!0;var e=A();return!(!e||!t)||e===b}function L(t){(function(t){try{t!==g&&(y=null)}catch(e){y=null}g=t})((t=t||{}).context||r.a.getDocument()),g&&(!function(){var t=Object(a.a)(k,g);t.length&&(y={},v=Object(a.a)(Object(l.b)("<link rel=stylesheet>"),g),t.each(function(){var t=Object(a.a)(this,g),e=t.attr(E),n=t.attr("href"),i="true"===t.attr(T);y[e]={url:n,isActive:i}}),t.last().after(v),t.remove())}(),_=void 0,N(t))}function N(t){if(!arguments.length)return _=_||A();F(S()),"string"===typeof(t=t||{})&&(t={theme:t});var e,n=t._autoInit,i=t.loadCallback;if((_=function(t){var e=t?t.split("."):[],n=null;if(y){if(t in y)return t;Object(c.a)(y,function(t,i){var o=t.split(".");if((!e[0]||o[0]===e[0])&&(!e[1]||e[1]===o[1])&&(!e[2]||e[2]===o[2]))return n&&!i.isActive||(n=t),!i.isActive&&void 0})}return n}(t.theme||_))&&(e=y[_]),i&&f.add(i),e)v.attr("href",y[_].url),(f.has()||"resolved"!==P.state()||t._forceTimeout)&&R(_);else{if(!n)throw m.a.Error("E0021",_);Object(d.f)()&&R(j),f.fire(),f.empty()}P.done(function(){return z(Object(h.b)(),_)})}function z(t,e){C=function(t){var e=[],n=(t=t||N())&&t.split(".");return n&&(e.push("dx-theme-"+n[0],"dx-theme-"+n[0]+"-typography"),n.length>1&&e.push("dx-color-scheme-"+n[1]+(V(t)?"-"+n[2]:""))),e}(e).join(" "),Object(a.a)(t).addClass(C),function(){var e=Object(d.f)()&&O.devicePixelRatio;if(e&&!(e<2)){var n=Object(a.a)("<div>");n.css("border",".5px solid transparent"),Object(a.a)("body").append(n),1===Object(i.g)(n)&&(Object(a.a)(t).addClass(I),C+=" "+I),n.remove()}}()}function F(t){Object(a.a)(t).removeClass(C)}function H(t,e){return e||(e=_||A()),new RegExp(t).test(e)}function V(t){return H("material",t)}function U(t){return H("generic",t)}function W(t){return H("compact",t)}function K(t,e){var n=r.a.getDocument(),i=n.createElement("span");i.style.position="absolute",i.style.top="-9999px",i.style.left="-9999px",i.style.visibility="hidden",i.style.fontFamily="Arial",i.style.fontSize="250px",i.style.fontWeight=e,i.innerHTML=t,n.body.appendChild(i);var o=i.offsetWidth;i.style.fontFamily="Roboto, RobotoFallback, Arial";var a=i.offsetWidth;return i.parentNode.removeChild(i),o!==a}function $(t,e){return new Promise(function(n){var i=function(){clearInterval(o),clearTimeout(r),n()},o=setInterval(function(){K(t,e)&&i()},15),r=setTimeout(i,2e3)})}function G(){if(L({_autoInit:!0,_forceTimeout:!0}),Object(a.a)(k,g).length)throw m.a.Error("E0022")}Object(d.f)()?G():x(G),w.add(function(t,e){P.done(function(){F(e),z(t)})}),o.a.changed.add(function(){L({_autoInit:!0})})},function(t,e,n){"use strict";n.d(e,"h",function(){return c}),n.d(e,"a",function(){return u}),n.d(e,"e",function(){return h}),n.d(e,"f",function(){return d}),n.d(e,"b",function(){return p}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return m}),n.d(e,"g",function(){return g});var i=n(17),o=n(2),r=n(9),a=n(1),s=n(15),l=Object(s.d)(),c=function(){var t,e=i.a.getActiveElement();e&&e!==i.a.getBody()&&(null===(t=e.blur)||void 0===t||t.call(e))},u=function(){var t=l.getSelection();if(t&&"Caret"!==t.type)if(t.empty)t.empty();else if(t.removeAllRanges)try{t.removeAllRanges()}catch(e){}},h=function(t){var e=(t=Object(o.a)(t)).length&&t.filter(function(){var t=Object(o.a)(this);return t.is("script[type]")&&t.attr("type").indexOf("script")<0});return e.length?e.eq(0).html():(t=Object(o.a)("<div>").append(t)).html()},d=function t(e){var n=Object(a.d)(e)&&(e.nodeType||Object(a.n)(e))?Object(o.a)(e):Object(o.a)("<div>").html(e).contents();return 1===n.length&&(n.is("script")?n=t(n.html().trim()):n.is("table")&&(n=n.children("tbody").contents())),n},p=function(t,e){var n=t.originalEvent&&t.originalEvent.clipboardData||l.clipboardData;if(!e)return n&&n.getData("Text");n&&n.setData("Text",e)},f=function t(e,n){return!!n&&(i.a.isTextNode(n)&&(n=n.parentNode),i.a.isDocument(e)?e.documentElement.contains(n):Object(a.p)(e)?t(e.document,n):e.contains?e.contains(n):!!(n.compareDocumentPosition(e)&n.DOCUMENT_POSITION_CONTAINS))},m=function(t,e,n){var i=l.getComputedStyle(Object(o.a)(t).get(0)),r=n&&n.includePaddings;return Object(o.a)("<div>").text(e).css({fontStyle:i.fontStyle,fontVariant:i.fontVariant,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFamily:i.fontFamily,letterSpacing:i.letterSpacing,border:i.border,paddingTop:r?i.paddingTop:"",paddingRight:r?i.paddingRight:"",paddingBottom:r?i.paddingBottom:"",paddingLeft:r?i.paddingLeft:"",visibility:"hidden",whiteSpace:"pre",position:"absolute",float:"left"})},g=function(t,e){if(e&&e[0])return e.is(t)?t:(Object(r.a)(e,function(e,n){!function(t,e){e&&i.a.insertElement(t.parentNode,e,t)}(t[0],n)}),t.remove(),e)}},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.Variables=e.ToolbarItem=e.Toolbar=e.TableResizing=e.TableContextMenuItem=e.TableContextMenu=e.Tab=e.Mention=e.MediaResizing=e.Item=e.ImageUpload=e.FileUploaderOptions=e.HtmlEditor=void 0;var o=n(285),r=n(60),a=n(148),s=n(175),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._WidgetClass=o.default,e.subscribableOptions=["value"],e.independentEvents=["onContentReady","onDisposing","onFocusIn","onFocusOut","onInitialized","onValueChanged"],e._defaults={defaultValue:"value"},e._expectedChildren={imageUpload:{optionName:"imageUpload",isCollectionItem:!1},mediaResizing:{optionName:"mediaResizing",isCollectionItem:!1},mention:{optionName:"mentions",isCollectionItem:!0},tableContextMenu:{optionName:"tableContextMenu",isCollectionItem:!1},tableResizing:{optionName:"tableResizing",isCollectionItem:!1},toolbar:{optionName:"toolbar",isCollectionItem:!1},variables:{optionName:"variables",isCollectionItem:!1}},e}return i(e,t),Object.defineProperty(e.prototype,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e}(a.Component);e.HtmlEditor=l,l.propTypes={accessKey:r.string,activeStateEnabled:r.bool,allowSoftLineBreak:r.bool,customizeModules:r.func,disabled:r.bool,elementAttr:r.object,focusStateEnabled:r.bool,height:r.oneOfType([r.func,r.number,r.string]),hint:r.string,hoverStateEnabled:r.bool,imageUpload:r.object,isValid:r.bool,mediaResizing:r.object,mentions:r.array,name:r.string,onContentReady:r.func,onDisposing:r.func,onFocusIn:r.func,onFocusOut:r.func,onInitialized:r.func,onOptionChanged:r.func,onValueChanged:r.func,placeholder:r.string,readOnly:r.bool,rtlEnabled:r.bool,stylingMode:r.oneOfType([r.string,r.oneOf(["outlined","underlined","filled"])]),tabIndex:r.number,tableContextMenu:r.object,tableResizing:r.object,toolbar:r.object,validationErrors:r.array,validationMessageMode:r.oneOfType([r.string,r.oneOf(["always","auto"])]),validationMessagePosition:r.oneOfType([r.string,r.oneOf(["bottom","left","right","top"])]),validationStatus:r.oneOfType([r.string,r.oneOf(["valid","invalid","pending"])]),valueType:r.oneOfType([r.string,r.oneOf(["html","markdown"])]),variables:r.object,visible:r.bool,width:r.oneOfType([r.func,r.number,r.string])};var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="fileUploaderOptions",e.DefaultsProps={defaultValue:"value"},e}(s.default);e.FileUploaderOptions=c;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="imageUpload",e.ExpectedChildren={fileUploaderOptions:{optionName:"fileUploaderOptions",isCollectionItem:!1},tab:{optionName:"tabs",isCollectionItem:!0}},e}(s.default);e.ImageUpload=u;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="items",e.IsCollectionItem=!0,e.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"},{tmplOption:"menuItemTemplate",render:"menuItemRender",component:"menuItemComponent",keyFn:"menuItemKeyFn"}],e}(s.default);e.Item=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="mediaResizing",e}(s.default);e.MediaResizing=d;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="mentions",e.IsCollectionItem=!0,e.TemplateProps=[{tmplOption:"itemTemplate",render:"itemRender",component:"itemComponent",keyFn:"itemKeyFn"},{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e}(s.default);e.Mention=p;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="tabs",e.IsCollectionItem=!0,e}(s.default);e.Tab=f;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="tableContextMenu",e.ExpectedChildren={item:{optionName:"items",isCollectionItem:!0},tableContextMenuItem:{optionName:"items",isCollectionItem:!0}},e}(s.default);e.TableContextMenu=m;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="items",e.IsCollectionItem=!0,e.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e}(s.default);e.TableContextMenuItem=g;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="tableResizing",e}(s.default);e.TableResizing=v;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="toolbar",e.ExpectedChildren={item:{optionName:"items",isCollectionItem:!0},toolbarItem:{optionName:"items",isCollectionItem:!0}},e}(s.default);e.Toolbar=y;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="items",e.IsCollectionItem=!0,e.TemplateProps=[{tmplOption:"menuItemTemplate",render:"menuItemRender",component:"menuItemComponent",keyFn:"menuItemKeyFn"},{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e}(s.default);e.ToolbarItem=_;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="variables",e}(s.default);e.Variables=b,e.default=l},function(t,e,n){"use strict";var i=n(3),o=n(38),r={rtlEnabled:!1,defaultCurrency:"USD",defaultUseCurrencyAccountingStyle:!0,oDataFilterToLower:!0,serverDecimalSeparator:".",decimalSeparator:".",thousandsSeparator:",",forceIsoDateParsing:!0,wrapActionsBeforeExecute:!0,useLegacyStoreResult:!1,useJQuery:void 0,editorStylingMode:void 0,useLegacyVisibleIndex:!1,floatingActionButtonConfig:{icon:"add",closeIcon:"close",label:"",position:{at:"right bottom",my:"right bottom",offset:{x:-16,y:-16}},maxSpeedDialActionCount:5,shading:!1,direction:"auto"},optionsParser:function(t){"{"!==t.trim().charAt(0)&&(t="{"+t+"}");try{return new Function("return "+t)()}catch(e){throw o.a.Error("E3018",e,t)}}},a=["decimalSeparator","thousandsSeparator"],s=function(){if(!arguments.length)return r;var t=arguments.length<=0?void 0:arguments[0];a.forEach(function(e){if(t[e]){var n="Now, the ".concat(e," is selected based on the specified locale.");o.a.log("W0003","config",e,"19.2",n)}}),Object(i.a)(r,t)};"undefined"!==typeof DevExpress&&DevExpress.config&&s(DevExpress.config),e.a=s},function(t,e,n){"use strict";n.d(e,"c",function(){return s}),n.d(e,"a",function(){return l}),n.d(e,"d",function(){return c}),n.d(e,"e",function(){return u}),n.d(e,"b",function(){return d});var i=n(9),o=function(t){return void 0===t||null===t?"":String(t)},r=function(t){return o(t).charAt(0).toUpperCase()+t.substr(1)},a=function(t){return o(t).replace(/([a-z\d])([A-Z])/g,"$1 $2").split(/[\s_-]+/)},s=function(t){return Object(i.b)(a(t),function(t){return t.toLowerCase()}).join("-")},l=function(t,e){return Object(i.b)(a(t),function(t,n){return t=t.toLowerCase(),(e||n>0)&&(t=r(t)),t}).join("")},c=function(t){return r(s(t).replace(/-/g," "))},u=function(t){return Object(i.b)(a(t),function(t){return r(t.toLowerCase())}).join(" ")},h=["0","1","2","3","4","5","6","7","8","9"],d=function(t){var e,n,i=[],o=!1,r=!1;for(e=0;e<t.length;e++)r=(n=t.charAt(e))===n.toUpperCase()&&"-"!==n&&")"!==n&&"/"!==n||n in h,"_"===n||"."===n?(n=" ",r=!0):0===e?(n=n.toUpperCase(),r=!0):!o&&r&&i.length>0&&i.push(" "),i.push(n),o=r;return i.join("")}},function(t,e,n){"use strict";var i=n(27),o=n(2),r=n(137),a=n(78),s=n(63),l=n(5),c=n(9),u=n(3),h=n(83),d=n(1),p=n(20),f=n(198);n(54),n(220),n(129);function m(t,e,n){t="role"===t||"id"===t?t:"aria-".concat(t),e=Object(d.d)(e)?e.toString():null,n.attr(t,e)}var g=a.a.inherit({_feedbackHideTimeout:400,_feedbackShowTimeout:30,_supportedKeys:function(){return{}},_getDefaultOptions:function(){return Object(u.a)(this.callBase(),{hoveredElement:null,isActive:!1,disabled:!1,visible:!0,hint:void 0,activeStateEnabled:!1,onContentReady:null,hoverStateEnabled:!1,focusStateEnabled:!1,tabIndex:0,accessKey:void 0,onFocusIn:null,onFocusOut:null,onKeyboardHandled:null,ignoreParentReadOnly:!1,useResizeObserver:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var t=p.a.real(),e=t.platform,n=t.version;return"ios"===e&&Object(f.a)(n,"13.3")<=0},options:{useResizeObserver:!1}}])},_init:function(){this.callBase(),this._initContentReadyAction()},_innerWidgetOptionChanged:function(t,e){var n=g.getOptionsFromContainer(e);t&&t.option(n),this._options.cache(e.name,n)},_bindInnerWidgetOptions:function(t,e){var n=this,i=function(){return n._options.silent(e,Object(u.a)({},t.option()))};i(),t.on("optionChanged",i)},_getAriaTarget:function(){return this._focusTarget()},_initContentReadyAction:function(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initMarkup:function(){var t=this.option(),e=t.disabled,n=t.visible;this.$element().addClass("dx-widget"),this._toggleDisabledState(e),this._toggleVisibility(n),this._renderHint(),this._isFocusable()&&this._renderFocusTarget(),this.callBase()},_render:function(){this.callBase(),this._renderContent(),this._renderFocusState(),this._attachFeedbackEvents(),this._attachHoverEvents(),this._toggleIndependentState()},_renderHint:function(){var t=this.option().hint;this.$element().attr("title",t||null)},_renderContent:function(){var t=this;Object(l.deferRender)(function(){return t._disposed?void 0:t._renderContentImpl()}).done(function(){return t._disposed?void 0:t._fireContentReadyAction()})},_renderContentImpl:l.noop,_fireContentReadyAction:Object(l.deferRenderer)(function(){return this._contentReadyAction()}),_dispose:function(){this._contentReadyAction=null,this._detachKeyboardEvents(),this.callBase()},_resetActiveState:function(){this._toggleActiveState(this._eventBindingTarget(),!1)},_clean:function(){this._cleanFocusState(),this._resetActiveState(),this.callBase(),this.$element().empty()},_toggleVisibility:function(t){this.$element().toggleClass("dx-state-invisible",!t),this.setAria("hidden",!t||void 0)},_renderFocusState:function(){this._attachKeyboardEvents(),this._isFocusable()&&(this._renderFocusTarget(),this._attachFocusEvents(),this._renderAccessKey())},_renderAccessKey:function(){var t=this._focusTarget(),e=this.option().accessKey;t.attr("accesskey",e)},_isFocusable:function(){var t=this.option(),e=t.focusStateEnabled,n=t.disabled;return e&&!n},_eventBindingTarget:function(){return this.$element()},_focusTarget:function(){return this._getActiveElement()},_isFocusTarget:function(t){return Object(o.a)(this._focusTarget()).toArray().includes(t)},_getActiveElement:function(){var t=this._eventBindingTarget();return this._activeStateUnit?t.find(this._activeStateUnit).not(".dx-state-disabled"):t},_renderFocusTarget:function(){var t=this.option().tabIndex;this._focusTarget().attr("tabIndex",t)},_keyboardEventBindingTarget:function(){return this._eventBindingTarget()},_refreshFocusEvent:function(){this._detachFocusEvents(),this._attachFocusEvents()},_focusEventTarget:function(){return this._focusTarget()},_focusInHandler:function(t){var e=this;t.isDefaultPrevented()||this._createActionByOption("onFocusIn",{beforeExecute:function(){return e._updateFocusState(t,!0)},excludeValidators:["readOnly"]})({event:t})},_focusOutHandler:function(t){var e=this;t.isDefaultPrevented()||this._createActionByOption("onFocusOut",{beforeExecute:function(){return e._updateFocusState(t,!1)},excludeValidators:["readOnly","disabled"]})({event:t})},_updateFocusState:function(t,e){var n=t.target;this._isFocusTarget(n)&&this._toggleFocusClass(e,Object(o.a)(n))},_toggleFocusClass:function(t,e){(e&&e.length?e:this._focusTarget()).toggleClass("dx-state-focused",t)},_hasFocusClass:function(t){return Object(o.a)(t||this._focusTarget()).hasClass("dx-state-focused")},_isFocused:function(){return this._hasFocusClass()},_getKeyboardListeners:function(){return[]},_attachKeyboardEvents:function(){var t=this;this._detachKeyboardEvents();var e=this.option(),n=e.focusStateEnabled,i=e.onKeyboardHandled,o=this._getKeyboardListeners().length;(n||o||!!i)&&(this._keyboardListenerId=s.f.on(this._keyboardEventBindingTarget(),this._focusTarget(),function(e){return t._keyboardHandler(e)}))},_keyboardHandler:function(t,e){if(!e){var n=t.originalEvent,i=t.keyName,o=t.which,r=this._supportedKeys(n),a=r[i]||r[o];if(void 0!==a)if(!a.bind(this)(n,t))return!1}var s=this._getKeyboardListeners(),l=this.option().onKeyboardHandled;return s.forEach(function(e){return e&&e._keyboardHandler(t)}),l&&l(t),!0},_refreshFocusState:function(){this._cleanFocusState(),this._renderFocusState()},_cleanFocusState:function(){this._focusTarget().removeAttr("tabIndex"),this._toggleFocusClass(!1),this._detachFocusEvents(),this._detachKeyboardEvents()},_detachKeyboardEvents:function(){s.f.off(this._keyboardListenerId),this._keyboardListenerId=null},_attachHoverEvents:function(){var t=this,e=this.option().hoverStateEnabled,n=this._activeStateUnit,i=this._eventBindingTarget();s.e.off(i,{selector:n,namespace:"UIFeedback"}),e&&s.e.on(i,new r.a(function(e){var n=e.event,i=e.element;t._hoverStartHandler(n),t.option("hoveredElement",Object(o.a)(i))},{excludeValidators:["readOnly"]}),function(e){t.option("hoveredElement",null),t._hoverEndHandler(e)},{selector:n,namespace:"UIFeedback"})},_attachFeedbackEvents:function(){var t=this,e=this.option().activeStateEnabled,n=this._activeStateUnit,i=this._eventBindingTarget();s.a.off(i,{namespace:"UIFeedback",selector:n}),e&&s.a.on(i,new r.a(function(e){var n=e.event,i=e.element;return t._toggleActiveState(Object(o.a)(i),!0,n)}),new r.a(function(e){var n=e.event,i=e.element;return t._toggleActiveState(Object(o.a)(i),!1,n)},{excludeValidators:["disabled","readOnly"]}),{showTimeout:this._feedbackShowTimeout,hideTimeout:this._feedbackHideTimeout,selector:n,namespace:"UIFeedback"})},_detachFocusEvents:function(){var t=this._focusEventTarget();s.d.off(t,{namespace:"".concat(this.NAME,"Focus")})},_attachFocusEvents:function(){var t=this,e=this._focusEventTarget();s.d.on(e,function(e){return t._focusInHandler(e)},function(e){return t._focusOutHandler(e)},{namespace:"".concat(this.NAME,"Focus"),isFocusable:function(t,e){return Object(o.a)(e).is(h.a)}})},_hoverStartHandler:l.noop,_hoverEndHandler:l.noop,_toggleActiveState:function(t,e){this.option("isActive",e),t.toggleClass("dx-state-active",e)},_updatedHover:function(){var t=this._options.silent("hoveredElement");this._hover(t,t)},_findHoverTarget:function(t){return t&&t.closest(this._activeStateUnit||this._eventBindingTarget())},_hover:function(t,e){var n=this.option(),i=n.hoverStateEnabled,o=n.disabled,r=n.isActive;if((e=this._findHoverTarget(e))&&e.toggleClass("dx-state-hover",!1),t&&i&&!o&&!r){var a=this._findHoverTarget(t);a&&a.toggleClass("dx-state-hover",!0)}},_toggleDisabledState:function(t){this.$element().toggleClass("dx-state-disabled",Boolean(t)),this.setAria("disabled",t||void 0)},_toggleIndependentState:function(){this.$element().toggleClass("dx-state-independent",this.option("ignoreParentReadOnly"))},_setWidgetOption:function(t,e){var n=this;if(this[t])if(Object(d.k)(e[0]))Object(c.a)(e[0],function(e,i){return n._setWidgetOption(t,[e,i])});else{var i=e[0],o=e[1];1===e.length&&(o=this.option(i));var r=this["".concat(t,"OptionMap")];this[t].option(r?r(i):i,o)}},_optionChanged:function(t){var e=t.name,n=t.value,i=t.previousValue;switch(e){case"disabled":this._toggleDisabledState(n),this._updatedHover(),this._refreshFocusState();break;case"hint":this._renderHint();break;case"ignoreParentReadOnly":this._toggleIndependentState();break;case"activeStateEnabled":this._attachFeedbackEvents();break;case"hoverStateEnabled":this._attachHoverEvents(),this._updatedHover();break;case"tabIndex":case"focusStateEnabled":this._refreshFocusState();break;case"onFocusIn":case"onFocusOut":case"useResizeObserver":break;case"accessKey":this._renderAccessKey();break;case"hoveredElement":this._hover(n,i);break;case"isActive":this._updatedHover();break;case"visible":this._toggleVisibility(n),this._isVisibilityChangeSupported()&&this._checkVisibilityChanged(n?"shown":"hiding");break;case"onKeyboardHandled":this._attachKeyboardEvents();break;case"onContentReady":this._initContentReadyAction();break;default:this.callBase(t)}},_isVisible:function(){var t=this.option().visible;return this.callBase()&&t},beginUpdate:function(){this._ready(!1),this.callBase()},endUpdate:function(){this.callBase(),this._initialized&&this._ready(!0)},_ready:function(t){if(0===arguments.length)return this._isReady;this._isReady=t},setAria:function(){if(Object(d.k)(arguments.length<=0?void 0:arguments[0])){var t=(arguments.length<=1?void 0:arguments[1])||this._getAriaTarget();Object(c.a)(arguments.length<=0?void 0:arguments[0],function(e,n){return m(e,n,t)})}else m(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],(arguments.length<=2?void 0:arguments[2])||this._getAriaTarget())},isReady:function(){return this._ready()},repaint:function(){this._refresh()},focus:function(){s.d.trigger(this._focusTarget())},registerKeyHandler:function(t,e){var n=this._supportedKeys();this._supportedKeys=function(){return Object(u.a)(n,Object(i.a)({},t,e))}}});g.getOptionsFromContainer=function(t){var e=t.name,n=t.fullName,i=t.value,o={};e===n?o=i:o[n.split(".").pop()]=i;return o},e.a=g},function(t,e,n){"use strict";var i=n(40),o=n(70),r=n(5),a=n(9),s=n(1),l=n(193),c=n(50),u=n(38),h=n(194),d=n(185),p=n(84),f={af:"\xa4#,##0.00;(\xa4#,##0.00)","af-NA":"\xa4#,##0.00;(\xa4#,##0.00)",agq:"#,##0.00\xa4",ak:"\xa4#,##0.00",am:"\xa4#,##0.00;(\xa4#,##0.00)",ar:"\xa4#,##0.00;(\xa4#,##0.00)","ar-AE":"\xa4#,##0.00;(\xa4#,##0.00)","ar-BH":"\xa4#,##0.00;(\xa4#,##0.00)","ar-DJ":"\xa4#,##0.00;(\xa4#,##0.00)","ar-DZ":"\xa4#,##0.00;(\xa4#,##0.00)","ar-EG":"\xa4#,##0.00;(\xa4#,##0.00)","ar-EH":"\xa4#,##0.00;(\xa4#,##0.00)","ar-ER":"\xa4#,##0.00;(\xa4#,##0.00)","ar-IL":"\xa4#,##0.00;(\xa4#,##0.00)","ar-IQ":"\xa4#,##0.00;(\xa4#,##0.00)","ar-JO":"\xa4#,##0.00;(\xa4#,##0.00)","ar-KM":"\xa4#,##0.00;(\xa4#,##0.00)","ar-KW":"\xa4#,##0.00;(\xa4#,##0.00)","ar-LB":"\xa4#,##0.00;(\xa4#,##0.00)","ar-LY":"\xa4#,##0.00;(\xa4#,##0.00)","ar-MA":"\xa4#,##0.00;(\xa4#,##0.00)","ar-MR":"\xa4#,##0.00;(\xa4#,##0.00)","ar-OM":"\xa4#,##0.00;(\xa4#,##0.00)","ar-PS":"\xa4#,##0.00;(\xa4#,##0.00)","ar-QA":"\xa4#,##0.00;(\xa4#,##0.00)","ar-SA":"\xa4#,##0.00;(\xa4#,##0.00)","ar-SD":"\xa4#,##0.00;(\xa4#,##0.00)","ar-SO":"\xa4#,##0.00;(\xa4#,##0.00)","ar-SS":"\xa4#,##0.00;(\xa4#,##0.00)","ar-SY":"\xa4#,##0.00;(\xa4#,##0.00)","ar-TD":"\xa4#,##0.00;(\xa4#,##0.00)","ar-TN":"\xa4#,##0.00;(\xa4#,##0.00)","ar-YE":"\xa4#,##0.00;(\xa4#,##0.00)",as:"\xa4\xa0#,##,##0.00",asa:"#,##0.00\xa0\xa4",ast:"#,##0.00\xa0\xa4",az:"#,##0.00\xa0\xa4","az-Cyrl":"#,##0.00\xa0\xa4","az-Latn":"#,##0.00\xa0\xa4",bas:"#,##0.00\xa0\xa4",be:"#,##0.00\xa0\xa4","be-tarask":"#,##0.00\xa0\xa4",bem:"\xa4#,##0.00;(\xa4#,##0.00)",bez:"#,##0.00\xa4",bg:"0.00\xa0\xa4;(0.00\xa0\xa4)",bm:"\xa4#,##0.00;(\xa4#,##0.00)",bn:"#,##,##0.00\xa4;(#,##,##0.00\xa4)","bn-IN":"#,##,##0.00\xa4;(#,##,##0.00\xa4)",bo:"\xa4\xa0#,##0.00","bo-IN":"\xa4\xa0#,##0.00",br:"#,##0.00\xa0\xa4",brx:"\xa4\xa0#,##,##0.00",bs:"#,##0.00\xa0\xa4","bs-Cyrl":"#,##0.00\xa0\xa4","bs-Latn":"#,##0.00\xa0\xa4",ca:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","ca-AD":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","ca-ES-valencia":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","ca-FR":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","ca-IT":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",ccp:"#,##,##0.00\xa4;(#,##,##0.00\xa4)","ccp-IN":"#,##,##0.00\xa4;(#,##,##0.00\xa4)",ce:"#,##0.00\xa0\xa4",ceb:"\xa4#,##0.00;(\xa4#,##0.00)",cgg:"\xa4#,##0.00",chr:"\xa4#,##0.00;(\xa4#,##0.00)",ckb:"\xa4\xa0#,##0.00","ckb-IR":"\xa4\xa0#,##0.00",cs:"#,##0.00\xa0\xa4",cy:"\xa4#,##0.00;(\xa4#,##0.00)",da:"#,##0.00\xa0\xa4","da-GL":"#,##0.00\xa0\xa4",dav:"\xa4#,##0.00;(\xa4#,##0.00)",de:"#,##0.00\xa0\xa4","de-AT":"#,##0.00\xa0\xa4","de-BE":"#,##0.00\xa0\xa4","de-CH":"#,##0.00\xa0\xa4","de-IT":"#,##0.00\xa0\xa4","de-LI":"#,##0.00\xa0\xa4","de-LU":"#,##0.00\xa0\xa4",dje:"#,##0.00\xa4",doi:"\xa4#,##0.00",dsb:"#,##0.00\xa0\xa4",dua:"#,##0.00\xa0\xa4",dyo:"#,##0.00\xa0\xa4",dz:"\xa4#,##,##0.00",ebu:"\xa4#,##0.00;(\xa4#,##0.00)",ee:"\xa4#,##0.00;(\xa4#,##0.00)","ee-TG":"\xa4#,##0.00;(\xa4#,##0.00)",el:"#,##0.00\xa0\xa4","el-CY":"#,##0.00\xa0\xa4",en:"\xa4#,##0.00;(\xa4#,##0.00)","en-001":"\xa4#,##0.00;(\xa4#,##0.00)","en-150":"#,##0.00\xa0\xa4","en-AE":"\xa4#,##0.00;(\xa4#,##0.00)","en-AG":"\xa4#,##0.00;(\xa4#,##0.00)","en-AI":"\xa4#,##0.00;(\xa4#,##0.00)","en-AS":"\xa4#,##0.00;(\xa4#,##0.00)","en-AT":"\xa4\xa0#,##0.00","en-AU":"\xa4#,##0.00;(\xa4#,##0.00)","en-BB":"\xa4#,##0.00;(\xa4#,##0.00)","en-BE":"#,##0.00\xa0\xa4","en-BI":"\xa4#,##0.00;(\xa4#,##0.00)","en-BM":"\xa4#,##0.00;(\xa4#,##0.00)","en-BS":"\xa4#,##0.00;(\xa4#,##0.00)","en-BW":"\xa4#,##0.00;(\xa4#,##0.00)","en-BZ":"\xa4#,##0.00;(\xa4#,##0.00)","en-CA":"\xa4#,##0.00;(\xa4#,##0.00)","en-CC":"\xa4#,##0.00;(\xa4#,##0.00)","en-CH":"\xa4\xa0#,##0.00;\xa4-#,##0.00","en-CK":"\xa4#,##0.00;(\xa4#,##0.00)","en-CM":"\xa4#,##0.00;(\xa4#,##0.00)","en-CX":"\xa4#,##0.00;(\xa4#,##0.00)","en-CY":"\xa4#,##0.00;(\xa4#,##0.00)","en-DE":"#,##0.00\xa0\xa4","en-DG":"\xa4#,##0.00;(\xa4#,##0.00)","en-DK":"#,##0.00\xa0\xa4","en-DM":"\xa4#,##0.00;(\xa4#,##0.00)","en-ER":"\xa4#,##0.00;(\xa4#,##0.00)","en-FI":"#,##0.00\xa0\xa4","en-FJ":"\xa4#,##0.00;(\xa4#,##0.00)","en-FK":"\xa4#,##0.00;(\xa4#,##0.00)","en-FM":"\xa4#,##0.00;(\xa4#,##0.00)","en-GB":"\xa4#,##0.00;(\xa4#,##0.00)","en-GD":"\xa4#,##0.00;(\xa4#,##0.00)","en-GG":"\xa4#,##0.00;(\xa4#,##0.00)","en-GH":"\xa4#,##0.00;(\xa4#,##0.00)","en-GI":"\xa4#,##0.00;(\xa4#,##0.00)","en-GM":"\xa4#,##0.00;(\xa4#,##0.00)","en-GU":"\xa4#,##0.00;(\xa4#,##0.00)","en-GY":"\xa4#,##0.00;(\xa4#,##0.00)","en-HK":"\xa4#,##0.00;(\xa4#,##0.00)","en-IE":"\xa4#,##0.00;(\xa4#,##0.00)","en-IL":"\xa4#,##0.00;(\xa4#,##0.00)","en-IM":"\xa4#,##0.00;(\xa4#,##0.00)","en-IN":"\xa4#,##0.00;(\xa4#,##0.00)","en-IO":"\xa4#,##0.00;(\xa4#,##0.00)","en-JE":"\xa4#,##0.00;(\xa4#,##0.00)","en-JM":"\xa4#,##0.00;(\xa4#,##0.00)","en-KE":"\xa4#,##0.00;(\xa4#,##0.00)","en-KI":"\xa4#,##0.00;(\xa4#,##0.00)","en-KN":"\xa4#,##0.00;(\xa4#,##0.00)","en-KY":"\xa4#,##0.00;(\xa4#,##0.00)","en-LC":"\xa4#,##0.00;(\xa4#,##0.00)","en-LR":"\xa4#,##0.00;(\xa4#,##0.00)","en-LS":"\xa4#,##0.00;(\xa4#,##0.00)","en-MG":"\xa4#,##0.00;(\xa4#,##0.00)","en-MH":"\xa4#,##0.00;(\xa4#,##0.00)","en-MO":"\xa4#,##0.00;(\xa4#,##0.00)","en-MP":"\xa4#,##0.00;(\xa4#,##0.00)","en-MS":"\xa4#,##0.00;(\xa4#,##0.00)","en-MT":"\xa4#,##0.00;(\xa4#,##0.00)","en-MU":"\xa4#,##0.00;(\xa4#,##0.00)","en-MV":"\xa4\xa0#,##0.00","en-MW":"\xa4#,##0.00;(\xa4#,##0.00)","en-MY":"\xa4#,##0.00;(\xa4#,##0.00)","en-NA":"\xa4#,##0.00;(\xa4#,##0.00)","en-NF":"\xa4#,##0.00;(\xa4#,##0.00)","en-NG":"\xa4#,##0.00;(\xa4#,##0.00)","en-NL":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","en-NR":"\xa4#,##0.00;(\xa4#,##0.00)","en-NU":"\xa4#,##0.00;(\xa4#,##0.00)","en-NZ":"\xa4#,##0.00;(\xa4#,##0.00)","en-PG":"\xa4#,##0.00;(\xa4#,##0.00)","en-PH":"\xa4#,##0.00;(\xa4#,##0.00)","en-PK":"\xa4#,##0.00;(\xa4#,##0.00)","en-PN":"\xa4#,##0.00;(\xa4#,##0.00)","en-PR":"\xa4#,##0.00;(\xa4#,##0.00)","en-PW":"\xa4#,##0.00;(\xa4#,##0.00)","en-RW":"\xa4#,##0.00;(\xa4#,##0.00)","en-SB":"\xa4#,##0.00;(\xa4#,##0.00)","en-SC":"\xa4#,##0.00;(\xa4#,##0.00)","en-SD":"\xa4#,##0.00;(\xa4#,##0.00)","en-SE":"#,##0.00\xa0\xa4","en-SG":"\xa4#,##0.00;(\xa4#,##0.00)","en-SH":"\xa4#,##0.00;(\xa4#,##0.00)","en-SI":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","en-SL":"\xa4#,##0.00;(\xa4#,##0.00)","en-SS":"\xa4#,##0.00;(\xa4#,##0.00)","en-SX":"\xa4#,##0.00;(\xa4#,##0.00)","en-SZ":"\xa4#,##0.00;(\xa4#,##0.00)","en-TC":"\xa4#,##0.00;(\xa4#,##0.00)","en-TK":"\xa4#,##0.00;(\xa4#,##0.00)","en-TO":"\xa4#,##0.00;(\xa4#,##0.00)","en-TT":"\xa4#,##0.00;(\xa4#,##0.00)","en-TV":"\xa4#,##0.00;(\xa4#,##0.00)","en-TZ":"\xa4#,##0.00;(\xa4#,##0.00)","en-UG":"\xa4#,##0.00;(\xa4#,##0.00)","en-UM":"\xa4#,##0.00;(\xa4#,##0.00)","en-VC":"\xa4#,##0.00;(\xa4#,##0.00)","en-VG":"\xa4#,##0.00;(\xa4#,##0.00)","en-VI":"\xa4#,##0.00;(\xa4#,##0.00)","en-VU":"\xa4#,##0.00;(\xa4#,##0.00)","en-WS":"\xa4#,##0.00;(\xa4#,##0.00)","en-ZA":"\xa4#,##0.00;(\xa4#,##0.00)","en-ZM":"\xa4#,##0.00;(\xa4#,##0.00)","en-ZW":"\xa4#,##0.00;(\xa4#,##0.00)",eo:"\xa4\xa0#,##0.00",es:"#,##0.00\xa0\xa4","es-419":"\xa4#,##0.00","es-AR":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","es-BO":"\xa4#,##0.00","es-BR":"\xa4#,##0.00","es-BZ":"\xa4#,##0.00","es-CL":"\xa4#,##0.00","es-CO":"\xa4#,##0.00","es-CR":"\xa4#,##0.00","es-CU":"\xa4#,##0.00","es-DO":"\xa4#,##0.00;(\xa4#,##0.00)","es-EA":"#,##0.00\xa0\xa4","es-EC":"\xa4#,##0.00","es-GQ":"#,##0.00\xa0\xa4","es-GT":"\xa4#,##0.00","es-HN":"\xa4#,##0.00","es-IC":"#,##0.00\xa0\xa4","es-MX":"\xa4#,##0.00","es-NI":"\xa4#,##0.00","es-PA":"\xa4#,##0.00","es-PE":"\xa4#,##0.00","es-PH":"#,##0.00\xa0\xa4","es-PR":"\xa4#,##0.00","es-PY":"\xa4#,##0.00","es-SV":"\xa4#,##0.00","es-US":"\xa4#,##0.00","es-UY":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","es-VE":"\xa4#,##0.00",et:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",eu:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",ewo:"#,##0.00\xa0\xa4",fa:"\u200e\xa4\xa0#,##0.00;\u200e(\xa4\xa0#,##0.00)","fa-AF":"\xa4\xa0#,##0.00;\u200e(\xa4\xa0#,##0.00)",ff:"#,##0.00\xa0\xa4","ff-Adlm":"\xa4\xa0#,##0.00","ff-Adlm-BF":"\xa4\xa0#,##0.00","ff-Adlm-CM":"\xa4\xa0#,##0.00","ff-Adlm-GH":"\xa4\xa0#,##0.00","ff-Adlm-GM":"\xa4\xa0#,##0.00","ff-Adlm-GW":"\xa4\xa0#,##0.00","ff-Adlm-LR":"\xa4\xa0#,##0.00","ff-Adlm-MR":"\xa4\xa0#,##0.00","ff-Adlm-NE":"\xa4\xa0#,##0.00","ff-Adlm-NG":"\xa4\xa0#,##0.00","ff-Adlm-SL":"\xa4\xa0#,##0.00","ff-Adlm-SN":"\xa4\xa0#,##0.00","ff-Latn":"#,##0.00\xa0\xa4","ff-Latn-BF":"#,##0.00\xa0\xa4","ff-Latn-CM":"#,##0.00\xa0\xa4","ff-Latn-GH":"#,##0.00\xa0\xa4","ff-Latn-GM":"#,##0.00\xa0\xa4","ff-Latn-GN":"#,##0.00\xa0\xa4","ff-Latn-GW":"#,##0.00\xa0\xa4","ff-Latn-LR":"#,##0.00\xa0\xa4","ff-Latn-MR":"#,##0.00\xa0\xa4","ff-Latn-NE":"#,##0.00\xa0\xa4","ff-Latn-NG":"#,##0.00\xa0\xa4","ff-Latn-SL":"#,##0.00\xa0\xa4",fi:"#,##0.00\xa0\xa4",fil:"\xa4#,##0.00;(\xa4#,##0.00)",fo:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fo-DK":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",fr:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-BE":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-BF":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-BI":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-BJ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-BL":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CA":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CD":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CF":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CG":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CH":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CI":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CM":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-DJ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-DZ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-GA":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-GF":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-GN":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-GP":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-GQ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-HT":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-KM":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-LU":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MA":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MC":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MF":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MG":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-ML":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MQ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MR":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MU":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-NC":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-NE":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-PF":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-PM":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-RE":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-RW":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-SC":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-SN":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-SY":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-TD":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-TG":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-TN":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-VU":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-WF":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-YT":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",fur:"\xa4\xa0#,##0.00",fy:"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)",ga:"\xa4#,##0.00;(\xa4#,##0.00)","ga-GB":"\xa4#,##0.00;(\xa4#,##0.00)",gd:"\xa4#,##0.00;(\xa4#,##0.00)",gl:"#,##0.00\xa0\xa4",gsw:"#,##0.00\xa0\xa4","gsw-FR":"#,##0.00\xa0\xa4","gsw-LI":"#,##0.00\xa0\xa4",gu:"\xa4#,##,##0.00;(\xa4#,##,##0.00)",guz:"\xa4#,##0.00;(\xa4#,##0.00)",gv:"\xa4#,##0.00",ha:"\xa4\xa0#,##0.00","ha-GH":"\xa4\xa0#,##0.00","ha-NE":"\xa4\xa0#,##0.00",haw:"\xa4#,##0.00;(\xa4#,##0.00)",he:"#,##0.00\xa0\xa4",hi:"\xa4#,##,##0.00","hi-Latn":"\xa4#,##,##0.00",hr:"#,##0.00\xa0\xa4","hr-BA":"#,##0.00\xa0\xa4",hsb:"#,##0.00\xa0\xa4",hu:"#,##0.00\xa0\xa4",hy:"#,##0.00\xa0\xa4",ia:"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)",id:"\xa4#,##0.00",ig:"\xa4#,##0.00;(\xa4#,##0.00)",ii:"\xa4\xa0#,##0.00",is:"#,##0.00\xa0\xa4",it:"#,##0.00\xa0\xa4","it-CH":"#,##0.00\xa0\xa4","it-SM":"#,##0.00\xa0\xa4","it-VA":"#,##0.00\xa0\xa4",ja:"\xa4#,##0.00;(\xa4#,##0.00)",jgo:"\xa4\xa0#,##0.00",jmc:"\xa4#,##0.00",jv:"\xa4\xa0#,##0.00",ka:"#,##0.00\xa0\xa4",kab:"#,##0.00\xa4",kam:"\xa4#,##0.00;(\xa4#,##0.00)",kde:"\xa4#,##0.00;(\xa4#,##0.00)",kea:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",kgp:"\xa4\xa0#,##0.00",khq:"#,##0.00\xa4",ki:"\xa4#,##0.00;(\xa4#,##0.00)",kk:"#,##0.00\xa0\xa4",kkj:"\xa4\xa0#,##0.00",kl:"\xa4#,##0.00;\xa4-#,##0.00",kln:"\xa4#,##0.00;(\xa4#,##0.00)",km:"#,##0.00\xa4;(#,##0.00\xa4)",kn:"\xa4#,##0.00;(\xa4#,##0.00)",ko:"\xa4#,##0.00;(\xa4#,##0.00)","ko-KP":"\xa4#,##0.00;(\xa4#,##0.00)",kok:"\xa4#,##0.00;(\xa4#,##0.00)",ks:"\xa4#,##0.00","ks-Arab":"\xa4#,##0.00","ks-Deva":"\xa4\xa0#,##0.00",ksb:"#,##0.00\xa4",ksf:"#,##0.00\xa0\xa4",ksh:"#,##0.00\xa0\xa4",ku:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",kw:"\xa4#,##0.00",ky:"#,##0.00\xa0\xa4",lag:"\xa4\xa0#,##0.00",lb:"#,##0.00\xa0\xa4",lg:"#,##0.00\xa4",lkt:"\xa4\xa0#,##0.00",ln:"#,##0.00\xa0\xa4","ln-AO":"#,##0.00\xa0\xa4","ln-CF":"#,##0.00\xa0\xa4","ln-CG":"#,##0.00\xa0\xa4",lo:"\xa4#,##0.00;\xa4-#,##0.00",lrc:"\xa4\xa0#,##0.00","lrc-IQ":"\xa4\xa0#,##0.00",lt:"#,##0.00\xa0\xa4",lu:"#,##0.00\xa4",luo:"#,##0.00\xa4",luy:"\xa4#,##0.00;\xa4-\xa0#,##0.00",lv:"#,##0.00\xa0\xa4",mai:"\xa4\xa0#,##0.00",mas:"\xa4#,##0.00;(\xa4#,##0.00)","mas-TZ":"\xa4#,##0.00;(\xa4#,##0.00)",mer:"\xa4#,##0.00;(\xa4#,##0.00)",mfe:"\xa4\xa0#,##0.00",mg:"\xa4#,##0.00",mgh:"\xa4\xa0#,##0.00",mgo:"\xa4\xa0#,##0.00",mi:"\xa4\xa0#,##0.00",mk:"#,##0.00\xa0\xa4",ml:"\xa4#,##0.00;(\xa4#,##0.00)",mn:"\xa4\xa0#,##0.00",mni:"\xa4\xa0#,##0.00","mni-Beng":"\xa4\xa0#,##0.00",mr:"\xa4#,##0.00;(\xa4#,##0.00)",ms:"\xa4#,##0.00;(\xa4#,##0.00)","ms-BN":"\xa4#,##0.00;(\xa4#,##0.00)","ms-ID":"\xa4#,##0.00","ms-SG":"\xa4#,##0.00;(\xa4#,##0.00)",mt:"\xa4#,##0.00",mua:"\xa4#,##0.00;(\xa4#,##0.00)",my:"\xa4\xa0#,##0.00",mzn:"\xa4\xa0#,##0.00",naq:"\xa4#,##0.00",nb:"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nb-SJ":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)",nd:"\xa4#,##0.00;(\xa4#,##0.00)",nds:"\xa4\xa0#,##0.00","nds-NL":"\xa4\xa0#,##0.00",ne:"\xa4\xa0#,##,##0.00","ne-IN":"\xa4\xa0#,##,##0.00",nl:"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nl-AW":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nl-BE":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nl-BQ":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nl-CW":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nl-SR":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nl-SX":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)",nmg:"#,##0.00\xa0\xa4",nn:"#,##0.00\xa0\xa4",nnh:"\xa4\xa0#,##0.00",no:"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)",nus:"\xa4#,##0.00;(\xa4#,##0.00)",nyn:"\xa4#,##0.00",om:"\xa4#,##0.00","om-KE":"\xa4#,##0.00",or:"\xa4#,##0.00;(\xa4#,##0.00)",os:"\xa4\xa0#,##0.00","os-RU":"\xa4\xa0#,##0.00",pa:"\xa4\xa0#,##0.00","pa-Arab":"\xa4\xa0#,##0.00","pa-Guru":"\xa4\xa0#,##0.00",pcm:"\xa4#,##0.00",pl:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",ps:"\xa4#,##0.00;(\xa4#,##0.00)","ps-PK":"\xa4#,##0.00;(\xa4#,##0.00)",pt:"\xa4\xa0#,##0.00","pt-AO":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-CH":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-CV":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-GQ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-GW":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-LU":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-MO":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-MZ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-PT":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-ST":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-TL":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",qu:"\xa4\xa0#,##0.00","qu-BO":"\xa4\xa0#,##0.00","qu-EC":"\xa4\xa0#,##0.00",rm:"#,##0.00\xa0\xa4",rn:"#,##0.00\xa4",ro:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","ro-MD":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",rof:"\xa4#,##0.00",ru:"#,##0.00\xa0\xa4","ru-BY":"#,##0.00\xa0\xa4","ru-KG":"#,##0.00\xa0\xa4","ru-KZ":"#,##0.00\xa0\xa4","ru-MD":"#,##0.00\xa0\xa4","ru-UA":"#,##0.00\xa0\xa4",rw:"\xa4\xa0#,##0.00",rwk:"#,##0.00\xa4",sa:"\xa4\xa0#,##0.00",sah:"#,##0.00\xa0\xa4",saq:"\xa4#,##0.00;(\xa4#,##0.00)",sat:"\xa4\xa0#,##0.00","sat-Olck":"\xa4\xa0#,##0.00",sbp:"#,##0.00\xa4",sc:"#,##0.00\xa0\xa4",sd:"\xa4\xa0#,##0.00","sd-Arab":"\xa4\xa0#,##0.00","sd-Deva":"\xa4\xa0#,##0.00",se:"#,##0.00\xa0\xa4","se-FI":"#,##0.00\xa0\xa4","se-SE":"#,##0.00\xa0\xa4",seh:"#,##0.00\xa4",ses:"#,##0.00\xa4",sg:"\xa4#,##0.00;\xa4-#,##0.00",shi:"#,##0.00\xa4","shi-Latn":"#,##0.00\xa4","shi-Tfng":"#,##0.00\xa4",si:"\xa4#,##0.00;(\xa4#,##0.00)",sk:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",sl:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",smn:"#,##0.00\xa0\xa4",sn:"\xa4#,##0.00;(\xa4#,##0.00)",so:"\xa4#,##0.00;(\xa4#,##0.00)","so-DJ":"\xa4#,##0.00;(\xa4#,##0.00)","so-ET":"\xa4#,##0.00;(\xa4#,##0.00)","so-KE":"\xa4#,##0.00;(\xa4#,##0.00)",sq:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sq-MK":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sq-XK":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",sr:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Cyrl":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Cyrl-BA":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Cyrl-ME":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Cyrl-XK":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Latn":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Latn-BA":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Latn-ME":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Latn-XK":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",su:"\xa4#,##0.00","su-Latn":"\xa4#,##0.00",sv:"#,##0.00\xa0\xa4","sv-AX":"#,##0.00\xa0\xa4","sv-FI":"#,##0.00\xa0\xa4",sw:"\xa4\xa0#,##0.00","sw-CD":"\xa4\xa0#,##0.00","sw-KE":"\xa4\xa0#,##0.00","sw-UG":"\xa4\xa0#,##0.00",ta:"\xa4#,##0.00;(\xa4#,##0.00)","ta-LK":"\xa4#,##0.00;(\xa4#,##0.00)","ta-MY":"\xa4#,##0.00;(\xa4#,##0.00)","ta-SG":"\xa4#,##0.00;(\xa4#,##0.00)",te:"\xa4#,##0.00;(\xa4#,##0.00)",teo:"\xa4#,##0.00;(\xa4#,##0.00)","teo-KE":"\xa4#,##0.00;(\xa4#,##0.00)",tg:"#,##0.00\xa0\xa4",th:"\xa4#,##0.00;(\xa4#,##0.00)",ti:"\xa4#,##0.00","ti-ER":"\xa4#,##0.00",tk:"#,##0.00\xa0\xa4",to:"\xa4\xa0#,##0.00",tr:"\xa4#,##0.00;(\xa4#,##0.00)","tr-CY":"\xa4#,##0.00;(\xa4#,##0.00)",tt:"#,##0.00\xa0\xa4",twq:"#,##0.00\xa4",tzm:"#,##0.00\xa0\xa4",ug:"\xa4#,##0.00;(\xa4#,##0.00)",uk:"#,##0.00\xa0\xa4",und:"\xa4\xa0#,##0.00",ur:"\xa4#,##0.00;(\xa4#,##0.00)","ur-IN":"\xa4#,##0.00;(\xa4#,##0.00)",uz:"#,##0.00\xa0\xa4","uz-Arab":"\xa4\xa0#,##0.00","uz-Cyrl":"#,##0.00\xa0\xa4","uz-Latn":"#,##0.00\xa0\xa4",vai:"\xa4#,##0.00;(\xa4#,##0.00)","vai-Latn":"\xa4#,##0.00;(\xa4#,##0.00)","vai-Vaii":"\xa4#,##0.00;(\xa4#,##0.00)",vi:"#,##0.00\xa0\xa4",vun:"\xa4#,##0.00",wae:"\xa4\xa0#,##0.00",wo:"\xa4\xa0#,##0.00",xh:"\xa4#,##0.00",xog:"#,##0.00\xa0\xa4",yav:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",yi:"\xa4\xa0#,##0.00",yo:"\xa4#,##0.00;(\xa4#,##0.00)","yo-BJ":"\xa4#,##0.00;(\xa4#,##0.00)",yrl:"\xa4\xa0#,##0.00","yrl-CO":"\xa4\xa0#,##0.00","yrl-VE":"\xa4\xa0#,##0.00",yue:"\xa4#,##0.00;(\xa4#,##0.00)","yue-Hans":"\xa4#,##0.00;(\xa4#,##0.00)","yue-Hant":"\xa4#,##0.00;(\xa4#,##0.00)",zgh:"#,##0.00\xa4",zh:"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hans":"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hans-HK":"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hans-MO":"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hans-SG":"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hant":"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hant-HK":"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hant-MO":"\xa4#,##0.00;(\xa4#,##0.00)",zu:"\xa4#,##0.00;(\xa4#,##0.00)"},m=["standard","accounting"],g=/([^\s0]+)?(\s*)0*[.,]*0*(\s*)([^\s0]+)?/,v={},y=function(t){var e=p.a.locale()+"/"+JSON.stringify(t);return v[e]||(v[e]=new Intl.NumberFormat(p.a.locale(),t).format),v[e]},_={engine:function(){return"intl"},_formatNumberCore:function(t,e,n){return"exponential"===e?this.callBase.apply(this,arguments):y(this._normalizeFormatConfig(e,n,t))(t)},_normalizeFormatConfig:function(t,e,n){var i;if("decimal"===t){var o=String(n).split(".")[1];i={minimumIntegerDigits:e.precision||void 0,useGrouping:!1,maximumFractionDigits:o&&o.length,round:n<0?"ceil":"floor"}}else i=this._getPrecisionConfig(e.precision);if("percent"===t)i.style="percent";else if("currency"===t){var r,a=null!==(r=e.useCurrencyAccountingStyle)&&void 0!==r?r:Object(c.a)().defaultUseCurrencyAccountingStyle;i.style="currency",i.currency=e.currency||Object(c.a)().defaultCurrency,i.currencySign=m[+a]}return i},_getPrecisionConfig:function(t){return null===t?{minimumFractionDigits:0,maximumFractionDigits:20}:{minimumFractionDigits:t||0,maximumFractionDigits:t||0}},format:function(t,e){return"number"!==typeof t?t:("default"===(e=this._normalizeFormat(e)).currency&&(e.currency=Object(c.a)().defaultCurrency),e&&("function"===typeof e||e.type||e.formatter)?this.callBase.apply(this,arguments):y(e)(t))},_getCurrencySymbolInfo:function(t){var e=function(t){return new Intl.NumberFormat(p.a.locale(),{style:"currency",currency:t})}(t);return this._extractCurrencySymbolInfo(e.format(0))},_extractCurrencySymbolInfo:function(t){var e=g.exec(t)||[];return{position:e[1]?"before":"after",symbol:e[1]||e[4]||"",delimiter:e[2]||e[3]||""}},getCurrencySymbol:function(t){return t||(t=Object(c.a)().defaultCurrency),{symbol:this._getCurrencySymbolInfo(t).symbol}},getOpenXmlCurrencyFormat:function(t){var e=t||Object(c.a)().defaultCurrency;return function(t,e){if(e){var n=t;if("string"===typeof t){n="";for(var i=0;i<t.length;i++)"$"!==t[i]&&(n+="\\"),n+=t[i]}for(var o={".00":"{0}","'":"\\'","\\(":"\\(","\\)":"\\)"," ":"\\ ",'"':"&quot;","\\\xa4":n},r=e.split(";"),a=0;a<r.length;a++)for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[a]=r[a].replace(new RegExp(s,"g"),o[s]));return 2===r.length?r[0]+"_);"+r[1]:r[0]}}(this._getCurrencySymbolInfo(e).symbol,p.a.getValueByClosestLocale(function(t){return f[t]}))}},b="undefined"!==typeof Intl,C=["currency","fixedpoint","exponential","percent","decimal"],O={1:"K",2:"M",3:"B",4:"T"},x={largenumber:"auto",thousands:1,millions:2,billions:3,trillions:4},S=Object(o.a)({engine:function(){return"base"},numericFormats:C,defaultLargeNumberFormatPostfixes:O,_parseNumberFormatString:function(t){var e={};if(t&&"string"===typeof t){var n=t.toLowerCase().split(" ");return Object(a.a)(n,function(t,n){C.includes(n)?e.formatType=n:n in x&&(e.power=x[n])}),e.power&&!e.formatType&&(e.formatType="fixedpoint"),e.formatType?e:void 0}},_calculateNumberPower:function(t,e,n,i){var o=Math.abs(t),r=0;if(o>1)for(;o&&o>=e&&(void 0===i||r<i);)r++,o/=e;else if(o>0&&o<1)for(;o<1&&(void 0===n||r>n);)r--,o*=e;return r},_getNumberByPower:function(t,e,n){for(var i=t;e>0;)i/=n,e--;for(;e<0;)i*=n,e++;return i},_formatNumber:function(t,e,n){"auto"===e.power&&(e.power=this._calculateNumberPower(t,1e3,0,4)),e.power&&(t=this._getNumberByPower(t,e.power,1e3));var i=this.defaultLargeNumberFormatPostfixes[e.power]||"",o=this._formatNumberCore(t,e.formatType,n);return o=o.replace(/(\d|.$)(\D*)$/,"$1"+i+"$2")},_formatNumberExponential:function(t,e){var n=this._calculateNumberPower(t,10),i=this._getNumberByPower(t,n,10);void 0===e.precision&&(e.precision=1),i.toFixed(e.precision||0)>=10&&(n++,i/=10);var o=(n>=0?"+":"")+n.toString();return this._formatNumberCore(i,"fixedpoint",e)+"E"+o},_addZeroes:function(t,e){for(var n=Math.pow(10,e),i=t<0?"-":"",o=(t=(Math.abs(t)*n>>>0)/n).toString();o.length<e;)o="0"+o;return i+o},_addGroupSeparators:function(t){var e=t.toString().split(".");return e[0].replace(/\B(?=(\d{3})+(?!\d))/g,Object(c.a)().thousandsSeparator)+(e[1]?Object(c.a)().decimalSeparator+e[1]:"")},_formatNumberCore:function(t,e,n){return"exponential"===e?this._formatNumberExponential(t,n):("decimal"!==e&&null!==n.precision&&(n.precision=n.precision||0),"percent"===e&&(t*=100),void 0!==n.precision&&(t="decimal"===e?this._addZeroes(t,n.precision):null===n.precision?t.toPrecision():Object(h.a)(t,n.precision)),t="decimal"!==e?this._addGroupSeparators(t):t.toString().replace(".",Object(c.a)().decimalSeparator),"percent"===e&&(t+="%"),t)},_normalizeFormat:function(t){return t?"function"===typeof t?t:(Object(s.k)(t)||(t={type:t}),t):{}},_getSeparators:function(){return{decimalSeparator:this.getDecimalSeparator(),thousandsSeparator:this.getThousandsSeparator()}},getThousandsSeparator:function(){return this.format(1e4,"fixedPoint")[2]},getDecimalSeparator:function(){return this.format(1.2,{type:"fixedPoint",precision:1})[1]},convertDigits:function(t,e){var n=this.format(90,"decimal");if("string"!==typeof t||"0"===n[1])return t;var i=e?n[1]:"0",o=e?"0":n[1],r=e?n[0]:"9",a=new RegExp("["+i+"-"+r+"]","g");return t.replace(a,function(t){return String.fromCharCode(t.charCodeAt(0)+(o.charCodeAt(0)-i.charCodeAt(0)))})},getNegativeEtalonRegExp:function(t){var e=this._getSeparators(),n=new RegExp("[0-9"+Object(r.escapeRegExp)(e.decimalSeparator+e.thousandsSeparator)+"]+","g"),i=this.format(-1,t).replace(n,"1");return["\\","(",")","[","]","*","+","$","^","?","|","{","}"].forEach(function(t){i=i.replace(new RegExp("\\".concat(t),"g"),"\\".concat(t))}),i=(i=i.replace(/ /g,"\\s")).replace(/1/g,".*"),new RegExp(i,"g")},getSign:function(t,e){if(!e)return"-"===t.replace(/[^0-9-]/g,"").charAt(0)?-1:1;var n=this.getNegativeEtalonRegExp(e);return t.match(n)?-1:1},format:function(t,e){if("number"!==typeof t)return t;if("number"===typeof e)return t;if("function"===typeof(e=e&&e.formatter||e))return e(t);(e=this._normalizeFormat(e)).type||(e.type="decimal");var n=this._parseNumberFormatString(e.type);if(!n){var i=this._getSeparators();return i.unlimitedIntegerDigits=e.unlimitedIntegerDigits,this.convertDigits(Object(l.b)(e.type,i)(t))}return this._formatNumber(t,n,e)},parse:function(t,e){if(t){if(e&&e.parser)return e.parser(t);t=this.convertDigits(t,!0),e&&"string"!==typeof e&&u.a.log("W0011");var n=this.getDecimalSeparator(),i=new RegExp("[^0-9"+Object(r.escapeRegExp)(n)+"]","g"),o=t.replace(i,"").replace(n,".").replace(/\.$/g,"");if("."===o||""===o)return null;if(this._calcSignificantDigits(o)>15)return NaN;var a=+o*this.getSign(t,e);e=this._normalizeFormat(e);var s=this._parseNumberFormatString(e.type),l=null===s||void 0===s?void 0:s.power;if(l){if("auto"===l){var c=t.match(/\d(K|M|B|T)/);c&&(l=Object.keys(O).find(function(t){return O[t]===c[1]}))}a*=Math.pow(10,3*l)}return"percent"===(null===s||void 0===s?void 0:s.formatType)&&(a/=100),a}},_calcSignificantDigits:function(t){var e=t.split("."),n=Object(i.a)(e,2),o=n[0],r=n[1],a=function(t){for(var e=-1,n=0;n<t.length;n++)if("0"!==t[n]){e=n;break}return e>-1?t.length-e:0},s=0;return o&&(s+=a(o.split(""))),r&&(s+=a(r.split("").reverse())),s}});S.inject(d.a),b&&S.inject(_);e.a=S},function(t,e,n){"use strict";var i=n(2),o=n(7),r=n(20),a=n(17),s=n(48),l=n(74),c=n(10),u=n(109);function h(t){return t&&[t.target,t.delegateTarget,t.relatedTarget,t.currentTarget].filter(function(t){return!!t})}var d=n(44),p=n(132),f=n(105);n.d(e,"a",function(){return m});var m="dxclick",g=(l.requestAnimationFrame,l.cancelAnimationFrame,null),v=null,y=function(){v=null},_=function(t){var e,n,i=t.originalEvent,r=v===i||i&&i.DXCLICK_FIRED;!(!t.which||1===t.which)||g||r||(i&&(i.DXCLICK_FIRED=!0),e=v,n=y,o.a.off(h(e),u.a,n),function(t,e){o.a.one(h(t),u.a,e)}(v=i,y),Object(c.f)({type:m,originalEvent:t}))},b=p.a.inherit({ctor:function(t){this.callBase(t),o.a.on(this.getElement(),"click",_)},start:function(t){g=null},cancel:function(){g=!0},dispose:function(){o.a.off(this.getElement(),"click",_)}});!function(){if(!r.a.real().generic){var t=null,e=!1,n=a.a.getDocument();o.a.subscribeGlobal(n,Object(c.a)(d.a.down,"NATIVE_CLICK_FIXER"),function(n){t=n.target,e=n.isDefaultPrevented()}),o.a.subscribeGlobal(n,Object(c.a)("click","NATIVE_CLICK_FIXER"),function(n){var o,r=Object(i.a)(n.target);e||!t||r.is(t)||Object(i.a)(t).is("label")||(o=r,!Object(i.a)(o).is("input, textarea, select, button ,:focus, :focus *"))||Object(s.h)(),t=null,e=!1})}}(),Object(f.a)({emitter:b,bubble:!0,events:[m]})},function(t,e,n){"use strict";var i=n(32).a.inherit({ctor:function(t){t&&(t=String(t)),this._value=this._normalize(t||this._generate())},_normalize:function(t){for(t=t.replace(/[^a-f0-9]/gi,"").toLowerCase();t.length<32;)t+="0";return[t.substr(0,8),t.substr(8,4),t.substr(12,4),t.substr(16,4),t.substr(20,12)].join("-")},_generate:function(){for(var t="",e=0;e<32;e++)t+=Math.round(15*Math.random()).toString(16);return t},toString:function(){return this._value},valueOf:function(){return this._value},toJSON:function(){return this._value}});e.a=i},function(t,e,n){"use strict";var i=n(21);function o(t,e,n,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),o&&(this.response=o)}i.a.inherits(o,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:i.a.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var r=o.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(function(t){a[t]={value:t}}),Object.defineProperties(o,a),Object.defineProperty(r,"isAxiosError",{value:!0}),o.from=function(t,e,n,a,s,l){var c=Object.create(r);return i.a.toFlatObject(t,c,function(t){return t!==Error.prototype},function(t){return"isAxiosError"!==t}),o.call(c,t.message,e,n,a,s),c.cause=t,c.name=t.name,l&&Object.assign(c,l),c},e.a=o},function(t,e,n){"use strict";var i=n(2),o=n(15),r=n(7),a=n(38),s=n(33),l=n(3),c=n(1),u=n(9),h=n(34),d=/cubic-bezier\((\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\)/,p={linear:"cubic-bezier(0, 0, 1, 1)",swing:"cubic-bezier(0.445, 0.05, 0.55, 0.95)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)"},f={},m=function(t){var e,n=(t=p[t]||t).match(d);n||(n=p[e="linear"].match(d)),n=n.slice(1,5);for(var i=0;i<n.length;i++)n[i]=parseFloat(n[i]);var o=e||"cubicbezier_"+n.join("_").replace(/\./g,"p");return Object(c.h)(f[o])||(f[o]=function(t,e,i,o,r){return o*function(t,e,n,i){var o=3*t,r=3*(n-t)-o,a=1-o-r,s=3*e,l=3*(i-e)-s,c=1-s-l,u=function(t){return t*(o+t*(r+t*a))},h=function(t){return o+t*(2*r+3*t*a)};return function(t){return function(t){return t*(s+t*(l+t*c))}(function(t){for(var e,n=t,i=0;i<14&&(e=u(n)-t,!(Math.abs(e)<.001));)n-=e/h(n),i++;return n}(t))}}(n[0],n[1],n[2],n[3])(e/r)+i}),o};var g=n(74),v=n(64),y=n(68),_=n(109),b=n(10),C=n(16),O=n(5),x=Object(o.d)(),S=Object(b.a)(_.a,"dxFX"),w=/^([+-])=(.*)/i,P="dxAnimData",k="dxAnimQueue",E={initAnimation:function(t,e){t.css({transitionProperty:"none"}),"string"===typeof e.from?t.addClass(e.from):Z(t,e.from);var n=this,i=new C.a,o=e.cleanupWhen;e.transitionAnimation={deferred:i,finish:function(){n._finishTransition(t),o?Object(C.c)(i,o).always(function(){n._cleanup(t,e)}):n._cleanup(t,e),i.resolveWith(t,[e,t])}},this._completeAnimationCallback(t,e).done(function(){e.transitionAnimation.finish()}).fail(function(){i.rejectWith(t,[e,t])}),e.duration||e.transitionAnimation.finish(),t.css("transform")},animate:function(t,e){return this._startAnimation(t,e),e.transitionAnimation.deferred.promise()},_completeAnimationCallback:function(t,e){var n,i=this,o=Date.now()+e.delay,a=new C.a,s=new C.a,l=new C.a,c=Object(v.transitionEndEventName)()+".dxFX";e.transitionAnimation.cleanup=function(){clearTimeout(n),clearTimeout(u),r.a.off(t,c),r.a.off(t,S)},r.a.one(t,c,function(){Date.now()-o>=e.duration&&s.reject()}),r.a.off(t,S),r.a.on(t,S,function(){i.stop(t,e),a.reject()});var u=setTimeout(function(){n=setTimeout(function(){l.reject()},e.duration+e.delay+Y._simulatedTransitionEndDelay),Object(C.c)(s,l).fail(function(){a.resolve()}.bind(this))});return a.promise()},_startAnimation:function(t,e){t.css({transitionProperty:"all",transitionDelay:e.delay+"ms",transitionDuration:e.duration+"ms",transitionTimingFunction:e.easing}),"string"===typeof e.to?t[0].className+=" "+e.to:e.to&&Z(t,e.to)},_finishTransition:function(t){t.css("transition","none")},_cleanup:function(t,e){e.transitionAnimation.cleanup(),"string"===typeof e.from&&(t.removeClass(e.from),t.removeClass(e.to))},stop:function(t,e,n){e&&(n?e.transitionAnimation.finish():(Object(c.k)(e.to)&&Object(u.a)(e.to,function(e){t.css(e,t.css(e))}),this._finishTransition(t),this._cleanup(t,e)))}},T={initAnimation:function(t,e){Z(t,e.from)},animate:function(t,e){var n=new C.a,i=this;return e?(Object(u.a)(e.to,function(n){void 0===e.from[n]&&(e.from[n]=i._normalizeValue(t.css(n)))}),e.to.transform&&(e.from.transform=i._parseTransform(e.from.transform),e.to.transform=i._parseTransform(e.to.transform)),e.frameAnimation={to:e.to,from:e.from,currentValue:e.from,easing:m(e.easing),duration:e.duration,startTime:(new Date).valueOf(),finish:function(){this.currentValue=this.to,this.draw(),Object(g.cancelAnimationFrame)(e.frameAnimation.animationFrameId),n.resolve()},draw:function(){if(e.draw)e.draw(this.currentValue);else{var n=Object(l.a)({},this.currentValue);n.transform&&(n.transform=Object(u.b)(n.transform,function(t,e){return"translate"===e?Object(h.c)(t):"scale"===e?"scale("+t+")":"rotate"===e.substr(0,e.length-1)?e+"("+t+"deg)":void 0}).join(" ")),t.css(n)}}},e.delay?(e.frameAnimation.startTime+=e.delay,e.frameAnimation.delayTimeout=setTimeout(function(){i._startAnimation(t,e)},e.delay)):i._startAnimation(t,e),n.promise()):n.reject().promise()},_startAnimation:function(t,e){r.a.off(t,S),r.a.on(t,S,function(){e.frameAnimation&&Object(g.cancelAnimationFrame)(e.frameAnimation.animationFrameId)}),this._animationStep(t,e)},_parseTransform:function(t){var e={};return Object(u.a)(t.match(/\w+\d*\w*\([^)]*\)\s*/g),function(t,n){var i=Object(h.f)(n),o=n.match(/scale\((.+?)\)/),r=n.match(/(rotate.)\((.+)deg\)/);i&&(e.translate=i),o&&o[1]&&(e.scale=parseFloat(o[1])),r&&r[1]&&(e[r[1]]=parseFloat(r[2]))}),e},stop:function(t,e,n){var i=e&&e.frameAnimation;i&&(Object(g.cancelAnimationFrame)(i.animationFrameId),clearTimeout(i.delayTimeout),n&&i.finish(),delete e.frameAnimation)},_animationStep:function(t,e){var n=e&&e.frameAnimation;if(n){var i=(new Date).valueOf();if(i>=n.startTime+n.duration)n.finish();else{n.currentValue=this._calcStepValue(n,i-n.startTime),n.draw();var o=this;n.animationFrameId=Object(g.requestAnimationFrame)(function(){o._animationStep(t,e)})}}},_calcStepValue:function(t,e){return function n(i,o){var r=Array.isArray(o)?[]:{};return Object(u.a)(o,function(a,s){if("string"===typeof s&&!1===parseFloat(s))return!0;r[a]="object"===typeof s?n(i[a],s):function(n){var r,a=e/t.duration,s=e,l=1*i[n],c=o[n]-i[n],u=t.duration;return(r=t.easing,f[r])(a,s,l,c,u)}(a)}),r}(t.from,t.to)},_normalizeValue:function(t){var e=parseFloat(t);return!1===e?t:e}},I={initAnimation:function(){},animate:function(){return(new C.a).resolve().promise()},stop:O.noop,isSynchronous:!0},j=function(t,e,n,i){Object(u.a)(["from","to"],function(){if(!n(t[this]))throw a.a.Error("E0010",e,this,i)})},M=function(t,e){return j(t,e,function(t){return Object(c.k)(t)},"a plain object")},D={top:{my:"bottom center",at:"top center"},bottom:{my:"top center",at:"bottom center"},right:{my:"left center",at:"right center"},left:{my:"right center",at:"left center"}},A={validateConfig:function(t){M(t,"slide")},setup:function(t,e){var n=Object(h.d)(t);if("slide"!==e.type){var i="slideIn"===e.type?e.from:e.to;i.position=Object(l.a)({of:x},D[e.direction]),q(t,i)}this._setUpConfig(n,e.from),this._setUpConfig(n,e.to),Object(h.a)(t)},_setUpConfig:function(t,e){e.left="left"in e?e.left:"+=0",e.top="top"in e?e.top:"+=0",this._initNewPosition(t,e)},_initNewPosition:function(t,e){var n={left:e.left,top:e.top};delete e.left,delete e.top;var i=this._getRelativeValue(n.left);void 0!==i?n.left=i+t.left:e.left=0,void 0!==(i=this._getRelativeValue(n.top))?n.top=i+t.top:e.top=0,e.transform=Object(h.c)({x:n.left,y:n.top})},_getRelativeValue:function(t){var e;if("string"===typeof t&&(e=w.exec(t)))return parseInt(e[1]+"1")*e[2]}},R={setup:function(t,e){var n,i,o=e.from,r=e.to,a="fadeOut"===e.type?1:0,s="fadeOut"===e.type?0:1,l=Object(c.k)(o)?String(null!==(n=o.opacity)&&void 0!==n?n:a):String(o),u=Object(c.k)(r)?String(null!==(i=r.opacity)&&void 0!==i?i:s):String(r);switch(e.skipElementInitialStyles||(l=t.css("opacity")),e.type){case"fadeIn":u=1;break;case"fadeOut":u=0}e.from={visibility:"visible",opacity:l},e.to={opacity:u}}},B={custom:{setup:function(){}},slide:A,slideIn:A,slideOut:A,fade:R,fadeIn:R,fadeOut:R,pop:{validateConfig:function(t){M(t,"pop")},setup:function(t,e){var n=e.from,i=e.to,o="opacity"in n?n.opacity:t.css("opacity"),r="opacity"in i?i.opacity:1,a="scale"in n?n.scale:0,s="scale"in i?i.scale:1;e.from={opacity:o};var l=Object(h.b)(t);e.from.transform=this._getCssTransform(l,a),e.to={opacity:r},e.to.transform=this._getCssTransform(l,s)},_getCssTransform:function(t,e){return Object(h.c)(t)+"scale("+e+")"}},css:{validateConfig:function(t){!function(t,e){j(t,e,function(t){return"string"===typeof t},"a string")}(t,"css")},setup:function(){}}},L={type:"custom",from:{},to:{},duration:400,start:O.noop,complete:O.noop,easing:"ease",delay:0},N={duration:400,easing:"ease",delay:0};function z(){var t=this.element,e=this.config;if(q(t,e.from),q(t,e.to),this.configurator.setup(t,e),t.data(P,this),Y.off&&(e.duration=0,e.delay=0),this.strategy.initAnimation(t,e),e.start){var n=Object(s.a)(t);e.start.apply(this,[n,e])}}var F=function(){var t=this,e=t.element,n=t.config;return t.isStarted=!0,t.strategy.animate(e,n).done(function(){!function(t){var e=t.element,n=t.config;if(e.removeData(P),n.complete){var i=Object(s.a)(e);n.complete.apply(this,[i,n])}t.deferred.resolveWith(this,[e,n])}(t)}).fail(function(){t.deferred.rejectWith(this,[e,n])})},H=function(t){var e=this.element,n=this.config;clearTimeout(this.startTimeout),this.isStarted||this.start(),this.strategy.stop(e,n,t)},V=Object(b.a)(_.a,"dxFXStartAnimation"),U=function(t,e){var n="css"===e.type?N:L,o=Object(l.a)(!0,{},n,e),s=function(t){var e=B[t.type];if(!e)throw a.a.Error("E0011",t.type);return e}(o),u=function(t){t=t||{};var e={transition:Object(v.transition)()?E:T,frame:T,noAnimation:I},n=t.strategy||"transition";return"css"!==t.type||Object(v.transition)()||(n="noAnimation"),e[n]}(o),h={element:Object(i.a)(t),config:o,configurator:s,strategy:u,isSynchronous:u.isSynchronous,setup:z,start:F,stop:H,deferred:new C.a};return Object(c.h)(s.validateConfig)&&s.validateConfig(o),function(t){r.a.off(t.element,V),r.a.on(t.element,V,function(){Y.stop(t.element)}),t.deferred.always(function(){r.a.off(t.element,V)})}(h),h};function W(t){return t.data(k)||[]}var K=function(t){t.removeData(k)};function $(t){return!!t.data(P)}function G(t,e){if((e=W(t)).length){var n=e.shift();0===e.length&&K(t),function(t){t.setup(),Y.off||t.isSynchronous?t.start():t.startTimeout=setTimeout(function(){t.start()});return t.deferred.promise()}(n).done(function(){$(t)||G(t)})}}function q(t,e){if(e&&e.position){var n=Object(i.a)(x),o=0,r=0,a=y.a.calculate(t,e.position),s=t.offset(),c=t.position();c.top>s.top&&(r=n.scrollTop()),c.left>s.left&&(o=n.scrollLeft()),Object(l.a)(e,{left:a.h.location-s.left+c.left-o,top:a.v.location-s.top+c.top-r}),delete e.position}}function Z(t,e){Object(u.a)(e,function(e,n){try{t.css(e,Object(c.h)(n)?n():n)}catch(i){}})}var Y={off:!1,animationTypes:B,animate:function(t,e){var n=Object(i.a)(t);if(!n.length)return(new C.a).resolve().promise();var o=U(n,e);return function(t,e){var n=W(t);(function(t,e){t.data(k,e)})(t,n),n.push(e),$(t)||G(t,n)}(n,o),o.deferred.promise()},createAnimation:U,isAnimating:$,stop:function(t,e){var n=Object(i.a)(t),o=W(n);Object(u.a)(o,function(t,e){e.config.delay=0,e.config.duration=0,e.isSynchronous=!0}),$(n)||G(n,o);var r=n.data(P);r&&r.stop(e),n.removeData(P),K(n)},_simulatedTransitionEndDelay:100};e.a=Y},function(t,e,n){"use strict";n.d(e,"a",function(){return d}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return f}),n.d(e,"c",function(){return m}),n.d(e,"b",function(){return g}),n.d(e,"j",function(){return v}),n.d(e,"d",function(){return y}),n.d(e,"g",function(){return _}),n.d(e,"f",function(){return b}),n.d(e,"e",function(){return C}),n.d(e,"m",function(){return O}),n.d(e,"k",function(){return x}),n.d(e,"l",function(){return S});var i=n(41),o=n(1),r=n(17),a=n(75),s=n(15),l=n(9),c=n(16),u=n(5),h=a.a.add,d="DEVEXTREME_XHR_ERROR_UNLOAD",p=function(t){return[t[0],t.length<3?"=":String(t[1]).toLowerCase(),t.length<2||t[t.length-1]]},f=function(t){return Array.isArray(t)||(t=[t]),Object(l.b)(t,function(t){var e={selector:Object(o.h)(t)||"string"===typeof t?t:t.getter||t.field||t.selector,desc:!(!t.desc&&"d"!==String(t.dir).charAt(0).toLowerCase())};return t.compare&&(e.compare=t.compare),e})},m=function(){var t,e={timeout:"Network connection timeout",error:"Unspecified network error",parsererror:"Unexpected server response"};return h(function(){var e=Object(s.d)();r.a.listen(e,"beforeunload",function(){t=!0})}),function(n,i){return t?d:n.status<400?function(t){var n=e[t];return n||t}(i):n.statusText}}(),g={count:{seed:0,step:function(t){return 1+t}},sum:{seed:0,step:function(t,e){return t+e}},min:{step:function(t,e){return e<t?e:t}},max:{step:function(t,e){return e>t?e:t}},avg:{seed:[0,0],step:function(t,e){return[t[0]+e,t[1]+1]},finalize:function(t){return t[1]?t[0]/t[1]:NaN}}},v=function(){var t,e=0;return{obtain:function(){0===e&&(t=new c.a),e++},release:function(){--e<1&&t.resolve()},promise:function(){return(0===e?(new c.a).resolve():t).promise()},reset:function(){e=0,t&&t.resolve()}}}();function y(t){return/^(and|&&|&)$/i.test(t)}var _=function(t,e,n){if(Array.isArray(t)){for(var i,o=Object(l.b)(e,function(t,e){return e}),r=0;r<o.length;r++)if(i=o[r],!Object(u.equalByValue)(e[i],n[i],0,!1))return!1;return!0}return Object(u.equalByValue)(e,n,0,!1)};var b=function(t){return"!"===t[0]&&Array.isArray(t[1])},C=function(t){var e,n=t[0],i=t[1];return!!Array.isArray(n)||!(!Object(o.h)(n)||!Array.isArray(i)&&!Object(o.h)(i)&&"and"!==(e=i)&&"or"!==e)},O=function(){var t=new c.a;return t.resolve.apply(t,arguments).promise()},x=function(){var t=new c.a;return t.reject.apply(t,arguments).promise()};function S(t,e){var n=[],r=function(t,e){var n;return function(){var i=this;return n||(n=setTimeout(function(){n=void 0,t.call(i)},Object(o.h)(e)?e():e)),n}}(function(){t.call(this,n),n=[]},e);return function(t){var e;Array.isArray(t)&&(e=n).push.apply(e,Object(i.a)(t));return r.call(this,n)}}},function(t,e,n){"use strict";var i=n(19),o=n(6),r=n(18),a=n(12),s=n(13),l=n(32),c=n(3),u=n(9),h=n(118),d=n(38),p=n(5),f=n(1),m=n(53),g=n(8),v=n(16),y="valid",_="invalid",b="pending",C=function(){function t(){Object(a.a)(this,t),this.NAME="base"}return Object(s.a)(t,[{key:"defaultMessage",value:function(t){return g.a.getFormatter("validation-".concat(this.NAME))(t)}},{key:"defaultFormattedMessage",value:function(t){return g.a.getFormatter("validation-".concat(this.NAME,"-formatted"))(t)}},{key:"_isValueEmpty",value:function(t){return!j.required.validate(t,{})}},{key:"validate",value:function(t,e){var n=this,i=Array.isArray(t)?t:[t],o=!0;return i.length?i.every(function(t){return o=n._validate(t,e)}):o=this._validate(null,e),o}}]),t}(),O=function(t){function e(){var t;return Object(a.a)(this,e),(t=Object(i.a)(this,Object(o.a)(e).call(this))).NAME="required",t}return Object(r.a)(e,t),Object(s.a)(e,[{key:"_validate",value:function(t,e){return!!Object(f.d)(t)&&(!1!==t&&(t=String(t),!e.trim&&Object(f.d)(e.trim)||(t=t.trim()),""!==t))}}]),e}(C),x=function(t){function e(){var t;return Object(a.a)(this,e),(t=Object(i.a)(this,Object(o.a)(e).call(this))).NAME="numeric",t}return Object(r.a)(e,t),Object(s.a)(e,[{key:"_validate",value:function(t,e){return!(!1===e.ignoreEmptyValue||!this._isValueEmpty(t))||(e.useCultureSettings&&Object(f.o)(t)?!isNaN(m.a.parse(t)):Object(f.i)(t))}}]),e}(C),S=function(t){function e(){var t;return Object(a.a)(this,e),(t=Object(i.a)(this,Object(o.a)(e).call(this))).NAME="range",t}return Object(r.a)(e,t),Object(s.a)(e,[{key:"_validate",value:function(t,e){if(!1!==e.ignoreEmptyValue&&this._isValueEmpty(t))return!0;var n=j.numeric.validate(t,e),i=Object(f.d)(t)&&""!==t,o=n?parseFloat(t):i&&t.valueOf(),r=e.min,a=e.max;if(!n&&!Object(f.b)(t)&&!i)return!1;if(Object(f.d)(r))return Object(f.d)(a)?o>=r&&o<=a:o>=r;if(Object(f.d)(a))return o<=a;throw d.a.Error("E0101")}}]),e}(C),w=function(t){function e(){var t;return Object(a.a)(this,e),(t=Object(i.a)(this,Object(o.a)(e).call(this))).NAME="stringLength",t}return Object(r.a)(e,t),Object(s.a)(e,[{key:"_validate",value:function(t,e){var n;return t=String(null!==(n=t)&&void 0!==n?n:""),!e.trim&&Object(f.d)(e.trim)||(t=t.trim()),!(!e.ignoreEmptyValue||!this._isValueEmpty(t))||j.range.validate(t.length,Object(c.a)({},e))}}]),e}(C),P=function(t){function e(){var t;return Object(a.a)(this,e),(t=Object(i.a)(this,Object(o.a)(e).call(this))).NAME="custom",t}return Object(r.a)(e,t),Object(s.a)(e,[{key:"validate",value:function(t,e){if(e.ignoreEmptyValue&&this._isValueEmpty(t))return!0;var n=e.validator,i=n&&Object(f.h)(n.option)&&n.option("dataGetter"),o=Object(f.h)(i)&&i(),r={value:t,validator:n,rule:e};return o&&Object(c.a)(r,o),e.validationCallback(r)}}]),e}(C),k=function(t){function e(){var t;return Object(a.a)(this,e),(t=Object(i.a)(this,Object(o.a)(e).call(this))).NAME="async",t}return Object(r.a)(e,t),Object(s.a)(e,[{key:"validate",value:function(t,e){if(Object(f.d)(e.reevaluate)||Object(c.a)(e,{reevaluate:!0}),e.ignoreEmptyValue&&this._isValueEmpty(t))return!0;var n=e.validator,i=n&&Object(f.h)(n.option)&&n.option("dataGetter"),o=Object(f.h)(i)&&i(),r={value:t,validator:n,rule:e};o&&Object(c.a)(r,o);var a=e.validationCallback(r);if(!Object(f.m)(a))throw d.a.Error("E0103");return this._getWrappedPromise(Object(v.b)(a).promise())}},{key:"_getWrappedPromise",value:function(t){var e=new v.a;return t.then(function(t){e.resolve(t)},function(t){var n={isValid:!1};Object(f.d)(t)&&(Object(f.o)(t)?n.message=t:Object(f.j)(t)&&Object(f.d)(t.message)&&Object(f.o)(t.message)&&(n.message=t.message)),e.resolve(n)}),e.promise()}}]),e}(P),E=function(t){function e(){var t;return Object(a.a)(this,e),(t=Object(i.a)(this,Object(o.a)(e).call(this))).NAME="compare",t}return Object(r.a)(e,t),Object(s.a)(e,[{key:"_validate",value:function(t,e){if(!e.comparisonTarget)throw d.a.Error("E0102");if(e.ignoreEmptyValue&&this._isValueEmpty(t))return!0;Object(c.a)(e,{reevaluate:!0});var n=e.comparisonTarget();switch(e.comparisonType||"=="){case"==":return t==n;case"!=":return t!=n;case"===":return t===n;case"!==":return t!==n;case">":return t>n;case">=":return t>=n;case"<":return t<n;case"<=":return t<=n}}}]),e}(C),T=function(t){function e(){var t;return Object(a.a)(this,e),(t=Object(i.a)(this,Object(o.a)(e).call(this))).NAME="pattern",t}return Object(r.a)(e,t),Object(s.a)(e,[{key:"_validate",value:function(t,e){if(!1!==e.ignoreEmptyValue&&this._isValueEmpty(t))return!0;var n=e.pattern;return Object(f.o)(n)&&(n=new RegExp(n)),n.test(t)}}]),e}(C),I=function(t){function e(){var t;return Object(a.a)(this,e),(t=Object(i.a)(this,Object(o.a)(e).call(this))).NAME="email",t}return Object(r.a)(e,t),Object(s.a)(e,[{key:"_validate",value:function(t,e){return!(!1===e.ignoreEmptyValue||!this._isValueEmpty(t))||j.pattern.validate(t,Object(c.a)({},e,{pattern:/^[\d\w._-]+@[\d\w._-]+\.[\w]+$/i}))}}]),e}(C),j={required:new O,numeric:new x,range:new S,stringLength:new w,custom:new P,async:new k,compare:new E,pattern:new T,email:new I},M=l.a.inherit({ctor:function(t){this.group=t,this.validators=[],this._pendingValidators=[],this._onValidatorStatusChanged=this._onValidatorStatusChanged.bind(this),this._resetValidationInfo(),this._eventsStrategy=new h.a(this)},validate:function(){var t=this,e={isValid:!0,brokenRules:[],validators:[],status:y,complete:null};return this._unsubscribeFromAllChangeEvents(),this._pendingValidators=[],this._resetValidationInfo(),Object(u.a)(this.validators,function(n,i){var o=i.validate();e.isValid=e.isValid&&o.isValid,o.brokenRules&&(e.brokenRules=e.brokenRules.concat(o.brokenRules)),e.validators.push(i),o.status===b&&t._addPendingValidator(i),t._subscribeToChangeEvents(i)}),this._pendingValidators.length?e.status=b:(e.status=e.isValid?y:_,this._unsubscribeFromAllChangeEvents(),this._raiseValidatedEvent(e)),this._updateValidationInfo(e),Object(c.a)({},this._validationInfo.result)},_subscribeToChangeEvents:function(t){t.on("validating",this._onValidatorStatusChanged),t.on("validated",this._onValidatorStatusChanged)},_unsubscribeFromChangeEvents:function(t){t.off("validating",this._onValidatorStatusChanged),t.off("validated",this._onValidatorStatusChanged)},_unsubscribeFromAllChangeEvents:function(){var t=this;Object(u.a)(this.validators,function(e,n){t._unsubscribeFromChangeEvents(n)})},_updateValidationInfo:function(t){this._validationInfo.result=t,t.status===b&&(this._validationInfo.deferred||(this._validationInfo.deferred=new v.a,this._validationInfo.result.complete=this._validationInfo.deferred.promise()))},_addPendingValidator:function(t){Object(p.grep)(this._pendingValidators,function(e){return e===t})[0]||this._pendingValidators.push(t)},_removePendingValidator:function(t){var e=this._pendingValidators.indexOf(t);e>=0&&this._pendingValidators.splice(e,1)},_orderBrokenRules:function(t){var e=[];return Object(u.a)(this.validators,function(n,i){var o=Object(p.grep)(t,function(t){return t.validator===i});o.length&&(e=e.concat(o))}),e},_updateBrokenRules:function(t){if(this._validationInfo.result){var e=this._validationInfo.result.brokenRules,n=Object(p.grep)(e,function(e){return e.validator!==t.validator});t.brokenRules&&(e=n.concat(t.brokenRules)),this._validationInfo.result.brokenRules=this._orderBrokenRules(e)}},_onValidatorStatusChanged:function(t){t.status!==b?this._resolveIfComplete(t):this._addPendingValidator(t.validator)},_resolveIfComplete:function(t){if(this._removePendingValidator(t.validator),this._updateBrokenRules(t),!this._pendingValidators.length){if(this._unsubscribeFromAllChangeEvents(),!this._validationInfo.result)return;this._validationInfo.result.status=0===this._validationInfo.result.brokenRules.length?y:_,this._validationInfo.result.isValid=this._validationInfo.result.status===y;var e=Object(c.a)({},this._validationInfo.result,{complete:null}),n=this._validationInfo.deferred;this._validationInfo.deferred=null,this._raiseValidatedEvent(e),n&&setTimeout(function(){n.resolve(e)})}},_raiseValidatedEvent:function(t){this._eventsStrategy.fireEvent("validated",[t])},_resetValidationInfo:function(){this._validationInfo={result:null,deferred:null}},_synchronizeValidationInfo:function(){this._validationInfo.result&&(this._validationInfo.result.validators=this.validators)},removeRegisteredValidator:function(t){var e=this.validators.indexOf(t);e>-1&&(this.validators.splice(e,1),this._synchronizeValidationInfo(),this._resolveIfComplete({validator:t}))},registerValidator:function(t){this.validators.includes(t)||(this.validators.push(t),this._synchronizeValidationInfo())},reset:function(){Object(u.a)(this.validators,function(t,e){e.reset()}),this._pendingValidators=[],this._resetValidationInfo()},on:function(t,e){return this._eventsStrategy.on(t,e),this},off:function(t,e){return this._eventsStrategy.off(t,e),this}}),D={groups:[],getGroupConfig:function(t){var e=Object(p.grep)(this.groups,function(e){return e.group===t});if(e.length)return e[0]},findGroup:function(t,e){var n,i,o=(null===(n=t.data())||void 0===n?void 0:null===(i=n.dxComponents)||void 0===i?void 0:i.includes("dxValidationGroup"))&&t.dxValidationGroup("instance");if(o)return o;var r=t.parents(".dx-validationgroup").first();return r.length?r.dxValidationGroup("instance"):e},initGroups:function(){this.groups=[],this.addGroup()},addGroup:function(t){var e=this.getGroupConfig(t);return e||(e=new M(t),this.groups.push(e)),e},removeGroup:function(t){var e=this.getGroupConfig(t),n=this.groups.indexOf(e);return n>-1&&this.groups.splice(n,1),e},_setDefaultMessage:function(t){var e=t.rule,n=t.validator,i=t.name;Object(f.d)(e.message)||(n.defaultFormattedMessage&&Object(f.d)(i)?e.message=n.defaultFormattedMessage(i):e.message=n.defaultMessage())},_addBrokenRule:function(t){var e=t.result,n=t.rule;e.brokenRule||(e.brokenRule=n),e.brokenRules||(e.brokenRules=[]),e.brokenRules.push(n)},validate:function(t,e,n){var i,o=this,r={name:n,value:t,brokenRule:null,brokenRules:null,isValid:!0,validationRules:e,pendingRules:null,status:y,complete:null},a=null===e||void 0===e?void 0:null===(i=e[0])||void 0===i?void 0:i.validator,s=[];return Object(u.a)(e||[],function(e,i){var a,l=j[i.type];if(!l)throw d.a.Error("E0100");return Object(f.d)(i.isValid)&&i.value===t&&!i.reevaluate?!!i.isValid||(r.isValid=!1,o._addBrokenRule({result:r,rule:i}),!1):(i.value=t,"async"===i.type?(s.push({rule:i,ruleValidator:l}),!0):(a=l.validate(t,i),i.isValid=a,a||(r.isValid=!1,o._setDefaultMessage({rule:i,validator:l,name:n}),o._addBrokenRule({result:r,rule:i})),!!i.isValid&&void 0))}),r.isValid&&!r.brokenRules&&s.length&&(r=this._validateAsyncRules({value:t,items:s,result:r,name:n})),this._synchronizeGroupValidationInfo(a,r),r.status=r.pendingRules?b:r.isValid?y:_,r},_synchronizeGroupValidationInfo:function(t,e){var n;if(t){var i=D.getGroupConfig(t._validationGroup);i._updateBrokenRules.call(i,{validator:t,brokenRules:null!==(n=e.brokenRules)&&void 0!==n?n:[]})}},_validateAsyncRules:function(t){var e=this,n=t.result,i=t.value,o=t.items,r=t.name,a=[];return Object(u.a)(o,function(t,o){var s=o.ruleValidator.validate(i,o.rule);if(Object(f.m)(s)){n.pendingRules||(n.pendingRules=[]),n.pendingRules.push(o.rule);var l=s.then(function(t){var n=e._getPatchedRuleResult(t);return e._updateRuleConfig({rule:o.rule,ruleResult:n,validator:o.ruleValidator,name:r}),n});a.push(l)}else e._updateRuleConfig({rule:o.rule,ruleResult:e._getPatchedRuleResult(s),validator:o.ruleValidator,name:r})}),a.length&&(n.complete=Promise.all(a).then(function(t){return e._getAsyncRulesResult({result:n,values:t})})),n},_updateRuleConfig:function(t){var e=t.rule,n=t.ruleResult,i=t.validator,o=t.name;e.isValid=n.isValid,n.isValid||(Object(f.d)(n.message)&&Object(f.o)(n.message)&&n.message.length?e.message=n.message:this._setDefaultMessage({rule:e,validator:i,name:o}))},_getPatchedRuleResult:function(t){var e;return Object(f.j)(t)?(e=Object(c.a)({},t),Object(f.d)(e.isValid)||(e.isValid=!0)):e={isValid:!Object(f.a)(t)||t},e},_getAsyncRulesResult:function(t){var e=this,n=t.values,i=t.result;return Object(u.a)(n,function(t,n){if(!1===n.isValid){i.isValid=n.isValid;var o=i.pendingRules[t];e._addBrokenRule({result:i,rule:o})}}),i.pendingRules=null,i.complete=null,i.status=i.isValid?y:_,i},registerValidatorInGroup:function(t,e){var n=D.addGroup(t);n.registerValidator.call(n,e)},_shouldRemoveGroup:function(t,e){var n=void 0===t,i=t&&"dxValidationGroup"===t.NAME;return!n&&!i&&!e.length},removeRegisteredValidator:function(t,e){var n=D.getGroupConfig(t);if(n){n.removeRegisteredValidator.call(n,e);var i=n.validators;this._shouldRemoveGroup(t,i)&&this.removeGroup(t)}},initValidationOptions:function(t){var e=this,n={};return t&&["isValid","validationStatus","validationError","validationErrors"].forEach(function(i){i in t&&Object(c.a)(n,e.synchronizeValidationOptions({name:i,value:t[i]},t))}),n},synchronizeValidationOptions:function(t,e){var n=t.name,i=t.value;switch(n){case"validationStatus":var o=i===y||i===b;return e.isValid!==o?{isValid:o}:{};case"isValid":var r=e.validationStatus,a=r;return i&&r===_?a=y:i||r===_||(a=_),a!==r?{validationStatus:a}:{};case"validationErrors":var s=i&&i.length?i[0]:null;return e.validationError!==s?{validationError:s}:{};case"validationError":var l=e.validationErrors;if(!i&&l)return{validationErrors:null};if(i&&!l)return{validationErrors:[i]};if(i&&l&&i!==l[0])return l[0]=i,{validationErrors:l.slice()}}return{}},validateGroup:function(t){var e=D.getGroupConfig(t);if(!e)throw d.a.Error("E0110");return e.validate()},resetGroup:function(t){var e=D.getGroupConfig(t);if(!e)throw d.a.Error("E0110");return e.reset()}};D.initGroups(),e.a=D},function(t,e,n){t.exports=n(259)()},function(t,e,n){"use strict";function i(t,e){if(null==t)return{};var n,i,o={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(o[n]=t[n]);return o}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return r});var i=n(50),o=n(1),r=function(t){return(null!==t&&void 0!==t?t:Object(i.a)().rtlEnabled)?"right":"left"},a=function(t){return Object(o.p)(t)?{width:t.outerWidth,height:t.outerHeight}:t.getBoundingClientRect()}},function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"g",function(){return c}),n.d(e,"e",function(){return u}),n.d(e,"h",function(){return h}),n.d(e,"d",function(){return d}),n.d(e,"c",function(){return p}),n.d(e,"b",function(){return f}),n.d(e,"f",function(){return v});var i=n(7),o=n(192),r=n(10);function a(t,e){return e?Object(r.a)(t,e):t}function s(t,e){return"function"===typeof t?t(e):t.execute(e)}var l={on:function(t,e,n,o){var r=o.selector,l=o.showTimeout,c=o.hideTimeout,u=o.namespace;i.a.on(t,a("dxactive",u),r,{timeout:l},function(t){return s(e,{event:t,element:t.currentTarget})}),i.a.on(t,a("dxinactive",u),r,{timeout:c},function(t){return s(n,{event:t,element:t.currentTarget})})},off:function(t,e){var n=e.namespace,o=e.selector;i.a.off(t,a("dxactive",n),o),i.a.off(t,a("dxinactive",n),o)}},c={on:function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).namespace;i.a.on(t,a("dxresize",n),e)},off:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).namespace;i.a.off(t,a("dxresize",e))}},u={on:function(t,e,n,o){var r=o.selector,l=o.namespace;i.a.on(t,a("dxhoverend",l),r,function(t){return n(t)}),i.a.on(t,a("dxhoverstart",l),r,function(t){return s(e,{element:t.target,event:t})})},off:function(t,e){var n=e.selector,o=e.namespace;i.a.off(t,a("dxhoverstart",o),n),i.a.off(t,a("dxhoverend",o),n)}},h={on:function(t,e,n,o){var r=o.namespace;i.a.on(t,a("dxhiding",r),n),i.a.on(t,a("dxshown",r),e)},off:function(t,e){var n=e.namespace;i.a.off(t,a("dxhiding",n)),i.a.off(t,a("dxshown",n))}},d={on:function(t,e,n,o){var r=o.namespace;i.a.on(t,a("focusin",r),e),i.a.on(t,a("focusout",r),n)},off:function(t,e){var n=e.namespace;i.a.off(t,a("focusin",n)),i.a.off(t,a("focusout",n))},trigger:function(t){return i.a.trigger(t,"focus")}},p={on:function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).namespace;i.a.on(t,a("dxclick",n),e)},off:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).namespace;i.a.off(t,a("dxclick",e))}},f={on:function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).namespace;i.a.on(t,a("click",n),e)},off:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).namespace;i.a.off(t,a("click",e))}},m=0,g={},v={on:function(t,e,n){var i="keyboardProcessorId".concat(m++);return g[i]=new o.a({element:t,focusTarget:e,handler:n}),i},off:function(t){t&&g[t]&&(g[t].dispose(),delete g[t])},_getProcessor:function(t){return g[t]}}},function(t,e,n){"use strict";n.r(e),n.d(e,"touchEvents",function(){return d}),n.d(e,"pointerEvents",function(){return p}),n.d(e,"supportProp",function(){return u}),n.d(e,"inputType",function(){return h}),n.d(e,"touch",function(){return f}),n.d(e,"transition",function(){return m}),n.d(e,"transitionEndEventName",function(){return g}),n.d(e,"animation",function(){return v}),n.d(e,"nativeScrolling",function(){return y});var i=n(17),o=n(77),r=n(15),a=n(20),s=n(73);n.d(e,"styleProp",function(){return s.b}),n.d(e,"stylePropPrefix",function(){return s.c});var l=Object(r.c)().maxTouchPoints,c={webkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},u=function(t){return!!Object(s.b)(t)},h=function(t){if("text"===t)return!0;var e=i.a.createElement("input");try{return e.setAttribute("type",t),e.value="wrongValue",!e.value}catch(n){return!1}},d=function(t,e){return(t("ontouchstart")||!!e)&&!t("callPhantom")}(r.e,l),p=(0,r.e)("PointerEvent"),f=d||p&&!!l,m=Object(o.a)(function(){return u("transition")}),g=Object(o.a)(function(){return c[Object(s.b)("transition")]}),v=Object(o.a)(function(){return u("animation")}),y=function(){var t=a.a.real(),e=t.platform,n=t.mac;return"ios"===e||"android"===e||n}()},function(t,e,n){"use strict";n.r(e);var i=n(12),o=n(13),r=n(19),a=n(14),s=n(6),l=n(18),c=n(26),u=n(24),h=n(59),d=n(215),p=n(82),f=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"getDefaultTemplateNames",value:function(){return["content"]}},{key:"getSupportedKeyNames",value:function(){return["space","enter"]}},{key:"getProps",value:function(){var t=this,n=Object(a.a)(Object(s.a)(e.prototype),"getProps",this).call(this);return n.onClick=function(e){var n=e.event;t._clickAction({event:n,validationGroup:t._validationGroupConfig})},"svg"===Object(p.b)(n.icon)&&(n.iconTemplate=this._createTemplateComponent(function(){return n.icon})),n}},{key:"_toggleActiveState",value:function(t,e){var n=this.viewRef;e?n.activate():n.deactivate()}},{key:"_getSubmitAction",value:function(){var t=this,e=!0,n="valid";return this._createAction(function(i){var o=i.event,r=i.submitInput;if(e){var a=t._validationGroupConfig;if(void 0!==a&&""!==a){var s=a.validate();n=s.status,"pending"===s.status&&(e=!1,t.option("disabled",!0),s.complete.then(function(i){var o=i.status;t.option("disabled",!1),"valid"===(n=o)&&r.click(),e=!0}))}}"valid"!==n&&o.preventDefault(),o.stopPropagation()})}},{key:"_initializeComponent",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_initializeComponent",this).call(this),this._addAction("onSubmit",this._getSubmitAction()),this._clickAction=this._createClickAction()}},{key:"_initMarkup",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_initMarkup",this).call(this);var t=this.$element().find(".dx-button-content"),n=t.children().filter(".dx-template-wrapper"),i=t.children().filter(".dx-button-submit-input");n.length&&(n.addClass("dx-button-content"),n.append(i),t.replaceWith(n))}},{key:"_patchOptionValues",value:function(t){return Object(a.a)(Object(s.a)(e.prototype),"_patchOptionValues",this).call(this,Object(u.a)({},t,{templateData:t._templateData}))}},{key:"_findGroup",value:function(){var t=this.$element(),e=this.option("validationGroup");return void 0!==e&&""!==e?e:h.a.findGroup(t,this._modelByElement(t))}},{key:"_createClickAction",value:function(){return this._createActionByOption("onClick",{excludeValidators:["readOnly"]})}},{key:"_optionChanged",value:function(t){switch(t.name){case"onClick":this._clickAction=this._createClickAction()}Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).call(this,t)}},{key:"_validationGroupConfig",get:function(){return h.a.getGroupConfig(this._findGroup())}},{key:"_templatesInfo",get:function(){return{template:"content"}}}]),e}(d.a),m=n(22),g=n(27),v=n(61),y=n(25),_=n(36),b=n(79),C=n(20),O=n(47),x=n(63),S=n(103),w=n(51),P=["iconTemplate","position","source"],k=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(r.a)(this,Object(s.a)(e).call(this,t))).state={},n}return Object(l.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t,e=this.props;return function(t){var e=t.iconClassName,n=t.props,i=n.iconTemplate,o=n.source,r=t.sourceType;return Object(y.m)(["dxIcon"===r&&Object(y.p)(1,"i",e),"fontIcon"===r&&Object(y.p)(1,"i",e),"image"===r&&Object(y.p)(1,"img",e,null,1,{alt:"",src:o}),i&&Object(y.p)(1,"i",e,i({}),0)],0)}({props:Object(u.a)({},e,{iconTemplate:(t=e.iconTemplate,t&&(t.defaultProps?function(e){return Object(y.s)(Object(y.l)(2,t,Object(u.a)({},e)))}:t))}),sourceType:this.sourceType,cssClass:this.cssClass,iconClassName:this.iconClassName,restAttributes:this.restAttributes})}},{key:"sourceType",get:function(){return Object(p.b)(this.props.source)}},{key:"cssClass",get:function(){return"left"!==this.props.position?"dx-icon-right":""}},{key:"iconClassName",get:function(){var t=Object(g.a)({"dx-icon":!0},this.cssClass,!!this.cssClass),e=this.props.source;return"dxIcon"===this.sourceType?Object(S.a)(Object(u.a)({},t,Object(g.a)({},"dx-icon-".concat(e),!0))):"fontIcon"===this.sourceType?Object(S.a)(Object(u.a)({},t,Object(g.a)({},String(e),!!e))):"image"===this.sourceType?Object(S.a)(t):"svg"===this.sourceType?Object(S.a)(Object(u.a)({},t,{"dx-svg-icon":!0})):""}},{key:"restAttributes",get:function(){var t=this.props;return Object(v.a)(t,P)}}]),e}(_.a);k.defaultProps={position:"left",source:""};var E=n(38),T=n(121),I=["config"],j={config:Object.freeze({})},M=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(r.a)(this,Object(s.a)(e).call(this,t))).state={},n.__getterCache={},n.hideWave=n.hideWave.bind(Object(m.a)(Object(m.a)(n))),n.showWave=n.showWave.bind(Object(m.a)(Object(m.a)(n))),n}return Object(l.a)(e,t),Object(o.a)(e,[{key:"hideWave",value:function(t){Object(T.a)(this.getConfig,t)}},{key:"showWave",value:function(t){Object(T.d)(this.getConfig,t)}},{key:"componentWillUpdate",value:function(t,e,n){this.props.config!==t.config&&(this.__getterCache.getConfig=void 0)}},{key:"render",value:function(){var t,e=this.props;return t={props:Object(u.a)({},e),getConfig:this.getConfig,restAttributes:this.restAttributes},Object(y.s)(Object(y.p)(1,"div","dx-inkripple",null,1,Object(u.a)({},t.restAttributes)))}},{key:"getConfig",get:function(){var t=this;return void 0!==this.__getterCache.getConfig?this.__getterCache.getConfig:this.__getterCache.getConfig=function(){var e=t.props.config;return Object(T.b)(e)}()}},{key:"restAttributes",get:function(){var t=this.props;return Object(v.a)(t,I)}}]),e}(_.a);M.defaultProps=j;var D=n(139),A=n(133),R=n(8),B=["accessKey","activeStateEnabled","children","className","disabled","focusStateEnabled","height","hint","hoverStateEnabled","icon","iconPosition","iconTemplate","onClick","onKeyDown","onSubmit","pressed","rtlEnabled","stylingMode","tabIndex","template","templateData","text","type","useInkRipple","useSubmitBehavior","visible","width"],L=["outlined","text","contained"],N=Object.create(Object.prototype,Object(u.a)(Object.getOwnPropertyDescriptors(A.a),Object.getOwnPropertyDescriptors({activeStateEnabled:!0,hoverStateEnabled:!0,icon:"",iconPosition:"left",stylingMode:"contained",text:"",type:"normal",useInkRipple:!1,useSubmitBehavior:!1,templateData:Object.freeze({})}))),z=Object(b.b)([{device:function(){return"desktop"===C.a.real().deviceType&&!C.a.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return Object(O.d)(Object(O.a)())},options:{useInkRipple:!0}}]),F=function(t){return t&&(t.defaultProps?function(e){return Object(y.s)(Object(y.l)(2,t,Object(u.a)({},e)))}:t)},H=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(r.a)(this,Object(s.a)(e).call(this,t))).state={},n.contentRef=Object(y.o)(),n.inkRippleRef=Object(y.o)(),n.submitInputRef=Object(y.o)(),n.widgetRef=Object(y.o)(),n.__getterCache={},n.focus=n.focus.bind(Object(m.a)(Object(m.a)(n))),n.activate=n.activate.bind(Object(m.a)(Object(m.a)(n))),n.deactivate=n.deactivate.bind(Object(m.a)(Object(m.a)(n))),n.submitEffect=n.submitEffect.bind(Object(m.a)(Object(m.a)(n))),n.checkDeprecation=n.checkDeprecation.bind(Object(m.a)(Object(m.a)(n))),n.onActive=n.onActive.bind(Object(m.a)(Object(m.a)(n))),n.onInactive=n.onInactive.bind(Object(m.a)(Object(m.a)(n))),n.onWidgetClick=n.onWidgetClick.bind(Object(m.a)(Object(m.a)(n))),n.keyDown=n.keyDown.bind(Object(m.a)(Object(m.a)(n))),n}return Object(l.a)(e,t),Object(o.a)(e,[{key:"createEffects",value:function(){return[new _.c(this.submitEffect,[this.props.onSubmit,this.props.useSubmitBehavior]),new _.c(this.checkDeprecation,[this.props.type]),Object(_.g)()]}},{key:"updateEffects",value:function(){var t,e;null===(t=this._effects[0])||void 0===t||t.update([this.props.onSubmit,this.props.useSubmitBehavior]),null===(e=this._effects[1])||void 0===e||e.update([this.props.type])}},{key:"submitEffect",value:function(){var t=this,e=this.props,n=e.onSubmit;if(e.useSubmitBehavior&&n)return x.b.on(this.submitInputRef.current,function(e){return n({event:e,submitInput:t.submitInputRef.current})},{namespace:"UIFeedback"}),function(){return x.b.off(t.submitInputRef.current,{namespace:"UIFeedback"})}}},{key:"checkDeprecation",value:function(){"back"===this.props.type&&E.a.log("W0016","type","back","22.2","Use the 'back' icon instead")}},{key:"onActive",value:function(t){this.props.useInkRipple&&this.inkRippleRef.current.showWave({element:this.contentRef.current,event:t})}},{key:"onInactive",value:function(t){this.props.useInkRipple&&this.inkRippleRef.current.hideWave({element:this.contentRef.current,event:t})}},{key:"onWidgetClick",value:function(t){var e=this.props,n=e.onClick,i=e.useSubmitBehavior;null===n||void 0===n||n({event:t}),i&&this.submitInputRef.current.click()}},{key:"keyDown",value:function(t){var e=this.props.onKeyDown,n=t.keyName,i=t.originalEvent,o=t.which,r=null===e||void 0===e?void 0:e(t);if(null!==r&&void 0!==r&&r.cancel)return r;"space"!==n&&"space"!==o&&"enter"!==n&&"enter"!==o||(i.preventDefault(),this.onWidgetClick(i))}},{key:"focus",value:function(){this.widgetRef.current.focus()}},{key:"activate",value:function(){this.widgetRef.current.activate()}},{key:"deactivate",value:function(){this.widgetRef.current.deactivate()}},{key:"componentWillUpdate",value:function(t,n,i){Object(a.a)(Object(s.a)(e.prototype),"componentWillUpdate",this).call(this),this.props.icon===t.icon&&this.props.text===t.text&&this.props.type===t.type||(this.__getterCache.inkRippleConfig=void 0)}},{key:"render",value:function(){var t=this.props;return function(t){var e=t.props,n=e.children,i=e.iconPosition,o=e.iconTemplate,r=e.template,a=e.text,s=!t.props.template&&!n&&""!==a,l="left"===i,c=!t.props.template&&!n&&(t.iconSource||t.props.iconTemplate)&&Object(y.l)(2,k,{source:t.iconSource,position:i,iconTemplate:o});return Object(y.s)(Object(y.l)(2,D.a,Object(u.a)({accessKey:t.props.accessKey,activeStateEnabled:t.props.activeStateEnabled,aria:t.aria,className:t.props.className,classes:t.cssClasses,disabled:t.props.disabled,focusStateEnabled:t.props.focusStateEnabled,height:t.props.height,hint:t.props.hint,hoverStateEnabled:t.props.hoverStateEnabled,onActive:t.onActive,onClick:t.onWidgetClick,onInactive:t.onInactive,onKeyDown:t.keyDown,rtlEnabled:t.props.rtlEnabled,tabIndex:t.props.tabIndex,visible:t.props.visible,width:t.props.width},t.restAttributes,{children:Object(y.p)(1,"div","dx-button-content",[t.props.template&&r({data:t.buttonTemplateData}),!t.props.template&&n,l&&c,s&&Object(y.p)(1,"span","dx-button-text",a,0),!l&&c,t.props.useSubmitBehavior&&Object(y.p)(64,"input","dx-button-submit-input",null,1,{type:"submit",tabIndex:-1},null,t.submitInputRef),t.props.useInkRipple&&Object(y.l)(2,M,{config:t.inkRippleConfig},null,t.inkRippleRef)],0,null,null,t.contentRef)}),null,t.widgetRef))}({props:Object(u.a)({},t,{template:F(t.template),iconTemplate:F(t.iconTemplate)}),contentRef:this.contentRef,submitInputRef:this.submitInputRef,inkRippleRef:this.inkRippleRef,widgetRef:this.widgetRef,onActive:this.onActive,onInactive:this.onInactive,onWidgetClick:this.onWidgetClick,keyDown:this.keyDown,aria:this.aria,cssClasses:this.cssClasses,iconSource:this.iconSource,inkRippleConfig:this.inkRippleConfig,buttonTemplateData:this.buttonTemplateData,restAttributes:this.restAttributes})}},{key:"aria",get:function(){var t=this.props,e=t.icon,n=t.text,i=(null!==n&&void 0!==n?n:"")||R.a.format(Object(w.a)(e,!0))||e;return!n&&e&&"image"===Object(p.b)(e)&&(i=e.includes("base64")?"Base64":e.replace(/.+\/([^.]+)\..+$/,"$1")),Object(u.a)({role:"button"},i?{label:i}:{})}},{key:"cssClasses",get:function(){return function(t){var e,n=t.icon,i=t.iconPosition,o=t.stylingMode,r=t.text,a=t.type,s=o&&L.includes(o),l=(e={"dx-button":!0},Object(g.a)(e,"dx-button-mode-".concat(s?o:"contained"),!0),Object(g.a)(e,"dx-button-".concat(null!==a&&void 0!==a?a:"normal"),!0),Object(g.a)(e,"dx-button-has-text",!!r),Object(g.a)(e,"dx-button-has-icon",!!n),Object(g.a)(e,"dx-button-icon-right","left"!==i),e);return Object(S.a)(l)}(this.props)}},{key:"iconSource",get:function(){var t=this.props,e=t.icon,n=t.type;return e||"back"===n?(null!==e&&void 0!==e?e:"")||"back":""}},{key:"inkRippleConfig",get:function(){var t=this;return void 0!==this.__getterCache.inkRippleConfig?this.__getterCache.inkRippleConfig:this.__getterCache.inkRippleConfig=function(){var e=t.props,n=e.icon,i=e.text,o=e.type;return!i&&n||"back"===o?{isCentered:!0,useHoldAnimation:!1,waveSizeCoefficient:1}:{}}()}},{key:"buttonTemplateData",get:function(){var t=this.props,e=t.icon,n=t.templateData,i=t.text;return Object(u.a)({icon:e,text:i},n)}},{key:"restAttributes",get:function(){var t=this.props;return Object(v.a)(t,B)}}]),e}(_.e);H.defaultProps=Object.create(Object.prototype,Object(u.a)(Object.getOwnPropertyDescriptors(N),Object.getOwnPropertyDescriptors(Object(u.a)({},Object(b.a)(z)))));var V=[];var U=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"getProps",value:function(){var t=Object(a.a)(Object(s.a)(e.prototype),"getProps",this).call(this);return t.onKeyDown=this._wrapKeyDownHandler(t.onKeyDown),t}},{key:"focus",value:function(){var t,e;return null===(e=this.viewRef)||void 0===e?void 0:(t=e).focus.apply(t,arguments)}},{key:"activate",value:function(){var t,e;return null===(e=this.viewRef)||void 0===e?void 0:(t=e).activate.apply(t,arguments)}},{key:"deactivate",value:function(){var t,e;return null===(e=this.viewRef)||void 0===e?void 0:(t=e).deactivate.apply(t,arguments)}},{key:"_getActionConfigs",value:function(){return{onClick:{excludeValidators:["readOnly"]},onSubmit:{}}}},{key:"_propsInfo",get:function(){return{twoWay:[],allowNull:[],elements:["onSubmit"],templates:["template","iconTemplate"],props:["activeStateEnabled","hoverStateEnabled","icon","iconPosition","onClick","onSubmit","pressed","stylingMode","template","iconTemplate","text","type","useInkRipple","useSubmitBehavior","templateData","className","accessKey","disabled","focusStateEnabled","height","hint","onKeyDown","rtlEnabled","tabIndex","visible","width"]}}},{key:"_viewComponent",get:function(){return H}}]),e}(f);Object(c.a)("dxButton",U),U.defaultOptions=function(t){V.push(t),H.defaultProps=Object.create(Object.prototype,Object(u.a)(Object.getOwnPropertyDescriptors(H.defaultProps),Object.getOwnPropertyDescriptors(Object(b.a)(z)),Object.getOwnPropertyDescriptors(Object(b.a)(V))))};e.default=U},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s});var i=n(128),o=n(38),r=Object(i.a)(o.a.ERROR_MESSAGES,{E4000:"[DevExpress.data]: {0}",E4001:"Unknown aggregating function is detected: '{0}'",E4002:"Unsupported OData protocol version is used",E4003:"Unknown filter operation is used: {0}",E4004:"The thenby() method is called before the sortby() method",E4005:"Store requires a key expression for this operation",E4006:"ArrayStore 'data' option must be an array",E4007:"Compound keys cannot be auto-generated",E4008:"Attempt to insert an item with a duplicated key",E4009:"Data item cannot be found",E4010:"CustomStore does not support creating queries",E4011:"Custom Store method is not implemented or is not a function: {0}",E4012:"Custom Store method returns an invalid value: {0}",E4013:"Local Store requires the 'name' configuration option is specified",E4014:"Unknown data type is specified for ODataStore: {0}",E4015:"Unknown entity name or alias is used: {0}",E4016:"The compileSetter(expr) method is called with 'self' passed as a parameter",E4017:"Keys cannot be modified",E4018:"The server has returned a non-numeric value in a response to an item count request",E4019:"Mixing of group operators inside a single group of filter expression is not allowed",E4020:"Unknown store type is detected: {0}",E4021:"The server response does not provide the totalCount value",E4022:"The server response does not provide the groupCount value",E4023:"Could not parse the following XML: {0}",E4024:"String function {0} cannot be used with the data field {1} of type {2}.",W4000:"Data returned from the server has an incorrect structure",W4001:'The {0} field is listed in both "keyType" and "fieldTypes". The value of "fieldTypes" is used.',W4002:"Data loading has failed for some cells due to the following error: {0}"}),a=null,s=function(t){var e;null===(e=a)||void 0===e||e(t)}},function(t,e,n){"use strict";var i=n(50),o=n(195),r=n(146),a=n(1),s="yyyy/MM/dd",l=/^(\d{4,})(-)?(\d{2})(-)?(\d{2})(?:T(\d{2})(:)?(\d{2})?(:)?(\d{2}(?:\.(\d{1,3})\d*)?)?)?(Z|([+-])(\d{2})(:)?(\d{2})?)?$/,c=/^(\d{2}):(\d{2})(:(\d{2}))?$/,u=["","yyyy","","MM","","dd","THH","","mm","","ss",".SSS"],h=/^(\d{4})\/(\d{2})\/(\d{2})$/,d=3,p=function(t,e){var n;return Object(a.o)(t)&&!e&&(n=function(t){var e=t.match(l);if(!e)return(e=t.match(c))?new Date(0,0,0,f(e[1]),f(e[2]),f(e[4])):void 0;var n=f(e[1]),i=--e[3],o=e[5],r=0,a=0,s=function(t){return n<100&&t.setFullYear(n),t};r=f(e[14]),a=f(e[16]),"-"===e[13]&&(r=-r,a=-a);var u=f(e[6])-r,h=f(e[8])-a,p=f(e[10]),m=(g=e[11],f(g=g||"")*Math.pow(10,d-g.length));var g;if(e[12])return s(new Date(Date.UTC(n,i,o,u,h,p,m)));return s(new Date(n,i,o,u,h,p,m))}(t)),n||function(t){var e=m(t)===s,n=!Object(a.b)(t)&&Date.parse(t);if(!n&&e){var i=t.match(h);if(i){var o=new Date(f(i[1]),f(i[2]),f(i[3]));return o.setFullYear(f(i[1])),o.setMonth(f(i[2])-1),o.setDate(f(i[3])),o}}return Object(a.i)(n)?new Date(n):t}(t)};function f(t){return+t||0}var m=function(t){return"number"===typeof t?"number":Object(a.o)(t)?(Object(i.a)().forceIsoDateParsing&&(e=function(t,e){var n=t.match(l),i="";if(!n)return(n=t.match(c))?n[3]?"HH:mm:ss":"HH:mm":void 0;for(var o=1;o<u.length;o++)n[o]&&(i+=u[o]||n[o]);return"Z"===n[12]&&(i+="'Z'"),n[14]&&(n[15]?i+="xxx":n[16]?i+="xx":i+="x"),i}(t)),e||(t.indexOf(":")>=0?"yyyy/MM/dd HH:mm:ss":s)):t?null:void 0;var e};e.a={dateParser:p,deserializeDate:function(t){return"number"===typeof t?new Date(t):p(t,!Object(i.a)().forceIsoDateParsing)},serializeDate:function(t,e){return e?Object(a.b)(t)?"number"===e?t&&t.valueOf?t.valueOf():null:Object(o.a)(e,r.a)(t):null:t},getDateSerializationFormat:m}},function(t,e,n){"use strict";var i,o=n(11),r=n(2),a=n(5),s=n(9),l=n(15),c=n(17),u=n(1),h=n(3),d=n(62),p=n(72),f=n(34),m=n(64),g=n(20),v=Object(l.d)(),y=/left|right/,_=/top|bottom/,b=/fit|flip|none/,C=/scale\(.+?\)/,O=p.a.safari,x=function(t){var e={h:"center",v:"center"},n=Object(a.splitPair)(t);return n&&Object(s.a)(n,function(){var t=String(this).toLowerCase();y.test(t)?e.h=t:_.test(t)&&(e.v=t)}),e},S=function(t){return Object(a.pairToObject)(t)},w=function(t){switch(t){case"center":return.5;case"right":case"bottom":return 1;default:return 0}},P=function(t){switch(t){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";default:return t}},k=function(t,e){var n=0;return t.myLocation<e.min&&(n+=e.min-t.myLocation),t.myLocation>e.max&&(n+=t.myLocation-e.max),n},E=function(t,e,n){return e.myLocation<n.min?"h"===t?"left":"top":e.myLocation>n.max?"h"===t?"right":"bottom":"none"},T=function(t){t.myLocation=t.atLocation+w(t.atAlign)*t.atSize-w(t.myAlign)*t.mySize+t.offset},I={fit:function(t,e){var n=!1;t.myLocation>e.max&&(t.myLocation=e.max,n=!0),t.myLocation<e.min&&(t.myLocation=e.min,n=!0),t.fit=n},flip:function(t,e){if(t.flip=!1,("center"!==t.myAlign||"center"!==t.atAlign)&&(t.myLocation<e.min||t.myLocation>e.max)){var n=Object(h.a)({},t,{myAlign:P(t.myAlign),atAlign:P(t.atAlign),offset:-t.offset});T(n),n.oversize=k(n,e),(n.myLocation>=e.min&&n.myLocation<=e.max||t.oversize>n.oversize)&&(t.myLocation=n.myLocation,t.oversize=n.oversize,t.flip=!0)}},flipfit:function(t,e){this.flip(t,e),this.fit(t,e)},none:function(t){t.oversize=0}},j=function(){var t=Object(r.a)("<div>").css({width:100,height:100,overflow:"scroll",position:"absolute",top:-9999}).appendTo(Object(r.a)("body")),e=t.get(0).offsetWidth-t.get(0).clientWidth;t.remove(),i=e},M={h:{location:0,flip:!1,fit:!1,oversize:0},v:{location:0,flip:!1,fit:!1,oversize:0}},D=function(t,e){var n=Object(r.a)(t),s=n.offset(),l=Object(h.a)(!0,{},M,{h:{location:s.left},v:{location:s.top}});if(!e)return l;var p=x(e.my),f=x(e.at),y=Object(r.a)(e.of).length&&e.of||v,_=S(e.offset),C=function(t){var e=Object(a.splitPair)(t),n=String(e&&e[0]).toLowerCase(),i=String(e&&e[1]).toLowerCase();return b.test(n)||(n="none"),b.test(i)||(i=n),{h:n,v:i}}(e.collision),w=e.boundary,P=S(e.boundaryOffset),D={mySize:Object(o.h)(n),myAlign:p.h,atAlign:f.h,offset:_.h,collision:C.h,boundaryOffset:P.h},A={mySize:Object(o.g)(n),myAlign:p.v,atAlign:f.v,offset:_.v,collision:C.v,boundaryOffset:P.v};if(y.preventDefault)D.atLocation=y.pageX,A.atLocation=y.pageY,D.atSize=0,A.atSize=0;else if(y=Object(r.a)(y),Object(u.p)(y[0]))D.atLocation=y.scrollLeft(),A.atLocation=y.scrollTop(),"phone"===g.a.real().deviceType&&y[0].visualViewport?(D.atLocation=Math.max(D.atLocation,y[0].visualViewport.offsetLeft),A.atLocation=Math.max(A.atLocation,y[0].visualViewport.offsetTop),D.atSize=y[0].visualViewport.width,A.atSize=y[0].visualViewport.height):(D.atSize=y[0].innerWidth>y[0].outerWidth?y[0].innerWidth:Object(o.k)(y),A.atSize=y[0].innerHeight>y[0].outerHeight||O?y[0].innerHeight:Object(o.c)(y));else if(9===y[0].nodeType)D.atLocation=0,A.atLocation=0,D.atSize=Object(o.k)(y),A.atSize=Object(o.c)(y);else{var B=Object(d.a)(y.get(0)),L=R(y);D.atLocation=L.left,A.atLocation=L.top,D.atSize=Math.max(B.width,Object(o.h)(y)),A.atSize=Math.max(B.height,Object(o.g)(y))}T(D),T(A);var N=function(){var t=Object(r.a)(v),e=Object(o.k)(t),n=Object(o.c)(t),a=t.scrollLeft(),s=t.scrollTop(),l=c.a.getDocumentElement(),h=m.touch?l.clientWidth/e:1,d=m.touch?l.clientHeight/n:1;void 0===i&&j();var p=e,f=n;if(w&&!Object(u.p)(w)){var g=Object(r.a)(w),y=g.offset();a=y.left,s=y.top,p=Object(o.k)(g),f=Object(o.c)(g)}return{h:{min:a+D.boundaryOffset,max:a+p/h-D.mySize-D.boundaryOffset},v:{min:s+A.boundaryOffset,max:s+f/d-A.mySize-A.boundaryOffset}}}();D.oversize=k(D,N.h),A.oversize=k(A,N.v),D.collisionSide=E("h",D,N.h),A.collisionSide=E("v",A,N.v),I[D.collision]&&I[D.collision](D,N.h),I[A.collision]&&I[A.collision](A,N.v);var z=function(t){return e.precise?t:Math.round(t)};return Object(h.a)(!0,l,{h:{location:z(D.myLocation),oversize:z(D.oversize),fit:D.fit,flip:D.flip,collisionSide:D.collisionSide},v:{location:z(A.myLocation),oversize:z(A.oversize),fit:A.fit,flip:A.flip,collisionSide:A.collisionSide},precise:e.precise}),l},A=function(t,e,n,i,o){Object(u.d)(t.style)&&!c.a.isNode(t.style)?t.style.transform=o?n.replace(e,""):n:t.setAttribute("style",o?i.replace(e,""):i)},R=function t(e){var n,i,o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,a=r.get(0);if(!a)return e.offset();var s,l=(null===(n=a.getAttribute)||void 0===n?void 0:n.call(a,"style"))||"",c=null===(i=a.style)||void 0===i?void 0:i.transform,u=null===(o=l.match(C))||void 0===o?void 0:o[0];return u?(A(a,u,c,l,!0),s=t(e,r.parent()),A(a,u,c,l,!1)):s=t(e,r.parent()),s},B=function(t,e){var n=Object(r.a)(t);if(!e)return n.offset();Object(f.g)(n,!0);var i=R(n),o=e.h&&e.v?e:D(n,e),a=function(t){return e.precise?t:Math.round(t)};return Object(f.e)(n,{left:o.h.location-a(i.left),top:o.v.location-a(i.top)}),o};B.inverseAlign||(B.inverseAlign=P),B.normalizeAlign||(B.normalizeAlign=x),e.a={calculateScrollbarWidth:j,calculate:D,setup:B,offset:function(t){return t=Object(r.a)(t).get(0),Object(u.p)(t)?null:t&&"pageY"in t&&"pageX"in t?{top:t.pageY,left:t.pageX}:Object(r.a)(t).offset()}}},function(t,e,n){"use strict";var i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},o=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*\.*\d+)\)$/,process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10),parseFloat(t[4])]}},{re:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/,process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^#([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})$/,process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/^hsv\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){var e=parseInt(t[1],10),n=parseInt(t[2],10),i=parseInt(t[3],10),o=l(e,n,i);return[o[0],o[1],o[2],1,[e,n,i]]}},{re:/^hsl\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){var e=parseInt(t[1],10),n=parseInt(t[2],10),i=parseInt(t[3],10),o=h(e,n,i);return[o[0],o[1],o[2],1,null,[e,n,i]]}}],r=Math.round;function a(t){var e;this.baseColor=t,t&&(e=String(t).toLowerCase().replace(/ /g,""),e=function(t){if("transparent"===t)return[0,0,0,0];for(var e,n=0,i=o.length;n<i;++n)if(e=o[n].re.exec(t))return o[n].process(e);return null}(e=i[e]?"#"+i[e]:e)),e||(this.colorIsInvalid=!0),e=e||{},this.r=s(e[0]),this.g=s(e[1]),this.b=s(e[2]),this.a=s(e[3],1,1),e[4]?this.hsv={h:e[4][0],s:e[4][1],v:e[4][2]}:this.hsv=function(t,e,n){var i,o,r=Math.max(t,e,n),a=Math.min(t,e,n),s=r-a,l=r;if(o=0===r?0:1-a/r,r===a)i=0;else switch(r){case t:i=(e-n)/s*60,e<n&&(i+=360);break;case e:i=(n-t)/s*60+120;break;case n:i=(t-e)/s*60+240}return o*=100,l*=100/255,{h:Math.round(i),s:Math.round(o),v:Math.round(l)}}(this.r,this.g,this.b),e[5]?this.hsl={h:e[5][0],s:e[5][1],l:e[5][2]}:this.hsl=function(t,e,n){t=d(t,255),e=d(e,255),n=d(n,255);var i,o,a=Math.max(t,e,n),s=Math.min(t,e,n),l=a+s,c=l/2;if(a===s)i=o=0;else{var u=a-s;o=c>.5?u/(2-l):u/l,i=function(t,e,n,i){switch(Math.max(t,e,n)){case t:return(e-n)/i+(e<n?6:0);case e:return(n-t)/i+2;case n:return(t-e)/i+4}}(t,e,n,u),i/=6}return{h:r(360*i),s:r(100*o),l:r(100*c)}}(this.r,this.g,this.b)}function s(t,e,n){return e=e||0,n=n||255,t<0||isNaN(t)?e:t>n?n:t}function l(t,e,n){var i,o,r,a=(100-e)*n/100,s=t%60/60*(n-a),l=a+s,c=n-s;switch(Math.floor(t%360/60)){case 0:i=n,o=l,r=a;break;case 1:i=c,o=n,r=a;break;case 2:i=a,o=n,r=l;break;case 3:i=a,o=c,r=n;break;case 4:i=l,o=a,r=n;break;case 5:i=n,o=a,r=c}return[Math.round(2.55*i),Math.round(2.55*o),Math.round(2.55*r)]}function c(t,e){var n=e;return"r"===t&&(n=e+1/3),"b"===t&&(n=e-1/3),n}function u(t,e,n){return(n=function(t){return t<0&&(t+=1),t>1&&(t-=1),t}(n))<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function h(t,e,n){var i,o,a;if(t=d(t,360),e=d(e,100),n=d(n,100),0===e)i=o=a=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;i=u(l,s,c("r",t)),o=u(l,s,c("g",t)),a=u(l,s,c("b",t))}return[r(255*i),r(255*o),r(255*a)]}function d(t,e){return t=Math.min(e,Math.max(0,parseFloat(t))),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function p(t,e,n){return e=e||0,n=n||255,!(t%1!==0||t<e||t>n||"number"!==typeof t||isNaN(t))}a.prototype={constructor:a,highlight:function(t){return t=t||10,this.alter(t).toHex()},darken:function(t){return t=t||10,this.alter(-t).toHex()},alter:function(t){var e=new a;return e.r=s(this.r+t),e.g=s(this.g+t),e.b=s(this.b+t),e},blend:function(t,e){var n=t instanceof a?t:new a(t),i=new a;return i.r=s(r(this.r*(1-e)+n.r*e)),i.g=s(r(this.g*(1-e)+n.g*e)),i.b=s(r(this.b*(1-e)+n.b*e)),i},toHex:function(){return t=this.r,e=this.g,n=this.b,"#"+(16777216|t<<16|e<<8|n).toString(16).slice(1);var t,e,n},getPureColor:function(){return new a("rgb("+l(this.hsv.h,100,100).join(",")+")")},isValidHex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},isValidRGB:function(t,e,n){return!!(p(t)&&p(e)&&p(n))},isValidAlpha:function(t){return!(isNaN(t)||t<0||t>1||"number"!==typeof t)},colorIsInvalid:!1,fromHSL:function(t){var e=new a,n=h(t.h,t.s,t.l);return e.r=n[0],e.g=n[1],e.b=n[2],e}},e.a=a},function(t,e,n){"use strict";var i=n(3),o=n(1),r=n(9),a=n(32);e.a=function(t){var e=a.a.inherit(t),n=e,s=new n(t),l={},c=function(e,n){Object(r.a)(e,function(e){Object(o.h)(s[e])?!n&&t[e]||(t[e]=function(){return s[e].apply(t,arguments)}):(n&&(l[e]=t[e]),t[e]=s[e])})};return c(t,!0),t.inject=function(t){n=n.inherit(t),s=new n,c(t)},t.resetInjection=function(){Object(i.a)(t,l),n=e,s=new e},t}},function(t,e,n){"use strict";var i=n(2),o=n(46),r=n(43),a=n(15),s=n(10),l=n(3),c=n(52),u=n(59),h=n(7),d=n(208),p=n(55),f=n(5),m=n(48),g=["outlined","filled","underlined"],v={validationMessageMode:"mode",validationMessagePosition:"positionSide",validationMessageOffset:"offset",validationBoundary:"boundary"},y=c.a.inherit({ctor:function(){this.showValidationMessageTimeout=null,this.validationRequest=Object(r.a)(),this.callBase.apply(this,arguments)},_createElement:function(t){this.callBase(t);var e=this.$element();e&&Object(o.c)(e[0],"dx-validation-target",this)},_initOptions:function(t){this.callBase.apply(this,arguments),this.option(u.a.initValidationOptions(t))},_init:function(){this.callBase(),this._options.cache("validationTooltipOptions",this.option("validationTooltipOptions")),this.$element().addClass("dx-show-invalid-badge")},_getDefaultOptions:function(){return Object(l.a)(this.callBase(),{value:null,name:"",onValueChanged:null,readOnly:!1,isValid:!0,validationError:null,validationErrors:null,validationStatus:"valid",validationMessageMode:"auto",validationMessagePosition:"bottom",validationBoundary:void 0,validationMessageOffset:{h:0,v:0},validationTooltipOptions:{}})},_attachKeyboardEvents:function(){this.option("readOnly")||this.callBase()},_setOptionsByReference:function(){this.callBase(),Object(l.a)(this._optionsByReference,{validationError:!0})},_createValueChangeAction:function(){this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})},_suppressValueChangeAction:function(){this._valueChangeActionSuppressed=!0},_resumeValueChangeAction:function(){this._valueChangeActionSuppressed=!1},_initMarkup:function(){var t;this._toggleReadOnlyState(),this._setSubmitElementName(this.option("name")),this.callBase(),this._renderValidationState(),null===(t=this.option("_onMarkupRendered"))||void 0===t||t()},_raiseValueChangeAction:function(t,e){this._valueChangeAction||this._createValueChangeAction(),this._valueChangeAction(this._valueChangeArgs(t,e))},_valueChangeArgs:function(t,e){return{value:t,previousValue:e,event:this._valueChangeEventInstance}},_saveValueChangeEvent:function(t){this._valueChangeEventInstance=t},_focusInHandler:function(t){var e="auto"===this.option("validationMessageMode");if(this._canValueBeChangedByClick()&&e){var n,i=null===(n=this._validationMessage)||void 0===n?void 0:n.$wrapper();null===i||void 0===i||i.removeClass("dx-invalid-message-auto"),clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(function(){return null===i||void 0===i?void 0:i.addClass("dx-invalid-message-auto")},150)}return this.callBase(t)},_canValueBeChangedByClick:function(){return!1},_getStylingModePrefix:function(){return"dx-editor-"},_renderStylingMode:function(){var t=this,e=this.option("stylingMode"),n=this._getStylingModePrefix(),i=g.map(function(t){return n+t});i.forEach(function(e){return t.$element().removeClass(e)});var o=n+e;if(-1===i.indexOf(o)){var r=this._getDefaultOptions().stylingMode,a=this._convertRulesToOptions(this._defaultOptionsRules()).stylingMode;o=n+(a||r)}this.$element().addClass(o)},_getValidationErrors:function(){var t=this.option("validationErrors");return!t&&this.option("validationError")&&(t=[this.option("validationError")]),t},_disposeValidationMessage:function(){this._$validationMessage&&(this._$validationMessage.remove(),this.setAria("describedby",null),this._$validationMessage=void 0,this._validationMessage=void 0)},_toggleValidationClasses:function(t){this.$element().toggleClass("dx-invalid",t),this.setAria("invalid",t||void 0)},_renderValidationState:function(){var t=this.option("isValid")&&"invalid"!==this.option("validationStatus"),e=this._getValidationErrors(),n=this.$element();if(this._toggleValidationClasses(!t),Object(a.f)()&&(this._disposeValidationMessage(),!t&&e)){var o=this.option(),r=o.validationMessageMode,s=o.validationMessagePosition,c=o.validationMessageOffset,u=o.validationBoundary,h=o.rtlEnabled;this._$validationMessage=Object(i.a)("<div>").appendTo(n);var f="dx-".concat(new p.a);this.setAria("describedby",f),this._validationMessage=new d.a(this._$validationMessage,Object(l.a)({validationErrors:e,rtlEnabled:h,target:this._getValidationMessageTarget(),visualContainer:n,mode:r,positionSide:s,offset:c,boundary:u,contentId:f},this._options.cache("validationTooltipOptions"))),this._bindInnerWidgetOptions(this._validationMessage,"validationTooltipOptions")}},_getValidationMessageTarget:function(){return this.$element()},_toggleReadOnlyState:function(){var t=this.option("readOnly");this._toggleBackspaceHandler(t),this.$element().toggleClass("dx-state-readonly",!!t),this.setAria("readonly",t||void 0)},_toggleBackspaceHandler:function(t){var e=this._keyboardEventBindingTarget(),n=Object(s.a)("keydown","editorReadOnly");h.a.off(e,n),t&&h.a.on(e,n,function(t){"backspace"===Object(s.n)(t)&&t.preventDefault()})},_dispose:function(){var t=this.$element()[0];Object(o.c)(t,"dx-validation-target",null),clearTimeout(this.showValidationMessageTimeout),this._disposeValidationMessage(),this.callBase()},_setSubmitElementName:function(t){var e=this._getSubmitElement();e&&(t.length>0?e.attr("name",t):e.removeAttr("name"))},_getSubmitElement:function(){return null},_setValidationMessageOption:function(t){var e,n=t.name,i=t.value,o=v[n]?v[n]:n;null===(e=this._validationMessage)||void 0===e||e.option(o,i)},_hasActiveElement:f.noop,_optionChanged:function(t){var e;switch(t.name){case"onValueChanged":this._createValueChangeAction();break;case"readOnly":this._toggleReadOnlyState(),this._refreshFocusState();break;case"value":t.value!=t.previousValue&&this.validationRequest.fire({value:t.value,editor:this}),this._valueChangeActionSuppressed||(this._raiseValueChangeAction(t.value,t.previousValue),this._saveValueChangeEvent(void 0));break;case"width":this.callBase(t),null===(e=this._validationMessage)||void 0===e||e.updateMaxWidth();break;case"name":this._setSubmitElementName(t.value);break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(u.a.synchronizeValidationOptions(t,this.option())),this._renderValidationState();break;case"validationBoundary":case"validationMessageMode":case"validationMessagePosition":case"validationMessageOffset":this._setValidationMessageOption(t);break;case"rtlEnabled":this._setValidationMessageOption(t),this.callBase(t);break;case"validationTooltipOptions":this._innerWidgetOptionChanged(this._validationMessage,t);break;default:this.callBase(t)}},blur:function(){this._hasActiveElement()&&Object(m.h)()},reset:function(){var t=this._getDefaultOptions();this.option("value",t.value)}});y.isEditor=function(t){return t instanceof y},e.a=y},function(t,e,n){"use strict";var i=n(3),o=n(15),r=Object(o.c)(),a=/(webkit)[ /]([\w.]+)/,s=/(mozilla)(?:.*? rv:([\w.]+))/,l=function(t){t=t.toLowerCase();var e={},n=a.exec(t)||t.indexOf("compatible")<0&&s.exec(t)||[],i=n[1],o=n[2];return"webkit"===i&&(e.webkit=!0,t.indexOf("chrome")>=0||t.indexOf("crios")>=0?(i="chrome",o=(o=/(?:chrome|crios)\/(\d+\.\d+)/.exec(t))&&o[1]):t.indexOf("fxios")>=0?(i="mozilla",o=(o=/fxios\/(\d+\.\d+)/.exec(t))&&o[1]):t.indexOf("safari")>=0&&/version|phantomjs/.test(t)?(i="safari",o=(o=/(?:version|phantomjs)\/([0-9.]+)/.exec(t))&&o[1]):(i="unknown",o=(o=/applewebkit\/([0-9.]+)/.exec(t))&&o[1])),i&&(e[i]=!0,e.version=o),e};e.a=Object(i.a)({_fromUA:l},l(r.userAgent))},function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"c",function(){return h}),n.d(e,"a",function(){return p});var i=n(51),o=n(77),r=n(1),a=n(17),s=["","Webkit","Moz","O","Ms"],l={"":"",Webkit:"-webkit-",Moz:"-moz-",O:"-o-",ms:"-ms-"},c=Object(o.a)(function(){return a.a.createElement("dx").style}),u=function(t){if(t in c())return t;var e=t;t=t.charAt(0).toUpperCase()+t.substr(1);for(var n=1;n<s.length;n++){var i=s[n].toLowerCase()+t;if(i in c())return i}return e},h=function(t){return function(t,e){var n;t=Object(i.a)(t,!0);for(var o=0,r=s.length;o<r;o++){var a=s[o],l=a+t;if(void 0===(n=e(Object(i.a)(l),a))&&(n=e(l,a)),void 0!==n)break}return n||""}(t,function(t,e){if(t in c())return l[e]})},d=["fillOpacity","columnCount","flexGrow","flexShrink","fontWeight","lineHeight","opacity","zIndex","zoom"],p=function(t,e){return Object(r.i)(e)&&-1===d.indexOf(t)&&(e+="px"),e}},function(t,e,n){"use strict";n.r(e),n.d(e,"requestAnimationFrame",function(){return c}),n.d(e,"cancelAnimationFrame",function(){return u});var i=n(15),o=n(77),r=Object(i.f)()?Object(i.d)():{},a=function(t){return setTimeout(t,1e3/60)},s=function(t){clearTimeout(t)},l=Object(o.a)(function(){var t=r.requestAnimationFrame||r.webkitRequestAnimationFrame||r.mozRequestAnimationFrame||r.oRequestAnimationFrame||r.msRequestAnimationFrame,e=r.cancelAnimationFrame||r.webkitCancelAnimationFrame||r.mozCancelAnimationFrame||r.oCancelAnimationFrame||r.msCancelAnimationFrame;t&&e&&(a=t,s=e)});function c(){return l(),a.apply(r,arguments)}function u(){l(),s.apply(r,arguments)}},function(t,e,n){"use strict";var i=n(17),o=n(70),r=n(15),a=n(77),s=[],l=Object(a.a)(function(){var t=i.a.listen(i.a.getDocument(),"DOMContentLoaded",function(){c.fire(),t()})}),c={add:function(t){var e=Object(r.f)();e&&"loading"!==i.a.getReadyState()?t():(s.push(t),e&&l())},fire:function(){s.forEach(function(t){return t()}),s=[]}};e.a=Object(o.a)(c)},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"d",function(){return r}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s});var i=n(1),o=function(){var t=[new RegExp("&","g"),new RegExp('"',"g"),new RegExp("'","g"),new RegExp("<","g"),new RegExp(">","g")];return function(e){return String(e).replace(t[0],"&amp;").replace(t[1],"&quot;").replace(t[2],"&#39;").replace(t[3],"&lt;").replace(t[4],"&gt;")}}(),r=function(t){var e=function(t){switch(typeof t){case"string":return t.split(/\s+/,4);case"object":return[t.x||t.h||t.left,t.y||t.v||t.top,t.x||t.h||t.right,t.y||t.v||t.bottom];case"number":return[t];default:return t}}(t),n=parseInt(e&&e[0],10),i=parseInt(e&&e[1],10),o=parseInt(e&&e[2],10),r=parseInt(e&&e[3],10);return isFinite(n)||(n=0),isFinite(i)||(i=n),isFinite(o)||(o=n),isFinite(r)||(r=i),{top:i,right:o,bottom:r,left:n}};function a(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return Object(i.h)(t)?t.apply(void 0,n):(n.forEach(function(e,n){Object(i.o)(e)&&(e=e.replace(/\$/g,"$$$$"));var o=new RegExp("\\{"+n+"\\}","gm");t=t.replace(o,e)}),t)}var s=function(){var t=/\s/g;return function(e){return!e||!e.replace(t,"")}}()},function(t,e,n){"use strict";e.a=function(t){var e,n=function(){return e=t.apply(this,arguments),n=function(){return e},e};return function(){return n.apply(this,arguments)}}},function(t,e,n){"use strict";var i=n(2),o=n(50),r=n(38),a=n(98),s=n(182),l=n(12),c=n(13),u=n(1),h=n(5),d=n(3),p=n(138),f=n(96),m=n(110),g="template",v=new p.a(function(t){var e=t.model,n=t.parent,o=e.widget;if(!o)return Object(i.a)();var r=Object(i.a)("<div>"),a=e.options||{};return n?n._createComponent(r,o,a):r[o](a),r}),y=function(){function t(e,n){Object(l.a)(this,t),this._tempTemplates=[],this._defaultTemplates={},this._anonymousTemplateName=n||g,this._createElement=e||m.b,this._createTemplateIfNeeded=this._createTemplateIfNeeded.bind(this)}return Object(c.a)(t,[{key:"addDefaultTemplates",value:function(t){this._defaultTemplates=Object(d.a)({},this._defaultTemplates,t)}},{key:"dispose",value:function(){this._tempTemplates.forEach(function(t){t.template.dispose&&t.template.dispose()}),this._tempTemplates=[]}},{key:"extractTemplates",value:function(t){return{templates:this._extractTemplates(t),anonymousTemplateMeta:this._extractAnonymousTemplate(t)}}},{key:"_extractTemplates",value:function(t){var e=this,n=Object(m.c)(t,"dxTemplate"),o=Object(m.e)(n);return n.forEach(function(t){var e=t.element,n=t.options.name;e===o[n]?Object(i.a)(e).addClass("dx-template-wrapper").detach():Object(i.a)(e).remove()}),Object.keys(o).map(function(t){return{name:t,template:e._createTemplate(o[t])}})}},{key:"_extractAnonymousTemplate",value:function(t){var e=t.contents().detach();return e.filter(function(t,e){var n=3===e.nodeType,o=Object(i.a)(e).text().trim().length<1;return!(n&&o)}).length>0?{template:this._createTemplate(e),name:this._anonymousTemplateName}:{}}},{key:"_createTemplateIfNeeded",value:function(t){var e=this._tempTemplates.filter(function(e){return e.source===Object(m.f)(t)})[0];if(e)return e.template;var n=this._createTemplate(t);return this._tempTemplates.push({template:n,source:Object(m.f)(t)}),n}},{key:"_createTemplate",value:function(t){return this._createElement(Object(m.g)(t))}},{key:"getTemplate",value:function(t,e,n,o){var r=this,a=n.isAsyncTemplate,s=n.skipTemplates;return Object(u.h)(t)?new p.a(function(n){var l=t.apply(o,Object(m.d)(n));if(!Object(u.d)(l))return new f.a;var c=!1,h=Object(m.a)(l,function(t){return t.nodeType||Object(u.n)(t)&&!Object(i.a)(t).is("script")?new p.a(function(){return t}):(c=!0,r._createTemplate(t))},e,a,s,r._defaultTemplates),d=h.render(n);return c&&h.dispose&&h.dispose(),d}):Object(m.a)(t,this._createTemplateIfNeeded,e,a,s,this._defaultTemplates)}},{key:"anonymousTemplateName",get:function(){return this._anonymousTemplateName}}],[{key:"createDefaultOptions",value:function(){return{integrationOptions:{watchMethod:function(t,e){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipImmediate||e(t()),h.noop},templates:{"dx-polymorph-widget":v},useDeferUpdateForTemplates:!0}}}}]),t}(),_=n(108),b=n(191),C=n(46),O=n(9),x=n(33),S=n(15),w=n(63),P=s.a.abstract,k=s.a.inherit({_getDefaultOptions:function(){return Object(d.a)(this.callBase(),{width:void 0,height:void 0,rtlEnabled:Object(o.a)().rtlEnabled,elementAttr:{},disabled:!1,integrationOptions:{}},this._useTemplates()?y.createDefaultOptions():{})},ctor:function(t,e){this._customClass=null,this._createElement(t),Object(_.a)(this._$element,this,this._dispose),this.callBase(e)},_createElement:function(t){this._$element=Object(i.a)(t)},_getSynchronizableOptionsForCreateComponent:function(){return["rtlEnabled","disabled","templatesRenderAsynchronously"]},_checkFunctionValueDeprecation:function(t){var e=this;this.option("_ignoreFunctionValueDeprecation")||t.forEach(function(t){Object(u.h)(e.option(t))&&r.a.log("W0017",t)})},_visibilityChanged:P,_dimensionChanged:P,_init:function(){this.callBase(),this._checkFunctionValueDeprecation(["width","height","maxHeight","maxWidth","minHeight","minWidth","popupHeight","popupWidth"]),this._attachWindowResizeCallback(),this._initTemplateManager()},_setOptionsByDevice:function(t){this.callBase([].concat(this.constructor._classCustomRules||[],t||[]))},_isInitialOptionValue:function(t){return!(this.constructor._classCustomRules&&Object.prototype.hasOwnProperty.call(this._convertRulesToOptions(this.constructor._classCustomRules),t))&&this.callBase(t)},_attachWindowResizeCallback:function(){if(this._isDimensionChangeSupported()){var t=this._windowResizeCallBack=this._dimensionChanged.bind(this);a.a.add(t)}},_isDimensionChangeSupported:function(){return this._dimensionChanged!==P},_renderComponent:function(){this._initMarkup(),Object(S.f)()&&this._render()},_initMarkup:function(){var t=(this.option()||{}).rtlEnabled;this._renderElementAttributes(),this._toggleRTLDirection(t),this._renderVisibilityChange(),this._renderDimensions()},_render:function(){this._attachVisibilityChangeHandlers(),Object(b.a)(this.$element())},_renderElementAttributes:function(){var t=(this.option()||{}).elementAttr,e=Object(d.a)({},t),n=e.class;delete e.class,this.$element().attr(e).removeClass(this._customClass).addClass(n),this._customClass=n},_renderVisibilityChange:function(){(this._isDimensionChangeSupported()&&this._attachDimensionChangeHandlers(),this._isVisibilityChangeSupported())&&this.$element().addClass("dx-visibility-change-handler")},_renderDimensions:function(){var t=this.$element(),e=t.get(0),n=this._getOptionValue("width",e),i=this._getOptionValue("height",e);this._isCssUpdateRequired(e,i,n)&&t.css({width:null===n?"":n,height:null===i?"":i})},_isCssUpdateRequired:function(t,e,n){return!!(Object(u.d)(n)||Object(u.d)(e)||t.style.width||t.style.height)},_attachDimensionChangeHandlers:function(){var t=this,e=this.$element(),n="".concat(this.NAME,"VisibilityChange");w.g.off(e,{namespace:n}),w.g.on(e,function(){return t._dimensionChanged()},{namespace:n})},_attachVisibilityChangeHandlers:function(){var t=this;if(this._isVisibilityChangeSupported()){var e=this.$element(),n="".concat(this.NAME,"VisibilityChange");this._isHidden=!this._isVisible(),w.h.off(e,{namespace:n}),w.h.on(e,function(){return t._checkVisibilityChanged("shown")},function(){return t._checkVisibilityChanged("hiding")},{namespace:n})}},_isVisible:function(){return this.$element().is(":visible")},_checkVisibilityChanged:function(t){this._isVisible()&&("hiding"!==t||this._isHidden?"shown"===t&&this._isHidden&&(this._isHidden=!1,this._visibilityChanged(!0)):(this._visibilityChanged(!1),this._isHidden=!0))},_isVisibilityChangeSupported:function(){return this._visibilityChanged!==P&&Object(S.f)()},_clean:h.noop,_modelByElement:function(){var t=this.option().modelByElement,e=this.$element();return t?t(e):void 0},_invalidate:function(){if(this._isUpdateAllowed())throw r.a.Error("E0007");this._requireRefresh=!0},_refresh:function(){this._clean(),this._renderComponent()},_dispose:function(){this._templateManager&&this._templateManager.dispose(),this.callBase(),this._clean(),this._detachWindowResizeCallback()},_detachWindowResizeCallback:function(){this._isDimensionChangeSupported()&&a.a.remove(this._windowResizeCallBack)},_toggleRTLDirection:function(t){this.$element().toggleClass("dx-rtl",t)},_createComponent:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(h.grep)(this._getSynchronizableOptionsForCreateComponent(),function(t){return!(t in o)}),a=this.option().integrationOptions,s=this.option().nestedComponentOptions;s=s||h.noop;var l=Object(d.a)({integrationOptions:a},s(this));r.forEach(function(t){return l[t]=n.option(t)}),this._extendConfig(o,l);var c=void 0;if(Object(u.o)(e)){var p=Object(i.a)(t)[e](o);c=p[e]("instance")}else t&&((c=e.getInstance(t))?c.option(o):c=new e(t,o));if(c){var f=function(t){var e=t.name,n=t.value;r.includes(e)&&c.option(e,n)};this.on("optionChanged",f),c.on("disposing",function(){return n.off("optionChanged",f)})}return c},_extendConfig:function(t,e){Object(O.a)(e,function(e,n){!Object.prototype.hasOwnProperty.call(t,e)&&(t[e]=n)})},_defaultActionConfig:function(){var t=this.$element(),e=this._modelByElement(t);return Object(d.a)(this.callBase(),{context:e})},_defaultActionArgs:function(){var t=this.$element(),e=this._modelByElement(t),n=this.element();return Object(d.a)(this.callBase(),{element:n,model:e})},_optionChanged:function(t){switch(t.name){case"width":case"height":this._renderDimensions();break;case"rtlEnabled":this._invalidate();break;case"elementAttr":this._renderElementAttributes();break;case"disabled":case"integrationOptions":break;default:this.callBase(t)}},_removeAttributes:function(t){for(var e=t.attributes,n=e.length-1;n>=0;n--){var i=e[n];if(i){var o=i.name;o.indexOf("aria-")&&-1===o.indexOf("dx-")&&"role"!==o&&"style"!==o&&"tabindex"!==o||t.removeAttribute(o)}}},_removeClasses:function(t){t.className=t.className.split(" ").filter(function(t){return 0!==t.lastIndexOf("dx-",0)}).join(" ")},_updateDOMComponent:function(t){t?this._renderComponent():this._requireRefresh&&(this._requireRefresh=!1,this._refresh())},endUpdate:function(){var t=this._isInitializingRequired();this.callBase(),this._isUpdateAllowed()&&this._updateDOMComponent(t)},$element:function(){return this._$element},element:function(){var t=this.$element();return Object(x.a)(t)},dispose:function(){var t=this.$element().get(0);Object(C.b)(t,!0),t.textContent="",this._removeAttributes(t),this._removeClasses(t)},resetOption:function(t){if(this.callBase(t),"width"===t||"height"===t){var e=this.initialOption(t);!Object(u.d)(e)&&this.$element().css(t,"")}},_getAnonymousTemplateName:function(){},_initTemplateManager:function(){if(!this._templateManager&&this._useTemplates()){var t=this.option().integrationOptions,e=(void 0===t?{}:t).createTemplate;this._templateManager=new y(e,this._getAnonymousTemplateName()),this._initTemplates()}},_initTemplates:function(){var t=this,e=this._templateManager.extractTemplates(this.$element()),n=e.templates,i=e.anonymousTemplateMeta,o=this.option("integrationOptions.templates.".concat(i.name));n.forEach(function(e){var n=e.name,i=e.template;t._options.silent("integrationOptions.templates.".concat(n),i)}),i.name&&!o&&(this._options.silent("integrationOptions.templates.".concat(i.name),i.template),this._options.silent("_hasAnonymousTemplateContent",!0))},_getTemplateByOption:function(t){return this._getTemplate(this.option(t))},_getTemplate:function(t){var e=this.option("integrationOptions.templates"),n=this.option("templatesRenderAsynchronously"),i=this.option("integrationOptions.skipTemplates");return this._templateManager.getTemplate(t,e,{isAsyncTemplate:n,skipTemplates:i},this)},_saveTemplate:function(t,e){this._setOptionWithoutOptionChange("integrationOptions.templates."+t,this._templateManager._createTemplate(e))},_useTemplates:function(){return!0}});k.getInstance=function(t){return Object(_.b)(Object(i.a)(t),this)},k.defaultOptions=function(t){this._classCustomRules=this._classCustomRules||[],this._classCustomRules.push(t)};e.a=k},function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"f",function(){return h}),n.d(e,"c",function(){return p}),n.d(e,"e",function(){return f}),n.d(e,"d",function(){return m}),n.d(e,"b",function(){return g});var i=n(27),o=n(20),r=n(1),a=n(5),s=n(3),l=n(37),c={},u=function(t){var e=o.a.current();return t.reduce(function(t,n){var i=n.device,o=n.options,a=i||{};return(Object(r.h)(a)?a(e):d(e,a))&&Object(s.a)(!0,t,o),t},{})},h=function(t,e){return"string"!==typeof t?t:Object(i.a)({},t,e)},d=function(t,e){return Object(r.e)(e)||Object(a.findBestMatches)(t,[e]).length>0},p=function(t){return t.substr(t.lastIndexOf(".")+1)},f=function(t){return t.substr(0,t.lastIndexOf("."))},m=function(t,e){return c[e]=c[e]||Object(l.a)(e),c[e](t,{functionsAsIs:!0})},g=function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}},function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return l});var i=n(2),o=n(7),r=function(t){return function(e){for(var n=Object(i.a)(e||"body"),r=n.filter(".dx-visibility-change-handler").add(n.find(".dx-visibility-change-handler")),a=0;a<r.length;a++)o.a.triggerHandler(r[a],t)}},a=r("dxshown"),s=r("dxhiding"),l=r("dxresize")},function(t,e,n){"use strict";function i(t,e,n,i,o,r,a){try{var s=t[r](a),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(i,o)}function o(t){return function(){var e=this,n=arguments;return new Promise(function(o,r){var a=t.apply(e,n);function s(t){i(a,o,r,s,l,"next",t)}function l(t){i(a,o,r,s,l,"throw",t)}s(void 0)})}}n.d(e,"a",function(){return o})},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return r});var i=n(2),o=function(t){return!(!t||"string"!==typeof t)&&(/^\s*<svg[^>]*>(.|\r?\n)*?<\/svg>\s*$/i.test(t)?"svg":/data:.*base64|\.|[^<\s]\/{1,1}/.test(t)?"image":/^[\w-_]+$/.test(t)?"dxIcon":!!/^\s?([\w-_]\s?)+$/.test(t)&&"fontIcon")},r=function(t){switch(o(t)){case"image":return Object(i.a)("<img>").attr("src",t).addClass("dx-icon");case"fontIcon":return Object(i.a)("<i>").addClass("".concat("dx-icon"," ").concat(t));case"dxIcon":return Object(i.a)("<i>").addClass("".concat("dx-icon"," ").concat("dx-icon","-").concat(t));case"svg":return Object(i.a)("<i>").addClass("".concat("dx-icon"," ").concat("dx-svg-icon")).append(t);default:return null}}},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return l});var i=n(2),o=n(17),r=function(t,e){if(!function(t){var e=Object(i.a)(t);return e.is(":visible")&&"hidden"!==e.css("visibility")&&"hidden"!==e.parents().css("visibility")}(t))return!1;var n=t.nodeName.toLowerCase(),o=!isNaN(e),r=t.disabled,a=/^(input|select|textarea|button|object|iframe)$/.test(n),s="a"===n,l=t.isContentEditable;return a||l?!r:s&&t.href||o};var a=function(t,e){return r(e,Object(i.a)(e).attr("tabIndex"))},s=function(t,e){var n=Object(i.a)(e).attr("tabIndex");return(isNaN(n)||n>=0)&&r(e,n)},l=function(t){var e=Object(i.a)(t).get(0);return o.a.getActiveElement(e)===e}},function(t,e,n){"use strict";var i=n(70),o={"en-150":"en-001","en-AG":"en-001","en-AI":"en-001","en-AU":"en-001","en-BB":"en-001","en-BM":"en-001","en-BS":"en-001","en-BW":"en-001","en-BZ":"en-001","en-CC":"en-001","en-CK":"en-001","en-CM":"en-001","en-CX":"en-001","en-CY":"en-001","en-DG":"en-001","en-DM":"en-001","en-ER":"en-001","en-FJ":"en-001","en-FK":"en-001","en-FM":"en-001","en-GB":"en-001","en-GD":"en-001","en-GG":"en-001","en-GH":"en-001","en-GI":"en-001","en-GM":"en-001","en-GY":"en-001","en-HK":"en-001","en-IE":"en-001","en-IL":"en-001","en-IM":"en-001","en-IN":"en-001","en-IO":"en-001","en-JE":"en-001","en-JM":"en-001","en-KE":"en-001","en-KI":"en-001","en-KN":"en-001","en-KY":"en-001","en-LC":"en-001","en-LR":"en-001","en-LS":"en-001","en-MG":"en-001","en-MO":"en-001","en-MS":"en-001","en-MT":"en-001","en-MU":"en-001","en-MV":"en-001","en-MW":"en-001","en-MY":"en-001","en-NA":"en-001","en-NF":"en-001","en-NG":"en-001","en-NR":"en-001","en-NU":"en-001","en-NZ":"en-001","en-PG":"en-001","en-PK":"en-001","en-PN":"en-001","en-PW":"en-001","en-RW":"en-001","en-SB":"en-001","en-SC":"en-001","en-SD":"en-001","en-SG":"en-001","en-SH":"en-001","en-SL":"en-001","en-SS":"en-001","en-SX":"en-001","en-SZ":"en-001","en-TC":"en-001","en-TK":"en-001","en-TO":"en-001","en-TT":"en-001","en-TV":"en-001","en-TZ":"en-001","en-UG":"en-001","en-VC":"en-001","en-VG":"en-001","en-VU":"en-001","en-WS":"en-001","en-ZA":"en-001","en-ZM":"en-001","en-ZW":"en-001","en-AT":"en-150","en-BE":"en-150","en-CH":"en-150","en-DE":"en-150","en-DK":"en-150","en-FI":"en-150","en-NL":"en-150","en-SE":"en-150","en-SI":"en-150","hi-Latn":"en-IN","es-AR":"es-419","es-BO":"es-419","es-BR":"es-419","es-BZ":"es-419","es-CL":"es-419","es-CO":"es-419","es-CR":"es-419","es-CU":"es-419","es-DO":"es-419","es-EC":"es-419","es-GT":"es-419","es-HN":"es-419","es-MX":"es-419","es-NI":"es-419","es-PA":"es-419","es-PE":"es-419","es-PR":"es-419","es-PY":"es-419","es-SV":"es-419","es-US":"es-419","es-UY":"es-419","es-VE":"es-419",nb:"no",nn:"no","pt-AO":"pt-PT","pt-CH":"pt-PT","pt-CV":"pt-PT","pt-FR":"pt-PT","pt-GQ":"pt-PT","pt-GW":"pt-PT","pt-LU":"pt-PT","pt-MO":"pt-PT","pt-MZ":"pt-PT","pt-ST":"pt-PT","pt-TL":"pt-PT","az-Arab":"und","az-Cyrl":"und","bal-Latn":"und","blt-Latn":"und","bm-Nkoo":"und","bs-Cyrl":"und","byn-Latn":"und","cu-Glag":"und","dje-Arab":"und","dyo-Arab":"und","en-Dsrt":"und","en-Shaw":"und","ff-Adlm":"und","ff-Arab":"und","ha-Arab":"und","iu-Latn":"und","kk-Arab":"und","ks-Deva":"und","ku-Arab":"und","ky-Arab":"und","ky-Latn":"und","ml-Arab":"und","mn-Mong":"und","mni-Mtei":"und","ms-Arab":"und","pa-Arab":"und","sat-Deva":"und","sd-Deva":"und","sd-Khoj":"und","sd-Sind":"und","shi-Latn":"und","so-Arab":"und","sr-Latn":"und","sw-Arab":"und","tg-Arab":"und","ug-Cyrl":"und","uz-Arab":"und","uz-Cyrl":"und","vai-Latn":"und","wo-Arab":"und","yo-Arab":"und","yue-Hans":"und","zh-Hant":"und","zh-Hant-MO":"zh-Hant-HK"},r=function(t,e){var n=t[e];return n?"root"!==n&&n:e.substr(0,e.lastIndexOf("-"))};e.a=Object(i.a)({locale:function(){var t="en";return function(e){if(!e)return t;t=e}}(),getValueByClosestLocale:function(t){for(var e,n=this.locale(),i=t(n);!i&&!e;)(n=r(o,n))?i=t(n):e=!0;return void 0===i&&"en"!==n?t("en"):i}})},function(t,e,n){"use strict";var i=n(9),o=n(178),r=function(t,e){var n={};"noBubble"in e&&(n.noBubble=e.noBubble),"bindType"in e&&(n.bindType=e.bindType),"delegateType"in e&&(n.delegateType=e.delegateType),Object(i.a)(["setup","teardown","add","remove","trigger","handle","_default","dispose"],function(t,i){e[i]&&(n[i]=function(){var t=[].slice.call(arguments);return t.unshift(this),e[i].apply(e,t)})}),o.a.fire(t,n)};r.callbacks=o.a,e.a=r},function(t,e,n){"use strict";var i=n(134),o={},r=n(66),a=n(9),s=n(1),l=n(16),c=function t(e,n,c){c=c||[],n=n||{};var u=function(t,e){return{name:t,args:e}},h={};return Object(a.a)(["sortBy","thenBy","filter","slice","select","groupBy"],function(){var i=String(this);h[i]=function(){return t(e,n,c.concat(u(i,arguments)))}}),Object(a.a)(["count","min","max","sum","avg","aggregate","enumerate"],function(){var t=String(this);h[t]=function(){return function(t){var h,d,p,f,m,g=new l.a,v=function(t){var e=n.errorHandler;e&&e(t),Object(r.b)(t),g.reject(t)};function y(t){switch(t.name){case"sortBy":return m=[t.args],!0;case"thenBy":if(!m)throw r.a.Error("E4004");return m.push(t.args),!0}return!1}try{h=n.adapter,Object(s.h)(h)||(h=o[h]),d=h(n),p=[].concat(c).concat(t);var _=d.optimize;for(_&&_(p);p.length;){if(!y(f=p[0])){if(m){p.unshift(u("multiSort",[m])),m=null;continue}if("enumerate"!==String(f.name)&&(!d[f.name]||!1===d[f.name].apply(d,f.args)))break}p.shift()}!function(){var t=p[0],e=[];t&&"multiSort"===t.name&&(p.shift(),Object(a.a)(t.args[0],function(){e.push(u(e.length?"thenBy":"sortBy",this))})),p=e.concat(p)}(),d.exec(e).done(function(t,e){if(p.length){var o=Object(i.a)(t,{errorHandler:n.errorHandler});Object(a.a)(p,function(){o=o[this.name].apply(o,this.args)}),o.done(g.resolve).fail(g.reject)}else g.resolve(t,e)}).fail(v)}catch(b){v(b)}return g.promise()}.call(this,u(t,arguments))}}),h},u={array:i.a,remote:c};e.a=function(){var t=Array.isArray(arguments[0])?"array":"remote";return u[t].apply(this,arguments)}},function(t,e,n){"use strict";var i=n(7),o=n(32),r=n(10),a=n(159),s=n(105),l=n(74),c=n(20),u=o.a.abstract,h=c.a.real(),d=o.a.inherit(function(){var t=Object(r.a)("scroll","dxScrollEmitter");return{ctor:function(e){var n=this;this._element=e,this._locked=!1,this._proxiedScroll=function(t){n._disposed||n._scroll(t)},i.a.on(this._element,t,this._proxiedScroll)},_scroll:u,check:function(t,e){this._locked&&e()},dispose:function(){this._disposed=!0,i.a.off(this._element,t,this._proxiedScroll)}}}()),p=d.inherit({ctor:function(t,e){this.callBase(t),this._timeout=e},_scroll:function(){this._prepare(),this._forget()},_prepare:function(){this._timer&&this._clearTimer(),this._locked=!0},_clearTimer:function(){clearTimeout(this._timer),this._locked=!1,this._timer=null},_forget:function(){var t=this;this._timer=setTimeout(function(){t._clearTimer()},this._timeout)},dispose:function(){this.callBase(),this._clearTimer()}}),f=p.inherit({ctor:function(t){this.callBase(t,400),this._lastWheelDirection=null},check:function(t,e){this._checkDirectionChanged(t),this.callBase(t,e)},_checkDirectionChanged:function(t){if(Object(r.j)(t)){var e=t.shiftKey||!1,n=null!==this._lastWheelDirection&&e!==this._lastWheelDirection;this._lastWheelDirection=e,this._locked=this._locked&&!n}else this._lastWheelDirection=null}}),m=p.inherit({ctor:function(t){this.callBase(t,400)}});!function(){var t=h.ios,e=h.android;(t||e)&&(m=d.inherit({_scroll:function(){this._locked=!0;var t=this;Object(l.cancelAnimationFrame)(this._scrollFrame),this._scrollFrame=Object(l.requestAnimationFrame)(function(){t._locked=!1})},check:function(t,e){Object(l.cancelAnimationFrame)(this._scrollFrame),Object(l.cancelAnimationFrame)(this._checkFrame);var n=this,i=this.callBase;this._checkFrame=Object(l.requestAnimationFrame)(function(){i.call(n,t,e),n._locked=!1})},dispose:function(){this.callBase(),Object(l.cancelAnimationFrame)(this._scrollFrame),Object(l.cancelAnimationFrame)(this._checkFrame)}}))}();var g=a.a.inherit(function(){var t=Math.round(1e3/60);return{ctor:function(t){this.callBase.apply(this,arguments),this.direction="both",this._pointerLocker=new m(t),this._wheelLocker=new f(t)},validate:function(){return!0},configure:function(t){t.scrollTarget&&(this._pointerLocker.dispose(),this._wheelLocker.dispose(),this._pointerLocker=new m(t.scrollTarget),this._wheelLocker=new f(t.scrollTarget)),this.callBase(t)},_init:function(t){this._wheelLocker.check(t,function(){Object(r.j)(t)&&this._accept(t)}.bind(this)),this._pointerLocker.check(t,function(){var e=this.isNative&&Object(r.k)(t);Object(r.j)(t)||e||this._accept(t)}.bind(this)),this._fireEvent("dxscrollinit",t),this._prevEventData=Object(r.c)(t)},move:function(t){this.callBase.apply(this,arguments),t.isScrollingEvent=this.isNative||t.isScrollingEvent},_start:function(t){this._savedEventData=Object(r.c)(t),this._fireEvent("dxscrollstart",t),this._prevEventData=Object(r.c)(t)},_move:function(t){var e=Object(r.c)(t);this._fireEvent("dxscroll",t,{delta:Object(r.d)(this._prevEventData,e)}),Object(r.d)(this._savedEventData,e).time>200&&(this._savedEventData=this._prevEventData),this._prevEventData=Object(r.c)(t)},_end:function(e){var n=Object(r.d)(this._prevEventData,Object(r.c)(e)),i={x:0,y:0};if(!Object(r.j)(e)&&n.time<100){var o=Object(r.d)(this._savedEventData,this._prevEventData),a=t/o.time;i={x:o.x*a,y:o.y*a}}this._fireEvent("dxscrollend",e,{velocity:i})},_stop:function(t){this._fireEvent("dxscrollstop",t)},cancel:function(t){this.callBase.apply(this,arguments),this._fireEvent("dxscrollcancel",t)},dispose:function(){this.callBase.apply(this,arguments),this._pointerLocker.dispose(),this._wheelLocker.dispose()},_clearSelection:function(){if(!this.isNative)return this.callBase.apply(this,arguments)},_toggleGestureCover:function(){if(!this.isNative)return this.callBase.apply(this,arguments)}}}());Object(s.a)({emitter:g,events:["dxscrollinit","dxscrollstart","dxscroll","dxscrollend","dxscrollstop","dxscrollcancel"]}),e.a={init:"dxscrollinit",start:"dxscrollstart",move:"dxscroll",end:"dxscrollend",stop:"dxscrollstop",cancel:"dxscrollcancel",scroll:"scroll"}},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n(12),o=n(13),r=n(19),a=n(6),s=n(18),l=n(2),c=n(102),u=n(7),h=n(109),d=n(1),p=function(t){function e(t,n,o,s){var l;return Object(i.a)(this,e),(l=Object(r.a)(this,Object(a.a)(e).call(this)))._render=t,l._fields=n,l._fieldsMap=s||{},l._watchMethod=o,l}return Object(s.a)(e,t),Object(o.a)(e,[{key:"_renderCore",value:function(t){var e=this,n=Object(l.a)(t.container),i=function(t,e,n,i,o){var r,a=function(t,e,n){return e(function(){return t},n)}(t,e,function(t){r&&r(),Object(d.l)(t)?o(t):r=function(t,e,n,i,o){var r={},a=n.slice(),s=n.map(function(n){var s=i[n];return e(s?function(){return s(t)}:function(){return t[n]},function(t){if(r[n]=t,a.length){var e=a.indexOf(n);e>=0&&a.splice(e,1)}a.length||o(r)})});return function(){s.forEach(function(t){return t()})}}(t,e,n,i,o)});return function(){r&&r(),a&&a()}}(t.model,this._watchMethod,this._fields,this._fieldsMap,function(i){n.empty(),e._render(n,i,t.model)});return u.a.on(n,h.a,i),n.contents()}}]),e}(c.a)},function(t,e,n){"use strict";var i=n(112),o=n(70);e.a=Object(o.a)({isWrapped:function(){return!1},isWritableWrapped:function(){return!1},wrap:function(t){return t},unwrap:function(t){return t},assign:function(){i.a.error("Method 'assign' should not be used for not wrapped variables. Use 'isWrapped' method for ensuring.")}})},function(t,e,n){"use strict";n.d(e,"d",function(){return p}),n.d(e,"e",function(){return d}),n.d(e,"a",function(){return f}),n.d(e,"b",function(){return m}),n.d(e,"c",function(){return g});var i=n(2),o=n(46),r=n(120),a=n(9),s=n(48),l=n(85),c=n(10),u=n(159),h=n(105),d="dxdragstart",p="dxdrag",f="dxdragend",m="dxdragenter",g="dxdragleave",v="dxdrop",y=[],_=[],b=[],C={setup:function(t,e){y.includes(t)||(y.push(t),_.push([]),b.push(e||{}))},add:function(t,e){var n=y.indexOf(t);this.updateEventsCounter(t,e.type,1);var i=e.selector;_[n].includes(i)||_[n].push(i)},updateEventsCounter:function(t,e,n){if([m,g,v].indexOf(e)>-1){var i=Object(o.c)(t,"dxDragEventsCount")||0;Object(o.c)(t,"dxDragEventsCount",Math.max(0,i+n))}},remove:function(t,e){this.updateEventsCounter(t,e.type,-1)},teardown:function(t){if(!Object(o.c)(t,"dxDragEventsCount")){var e=y.indexOf(t);y.splice(e,1),_.splice(e,1),b.splice(e,1),Object(o.d)(t,"dxDragEventsCount")}}};Object(l.a)(m,C),Object(l.a)(g,C),Object(l.a)(v,C);var O=u.a.inherit({ctor:function(t){this.callBase(t),this.direction="both"},_init:function(t){this._initEvent=t},_start:function(t){if(t=this._fireEvent(d,this._initEvent),this._maxLeftOffset=t.maxLeftOffset,this._maxRightOffset=t.maxRightOffset,this._maxTopOffset=t.maxTopOffset,this._maxBottomOffset=t.maxBottomOffset,t.targetElements||null===t.targetElements){var e=Object(r.e)(t.targetElements||[]);this._dropTargets=a.b(e,function(t){return Object(i.a)(t).get(0)})}else this._dropTargets=y},_move:function(t){var e=Object(c.c)(t),n=this._calculateOffset(e);t=this._fireEvent(p,t,{offset:n}),this._processDropTargets(t),t._cancelPreventDefault||t.preventDefault()},_calculateOffset:function(t){return{x:this._calculateXOffset(t),y:this._calculateYOffset(t)}},_calculateXOffset:function(t){if("vertical"!==this.direction){var e=t.x-this._startEventData.x;return this._fitOffset(e,this._maxLeftOffset,this._maxRightOffset)}return 0},_calculateYOffset:function(t){if("horizontal"!==this.direction){var e=t.y-this._startEventData.y;return this._fitOffset(e,this._maxTopOffset,this._maxBottomOffset)}return 0},_fitOffset:function(t,e,n){return null!=e&&(t=Math.max(t,-e)),null!=n&&(t=Math.min(t,n)),t},_processDropTargets:function(t){var e=this._findDropTarget(t);e===this._currentDropTarget||(this._fireDropTargetEvent(t,g),this._currentDropTarget=e,this._fireDropTargetEvent(t,m))},_fireDropTargetEvent:function(t,e){if(this._currentDropTarget){var n={type:e,originalEvent:t,draggingElement:this._$element.get(0),target:this._currentDropTarget};Object(c.f)(n)}},_findDropTarget:function(t){var e,n=this;return a.a(y,function(o,r){if(n._checkDropTargetActive(r)){var s=Object(i.a)(r);a.a(function(t){var e=y.indexOf(t.get(0)),n=_[e].filter(function(t){return t}),i=t.find(n.join(", "));return _[e].includes(void 0)&&(i=i.add(t)),i}(s),function(o,r){var a=Object(i.a)(r);n._checkDropTarget(function(t){var e=y.indexOf(t.get(0));return b[e]}(s),a,Object(i.a)(e),t)&&(e=r)})}}),e},_checkDropTargetActive:function(t){var e=!1;return a.a(this._dropTargets,function(n,i){return!(e=e||i===t||Object(s.c)(i,t))}),e},_checkDropTarget:function(t,e,n,o){if(e.get(0)===Object(i.a)(o.target).get(0))return!1;var r,a,s=(a=e,(r=t).itemPositionFunc?r.itemPositionFunc(a):a.offset());if(o.pageX<s.left)return!1;if(o.pageY<s.top)return!1;var l=function(t,e){return t.itemSizeFunc?t.itemSizeFunc(e):{width:e.get(0).getBoundingClientRect().width,height:e.get(0).getBoundingClientRect().height}}(t,e);return!(o.pageX>s.left+l.width)&&(!(o.pageY>s.top+l.height)&&((!n.length||!n.closest(e).length)&&(!(t.checkDropTarget&&!t.checkDropTarget(e,o))&&e)))},_end:function(t){var e=Object(c.c)(t);this._fireEvent(f,t,{offset:this._calculateOffset(e)}),this._fireDropTargetEvent(t,v),delete this._currentDropTarget}});Object(h.a)({emitter:O,events:[d,p,f]})},function(t,e,n){"use strict";n.d(e,"c",function(){return c}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var i=n(2),o=n(75),r=n(43),a=o.a.add,s=Object(r.a)(),l=Object(i.a)(),c=function(){var t;return function(e){if(!arguments.length)return t;var n=Object(i.a)(e);l=n;var o=!!n.length,r=c();t=o?n:Object(i.a)("body"),s.fire(o?c():Object(i.a)(),r)}}();function u(){return l}a(function(){c(".dx-viewport")})},function(t,e,n){"use strict";n.d(e,"a",function(){return m}),n.d(e,"e",function(){return v}),n.d(e,"c",function(){return y}),n.d(e,"d",function(){return _}),n.d(e,"b",function(){return b});var i=n(41),o=n(24),r=n(1),a=n(50),s=n(55),l=n(3),c=n(66),u=n(107),h=(n(37),n(58));function d(t,e,n,i){return i?function t(e,n,i,o){var r;if(o){for(var a=0;a<n.length;a++)if(r=t(e,n[a].items||n[a].collapsedItems||[]||[],i,o-1))return r}else if(b(e,n,i)>=0)return n}(t,e,n,i)||[]:e}function p(t,e,n){t._dataByKeyMap&&(t._dataByKeyMap[JSON.stringify(e)]=n,t._dataByKeyMapLength+=n?1:-1)}function f(t,e){var n=function t(e,n,i){i=i||new WeakMap;var a=e?Object.create(Object.getPrototypeOf(e)):{};e&&i.set(e,a);var s=Object(o.a)({},e);for(var l in Object(u.b)(a,s,!0,!0),s){var c=s[l],h=null===n||void 0===n?void 0:n[l];Object(r.j)(c)&&!Object(r.k)(c)&&Object(r.j)(h)&&!i.has(c)&&(a[l]=t(c,h,i))}for(var d in a){var p=a[d];Object(r.j)(p)&&i.has(p)&&(a[d]=i.get(p))}return a}(t,e);return Object(u.b)(n,e,!0,!0)}function m(t){var e=t.keyInfo,n=t.data,o=t.changes,a=t.groupCount,s=t.useInsertIndex,l=t.immutable,c=t.disableCache,u=t.logError,h=t.skipCopying,p=!0===l?Object(i.a)(n):n;return o.forEach(function(t){var n="insert"===t.type?p:d(e,p,t.key,a);switch(!c&&function(t,e){if(t.key()&&(!e._dataByKeyMap||e._dataByKeyMapLength!==e.length)){for(var n={},i=e.length,o=0;o<i;o++)n[JSON.stringify(t.keyOf(e[o]))]=e[o];e._dataByKeyMap=n,e._dataByKeyMapLength=i}}(e,n),t.type){case"update":v(e,n,t.key,t.data,!0,l,u);break;case"insert":y(e,n,t.data,s&&Object(r.d)(t.index)?t.index:-1,!0,u,h);break;case"remove":_(e,n,t.key,!0,u)}}),p}function g(t,e,n){return t?e&&c.a.log(n):Object(h.k)(c.a.Error(n))}function v(t,e,n,i,o,s,l){var c,d=t.key();if(d){if(function(t,e){for(var n="string"===typeof e?e.split():e.slice();n.length;)if(n.shift()in t)return!0;return!1}(i,d)&&!Object(h.g)(d,n,t.keyOf(i)))return g(o,l,"E4017");if(!(c=function(t,e){if(t._dataByKeyMap)return t._dataByKeyMap[JSON.stringify(e)]}(e,n))){var p=b(t,e,n);if(p<0)return g(o,l,"E4009");if(c=e[p],!0===s&&Object(r.d)(c)){var m=f(c,i);return e[p]=m,!o&&Object(h.m)(m,n)}}}else c=n;if(Object(u.b)(c,i,!0),!o)return Object(a.a)().useLegacyStoreResult?Object(h.m)(n,i):Object(h.m)(c,n)}function y(t,e,n,i,o,u,d){var f,m=t.key(),v=Object(r.k)(n)&&!d?Object(l.a)({},n):n;if(m){if(void 0===(f=t.keyOf(v))||"object"===typeof f&&Object(r.e)(f)){if(Array.isArray(m))throw c.a.Error("E4007");f=v[m]=String(new s.a)}else if(void 0!==e[b(t,e,f)])return g(o,u,"E4008")}else f=v;if(i>=0?e.splice(i,0,v):e.push(v),p(e,f,v),!o)return Object(h.m)(Object(a.a)().useLegacyStoreResult?n:v,f)}function _(t,e,n,i,o){var r=b(t,e,n);return r>-1&&(e.splice(r,1),p(e,n,null)),i?r<0?g(i,o,"E4009"):void 0:Object(h.m)(n)}function b(t,e,n){var i=t.key();if(!function(t,e){return!t._dataByKeyMap||t._dataByKeyMap[JSON.stringify(e)]}(e,n))return-1;for(var o=0,r=e.length;o<r;o++)if(Object(h.g)(i,t.keyOf(e[o]),n))return o;return-1}},function(t,e,n){"use strict";n.d(e,"a",function(){return f}),n.d(e,"b",function(){return m}),n.d(e,"f",function(){return g}),n.d(e,"c",function(){return _}),n.d(e,"e",function(){return b}),n.d(e,"d",function(){return O});var i=n(24),o=n(61),r=n(145),a=n(141),s=n(199),l=n(9),c=n(179),u=n(3),h=n(1),d=n(58),p=["items"],f="canceled",m=function(t){return"pending"===t.state()},g=function(t){switch(t.length){case 0:return;case 1:return t[0]}return[].slice.call(t)},v=function(t,e,n){return Object(l.b)(t,function(t){var r=Object(o.a)(t,p);return Object(i.a)({},r,{items:y(t.items,e-1,n)})})},y=function(t,e,n){return Array.isArray(t)?e?v(t,e,n):Object(l.b)(t,n):t},_=function(t,e,n){var i=n?Object(d.i)(n).length:0;return y(t,i,e)},b=function(t,e){var n;return null!==(n=t)&&void 0!==n&&n.data&&(e=t,t=t.data),Array.isArray(t)||(t=[t]),{data:t,extra:e}},C=function(t,e){return new c.a({load:function(){return r.a.sendRequest({url:t,dataType:"json"})},loadMode:null===e||void 0===e?void 0:e.fromUrlLoadMode})},O=function(t,e){var n;return"string"===typeof t&&(t={paginate:!1,store:C(t,e)}),void 0===t&&(t=[]),void 0===(t=Array.isArray(t)||t instanceof a.a?{store:t}:Object(u.a)({},t)).store&&(t.store=[]),n=t.store,"load"in t?n=function(t){var e={};return Object(l.a)(["useDefaultSearch","key","load","loadMode","cacheRawData","byKey","lookup","totalCount","insert","update","remove"],function(){e[this]=t[this],delete t[this]}),new c.a(e)}(t):Array.isArray(n)?n=new s.a(n):Object(h.k)(n)&&(n=function(t){var e=t.type;return delete t.type,a.a.create(e,t)}(Object(u.a)({},n))),t.store=n,t}},function(t,e,n){"use strict";var i=n(11),o=n(2),r=n(15),a=n(64),s=n(47),l=n(3),c=n(20),u=n(26),h=n(52),d=Object(r.c)(),p=h.a.inherit({_getDefaultOptions:function(){return Object(l.a)(this.callBase(),{indicatorSrc:"",activeStateEnabled:!1,hoverStateEnabled:!1,_animatingSegmentCount:1,_animatingSegmentInner:!1})},_defaultOptionsRules:function(){var t=Object(s.a)();return this.callBase().concat([{device:function(){return"android"===c.a.real().platform&&!/chrome/i.test(d.userAgent)},options:{viaImage:!0}},{device:function(){return Object(s.d)(t)},options:{_animatingSegmentCount:2,_animatingSegmentInner:!0}},{device:function(){return Object(s.c)(t)},options:{_animatingSegmentCount:7}}])},_useTemplates:function(){return!1},_init:function(){this.callBase(),this.$element().addClass("dx-loadindicator")},_initMarkup:function(){this.callBase(),this._renderWrapper(),this._renderIndicatorContent(),this._renderMarkup()},_renderWrapper:function(){this._$wrapper=Object(o.a)("<div>").addClass("dx-loadindicator-wrapper"),this.$element().append(this._$wrapper)},_renderIndicatorContent:function(){this._$content=Object(o.a)("<div>").addClass("dx-loadindicator-content"),this._$wrapper.append(this._$content)},_renderMarkup:function(){!Object(a.animation)()||this.option("viaImage")||this.option("indicatorSrc")?this._renderMarkupForImage():this._renderMarkupForAnimation()},_renderMarkupForAnimation:function(){var t=this.option("_animatingSegmentInner");this._$indicator=Object(o.a)("<div>").addClass("dx-loadindicator-icon"),this._$content.append(this._$indicator);for(var e=this.option("_animatingSegmentCount");e>=0;--e){var n=Object(o.a)("<div>").addClass("dx-loadindicator-segment").addClass("dx-loadindicator-segment"+e);t&&n.append(Object(o.a)("<div>").addClass("dx-loadindicator-segment-inner")),this._$indicator.append(n)}},_renderMarkupForImage:function(){var t=this.option("indicatorSrc");this._$wrapper.addClass("dx-loadindicator-image"),t&&this._$wrapper.css("backgroundImage","url("+t+")")},_renderDimensions:function(){this.callBase(),this._updateContentSizeForAnimation()},_updateContentSizeForAnimation:function(){if(this._$indicator){var t=this.option("width"),e=this.option("height");if(t||e){t=Object(i.k)(this.$element()),e=Object(i.c)(this.$element());var n=Math.min(e,t);this._$wrapper.css({height:n,width:n,fontSize:n})}}},_clean:function(){this.callBase(),this._removeMarkupForAnimation(),this._removeMarkupForImage()},_removeMarkupForAnimation:function(){this._$indicator&&(this._$indicator.remove(),delete this._$indicator)},_removeMarkupForImage:function(){this._$wrapper.css("backgroundImage","none")},_optionChanged:function(t){switch(t.name){case"_animatingSegmentCount":case"_animatingSegmentInner":case"indicatorSrc":this._invalidate();break;default:this.callBase(t)}}});Object(u.a)("dxLoadIndicator",p),e.a=p},function(t,e,n){"use strict";var i=n(41),o=n(2),r=n(7),a=n(11),s=n(5),l=n(110),c=n(33),u=n(17),h=n(1),d=n(16),p=n(3),f=n(9),m=n(137),g=n(55),v=n(52),y=n(10),_=n(44),b=n(165),C=n(106),O=n(83),x=n(8),S=n(113),w=n(37),P=n(54),k=n(200),E=n(88),T="dx-item",I=/^([^.]+\[\d+\]\.)+([\w.]+)$/,j=v.a.inherit({_activeStateUnit:"."+T,_supportedKeys:function(){var t=function(t){var e=Object(o.a)(this.option("focusedElement"));e.length&&this._itemClickHandler(Object(p.a)({},t,{target:e.get(0),currentTarget:e.get(0)}))},e=function(t,e){Object(y.i)(e)||(e.preventDefault(),e.stopPropagation(),this._moveFocus(t,e))};return Object(p.a)(this.callBase(),{space:function(e){e.preventDefault(),t.call(this,e)},enter:t,leftArrow:e.bind(this,"left"),rightArrow:e.bind(this,"right"),upArrow:e.bind(this,"up"),downArrow:e.bind(this,"down"),pageUp:e.bind(this,"up"),pageDown:e.bind(this,"down"),home:e.bind(this,"first"),end:e.bind(this,"last")})},_getDefaultOptions:function(){return Object(p.a)(this.callBase(),{selectOnFocus:!1,loopItemFocus:!0,items:[],itemTemplate:"item",onItemRendered:null,onItemClick:null,onItemHold:null,itemHoldTimeout:750,onItemContextMenu:null,onFocusedItemChanged:null,noDataText:x.a.format("dxCollectionWidget-noDataText"),encodeNoDataText:!1,dataSource:null,_dataController:null,_itemAttributes:{},itemTemplateProperty:"template",focusOnSelectedItem:!0,focusedElement:null,displayExpr:void 0,disabledExpr:function(t){return t?t.disabled:void 0},visibleExpr:function(t){return t?t.visible:void 0}})},_init:function(){this._compileDisplayGetter(),this._initDataController(),this.callBase(),this._cleanRenderedItems(),this._refreshDataSource()},_compileDisplayGetter:function(){var t=this.option("displayExpr");this._displayGetter=t?Object(w.a)(this.option("displayExpr")):void 0},_initTemplates:function(){this._initItemsFromMarkup(),this._initDefaultItemTemplate(),this.callBase()},_getAnonymousTemplateName:function(){return"item"},_initDefaultItemTemplate:function(){var t=this._getFieldsMap();this._templateManager.addDefaultTemplates({item:new E.a(function(e,n){Object(h.k)(n)?this._prepareDefaultItemTemplate(n,e):(t&&Object(h.h)(t.text)&&(n=t.text(n)),e.text(String(Object(s.ensureDefined)(n,""))))}.bind(this),this._getBindableFields(),this.option("integrationOptions.watchMethod"),t)})},_getBindableFields:function(){return["text","html"]},_getFieldsMap:function(){if(this._displayGetter)return{text:this._displayGetter}},_prepareDefaultItemTemplate:function(t,e){Object(h.d)(t.text)&&e.text(t.text),Object(h.d)(t.html)&&e.html(t.html)},_initItemsFromMarkup:function(){var t=this,e=Object(l.c)(this.$element(),"dxItem");if(e.length&&!this.option("items").length){var n=e.map(function(e){var n=e.element,i=e.options;return/\S/.test(n.innerHTML)&&!i.template?i.template=t._prepareItemTemplate(n):Object(o.a)(n).remove(),i});this.option("items",n)}},_prepareItemTemplate:function(t){var e="tmpl-"+new g.a,n=Object(o.a)(t).detach().clone().removeAttr("data-options").addClass("dx-template-wrapper");return this._saveTemplate(e,n),e},_dataSourceOptions:function(){return{paginate:!1}},_cleanRenderedItems:function(){this._renderedItemsCount=0},_focusTarget:function(){return this.$element()},_focusInHandler:function(t){if(this.callBase.apply(this,arguments),this._isFocusTarget(t.target)){var e=Object(o.a)(this.option("focusedElement"));if(e.length)this._setFocusedItem(e);else{var n=this._getActiveItem();n.length&&this.option("focusedElement",Object(c.a)(n))}}},_focusOutHandler:function(){this.callBase.apply(this,arguments);var t=Object(o.a)(this.option("focusedElement"));this._updateFocusedItemState(t,!1)},_getActiveItem:function(t){var e=Object(o.a)(this.option("focusedElement"));if(e.length)return e;var n=this.option("focusOnSelectedItem")?this.option("selectedIndex"):0,i=this._getActiveElement(),r=i.length-1;return n<0&&(n=t?r:0),i.eq(n)},_moveFocus:function(t){var e,n=this._getAvailableItems();switch(t){case"pageup":case"up":e=this._prevItem(n);break;case"pagedown":case"down":e=this._nextItem(n);break;case"right":e=this.option("rtlEnabled")?this._prevItem(n):this._nextItem(n);break;case"left":e=this.option("rtlEnabled")?this._nextItem(n):this._prevItem(n);break;case"first":e=n.first();break;case"last":e=n.last();break;default:return!1}0!==e.length&&this.option("focusedElement",Object(c.a)(e))},_getVisibleItems:function(t){return(t=t||this._itemElements()).filter(":visible")},_getAvailableItems:function(t){return this._getVisibleItems(t).not(".dx-state-disabled")},_prevItem:function(t){var e=this._getActiveItem(),n=t.index(e),i=t.last(),r=Object(o.a)(t[n-1]),a=this.option("loopItemFocus");return 0===r.length&&a&&(r=i),r},_nextItem:function(t){var e=this._getActiveItem(!0),n=t.index(e),i=t.first(),r=Object(o.a)(t[n+1]),a=this.option("loopItemFocus");return 0===r.length&&a&&(r=i),r},_selectFocusedItem:function(t){this.selectItem(t)},_updateFocusedItemState:function(t,e,n){var i=Object(o.a)(t);i.length&&(this._refreshActiveDescendant(),this._refreshItemId(i,n),this._toggleFocusClass(e,i)),this._updateParentActiveDescendant()},_refreshActiveDescendant:function(t){this.setAria("activedescendant",Object(h.d)(this.option("focusedElement"))?this.getFocusedItemId():null,t)},_refreshItemId:function(t,e){!e&&this.option("focusedElement")?this.setAria("id",this.getFocusedItemId(),t):this.setAria("id",null,t)},_setFocusedItem:function(t){t&&t.length&&(this._updateFocusedItemState(t,!0),this.onFocusedItemChanged(this.getFocusedItemId()),this.option("selectOnFocus")&&this._selectFocusedItem(t))},_findItemElementByItem:function(t){var e=Object(o.a)(),n=this;return this.itemElements().each(function(){var i=Object(o.a)(this);if(i.data(n._itemDataKey())===t)return e=i,!1}),e},_getIndexByItem:function(t){return this.option("items").indexOf(t)},_itemOptionChanged:function(t,e,n,i){var o=this._findItemElementByItem(t);o.length&&(this.constructor.ItemClass.getInstance(o).setDataField(e,n)||this._refreshItem(o,t),"disabled"===e&&n&&this._resetItemFocus(o))},_resetItemFocus:function(t){t.is(this.option("focusedElement"))&&this.option("focusedElement",null)},_refreshItem:function(t){var e=this._getItemData(t),n=t.data(this._itemIndexKey());this._renderItem(this._renderedItemsCount+n,e,null,t)},_updateParentActiveDescendant:s.noop,_optionChanged:function(t){if("items"===t.name){var e=t.fullName.match(I);if(e&&e.length){var n=e[e.length-1],i=t.fullName.replace("."+n,""),r=this.option(i);return void this._itemOptionChanged(r,n,t.value,t.previousValue)}}switch(t.name){case"items":case"_itemAttributes":case"itemTemplateProperty":case"useItemTextAsTitle":this._cleanRenderedItems(),this._invalidate();break;case"dataSource":this._refreshDataSource(),this._renderEmptyMessage();break;case"noDataText":case"encodeNoDataText":this._renderEmptyMessage();break;case"itemTemplate":this._invalidate();break;case"onItemRendered":this._createItemRenderAction();break;case"onItemClick":break;case"onItemHold":case"itemHoldTimeout":this._attachHoldEvent();break;case"onItemContextMenu":this._attachContextMenuEvent();break;case"onFocusedItemChanged":this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged");break;case"selectOnFocus":case"loopItemFocus":case"focusOnSelectedItem":break;case"focusedElement":this._updateFocusedItemState(t.previousValue,!1,!0),this._setFocusedItem(Object(o.a)(t.value));break;case"displayExpr":this._compileDisplayGetter(),this._initDefaultItemTemplate(),this._invalidate();break;case"visibleExpr":case"disabledExpr":this._invalidate();break;default:this.callBase(t)}},_invalidate:function(){return this.option("focusedElement",null),this.callBase.apply(this,arguments)},_loadNextPage:function(){return this._expectNextPageLoading(),this._dataController.loadNextPage()},_expectNextPageLoading:function(){this._startIndexForAppendedItems=0},_expectLastItemLoading:function(){this._startIndexForAppendedItems=-1},_forgetNextPageLoading:function(){this._startIndexForAppendedItems=null},_dataSourceChangedHandler:function(t){var e=this.option("items");this._initialized&&e&&this._shouldAppendItems()?(this._renderedItemsCount=e.length,this._isLastPage()&&-1===this._startIndexForAppendedItems||(this.option().items=e.concat(t.slice(this._startIndexForAppendedItems))),this._forgetNextPageLoading(),this._refreshContent()):this.option("items",t.slice())},_refreshContent:function(){this._prepareContent(),this._renderContent()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this.option("items",this.option("items"))},_shouldAppendItems:function(){return null!=this._startIndexForAppendedItems&&this._allowDynamicItemsAppend()},_allowDynamicItemsAppend:function(){return!1},_clean:function(){this._cleanFocusState(),this._cleanItemContainer(),this._inkRipple&&delete this._inkRipple,this._resetActiveState()},_cleanItemContainer:function(){Object(o.a)(this._itemContainer()).empty()},_dispose:function(){this.callBase(),clearTimeout(this._itemFocusTimeout)},_refresh:function(){this._cleanRenderedItems(),this.callBase.apply(this,arguments)},_itemContainer:function(){return this.$element()},_itemClass:function(){return T},_itemContentClass:function(){return this._itemClass()+"-content"},_selectedItemClass:function(){return"dx-item-selected"},_itemResponseWaitClass:function(){return"dx-item-response-wait"},_itemSelector:function(){return"."+this._itemClass()},_itemDataKey:function(){return"dxItemData"},_itemIndexKey:function(){return"dxItemIndex"},_itemElements:function(){return this._itemContainer().find(this._itemSelector())},_initMarkup:function(){this.callBase(),this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged"),this.$element().addClass("dx-collection"),this._prepareContent()},_prepareContent:Object(s.deferRenderer)(function(){this._renderContentImpl()}),_renderContent:function(){this._fireContentReadyAction()},_render:function(){this.callBase(),this._attachClickEvent(),this._attachHoldEvent(),this._attachContextMenuEvent()},_attachClickEvent:function(){var t=this._itemSelector(),e=Object(y.a)(P.a,this.NAME),n=Object(y.a)(_.a.down,this.NAME),i=this,a=new m.a(function(t){var e=t.event;i._itemPointerDownHandler(e)});r.a.off(this._itemContainer(),e,t),r.a.off(this._itemContainer(),n,t),r.a.on(this._itemContainer(),e,t,function(t){this._itemClickHandler(t)}.bind(this)),r.a.on(this._itemContainer(),n,t,function(t){a.execute({element:Object(o.a)(t.target),event:t})})},_itemClickHandler:function(t,e,n){this._itemDXEventHandler(t,"onItemClick",e,n)},_itemPointerDownHandler:function(t){this.option("focusStateEnabled")&&(this._itemFocusHandler=function(){if(clearTimeout(this._itemFocusTimeout),this._itemFocusHandler=null,!t.isDefaultPrevented()){var e=Object(o.a)(t.target),n=e.closest(this._itemElements()),i=this._closestFocusable(e);n.length&&this._isFocusTarget(null===i||void 0===i?void 0:i.get(0))&&this.option("focusedElement",Object(c.a)(n))}}.bind(this),this._itemFocusTimeout=setTimeout(this._forcePointerDownFocus.bind(this)))},_closestFocusable:function(t){if(t.is(O.a))return t;for(t=t.parent();t.length&&!u.a.isDocument(t.get(0))&&!u.a.isDocumentFragment(t.get(0));){if(t.is(O.a))return t;t=t.parent()}},_forcePointerDownFocus:function(){this._itemFocusHandler&&this._itemFocusHandler()},_updateFocusState:function(){this.callBase.apply(this,arguments),this._forcePointerDownFocus()},_attachHoldEvent:function(){var t=this._itemContainer(),e=this._itemSelector(),n=Object(y.a)(S.a.name,this.NAME);r.a.off(t,n,e),r.a.on(t,n,e,{timeout:this._getHoldTimeout()},this._itemHoldHandler.bind(this))},_getHoldTimeout:function(){return this.option("itemHoldTimeout")},_shouldFireHoldEvent:function(){return this.hasActionSubscription("onItemHold")},_itemHoldHandler:function(t){this._shouldFireHoldEvent()?this._itemDXEventHandler(t,"onItemHold"):t.cancel=!0},_attachContextMenuEvent:function(){var t=this._itemContainer(),e=this._itemSelector(),n=Object(y.a)(k.a,this.NAME);r.a.off(t,n,e),r.a.on(t,n,e,this._itemContextMenuHandler.bind(this))},_shouldFireContextMenuEvent:function(){return this.hasActionSubscription("onItemContextMenu")},_itemContextMenuHandler:function(t){this._shouldFireContextMenuEvent()?this._itemDXEventHandler(t,"onItemContextMenu"):t.cancel=!0},_renderContentImpl:function(){var t=this.option("items")||[];this._renderedItemsCount?this._renderItems(t.slice(this._renderedItemsCount)):this._renderItems(t)},_renderItems:function(t){t.length&&Object(f.a)(t,function(t,e){this._renderItem(this._renderedItemsCount+t,e)}.bind(this)),this._renderEmptyMessage()},_renderItem:function(t,e,n,i){var o,r=null!==(o=null===t||void 0===t?void 0:t.item)&&void 0!==o?o:t;n=n||this._itemContainer();var a=this._renderItemFrame(r,e,n,i);this._setElementData(a,e,r),a.attr(this.option("_itemAttributes")),this._attachItemClickEvent(e,a);var s=this._getItemContent(a),l=this._renderItemContent({index:r,itemData:e,container:Object(c.a)(s),contentClass:this._itemContentClass(),defaultTemplateName:this.option("itemTemplate")}),u=this;return Object(d.c)(l).done(function(n){u._postprocessRenderItem({itemElement:a,itemContent:n,itemData:e,itemIndex:r}),u._executeItemRenderAction(t,e,Object(c.a)(a))}),a},_getItemContent:function(t){var e=t.find(".dx-item-content-placeholder");return e.removeClass("dx-item-content-placeholder"),e},_attachItemClickEvent:function(t,e){t&&t.onClick&&r.a.on(e,P.a,function(n){this._itemEventHandlerByHandler(e,t.onClick,{event:n})}.bind(this))},_renderItemContent:function(t){var e=this._getItemTemplateName(t),n=this._getTemplate(e);this._addItemContentClasses(t);var i=Object(o.a)(this._createItemByTemplate(n,t));return i.hasClass("dx-template-wrapper")?this._renderItemContentByNode(t,i):t.container},_renderItemContentByNode:function(t,e){return Object(o.a)(t.container).replaceWith(e),t.container=Object(c.a)(e),this._addItemContentClasses(t),e},_addItemContentClasses:function(t){var e=[T+"-content",t.contentClass];Object(o.a)(t.container).addClass(e.join(" "))},_appendItemToContainer:function(t,e,n){e.appendTo(t)},_renderItemFrame:function(t,e,n,i){var r=Object(o.a)("<div>");if(new this.constructor.ItemClass(r,this._itemOptions(),e||{}),i&&i.length?i.replaceWith(r):this._appendItemToContainer.call(this,n,r,t),this.option("useItemTextAsTitle")){var a=this._displayGetter?this._displayGetter(e):e;r.attr("title",a)}return r},_itemOptions:function(){var t=this;return{watchMethod:function(){return t.option("integrationOptions.watchMethod")},owner:t,fieldGetter:function(e){var n=t.option(e+"Expr");return Object(w.a)(n)}}},_postprocessRenderItem:s.noop,_executeItemRenderAction:function(t,e,n){this._getItemRenderAction()({itemElement:n,itemIndex:t,itemData:e})},_setElementData:function(t,e,n){t.addClass([T,this._itemClass()].join(" ")).data(this._itemDataKey(),e).data(this._itemIndexKey(),n)},_createItemRenderAction:function(){return this._itemRenderAction=this._createActionByOption("onItemRendered",{element:this.element(),excludeValidators:["disabled","readOnly"],category:"rendering"})},_getItemRenderAction:function(){return this._itemRenderAction||this._createItemRenderAction()},_getItemTemplateName:function(t){var e=t.itemData,n=t.templateProperty||this.option("itemTemplateProperty");return e&&e[n]||t.defaultTemplateName},_createItemByTemplate:function(t,e){return t.render({model:e.itemData,container:e.container,index:e.index,onRendered:this._onItemTemplateRendered(t,e)})},_onItemTemplateRendered:function(){return s.noop},_emptyMessageContainer:function(){return this._itemContainer()},_renderEmptyMessage:function(t){t=t||this.option("items");var e=this.option("noDataText"),n=!e||t&&t.length||this._dataController.isLoading();n&&this._$noData&&(this._$noData.remove(),this._$noData=null,this.setAria("label",void 0)),n||(this._$noData=this._$noData||Object(o.a)("<div>").addClass("dx-empty-message"),this._$noData.appendTo(this._emptyMessageContainer()),this.option("encodeNoDataText")?this._$noData.text(e):this._$noData.html(e),this.setAria("label",e)),this.$element().toggleClass("dx-empty-collection",!n)},_itemDXEventHandler:function(t,e,n,i){this._itemEventHandler(t.target,e,Object(p.a)(n,{event:t}),i)},_itemEventHandler:function(t,e,n,i){var o=this._createActionByOption(e,Object(p.a)({validatingTargetName:"itemElement"},i));return this._itemEventHandlerImpl(t,o,n)},_itemEventHandlerByHandler:function(t,e,n,i){var o=this._createAction(e,Object(p.a)({validatingTargetName:"itemElement"},i));return this._itemEventHandlerImpl(t,o,n)},_itemEventHandlerImpl:function(t,e,n){var i=this._closestItemElement(Object(o.a)(t)),r=Object(p.a)({},n);return e(Object(p.a)(n,this._extendActionArgs(i),r))},_extendActionArgs:function(t){return{itemElement:Object(c.a)(t),itemIndex:this._itemElements().index(t),itemData:this._getItemData(t)}},_closestItemElement:function(t){return Object(o.a)(t).closest(this._itemSelector())},_getItemData:function(t){return Object(o.a)(t).data(this._itemDataKey())},_getSummaryItemsWidth:function(t,e){var n=0;return t&&Object(f.a)(t,function(t,i){n+=Object(a.h)(i,e||!1)}),n},getFocusedItemId:function(){return this._focusedItemId||(this._focusedItemId="dx-"+new g.a),this._focusedItemId},itemElements:function(){return this._itemElements()},itemsContainer:function(){return this._itemContainer()}}).include(b.a);j.ItemClass=C.a;var M=j,D=n(42),A=n(167),R=n(143),B=n(93),L=n(32),N=n(86),z=L.a.inherit({ctor:function(t){this.options=t,this._setOption("disabledItemKeys",[]),this._clearItemKeys()},_clearItemKeys:function(){this._setOption("addedItemKeys",[]),this._setOption("removedItemKeys",[]),this._setOption("removedItems",[]),this._setOption("addedItems",[])},validate:s.noop,_setOption:function(t,e){this.options[t]=e},onSelectionChanged:function(){var t=this.options.addedItemKeys,e=this.options.removedItemKeys,n=this.options.addedItems,i=this.options.removedItems,o=this.options.selectedItems,r=this.options.selectedItemKeys,a=this.options.onSelectionChanged||s.noop;this._clearItemKeys(),a({selectedItems:o,selectedItemKeys:r,addedItemKeys:t,removedItemKeys:e,addedItems:n,removedItems:i})},equalKeys:function(t,e){return this.options.equalByReference&&Object(h.j)(t)&&Object(h.j)(e)?t===e:Object(s.equalByValue)(t,e)},getSelectableItems:function(t){return t.filter(function(t){return!(null!==t&&void 0!==t&&t.disabled)})},_clearSelection:function(t,e,n,i){return t=t||[],t=Array.isArray(t)?t:[t],this.validate(),this.selectedItemKeys(t,e,n,i)},_removeTemplateProperty:function(t){var e=this;return Array.isArray(t)?t.map(function(t){return e._removeTemplateProperty(t)}):(Object(h.j)(t)&&delete t.template,t)},_loadFilteredData:function(t,e,n,i){var o=encodeURI(JSON.stringify(this._removeTemplateProperty(t))).length,r=this.options.maxFilterLengthInRequest&&o>this.options.maxFilterLengthInRequest,a=new d.a,s={filter:r?void 0:t,select:r?this.options.dataFields():n||this.options.dataFields()};return t&&0===t.length?a.resolve([]):this.options.load(s).done(function(n){var o=Object(h.k)(n)?n.data:n;e&&!i?o=o.filter(e):r&&(o=Object(N.a)(o).filter(t).toArray()),a.resolve(o)}).fail(a.reject.bind(a)),a},updateSelectedItemKeyHash:function(t){for(var e=0;e<t.length;e++){var n=Object(s.getKeyHash)(t[e]);if(!Object(h.j)(n))this.options.keyHashIndices[n]=this.options.keyHashIndices[n]||[],this.options.keyHashIndices[n].push(e)}},_isAnyItemSelected:function(t){for(var e=0;e<t.length;e++)if(this.options.isItemSelected(t[e]))return;return!1},_getFullSelectAllState:function(){var t=this.options.plainItems(),e=this.options.filter(),n=this.options.ignoreDisabledItems?this.options.selectedItems:this.options.selectedItems.filter(function(t){return!(null!==t&&void 0!==t&&t.disabled)});e&&(n=Object(N.a)(n).filter(e).toArray());var i=n.length,o=t.length-this.getSelectableItems(t).length;return i?i>=this.options.totalCount()-o||void 0:this._isAnyItemSelected(t)},_getVisibleSelectAllState:function(){for(var t=this.getSelectableItems(this.options.plainItems()),e=!1,n=!1,i=0;i<t.length;i++){var o=t[i],r=this.options.getItemData(o),a=this.options.keyOf(r);this.options.isSelectableItem(o)&&(this.isItemKeySelected(a)?e=!0:n=!0)}return!!e&&(!n||void 0)}}),F=z.inherit({getSelectedItems:function(){return this._loadFilteredData(this.options.selectionFilter)},getSelectedItemKeys:function(){var t=new d.a,e=this,n=this.options.key(),i=Object(h.o)(n)?[n]:n;return this._loadFilteredData(this.options.selectionFilter,null,i).done(function(n){var i=n.map(function(t){return e.options.keyOf(t)});t.resolve(i)}).fail(t.reject),t.promise()},selectedItemKeys:function(t,e,n,i){if(i){var o=this.options.filter();!o||JSON.stringify(o)===JSON.stringify(this.options.selectionFilter)&&n?this._setOption("selectionFilter",n?[]:null):this._addSelectionFilter(n,o,i)}else{e||this._setOption("selectionFilter",[]);for(var r=0;r<t.length;r++)n?this.removeSelectedItem(t[r]):this.addSelectedItem(t[r])}return this.onSelectionChanged(),(new d.a).resolve()},setSelectedItems:function(t){this._setOption("selectionFilter",null);for(var e=0;e<t.length;e++)this.addSelectedItem(t[e])},isItemDataSelected:function(t){return this.isItemKeySelected(t)},isItemKeySelected:function(t){var e=this.options.selectionFilter;return!e||!!Object(N.a)([t]).filter(e).toArray().length},_getKeyExpr:function(){var t=this.options.key();return Array.isArray(t)&&1===t.length?t[0]:t},_normalizeKey:function(t){var e=this.options.key();return Array.isArray(e)&&1===e.length?t[e[0]]:t},_getFilterByKey:function(t){var e=this._getKeyExpr(),n=[e,"=",this._normalizeKey(t)];if(Array.isArray(e)){n=[];for(var i=0;i<e.length;i++)n.push([e[i],"=",t[e[i]]]),i!==e.length-1&&n.push("and")}return n},addSelectedItem:function(t){var e=this._getFilterByKey(t);this._addSelectionFilter(!1,e)},removeSelectedItem:function(t){var e=this._getFilterByKey(t);this._addSelectionFilter(!0,e)},validate:function(){var t=this.options.key;if(t&&void 0===t())throw D.a.Error("E1042","Deferred selection")},_findSubFilter:function(t,e){if(!t)return-1;for(var n=JSON.stringify(e),i=0;i<t.length;i++){var o=t[i];if(o&&JSON.stringify(o)===n)return i}return-1},_isLastSubFilter:function(t,e){return!(!t||!e)&&(this._findSubFilter(t,e)===t.length-1||0===this._findSubFilter([t],e))},_addFilterOperator:function(t,e){return t.length>1&&Object(h.o)(t[1])&&t[1]!==e&&(t=[t]),t.length&&t.push(e),t},_denormalizeFilter:function(t){return t&&Object(h.o)(t[0])&&(t=[t]),t},_isOnlyNegativeFiltersLeft:function(t){return t.every(function(t,e){return e%2===0?Array.isArray(t)&&"!"===t[0]:"and"===t})},_addSelectionFilter:function(t,e,n){var i=t?["!",e]:e,o=t?"and":"or",r=!0,a=this.options.selectionFilter||[];if((a=this._denormalizeFilter(a))&&a.length){var s=this._removeSameFilter(a,e,t,n),l=this._removeSameFilter(a,e,!t);t&&(-1!==s||-1!==l)&&this._isOnlyNegativeFiltersLeft(a)&&(a=[]);var c=this._isKeyFilter(e)&&this._hasKeyFiltersOnlyStartingFromIndex(a,l);(r=e.length&&!c)&&(a=this._addFilterOperator(a,o))}r&&a.push(i),a=this._normalizeFilter(a),this._setOption("selectionFilter",t||a.length?a:null)},_normalizeFilter:function(t){return t&&1===t.length&&(t=t[0]),t},_removeFilterByIndex:function(t,e,n){var i=t[1];e>0?t.splice(e-1,2):t.splice(e,2),n&&"and"===i&&t.splice(0,t.length)},_isSimpleKeyFilter:function(t,e){return 3===t.length&&t[0]===e&&"="===t[1]},_isKeyFilter:function(t){if(2===t.length&&"!"===t[0])return this._isKeyFilter(t[1]);var e=this._getKeyExpr();if(Array.isArray(e)){if(t.length!==2*e.length-1)return!1;for(var n=0;n<e.length;n++){if(n>0&&"and"!==t[2*n-1])return!1;if(!this._isSimpleKeyFilter(t[2*n],e[n]))return!1}return!0}return this._isSimpleKeyFilter(t,e)},_hasKeyFiltersOnlyStartingFromIndex:function(t,e){if(e>=0){for(var n=e;n<t.length;n++)if("string"!==typeof t[n]&&!this._isKeyFilter(t[n]))return!1;return!0}return!1},_removeSameFilter:function(t,e,n,i){if(e=n?["!",e]:e,JSON.stringify(e)===JSON.stringify(t))return t.splice(0,t.length),0;var o=this._findSubFilter(t,e);if(o>=0)return this._removeFilterByIndex(t,o,i),o;for(var r=0;r<t.length;r++)if(Array.isArray(t[r])&&t[r].length>2){var a=this._removeSameFilter(t[r],e,!1,i);if(a>=0)return t[r].length?1===t[r].length&&(t[r]=t[r][0]):this._removeFilterByIndex(t,r,i),a}return-1},getSelectAllState:function(){var t=this.options.filter(),e=this.options.selectionFilter;return!e||!!e.length&&(t&&t.length?(e=this._denormalizeFilter(e),!!this._isLastSubFilter(e,t)||!this._isLastSubFilter(e,["!",t])&&void 0):void 0)}}),H=n(120),V=n(201),U=function(t,e){var n;this.getLocalFilter=function(o,r,a,l){return r=void 0===r?s.equalByValue:r,function(o,r,a,l,c){var u,d,p=r(c);if(!a&&(u=Object(s.getKeyHash)(p),!Object(h.j)(u))){var f=function(e,o){if(!n){n={};for(var r=i(t,e,o),a=0;a<r.length;a++)n[Object(s.getKeyHash)(r[a])]=!0}return n}(r,l);return f[u]?!e:!!e}for(d=0;d<t.length;d++)if(o(t[d],p))return!e;return!!e}.bind(this,r,o,a,l)},this.getExpr=function(n){var i;if(n)return t.forEach(function(t,r){var a;i=i||[],r>0&&i.push(e?"and":"or"),a=Object(h.o)(n)?o(n,t):function(t,n){for(var i=[],r=0,a=t.length;r<a;r++){var s=t[r],l=o(s,n&&n[s]);if(!l)break;r>0&&i.push(e?"or":"and"),i.push(l)}return i}(n,t),i.push(a)}),i&&1===i.length&&(i=i[0]),i},this.getCombinedFilter=function(t,n){var i=this.getExpr(t),o=i;return e&&n&&(i?((o=[]).push(i),o.push(n)):o=n),o};var i=function(t,e,n){return Array.isArray(n)?t.map(function(t){return e(t)}):t};function o(t,n){if(void 0!==n)return[t,e?"<>":"=",n]}},W=z.inherit({ctor:function(t){this.callBase(t),this._initSelectedItemKeyHash()},_initSelectedItemKeyHash:function(){this._setOption("keyHashIndices",this.options.equalByReference?null:{})},getSelectedItemKeys:function(){return this.options.selectedItemKeys.slice(0)},getSelectedItems:function(){return this.options.selectedItems.slice(0)},_preserveSelectionUpdate:function(t,e){var n,i,o,r=this.options.keyOf;if(r){var a=e&&t.length>1&&!this.options.equalByReference;for(a&&(n={}),o=0;o<t.length;o++){var s=t[o],l=r(s);e?(i=this.removeSelectedItem(l,n,null===s||void 0===s?void 0:s.disabled),n&&i>=0&&(n[i]=!0)):this.addSelectedItem(l,s)}a&&this._batchRemoveSelectedItems(n)}},_batchRemoveSelectedItems:function(t){var e=this.options.selectedItemKeys.slice(0),n=this.options.selectedItems.slice(0);this.options.selectedItemKeys.length=0,this.options.selectedItems.length=0;for(var i=0;i<e.length;i++)t[i]||(this.options.selectedItemKeys.push(e[i]),this.options.selectedItems.push(n[i]));this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(this.options.selectedItemKeys)},_loadSelectedItemsCore:function(t,e,n,i){var o=new d.a,r=this.options.key();if(!t.length&&!n)return o.resolve([]),o;if(n&&e&&!i)return o.resolve(this.getSelectedItems()),o;var a=new U(t,n),s=a.getCombinedFilter(r,i),l=[];if(e){var c=this.options.selectedItems;l=s&&t.length!==c.length?Object(N.a)(c).filter(s).toArray():c.slice(0)}var u=l.length?l:this.options.plainItems(!0).filter(this.options.isSelectableItem).map(this.options.getItemData),h=a.getLocalFilter(this.options.keyOf,this.equalKeys.bind(this),this.options.equalByReference,r);return u=u.filter(h),l.length||!n&&u.length===t.length?o.resolve(u):o=this._loadFilteredData(s,h,null,n),o},_replaceSelectionUpdate:function(t){var e=[],n=this.options.keyOf;if(n){for(var i=0;i<t.length;i++){var o=n(t[i]);e.push(o)}this.setSelectedItems(e,t)}},_warnOnIncorrectKeys:function(t){for(var e=this.options.allowNullValue,n=0;n<t.length;n++){var i=t[n];e&&null===i||this.isItemKeySelected(i)||D.a.log("W1002",i)}},_isMultiSelectEnabled:function(){var t=this.options.mode;return"all"===t||"multiple"===t},_requestInProgress:function(){var t;return"pending"===(null===(t=this._lastLoadDeferred)||void 0===t?void 0:t.state())},_concatRequestsItems:function(t,e,n,i){var o,r=e?t:[];return o=i||Object(H.d)(t,this.options.selectedItemKeys),{addedItems:n.added.concat(o),removedItems:n.removed.concat(r),keys:t}},_collectLastRequestData:function(t,e,n,i){var o=e&&n,r={added:[],removed:[]},a=this._isMultiSelectEnabled(),s=a?this._lastRequestData:{};return a&&(this._shouldMergeWithLastRequest&&(o?(this._lastLoadDeferred.reject(),s={}):Object(V.b)(t,this.options.selectedItemKeys)||(r.added=s.addedItems,r.removed=s.removedItems,e||this._lastLoadDeferred.reject())),s=this._concatRequestsItems(t,e,r,this._shouldMergeWithLastRequest?void 0:i)),s},_updateKeysByLastRequestData:function(t,e,n){var i,o,r=t;this._isMultiSelectEnabled()&&this._shouldMergeWithLastRequest&&!e&&!n&&(r=Object(H.d)(t.concat(null===(i=this._lastRequestData)||void 0===i?void 0:i.addedItems),null===(o=this._lastRequestData)||void 0===o?void 0:o.removedItems),r=Object(H.a)(r));return r},_loadSelectedItems:function(t,e,n,i){var o=this,r=new d.a,a=o.options.filter();return this._shouldMergeWithLastRequest=this._requestInProgress(),this._lastRequestData=this._collectLastRequestData(t,e,n,i),Object(d.c)(o._lastLoadDeferred).always(function(){var i=o._updateKeysByLastRequestData(t,e,n);o._shouldMergeWithLastRequest=!1,o._loadSelectedItemsCore(i,e,n,a).done(r.resolve).fail(r.reject)}),o._lastLoadDeferred=r,r},selectedItemKeys:function(t,e,n,i,o){var r=this,a=r._loadSelectedItems(t,n,i,o);return a.done(function(t){e?r._preserveSelectionUpdate(t,n):r._replaceSelectionUpdate(t),r.onSelectionChanged()}),a},addSelectedItem:function(t,e){if(Object(h.d)(e)&&!this.options.ignoreDisabledItems&&e.disabled)-1===this.options.disabledItemKeys.indexOf(t)&&this.options.disabledItemKeys.push(t);else{var n=this._getKeyHash(t);-1===this._indexOfSelectedItemKey(n)&&(!Object(h.j)(n)&&this.options.keyHashIndices&&(this.options.keyHashIndices[n]=[this.options.selectedItemKeys.length]),this.options.selectedItemKeys.push(t),this.options.addedItemKeys.push(t),this.options.addedItems.push(e),this.options.selectedItems.push(e))}},_getSelectedIndexByKey:function(t,e){for(var n=this.options.selectedItemKeys,i=0;i<n.length;i++)if((!e||!e[i])&&this.equalKeys(n[i],t))return i;return-1},_getSelectedIndexByHash:function(t,e){var n=this.options.keyHashIndices[t];return n&&n.length>1&&e&&(n=n.filter(function(t){return!e[t]})),n&&n[0]>=0?n[0]:-1},_indexOfSelectedItemKey:function(t,e){return this.options.equalByReference?this.options.selectedItemKeys.indexOf(t):Object(h.j)(t)?this._getSelectedIndexByKey(t,e):this._getSelectedIndexByHash(t,e)},_shiftSelectedKeyIndices:function(t){for(var e=t;e<this.options.selectedItemKeys.length;e++){var n=this.options.selectedItemKeys[e],i=Object(s.getKeyHash)(n),o=this.options.keyHashIndices[i];if(o)for(var r=0;r<o.length;r++)o[r]>t&&o[r]--}},removeSelectedItem:function(t,e,n){if(this.options.ignoreDisabledItems||!n){var i=this._getKeyHash(t),o=!!e,r=this._indexOfSelectedItemKey(i,e);if(r<0)return r;if(this.options.removedItemKeys.push(t),this.options.removedItems.push(this.options.selectedItems[r]),o)return r;if(this.options.selectedItemKeys.splice(r,1),this.options.selectedItems.splice(r,1),Object(h.j)(i)||!this.options.keyHashIndices)return r;var a=this.options.keyHashIndices[i];return a?(a.shift(),a.length||delete this.options.keyHashIndices[i],this._shiftSelectedKeyIndices(r),r):r}},_updateAddedItemKeys:function(t,e){for(var n=0;n<t.length;n++)this.isItemKeySelected(t[n])||(this.options.addedItemKeys.push(t[n]),this.options.addedItems.push(e[n]))},_updateRemovedItemKeys:function(t,e,n){for(var i=0;i<e.length;i++)this.isItemKeySelected(e[i])||(this.options.removedItemKeys.push(e[i]),this.options.removedItems.push(n[i]))},_isItemSelectionInProgress:function(t,e){var n;return!!(e&&this._lastRequestData&&this._requestInProgress())&&(null!==(n=this._lastRequestData.addedItems)&&void 0!==n?n:[]).includes(t)},_getKeyHash:function(t){return this.options.equalByReference?t:Object(s.getKeyHash)(t)},setSelectedItems:function(t,e){this._updateAddedItemKeys(t,e);var n=this.options.selectedItemKeys,i=this.options.selectedItems;this.options.equalByReference||(this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(t)),this._setOption("selectedItemKeys",t),this._setOption("selectedItems",e),this._updateRemovedItemKeys(t,n,i)},isItemDataSelected:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.options.keyOf(t);return this.isItemKeySelected(n,e)},isItemKeySelected:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._isItemSelectionInProgress(t,e.checkPending);if(!n){var i=this._getKeyHash(t);n=-1!==this._indexOfSelectedItemKey(i)}return n},getSelectAllState:function(t){return t?this._getVisibleSelectAllState():this._getFullSelectAllState()}}),K=L.a.inherit({ctor:function(t){this.options=Object(p.a)(this._getDefaultOptions(),t,{selectedItemKeys:t.selectedKeys||[]}),this._selectionStrategy=this.options.deferred?new F(this.options):new W(this.options),this._focusedItemIndex=-1,this.options.equalByReference||this._selectionStrategy.updateSelectedItemKeyHash(this.options.selectedItemKeys)},_getDefaultOptions:function(){return{allowNullValue:!1,deferred:!1,equalByReference:!1,mode:"multiple",selectedItems:[],selectionFilter:[],maxFilterLengthInRequest:0,onSelectionChanged:s.noop,key:s.noop,keyOf:function(t){return t},load:function(){return(new d.a).resolve([])},totalCount:function(){return-1},isSelectableItem:function(){return!0},isItemSelected:function(){return!1},getItemData:function(t){return t},dataFields:s.noop,filter:s.noop}},validate:function(){this._selectionStrategy.validate()},getSelectedItemKeys:function(){return this._selectionStrategy.getSelectedItemKeys()},getSelectedItems:function(){return this._selectionStrategy.getSelectedItems()},selectionFilter:function(t){if(void 0===t)return this.options.selectionFilter;var e=this.options.selectionFilter!==t&&JSON.stringify(this.options.selectionFilter)!==JSON.stringify(t);this.options.selectionFilter=t,e&&this.onSelectionChanged()},setSelection:function(t,e){return this.selectedItemKeys(t,!1,!1,!1,e)},select:function(t){return this.selectedItemKeys(t,!0)},deselect:function(t){return this.selectedItemKeys(t,!0,!0)},selectedItemKeys:function(t,e,n,i,o){var r;return t=null!==(r=t)&&void 0!==r?r:[],t=Array.isArray(t)?t:[t],this.validate(),this._selectionStrategy.selectedItemKeys(t,e,n,i,o)},clearSelection:function(){return this.selectedItemKeys([])},_addSelectedItem:function(t,e){this._selectionStrategy.addSelectedItem(e,t)},_removeSelectedItem:function(t){this._selectionStrategy.removeSelectedItem(t)},_setSelectedItems:function(t,e){this._selectionStrategy.setSelectedItems(t,e)},onSelectionChanged:function(){this._selectionStrategy.onSelectionChanged()},changeItemSelection:function(t,e,n){var i,o,r,a,s,l=this,c=this.options.plainItems(),u=c[t],p=!1,f=!1,m=function(t){return t>=0&&!c.filter(function(e){return e.loadIndex===t}).length};if((null===(i=(o=this.options).allowLoadByRange)||void 0===i?void 0:i.call(o))&&(s=u.loadIndex-t,t=u.loadIndex,p=m(this._focusedItemIndex),Object(h.d)(this._shiftFocusedItemIndex)&&(f=m(this._shiftFocusedItemIndex))),!this.isSelectable()||!this.isDataItem(u))return!1;var g=this.options.getItemData(u),v=this.options.keyOf(g);if((e=e||{}).shift&&"multiple"===this.options.mode&&this._focusedItemIndex>=0)p||f?(r=t!==this._shiftFocusedItemIndex||this._focusedItemIndex!==this._shiftFocusedItemIndex)&&(a=this.changeItemSelectionWhenShiftKeyInVirtualPaging(t)):r=this.changeItemSelectionWhenShiftKeyPressed(t,c,s);else if(e.control){if(this._resetItemSelectionWhenShiftKeyPressed(),!n){var y=this._selectionStrategy.isItemDataSelected(g);"single"===this.options.mode&&this.clearSelectedItems(),y?this._removeSelectedItem(v):this._addSelectedItem(g,v)}r=!0}else{this._resetItemSelectionWhenShiftKeyPressed();var _=this._selectionStrategy.equalKeys(this.options.selectedItemKeys[0],v);1===this.options.selectedItemKeys.length&&_||(this._setSelectedItems([v],[g]),r=!0)}return r?(Object(d.c)(a).done(function(){l._focusedItemIndex=t,!n&&l.onSelectionChanged()}),!0):void 0},isDataItem:function(t){return this.options.isSelectableItem(t)},isSelectable:function(){return"single"===this.options.mode||"multiple"===this.options.mode},isItemDataSelected:function(t){return this._selectionStrategy.isItemDataSelected(t,{checkPending:!0})},isItemSelected:function(t,e){return this._selectionStrategy.isItemKeySelected(t,e)},_resetItemSelectionWhenShiftKeyPressed:function(){delete this._shiftFocusedItemIndex},_resetFocusedItemIndex:function(){this._focusedItemIndex=-1},changeItemSelectionWhenShiftKeyInVirtualPaging:function(t){var e=this,n=this.options.getLoadOptions(t,this._focusedItemIndex,this._shiftFocusedItemIndex),i=new d.a,o=n.skip;return this.options.load(n).done(function(n){e.changeItemSelectionWhenShiftKeyPressed(t,n,o),i.resolve()}),i.promise()},changeItemSelectionWhenShiftKeyPressed:function(t,e,n){var i,o,r,a,s,l=!1,c=Object(h.d)(n),u=c?this._focusedItemIndex-n:this._focusedItemIndex,d=this.options.keyOf,p=e[u],f=this.options.getItemData(p),m=d(f),g=p&&this.isItemDataSelected(f);if(Object(h.d)(this._shiftFocusedItemIndex)||(this._shiftFocusedItemIndex=this._focusedItemIndex),this._shiftFocusedItemIndex!==this._focusedItemIndex)for(i=this._focusedItemIndex<this._shiftFocusedItemIndex?1:-1,a=c?this._focusedItemIndex-n:this._focusedItemIndex,s=c?this._shiftFocusedItemIndex-n:this._shiftFocusedItemIndex,u=a;u!==s;u+=i)(c||this.isDataItem(e[u]))&&(r=d(this.options.getItemData(e[u])),this._removeSelectedItem(r),l=!0);if(t!==this._shiftFocusedItemIndex)for(i=t<this._shiftFocusedItemIndex?1:-1,a=c?t-n:t,s=c?this._shiftFocusedItemIndex-n:this._shiftFocusedItemIndex,u=a;u!==s;u+=i)(c||this.isDataItem(e[u]))&&(r=d(o=this.options.getItemData(e[u])),this._addSelectedItem(o,r),l=!0);return!c&&!this.isDataItem(p)||g||(this._addSelectedItem(f,m),l=!0),l},clearSelectedItems:function(){this._setSelectedItems([],[])},selectAll:function(t){return this._resetFocusedItemIndex(),t?this._onePageSelectAll(!1):this.selectedItemKeys([],!0,!1,!0)},deselectAll:function(t){return this._resetFocusedItemIndex(),t?this._onePageSelectAll(!0):this.selectedItemKeys([],!0,!0,!0)},_onePageSelectAll:function(t){for(var e=this._selectionStrategy.getSelectableItems(this.options.plainItems()),n=0;n<e.length;n++){var i=e[n];if(this.isDataItem(i)){var o=this.options.getItemData(i),r=this.options.keyOf(o),a=this.isItemSelected(r);a||t||this._addSelectedItem(o,r),a&&t&&this._removeSelectedItem(r)}}return this.onSelectionChanged(),(new d.a).resolve()},getSelectAllState:function(t){return this._selectionStrategy.getSelectAllState(t)}}),$=function(t){return-1!==t},G=M.inherit({_setOptionsByReference:function(){this.callBase(),Object(p.a)(this._optionsByReference,{selectedItem:!0})},_getDefaultOptions:function(){return Object(p.a)(this.callBase(),{selectionMode:"none",selectionRequired:!1,selectionByClick:!0,selectedItems:[],selectedItemKeys:[],maxFilterLengthInRequest:1500,keyExpr:null,selectedIndex:-1,selectedItem:null,onSelectionChanged:null,onItemReordered:null,onItemDeleting:null,onItemDeleted:null})},ctor:function(t,e){this._userOptions=e||{},this.callBase(t,e)},_init:function(){this._initEditStrategy(),this.callBase(),this._initKeyGetter(),this._initSelectionModule()},_initKeyGetter:function(){this._keyGetter=Object(w.a)(this.option("keyExpr"))},_getKeysByItems:function(t){return this._editStrategy.getKeysByItems(t)},_getItemsByKeys:function(t,e){return this._editStrategy.getItemsByKeys(t,e)},_getKeyByIndex:function(t){return this._editStrategy.getKeyByIndex(t)},_getIndexByKey:function(t){return this._editStrategy.getIndexByKey(t)},_getIndexByItemData:function(t){return this._editStrategy.getIndexByItemData(t)},_isKeySpecified:function(){return!!this._dataController.key()},_getCombinedFilter:function(){return this._dataController.filter()},key:function(){return this.option("keyExpr")?this.option("keyExpr"):this._dataController.key()},keyOf:function(t){var e=t;return this.option("keyExpr")?e=this._keyGetter(t):this._dataController.store()&&(e=this._dataController.keyOf(t)),e},_nullValueSelectionSupported:function(){return!1},_initSelectionModule:function(){var t=this,e=t._editStrategy.itemsGetter;this._selection=new K({allowNullValue:this._nullValueSelectionSupported(),mode:this.option("selectionMode"),maxFilterLengthInRequest:this.option("maxFilterLengthInRequest"),equalByReference:!this._isKeySpecified(),onSelectionChanged:function(e){(e.addedItemKeys.length||e.removedItemKeys.length)&&(t.option("selectedItems",t._getItemsByKeys(e.selectedItemKeys,e.selectedItems)),t._updateSelectedItems(e))},filter:t._getCombinedFilter.bind(t),totalCount:function(){var e=t.option("items"),n=t._dataController.totalCount();return n>=0?n:t._getItemsCount(e)},key:t.key.bind(t),keyOf:t.keyOf.bind(t),load:function(e){var n,i=t._dataController;return e.customQueryParams=null===(n=i.loadOptions())||void 0===n?void 0:n.customQueryParams,e.userData=i.userData(),i.store()?i.loadFromStore(e).done(function(e){if(!t._disposed){var n=Object(B.e)(e).data;i.applyMapFunction(n)}}):(new d.a).resolve(this.plainItems())},dataFields:function(){return t._dataController.select()},plainItems:e.bind(t._editStrategy)})},_getItemsCount:function(t){var e=this;return t.reduce(function(t,n){return t+(n.items?e._getItemsCount(n.items):1)},0)},_initEditStrategy:function(){var t=A.a;this._editStrategy=new t(this)},_getSelectedItemIndices:function(t){var e=this,n=[];return t=t||this._selection.getSelectedItemKeys(),e._editStrategy.beginCache(),Object(f.a)(t,function(t,i){var o=e._getIndexByKey(i);$(o)&&n.push(o)}),e._editStrategy.endCache(),n},_initMarkup:function(){var t=this;this._rendering=!0,this._dataController.isLoading()||this._syncSelectionOptions().done(function(){return t._normalizeSelectedItems()}),this.callBase()},_render:function(){this.callBase(),this._rendering=!1},_fireContentReadyAction:function(){this._rendering=!1,this._rendered=!0,this.callBase.apply(this,arguments)},_syncSelectionOptions:function(t){var e,n,i,o;switch(t=t||this._chooseSelectOption()){case"selectedIndex":e=this._editStrategy.getItemDataByIndex(this.option("selectedIndex")),Object(h.d)(e)?(this._setOptionWithoutOptionChange("selectedItems",[e]),this._setOptionWithoutOptionChange("selectedItem",e),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([e]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedItem",null));break;case"selectedItems":if(n=(o=this.option("selectedItems")||[]).length?this._editStrategy.getIndexByItemData(o[0]):-1,this.option("selectionRequired")&&!$(n))return this._syncSelectionOptions("selectedIndex");this._setOptionWithoutOptionChange("selectedItem",o[0]),this._setOptionWithoutOptionChange("selectedIndex",n),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems(o));break;case"selectedItem":if(e=this.option("selectedItem"),n=this._editStrategy.getIndexByItemData(e),this.option("selectionRequired")&&!$(n))return this._syncSelectionOptions("selectedIndex");Object(h.d)(e)?(this._setOptionWithoutOptionChange("selectedItems",[e]),this._setOptionWithoutOptionChange("selectedIndex",n),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([e]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedIndex",-1));break;case"selectedItemKeys":if(i=this.option("selectedItemKeys"),this.option("selectionRequired")){var r=this._getIndexByKey(i[0]);if(!$(r))return this._syncSelectionOptions("selectedIndex")}return this._selection.setSelection(i)}return(new d.a).resolve().promise()},_chooseSelectOption:function(){var t="selectedIndex",e=function(t){var e=this.option(t);return Object(h.d)(e)&&e.length||t in this._userOptions}.bind(this);return e("selectedItems")?t="selectedItems":e("selectedItem")?t="selectedItem":e("selectedItemKeys")&&(t="selectedItemKeys"),t},_compareKeys:function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<e.length;n++)if(t[n]!==e[n])return!1;return!0},_normalizeSelectedItems:function(){if("none"===this.option("selectionMode"))this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems");else if("single"===this.option("selectionMode")){var t=this.option("selectedItems");if(t.length>1||!t.length&&this.option("selectionRequired")&&this.option("items")&&this.option("items").length){var e=this._selection.getSelectedItems(),n=void 0===t[0]?e[0]:t[0];return void 0===n&&(n=this._editStrategy.itemsGetter()[0]),this.option("grouped")&&n&&n.items&&(n.items=[n.items[0]]),this._selection.setSelection(this._getKeysByItems([n])),this._setOptionWithoutOptionChange("selectedItems",[n]),this._syncSelectionOptions("selectedItems")}this._selection.setSelection(this._getKeysByItems(t))}else{var i=this._getKeysByItems(this.option("selectedItems")),o=this._selection.getSelectedItemKeys();this._compareKeys(o,i)||this._selection.setSelection(i)}return(new d.a).resolve().promise()},_itemClickHandler:function(t){var e=arguments,n=this,i=(new d.a).resolve(),r=this.callBase;this._createAction(function(t){var e;i=null!==(e=this._itemSelectHandler(t.event))&&void 0!==e?e:i}.bind(this),{validatingTargetName:"itemElement"})({itemElement:Object(o.a)(t.currentTarget),event:t}),i.always(function(){r.apply(n,e)})},_itemSelectHandler:function(t){var e,n;if(this.option("selectionByClick")){var i=t.currentTarget;return this.isItemSelected(i)?this.unselectItem(t.currentTarget):n=this.selectItem(t.currentTarget),null===(e=n)||void 0===e?void 0:e.promise()}},_selectedItemElement:function(t){return this._itemElements().eq(t)},_postprocessRenderItem:function(t){if("none"!==this.option("selectionMode")){var e=Object(o.a)(t.itemElement),n=this._editStrategy.getNormalizedIndex(e),i=this._isItemSelected(n);this._processSelectableItem(e,i)}},_processSelectableItem:function(t,e){t.toggleClass(this._selectedItemClass(),e),this._setAriaSelected(t,String(e))},_updateSelectedItems:function(t){var e=this,n=t.addedItemKeys,i=t.removedItemKeys;if(e._rendered&&(n.length||i.length)){var o=e._selectionChangePromise;if(!e._rendering){var r,a=[],s=[];e._editStrategy.beginCache();for(var l=0;l<n.length;l++)r=e._getIndexByKey(n[l]),a.push(r),e._addSelection(r);for(var c=0;c<i.length;c++)r=e._getIndexByKey(i[c]),s.push(r),e._removeSelection(r);e._editStrategy.endCache(),e._updateSelection(a,s)}Object(d.c)(o).done(function(){e._fireSelectionChangeEvent(t.addedItems,t.removedItems)})}},_fireSelectionChangeEvent:function(t,e){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:t,removedItems:e})},_updateSelection:s.noop,_setAriaSelected:function(t,e){this.setAria("selected",e,t)},_removeSelection:function(t){var e=this._editStrategy.getItemElement(t);$(t)&&(this._processSelectableItem(e,!1),r.a.triggerHandler(e,"stateChanged",!1))},_addSelection:function(t){var e=this._editStrategy.getItemElement(t);$(t)&&(this._processSelectableItem(e,!0),r.a.triggerHandler(e,"stateChanged",!0))},_isItemSelected:function(t){var e=this._getKeyByIndex(t);return this._selection.isItemSelected(e,{checkPending:!0})},_optionChanged:function(t){var e=this;switch(t.name){case"selectionMode":this._invalidate();break;case"dataSource":(!t.value||Array.isArray(t.value)&&!t.value.length)&&this.option("selectedItemKeys",[]),this.callBase(t);break;case"selectedIndex":case"selectedItem":case"selectedItems":case"selectedItemKeys":this._syncSelectionOptions(t.name).done(function(){return e._normalizeSelectedItems()});break;case"keyExpr":this._initKeyGetter();break;case"selectionRequired":this._normalizeSelectedItems();break;case"selectionByClick":case"onSelectionChanged":case"onItemDeleting":case"onItemDeleted":case"onItemReordered":case"maxFilterLengthInRequest":break;default:this.callBase(t)}},_clearSelectedItems:function(){this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems")},_waitDeletingPrepare:function(t){if(t.data("dxItemDeleting"))return(new d.a).resolve().promise();t.data("dxItemDeleting",!0);var e=new d.a,n={cancel:!1},i=this._itemEventHandler(t,"onItemDeleting",n,{excludeValidators:["disabled","readOnly"]});return Object(d.c)(i).always(function(o){var r=!i,a=!r&&"resolved"===i.state(),s=!!arguments.length,l=r||a&&!s||a&&o;Object(d.c)(Object(d.b)(n.cancel)).always(function(){t.data("dxItemDeleting",!1)}).done(function(t){l&&!t?e.resolve():e.reject()}).fail(e.reject)}.bind(this)),e.promise()},_deleteItemFromDS:function(t){var e=this._dataController,n=new d.a,i=this.option("disabled"),o=e.store();if(!o)return(new d.a).resolve().promise();if(!o.remove)throw D.a.Error("E1011");return this.option("disabled",!0),o.remove(e.keyOf(this._getItemData(t))).done(function(t){void 0!==t?n.resolve():n.reject()}).fail(function(){n.reject()}),n.always(function(){this.option("disabled",i)}.bind(this)),n},_tryRefreshLastPage:function(){var t=new d.a;return this._isLastPage()||this.option("grouped")?t.resolve():this._refreshLastPage().done(function(){t.resolve()}),t.promise()},_refreshLastPage:function(){return this._expectLastItemLoading(),this._dataController.load()},_updateSelectionAfterDelete:function(t){var e=this._getKeyByIndex(t);this._selection.deselect([e])},_updateIndicesAfterIndex:function(t){for(var e=this._itemElements(),n=t+1;n<e.length;n++)Object(o.a)(e[n]).data(this._itemIndexKey(),n-1)},_simulateOptionChange:function(t){var e=this.option(t);e instanceof R.a||this._optionChangedAction({name:t,fullName:t,value:e})},isItemSelected:function(t){return this._isItemSelected(this._editStrategy.getNormalizedIndex(t))},selectItem:function(t){if("none"!==this.option("selectionMode")){var e=this._editStrategy.getNormalizedIndex(t);if($(e)){var n=this._getKeyByIndex(e);if(!this._selection.isItemSelected(n)){if("single"===this.option("selectionMode"))return this._selection.setSelection([n]);var o=this.option("selectedItemKeys")||[];return this._selection.setSelection([].concat(Object(i.a)(o),[n]),[n])}}}},unselectItem:function(t){var e=this._editStrategy.getNormalizedIndex(t);if($(e)){var n=this._selection.getSelectedItemKeys();if(!(this.option("selectionRequired")&&n.length<=1)){var i=this._getKeyByIndex(e);this._selection.isItemSelected(i,{checkPending:!0})&&this._selection.deselect([i])}}},_deleteItemElementByIndex:function(t){this._updateSelectionAfterDelete(t),this._updateIndicesAfterIndex(t),this._editStrategy.deleteItemAtIndex(t)},_afterItemElementDeleted:function(t,e){var n=this._dataController.getDataSource()?"dataSource":"items";this._simulateOptionChange(n),this._itemEventHandler(t,"onItemDeleted",e,{beforeExecute:function(){t.remove()},excludeValidators:["disabled","readOnly"]}),this._renderEmptyMessage()},deleteItem:function(t){var e=this,n=new d.a,i=this._editStrategy.getItemElement(t),o=this._editStrategy.getNormalizedIndex(t),r=this._itemResponseWaitClass();return $(o)?this._waitDeletingPrepare(i).done(function(){i.addClass(r);var t=e._extendActionArgs(i);e._deleteItemFromDS(i).done(function(){e._deleteItemElementByIndex(o),e._afterItemElementDeleted(i,t),e._tryRefreshLastPage().done(function(){n.resolveWith(e)})}).fail(function(){i.removeClass(r),n.rejectWith(e)})}).fail(function(){n.rejectWith(e)}):n.rejectWith(e),n.promise()},reorderItem:function(t,e){var n=new d.a,i=this,o=this._editStrategy,r=o.getItemElement(t),a=o.getItemElement(e),s=o.getNormalizedIndex(t),l=o.getNormalizedIndex(e),c=this._dataController.getDataSource()?"dataSource":"items";return $(s)&&$(l)&&s!==l?n.resolveWith(this):n.rejectWith(this),n.promise().done(function(){a[o.itemPlacementFunc(s,l)](r),o.moveItemAtIndexToIndex(s,l),this._updateIndicesAfterIndex(s),i.option("selectedItems",i._getItemsByKeys(i._selection.getSelectedItemKeys(),i._selection.getSelectedItems())),"items"===c&&i._simulateOptionChange(c),i._itemEventHandler(r,"onItemReordered",{fromIndex:o.getIndex(s),toIndex:o.getIndex(l)},{excludeValidators:["disabled","readOnly"]})})}});e.a=G},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(12),o=n(13),r=n(19),a=n(6),s=n(18),l=n(2),c=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(a.a)(e).apply(this,arguments))}return Object(s.a)(e,t),Object(o.a)(e,[{key:"_renderCore",value:function(){return Object(l.a)()}}]),e}(n(102).a)},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"a",function(){return r}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"e",function(){return l}),n.d(e,"f",function(){return c}),n.d(e,"g",function(){return u}),n.d(e,"h",function(){return h}),n.d(e,"i",function(){return d});var i=n(0);function o(t){return Object(i.a)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3.5 11.5a3.5 3.5 0 1 1 3.163-5H14L15.5 8 14 9.5l-1-1-1 1-1-1-1 1-1-1-1 1H6.663a3.5 3.5 0 0 1-3.163 2zM2.5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"}}]})(t)}function r(t){return Object(i.a)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.854 4.854a.5.5 0 1 0-.708-.708l-3.5 3.5a.5.5 0 0 0 0 .708l3.5 3.5a.5.5 0 0 0 .708-.708L2.707 8l3.147-3.146zm4.292 0a.5.5 0 0 1 .708-.708l3.5 3.5a.5.5 0 0 1 0 .708l-3.5 3.5a.5.5 0 0 1-.708-.708L13.293 8l-3.147-3.146z"}}]})(t)}function a(t){return Object(i.a)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 3.5A1.5 1.5 0 0 1 7.5 2h1A1.5 1.5 0 0 1 10 3.5v1A1.5 1.5 0 0 1 8.5 6v1H11a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 5 7h2.5V6A1.5 1.5 0 0 1 6 4.5v-1zM8.5 5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1zM3 11.5A1.5 1.5 0 0 1 4.5 10h1A1.5 1.5 0 0 1 7 11.5v1A1.5 1.5 0 0 1 5.5 14h-1A1.5 1.5 0 0 1 3 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm4.5.5a1.5 1.5 0 0 1 1.5-1.5h1a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5h-1A1.5 1.5 0 0 1 9 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1z"}}]})(t)}function s(t){return Object(i.a)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"}}]})(t)}function l(t){return Object(i.a)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5 2a.5.5 0 0 1 .5-.5c.862 0 1.573.287 2.06.566.174.099.321.198.44.286.119-.088.266-.187.44-.286A4.165 4.165 0 0 1 10.5 1.5a.5.5 0 0 1 0 1c-.638 0-1.177.213-1.564.434a3.49 3.49 0 0 0-.436.294V7.5H9a.5.5 0 0 1 0 1h-.5v4.272c.1.08.248.187.436.294.387.221.926.434 1.564.434a.5.5 0 0 1 0 1 4.165 4.165 0 0 1-2.06-.566A4.561 4.561 0 0 1 8 13.65a4.561 4.561 0 0 1-.44.285 4.165 4.165 0 0 1-2.06.566.5.5 0 0 1 0-1c.638 0 1.177-.213 1.564-.434.188-.107.335-.214.436-.294V8.5H7a.5.5 0 0 1 0-1h.5V3.228a3.49 3.49 0 0 0-.436-.294A3.166 3.166 0 0 0 5.5 2.5.5.5 0 0 1 5 2z"}},{tag:"path",attr:{d:"M10 5h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-4v1h4a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-4v1zM6 5V4H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4v-1H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h4z"}}]})(t)}function c(t){return Object(i.a)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7.646 1.146a.5.5 0 0 1 .708 0l1.5 1.5a.5.5 0 0 1-.708.708L8.5 2.707V4.5a.5.5 0 0 1-1 0V2.707l-.646.647a.5.5 0 1 1-.708-.708l1.5-1.5zM2.343 4.343a.5.5 0 0 1 .707 0l1.414 1.414a.5.5 0 0 1-.707.707L2.343 5.05a.5.5 0 0 1 0-.707zm11.314 0a.5.5 0 0 1 0 .707l-1.414 1.414a.5.5 0 1 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zM8 7a3 3 0 0 1 2.599 4.5H5.4A3 3 0 0 1 8 7zm3.71 4.5a4 4 0 1 0-7.418 0H.499a.5.5 0 0 0 0 1h15a.5.5 0 0 0 0-1h-3.79zM0 10a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2A.5.5 0 0 1 0 10zm13 0a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z"}}]})(t)}function u(t){return Object(i.a)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7.646 4.854a.5.5 0 0 0 .708 0l1.5-1.5a.5.5 0 0 0-.708-.708l-.646.647V1.5a.5.5 0 0 0-1 0v1.793l-.646-.647a.5.5 0 1 0-.708.708l1.5 1.5zm-5.303-.51a.5.5 0 0 1 .707 0l1.414 1.413a.5.5 0 0 1-.707.707L2.343 5.05a.5.5 0 0 1 0-.707zm11.314 0a.5.5 0 0 1 0 .706l-1.414 1.414a.5.5 0 1 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zM8 7a3 3 0 0 1 2.599 4.5H5.4A3 3 0 0 1 8 7zm3.71 4.5a4 4 0 1 0-7.418 0H.499a.5.5 0 0 0 0 1h15a.5.5 0 0 0 0-1h-3.79zM0 10a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2A.5.5 0 0 1 0 10zm13 0a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z"}}]})(t)}function h(t){return Object(i.a)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.5 2A2.5 2.5 0 0 0 10 4.5a.5.5 0 0 1-1 0A3.5 3.5 0 1 1 12.5 8H.5a.5.5 0 0 1 0-1h12a2.5 2.5 0 0 0 0-5zm-7 1a1 1 0 0 0-1 1 .5.5 0 0 1-1 0 2 2 0 1 1 2 2h-5a.5.5 0 0 1 0-1h5a1 1 0 0 0 0-2zM0 9.5A.5.5 0 0 1 .5 9h10.042a3 3 0 1 1-3 3 .5.5 0 0 1 1 0 2 2 0 1 0 2-2H.5a.5.5 0 0 1-.5-.5z"}}]})(t)}function d(t){return Object(i.a)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.007 2.007 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.007 2.007 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31.4 31.4 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.007 2.007 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A99.788 99.788 0 0 1 7.858 2h.193zM6.4 5.209v4.818l4.157-2.408L6.4 5.209z"}}]})(t)}},function(t,e,n){"use strict";var i=n(15),o=n(17),r=n(43),a=n(75),s=n(77),l=function(){var t,e=Object(r.a)(),n=e.add,l=e.remove;if(!Object(i.f)())return e;var c,u=function(){var t=Object(i.d)();return{width:t.innerWidth,height:t.innerHeight}},h=function(){var n,i=u();i.width===t.width&&i.height===t.height||(i.width===t.width&&(n="height"),i.height===t.height&&(n="width"),t=i,e.fire(n))},d=Object(s.a)(function(){t=u()});return e.add=function(){var t=n.apply(e,arguments);return d(),a.a.add(function(){!c&&e.has()&&(c=o.a.listen(Object(i.d)(),"resize",h))}),t},e.remove=function(){var t=l.apply(e,arguments);return!e.has()&&c&&(c(),c=void 0),t},e}();e.a=l},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"e",function(){return r}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return l}),n.d(e,"g",function(){return c}),n.d(e,"h",function(){return u}),n.d(e,"f",function(){return h});var i=n(0);function o(t){return Object(i.a)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M339 314.9L175.4 32h161.2l163.6 282.9H339zm-137.5 23.6L120.9 480h310.5L512 338.5H201.5zM154.1 67.4L0 338.5 80.6 480 237 208.8 154.1 67.4z"}}]})(t)}function r(t){return Object(i.a)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M71.5 142.3c.6-5.9-1.7-11.8-6.1-15.8L20.3 72.1V64h140.2l108.4 237.7L364.2 64h133.7v8.1l-38.6 37c-3.3 2.5-5 6.7-4.3 10.8v272c-.7 4.1 1 8.3 4.3 10.8l37.7 37v8.1H307.3v-8.1l39.1-37.9c3.8-3.8 3.8-5 3.8-10.8V171.2L241.5 447.1h-14.7L100.4 171.2v184.9c-1.1 7.8 1.5 15.6 7 21.2l50.8 61.6v8.1h-144v-8L65 377.3c5.4-5.6 7.9-13.5 6.5-21.2V142.3z"}}]})(t)}function a(t){return Object(i.a)({tag:"svg",attr:{viewBox:"0 0 480 512"},child:[{tag:"path",attr:{d:"M438.66 212.33l-11.24-28.1-19.93-49.83C390.38 91.63 349.57 64 303.5 64h-127c-46.06 0-86.88 27.63-103.99 70.4l-19.93 49.83-11.24 28.1C17.22 221.5 0 244.66 0 272v48c0 16.12 6.16 30.67 16 41.93V416c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-54.07c9.84-11.25 16-25.8 16-41.93v-48c0-27.34-17.22-50.5-41.34-59.67zm-306.73-54.16c7.29-18.22 24.94-30.17 44.57-30.17h127c19.63 0 37.28 11.95 44.57 30.17L368 208H112l19.93-49.83zM80 319.8c-19.2 0-32-12.76-32-31.9S60.8 256 80 256s48 28.71 48 47.85-28.8 15.95-48 15.95zm320 0c-19.2 0-48 3.19-48-15.95S380.8 256 400 256s32 12.76 32 31.9-12.8 31.9-32 31.9z"}}]})(t)}function s(t){return Object(i.a)({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(t)}function l(t){return Object(i.a)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M116.65 219.35a15.68 15.68 0 0 0 22.65 0l96.75-99.83c28.15-29 26.5-77.1-4.91-103.88C203.75-7.7 163-3.5 137.86 22.44L128 32.58l-9.85-10.14C93.05-3.5 52.25-7.7 24.86 15.64c-31.41 26.78-33 74.85-5 103.88zm143.92 100.49h-48l-7.08-14.24a27.39 27.39 0 0 0-25.66-17.78h-71.71a27.39 27.39 0 0 0-25.66 17.78l-7 14.24h-48A27.45 27.45 0 0 0 0 347.3v137.25A27.44 27.44 0 0 0 27.43 512h233.14A27.45 27.45 0 0 0 288 484.55V347.3a27.45 27.45 0 0 0-27.43-27.46zM144 468a52 52 0 1 1 52-52 52 52 0 0 1-52 52zm355.4-115.9h-60.58l22.36-50.75c2.1-6.65-3.93-13.21-12.18-13.21h-75.59c-6.3 0-11.66 3.9-12.5 9.1l-16.8 106.93c-1 6.3 4.88 11.89 12.5 11.89h62.31l-24.2 83c-1.89 6.65 4.2 12.9 12.23 12.9a13.26 13.26 0 0 0 10.92-5.25l92.4-138.91c4.88-6.91-1.16-15.7-10.87-15.7zM478.08.33L329.51 23.17C314.87 25.42 304 38.92 304 54.83V161.6a83.25 83.25 0 0 0-16-1.7c-35.35 0-64 21.48-64 48s28.65 48 64 48c35.2 0 63.73-21.32 64-47.66V99.66l112-17.22v47.18a83.25 83.25 0 0 0-16-1.7c-35.35 0-64 21.48-64 48s28.65 48 64 48c35.2 0 63.73-21.32 64-47.66V32c0-19.48-16-34.42-33.92-31.67z"}}]})(t)}function c(t){return Object(i.a)({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M592 0H48A48 48 0 0 0 0 48v320a48 48 0 0 0 48 48h240v32H112a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H352v-32h240a48 48 0 0 0 48-48V48a48 48 0 0 0-48-48zm-16 352H64V64h512z"}}]})(t)}function u(t){return Object(i.a)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"}}]})(t)}function h(t){return Object(i.a)({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"}}]})(t)}},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return l}),n.d(e,"c",function(){return c});var i=n(5),o=1500,r=[],a=function(t){return o=Object(i.ensureDefined)(t,o)},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,e=r.length,n=(e?r[e-1]:t)+1;return r.push(n),n},l=function(t){var e=r.indexOf(t);e>=0&&r.splice(e,1)},c=function(t){return r.length&&r[r.length-1]===t}},function(t,e,n){"use strict";n.r(e);var i=n(2),o=n(15),r=n(3),a=n(26),s=n(213),l=n(10),c=n(11),u=Object(o.d)(),h=["backspace","tab","enter","pageUp","pageDown","end","home","leftArrow","rightArrow","downArrow","upArrow","del"],d=s.a.inherit({ctor:function(t,e){e&&(this._showClearButton=e.showClearButton),this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return Object(r.a)(this.callBase(),{value:"",mode:"text",maxLength:null})},_initMarkup:function(){this.$element().addClass("dx-textbox"),this.callBase(),this.setAria("role","textbox")},_renderInputType:function(){this.callBase(),this._renderSearchMode()},_useTemplates:function(){return!1},_renderProps:function(){this.callBase(),this._toggleMaxLengthProp()},_toggleMaxLengthProp:function(){var t=this._getMaxLength();t&&t>0?this._input().attr("maxLength",t):this._input().removeAttr("maxLength")},_renderSearchMode:function(){var t=this._$element;"search"===this.option("mode")?(t.addClass("dx-searchbox"),this._renderSearchIcon(),void 0===this._showClearButton&&(this._showClearButton=this.option("showClearButton"),this.option("showClearButton",!0))):(t.removeClass("dx-searchbox"),this._$searchIcon&&this._$searchIcon.remove(),this.option("showClearButton",void 0===this._showClearButton?this.option("showClearButton"):this._showClearButton),delete this._showClearButton)},_renderSearchIcon:function(){var t=Object(i.a)("<div>").addClass("dx-icon").addClass("dx-icon-search");t.prependTo(this._input().parent()),this._$searchIcon=t},_getLabelContainerWidth:function(){if(this._$searchIcon){var t=this._input().parent();return Object(c.k)(t)-this._getLabelBeforeWidth()}return this.callBase()},_getLabelBeforeWidth:function(){var t=this.callBase();return this._$searchIcon&&(t+=Object(c.h)(this._$searchIcon)),t},_optionChanged:function(t){switch(t.name){case"maxLength":this._toggleMaxLengthProp();break;case"mode":this.callBase(t),this._updateLabelWidth();break;case"mask":this.callBase(t),this._toggleMaxLengthProp();break;default:this.callBase(t)}},_onKeyDownCutOffHandler:function(t){var e=this._getMaxLength();if(!e||t.ctrlKey||this._hasSelection())return!0;var n=Object(i.a)(t.target),o=Object(l.n)(t);return this._cutOffExtraChar(n),n.val().length<e||h.includes(o)||""!==u.getSelection().toString()},_onChangeCutOffHandler:function(t){var e=Object(i.a)(t.target);this.option("maxLength")&&this._cutOffExtraChar(e)},_cutOffExtraChar:function(t){var e=this._getMaxLength(),n=t.val();e&&n.length>e&&t.val(n.substr(0,e))},_getMaxLength:function(){return!!this.option("mask")?null:this.option("maxLength")}});Object(a.a)("dxTextBox",d);var p=d;e.default=p},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n(12),o=n(13),r=n(2),a=n(17),s=n(43),l=n(48),c=n(80),u=n(38),h=Object(s.a)({syncStrategy:!0}),d=function(){function t(){Object(i.a)(this,t)}return Object(o.a)(t,[{key:"render",value:function(t){var e,n=(t=t||{}).onRendered;return delete t.onRendered,e=t.renovated&&t.transclude&&this._element?Object(r.a)("<div>").append(this._element).contents():this._renderCore(t),this._ensureResultInContainer(e,t.container),h.fire(e,t.container),n&&n(),e}},{key:"_ensureResultInContainer",value:function(t,e){if(e){var n=Object(r.a)(e),i=Object(l.c)(n.get(0),t.get(0));if(n.append(t),!i)a.a.getBody().contains(n.get(0))&&Object(c.c)(t)}}},{key:"_renderCore",value:function(){throw u.a.Error("E0001")}}]),t}()},function(t,e,n){"use strict";function i(t){return Object.keys(t).filter(function(e){return t[e]}).join(" ")}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";var i=n(12),o=n(13),r=n(5),a=n(15),s=Object(a.d)(),l={observe:r.noop,unobserve:r.noop,disconnect:r.noop},c=new(function(){function t(){var e=this;if(Object(i.a)(this,t),!Object(a.f)()||!s.ResizeObserver)return l;this._callbacksMap=new Map,this._observer=new s.ResizeObserver(function(t){t.forEach(function(t){var n;null===(n=e._callbacksMap.get(t.target))||void 0===n||n(t)})})}return Object(o.a)(t,[{key:"observe",value:function(t,e){this._callbacksMap.set(t,e),this._observer.observe(t)}},{key:"unobserve",value:function(t){this._callbacksMap.delete(t),this._observer.unobserve(t)}},{key:"disconnect",value:function(){this._callbacksMap.clear(),this._observer.disconnect()}}]),t}());e.a=c},function(t,e,n){"use strict";var i=n(2),o=n(75),r=n(17),a=n(7),s=n(46),l=n(32),c=n(3),u=n(9),h=n(85),d=n(10),p=n(44),f=n(155),m=new(l.a.inherit({ctor:function(){this._attachHandlers(),this.reset(),this._proxiedCancelHandler=this._cancelHandler.bind(this),this._proxiedAcceptHandler=this._acceptHandler.bind(this)},_attachHandlers:function(){o.a.add(function(){var t=r.a.getDocument();a.a.subscribeGlobal(t,Object(d.a)(p.a.down,"dxEventManager"),this._pointerDownHandler.bind(this)),a.a.subscribeGlobal(t,Object(d.a)(p.a.move,"dxEventManager"),this._pointerMoveHandler.bind(this)),a.a.subscribeGlobal(t,Object(d.a)([p.a.up,p.a.cancel].join(" "),"dxEventManager"),this._pointerUpHandler.bind(this)),a.a.subscribeGlobal(t,Object(d.a)(f.a,"dxEventManager"),this._mouseWheelHandler.bind(this))}.bind(this))},_eachEmitter:function(t){for(var e=this._activeEmitters||[],n=0;e.length>n;){var i=e[n];if(!1===t(i))break;e[n]===i&&n++}},_applyToEmitters:function(t,e){this._eachEmitter(function(n){n[t].call(n,e)})},reset:function(){this._eachEmitter(this._proxiedCancelHandler),this._activeEmitters=[]},resetEmitter:function(t){this._proxiedCancelHandler(t)},_pointerDownHandler:function(t){Object(d.k)(t)&&t.which>1||this._updateEmitters(t)},_updateEmitters:function(t){this._isSetChanged(t)&&(this._cleanEmitters(t),this._fetchEmitters(t))},_isSetChanged:function(t){var e=this._closestEmitter(t),n=this._emittersSet||[],i=e.length!==n.length;return Object(u.a)(e,function(t,e){return!(i=i||n[t]!==e)}),this._emittersSet=e,i},_closestEmitter:function(t){var e=this,n=[],o=Object(i.a)(t.target);function r(i,o){o&&o.validatePointers(t)&&o.validate(t)&&(o.addCancelCallback(e._proxiedCancelHandler),o.addAcceptCallback(e._proxiedAcceptHandler),n.push(o))}for(;o.length;){var a=Object(s.c)(o.get(0),"dxEmitter")||[];Object(u.a)(a,r),o=o.parent()}return n},_acceptHandler:function(t,e){var n=this;this._eachEmitter(function(i){i!==t&&n._cancelEmitter(i,e)})},_cancelHandler:function(t,e){this._cancelEmitter(t,e)},_cancelEmitter:function(t,e){var n=this._activeEmitters;e?t.cancel(e):t.reset(),t.removeCancelCallback(),t.removeAcceptCallback();var i=n.indexOf(t);i>-1&&n.splice(i,1)},_cleanEmitters:function(t){this._applyToEmitters("end",t),this.reset(t)},_fetchEmitters:function(t){this._activeEmitters=this._emittersSet.slice(),this._applyToEmitters("start",t)},_pointerMoveHandler:function(t){this._applyToEmitters("move",t)},_pointerUpHandler:function(t){this._updateEmitters(t)},_mouseWheelHandler:function(t){this._allowInterruptionByMouseWheel()&&(t.pointers=[null],this._pointerDownHandler(t),this._adjustWheelEvent(t),this._pointerMoveHandler(t),t.pointers=[],this._pointerUpHandler(t))},_allowInterruptionByMouseWheel:function(){var t=!0;return this._eachEmitter(function(e){return t=e.allowInterruptionByMouseWheel()&&t}),t},_adjustWheelEvent:function(t){var e=null;if(this._eachEmitter(function(n){if(n.gesture){var i=n.getDirection(t);return"horizontal"!==i&&!t.shiftKey||"vertical"!==i&&t.shiftKey?(e=n,!1):void 0}}),e){var n=e.getDirection(t),i="both"===n&&!t.shiftKey||"vertical"===n;t[i?"pageY":"pageX"]+=t.delta}},isActive:function(t){var e=!1;return this._eachEmitter(function(n){e=e||n.getElement().is(t)}),e}}));e.a=function(t){var e=t.emitter,n=t.events[0],i=t.events;Object(u.a)(i,function(o,r){Object(h.a)(r,{noBubble:!t.bubble,setup:function(t){var i=Object(s.c)(t,"dxEmitterSubscription")||{},o=Object(s.c)(t,"dxEmitter")||{},a=o[n]||new e(t);i[r]=!0,o[n]=a,Object(s.c)(t,"dxEmitter",o),Object(s.c)(t,"dxEmitterSubscription",i)},add:function(t,e){Object(s.c)(t,"dxEmitter")[n].configure(Object(c.a)({delegateSelector:e.selector},e.data),e.type)},teardown:function(t){var e=Object(s.c)(t,"dxEmitterSubscription"),o=Object(s.c)(t,"dxEmitter"),a=o[n];delete e[r];var l=!0;Object(u.a)(i,function(t,n){return l=l&&!e[n]}),l&&(m.isActive(t)&&m.resetEmitter(a),a&&a.dispose(),delete o[n])}})})}},function(t,e,n){"use strict";var i=n(2),o=n(32),r=n(9),a=n(108),s=o.a.inherit({ctor:function(t,e,n){this._$element=t,this._options=e,this._rawData=n,Object(a.a)(t,this,this._dispose),this._render()},_render:function(){var t=Object(i.a)("<div>").addClass("dx-item-content-placeholder");this._$element.append(t),this._watchers=[],this._renderWatchers()},_renderWatchers:function(){this._startWatcher("disabled",this._renderDisabled.bind(this)),this._startWatcher("visible",this._renderVisible.bind(this))},_startWatcher:function(t,e){var n=this._rawData,i=this._options.fieldGetter(t),o=function(t,e,n){var i,o=function(t){i!==t&&(n(t,i),i=t)};return{dispose:t(e,o),force:function(){o(e())}}}(this._options.watchMethod(),function(){return i(n)},function(t,n){this._dirty=!0,e(t,n)}.bind(this));this._watchers.push(o)},setDataField:function(){if(this._dirty=!1,Object(r.a)(this._watchers,function(t,e){e.force()}),this._dirty)return!0},_renderDisabled:function(t,e){this._$element.toggleClass("dx-state-disabled",!!t),this._updateOwnerFocus(t)},_updateOwnerFocus:function(t){var e=this._options.owner;e&&t&&e._resetItemFocus(this._$element)},_renderVisible:function(t,e){this._$element.toggleClass("dx-state-invisible",void 0!==t&&!t)},_dispose:function(){Object(r.a)(this._watchers,function(t,e){e.dispose()})}});s.getInstance=function(t){return Object(a.b)(t,this)},e.a=s},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return a}),n.d(e,"b",function(){return l});var i=n(1),o=n(89),r=function(){function t(){}return function(e){return t.prototype=e,new t}}(),a=function(t,e){var n,o,r=[];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.push(n);for(r.sort(function(t,e){var n=Object(i.i)(t),o=Object(i.i)(e);return n&&o?t-e:n&&!o?-1:!n&&o?1:t<e?-1:t>e?1:0}),o=0;o<r.length;o++)e(n=r[o],t[n])},s=function(t,e,n,i){!i&&o.a.isWrapped(t[e])?o.a.assign(t[e],n):t[e]=n},l=function t(e,n,o,r){var a,l;for(var c in n)if(a=e[c],l=n[c],"__proto__"!==c&&"constructor"!==c&&e!==l){if(Object(i.k)(l))l=t((o?Object(i.j)(a):Object(i.k)(a))?a:{},l,o,r);void 0!==l&&a!==l&&s(e,c,l,r)}return e}},function(t,e,n){"use strict";n.d(e,"a",function(){return h}),n.d(e,"b",function(){return d}),n.d(e,"c",function(){return u});var i=n(46),o=n(7),r=n(1),a=n(109),s="dxComponents",l=new WeakMap,c=0,u=function(t,e){if(!Object(r.d)(e)){if(!l.has(t)){var n="dxPrivateComponent"+c++;return l.set(t,n),n}return l.get(t)}l.set(t,e)};function h(t,e,n){var r=Object(i.c)(t.get(0)),l=u(e.constructor);r[l]=e,n&&o.a.one(t,a.a,function(){n.call(e)}),r[s]||(r[s]=[]),r[s].push(l)}function d(t,e){var n=u(e);return Object(i.c)(t.get(0),n)}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(2),o=n(46),r=n(7),a=n(85),s="dxremove";Object(o.a)(function(t){t=[].slice.call(t);for(var e=0;e<t.length;e++){var n=Object(i.a)(t[e]);n.prop("dxRemoveEvent")&&(n[0].dxRemoveEvent=null,r.a.triggerHandler(n,s))}}),Object(a.a)(s,{noBubble:!0,setup:function(t){Object(i.a)(t).prop("dxRemoveEvent",!0)}})},function(t,e,n){"use strict";var i,o=n(50),r=n(20),a=n(38),s=n(2),l=n(154),c=n(96),u=n(12),h=n(13),d=n(19),p=n(6),f=n(18),m=n(102),g=n(48),v=n(1),y={};function b(t,e){y[t]=e}function C(){return i}b("jquery-tmpl",{compile:function(t){return Object(g.e)(t)},render:function(t,e){return jQuery.tmpl(t,e)}}),b("jsrender",{compile:function(t){return(jQuery||jsrender).templates(Object(g.e)(t))},render:function(t,e){return t.render(e)}}),b("mustache",{compile:function(t){return Object(g.e)(t)},render:function(t,e){return Mustache.render(t,e)}}),b("hogan",{compile:function(t){return Hogan.compile(Object(g.e)(t))},render:function(t,e){return t.render(e)}}),b("underscore",{compile:function(t){return _.template(Object(g.e)(t))},render:function(t,e){return t(e)}}),b("handlebars",{compile:function(t){return Handlebars.compile(Object(g.e)(t))},render:function(t,e){return t(e)}}),b("doT",{compile:function(t){return doT.template(Object(g.e)(t))},render:function(t,e){return t(e)}}),b("default",{compile:function(t){return Object(g.f)(t)},render:function(t,e,n){return t.clone()}}),function(t){if(Object(v.o)(t)){if(!(i=y[t]))throw a.a.Error("E0020",t)}else i=t}("default");var O=function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(d.a)(this,Object(p.a)(e).call(this)))._element=t,n}return Object(f.a)(e,t),Object(h.a)(e,[{key:"_renderCore",value:function(t){var e=t.transclude;return e||this._compiledTemplate||(this._compiledTemplate=C().compile(this._element)),Object(s.a)("<div>").append(e?this._element:C().render(this._compiledTemplate,t.model,t.index)).contents()}},{key:"source",value:function(){return Object(s.a)(this._element).clone()}}]),e}(m.a),x=n(120),S=n(5),w=n(3);n.d(e,"c",function(){return P}),n.d(e,"e",function(){return k}),n.d(e,"d",function(){return T}),n.d(e,"g",function(){return I}),n.d(e,"f",function(){return j}),n.d(e,"b",function(){return M}),n.d(e,"a",function(){return D});var P=function(t,e){var n=Object(s.a)(t).contents().filter("[".concat("data-options",'*="').concat(e,'"]'));return[].slice.call(n).map(function(t){var n=Object(s.a)(t).attr("data-options")||"";return{element:t,options:Object(o.a)().optionsParser(n)[e]}}).filter(function(t){return!!t.options})},k=function(t){var e=Object(x.b)(t,function(t){return t.options.name});if(e[void 0])throw a.a.Error("E0023");var n={};return Object.keys(e).forEach(function(t){var i,o=null===(i=Object(S.findBestMatches)(r.a.current(),e[t],function(t){return t.options})[0])||void 0===i?void 0:i.element;o&&(n[t]=o)}),n},E=function(t){var e=t.render.bind(t);return Object(w.a)({},t,{render:function(t){var n=e(t);return t&&t.onRendered&&t.onRendered(),n}})},T=function(t){var e=[];return"model"in t&&e.push(t.model),"index"in t&&e.push(t.index),e.push(t.container),e},I=function(t){return"string"===typeof t?Object(g.f)(t):t},j=function(t){return Object(v.n)(t)&&t[0]||t},M=function(t){return new O(t)},D=function(t,e,n,i,o,r){return null==t?new c.a:t instanceof l.a?r[t.name]:t instanceof m.a?t:Object(v.h)(t.render)&&!Object(v.n)(t)?i?t:E(t):t.nodeType||Object(v.n)(t)?e(Object(s.a)(t)):function(t,e,n,i){var o=null;return i&&-1!==i.indexOf(t)||!(o=e[t])||o instanceof m.a||n||(o=E(o)),o}(t,n,i,o)||r[t]||e(t)}},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.ValueIndicator=e.Tooltip=e.Title=e.Tick=e.Text=e.SubvalueIndicator=e.Subtitle=e.Size=e.Shadow=e.Scale=e.RangeContainer=e.Range=e.MinorTick=e.Margin=e.LoadingIndicator=e.Label=e.Geometry=e.Format=e.Font=e.Export=e.Border=e.Animation=e.CircularGauge=void 0;var o=n(284),r=n(60),a=n(148),s=n(175),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._WidgetClass=o.default,e.subscribableOptions=["loadingIndicator","loadingIndicator.show","subvalues","value"],e.independentEvents=["onDisposing","onDrawn","onExported","onExporting","onFileSaving","onIncidentOccurred","onInitialized","onTooltipHidden","onTooltipShown"],e._defaults={defaultLoadingIndicator:"loadingIndicator",defaultSubvalues:"subvalues",defaultValue:"value"},e._expectedChildren={animation:{optionName:"animation",isCollectionItem:!1},export:{optionName:"export",isCollectionItem:!1},geometry:{optionName:"geometry",isCollectionItem:!1},loadingIndicator:{optionName:"loadingIndicator",isCollectionItem:!1},margin:{optionName:"margin",isCollectionItem:!1},rangeContainer:{optionName:"rangeContainer",isCollectionItem:!1},scale:{optionName:"scale",isCollectionItem:!1},size:{optionName:"size",isCollectionItem:!1},subvalueIndicator:{optionName:"subvalueIndicator",isCollectionItem:!1},title:{optionName:"title",isCollectionItem:!1},tooltip:{optionName:"tooltip",isCollectionItem:!1},valueIndicator:{optionName:"valueIndicator",isCollectionItem:!1}},e}return i(e,t),Object.defineProperty(e.prototype,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e}(a.Component);e.CircularGauge=l,l.propTypes={animation:r.object,containerBackgroundColor:r.string,disabled:r.bool,elementAttr:r.object,export:r.object,geometry:r.object,loadingIndicator:r.object,margin:r.object,onDisposing:r.func,onDrawn:r.func,onExported:r.func,onExporting:r.func,onFileSaving:r.func,onIncidentOccurred:r.func,onInitialized:r.func,onOptionChanged:r.func,onTooltipHidden:r.func,onTooltipShown:r.func,pathModified:r.bool,rangeContainer:r.object,redrawOnResize:r.bool,rtlEnabled:r.bool,scale:r.object,size:r.object,subvalueIndicator:r.object,subvalues:r.array,theme:r.oneOfType([r.string,r.oneOf(["generic.dark","generic.light","generic.contrast","generic.carmine","generic.darkmoon","generic.darkviolet","generic.greenmist","generic.softblue","material.blue.light","material.lime.light","material.orange.light","material.purple.light","material.teal.light"])]),title:r.oneOfType([r.object,r.string]),tooltip:r.object,value:r.number,valueIndicator:r.object};var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="animation",e}(s.default);e.Animation=c;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="border",e}(s.default);e.Border=u;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="export",e}(s.default);e.Export=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="font",e}(s.default);e.Font=d;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="format",e}(s.default);e.Format=p;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="geometry",e}(s.default);e.Geometry=f;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="label",e.ExpectedChildren={font:{optionName:"font",isCollectionItem:!1},format:{optionName:"format",isCollectionItem:!1}},e}(s.default);e.Label=m;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="loadingIndicator",e.DefaultsProps={defaultShow:"show"},e.ExpectedChildren={font:{optionName:"font",isCollectionItem:!1}},e}(s.default);e.LoadingIndicator=g;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="margin",e}(s.default);e.Margin=v;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="minorTick",e}(s.default);e.MinorTick=y;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="ranges",e.IsCollectionItem=!0,e}(s.default);e.Range=_;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="rangeContainer",e.ExpectedChildren={range:{optionName:"ranges",isCollectionItem:!0}},e}(s.default);e.RangeContainer=b;var C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="scale",e.ExpectedChildren={label:{optionName:"label",isCollectionItem:!1},minorTick:{optionName:"minorTick",isCollectionItem:!1},tick:{optionName:"tick",isCollectionItem:!1}},e}(s.default);e.Scale=C;var O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="shadow",e}(s.default);e.Shadow=O;var x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="size",e}(s.default);e.Size=x;var S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="subtitle",e.ExpectedChildren={font:{optionName:"font",isCollectionItem:!1}},e}(s.default);e.Subtitle=S;var w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="subvalueIndicator",e.ExpectedChildren={text:{optionName:"text",isCollectionItem:!1}},e}(s.default);e.SubvalueIndicator=w;var P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="text",e.ExpectedChildren={font:{optionName:"font",isCollectionItem:!1},format:{optionName:"format",isCollectionItem:!1}},e}(s.default);e.Text=P;var k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="tick",e}(s.default);e.Tick=k;var E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="title",e.ExpectedChildren={font:{optionName:"font",isCollectionItem:!1},margin:{optionName:"margin",isCollectionItem:!1},subtitle:{optionName:"subtitle",isCollectionItem:!1}},e}(s.default);e.Title=E;var T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="tooltip",e.ExpectedChildren={border:{optionName:"border",isCollectionItem:!1},font:{optionName:"font",isCollectionItem:!1},format:{optionName:"format",isCollectionItem:!1},shadow:{optionName:"shadow",isCollectionItem:!1}},e.TemplateProps=[{tmplOption:"contentTemplate",render:"contentRender",component:"contentComponent",keyFn:"contentKeyFn"}],e}(s.default);e.Tooltip=T;var I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="valueIndicator",e}(s.default);e.ValueIndicator=I,e.default=l},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(1),o=function(){},r=function(t){return"undefined"!==typeof console&&Object(i.h)(console[t])?console[t].bind(console):o},a={info:r("info"),warn:r("warn"),error:r("error")};!function(){function t(t,e){if(!t)throw new Error(e)}}()},function(t,e,n){"use strict";var i=n(10),o=n(132),r=n(105),a=Math.abs,s=o.a.inherit({start:function(t){this._startEventData=Object(i.c)(t),this._startTimer(t)},_startTimer:function(t){var e="timeout"in this?this.timeout:750;this._holdTimer=setTimeout(function(){this._requestAccept(t),this._fireEvent("dxhold",t,{target:t.target}),this._forgetAccept()}.bind(this),e)},move:function(t){this._touchWasMoved(t)&&this._cancel(t)},_touchWasMoved:function(t){var e=Object(i.d)(this._startEventData,Object(i.c)(t));return a(e.x)>5||a(e.y)>5},end:function(){this._stopTimer()},_stopTimer:function(){clearTimeout(this._holdTimer)},cancel:function(){this._stopTimer()},dispose:function(){this._stopTimer()}});Object(r.a)({emitter:s,bubble:!0,events:["dxhold"]}),e.a={name:"dxhold"}},function(t,e,n){"use strict";var i=n(26),o=n(20),r=n(33),a=n(2),s=n(96),l=n(72),c=n(5),u=n(3),h=n(51),d=n(9),p=n(11),f=n(62),m=n(1),g=n(198),v=n(15),y=n(80),_=n(8),b=n(12),C=n(13),O=n(34),x=n(17),S=n(28),w=n(7),P=n(90),k=n(10),E=function(){function t(e){Object(b.a)(this,t),this.init(e)}return Object(C.a)(t,[{key:"init",value:function(t){var e=t.dragEnabled,n=t.handle,i=t.draggableElement,o=t.positionController;this._positionController=o,this._draggableElement=i,this._handle=n,this._dragEnabled=e,this.unsubscribe(),e&&this.subscribe()}},{key:"moveDown",value:function(t){this._moveTo(5,0,t)}},{key:"moveUp",value:function(t){this._moveTo(-5,0,t)}},{key:"moveLeft",value:function(t){this._moveTo(0,-5,t)}},{key:"moveRight",value:function(t){this._moveTo(0,5,t)}},{key:"subscribe",value:function(){var t=this,e=this._getEventNames();w.a.on(this._handle,e.startEventName,function(e){t._dragStartHandler(e)}),w.a.on(this._handle,e.updateEventName,function(e){t._dragUpdateHandler(e)}),w.a.on(this._handle,e.endEventName,function(e){t._dragEndHandler(e)})}},{key:"unsubscribe",value:function(){var t=this._getEventNames();w.a.off(this._handle,t.startEventName),w.a.off(this._handle,t.updateEventName),w.a.off(this._handle,t.endEventName)}},{key:"_getEventNames",value:function(){return{startEventName:Object(k.a)(P.e,"overlayDrag"),updateEventName:Object(k.a)(P.d,"overlayDrag"),endEventName:Object(k.a)(P.a,"overlayDrag")}}},{key:"_dragStartHandler",value:function(t){var e=this._getAllowedOffsets();this._prevOffset={x:0,y:0},t.targetElements=[],t.maxTopOffset=e.top,t.maxBottomOffset=e.bottom,t.maxLeftOffset=e.left,t.maxRightOffset=e.right}},{key:"_dragUpdateHandler",value:function(t){var e={top:t.offset.y-this._prevOffset.y,left:t.offset.x-this._prevOffset.x};this._moveByOffset(e),this._prevOffset=t.offset}},{key:"_dragEndHandler",value:function(t){this._positionController.dragHandled(),this._positionController.detectVisualPositionChange(t)}},{key:"_moveTo",value:function(t,e,n){if(this._dragEnabled){n.preventDefault(),n.stopPropagation();var i=this._fitOffsetIntoAllowedRange(t,e);this._moveByOffset(i),this._dragEndHandler(n)}}},{key:"_fitOffsetIntoAllowedRange",value:function(t,e){var n=this._getAllowedOffsets();return{top:Object(S.b)(t,-n.top,n.bottom),left:Object(S.b)(e,-n.left,n.right)}}},{key:"_getContainerDimensions",value:function(){var t=x.a.getDocument(),e=this._positionController.$dragResizeContainer.get(0),n=Object(p.h)(e),i=Object(p.g)(e);return Object(m.p)(e)&&(i=Math.max(t.body.clientHeight,i),n=Math.max(t.body.clientWidth,n)),{width:n,height:i}}},{key:"_getContainerPosition",value:function(){var t=this._positionController.$dragResizeContainer.get(0);return Object(m.p)(t)?{top:0,left:0}:Object(p.f)(t)}},{key:"_getElementPosition",value:function(){return Object(p.f)(this._draggableElement)}},{key:"_getInnerDelta",value:function(){var t=this._getContainerDimensions(),e=this._getElementDimensions();return{x:t.width-e.width,y:t.height-e.height}}},{key:"_getOuterDelta",value:function(){var t=this._getElementDimensions(),e=t.width,n=t.height,i=this._positionController.outsideDragFactor;return{x:e*i,y:n*i}}},{key:"_getFullDelta",value:function(){var t=this._getInnerDelta(),e=this._getOuterDelta();return{x:t.x+e.x,y:t.y+e.y}}},{key:"_getElementDimensions",value:function(){return{width:this._draggableElement.offsetWidth,height:this._draggableElement.offsetHeight}}},{key:"_getAllowedOffsets",value:function(){var t=this._getFullDelta();if(!(t.y>=0&&t.x>=0))return{top:0,bottom:0,left:0,right:0};var e=this._getElementPosition(),n=this._getContainerPosition(),i=this._getOuterDelta();return{top:e.top-n.top+i.y,bottom:-e.top+n.top+t.y,left:e.left-n.left+i.x,right:-e.left+n.left+t.x}}},{key:"_moveByOffset",value:function(t){var e=Object(O.d)(this._draggableElement),n={left:e.left+t.left,top:e.top+t.top};Object(O.e)(this._draggableElement,n)}}]),t}(),T=n(207),I=n(65),j=n(115),M=n(47),D=(n(221),n(104)),A=n(100),R=n(19),B=n(14),L=n(6),N=n(18),z=n(24),F=n(61),H=n(91),V=n(144),U=["fullScreen","forceApplyBindings","dragOutsideBoundary","dragAndResizeArea","outsideDragFactor"],W=Object(v.d)(),K=function(t){function e(t){var n;Object(b.a)(this,e);var i=t.fullScreen,o=t.forceApplyBindings,r=t.dragOutsideBoundary,a=t.dragAndResizeArea,s=t.outsideDragFactor,l=Object(F.a)(t,U);return(n=Object(R.a)(this,Object(L.a)(e).call(this,l)))._props=Object(z.a)({},n._props,{fullScreen:i,forceApplyBindings:o,dragOutsideBoundary:r,dragAndResizeArea:a,outsideDragFactor:s}),n._$dragResizeContainer=void 0,n._outsideDragFactor=void 0,n._lastPositionBeforeFullScreen=void 0,n._updateDragResizeContainer(),n._updateOutsideDragFactor(),n}return Object(N.a)(e,t),Object(C.a)(e,[{key:"updateContainer",value:function(t){Object(B.a)(Object(L.a)(e.prototype),"updateContainer",this).call(this,t),this._updateDragResizeContainer()}},{key:"dragHandled",value:function(){this.restorePositionOnNextRender(!1)}},{key:"resizeHandled",value:function(){this.restorePositionOnNextRender(!1)}},{key:"positionContent",value:function(){var t,n;this._props.fullScreen?(Object(O.e)(this._$content,{top:0,left:0}),this.detectVisualPositionChange()):(null===(t=(n=this._props).forceApplyBindings)||void 0===t||t.call(n),!this._shouldRenderContentInitialPosition&&this._lastPositionBeforeFullScreen?(Object(O.e)(this._$content,this._lastPositionBeforeFullScreen),this._lastPositionBeforeFullScreen=void 0,this.detectVisualPositionChange()):Object(B.a)(Object(L.a)(e.prototype),"positionContent",this).call(this))}},{key:"_updateOutsideDragFactor",value:function(){this._outsideDragFactor=this._getOutsideDragFactor()}},{key:"_getOutsideDragFactor",value:function(){return this._props.dragOutsideBoundary?1:this._props.outsideDragFactor}},{key:"_updateDragResizeContainer",value:function(){this._$dragResizeContainer=this._getDragResizeContainer()}},{key:"_getDragResizeContainer",value:function(){return this._props.dragOutsideBoundary?Object(a.a)(W):this._props.dragAndResizeArea?Object(a.a)(this._props.dragAndResizeArea):Object(H.b)().get(0)||this._props.container?this._$markupContainer:Object(a.a)(W)}},{key:"_getVisualContainer",value:function(){return this._props.fullScreen?Object(a.a)(W):Object(B.a)(Object(L.a)(e.prototype),"_getVisualContainer",this).call(this)}},{key:"_fullScreenEnabled",value:function(){this.restorePositionOnNextRender(!1),this._lastPositionBeforeFullScreen=this._visualPosition}},{key:"_fullScreenDisabled",value:function(){this.restorePositionOnNextRender(!1)}},{key:"fullScreen",set:function(t){this._props.fullScreen=t,t?this._fullScreenEnabled():this._fullScreenDisabled()}},{key:"$dragResizeContainer",get:function(){return this._$dragResizeContainer}},{key:"outsideDragFactor",get:function(){return this._outsideDragFactor},set:function(t){this._props.outsideDragFactor=t,this._updateOutsideDragFactor()}},{key:"dragAndResizeArea",set:function(t){this._props.dragAndResizeArea=t,this._updateDragResizeContainer()}},{key:"dragOutsideBoundary",set:function(t){this._props.dragOutsideBoundary=t,this._updateDragResizeContainer(),this._updateOutsideDragFactor()}}]),e}(V.b),$=Object(v.d)(),G=["cancel","clear","done"],q=l.a.safari&&Object(g.a)(l.a.version,[11])<0,Z={static:"",inherit:"dx-popup-inherit-height",flex:"dx-popup-flex-height"},Y=j.a.inherit({_supportedKeys:function(){var t=this;return Object(u.a)(this.callBase(),{upArrow:function(e){var n;null===(n=t._drag)||void 0===n||n.moveUp(e)},downArrow:function(e){var n;null===(n=t._drag)||void 0===n||n.moveDown(e)},leftArrow:function(e){var n;null===(n=t._drag)||void 0===n||n.moveLeft(e)},rightArrow:function(e){var n;null===(n=t._drag)||void 0===n||n.moveRight(e)}})},_getDefaultOptions:function(){return Object(u.a)(this.callBase(),{fullScreen:!1,title:"",showTitle:!0,titleTemplate:"title",onTitleRendered:null,dragOutsideBoundary:!1,dragEnabled:!1,dragAndResizeArea:void 0,outsideDragFactor:0,onResizeStart:null,onResize:null,onResizeEnd:null,resizeEnabled:!1,toolbarItems:[],showCloseButton:!1,bottomTemplate:"bottom",useDefaultToolbarButtons:!1,useFlatToolbarButtons:!1,autoResizeEnabled:!0})},_defaultOptionsRules:function(){var t=Object(M.a)();return this.callBase().concat([{device:{platform:"ios"},options:{animation:this._iosAnimation}},{device:{platform:"android"},options:{animation:this._androidAnimation}},{device:{platform:"generic"},options:{showCloseButton:!0}},{device:function(t){return"desktop"===o.a.real().deviceType&&"generic"===t.platform},options:{dragEnabled:!0}},{device:function(){return"desktop"===o.a.real().deviceType&&!o.a.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return Object(M.d)(t)},options:{useDefaultToolbarButtons:!0,useFlatToolbarButtons:!0,showCloseButton:!1}}])},_iosAnimation:{show:{type:"slide",duration:400,from:{position:{my:"top",at:"bottom"}},to:{position:{my:"center",at:"center"}}},hide:{type:"slide",duration:400,from:{opacity:1,position:{my:"center",at:"center"}},to:{opacity:1,position:{my:"top",at:"bottom"}}}},_androidAnimation:function(){return this.option("fullScreen")?{show:{type:"slide",duration:300,from:{top:"30%",opacity:0},to:{top:0,opacity:1}},hide:{type:"slide",duration:300,from:{top:0,opacity:1},to:{top:"30%",opacity:0}}}:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}}},_init:function(){var t=this.option("_wrapperClassExternal"),e=t?"".concat("dx-popup-wrapper"," ").concat(t):"dx-popup-wrapper";this.callBase(),this._updateResizeCallbackSkipCondition(),this.$element().addClass("dx-popup"),this.$wrapper().addClass(e),this._$popupContent=this._$content.wrapInner(Object(a.a)("<div>").addClass("dx-popup-content")).children().eq(0)},_render:function(){var t=this.option("fullScreen");this._toggleFullScreenClass(t),this.callBase()},_toggleFullScreenClass:function(t){this.$overlayContent().toggleClass("dx-popup-fullscreen",t).toggleClass("dx-popup-normal",!t)},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({title:new s.a,bottom:new s.a})},_getActionsList:function(){return this.callBase().concat(["onResizeStart","onResize","onResizeEnd"])},_contentResizeHandler:function(t){this._shouldSkipContentResize(t)||this._renderGeometry({shouldOnlyReposition:!0})},_doesShowAnimationChangeDimensions:function(){var t=this.option("animation");return["to","from"].some(function(e){var n,i=null===t||void 0===t?void 0:null===(n=t.show)||void 0===n?void 0:n[e];return Object(m.j)(i)&&("width"in i||"height"in i)})},_updateResizeCallbackSkipCondition:function(){var t=this,e=this._doesShowAnimationChangeDimensions();this._shouldSkipContentResize=function(n){return e&&t._showAnimationProcessing||t._areContentDimensionsRendered(n)}},_observeContentResize:function(t){var e=this;if(this.option("useResizeObserver")){var n=this._$content.get(0);t?D.a.observe(n,function(t){e._contentResizeHandler(t)}):D.a.unobserve(n)}},_areContentDimensionsRendered:function(t){var e,n,i,o,r,a=null===(e=t.contentBoxSize)||void 0===e?void 0:e[0];if(a)return parseInt(a.inlineSize,10)===(null===(o=this._renderedDimensions)||void 0===o?void 0:o.width)&&parseInt(a.blockSize,10)===(null===(r=this._renderedDimensions)||void 0===r?void 0:r.height);var s=t.contentRect;return parseInt(s.width,10)===(null===(n=this._renderedDimensions)||void 0===n?void 0:n.width)&&parseInt(s.height,10)===(null===(i=this._renderedDimensions)||void 0===i?void 0:i.height)},_renderContent:function(){this.callBase(),this._observeContentResize(!0)},_renderContentImpl:function(){this._renderTitle(),this.callBase(),this._renderResize(),this._renderBottom()},_renderTitle:function(){var t=this._getToolbarItems("top"),e=this.option("title"),n=this.option("showTitle");if(n&&e&&t.unshift({location:o.a.current().ios?"center":"before",text:e}),n||t.length>0){this._$title&&this._$title.remove();var i=Object(a.a)("<div>").addClass("dx-popup-title").insertBefore(this.$content());this._$title=this._renderTemplateByType("titleTemplate",t,i).addClass("dx-popup-title"),this._renderDrag(),this._executeTitleRenderAction(this._$title),this._$title.toggleClass("dx-has-close-button",this._hasCloseButton())}else this._$title&&this._$title.detach()},_renderTemplateByType:function(t,e,n,i){var o=this.option(),l=o.rtlEnabled,c=o.useDefaultToolbarButtons,h=o.useFlatToolbarButtons,d=o.disabled,p=this._getTemplateByOption(t);if(p instanceof s.a){var f=Object(u.a)({},this.option("integrationOptions"),{skipTemplates:["content","title"]}),m=Object(u.a)(i,{items:e,rtlEnabled:l,useDefaultButtons:c,useFlatButtons:h,disabled:d,integrationOptions:f});this._getTemplate("dx-polymorph-widget").render({container:n,model:{widget:this._getToolbarName(),options:m}});var g=n.children("div");return n.replaceWith(g),g}var v=Object(a.a)(p.render({container:Object(r.a)(n)}));return v.hasClass("dx-template-wrapper")&&(n.replaceWith(v),n=v),n},_getToolbarName:function(){return"dxToolbarBase"},_renderVisibilityAnimate:function(t){return this.callBase(t)},_hide:function(){return this._observeContentResize(!1),this.callBase()},_executeTitleRenderAction:function(t){this._getTitleRenderAction()({titleElement:Object(r.a)(t)})},_getTitleRenderAction:function(){return this._titleRenderAction||this._createTitleRenderAction()},_createTitleRenderAction:function(){return this._titleRenderAction=this._createActionByOption("onTitleRendered",{element:this.element(),excludeValidators:["disabled","readOnly"]})},_getCloseButton:function(){return{toolbar:"top",location:"after",template:this._getCloseButtonRenderer()}},_getCloseButtonRenderer:function(){var t=this;return function(e,n,i){var o=Object(a.a)("<div>").addClass("dx-closebutton");t._createComponent(o,I.default,{icon:"close",onClick:t._createToolbarItemAction(void 0),stylingMode:"text",integrationOptions:{}}),Object(a.a)(i).append(o)}},_getToolbarItems:function(t){var e=this,n=this.option("toolbarItems"),i=[];this._toolbarItemClasses=[];var r=o.a.current().platform,a=0;return Object(d.a)(n,function(n,s){var l=Object(m.d)(s.shortcut),c=l?function(t){var e=o.a.current().platform,n="bottom",i="before";if("ios"===e)switch(t){case"cancel":n="top";break;case"clear":n="top",i="after";break;case"done":i="after"}else if("android"===e)switch(t){case"cancel":case"done":i="after"}return{toolbar:n,location:i}}(s.shortcut):s;if(l&&"ios"===r&&a<2&&(c.toolbar="top",a++),c.toolbar=s.toolbar||c.toolbar||"top",c&&c.toolbar===t){l&&Object(u.a)(c,{location:s.location},e._getToolbarItemByAlias(s));var h="generic"===r;"done"===s.shortcut&&h||"cancel"===s.shortcut&&!h?i.unshift(c):i.push(c)}}),"top"===t&&this._hasCloseButton()&&i.push(this._getCloseButton()),i},_hasCloseButton:function(){return this.option("showCloseButton")&&this.option("showTitle")},_getLocalizationKey:function(t){return"done"===t.toLowerCase()?"OK":Object(h.a)(t,!0)},_getToolbarItemByAlias:function(t){var e=this,n=t.shortcut;if(!G.includes(n))return!1;var i=Object(u.a)({text:_.a.format(this._getLocalizationKey(n)),onClick:this._createToolbarItemAction(t.onClick),integrationOptions:{},type:e.option("useDefaultToolbarButtons")?"default":"normal",stylingMode:e.option("useFlatToolbarButtons")?"text":"contained"},t.options||{}),o="dx-popup-"+n;return this._toolbarItemClasses.push(o),{template:function(t,n,r){var s=Object(a.a)("<div>").addClass(o).appendTo(r);e._createComponent(s,I.default,i)}}},_createToolbarItemAction:function(t){return this._createAction(t,{afterExecute:function(t){t.component.hide()}})},_renderBottom:function(){var t=this._getToolbarItems("bottom");if(t.length){this._$bottom&&this._$bottom.remove();var e=Object(a.a)("<div>").addClass("dx-popup-bottom").insertAfter(this.$content());this._$bottom=this._renderTemplateByType("bottomTemplate",t,e,{compactMode:!0}).addClass("dx-popup-bottom"),this._toggleClasses()}else this._$bottom&&this._$bottom.detach()},_toggleDisabledState:function(t){this.callBase.apply(this,arguments),this.$content().toggleClass("dx-state-disabled",Boolean(t))},_toggleClasses:function(){var t=this,e=G;Object(d.a)(e,function(e,n){var i="dx-popup-"+n;t._toolbarItemClasses.includes(i)?(t.$wrapper().addClass(i+"-visible"),t._$bottom.addClass(i)):(t.$wrapper().removeClass(i+"-visible"),t._$bottom.removeClass(i))})},_toggleFocusClass:function(t,e){if(this.callBase(t,e),t&&!A.c(this._zIndex)){var n=A.b(this._zIndexInitValue());A.d(this._zIndex),this._zIndex=n,this._$wrapper.css("zIndex",n),this._$content.css("zIndex",n)}},_getPositionControllerConfig:function(){var t=this.option(),e=t.fullScreen,n=t.forceApplyBindings,i=t.dragOutsideBoundary,o=t.dragAndResizeArea,r=t.outsideDragFactor;return Object(u.a)({},this.callBase(),{fullScreen:e,forceApplyBindings:n,dragOutsideBoundary:i,dragAndResizeArea:o,outsideDragFactor:r})},_initPositionController:function(){this._positionController=new K(this._getPositionControllerConfig())},_getDragTarget:function(){return this.topToolbar()},_renderGeometry:function(t){var e=this.option(),n=e.visible,i=e.useResizeObserver;if(n&&Object(v.f)()){var o=this._showAnimationProcessing&&!(null!==t&&void 0!==t&&t.forceStopAnimation)&&i;this._isAnimationPaused=o||void 0,this._stopAnimation(),null!==t&&void 0!==t&&t.shouldOnlyReposition?this._renderPosition(!1):this._renderGeometryImpl(null===t||void 0===t?void 0:t.isDimensionChange),o&&(this._animateShowing(),this._isAnimationPaused=void 0)}},_cacheDimensions:function(){this.option("useResizeObserver")&&(this._renderedDimensions={width:parseInt(Object(p.k)(this._$content),10),height:parseInt(Object(p.c)(this._$content),10)})},_renderGeometryImpl:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this._resetContentHeight(),this.callBase(),this._cacheDimensions(),this._setContentHeight()},_resetContentHeight:function(){"auto"===this._getOptionValue("height")&&this.$content().css({height:"auto",maxHeight:"none"})},_renderDrag:function(){var t=this._getDragTarget(),e=this.option("dragEnabled");if(t){var n={dragEnabled:e,handle:t.get(0),draggableElement:this._$content.get(0),positionController:this._positionController};this._drag?this._drag.init(n):this._drag=new E(n),this.$overlayContent().toggleClass("dx-popup-draggable",e)}},_renderResize:function(){var t=this;this._resizable=this._createComponent(this._$content,T.a,{handles:this.option("resizeEnabled")?"all":"none",onResizeEnd:function(e){t._resizeEndHandler(e),t._observeContentResize(!0)},onResize:function(e){t._setContentHeight(),t._actions.onResize(e)},onResizeStart:function(e){t._observeContentResize(!1),t._actions.onResizeStart(e)},minHeight:100,minWidth:100,area:this._positionController.$dragResizeContainer,keepAspectRatio:!1})},_resizeEndHandler:function(t){var e=this._resizable.option("width"),n=this._resizable.option("height");e&&this._setOptionWithoutOptionChange("width",e),n&&this._setOptionWithoutOptionChange("height",n),this._cacheDimensions(),this._positionController.resizeHandled(),this._positionController.detectVisualPositionChange(t.event),this._actions.onResizeEnd(t)},_setContentHeight:function(){(this.option("forceApplyBindings")||c.noop)();var t=this.$overlayContent().get(0),e=this._chooseHeightStrategy(t);this.$content().css(this._getHeightCssStyles(e,t)),this._setHeightClasses(this.$overlayContent(),e)},_heightStrategyChangeOffset:function(t,e){return t===Z.flex?-e:0},_chooseHeightStrategy:function(t){var e="auto"===t.style.width||""===t.style.width,n=Z.static;return this._isAutoHeight()&&this.option("autoResizeEnabled")&&(n=e||q?Z.inherit:Z.flex),n},_getHeightCssStyles:function(t,e){var n={},i=this._getOptionValue("maxHeight",e),o=this._getOptionValue("minHeight",e),r=this._splitPopupHeight(),s=r.header+r.footer+r.contentVerticalOffsets+r.popupVerticalOffsets+this._heightStrategyChangeOffset(t,r.popupVerticalPaddings);if(t===Z.static){if(!this._isAutoHeight()||i||o){var l=(this.option("fullScreen")?Math.min(Object(f.a)(e).height,Object(v.d)().innerHeight):Object(f.a)(e).height)-s;n={height:Math.max(0,l),minHeight:"auto",maxHeight:"auto"}}}else{var c=Object(a.a)(this._positionController.$visualContainer).get(0),u=Object(p.a)(i,-s,c);n={height:"auto",minHeight:Object(p.b)(o,-s,c),maxHeight:u}}return n},_setHeightClasses:function(t,e){var n="";for(var i in Z)Z[i]!==e&&(n+=" "+Z[i]);t.removeClass(n).addClass(e)},_isAutoHeight:function(){return"auto"===this.$overlayContent().get(0).style.height},_splitPopupHeight:function(){var t=this.topToolbar(),e=this.bottomToolbar();return{header:Object(p.j)(t&&t.get(0)),footer:Object(p.j)(e&&e.get(0)),contentVerticalOffsets:Object(p.i)(this.$overlayContent().get(0),!0),popupVerticalOffsets:Object(p.i)(this.$content().get(0),!0),popupVerticalPaddings:Object(p.i)(this.$content().get(0),!1)}},_isAllWindowCovered:function(){return this.callBase()||this.option("fullScreen")},_renderDimensions:function(){this.option("fullScreen")?this.$overlayContent().css({width:"100%",height:"100%",minWidth:"",maxWidth:"",minHeight:"",maxHeight:""}):this.callBase(),Object(v.f)()&&this._renderFullscreenWidthClass()},_dimensionChanged:function(){this._renderGeometry({isDimensionChange:!0})},_clean:function(){this.callBase(),this._observeContentResize(!1)},_renderFullscreenWidthClass:function(){this.$overlayContent().toggleClass("dx-popup-fullscreen-width",Object(p.h)(this.$overlayContent())===Object(p.k)($))},refreshPosition:function(){this._renderPosition()},_optionChanged:function(t){var e,n=t.value;switch(t.name){case"disabled":this.callBase(t),this._renderTitle(),this._renderBottom();break;case"animation":this._updateResizeCallbackSkipCondition();break;case"showTitle":case"title":case"titleTemplate":this._renderTitle(),this._renderGeometry(),Object(y.b)(this.$overlayContent());break;case"bottomTemplate":this._renderBottom(),this._renderGeometry(),Object(y.b)(this.$overlayContent());break;case"container":var i;if(this.callBase(t),this.option("resizeEnabled"))null===(i=this._resizable)||void 0===i||i.option("area",this._positionController.$dragResizeContainer);break;case"width":case"height":this.callBase(t),null===(e=this._resizable)||void 0===e||e.option(t.name,t.value);break;case"onTitleRendered":this._createTitleRenderAction(t.value);break;case"toolbarItems":case"useDefaultToolbarButtons":case"useFlatToolbarButtons":var o=!t.fullName.match(/^toolbarItems((\[\d+\])(\.(options|visible).*)?)?$/);this._renderTitle(),this._renderBottom(),o&&(this._renderGeometry(),Object(y.b)(this.$overlayContent()));break;case"dragEnabled":this._renderDrag();break;case"dragAndResizeArea":this._positionController.dragAndResizeArea=n,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer),this._positionController.positionContent();break;case"dragOutsideBoundary":this._positionController.dragOutsideBoundary=n,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer);break;case"outsideDragFactor":this._positionController.outsideDragFactor=n;break;case"resizeEnabled":this._renderResize(),this._renderGeometry();break;case"autoResizeEnabled":this._renderGeometry(),Object(y.b)(this.$overlayContent());break;case"fullScreen":this._positionController.fullScreen=t.value,this._toggleFullScreenClass(t.value),this._toggleSafariScrolling(),this._renderGeometry(),Object(y.b)(this.$overlayContent());break;case"showCloseButton":this._renderTitle();break;default:this.callBase(t)}},bottomToolbar:function(){return this._$bottom},topToolbar:function(){return this._$title},$content:function(){return this._$popupContent},content:function(){return Object(r.a)(this.$content())},$overlayContent:function(){return this._$content}});Object(i.a)("dxPopup",Y);e.a=Y},function(t,e,n){"use strict";var i=n(11),o=n(57),r=n(26),a=n(20),s=n(17),l=n(33),c=n(2),u=n(96),h=n(5),d=n(16),p=n(48),f=n(3),m=n(9),g=n(75),v=n(1),y=n(91),_=n(15),b=n(38),C=n(42),O=n(7),x=n(90),S=n(44),w=n(63),P=n(10),k=n(80),E=function(){var t=[];return{add:function(e){t.includes(e)||t.push(e)},remove:function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},fire:function(){var e=t.pop(),n=!!e;return n&&e(),n},hasCallback:function(){return t.length>0}}}(),T=n(83),I=n(52),j=n(72),M=n(100),D=n(144),A=g.a.add,R=Object(_.d)(),B=y.a,L=[];A(function(){O.a.subscribeGlobal(s.a.getDocument(),S.a.down,function(t){for(var e=L.length-1;e>=0;e--)if(!L[e]._proxiedDocumentDownHandler(t))return})});var N=I.a.inherit({_supportedKeys:function(){return Object(f.a)(this.callBase(),{escape:function(){this.hide()}})},_getDefaultOptions:function(){var t=this;return Object(f.a)(this.callBase(),{activeStateEnabled:!1,visible:!1,deferRendering:!0,shading:!0,shadingColor:"",wrapperAttr:{},position:Object(f.a)({},D.a.center),width:"80vw",minWidth:null,maxWidth:null,height:"80vh",minHeight:null,maxHeight:null,animation:{show:{type:"pop",duration:300,from:{scale:.55}},hide:{type:"pop",duration:300,from:{opacity:1,scale:1},to:{opacity:0,scale:.55}}},closeOnOutsideClick:!1,hideOnOutsideClick:!1,copyRootClassesToWrapper:!1,_ignoreCopyRootClassesToWrapperDeprecation:!1,_ignoreElementAttrDeprecation:!1,onShowing:null,onShown:null,onHiding:null,onHidden:null,contentTemplate:"content",innerOverlay:!1,restorePosition:!0,container:void 0,visualContainer:void 0,hideTopOverlayHandler:function(){t.hide()},hideOnParentScroll:!1,onPositioned:null,propagateOutsideClick:!1,ignoreChildEvents:!0,_checkParentVisibility:!0,_fixWrapperPosition:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!Object(_.f)()},options:{width:null,height:null,animation:null,_checkParentVisibility:!1}}])},_setOptionsByReference:function(){this.callBase(),Object(f.a)(this._optionsByReference,{animation:!0})},$wrapper:function(){return this._$wrapper},_eventBindingTarget:function(){return this._$content},_setDeprecatedOptions:function(){this.callBase(),Object(f.a)(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.1",alias:"hideOnOutsideClick"}})},ctor:function(t,e){this.callBase(t,e),e&&(e.copyRootClassesToWrapper&&!e._ignoreCopyRootClassesToWrapperDeprecation&&this._logDeprecatedOptionWarning("copyRootClassesToWrapper",{since:"21.2",message:'Use the "wrapperAttr" option instead'}),e.elementAttr&&!e._ignoreElementAttrDeprecation&&this._logDeprecatedOptionWarning("elementAttr",{since:"21.2",message:'Use the "wrapperAttr" option instead'}))},_init:function(){var t=this;this.callBase(),this._initActions(),this._initHideOnOutsideClickHandler(),this._initTabTerminatorHandler(),this._customWrapperClass=null,this._$wrapper=Object(c.a)("<div>").addClass("dx-overlay-wrapper"),this._$content=Object(c.a)("<div>").addClass("dx-overlay-content"),this._initInnerOverlayClass();var e=this.$element();this.option("copyRootClassesToWrapper")&&this._$wrapper.addClass(e.attr("class")),e.addClass("dx-overlay"),this._$wrapper.attr("data-bind","dxControlsDescendantBindings: true"),this._toggleViewPortSubscription(!0),this._initHideTopOverlayHandler(this.option("hideTopOverlayHandler")),this._parentsScrollSubscriptionInfo={handler:function(e){t._hideOnParentsScrollHandler(e)}},this.warnPositionAsFunction()},warnPositionAsFunction:function(){Object(v.h)(this.option("position"))&&b.a.log("W0018")},_initInnerOverlayClass:function(){this._$content.toggleClass("dx-inner-overlay",this.option("innerOverlay"))},_initHideTopOverlayHandler:function(t){this._hideTopOverlayHandler=t},_getActionsList:function(){return["onShowing","onShown","onHiding","onHidden","onPositioned","onVisualPositionChanged"]},_initActions:function(){var t=this;this._actions={};var e=this._getActionsList();Object(m.a)(e,function(e,n){t._actions[n]=t._createActionByOption(n,{excludeValidators:["disabled","readOnly"]})||h.noop})},_initHideOnOutsideClickHandler:function(){var t=this;this._proxiedDocumentDownHandler=function(){return t._documentDownHandler.apply(t,arguments)}},_initMarkup:function(){this.callBase(),this._renderWrapperAttributes(),this._initPositionController()},_documentDownHandler:function(t){this._showAnimationProcessing&&this._stopAnimation();var e=Object(c.a)(R.document).is(t.target)||Object(p.c)(R.document,t.target)||Object(p.c)(R.document,t.target.getRootNode().host),n=Object(c.a)(t.target).closest(".".concat("dx-inner-overlay")).length;return e&&!n&&!(this._$content.is(t.target)||Object(p.c)(this._$content.get(0),t.target))&&this._shouldHideOnOutsideClick(t)&&this._outsideClickHandler(t),this.option("propagateOutsideClick")},_shouldHideOnOutsideClick:function(t){var e=this.option().hideOnOutsideClick;return Object(v.h)(e)?e(t):e},_outsideClickHandler:function(t){this.option("shading")&&t.preventDefault(),this.hide()},_getAnonymousTemplateName:function(){return"content"},_initTemplates:function(){this._templateManager.addDefaultTemplates({content:new u.a}),this.callBase()},_isTopOverlay:function(){for(var t=this._overlayStack(),e=t.length-1;e>=0;e--){var n=t[e]._findTabbableBounds();if(n.first||n.last)return t[e]===this}return!1},_overlayStack:function(){return L},_zIndexInitValue:function(){return N.baseZIndex()},_toggleViewPortSubscription:function(t){var e=this;B.remove(this._viewPortChangeHandle),t&&(this._viewPortChangeHandle=function(){e._viewPortChangeHandler.apply(e,arguments)},B.add(this._viewPortChangeHandle))},_viewPortChangeHandler:function(){this._positionController.updateContainer(this.option("container")),this._refresh()},_renderWrapperAttributes:function(){var t=this.option().wrapperAttr,e=Object(f.a)({},t),n=e.class;delete e.class,this.$wrapper().attr(e).removeClass(this._customWrapperClass).addClass(n),this._customWrapperClass=n},_renderVisibilityAnimate:function(t){return this._stopAnimation(),t?this._show():this._hide()},_getAnimationConfig:function(){return this._getOptionValue("animation",this)},_animateShowing:function(){var t,e,n,i=this,o=null!==(t=this._getAnimationConfig())&&void 0!==t?t:{},r=this._normalizeAnimation(o.show,"to"),a=null!==(e=null===r||void 0===r?void 0:r.start)&&void 0!==e?e:h.noop,s=null!==(n=null===r||void 0===r?void 0:r.complete)&&void 0!==n?n:h.noop;this._animate(r,function(){if(!i._isAnimationPaused){i.option("focusStateEnabled")&&O.a.trigger(i._focusTarget(),"focus");for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];s.call.apply(s,[i].concat(e)),i._showAnimationProcessing=!1,i._isHidden=!1,i._actions.onShown(),i._toggleSafariScrolling(),i._showingDeferred.resolve()}},function(){if(!i._isAnimationPaused){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];a.call.apply(a,[i].concat(e)),i._showAnimationProcessing=!0}})},_processShowingHidingCancel:function(t,e,n){Object(v.m)(t)?t.then(function(t){t?n():e()}).catch(function(){return e()}):t?n():e()},_show:function(){var t=this;if(this._showingDeferred=new d.a,this._parentHidden=this._isParentHidden(),this._showingDeferred.done(function(){delete t._parentHidden}),this._parentHidden)return this._isHidden=!0,this._showingDeferred.resolve();if(this._currentVisible)return(new d.a).resolve().promise();if(this._currentVisible=!0,this._isHidingActionCanceled)delete this._isHidingActionCanceled,this._showingDeferred.reject();else{var e=function(){t._stopAnimation(),t._toggleVisibility(!0),t._$content.css("visibility","hidden"),t._$content.toggleClass("dx-state-invisible",!1),t._updateZIndexStackPosition(!0),t._positionController.openingHandled(),t._renderContent();var e={cancel:!1};t._actions.onShowing(e),t._processShowingHidingCancel(e.cancel,function(){t._$content.css("visibility",""),t._renderVisibility(!0),t._animateShowing()},function(){t._toggleVisibility(!1),t._$content.css("visibility",""),t._$content.toggleClass("dx-state-invisible",!0),t._isShowingActionCanceled=!0,t._moveFromContainer(),t.option("visible",!1),t._showingDeferred.resolve()})};this.option("templatesRenderAsynchronously")?(this._stopShowTimer(),this._asyncShowTimeout=setTimeout(e)):e()}return this._showingDeferred.promise()},_normalizeAnimation:function(t,e){return t&&(t=Object(f.a)({type:"slide",skipElementInitialStyles:!0},t),Object(v.j)(t[e])&&Object(f.a)(t[e],{position:this._positionController.position})),t},_animateHiding:function(){var t,e,n,i=this,o=null!==(t=this._getAnimationConfig())&&void 0!==t?t:{},r=this._normalizeAnimation(o.hide,"from"),a=null!==(e=null===r||void 0===r?void 0:r.start)&&void 0!==e?e:h.noop,s=null!==(n=null===r||void 0===r?void 0:r.complete)&&void 0!==n?n:h.noop;this._animate(r,function(){var t;i._$content.css("pointerEvents",""),i._renderVisibility(!1);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];s.call.apply(s,[i].concat(n)),i._hideAnimationProcessing=!1,null===(t=i._actions)||void 0===t||t.onHidden(),i._hidingDeferred.resolve()},function(){i._$content.css("pointerEvents","none");for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];a.call.apply(a,[i].concat(e)),i._hideAnimationProcessing=!0})},_hide:function(){var t=this;if(!this._currentVisible)return(new d.a).resolve().promise();this._currentVisible=!1,this._hidingDeferred=new d.a;var e={cancel:!1};return this._isShowingActionCanceled?(delete this._isShowingActionCanceled,this._hidingDeferred.reject()):(this._actions.onHiding(e),this._toggleSafariScrolling(),this._processShowingHidingCancel(e.cancel,function(){t._forceFocusLost(),t._toggleShading(!1),t._toggleSubscriptions(!1),t._stopShowTimer(),t._animateHiding()},function(){t._isHidingActionCanceled=!0,t.option("visible",!0),t._hidingDeferred.resolve()})),this._hidingDeferred.promise()},_forceFocusLost:function(){var t=s.a.getActiveElement();!!this._$content.find(t).length&&Object(p.h)()},_animate:function(t,e,n){t?(n=n||t.start||h.noop,o.a.animate(this._$content,Object(f.a)({},t,{start:n,complete:e}))):e()},_stopAnimation:function(){o.a.stop(this._$content,!0)},_renderVisibility:function(t){t&&this._isParentHidden()||(this._currentVisible=t,this._stopAnimation(),t||Object(k.a)(this._$content),t?(this._checkContainerExists(),this._moveToContainer(),this._renderGeometry(),Object(k.c)(this._$content),Object(k.b)(this._$content)):(this._toggleVisibility(t),this._$content.toggleClass("dx-state-invisible",!t),this._updateZIndexStackPosition(t),this._moveFromContainer()),this._toggleShading(t),this._toggleSubscriptions(t))},_updateZIndexStackPosition:function(t){var e=this._overlayStack(),n=e.indexOf(this);t?(-1===n&&(this._zIndex=M.b(this._zIndexInitValue()),e.push(this)),this._$wrapper.css("zIndex",this._zIndex),this._$content.css("zIndex",this._zIndex)):-1!==n&&(e.splice(n,1),M.d(this._zIndex))},_toggleShading:function(t){this._$wrapper.toggleClass("dx-overlay-shader",t&&this.option("shading")),this._$wrapper.css("backgroundColor",this.option("shading")?this.option("shadingColor"):""),this._toggleTabTerminator(t&&this.option("shading"))},_initTabTerminatorHandler:function(){var t=this;this._proxiedTabTerminatorHandler=function(){t._tabKeyHandler.apply(t,arguments)}},_toggleTabTerminator:function(t){var e=Object(P.a)("keydown",this.NAME);t?O.a.on(s.a.getDocument(),e,this._proxiedTabTerminatorHandler):O.a.off(s.a.getDocument(),e,this._proxiedTabTerminatorHandler)},_findTabbableBounds:function(){for(var t=this._$wrapper.find("*"),e=t.length-1,n={first:null,last:null},i=0;i<=e&&(!n.first&&t.eq(i).is(T.c)&&(n.first=t.eq(i)),!n.last&&t.eq(e-i).is(T.c)&&(n.last=t.eq(e-i)),!n.first||!n.last);i++);return n},_tabKeyHandler:function(t){if("tab"===Object(P.n)(t)&&this._isTopOverlay()){var e=this._findTabbableBounds(),n=e.first,i=e.last,o=!t.shiftKey&&t.target===i.get(0),r=t.shiftKey&&t.target===n.get(0),a=0===e.length,s=!Object(p.c)(this._$wrapper.get(0),t.target);if(o||r||a||s){t.preventDefault();var l=t.shiftKey?i:n;O.a.trigger(l,"focusin"),O.a.trigger(l,"focus")}}},_toggleSubscriptions:function(t){Object(_.f)()&&(this._toggleHideTopOverlayCallback(t),this._toggleHideOnParentsScrollSubscription(t))},_toggleHideTopOverlayCallback:function(t){this._hideTopOverlayHandler&&(t?E.add(this._hideTopOverlayHandler):E.remove(this._hideTopOverlayHandler))},_toggleHideOnParentsScrollSubscription:function(t){var e,n=Object(P.a)("scroll",this.NAME),i=null!==(e=this._parentsScrollSubscriptionInfo)&&void 0!==e?e:{},o=i.prevTargets,r=i.handler;O.a.off(o,n,r);var s=this.option("hideOnParentScroll");if(t&&s){var l=this._hideOnParentScrollTarget().parents();"desktop"===a.a.real().deviceType&&(l=l.add(R)),O.a.on(l,n,r),this._parentsScrollSubscriptionInfo.prevTargets=l}},_hideOnParentsScrollHandler:function(t){var e=!1,n=this.option("hideOnParentScroll");Object(v.h)(n)&&(e=n(t)),e||this._showAnimationProcessing||this.hide()},_hideOnParentScrollTarget:function(){return this._$wrapper},_render:function(){this.callBase(),this._appendContentToElement(),this._renderVisibilityAnimate(this.option("visible"))},_appendContentToElement:function(){this._$content.parent().is(this.$element())||this._$content.appendTo(this.$element())},_renderContent:function(){var t=!this._currentVisible&&this.option("deferRendering");this.option("visible")&&this._isParentHidden()?this._isHidden=!0:this._contentAlreadyRendered||t||(this._contentAlreadyRendered=!0,this._appendContentToElement(),this.callBase())},_isParentHidden:function(){if(!this.option("_checkParentVisibility"))return!1;if(void 0!==this._parentHidden)return this._parentHidden;var t=this.$element().parent();if(t.is(":visible"))return!1;var e=!1;return t.add(t.parents()).each(function(){if("none"===Object(c.a)(this).css("display"))return e=!0,!1}),e||!s.a.getBody().contains(t.get(0))},_renderContentImpl:function(){var t=this,e=new d.a,n=this.option("contentTemplate"),i=this._getTemplate(n),o=this._templateManager.anonymousTemplateName===n;return i&&i.render({container:Object(l.a)(this.$content()),noModel:!0,transclude:o,onRendered:function(){e.resolve(),t.option("templatesRenderAsynchronously")&&t._dimensionChanged()}}),this._renderScrollTerminator(),e.done(function(){t.option("visible")&&t._moveToContainer()}),e.promise()},_getPositionControllerConfig:function(){var t=this.option(),e=t.container,n=t.visualContainer,i=t._fixWrapperPosition,o=t.restorePosition;return{container:e,visualContainer:n,$root:this.$element(),$content:this._$content,$wrapper:this._$wrapper,onPositioned:this._actions.onPositioned,onVisualPositionChanged:this._actions.onVisualPositionChanged,restorePosition:o,_fixWrapperPosition:i}},_initPositionController:function(){this._positionController=new D.b(this._getPositionControllerConfig())},_renderScrollTerminator:function(){var t=this._$wrapper,e=Object(P.a)(x.d,this.NAME);O.a.off(t,e),O.a.on(t,e,{validate:function(){return!0},getDirection:function(){return"both"},_toggleGestureCover:function(t){t||this._toggleGestureCoverImpl(t)},_clearSelection:h.noop,isNative:!0},function(t){var e=t.originalEvent.originalEvent,n=(e||{}).type,i="wheel"===n,o="mousemove"===n,r=i&&!Object(P.i)(t);t._cancelPreventDefault=!0,e&&!1!==t.cancelable&&(!o&&!i||r)&&t.preventDefault()})},_moveFromContainer:function(){this._$content.appendTo(this.$element()),this._$wrapper.detach()},_checkContainerExists:function(){this._positionController.$container.length>0||C.a.log("W1021",this.NAME)},_moveToContainer:function(){var t=this._positionController.$container;this._$wrapper.appendTo(t),this._$content.appendTo(this._$wrapper)},_renderGeometry:function(t){this.option().visible&&Object(_.f)()&&(this._stopAnimation(),this._renderGeometryImpl())},_renderGeometryImpl:function(){this._positionController.updatePosition(this._getOptionValue("position")),this._renderWrapper(),this._renderDimensions(),this._renderPosition()},_renderPosition:function(){this._positionController.positionContent()},_isAllWindowCovered:function(){return Object(v.p)(this._positionController.$visualContainer.get(0))&&this.option("shading")},_toggleSafariScrolling:function(){var t=this.option("visible"),e=Object(c.a)(s.a.getBody()),n="ios"===a.a.real().platform&&j.a.safari,i=this._isAllWindowCovered(),o=e.hasClass("dx-prevent-safari-scrolling"),r=!o&&t&&i,l=o&&(!t||!i||this._disposed);n&&(l?(e.removeClass("dx-prevent-safari-scrolling"),R.scrollTo(0,this._cachedBodyScrollTop),this._cachedBodyScrollTop=void 0):r&&(this._cachedBodyScrollTop=R.pageYOffset,e.addClass("dx-prevent-safari-scrolling")))},_renderWrapper:function(){this._positionController.styleWrapperPosition(),this._renderWrapperDimensions(),this._positionController.positionWrapper()},_renderWrapperDimensions:function(){var t=this._positionController.$visualContainer,e=s.a.getDocumentElement(),n=Object(v.p)(t.get(0)),o=n?e.clientWidth:Object(i.h)(t),r=n?R.innerHeight:Object(i.g)(t);this._$wrapper.css({width:o,height:r})},_renderDimensions:function(){var t=this._$content.get(0);this._$content.css({minWidth:this._getOptionValue("minWidth",t),maxWidth:this._getOptionValue("maxWidth",t),minHeight:this._getOptionValue("minHeight",t),maxHeight:this._getOptionValue("maxHeight",t),width:this._getOptionValue("width",t),height:this._getOptionValue("height",t)})},_focusTarget:function(){return this._$content},_attachKeyboardEvents:function(){var t=this;this._keyboardListenerId=w.f.on(this._$content,null,function(e){return t._keyboardHandler(e)})},_keyboardHandler:function(t){var e=t.originalEvent;!Object(c.a)(e.target).is(this._$content)&&this.option("ignoreChildEvents")||this.callBase.apply(this,arguments)},_isVisible:function(){return this.option("visible")},_visibilityChanged:function(t){t?this.option("visible")&&this._renderVisibilityAnimate(t):this._renderVisibilityAnimate(t)},_dimensionChanged:function(){this._renderGeometry()},_clean:function(){var t=this.option();this._contentAlreadyRendered||t.isRenovated||this.$content().empty(),this._renderVisibility(!1),this._stopShowTimer(),this._cleanFocusState()},_stopShowTimer:function(){this._asyncShowTimeout&&clearTimeout(this._asyncShowTimeout),this._asyncShowTimeout=null},_dispose:function(){o.a.stop(this._$content,!1),clearTimeout(this._deferShowTimer),this._toggleViewPortSubscription(!1),this._toggleSubscriptions(!1),this._updateZIndexStackPosition(!1),this._toggleTabTerminator(!1),this._actions=null,this._parentsScrollSubscriptionInfo=null,this.callBase(),this._toggleSafariScrolling(),this.option("visible")&&M.d(this._zIndex),this._$wrapper.remove(),this._$content.remove()},_toggleRTLDirection:function(t){this._$content.toggleClass("dx-rtl",t)},_optionChanged:function(t){var e=this,n=t.value;if(this._getActionsList().includes(t.name))this._initActions();else switch(t.name){case"animation":break;case"shading":this._toggleShading(this.option("visible")),this._toggleSafariScrolling();break;case"shadingColor":this._toggleShading(this.option("visible"));break;case"width":case"height":this._renderGeometry();break;case"minWidth":case"maxWidth":case"minHeight":case"maxHeight":this._renderGeometry();break;case"position":this._positionController.updatePosition(this.option("position")),this._positionController.restorePositionOnNextRender(!0),this._renderGeometry(),this._toggleSafariScrolling();break;case"visible":this._renderVisibilityAnimate(n).done(function(){var t;return null===(t=e._animateDeferred)||void 0===t?void 0:t.resolveWith(e)}).fail(function(){var t;return null===(t=e._animateDeferred)||void 0===t?void 0:t.reject()});break;case"container":this._positionController.updateContainer(n),this._invalidate(),this._toggleSafariScrolling();break;case"visualContainer":this._positionController.updateVisualContainer(n),this._renderWrapper(),this._toggleSafariScrolling();break;case"innerOverlay":this._initInnerOverlayClass();break;case"deferRendering":case"contentTemplate":this._contentAlreadyRendered=!1,this._clean(),this._invalidate();break;case"hideTopOverlayHandler":this._toggleHideTopOverlayCallback(!1),this._initHideTopOverlayHandler(t.value),this._toggleHideTopOverlayCallback(this.option("visible"));break;case"hideOnParentScroll":this._toggleHideOnParentsScrollSubscription(this.option("visible"));break;case"closeOnOutsideClick":case"hideOnOutsideClick":case"propagateOutsideClick":break;case"rtlEnabled":this._contentAlreadyRendered=!1,this.callBase(t);break;case"_fixWrapperPosition":this._positionController.fixWrapperPosition=n;break;case"wrapperAttr":this._renderWrapperAttributes();break;case"restorePosition":this._positionController.restorePosition=t.value;break;default:this.callBase(t)}},toggle:function(t){var e=this;t=void 0===t?!this.option("visible"):t;var n=new d.a;if(t===this.option("visible"))return n.resolveWith(this,[t]).promise();var i=new d.a;return this._animateDeferred=i,this.option("visible",t),i.promise().done(function(){delete e._animateDeferred,n.resolveWith(e,[e.option("visible")])}).fail(function(){delete e._animateDeferred,n.reject()}),n.promise()},$content:function(){return this._$content},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)},content:function(){return Object(l.a)(this._$content)},repaint:function(){this._contentAlreadyRendered?(this._positionController.restorePositionOnNextRender(!0),this._renderGeometry({forceStopAnimation:!0}),Object(k.b)(this._$content)):this.callBase()}});N.baseZIndex=function(t){return M.a(t)},Object(r.a)("dxOverlay",N);e.a=N},function(t,e,n){"use strict";var i=n(26),o=n(7),r=n(3),a=n(1),s=n(20),l=n(28),c=n(53),u=n(5),h=function(t){for(var e=0,n=0,i=0;i<t.length;++i)if("'"===t[i]&&e++,"."===t[i]&&(++n,e%2===0))return{occurrence:n,index:i};return{occurrence:1,index:-1}},d=function(t,e,n){for(var i=-1;n--&&i++<t.length;)i=t.indexOf(e,i);return i},p=function(t,e){return-1===e?[t]:[t.slice(0,e),t.slice(e+1)]},f=function(t,e){if("string"===typeof e){var n=e.split(";"),i=c.a.getSign(t,e);n[1]=n[1]||"-"+n[0],e=(e=n[i<0?1:0]).replace(/'([^']*)'/g,function(t){return t.split("").map(function(){return" "}).join("").substr(2)});var o=/^[^#0.,]*/.exec(e)[0].length,r=/[^#0.,]*$/.exec(e)[0].length;return{start:o,end:t.length-r}}return{start:0,end:t.length}},m=function(t,e){var n=c.a.getDecimalSeparator(),i=new RegExp("[^0-9"+Object(u.escapeRegExp)(n)+"]","g");return e.slice(0,t).replace(i,"").length},g=function(t){return t.split("").reverse().join("")},v=function(t,e){if(!t)return-1;for(var n=/[0-9]/g,i=1,o=null,r=n.exec(e);r;){if(o=r.index,i>=t)return o;i++,r=n.exec(e)}return null===o?e.length:o},y=function(t,e){return void 0===t.start&&(t={start:t,end:t}),{start:t.start+e,end:t.end+e}};function _(t,e,n){t=y(t,0);var i=f(e,n);return{start:Object(l.b)(t.start,i.start,i.end),end:Object(l.b)(t.end,i.start,i.end)}}var b=n(193),C=n(2),O=n(17),x=n(72),S=n(213),w=n(10),P=n(12),k=n(13),E=n(19),T=n(14),I=n(6),j=n(18),M=n(136),D=n(52),A=n(44),R=n(220),B=n(113),L=n(16),N=Object(w.a)(A.a.up,"dxNumberBox"),z=Object(w.a)(A.a.cancel,"dxNumberBox"),F=D.a.inherit({_getDefaultOptions:function(){return Object(r.a)(this.callBase(),{direction:"up",onChange:null,activeStateEnabled:!0,hoverStateEnabled:!0})},_initMarkup:function(){this.callBase();var t="dx-numberbox-spin-"+this.option("direction");this.$element().addClass("dx-numberbox-spin-button").addClass(t),this._spinIcon=Object(C.a)("<div>").addClass(t+"-icon").appendTo(this.$element())},_render:function(){this.callBase();var t=Object(w.a)(A.a.down,this.NAME),e=this.$element();o.a.off(e,t),o.a.on(e,t,this._spinDownHandler.bind(this)),this._spinChangeHandler=this._createActionByOption("onChange")},_spinDownHandler:function(t){t.preventDefault(),this._clearTimer(),o.a.on(this.$element(),B.a.name,function(){this._feedBackDeferred=new L.a,Object(R.a)(this._feedBackDeferred),this._spinChangeHandler({event:t}),this._holdTimer=setInterval(this._spinChangeHandler,100,{event:t})}.bind(this));var e=O.a.getDocument();o.a.on(e,N,this._clearTimer.bind(this)),o.a.on(e,z,this._clearTimer.bind(this)),this._spinChangeHandler({event:t})},_dispose:function(){this._clearTimer(),this.callBase()},_clearTimer:function(){o.a.off(this.$element(),B.a.name);var t=O.a.getDocument();o.a.off(t,N),o.a.off(t,z),this._feedBackDeferred&&this._feedBackDeferred.resolve(),this._holdTimer&&clearInterval(this._holdTimer)},_optionChanged:function(t){switch(t.name){case"onChange":case"direction":this._invalidate();break;default:this.callBase(t)}}}),H=function(t){function e(){return Object(P.a)(this,e),Object(E.a)(this,Object(I.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(k.a)(e,[{key:"_attachEvents",value:function(t,e){var n=this.editor,i=Object(w.a)(A.a.down,n.NAME),r=e.children(),a=n._createAction(function(t){return n._spinButtonsPointerDownHandler(t)});o.a.off(e,i),o.a.on(e,i,function(t){return a({event:t})}),F.getInstance(r.eq(0)).option("onChange",function(t){return n._spinUpChangeHandler(t)}),F.getInstance(r.eq(1)).option("onChange",function(t){return n._spinDownChangeHandler(t)})}},{key:"_create",value:function(){var t=this.editor,e=Object(C.a)("<div>").addClass("dx-numberbox-spin-container"),n=Object(C.a)("<div>").appendTo(e),i=Object(C.a)("<div>").appendTo(e),o=this._getOptions();return this._addToContainer(e),t._createComponent(n,F,Object(r.a)({direction:"up"},o)),t._createComponent(i,F,Object(r.a)({direction:"down"},o)),this._legacyRender(t.$element(),this._isTouchFriendly(),o.visible),{instance:e,$element:e}}},{key:"_getOptions",value:function(){var t=this.editor;return{visible:this._isVisible(),disabled:t.option("disabled")}}},{key:"_isVisible",value:function(){var t=this.editor;return Object(T.a)(Object(I.a)(e.prototype),"_isVisible",this).call(this)&&t.option("showSpinButtons")}},{key:"_isTouchFriendly",value:function(){var t=this.editor;return t.option("showSpinButtons")&&t.option("useLargeSpinButtons")}},{key:"_legacyRender",value:function(t,e,n){t.toggleClass("dx-numberbox-spin-touch-friendly",e),t.toggleClass("dx-numberbox-spin",n)}},{key:"update",value:function(){if(Object(T.a)(Object(I.a)(e.prototype),"update",this).call(this)){var t=this.editor,n=this.instance,i=t.$element(),o=this._isVisible(),r=this._isTouchFriendly(),a=n.children(),s=F.getInstance(a.eq(0)),l=F.getInstance(a.eq(1)),c=this._getOptions();s.option(c),l.option(c),this._legacyRender(i,r,o)}}}]),e}(M.a),V=n(8),U=Math,W=["tab","del","backspace","leftArrow","rightArrow","home","end","enter"],K=S.a.inherit({_supportedKeys:function(){return Object(r.a)(this.callBase(),{upArrow:function(t){Object(w.i)(t)||(t.preventDefault(),t.stopPropagation(),this._spinUpChangeHandler(t))},downArrow:function(t){Object(w.i)(t)||(t.preventDefault(),t.stopPropagation(),this._spinDownChangeHandler(t))},enter:function(){}})},_getDefaultOptions:function(){return Object(r.a)(this.callBase(),{value:0,min:void 0,max:void 0,step:1,showSpinButtons:!1,useLargeSpinButtons:!0,mode:"text",invalidValueMessage:V.a.format("dxNumberBox-invalidValueMessage"),buttons:void 0})},_useTemplates:function(){return!1},_getDefaultButtons:function(){return this.callBase().concat([{name:"spins",Ctor:H}])},_isSupportInputMode:function(){var t=parseFloat(x.a.version);return x.a.chrome&&t>=66||x.a.safari&&t>=12},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return s.a.real().generic&&!s.a.isSimulator()},options:{useLargeSpinButtons:!1}},{device:function(){return"desktop"!==s.a.real().deviceType&&!this._isSupportInputMode()}.bind(this),options:{mode:"number"}}])},_initMarkup:function(){this._renderSubmitElement(),this.$element().addClass("dx-numberbox"),this.callBase()},_getDefaultAttributes:function(){var t=this.callBase();return t.inputmode="decimal",t},_renderContentImpl:function(){this.option("isValid")&&this._validateValue(this.option("value")),this.setAria("role","spinbutton")},_renderSubmitElement:function(){this._$submitElement=Object(C.a)("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(t){this._getSubmitElement().val(Object(u.applyServerDecimalSeparator)(t))},_getSubmitElement:function(){return this._$submitElement},_keyPressHandler:function(t){this.callBase(t);var e=Object(w.g)(t);if(!/[\d.,eE\-+]/.test(e)){var n=Object(w.n)(t);if(Object(w.i)(t)||n&&W.includes(n))return;return t.preventDefault(),!1}this._keyPressed=!0},_onMouseWheel:function(t){t.delta>0?this._spinValueChange(1,t):this._spinValueChange(-1,t)},_renderValue:function(){var t=this._input().val(),e=this.option("value");t.length&&Number(t)===e||(this._forceValueRender(),this._toggleEmptinessEventHandler());var n=Object(a.d)(e)?null:V.a.format("dxNumberBox-noDataText");return this.setAria({valuenow:Object(u.ensureDefined)(e,""),valuetext:n}),this.option("text",this._input().val()),this._updateButtons(),(new L.a).resolve()},_forceValueRender:function(){var t=this.option("value"),e=Number(t),n=isNaN(e)?"":this._applyDisplayValueFormatter(t);this._renderDisplayText(n)},_applyDisplayValueFormatter:function(t){return this.option("displayValueFormatter")(t)},_renderProps:function(){this._input().prop({min:this.option("min"),max:this.option("max"),step:this.option("step")}),this.setAria({valuemin:Object(u.ensureDefined)(this.option("min"),""),valuemax:Object(u.ensureDefined)(this.option("max"),"")})},_spinButtonsPointerDownHandler:function(){var t=this._input();this.option("useLargeSpinButtons")||O.a.getActiveElement()===t[0]||o.a.trigger(t,"focus")},_spinUpChangeHandler:function(t){this.option("readOnly")||this._spinValueChange(1,t.event||t)},_spinDownChangeHandler:function(t){this.option("readOnly")||this._spinValueChange(-1,t.event||t)},_spinValueChange:function(t,e){var n=parseFloat(this.option("step"));if(0!==n){var i=parseFloat(this._normalizeInputValue())||0;i=this._correctRounding(i,n*t);var o=this.option("min"),r=this.option("max");Object(a.d)(o)&&(i=Math.max(o,i)),Object(a.d)(r)&&(i=Math.min(r,i)),this._saveValueChangeEvent(e),this.option("value",i)}},_correctRounding:function(t,e){var n=/[,.](.*)/,i=n.test(t),o=n.test(e);if(i||o){var r=i?n.exec(t)[0].length:0,a=o?n.exec(e)[0].length:0,s=U.max(r,a);return t=this._round(t+e,s)}return t+e},_round:function(t,e){e=e||0;var n=Math.pow(10,e);return t*=n,t=Math.round(t)/n},_renderValueChangeEvent:function(){this.callBase();var t=Object(w.a)("focusout","NumberBoxForceValueChange");o.a.off(this.element(),t),o.a.on(this.element(),t,this._forceRefreshInputValue.bind(this))},_forceRefreshInputValue:function(){if("number"!==this.option("mode")){var t=this._input(),e=this._applyDisplayValueFormatter(this.option("value"));t.val(null),t.val(e)}},_valueChangeEventHandler:function(t){var e=this._input(),n=this._normalizeText(),i=this._parseValue(n),o="."!==n&&"-"!==n;!this._isValueValid()||this._validateValue(i)?(o&&this.callBase(t,isNaN(i)?null:i),this._applyValueBoundaries(n,i),this.validationRequest.fire({value:i,editor:this})):e.val(this._applyDisplayValueFormatter(i))},_applyValueBoundaries:function(t,e){var n=this._isValueIncomplete(t),i=this._isValueInRange(t);n||i||null===e||Number(t)!==e&&this._input().val(this._applyDisplayValueFormatter(e))},_replaceCommaWithPoint:function(t){return t.replace(",",".")},_inputIsInvalid:function(){var t="number"===this.option("mode"),e=this._input().get(0).validity;return t&&e&&e.badInput},_renderDisplayText:function(t){this._inputIsInvalid()||this.callBase(t)},_isValueIncomplete:function(t){return/(^-$)|(^-?\d*\.$)|(\d+e-?$)/i.test(t)},_isValueInRange:function(t){return Object(l.e)(t,this.option("min"),this.option("max"))},_isNumber:function(t){return null!==this._parseValue(t)},_validateValue:function(t){var e=this._normalizeText(),n=this._isValueValid(),i=!0,o=this._isNumber(e);return isNaN(Number(t))&&(i=!1),!t&&n?i=!0:o||n||(i=!1),this.option({isValid:i,validationError:i?null:{editorSpecific:!0,message:this.option("invalidValueMessage")}}),i},_normalizeInputValue:function(){return this._parseValue(this._normalizeText())},_normalizeText:function(){var t=this._input().val().trim();return this._replaceCommaWithPoint(t)},_parseValue:function(t){var e=parseFloat(t);return isNaN(e)?null:Object(l.b)(e,this.option("min"),this.option("max"))},_clearValue:function(){this._inputIsInvalid()&&(this._input().val(""),this._validateValue()),this.callBase()},reset:function(){null===this.option("value")?(this.option("text",""),this._renderValue()):this.option("value",null)},_optionChanged:function(t){switch(t.name){case"value":this._validateValue(t.value),this._setSubmitValue(t.value),this.callBase(t),this._resumeValueChangeAction();break;case"step":this._renderProps();break;case"min":case"max":this._renderProps(),this.option("value",this._parseValue(this.option("value")));break;case"showSpinButtons":case"useLargeSpinButtons":this._updateButtons(["spins"]);break;case"invalidValueMessage":break;default:this.callBase(t)}}}),$=K.inherit({_getDefaultOptions:function(){return Object(r.a)(this.callBase(),{useMaskBehavior:!0,format:null})},_isDeleteKey:function(t){return"del"===t},_supportedKeys:function(){return this._useMaskBehavior()?Object(r.a)(this.callBase(),{minus:this._revertSign.bind(this),del:this._removeHandler.bind(this),backspace:this._removeHandler.bind(this),leftArrow:this._arrowHandler.bind(this,-1),rightArrow:this._arrowHandler.bind(this,1),home:this._moveCaretToBoundaryEventHandler.bind(this,1),enter:this._updateFormattedValue.bind(this),end:this._moveCaretToBoundaryEventHandler.bind(this,-1)}):this.callBase()},_getTextSeparatorIndex:function(t){var e=c.a.getDecimalSeparator(),n=h(this.option("format")).occurrence;return d(t,e,n)},_focusInHandler:function(t){this._preventNestedFocusEvent(t)||(this.clearCaretTimeout(),this._caretTimeout=setTimeout(function(){this._caretTimeout=void 0;var e=this._caret();if(e.start===e.end&&this._useMaskBehavior()){var n=this._getInputVal(),i=this._getTextSeparatorIndex(n);i>=0?this._caret({start:i,end:i}):this._moveCaretToBoundaryEventHandler(-1,t)}}.bind(this),0)),this.callBase(t)},_focusOutHandler:function(t){var e=!this._preventNestedFocusEvent(t);e&&(this._focusOutOccurs=!0,this._useMaskBehavior()&&this._updateFormattedValue()),this.callBase(t),e&&(this._focusOutOccurs=!1)},_hasValueBeenChanged:function(t){var e=this._getFormatPattern(),n=this.option("value");return(this._format(n,e)||"")!==t},_updateFormattedValue:function(){var t=this._getInputVal();this._hasValueBeenChanged(t)&&(this._updateParsedValue(),this._adjustParsedValue(),this._setTextByParsedValue(),this._parsedValue!==this.option("value")&&o.a.trigger(this._input(),"change"))},_arrowHandler:function(t,e){if(this._useMaskBehavior()){var n=this._getInputVal(),i=this._getFormatPattern(),o=y(this._caret(),t);(function(t,e,n){var i=_(t=y(t,0),e,n);return t.start>=i.start&&t.end<=i.end})(o,n,i)||(o=1===t?o.end:o.start,e.preventDefault(),this._caret(_(o,n,i)))}},_moveCaretToBoundary:function(t){var e=f(this._getInputVal(),this._getFormatPattern()),n=y(1===t?e.start:e.end,0);this._caret(n)},_moveCaretToBoundaryEventHandler:function(t,e){!this._useMaskBehavior()||e&&e.shiftKey||(this._moveCaretToBoundary(t),e&&e.preventDefault())},_shouldMoveCaret:function(t,e){var n=c.a.getDecimalSeparator(),i=t.charAt(e.end)===n;return(this._lastKey===n||"."===this._lastKey||","===this._lastKey)&&i},_getInputVal:function(){return c.a.convertDigits(this._input().val(),!0)},_keyboardHandler:function(t){if(this.clearCaretTimeout(),this._lastKey=c.a.convertDigits(Object(w.g)(t),!0),this._lastKeyName=Object(w.n)(t),!this._shouldHandleKey(t.originalEvent))return this.callBase(t);var e=this._getInputVal(),n=this._caret(),i="minus"===this._lastKeyName?"":this._lastKey,o=this._tryParse(e,n,i);return this._shouldMoveCaret(e,n)&&(this._moveCaret(1),t.originalEvent.preventDefault()),void 0===o?"minus"!==this._lastKeyName&&t.originalEvent.preventDefault():this._parsedValue=o,this.callBase(t)},_keyPressHandler:function(t){this._useMaskBehavior()||this.callBase(t)},_removeHandler:function(t){var e=this._caret(),n=this._getInputVal(),i=e.start,o=e.end;this._lastKey=Object(w.g)(t),this._lastKeyName=Object(w.n)(t);var r=this._isDeleteKey(this._lastKeyName),a=!r;if(i===o){if(!(a&&i>0||r&&i<n.length))return void t.preventDefault();r&&o++,a&&i--}var s=n.slice(i,o);if(this._isStub(s))return this._moveCaret(r?1:-1),(this._parsedValue<0||1/this._parsedValue===-1/0)&&(this._revertSign(t),this._setTextByParsedValue()),void t.preventDefault();var l=c.a.getDecimalSeparator();if(s!==l){if(o-i<n.length)if(this._replaceSelectedText(n,{start:i,end:o},"").search(/[0-9]/)<0&&this._isValueInRange(0))return void(this._parsedValue=this._parsedValue<0||1/this._parsedValue===-1/0?-0:0);var u=this._tryParse(n,{start:i,end:o},"");void 0===u?t.preventDefault():this._parsedValue=u}else{var h=n.indexOf(l);this._isNonStubAfter(h+1)&&(this._moveCaret(r?1:-1),t.preventDefault())}},_isPercentFormat:function(){return-1!==this._getFormatPattern().replace(/'[^']+'/g,"").indexOf("%")},_parse:function(t,e){var n=this.option("format"),i=Object(a.h)(n.parser),o=i?n.parser:c.a.parse,r=0;if(!i){var s=h(e).index,l=this._getTextSeparatorIndex(t),u=-1!==s?s:e.length,d=-1!==l?l:t.length;d>u&&-1===e.indexOf("#")&&(r=d-u)}return o(t=t.substr(r),e)},_format:function(t,e){var n=this.option("format"),i=(null===n||void 0===n?void 0:n.formatter)||n,o=Object(a.h)(i)?i:c.a.format;return null===t?"":o(t,e)},_getFormatPattern:function(){return this._currentFormat||this._updateFormat(),this._currentFormat},_updateFormat:function(){var t=this,e=this.option("format"),n=Object(a.h)(null===e||void 0===e?void 0:e.parser),i=Object(a.o)(e)&&(e.indexOf("0")>=0||e.indexOf("#")>=0),o="exponential"===e||"exponential"===(null===e||void 0===e?void 0:e.type),r=n||i||o;this._currentFormat=r?e:Object(b.a)(function(n){var i=t._format(n,e);return c.a.convertDigits(i,!0)})},_getFormatForSign:function(t){var e=this._getFormatPattern();if(Object(a.o)(e)){var n=e.split(";"),i=c.a.getSign(t,e);return n[1]=n[1]||"-"+n[0],i<0?n[1]:n[0]}return c.a.getSign(t)<0?"-":""},_removeStubs:function(t,e){var n=this._getFormatForSign(t),i=c.a.getThousandsSeparator(),o=this._getStubs(n),r=t;if(o.length){var a=o[0],s=new RegExp("("+Object(u.escapeRegExp)(o[1]||"")+")$","g"),l=new RegExp("[-"+Object(u.escapeRegExp)(e?"":i)+"]","g");r=r.replace(a,"").replace(s,"").replace(l,"")}return r},_getStubs:function(t){var e=/[^']([#0.,]+)/g.exec(t),n=e&&e[0].trim();return t.split(n).map(function(t){return t.replace(/'/g,"")})},_truncateToPrecision:function(t,e){if(Object(a.d)(t)){var n=t.toString(),i=n.indexOf(".");if(n&&i>-1){var o=parseFloat(n.substr(0,i+e+1));return isNaN(o)?t:o}}return t},_tryParse:function(t,e,n){var i=this._replaceSelectedText(t,e,n),o=this._getFormatPattern(),r=e.start!==e.end,a=this._getParsedValue(i,o),s=!o.parser&&this._getPrecisionLimits(i).max,u=a!==this._parsedValue,h=n===c.a.getDecimalSeparator()&&0===s,d=!r&&!u&&"-"!==n&&!this._isValueIncomplete(i)&&this._isStub(n);if(!h&&!d&&(""===this._removeStubs(i)&&(a=Math.abs(0*this._parsedValue)),!isNaN(a))){var p,f,m=null===a?this._parsedValue:a;return a=s?this._truncateToPrecision(m,s):a,!o.parser&&this._isPercentFormat()?(f=s,(p=a)&&Object(l.a)(p/100,f)):a}},_getParsedValue:function(t,e){var n=c.a.getSign(t,(null===e||void 0===e?void 0:e.formatter)||e),i=this._removeStubs(t,!0),o=this._parse(i,e),r=o<0?-1:1;return Object(a.i)(o)&&n!==r?n*o:o},_isValueIncomplete:function(t){if(!this._useMaskBehavior())return this.callBase(t);var e=this._caret(),n=c.a.getDecimalSeparator(),i=this._getTextSeparatorIndex(t),o=i>=0&&i<e.start,r=this._removeStubs(t,!0).split(n);if(!o||2!==r.length)return!1;var a=r[1].length,s=!!this._getFormatPattern().parser,u=!s&&this._getPrecisionLimits(this._getFormatPattern(),t),h=!!s||Object(l.e)(a,u.min,u.max),d="0"===r[1].charAt(a-1);return h&&(d||!a)},_isValueInRange:function(t){var e=Object(u.ensureDefined)(this.option("min"),-1/0),n=Object(u.ensureDefined)(this.option("max"),1/0);return Object(l.e)(t,e,n)},_setInputText:function(t){var e=c.a.convertDigits(t,!0),n=function(t,e,n,i){n=y(n,0);var o=c.a.getDecimalSeparator(),r=function(t){return 1===t.length&&!!t.match(/^[,.][0-9]*$/g)}(t),a=h(i).occurrence,s=r?0:d(t,o,a),l=d(e,o,a),u=p(t,s),f=p(e,l);if(-1!==s&&n.start>s){var b=n.start-s-1,C=m(b,u[1]);return _(f[1]?l+1+v(C,f[1])+1:e.length,e,i)}var O=function(t){return t.replace(/[^0-9e]+$/,"")}(f[0]),x=u[0].length-n.start,S=m(x,g(u[0])),w=v(S,g(O));return _(O.length-(w+1),e,i)}(this._getInputVal(),e,this._caret(),this._getFormatPattern());this._input().val(t),this._toggleEmptinessEventHandler(),this._formattedValue=t,this._focusOutOccurs||this._caret(n)},_useMaskBehavior:function(){return!!this.option("format")&&this.option("useMaskBehavior")},_renderInputType:function(){var t="number"===this.option("mode"),e="desktop"===s.a.real().deviceType;this._useMaskBehavior()&&t?this._setInputType(e||this._isSupportInputMode()?"text":"tel"):this.callBase()},_isChar:function(t){return Object(a.o)(t)&&1===t.length},_moveCaret:function(t){if(t){var e=_(y(this._caret(),t),this._getInputVal(),this._getFormatPattern());this._caret(e)}},_shouldHandleKey:function(t){var e=Object(w.n)(t),n=Object(w.i)(t)||t.altKey||t.shiftKey||!this._isChar(e),i="minus"===e;return this._useMaskBehavior()&&!n&&!i},_renderInput:function(){this.callBase(),this._renderFormatter()},_renderFormatter:function(){this._clearCache(),this._detachFormatterEvents(),this._useMaskBehavior()&&this._attachFormatterEvents()},_detachFormatterEvents:function(){o.a.off(this._input(),".dxNumberFormatter")},_isInputFromPaste:function(t){var e=t.originalEvent&&t.originalEvent.inputType;return Object(a.d)(e)?"insertFromPaste"===e:this._isValuePasted},_attachFormatterEvents:function(){var t=this._input();o.a.on(t,Object(w.a)("input","dxNumberFormatter"),function(t){this._formatValue(t),this._isValuePasted=!1}.bind(this)),o.a.on(t,Object(w.a)("dxclick","dxNumberFormatter"),function(){this._caretTimeout||(this._caretTimeout=setTimeout(function(){this._caretTimeout=void 0,this._caret(_(this._caret(),this._getInputVal(),this._getFormatPattern()))}.bind(this),0))}.bind(this)),o.a.on(t,"dxdblclick",function(){this.clearCaretTimeout()}.bind(this))},clearCaretTimeout:function(){clearTimeout(this._caretTimeout),this._caretTimeout=void 0},_forceRefreshInputValue:function(){if(!this._useMaskBehavior())return this.callBase()},_isNonStubAfter:function(t){var e=this._getInputVal().slice(t);return e&&!this._isStub(e,!0)},_isStub:function(t,e){var n=Object(u.escapeRegExp)(c.a.getDecimalSeparator());return new RegExp("^[^0-9"+n+"]+$","g").test(t)&&(e||this._isChar(t))},_parseValue:function(t){return this._useMaskBehavior()?this._parsedValue:this.callBase(t)},_getPrecisionLimits:function(t){var e=this._getFormatForSign(t),n=h(e).index,i=(p(e,n)[1]||"").replace(/[^#0]/g,"");return{min:i.replace(/^(0*)#*/,"$1").length,max:i.length}},_revertSign:function(t){if(this._useMaskBehavior()){var e=this._caret();if(e.start!==e.end){if("minus"===Object(w.n)(t))return void this._applyRevertedSign(t,e,!0);this._caret(_(0,this._getInputVal(),this._getFormatPattern()))}this._applyRevertedSign(t,e)}},_applyRevertedSign:function(t,e,n){var i=-1*Object(u.ensureDefined)(this._parsedValue,null);if((this._isValueInRange(i)||0===i)&&(this._parsedValue=i,n)){var o=this._getFormatPattern(),r=this._getInputVal();this._setTextByParsedValue(),t.preventDefault();var a=this._getInputVal(),s=function(t,e,n){var i=f(t,n);return f(e,n).start-i.start}(r,a,o),l=_(e=y(e,s),a,o);this._caret(l)}},_removeMinusFromText:function(t,e){return"minus"===this._lastKeyName&&"-"===t.charAt(e.start-1)?this._replaceSelectedText(t,{start:e.start-1,end:e.start},""):t},_setTextByParsedValue:function(){var t=this._getFormatPattern(),e=this._parseValue(),n=this._format(e,t)||"";this._setInputText(n)},_formatValue:function(t){var e=this._getInputVal(),n=this._caret(),i=this._removeMinusFromText(e,n),o=i!==e;if(e=i,!this._isInputFromPaste(t)&&this._isValueIncomplete(i))return this._formattedValue=e,void(o&&this._setTextByParsedValue());if(c.a.convertDigits(this._formattedValue,!0)!==e){var r=this._tryParse(e,n,"");Object(a.d)(r)&&(this._parsedValue=r)}this._setTextByParsedValue()},_renderDisplayText:function(){this._useMaskBehavior()?this._toggleEmptinessEventHandler():this.callBase.apply(this,arguments)},_renderValue:function(){return this._useMaskBehavior()&&(this._parsedValue=this.option("value"),this._setTextByParsedValue()),this.callBase()},_updateParsedValue:function(){var t=this._getInputVal();this._parsedValue=this._tryParse(t,this._caret())},_adjustParsedValue:function(){if(this._useMaskBehavior()){var t=this._removeStubs(this._getInputVal())?this._parseValue():null;Object(a.i)(t)?this._parsedValue=Object(l.b)(t,this.option("min"),this.option("max")):this._parsedValue=t}},_valueChangeEventHandler:function(t){if(!this._useMaskBehavior())return this.callBase(t);var e=this._caret();this._saveValueChangeEvent(t),this._lastKey=null,this._lastKeyName=null,this._updateParsedValue(),this._adjustParsedValue(),this.option("value",this._parsedValue),e&&this._caret(e)},_optionChanged:function(t){switch(t.name){case"format":case"useMaskBehavior":this._renderInputType(),this._updateFormat(),this._renderFormatter(),this._renderValue(),this._refreshValueChangeEvent(),this._refreshEvents();break;case"min":case"max":this._adjustParsedValue(),this.callBase(t);break;default:this.callBase(t)}},_clearCache:function(){delete this._formattedValue,delete this._lastKey,delete this._lastKeyName,delete this._parsedValue,delete this._focusOutOccurs,clearTimeout(this._caretTimeout),delete this._caretTimeout},_clean:function(){this._clearCache(),this.callBase()}});Object(i.a)("dxNumberBox",$);var G=$;e.a=G},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(36),o=Object(i.f)(void 0)},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(12),o=n(13),r=n(43),a=n(9),s=n(1),l=function(){function t(e){Object(i.a)(this,t);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._events={},this._owner=e,this._options=n}return Object(o.a)(t,[{key:"hasEvent",value:function(t){var e=this._events[t];return!!e&&e.has()}},{key:"fireEvent",value:function(t,e){var n=this._events[t];return n&&n.fireWith(this._owner,e),this._owner}},{key:"on",value:function(t,e){var n=this;if(Object(s.k)(t))Object(a.a)(t,function(t,e){n.on(t,e)});else{var i=this._events[t];i||(i=Object(r.a)({syncStrategy:this._options.syncStrategy}),this._events[t]=i),(i.originalAdd||i.add).call(i,e)}}},{key:"off",value:function(t,e){var n=this._events[t];n&&(Object(s.h)(e)?n.remove(e):n.empty())}},{key:"dispose",value:function(){Object(a.a)(this._events,function(t,e){e.empty()})}}],[{key:"create",value:function(e,n){return n?Object(s.h)(n)?n(e):n:new t(e)}}]),t}()},function(t,e,n){"use strict";var i=n(2),o=n(20),r=n(15),a=n(8),s=n(26),l=n(33),c=n(3),u=n(5),h=n(43),d=n(34),p=n(160),f=n(94),m=n(9),g=n(16),v=p.a.inherit({_init:function(t){this.callBase(t),this._$topPocket=t._$topPocket,this._$pullDown=t._$pullDown,this._$refreshingText=t._$refreshingText,this._$scrollViewContent=Object(i.a)(t.content()),this._$container=Object(i.a)(t.container()),this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=Object(h.a)(),this.releaseCallbacks=Object(h.a)(),this.reachBottomCallbacks=Object(h.a)()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var t=Object(i.a)("<div>").addClass("dx-scrollview-pull-down-image"),e=Object(i.a)("<div>").addClass("dx-scrollview-pull-down-indicator"),n=new f.a(Object(i.a)("<div>")).$element(),o=this._$pullDownText=Object(i.a)("<div>").addClass("dx-scrollview-pull-down-text");this._$pullingDownText=Object(i.a)("<div>").text(this.option("pullingDownText")).appendTo(o),this._$pulledDownText=Object(i.a)("<div>").text(this.option("pulledDownText")).appendTo(o),this._$refreshingText=Object(i.a)("<div>").text(this.option("refreshingText")).appendTo(o),this._$pullDown.empty().append(t).append(e.append(n)).append(o)},_releaseState:function(){this._state=0,this._refreshPullDownText()},_refreshPullDownText:function(){var t=this,e=[{element:this._$pullingDownText,visibleState:0},{element:this._$pulledDownText,visibleState:1},{element:this._$refreshingText,visibleState:2}];Object(m.a)(e,function(e,n){var i=t._state===n.visibleState?"addClass":"removeClass";n.element[i]("dx-scrollview-pull-down-text-visible")})},update:function(){this.callBase(),this._setTopPocketOffset()},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.get(0).clientHeight;var t=this._$scrollViewContent.get(0),e=this._$container.get(0);this._bottomBoundary=Math.max(t.clientHeight-e.clientHeight,0)},_allowedDirections:function(){var t=this.callBase();return t.vertical=t.vertical||this._pullDownEnabled,t},_setTopPocketOffset:function(){this._$topPocket.css({top:-this._topPocketSize})},handleEnd:function(){this.callBase(),this._complete()},handleStop:function(){this.callBase(),this._complete()},_complete:function(){1===this._state&&(this._setPullDownOffset(this._topPocketSize),clearTimeout(this._pullDownRefreshTimeout),this._pullDownRefreshTimeout=setTimeout(function(){this._pullDownRefreshing()}.bind(this),400))},_setPullDownOffset:function(t){Object(d.e)(this._$topPocket,{top:t}),Object(d.e)(this._$scrollViewContent,{top:t})},handleScroll:function(t){if(this.callBase(t),2!==this._state){var e=this.location().top,n=(this._location||0)-e;this._location=e,this._isPullDown()?this._pullDownReady():n>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isPullDown:function(){return this._pullDownEnabled&&this._location>=this._topPocketSize},_isReachBottom:function(){return this._reachBottomEnabled&&Math.round(this._bottomBoundary+Math.floor(this._location))<=1},_reachBottom:function(){3!==this._state&&(this._state=3,this.reachBottomCallbacks.fire())},_pullDownReady:function(){1!==this._state&&(this._state=1,this._$pullDown.addClass("dx-scrollview-pull-down-ready"),this._refreshPullDownText())},_stateReleased:function(){0!==this._state&&(this._$pullDown.removeClass("dx-scrollview-pull-down-loading").removeClass("dx-scrollview-pull-down-ready"),this._releaseState())},_pullDownRefreshing:function(){2!==this._state&&(this._state=2,this._$pullDown.addClass("dx-scrollview-pull-down-loading").removeClass("dx-scrollview-pull-down-ready"),this._refreshPullDownText(),this.pullDownCallbacks.fire())},pullDownEnable:function(t){t&&(this._updateDimensions(),this._setTopPocketOffset()),this._pullDownEnabled=t},reachBottomEnable:function(t){this._reachBottomEnabled=t},pendingRelease:function(){this._state=1},release:function(){var t=new g.a;return this._updateDimensions(),clearTimeout(this._releaseTimeout),3===this._state&&(this._state=0),this._releaseTimeout=setTimeout(function(){this._setPullDownOffset(0),this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),t.resolve()}.bind(this),400),t.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}}),y=n(11),_=n(10),b=p.a.inherit({_init:function(t){this.callBase(t),this._$topPocket=t._$topPocket,this._$pullDown=t._$pullDown,this._$scrollViewContent=Object(i.a)(t.content()),this._$container=Object(i.a)(t.container()),this._initCallbacks(),this._location=0},_initCallbacks:function(){this.pullDownCallbacks=Object(h.a)(),this.releaseCallbacks=Object(h.a)(),this.reachBottomCallbacks=Object(h.a)()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var t=Object(i.a)("<div>").addClass("dx-scrollview-pull-down-indicator"),e=new f.a(Object(i.a)("<div>")).$element();this._$icon=Object(i.a)("<div>").addClass("dx-icon-pulldown"),this._$pullDown.empty().append(this._$icon).append(t.append(e))},_releaseState:function(){this._state=0,this._releasePullDown(),this._updateDimensions()},_releasePullDown:function(){this._$pullDown.css({opacity:0})},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.get(0).clientHeight;var t=this._$scrollViewContent.get(0),e=this._$container.get(0);this._bottomBoundary=Math.max(t.clientHeight-e.clientHeight,0)},_allowedDirections:function(){var t=this.callBase();return t.vertical=t.vertical||this._pullDownEnabled,t},handleInit:function(t){this.callBase(t),0===this._state&&0===this._location&&(this._startClientY=Object(_.c)(t.originalEvent).y,this._state=4)},handleMove:function(t){this.callBase(t),this._deltaY=Object(_.c)(t.originalEvent).y-this._startClientY,4===this._state&&(this._pullDownEnabled&&this._deltaY>0?this._state=5:this._complete()),5===this._state&&(t.preventDefault(),this._movePullDown())},_movePullDown:function(){var t=this._getPullDownHeight(),e=Math.min(3*t,this._deltaY+this._getPullDownStartPosition()),n=180*e/t/3;this._$pullDown.css({opacity:1}).toggleClass("dx-scrollview-pull-down-refreshing",e<t),Object(d.e)(this._$pullDown,{top:e}),this._$icon.css({transform:"rotate("+n+"deg)"})},_isPullDown:function(){return this._pullDownEnabled&&5===this._state&&this._deltaY>=this._getPullDownHeight()-this._getPullDownStartPosition()},_getPullDownHeight:function(){return Math.round(.05*Object(y.g)(this._$element))},_getPullDownStartPosition:function(){return-Math.round(1.5*Object(y.g)(this._$pullDown))},handleEnd:function(){this._isPullDown()&&this._pullDownRefreshing(),this._complete()},handleStop:function(){this._complete()},_complete:function(){4!==this._state&&5!==this._state||this._releaseState()},handleScroll:function(t){if(this.callBase(t),2!==this._state){var e=this.location().top,n=this._location-e;this._location=e,n>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isReachBottom:function(){return this._reachBottomEnabled&&Math.round(this._bottomBoundary+Math.floor(this._location))<=1},_reachBottom:function(){this.reachBottomCallbacks.fire()},_stateReleased:function(){0!==this._state&&(this._$pullDown.removeClass("dx-scrollview-pull-down-loading"),this._releaseState())},_pullDownRefreshing:function(){this._state=2,this._pullDownRefreshHandler()},_pullDownRefreshHandler:function(){this._refreshPullDown(),this.pullDownCallbacks.fire()},_refreshPullDown:function(){this._$pullDown.addClass("dx-scrollview-pull-down-loading"),Object(d.e)(this._$pullDown,{top:this._getPullDownHeight()})},pullDownEnable:function(t){this._$topPocket.toggle(t),this._pullDownEnabled=t},reachBottomEnable:function(t){this._reachBottomEnabled=t},pendingRelease:function(){this._state=1},release:function(){var t=new g.a;return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._releaseTimeout=setTimeout(function(){this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),t.resolve()}.bind(this),800),t.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}}),C=n(180),O=Math,x=C.a.inherit({ctor:function(){this._topPocketSize=0,this._bottomPocketSize=0,this.callBase.apply(this,arguments),this._initCallbacks(),this._releaseState()},_releaseState:function(){this._state=0,this._refreshPullDownText()},_refreshPullDownText:function(){var t=this,e=[{element:this._$pullingDownText,visibleState:0},{element:this._$pulledDownText,visibleState:1},{element:this._$refreshingText,visibleState:2}];Object(m.a)(e,function(e,n){var i=t._state===n.visibleState?"addClass":"removeClass";n.element[i]("dx-scrollview-pull-down-text-visible")})},_initCallbacks:function(){this.pullDownCallbacks=Object(h.a)(),this.releaseCallbacks=Object(h.a)(),this.reachBottomCallbacks=Object(h.a)()},_updateBounds:function(){if("horizontal"!==this._direction){this._topPocketSize=this._$topPocket.get(0).clientHeight,this._bottomPocketSize=this._$bottomPocket.get(0).clientHeight;var t=this._$container.get(0),e=this._$content.get(0);this._bottomBoundary=Math.max(e.clientHeight-this._bottomPocketSize-t.clientHeight,0)}this.callBase()},_updateScrollbar:function(){this._scrollbar.option({containerSize:this._containerSize(),contentSize:this._contentSize()-this._topPocketSize-this._bottomPocketSize,scaleRatio:this._getScaleRatio()})},_moveContent:function(){this.callBase(),this._isPullDown()?this._pullDownReady():this._isReachBottom()?this._reachBottomReady():0!==this._state&&this._stateReleased()},_moveScrollbar:function(){this._scrollbar.moveTo(this._topPocketSize+this._location)},_isPullDown:function(){return this._pullDownEnabled&&this._location>=0},_isReachBottom:function(){var t=this._$container.get(0);return this._reachBottomEnabled&&Math.round(this._bottomBoundary-Math.ceil(t.scrollTop))<=1},_scrollComplete:function(){this._inBounds()&&1===this._state?this._pullDownRefreshing():this._inBounds()&&3===this._state?this._reachBottomLoading():this.callBase()},_reachBottomReady:function(){3!==this._state&&(this._state=3,this._minOffset=this._getMinOffset())},_getMaxOffset:function(){return-this._topPocketSize},_getMinOffset:function(){return O.min(this.callBase(),-this._topPocketSize)},_reachBottomLoading:function(){this.reachBottomCallbacks.fire()},_pullDownReady:function(){1!==this._state&&(this._state=1,this._maxOffset=0,this._$pullDown.addClass("dx-scrollview-pull-down-ready"),this._refreshPullDownText())},_stateReleased:function(){0!==this._state&&(this._releaseState(),this._updateBounds(),this._$pullDown.removeClass("dx-scrollview-pull-down-loading").removeClass("dx-scrollview-pull-down-ready"),this.releaseCallbacks.fire())},_pullDownRefreshing:function(){2!==this._state&&(this._state=2,this._$pullDown.addClass("dx-scrollview-pull-down-loading").removeClass("dx-scrollview-pull-down-ready"),this._refreshPullDownText(),this.pullDownCallbacks.fire())},_releaseHandler:function(){return 0===this._state&&this._moveToBounds(),this._update(),this._releaseTask&&this._releaseTask.abort(),this._releaseTask=Object(u.executeAsync)(this._release.bind(this)),this._releaseTask.promise},_release:function(){this._stateReleased(),this._scrollComplete()},_reachBottomEnablingHandler:function(t){this._reachBottomEnabled!==t&&(this._reachBottomEnabled=t,this._updateBounds())},_pullDownEnablingHandler:function(t){this._pullDownEnabled!==t&&(this._pullDownEnabled=t,this._considerTopPocketChange(),this._updateHandler())},_considerTopPocketChange:function(){this._location-=Object(y.c)(this._$topPocket)||-this._topPocketSize,this._maxOffset=0,this._move()},_pendingReleaseHandler:function(){this._state=1},dispose:function(){this._releaseTask&&this._releaseTask.abort(),this.callBase()}}),S=C.b.inherit({_init:function(t){this.callBase(t),this._$pullDown=t._$pullDown,this._$topPocket=t._$topPocket,this._$bottomPocket=t._$bottomPocket,this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=Object(h.a)(),this.releaseCallbacks=Object(h.a)(),this.reachBottomCallbacks=Object(h.a)()},render:function(){this._renderPullDown(),this.callBase()},_renderPullDown:function(){var t=Object(i.a)("<div>").addClass("dx-scrollview-pull-down-image"),e=Object(i.a)("<div>").addClass("dx-scrollview-pull-down-indicator"),n=new f.a(Object(i.a)("<div>")).$element(),o=this._$pullDownText=Object(i.a)("<div>").addClass("dx-scrollview-pull-down-text");this._$pullingDownText=Object(i.a)("<div>").text(this.option("pullingDownText")).appendTo(o),this._$pulledDownText=Object(i.a)("<div>").text(this.option("pulledDownText")).appendTo(o),this._$refreshingText=Object(i.a)("<div>").text(this.option("refreshingText")).appendTo(o),this._$pullDown.empty().append(t).append(e.append(n)).append(o)},pullDownEnable:function(t){this._eventHandler("pullDownEnabling",t)},reachBottomEnable:function(t){this._eventHandler("reachBottomEnabling",t)},_createScroller:function(t){var e=this,n=e._scrollers[t]=new x(e._scrollerOptions(t));n.pullDownCallbacks.add(function(){e.pullDownCallbacks.fire()}),n.releaseCallbacks.add(function(){e.releaseCallbacks.fire()}),n.reachBottomCallbacks.add(function(){e.reachBottomCallbacks.fire()})},_scrollerOptions:function(t){return Object(c.a)(this.callBase(t),{$topPocket:this._$topPocket,$bottomPocket:this._$bottomPocket,$pullDown:this._$pullDown,$pullDownText:this._$pullDownText,$pullingDownText:this._$pullingDownText,$pulledDownText:this._$pulledDownText,$refreshingText:this._$refreshingText})},pendingRelease:function(){this._eventHandler("pendingRelease")},release:function(){return this._eventHandler("release").done(this._updateAction)},location:function(){var t=this.callBase();return t.top+=Object(y.c)(this._$topPocket),t},dispose:function(){Object(m.a)(this._scrollers,function(){this.dispose()}),this.callBase()}}),w=n(161),P=n(47),k=n(115),E=k.a.inherit({_supportedKeys:function(){return Object(c.a)(this.callBase(),{escape:u.noop})},_getDefaultOptions:function(){return Object(c.a)(this.callBase(),{message:a.a.format("Loading"),width:222,height:90,animation:null,showIndicator:!0,indicatorSrc:"",showPane:!0,delay:0,templatesRenderAsynchronously:!1,hideTopOverlayHandler:null,focusStateEnabled:!1,propagateOutsideClick:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"generic"},options:{shadingColor:"transparent"}},{device:function(){return Object(P.d)()},options:{message:"",width:60,height:60,maxHeight:60,maxWidth:60}}])},_init:function(){this.callBase.apply(this,arguments)},_render:function(){this.callBase(),this.$element().addClass("dx-loadpanel"),this.$wrapper().addClass("dx-loadpanel-wrapper")},_renderContentImpl:function(){this.callBase(),this.$content().addClass("dx-loadpanel-content"),this._$loadPanelContentWrapper=Object(i.a)("<div>").addClass("dx-loadpanel-content-wrapper"),this._$loadPanelContentWrapper.appendTo(this.$content()),this._togglePaneVisible(),this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage()},_show:function(){var t=this.option("delay");if(!t)return this.callBase();var e=new g.a,n=this.callBase.bind(this);return this._clearShowTimeout(),this._showTimeout=setTimeout(function(){n().done(function(){e.resolve()})},t),e.promise()},_hide:function(){return this._clearShowTimeout(),this.callBase()},_clearShowTimeout:function(){clearTimeout(this._showTimeout)},_renderMessage:function(){if(this._$loadPanelContentWrapper){var t=this.option("message");if(t){var e=Object(i.a)("<div>").addClass("dx-loadpanel-message").text(t);this._$loadPanelContentWrapper.append(e)}}},_renderLoadIndicator:function(){this._$loadPanelContentWrapper&&this.option("showIndicator")&&(this._$indicator||(this._$indicator=Object(i.a)("<div>").addClass("dx-loadpanel-indicator").appendTo(this._$loadPanelContentWrapper)),this._createComponent(this._$indicator,f.a,{indicatorSrc:this.option("indicatorSrc")}))},_cleanPreviousContent:function(){this.$content().find(".dx-loadpanel-message").remove(),this.$content().find(".dx-loadpanel-indicator").remove(),delete this._$indicator},_togglePaneVisible:function(){this.$content().toggleClass("dx-loadpanel-pane-hidden",!this.option("showPane"))},_optionChanged:function(t){switch(t.name){case"delay":break;case"message":case"showIndicator":this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage();break;case"showPane":this._togglePaneVisible();break;case"indicatorSrc":this._renderLoadIndicator();break;default:this.callBase(t)}},_dispose:function(){this._clearShowTimeout(),this.callBase()}});Object(s.a)("dxLoadPanel",E);var T=E,I={pullDown:v,swipeDown:b,simulated:S},j=!Object(r.f)(),M={finishLoading:u.noop,release:u.noop,refresh:u.noop,scrollOffset:function(){return{top:0,left:0}},_optionChanged:function(t){if("onUpdated"!==t.name)return this.callBase.apply(this,arguments)}},D=w.a.inherit(j?M:{_getDefaultOptions:function(){return Object(c.a)(this.callBase(),{pullingDownText:a.a.format("dxScrollView-pullingDownText"),pulledDownText:a.a.format("dxScrollView-pulledDownText"),refreshingText:a.a.format("dxScrollView-refreshingText"),reachBottomText:a.a.format("dxScrollView-reachBottomText"),onPullDown:null,onReachBottom:null,refreshStrategy:"pullDown"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"android"===o.a.real().platform},options:{refreshStrategy:"swipeDown"}},{device:function(){return Object(P.d)()},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",reachBottomText:""}}])},_init:function(){this.callBase(),this._loadingIndicatorEnabled=!0},_initScrollableMarkup:function(){this.callBase(),this.$element().addClass("dx-scrollview"),this._initContent(),this._initTopPocket(),this._initBottomPocket(),this._initLoadPanel()},_initContent:function(){var t=Object(i.a)("<div>").addClass("dx-scrollview-content");this._$content.wrapInner(t)},_initTopPocket:function(){var t=this._$topPocket=Object(i.a)("<div>").addClass("dx-scrollview-top-pocket"),e=this._$pullDown=Object(i.a)("<div>").addClass("dx-scrollview-pull-down");t.append(e),this._$content.prepend(t)},_initBottomPocket:function(){var t=this._$bottomPocket=Object(i.a)("<div>").addClass("dx-scrollview-bottom-pocket"),e=this._$reachBottom=Object(i.a)("<div>").addClass("dx-scrollview-scrollbottom"),n=Object(i.a)("<div>").addClass("dx-scrollview-scrollbottom-indicator"),o=new f.a(Object(i.a)("<div>")).$element(),r=this._$reachBottomText=Object(i.a)("<div>").addClass("dx-scrollview-scrollbottom-text");this._updateReachBottomText(),e.append(n.append(o)).append(r),t.append(e),this._$content.append(t)},_initLoadPanel:function(){var t=Object(i.a)("<div>").addClass("dx-scrollview-loadpanel").appendTo(this.$element()),e={shading:!1,delay:400,message:this.option("refreshingText"),position:{of:this.$element()}};this._loadPanel=this._createComponent(t,T,e)},_updateReachBottomText:function(){this._$reachBottomText.text(this.option("reachBottomText"))},_createStrategy:function(){var t=this.option("useNative")?this.option("refreshStrategy"):"simulated",e=I[t];this._strategy=new e(this),this._strategy.pullDownCallbacks.add(this._pullDownHandler.bind(this)),this._strategy.releaseCallbacks.add(this._releaseHandler.bind(this)),this._strategy.reachBottomCallbacks.add(this._reachBottomHandler.bind(this))},_createActions:function(){this.callBase(),this._pullDownAction=this._createActionByOption("onPullDown"),this._reachBottomAction=this._createActionByOption("onReachBottom"),this._tryRefreshPocketState()},_tryRefreshPocketState:function(){this._pullDownEnable(this.hasActionSubscription("onPullDown")),this._reachBottomEnable(this.hasActionSubscription("onReachBottom"))},on:function(t){var e=this.callBase.apply(this,arguments);return"pullDown"!==t&&"reachBottom"!==t||this._tryRefreshPocketState(),e},_pullDownEnable:function(t){if(0===arguments.length)return this._pullDownEnabled;this._$pullDown&&this._strategy&&(this._$pullDown.toggle(t),this._strategy.pullDownEnable(t),this._pullDownEnabled=t)},_reachBottomEnable:function(t){if(0===arguments.length)return this._reachBottomEnabled;this._$reachBottom&&this._strategy&&(this._$reachBottom.toggle(t),this._strategy.reachBottomEnable(t),this._reachBottomEnabled=t)},_pullDownHandler:function(){this._loadingIndicator(!1),this._pullDownLoading()},_loadingIndicator:function(t){if(arguments.length<1)return this._loadingIndicatorEnabled;this._loadingIndicatorEnabled=t},_pullDownLoading:function(){this.startLoading(),this._pullDownAction()},_reachBottomHandler:function(){this._loadingIndicator(!1),this._reachBottomLoading()},_reachBottomLoading:function(){this.startLoading(),this._reachBottomAction()},_releaseHandler:function(){this.finishLoading(),this._loadingIndicator(!0)},_optionChanged:function(t){switch(t.name){case"onPullDown":case"onReachBottom":this._createActions();break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"refreshStrategy":this._invalidate();break;case"reachBottomText":this._updateReachBottomText();break;default:this.callBase(t)}},content:function(){return Object(l.a)(this._$content.children().eq(1))},release:function(t){return void 0!==t&&this.toggleLoading(!t),this._strategy.release()},toggleLoading:function(t){this._reachBottomEnable(t)},refresh:function(){this.hasActionSubscription("onPullDown")&&(this._strategy.pendingRelease(),this._pullDownLoading())},startLoading:function(){this._loadingIndicator()&&this.$element().is(":visible")&&this._loadPanel.show(),this._lock()},finishLoading:function(){this._loadPanel.hide(),this._unlock()},_dispose:function(){this._strategy.dispose(),this.callBase(),this._loadPanel&&this._loadPanel.$element().remove()}});Object(s.a)("dxScrollView",D);var A=D;e.a=A},function(t,e,n){"use strict";n.d(e,"e",function(){return l}),n.d(e,"a",function(){return c}),n.d(e,"d",function(){return u}),n.d(e,"c",function(){return h}),n.d(e,"b",function(){return d});var i=n(41),o=n(1),r=n(107),a=n(50);function s(t){return t.reduce(function(t,e){var n;return t[e]=(null!==(n=t[e])&&void 0!==n?n:0)+1,t},{})}var l=function(t){return Array.isArray(t)?t:[t]},c=function(t){return Object(i.a)(new Set(t))},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=s(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]);return t.filter(function(t){return!e[t]--})},h=function(t,e,n,i){var s={},l=Object(a.a)().useLegacyVisibleIndex,c=0,u=function(t){return!Object(o.d)(t[e])&&(!i||i(t))};t.forEach(function(t){var i=t[e];i>=0?(s[i]=s[i]||[],t===n?s[i].unshift(t):s[i].push(t)):t[e]=void 0}),l||t.forEach(function(t){if(u(t)){for(;s[c];)c++;s[c]=[t],c++}}),c=0,Object(r.c)(s,function(t,n){n.forEach(function(n){t>=0&&(n[e]=c++)})}),l&&t.forEach(function(t){u(t)&&(t[e]=c++)})},d=function(t,e){return t.reduce(function(t,n){var i,o=e(n);return t[o]=null!==(i=t[o])&&void 0!==i?i:[],t[o].push(n),t},{})}},function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"c",function(){return h}),n.d(e,"d",function(){return f}),n.d(e,"a",function(){return v});var i=n(11),o=n(2),r="dx-inkripple-showing",a="dx-inkripple-hiding",s=300,l=1e3,c=0,u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useHoldAnimation;return{waveSizeCoefficient:t.waveSizeCoefficient||2,isCentered:t.isCentered||!1,wavesNumber:t.wavesNumber||1,durations:m(null===e||void 0===e||e)}},h=function(t){var e=u(t);return{showWave:f.bind(this,e),hideWave:v.bind(this,e)}},d=function(t,e){for(var n=function(t){var e=t.children(".dx-inkripple");return 0===e.length&&(e=Object(o.a)("<div>").addClass("dx-inkripple").appendTo(t)),e}(Object(o.a)(t)),i=n.children(".dx-inkripple-wave").toArray(),r=i.length;r<e;r++){var a=Object(o.a)("<div>").appendTo(n).addClass("dx-inkripple-wave");i.push(a[0])}return Object(o.a)(i)},p=function(t,e){var n,r,a=Object(o.a)(e.element),s=Object(i.h)(a),l=Object(i.g)(a),c=parseInt(Math.sqrt(s*s+l*l)),u=Math.min(4e3,parseInt(c*t.waveSizeCoefficient));if(t.isCentered)n=(s-u)/2,r=(l-u)/2;else{var h=e.event,d=a.offset();n=h.pageX-d.left-u/2,r=h.pageY-d.top-u/2}return{left:n,top:r,height:u,width:u}};function f(t,e){var n=d(e.element,t.wavesNumber).eq(e.wave||c);t.hidingTimeout&&clearTimeout(t.hidingTimeout),g(n),n.css(p(t,e)),t.showingTimeout=setTimeout(function(t,e){var n=t.durations.showingScale+"ms";e.addClass(r).css("transitionDuration",n)}.bind(this,t,n),0)}function m(t){return{showingScale:t?l:s,hidingScale:s,hidingOpacity:s}}function g(t){t.removeClass(a).css("transitionDuration","")}function v(t,e){t.showingTimeout&&clearTimeout(t.showingTimeout);var n=d(e.element,e.wavesNumber).eq(e.wave||c),i=t.durations,o=i.hidingScale+"ms, "+i.hidingOpacity+"ms";n.addClass(a).removeClass(r).css("transitionDuration",o);var s=Math.max(i.hidingScale,i.hidingOpacity);t.hidingTimeout=setTimeout(g.bind(this,n),s)}},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"e",function(){return l}),n.d(e,"f",function(){return c});var i=n(0);function o(t){return Object(i.a)({tag:"svg",attr:{t:"1569682613478",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"defs",attr:{},child:[]},{tag:"path",attr:{d:"M852 64H172c-17.7 0-32 14.3-32 32v660c0 17.7 14.3 32 32 32h680c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zM300 328c0-33.1 26.9-60 60-60s60 26.9 60 60-26.9 60-60 60-60-26.9-60-60z m372 248c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-60c0-4.4 3.6-8 8-8h304c4.4 0 8 3.6 8 8v60z m-8-188c-33.1 0-60-26.9-60-60s26.9-60 60-60 60 26.9 60 60-26.9 60-60 60zM799 864H225c-13.8 0-25 14.3-25 32v56c0 4.4 2.8 8 6.2 8h611.5c3.4 0 6.2-3.6 6.2-8v-56c0.1-17.7-11.1-32-24.9-32z"}}]})(t)}function r(t){return Object(i.a)({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]})(t)}function a(t){return Object(i.a)({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 0 0-44.4 0L77.5 505a63.9 63.9 0 0 0-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0 0 18.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]})(t)}function s(t){return Object(i.a)({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]})(t)}function l(t){return Object(i.a)({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 747H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM165.7 621.8l39.7 39.5c3.1 3.1 8.2 3.1 11.3 0l234.7-233.9 97.6 97.3a32.11 32.11 0 0 0 45.2 0l264.2-263.2c3.1-3.1 3.1-8.2 0-11.3l-39.7-39.6a8.03 8.03 0 0 0-11.3 0l-235.7 235-97.7-97.3a32.11 32.11 0 0 0-45.2 0L165.7 610.5a7.94 7.94 0 0 0 0 11.3z"}}]})(t)}function c(t){return Object(i.a)({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M876.6 239.5c-.5-.9-1.2-1.8-2-2.5-5-5-13.1-5-18.1 0L684.2 409.3l-67.9-67.9L788.7 169c.8-.8 1.4-1.6 2-2.5 3.6-6.1 1.6-13.9-4.5-17.5-98.2-58-226.8-44.7-311.3 39.7-67 67-89.2 162-66.5 247.4l-293 293c-3 3-2.8 7.9.3 11l169.7 169.7c3.1 3.1 8.1 3.3 11 .3l292.9-292.9c85.5 22.8 180.5.7 247.6-66.4 84.4-84.5 97.7-213.1 39.7-311.3zM786 499.8c-58.1 58.1-145.3 69.3-214.6 33.6l-8.8 8.8-.1-.1-274 274.1-79.2-79.2 230.1-230.1s0 .1.1.1l52.8-52.8c-35.7-69.3-24.5-156.5 33.6-214.6a184.2 184.2 0 0 1 144-53.5L537 318.9a32.05 32.05 0 0 0 0 45.3l124.5 124.5a32.05 32.05 0 0 0 45.3 0l132.8-132.8c3.7 51.8-14.4 104.8-53.6 143.9z"}}]})(t)}},function(t,e,n){"use strict";n.d(e,"c",function(){return l}),n.d(e,"b",function(){return s}),n.d(e,"a",function(){return c});var i=n(11),o=n(10),r=n(159),a=n(105),s="dxswipestart",l="dxswipe",c="dxswipeend",u={horizontal:{defaultItemSizeFunc:function(){return Object(i.k)(this.getElement())},getBounds:function(){return[this._maxLeftOffset,this._maxRightOffset]},calcOffsetRatio:function(t){return(Object(o.c)(t).x-(this._savedEventData&&this._savedEventData.x||0))/this._itemSizeFunc().call(this,t)},isFastSwipe:function(t){var e=Object(o.c)(t);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(e.x-this._tickData.x)>=e.time-this._tickData.time}},vertical:{defaultItemSizeFunc:function(){return Object(i.c)(this.getElement())},getBounds:function(){return[this._maxTopOffset,this._maxBottomOffset]},calcOffsetRatio:function(t){return(Object(o.c)(t).y-(this._savedEventData&&this._savedEventData.y||0))/this._itemSizeFunc().call(this,t)},isFastSwipe:function(t){var e=Object(o.c)(t);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(e.y-this._tickData.y)>=e.time-this._tickData.time}}},h=r.a.inherit({TICK_INTERVAL:300,FAST_SWIPE_SPEED_LIMIT:10,ctor:function(t){this.callBase(t),this.direction="horizontal",this.elastic=!0},_getStrategy:function(){return u[this.direction]},_defaultItemSizeFunc:function(){return this._getStrategy().defaultItemSizeFunc.call(this)},_itemSizeFunc:function(){return this.itemSizeFunc||this._defaultItemSizeFunc},_init:function(t){this._tickData=Object(o.c)(t)},_start:function(t){this._savedEventData=Object(o.c)(t),(t=this._fireEvent(s,t)).cancel||(this._maxLeftOffset=t.maxLeftOffset,this._maxRightOffset=t.maxRightOffset,this._maxTopOffset=t.maxTopOffset,this._maxBottomOffset=t.maxBottomOffset)},_move:function(t){var e=this._getStrategy(),n=Object(o.c)(t),i=e.calcOffsetRatio.call(this,t);i=this._fitOffset(i,this.elastic),n.time-this._tickData.time>this.TICK_INTERVAL&&(this._tickData=n),this._fireEvent(l,t,{offset:i}),t.preventDefault()},_end:function(t){var e=this._getStrategy(),n=e.calcOffsetRatio.call(this,t),i=e.isFastSwipe.call(this,t),o=n,r=this._calcTargetOffset(n,i);o=this._fitOffset(o,this.elastic),r=this._fitOffset(r,!1),this._fireEvent(c,t,{offset:o,targetOffset:r})},_fitOffset:function(t,e){var n=this._getStrategy().getBounds.call(this);return t<-n[0]?e?(-2*n[0]+t)/3:-n[0]:t>n[1]?e?(2*n[1]+t)/3:n[1]:t},_calcTargetOffset:function(t,e){var n;return e?(n=Math.ceil(Math.abs(t)),t<0&&(n=-n)):n=Math.round(t),n}});Object(a.a)({emitter:h,events:[s,l,c]})},function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"a",function(){return r}),n.d(e,"d",function(){return a});var i="vertical",o="horizontal",r="both",a="dx-scrollable-content"},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"e",function(){return l});var i=n(0);function o(t){return Object(i.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11 12h6v6h-6z"}},{tag:"path",attr:{d:"M19 4h-2V2h-2v2H9V2H7v2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2zm.001 16H5V8h14l.001 12z"}}]})(t)}function r(t){return Object(i.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"4"}},{tag:"path",attr:{d:"M13 4.069V2h-2v2.069A8.01 8.01 0 0 0 4.069 11H2v2h2.069A8.008 8.008 0 0 0 11 19.931V22h2v-2.069A8.007 8.007 0 0 0 19.931 13H22v-2h-2.069A8.008 8.008 0 0 0 13 4.069zM12 18c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6z"}}]})(t)}function a(t){return Object(i.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19 4h-3V2h-2v2h-4V2H8v2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2zM5 20V7h14V6l.002 14H5z"}},{tag:"path",attr:{d:"M7 9h10v2H7zm0 4h5v2H7z"}}]})(t)}function s(t){return Object(i.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m20.145 8.27 1.563-1.563-1.414-1.414L18.586 7c-1.05-.63-2.274-1-3.586-1-3.859 0-7 3.14-7 7s3.141 7 7 7 7-3.14 7-7a6.966 6.966 0 0 0-1.855-4.73zM15 18c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5z"}},{tag:"path",attr:{d:"M14 10h2v4h-2zm-1-7h4v2h-4zM3 8h4v2H3zm0 8h4v2H3zm-1-4h3.99v2H2z"}}]})(t)}function l(t){return Object(i.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m15 12 5-4-5-4v2.999H2v2h13zm7 3H9v-3l-5 4 5 4v-3h13z"}}]})(t)}},function(t,e,n){"use strict";var i=n(5),o=n(3),r=n(9),a=n(134),s=n(58);function l(t,e){return t=t.groupBy(e[0].selector),e.length>1&&(t=t.select(function(t){return Object(o.a)({},t,{items:l(Object(a.a)(t.items),e.slice(1)).toArray()})})),t}function c(t,e){var n=[];return Object(r.a)(t,function(t,o){Object(i.grep)(e,function(t){return o.selector===t.selector}).length<1&&n.push(o)}),n.concat(e)}e.a={multiLevelGroup:l,arrangeSortingInfo:c,queryByOptions:function(t,e,n){var i=(e=e||{}).filter;if(i&&(t=t.filter(i)),n)return t;var o=e.sort,a=e.select,u=e.group,h=e.skip,d=e.take;return u&&((u=Object(s.i)(u)).keepInitialKeyOrder=!!e.group.keepInitialKeyOrder),(o||u)&&(o=Object(s.i)(o||[]),u&&!u.keepInitialKeyOrder&&(o=c(u,o)),Object(r.a)(o,function(e){t=t[e?"thenBy":"sortBy"](this.selector,this.desc,this.compare)})),a&&(t=t.select(a)),u&&(t=l(t,u)),(d||h)&&(t=t.slice(h||0,d)),t}}},function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return p});n(41);var i=n(40),o=n(4),r=n(30),a=n(35);function s(){return(s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function l(t,e){if(null==t)return{};var n,i,o={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(o[n]=t[n]);return o}var c=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function u(t){var e=t.basename,n=t.children,s=t.window,l=o.useRef();null==l.current&&(l.current=Object(a.f)({window:s,v5Compat:!0}));var c=l.current,u=o.useState({action:c.action,location:c.location}),h=Object(i.a)(u,2),d=h[0],p=h[1];return o.useLayoutEffect(function(){return c.listen(p)},[c]),o.createElement(r.b,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:c})}var h="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,d=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p=o.forwardRef(function(t,e){var n,i=t.onClick,u=t.relative,p=t.reloadDocument,f=t.replace,m=t.state,g=t.target,v=t.to,y=t.preventScrollReset,_=l(t,c),b=o.useContext(r.f).basename,C=!1;if("string"===typeof v&&d.test(v)&&(n=v,h)){var O=new URL(window.location.href),x=v.startsWith("//")?new URL(O.protocol+v):new URL(v),S=Object(a.q)(x.pathname,b);x.origin===O.origin&&null!=S?v=S+x.search+x.hash:C=!0}var w=Object(r.j)(v,{relative:u}),P=function(t,e){var n=void 0===e?{}:e,i=n.target,s=n.replace,l=n.state,c=n.preventScrollReset,u=n.relative,h=Object(r.m)(),d=Object(r.k)(),p=Object(r.o)(t,{relative:u});return o.useCallback(function(e){if(function(t,e){return 0===t.button&&(!e||"_self"===e)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)}(e,i)){e.preventDefault();var n=void 0!==s?s:Object(a.i)(d)===Object(a.i)(p);h(t,{replace:n,state:l,preventScrollReset:c,relative:u})}},[d,h,p,s,l,i,t,c,u])}(v,{replace:f,state:m,target:g,preventScrollReset:y,relative:u});return o.createElement("a",s({},_,{href:n||w,onClick:C||p?i:function(t){i&&i(t),t.defaultPrevented||P(t)},ref:e,target:g}))});var f,m;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(f||(f={})),function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(m||(m={}))},function(t,e,n){"use strict";var i=n(3),o=n(112),r=n(76),a="http://js.devexpress.com/error/"+n(152).a.split(".").slice(0,2).join("_")+"/";e.a=function(t,e){var n={ERROR_MESSAGES:Object(i.a)(e,t),Error:function(){return c([].slice.call(arguments))},log:function(t){var e="log";/^E\d+$/.test(t)?e="error":/^W\d+$/.test(t)&&(e="warn"),o.a[e]("log"===e?t:function(t){var e=t[0];return t=t.slice(1),l(e,s(e,t))}([].slice.call(arguments)))}};function s(t,e){return e=[n.ERROR_MESSAGES[t]].concat(e),r.b.apply(this,e).replace(/\.*\s*?$/,"")}function l(t,e){return r.b.apply(this,["{0} - {1}. See:\n{2}",t,e,u(t)])}function c(t){var e=t[0],n=s(e,t=t.slice(1)),o=u(e),r=l(e,n);return Object(i.a)(new Error(r),{__id:e,__details:n,url:o})}function u(t){return a+t}return n}},function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return d});var i=n(7),o=n(46),r=n(32),a=n(20),s=n(85),l=n(10),c=n(44),u="dxhoverstart",h=Object(l.a)(c.a.enter,"dxHoverStart"),d="dxhoverend",p=Object(l.a)(c.a.leave,"dxHoverEnd"),f=r.a.inherit({noBubble:!0,ctor:function(){this._handlerArrayKeyPath=this._eventNamespace+"_HandlerStore"},setup:function(t){Object(o.c)(t,this._handlerArrayKeyPath,{})},add:function(t,e){var n=this,r=function(t){n._handler(t)};i.a.on(t,this._originalEventName,e.selector,r),Object(o.c)(t,this._handlerArrayKeyPath)[e.guid]=r},_handler:function(t){Object(l.l)(t)||a.a.isSimulator()||Object(l.f)({type:this._eventName,originalEvent:t,delegateTarget:t.delegateTarget})},remove:function(t,e){var n=Object(o.c)(t,this._handlerArrayKeyPath)[e.guid];i.a.off(t,this._originalEventName,e.selector,n)},teardown:function(t){Object(o.d)(t,this._handlerArrayKeyPath)}}),m=f.inherit({ctor:function(){this._eventNamespace="dxHoverStart",this._eventName=u,this._originalEventName=h,this.callBase()},_handler:function(t){(t.pointers||[]).length||this.callBase(t)}}),g=f.inherit({ctor:function(){this._eventNamespace="dxHoverEnd",this._eventName=d,this._originalEventName=p,this.callBase()}});Object(s.a)(u,new m),Object(s.a)(d,new g)},function(t,e,n){"use strict";n.r(e),n.d(e,"on",function(){return o}),n.d(e,"one",function(){return r}),n.d(e,"off",function(){return a}),n.d(e,"trigger",function(){return s}),n.d(e,"triggerHandler",function(){return l}),n.d(e,"Event",function(){return c});var i=n(7),o=i.a.on,r=i.a.one,a=i.a.off,s=i.a.trigger,l=i.a.triggerHandler,c=i.a.Event},function(t,e,n){"use strict";(function(t){var i=n(21),o=n(56),r=n(197);function a(t){return i.a.isPlainObject(t)||i.a.isArray(t)}function s(t){return i.a.endsWith(t,"[]")?t.slice(0,-2):t}function l(t,e,n){return t?t.concat(e).map(function(t,e){return t=s(t),!n&&e?"["+t+"]":t}).join(n?".":""):e}var c=i.a.toFlatObject(i.a,{},null,function(t){return/^is[A-Z]/.test(t)});e.a=function(e,n,u){if(!i.a.isObject(e))throw new TypeError("target must be an object");n=n||new(r.a||FormData);var h=(u=i.a.toFlatObject(u,{metaTokens:!0,dots:!1,indexes:!1},!1,function(t,e){return!i.a.isUndefined(e[t])})).metaTokens,d=u.visitor||v,p=u.dots,f=u.indexes,m=(u.Blob||"undefined"!==typeof Blob&&Blob)&&i.a.isSpecCompliantForm(n);if(!i.a.isFunction(d))throw new TypeError("visitor must be a function");function g(e){if(null===e)return"";if(i.a.isDate(e))return e.toISOString();if(!m&&i.a.isBlob(e))throw new o.a("Blob is not supported. Use a Buffer instead.");return i.a.isArrayBuffer(e)||i.a.isTypedArray(e)?m&&"function"===typeof Blob?new Blob([e]):t.from(e):e}function v(t,e,o){var r=t;if(t&&!o&&"object"===typeof t)if(i.a.endsWith(e,"{}"))e=h?e:e.slice(0,-2),t=JSON.stringify(t);else if(i.a.isArray(t)&&function(t){return i.a.isArray(t)&&!t.some(a)}(t)||(i.a.isFileList(t)||i.a.endsWith(e,"[]"))&&(r=i.a.toArray(t)))return e=s(e),r.forEach(function(t,o){!i.a.isUndefined(t)&&null!==t&&n.append(!0===f?l([e],o,p):null===f?e:e+"[]",g(t))}),!1;return!!a(t)||(n.append(l(o,e,p),g(t)),!1)}var y=[],_=Object.assign(c,{defaultVisitor:v,convertValue:g,isVisitable:a});if(!i.a.isObject(e))throw new TypeError("data must be an object");return function t(e,o){if(!i.a.isUndefined(e)){if(-1!==y.indexOf(e))throw Error("Circular reference detected in "+o.join("."));y.push(e),i.a.forEach(e,function(e,r){!0===(!(i.a.isUndefined(e)||null===e)&&d.call(n,e,i.a.isString(r)?r.trim():r,o,_))&&t(e,o?o.concat(r):[r])}),y.pop()}}(e),n}}).call(this,n(227).Buffer)},function(t,e,n){"use strict";var i=n(2),o=n(5),r=n(32),a=n(43),s=n(3),l=n(10),c=r.a.inherit({ctor:function(t){this._$element=Object(i.a)(t),this._cancelCallback=Object(a.a)(),this._acceptCallback=Object(a.a)()},getElement:function(){return this._$element},validate:function(t){return!Object(l.j)(t)},validatePointers:function(t){return 1===Object(l.h)(t)},allowInterruptionByMouseWheel:function(){return!0},configure:function(t){Object(s.a)(this,t)},addCancelCallback:function(t){this._cancelCallback.add(t)},removeCancelCallback:function(){this._cancelCallback.empty()},_cancel:function(t){this._cancelCallback.fire(this,t)},addAcceptCallback:function(t){this._acceptCallback.add(t)},removeAcceptCallback:function(){this._acceptCallback.empty()},_accept:function(t){this._acceptCallback.fire(this,t)},_requestAccept:function(t){this._acceptRequestEvent=t},_forgetAccept:function(){this._accept(this._acceptRequestEvent),this._acceptRequestEvent=null},start:o.noop,move:o.noop,end:o.noop,cancel:o.noop,reset:function(){this._acceptRequestEvent&&this._accept(this._acceptRequestEvent)},_fireEvent:function(t,e,n){var i=Object(s.a)({type:t,originalEvent:e,target:this._getEmitterTarget(e),delegateTarget:this.getElement().get(0)},n);return(e=Object(l.f)(i)).cancel&&this._cancel(e),e},_getEmitterTarget:function(t){return(this.delegateSelector?Object(i.a)(t.target).closest(this.delegateSelector):this.getElement()).get(0)},dispose:o.noop});e.a=c},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={className:"",activeStateEnabled:!1,disabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,tabIndex:0,visible:!0}},function(t,e,n){"use strict";var i=n(32),o=n(1),r=n(9),a=n(37),s=n(16),l=n(66),c=n(58),u=i.a.inherit({toArray:function(){var t=[];for(this.reset();this.next();)t.push(this.current());return t},countable:function(){return!1}}),h=u.inherit({ctor:function(t){this.array=t,this.index=-1},next:function(){return this.index+1<this.array.length&&(this.index++,!0)},current:function(){return this.array[this.index]},reset:function(){this.index=-1},toArray:function(){return this.array.slice(0)},countable:function(){return!0},count:function(){return this.array.length}}),d=u.inherit({ctor:function(t){this.iter=t},next:function(){return this.iter.next()},current:function(){return this.iter.current()},reset:function(){return this.iter.reset()}}),p=d.inherit({ctor:function(t,e){this.callBase(t),this.index=-1,this.mapper=e},current:function(){return this.mapper(this.callBase(),this.index)},next:function(){var t=this.callBase();return t&&this.index++,t}}),f=function(t,e){return t=Object(a.d)(t),e=Object(a.d)(e),null===t&&null!==e?-1:null!==t&&null===e?1:void 0===t&&void 0!==e?1:void 0!==t&&void 0===e?-1:t<e?-1:t>e?1:0},m=u.inherit({ctor:function(t,e,n,i){t instanceof p||(t=new p(t,this._wrap)),this.iter=t,this.rules=[{getter:e,desc:n,compare:i}]},thenBy:function(t,e,n){var i=new m(this.sortedIter||this.iter,t,e,n);return this.sortedIter||(i.rules=this.rules.concat(i.rules)),i},next:function(){return this._ensureSorted(),this.sortedIter.next()},current:function(){return this._ensureSorted(),this.sortedIter.current()},reset:function(){delete this.sortedIter},countable:function(){return this.sortedIter||this.iter.countable()},count:function(){return this.sortedIter?this.sortedIter.count():this.iter.count()},_ensureSorted:function(){var t=this;t.sortedIter||(Object(r.a)(t.rules,function(){this.getter=Object(a.a)(this.getter)}),t.sortedIter=new p(new h(this.iter.toArray().sort(function(e,n){return t._compare(e,n)})),t._unwrap))},_wrap:function(t,e){return{index:e,value:t}},_unwrap:function(t){return t.value},_compare:function(t,e){var n=t.index,i=e.index;if((t=t.value)===(e=e.value))return n-i;for(var o=0,r=this.rules.length;o<r;o++){var a=this.rules[o],s=a.getter(t),l=a.getter(e),c=(a.compare||f)(s,l);if(c)return a.desc?-c:c}return n-i}}),g=function(){var t=function(t){return Object(o.d)(t)?t.toString():""};function e(t,e,n){return function(i){i=Object(a.d)(t(i));var o=function(t){return""===t||0===t||!1===t}(e)?i===e:i==e;return n&&(o=!o),o}}return function(n){return Object(o.h)(n)?n:Object(c.e)(n)?function(t){var e=[],n=!1,i=!1;return Object(r.a)(t,function(){if(Array.isArray(this)||Object(o.h)(this)){if(e.length>1&&n!==i)throw new l.a.Error("E4019");e.push(g(this)),n=i,i=!0}else i=Object(c.d)(this)}),function(t){for(var i=n,o=0;o<e.length;o++)if(e[o](t)!==n){i=!n;break}return i}}(n):Object(c.f)(n)?function(t){var e=t[0],n=g(t[1]);if("!"===e)return function(t){return!n(t)};throw l.a.Error("E4003",e)}(n):function(n){n=Object(c.h)(n);var i=Object(a.a)(n[0]),o=n[1],r=n[2];r=Object(a.d)(r);var s=function(t,e){return t=Object(a.d)(i(t)),(null!=r&&null!=t||r===t)&&e(t,r)};switch(o.toLowerCase()){case"=":return e(i,r);case"<>":return e(i,r,!0);case">":return function(t){return s(t,function(t,e){return t>e})};case"<":return function(t){return s(t,function(t,e){return t<e})};case">=":return function(t){return s(t,function(t,e){return t>=e})};case"<=":return function(t){return s(t,function(t,e){return t<=e})};case"startswith":return function(e){return 0===Object(a.d)(t(i(e))).indexOf(r)};case"endswith":return function(e){var n=Object(a.d)(t(i(e))),o=t(r);if(n.length<o.length)return!1;var s=n.lastIndexOf(r);return-1!==s&&s===n.length-r.length};case"contains":return function(e){return Object(a.d)(t(i(e))).indexOf(r)>-1};case"notcontains":return function(e){return-1===Object(a.d)(t(i(e))).indexOf(r)}}throw l.a.Error("E4003",o)}(n)}}(),v=d.inherit({ctor:function(t,e){this.callBase(t),this.criteria=g(e)},next:function(){for(;this.iter.next();)if(this.criteria(this.current()))return!0;return!1}}),y=u.inherit({ctor:function(t,e){this.iter=t,this.getter=e},next:function(){return this._ensureGrouped(),this.groupedIter.next()},current:function(){return this._ensureGrouped(),this.groupedIter.current()},reset:function(){delete this.groupedIter},countable:function(){return!!this.groupedIter},count:function(){return this.groupedIter.count()},_ensureGrouped:function(){if(!this.groupedIter){var t={},e=[],n=this.iter,i=Object(a.a)(this.getter);for(n.reset();n.next();){var o=n.current(),s=i(o);s in t?t[s].push(o):(t[s]=[o],e.push(s))}this.groupedIter=new h(Object(r.b)(e,function(e){return{key:e,items:t[e]}}))}}}),_=d.inherit({ctor:function(t,e){this.callBase(t),this.getter=Object(a.a)(e)},current:function(){return this.getter(this.callBase())},countable:function(){return this.iter.countable()},count:function(){return this.iter.count()}}),b=d.inherit({ctor:function(t,e,n){this.callBase(t),this.skip=Math.max(0,e),this.take=Math.max(0,n),this.pos=0},next:function(){if(this.pos>=this.skip+this.take)return!1;for(;this.pos<this.skip&&this.iter.next();)this.pos++;return this.pos++,this.iter.next()},reset:function(){this.callBase(),this.pos=0},countable:function(){return this.iter.countable()},count:function(){return Math.min(this.iter.count()-this.skip,this.take)}});e.a=function t(e,n){n=n||{},e instanceof u||(e=new h(e));var i=function(t){var e=n.errorHandler;e&&e(t),Object(l.b)(t)},r=function(t){var n=(new s.a).fail(i),o=t.step,r=t.finalize;try{e.reset();for(var a=("seed"in t?t.seed:e.next()?e.current():NaN);e.next();)a=o(a,e.current());n.resolve(r?r(a):a)}catch(l){n.reject(l)}return n.promise()},d=function(t){return r(c.b[t])},p=function(t){return Object(o.h)(t)||Array.isArray(t)||(t=[].slice.call(arguments)),g(new _(e,t))},f=function(t){return p(Object(a.a)(t))};function g(e){return t(e,n)}return{toArray:function(){return e.toArray()},enumerate:function(){var t=(new s.a).fail(i);try{t.resolve(e.toArray())}catch(n){t.reject(n)}return t.promise()},sortBy:function(t,n,i){return g(new m(e,t,n,i))},thenBy:function(t,n,i){if(e instanceof m)return g(e.thenBy(t,n,i));throw l.a.Error("E4004")},filter:function(t){return Array.isArray(t)||(t=[].slice.call(arguments)),g(new v(e,t))},slice:function(t,n){return void 0===n&&(n=Number.MAX_VALUE),g(new b(e,t,n))},select:p,groupBy:function(t){return g(new y(e,t))},aggregate:function(t,e,n){return arguments.length<2?r({step:arguments[0]}):r({seed:t,step:e,finalize:n})},count:function(){if(e.countable()){var t=(new s.a).fail(i);try{t.resolve(e.count())}catch(n){t.reject(n)}return t.promise()}return d("count")},sum:function(t){return t?f(t).sum():d("sum")},min:function(t){return t?f(t).min():d("min")},max:function(t){return t?f(t).max():d("max")},avg:function(t){return t?f(t).avg():d("avg")}}}},function(t,e,n){"use strict";var i=n(27),o=n(2),r=n(95),a=n(3),s=n(9),l=n(92),c=n(58),u=n(16),h=n(201),d=n(17),p=n(5);e.a=r.a.inherit({_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{repaintChangesOnly:!1})},ctor:function(){var t,e=this;this.callBase.apply(this,arguments),this._customizeStoreLoadOptions=function(t){e._dataController.getDataSource()&&!e._dataController.isLoaded()&&(e._correctionIndex=0),e._correctionIndex&&t.storeLoadOptions&&(t.storeLoadOptions.skip+=e._correctionIndex)},null===(t=this._dataController)||void 0===t||t.on("customizeStoreLoadOptions",this._customizeStoreLoadOptions)},reload:function(){this._correctionIndex=0},_init:function(){this.callBase(),this._refreshItemsCache(),this._correctionIndex=0},_findItemElementByKey:function(t){var e=this,n=Object(o.a)(),i=this.key();return this.itemElements().each(function(r,a){var s=Object(o.a)(a),l=e._getItemData(s);if(i?Object(c.g)(i,e.keyOf(l),t):e._isItemEquals(l,t))return n=s,!1}),n},_dataSourceChangedHandler:function(t,e){null!==e&&void 0!==e&&e.changes?this._modifyByChanges(e.changes):(this.callBase(t,e),this._refreshItemsCache())},_isItemEquals:function(t,e){t&&t.__dx_key__&&(t=t.data);try{return JSON.stringify(t)===JSON.stringify(e)}catch(n){return t===e}},_isItemStrictEquals:function(t,e){return this._isItemEquals(t,e)},_shouldAddNewGroup:function(t,e){var n=!1;return this.option("grouped")&&(t.length||(n=!0),Object(s.a)(t,function(t,i){"insert"===i.type&&(n=!0,Object(s.a)(e,function(t,e){if(void 0!==i.data.key&&i.data.key===e.key)return n=!1,!1}))})),n},_partialRefresh:function(){var t=this;if(this.option("repaintChangesOnly")){var e=Object(h.a)(this._itemsCache,this._editStrategy.itemsGetter(),function(e){return e&&void 0!==e.__dx_key__?e.__dx_key__:t.keyOf(e)},this._isItemStrictEquals.bind(this));if(e&&this._itemsCache.length&&!this._shouldAddNewGroup(e,this._itemsCache))return this._modifyByChanges(e,!0),this._renderEmptyMessage(),!0;this._refreshItemsCache()}return!1},_refreshItemsCache:function(){if(this.option("repaintChangesOnly")){var t=this._editStrategy.itemsGetter();try{this._itemsCache=Object(a.a)(!0,[],t),this.key()||(this._itemsCache=this._itemsCache.map(function(e,n){var o;return o={},Object(i.a)(o,"__dx_key__",t[n]),Object(i.a)(o,"data",e),o}))}catch(e){this._itemsCache=Object(a.a)([],t)}}},_dispose:function(){this._dataController.off("customizeStoreLoadOptions",this._customizeStoreLoadOptions),this.callBase()},_updateByChange:function(t,e,n,i){var o=this;if(i)this._renderItem(n.index,n.data,null,this._findItemElementByKey(n.key));else{var r=e[Object(l.b)(t,e,n.key)];r&&Object(l.e)(t,e,n.key,n.data).done(function(){o._renderItem(e.indexOf(r),r,null,o._findItemElementByKey(n.key))})}},_insertByChange:function(t,e,n,i){var o=this;Object(u.c)(i||Object(l.c)(t,e,n.data,n.index)).done(function(){var t;o._beforeItemElementInserted(n);var i=o._getItemContainer(n.data);o._renderItem(null!==(t=n.index)&&void 0!==t?t:e.length,n.data,i),o._afterItemElementInserted(),o._correctionIndex++})},_getItemContainer:function(t){return this._itemContainer()},_updateSelectionAfterRemoveByChange:function(t){var e=this.option("selectedIndex");e>t?this.option("selectedIndex",e-1):e===t&&1===this.option("selectedItems").length?this.option("selectedItems",[]):this._normalizeSelectedItems()},_beforeItemElementInserted:function(t){var e=this.option("selectedIndex");t.index<=e&&this.option("selectedIndex",e+1)},_afterItemElementInserted:p.noop,_removeByChange:function(t,e,n,i){var o=this,r=i?n.index:Object(l.b)(t,e,n.key);if(i?n.oldItem:e[r]){var a=this._findItemElementByKey(n.key),s=this._extendActionArgs(a);this._waitDeletingPrepare(a).done(function(){i?(o._updateIndicesAfterIndex(r-1),o._afterItemElementDeleted(a,s),o._updateSelectionAfterRemoveByChange(r)):(o._deleteItemElementByIndex(r),o._afterItemElementDeleted(a,s))}),this._correctionIndex--}},_modifyByChanges:function(t,e){var n=this,i=this._editStrategy.itemsGetter(),o={key:this.key.bind(this),keyOf:this.keyOf.bind(this)},r=this._dataController,a=r.paginate(),s=r.group();(a||s)&&(t=t.filter(function(t){return"insert"!==t.type||void 0!==t.index})),t.forEach(function(t){return n["_".concat(t.type,"ByChange")](o,i,t,e)}),this._renderedItemsCount=i.length,this._refreshItemsCache(),this._fireContentReadyAction()},_appendItemToContainer:function(t,e,n){var i=t.children(this._itemSelector()).get(n);d.a.insertElement(t.get(0),e.get(0),i)},_optionChanged:function(t){switch(t.name){case"items":this._partialRefresh(t.value)||this.callBase(t);break;case"dataSource":this.option("repaintChangesOnly")&&t.value||this.option("items",[]),this.callBase(t);break;case"repaintChangesOnly":break;default:this.callBase(t)}}})},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(12),o=n(13),r=n(2),a=function(){function t(e,n,o){Object(i.a)(this,t),this.instance=null,this.$container=null,this.$placeMarker=null,this.editor=n,this.name=e,this.options=o||{}}return Object(o.a)(t,[{key:"_addPlaceMarker",value:function(t){this.$placeMarker=Object(r.a)("<div>").appendTo(t)}},{key:"_addToContainer",value:function(t){var e=this.$placeMarker,n=this.$container;e?e.replaceWith(t):t.appendTo(n)}},{key:"_attachEvents",value:function(){throw"Not implemented"}},{key:"_create",value:function(){throw"Not implemented"}},{key:"_isRendered",value:function(){return!!this.instance}},{key:"_isVisible",value:function(){var t=this.editor;return this.options.visible||!t.option("readOnly")}},{key:"_isDisabled",value:function(){throw"Not implemented"}},{key:"_shouldRender",value:function(){return this._isVisible()&&!this._isRendered()}},{key:"dispose",value:function(){var t=this.instance,e=this.$placeMarker;t&&(t.dispose?t.dispose():t.remove(),this.instance=null),e&&e.remove()}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$container;if(this.$container=t,this._isVisible()){var e=this._create(),n=e.instance,i=e.$element;this.instance=n,this._attachEvents(n,i)}else this._addPlaceMarker(t)}},{key:"update",value:function(){return this._shouldRender()&&this.render(),!!this.instance}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(12),o=n(13),r=n(2),a=n(15),s=n(1),l=n(9),c=function(){function t(e,n){Object(i.a)(this,t),n=n||{},this._action=e,this._context=n.context||Object(a.d)(),this._beforeExecute=n.beforeExecute,this._afterExecute=n.afterExecute,this._component=n.component,this._validatingTargetName=n.validatingTargetName;var o=this._excludeValidators={};if(n.excludeValidators)for(var r=0;r<n.excludeValidators.length;r++)o[n.excludeValidators[r]]=!0}return Object(o.a)(t,[{key:"execute",value:function(){var t={action:this._action,args:Array.prototype.slice.call(arguments),context:this._context,component:this._component,validatingTargetName:this._validatingTargetName,cancel:!1,handled:!1},e=this._beforeExecute,n=this._afterExecute,i=t.args[0]||{};if(this._validateAction(t)&&(null===e||void 0===e||e.call(this._context,t),!t.cancel)){var o=this._executeAction(t);if(!i.cancel)return null===n||void 0===n||n.call(this._context,t),o}}},{key:"_validateAction",value:function(e){var n=this._excludeValidators,i=t.executors;for(var o in i)if(!n[o]){var r,a=i[o];if(null===(r=a.validate)||void 0===r||r.call(a,e),e.cancel)return!1}return!0}},{key:"_executeAction",value:function(e){var n,i=t.executors;for(var o in i){var r,a=i[o];if(null===(r=a.execute)||void 0===r||r.call(a,e),e.handled){n=e.result;break}}return n}}],[{key:"registerExecutor",value:function(e,n){Object(s.k)(e)?Object(l.a)(e,t.registerExecutor):t.executors[e]=n}},{key:"unregisterExecutor",value:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];Object(l.a)(n,function(){delete t.executors[this]})}}]),t}();c.executors={};var u=function(t){return function(e){if(e.args.length){var n=e.args[0],i=n[e.validatingTargetName]||n.element;i&&t(Object(r.a)(i))&&(e.cancel=!0)}}};c.registerExecutor({disabled:{validate:u(function(t){return t.is(".dx-state-disabled, .dx-state-disabled *")})},readOnly:{validate:u(function(t){return t.is(".dx-state-readonly, .dx-state-readonly *:not(.dx-state-independent)")})},undefined:{execute:function(t){t.action||(t.result=void 0,t.handled=!0)}},func:{execute:function(t){Object(s.h)(t.action)&&(t.result=t.action.call(t.context,t.args[0]),t.handled=!0)}}})},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(12),o=n(13),r=n(19),a=n(6),s=n(18),l=n(102),c=n(48),u=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(r.a)(this,Object(a.a)(e).call(this)))._render=t,n}return Object(s.a)(e,t),Object(o.a)(e,[{key:"_renderCore",value:function(t){return Object(c.f)(this._render(t))}}]),e}(l.a)},function(t,e,n){"use strict";var i=n(12),o=n(13),r=n(19),a=n(6),s=n(18),l=n(22),c=n(27),u=n(61),h=n(24),d=n(25),p=n(36),f=n(54),m=(n(129),n(1)),g=n(63),v=n(7),y=n(10),_=n(87),b=n(44);function C(t){return function(e,n,i,o){var r=o?Object(y.a)(t,o):t;if(n)return v.a.on(e,r,i,n),function(){v.a.off(e,r,n)}}}C(f.a),C(_.a.scroll),C(_.a.init),C(_.a.start),C(_.a.move),C(_.a.end),C(_.a.stop),C(_.a.cancel),C(b.a.down),C(b.a.up),C(b.a.move),C("mouseenter"),C("mouseleave"),C("keydown");var O=C("dxactive"),x=C("dxinactive"),S=C("dxhoverstart"),w=C("dxhoverend"),P=C("focusin"),k=C("focusout"),E=n(103),T=n(3),I=n(73),j=n(133),M=n(117),D=["children","rtlEnabled"],A=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(r.a)(this,Object(a.a)(e).call(this,t))).state={},n.__getterCache={},n}return Object(s.a)(e,t),Object(o.a)(e,[{key:"getChildContext",value:function(){return Object(h.a)({},this.context,Object(c.a)({},M.a.id,this.config||M.a.defaultValue))}},{key:"componentWillUpdate",value:function(t,e,n){this.props.rtlEnabled!==t.rtlEnabled&&(this.__getterCache.config=void 0)}},{key:"render",value:function(){var t=this.props;return{props:Object(h.a)({},t),config:this.config,restAttributes:this.restAttributes}.props.children}},{key:"config",get:function(){var t=this;return void 0!==this.__getterCache.config?this.__getterCache.config:this.__getterCache.config={rtlEnabled:t.props.rtlEnabled}}},{key:"restAttributes",get:function(){var t=this.props;return Object(u.a)(t,D)}}]),e}(p.a);A.defaultProps={};var R=n(50);var B=n(98),L=n(38),N=n(17);n.d(e,"b",function(){return F}),n.d(e,"a",function(){return H});var z=["_feedbackHideTimeout","_feedbackShowTimeout","accessKey","activeStateEnabled","activeStateUnit","addWidgetClass","aria","children","className","classes","cssText","disabled","focusStateEnabled","height","hint","hoverStateEnabled","name","onActive","onClick","onDimensionChanged","onFocusIn","onFocusOut","onHoverEnd","onHoverStart","onInactive","onKeyDown","onRootElementRendered","onVisibilityChange","rootElementRef","rtlEnabled","tabIndex","visible","width"],F=Object.create(Object.prototype,Object(h.a)(Object.getOwnPropertyDescriptors(j.a),Object.getOwnPropertyDescriptors({_feedbackHideTimeout:400,_feedbackShowTimeout:30,cssText:"",aria:Object.freeze({}),classes:"",name:"",addWidgetClass:!0}))),H=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(r.a)(this,Object(a.a)(e).call(this,t))).widgetElementRef=Object(d.o)(),n.state={active:!1,focused:!1,hovered:!1},n.setRootElementRef=n.setRootElementRef.bind(Object(l.a)(Object(l.a)(n))),n.activeEffect=n.activeEffect.bind(Object(l.a)(Object(l.a)(n))),n.inactiveEffect=n.inactiveEffect.bind(Object(l.a)(Object(l.a)(n))),n.clickEffect=n.clickEffect.bind(Object(l.a)(Object(l.a)(n))),n.focus=n.focus.bind(Object(l.a)(Object(l.a)(n))),n.blur=n.blur.bind(Object(l.a)(Object(l.a)(n))),n.activate=n.activate.bind(Object(l.a)(Object(l.a)(n))),n.deactivate=n.deactivate.bind(Object(l.a)(Object(l.a)(n))),n.focusInEffect=n.focusInEffect.bind(Object(l.a)(Object(l.a)(n))),n.focusOutEffect=n.focusOutEffect.bind(Object(l.a)(Object(l.a)(n))),n.hoverStartEffect=n.hoverStartEffect.bind(Object(l.a)(Object(l.a)(n))),n.hoverEndEffect=n.hoverEndEffect.bind(Object(l.a)(Object(l.a)(n))),n.keyboardEffect=n.keyboardEffect.bind(Object(l.a)(Object(l.a)(n))),n.resizeEffect=n.resizeEffect.bind(Object(l.a)(Object(l.a)(n))),n.windowResizeEffect=n.windowResizeEffect.bind(Object(l.a)(Object(l.a)(n))),n.visibilityEffect=n.visibilityEffect.bind(Object(l.a)(Object(l.a)(n))),n.checkDeprecation=n.checkDeprecation.bind(Object(l.a)(Object(l.a)(n))),n.applyCssTextEffect=n.applyCssTextEffect.bind(Object(l.a)(Object(l.a)(n))),n}return Object(s.a)(e,t),Object(o.a)(e,[{key:"createEffects",value:function(){return[new p.c(this.setRootElementRef,[]),new p.c(this.activeEffect,[this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),new p.c(this.inactiveEffect,[this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),new p.c(this.clickEffect,[this.props.disabled,this.props.name,this.props.onClick]),new p.c(this.focusInEffect,[this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),new p.c(this.focusOutEffect,[this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),new p.c(this.hoverStartEffect,[this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),new p.c(this.hoverEndEffect,[this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),new p.c(this.keyboardEffect,[this.props.focusStateEnabled,this.props.onKeyDown]),new p.c(this.resizeEffect,[this.props.name,this.props.onDimensionChanged]),new p.c(this.windowResizeEffect,[this.props.onDimensionChanged]),new p.c(this.visibilityEffect,[this.props.name,this.props.onVisibilityChange]),new p.c(this.checkDeprecation,[this.props.height,this.props.width]),new p.c(this.applyCssTextEffect,[this.props.cssText]),Object(p.g)()]}},{key:"updateEffects",value:function(){var t,e,n,i,o,r,a,s,l,c,u,h,d;null===(t=this._effects[1])||void 0===t||t.update([this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),null===(e=this._effects[2])||void 0===e||e.update([this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),null===(n=this._effects[3])||void 0===n||n.update([this.props.disabled,this.props.name,this.props.onClick]),null===(i=this._effects[4])||void 0===i||i.update([this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),null===(o=this._effects[5])||void 0===o||o.update([this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),null===(r=this._effects[6])||void 0===r||r.update([this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),null===(a=this._effects[7])||void 0===a||a.update([this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),null===(s=this._effects[8])||void 0===s||s.update([this.props.focusStateEnabled,this.props.onKeyDown]),null===(l=this._effects[9])||void 0===l||l.update([this.props.name,this.props.onDimensionChanged]),null===(c=this._effects[10])||void 0===c||c.update([this.props.onDimensionChanged]),null===(u=this._effects[11])||void 0===u||u.update([this.props.name,this.props.onVisibilityChange]),null===(h=this._effects[12])||void 0===h||h.update([this.props.height,this.props.width]),null===(d=this._effects[13])||void 0===d||d.update([this.props.cssText])}},{key:"setRootElementRef",value:function(){var t=this.props,e=t.onRootElementRendered,n=t.rootElementRef;n&&(n.current=this.widgetElementRef.current),null===e||void 0===e||e(this.widgetElementRef.current)}},{key:"activeEffect",value:function(){var t=this,e=this.props,n=e._feedbackShowTimeout,i=e.activeStateEnabled,o=e.activeStateUnit,r=e.disabled,a=e.onActive,s=o;if(i&&!r)return O(this.widgetElementRef.current,function(e){t.setState(function(t){return{active:!0}}),null===a||void 0===a||a(e)},{timeout:n,selector:s},"UIFeedback")}},{key:"inactiveEffect",value:function(){var t=this,e=this.props,n=e._feedbackHideTimeout,i=e.activeStateEnabled,o=e.activeStateUnit,r=e.onInactive,a=o;if(i)return x(this.widgetElementRef.current,function(e){t.state.active&&(t.setState(function(t){return{active:!1}}),null===r||void 0===r||r(e))},{timeout:n,selector:a},"UIFeedback")}},{key:"clickEffect",value:function(){var t=this,e=this.props,n=e.disabled,i=e.name,o=e.onClick,r=i;if(o&&!n)return g.c.on(this.widgetElementRef.current,o,{namespace:r}),function(){return g.c.off(t.widgetElementRef.current,{namespace:r})}}},{key:"focusInEffect",value:function(){var t=this,e=this.props,n=e.disabled,i=e.focusStateEnabled,o=e.name,r=e.onFocusIn,a="".concat(o,"Focus");if(i&&!n)return P(this.widgetElementRef.current,function(e){e.isDefaultPrevented()||(t.setState(function(t){return{focused:!0}}),null===r||void 0===r||r(e))},null,a)}},{key:"focusOutEffect",value:function(){var t=this,e=this.props,n=e.focusStateEnabled,i=e.name,o=e.onFocusOut,r="".concat(i,"Focus");if(n)return k(this.widgetElementRef.current,function(e){!e.isDefaultPrevented()&&t.state.focused&&(t.setState(function(t){return{focused:!1}}),null===o||void 0===o||o(e))},null,r)}},{key:"hoverStartEffect",value:function(){var t=this,e=this.props,n=e.activeStateUnit,i=e.disabled,o=e.hoverStateEnabled,r=e.onHoverStart,a=n;if(o&&!i)return S(this.widgetElementRef.current,function(e){!t.state.active&&t.setState(function(t){return{hovered:!0}}),null===r||void 0===r||r(e)},{selector:a},"UIFeedback")}},{key:"hoverEndEffect",value:function(){var t=this,e=this.props,n=e.activeStateUnit,i=e.hoverStateEnabled,o=e.onHoverEnd,r=n;if(i)return w(this.widgetElementRef.current,function(e){t.state.hovered&&(t.setState(function(t){return{hovered:!1}}),null===o||void 0===o||o(e))},{selector:r},"UIFeedback")}},{key:"keyboardEffect",value:function(){var t=this.props,e=t.focusStateEnabled,n=t.onKeyDown;if(e&&n){var i=g.f.on(this.widgetElementRef.current,this.widgetElementRef.current,function(t){return n(t)});return function(){return g.f.off(i)}}}},{key:"resizeEffect",value:function(){var t=this,e="".concat(this.props.name,"VisibilityChange"),n=this.props.onDimensionChanged;if(n)return g.g.on(this.widgetElementRef.current,n,{namespace:e}),function(){return g.g.off(t.widgetElementRef.current,{namespace:e})}}},{key:"windowResizeEffect",value:function(){var t=this.props.onDimensionChanged;if(t)return B.a.add(t),function(){B.a.remove(t)}}},{key:"visibilityEffect",value:function(){var t=this,e=this.props,n=e.name,i=e.onVisibilityChange,o="".concat(n,"VisibilityChange");if(i)return g.h.on(this.widgetElementRef.current,function(){return i(!0)},function(){return i(!1)},{namespace:o}),function(){return g.h.off(t.widgetElementRef.current,{namespace:o})}}},{key:"checkDeprecation",value:function(){var t=this.props,e=t.height,n=t.width;Object(m.h)(n)&&L.a.log("W0017","width"),Object(m.h)(e)&&L.a.log("W0017","height")}},{key:"applyCssTextEffect",value:function(){var t=this.props.cssText;""!==t&&(this.widgetElementRef.current.style.cssText=t)}},{key:"focus",value:function(){g.d.trigger(this.widgetElementRef.current)}},{key:"blur",value:function(){var t=N.a.getActiveElement(this.widgetElementRef.current);this.widgetElementRef.current===t&&t.blur()}},{key:"activate",value:function(){this.setState(function(t){return{active:!0}})}},{key:"deactivate",value:function(){this.setState(function(t){return{active:!1}})}},{key:"render",value:function(){var t=this.props;return function(t){var e=Object(d.s)(Object(d.p)(1,"div",t.cssClasses,t.props.children,0,Object(h.a)({},t.attributes,{tabIndex:t.tabIndex,title:t.props.hint,style:Object(p.j)(t.styles)}),null,t.widgetElementRef));return t.shouldRenderConfigProvider?Object(d.l)(2,A,{rtlEnabled:t.rtlEnabled,children:e}):e}({props:Object(h.a)({},t),active:this.state.active,focused:this.state.focused,hovered:this.state.hovered,widgetElementRef:this.widgetElementRef,config:this.config,shouldRenderConfigProvider:this.shouldRenderConfigProvider,rtlEnabled:this.rtlEnabled,attributes:this.attributes,styles:this.styles,cssClasses:this.cssClasses,tabIndex:this.tabIndex,restAttributes:this.restAttributes})}},{key:"config",get:function(){return this.context[M.a.id]?this.context[M.a.id]:M.a.defaultValue}},{key:"shouldRenderConfigProvider",get:function(){return function(t,e){var n=Object(m.d)(t),i=Object(m.d)(Object(R.a)().rtlEnabled)&&!n&&!Object(m.d)(null===e||void 0===e?void 0:e.rtlEnabled);return n&&t!==(null===e||void 0===e?void 0:e.rtlEnabled)||i}(this.props.rtlEnabled,this.config)}},{key:"rtlEnabled",get:function(){var t,e,n=this.props.rtlEnabled;return t=n,e=this.config,void 0!==t?t:void 0!==(null===e||void 0===e?void 0:e.rtlEnabled)?e.rtlEnabled:Object(R.a)().rtlEnabled}},{key:"attributes",get:function(){var t,e=this.props,n=e.aria,i=e.disabled,o=e.focusStateEnabled,r=e.visible,a=o&&!i&&this.props.accessKey;return Object(h.a)({},Object(T.a)({},a&&{accessKey:a}),(t=Object(h.a)({},n,{disabled:i,hidden:!r}),Object.keys(t).reduce(function(e,n){return t[n]?Object(h.a)({},e,Object(c.a)({},"role"===n||"id"===n?n:"aria-".concat(n),String(t[n]))):e},{})),Object(T.a)({},this.restAttributes))}},{key:"styles",get:function(){var t=this.props,e=t.height,n=t.width,i=this.restAttributes.style||{},o=Object(I.a)("width",Object(m.h)(n)?n():n),r=Object(I.a)("height",Object(m.h)(e)?e():e);return Object(h.a)({},i,{height:null!==r&&void 0!==r?r:i.height,width:null!==o&&void 0!==o?o:i.width})}},{key:"cssClasses",get:function(){var t,e=this.props,n=e.activeStateEnabled,i=e.addWidgetClass,o=e.className,r=e.classes,a=e.disabled,s=e.focusStateEnabled,l=e.hoverStateEnabled,u=e.onVisibilityChange,h=e.visible,d=!!s&&!a,p=!!l&&!a,f=!!n&&!a,m=(t={"dx-widget":!!i},Object(c.a)(t,String(r),!!r),Object(c.a)(t,String(o),!!o),Object(c.a)(t,"dx-state-disabled",!!a),Object(c.a)(t,"dx-state-invisible",!h),Object(c.a)(t,"dx-state-focused",!!this.state.focused&&d),Object(c.a)(t,"dx-state-active",!!this.state.active&&f),Object(c.a)(t,"dx-state-hover",!!this.state.hovered&&p&&!this.state.active),Object(c.a)(t,"dx-rtl",!!this.rtlEnabled),Object(c.a)(t,"dx-visibility-change-handler",!!u),t);return Object(E.a)(m)}},{key:"tabIndex",get:function(){var t=this.props,e=t.disabled,n=t.focusStateEnabled,i=t.tabIndex;return n&&!e?i:void 0}},{key:"restAttributes",get:function(){var t=this.props;return Object(u.a)(t,z)}}]),e}(p.e);H.defaultProps=F},function(t,e,n){"use strict";n.d(e,"a",function(){return h}),n.d(e,"b",function(){return d});var i=n(17),o=n(15),r=n(42),a=n(1),s=n(112),l=Object(o.d)(),c=Object(o.c)(),u={EXCEL:"xlsx",CSS:"css",PNG:"png",JPEG:"jpeg",GIF:"gif",SVG:"svg",PDF:"pdf"},h={CSS:"text/css",EXCEL:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",PNG:"image/png",JPEG:"image/jpeg",GIF:"image/gif",SVG:"image/svg+xml",PDF:"application/pdf"},d={_revokeObjectURLTimeout:3e4,_getDataUri:function(t,e){var n=this._getMimeType(t);return"data:".concat(n,";base64,").concat(e)},_getMimeType:function(t){return h[t]||"application/octet-stream"},_linkDownloader:function(t,e){var n=i.a.createElement("a");return n.download=t,n.href=e,n.target="_blank",n},_winJSBlobSave:function(t,e,n){var i=new Windows.Storage.Pickers.FileSavePicker;i.suggestedStartLocation=Windows.Storage.Pickers.PickerLocationId.documentsLibrary;var o=u[n];if(o){var r=this._getMimeType(n);i.fileTypeChoices.insert(r,["."+o])}i.suggestedFileName=e,i.pickSaveFileAsync().then(function(e){e&&e.openAsync(Windows.Storage.FileAccessMode.readWrite).then(function(e){var n=t.msDetachStream();Windows.Storage.Streams.RandomAccessStream.copyAsync(n,e).then(function(){e.flushAsync().done(function(){n.close(),e.close()})})})})},_click:function(t){try{t.dispatchEvent(new MouseEvent("click",{cancelable:!0}))}catch(n){var e=i.a.getDocument().createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,l,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}},_saveBlobAs:function(t,e,n){var i=this;if(this._blobSaved=!1,Object(a.d)(c.msSaveOrOpenBlob))c.msSaveOrOpenBlob(n,t),this._blobSaved=!0;else if(Object(a.d)(l.WinJS))this._winJSBlobSave(n,t,e),this._blobSaved=!0;else{var o=l.URL||l.webkitURL||l.mozURL||l.msURL||l.oURL;if(Object(a.d)(o)){var r=o.createObjectURL(n),u=this._linkDownloader(t,r);setTimeout(function(){o.revokeObjectURL(r),i._objectUrlRevoked=!0},this._revokeObjectURLTimeout),this._click(u)}else s.a.warn("window.URL || window.webkitURL || window.mozURL || window.msURL || window.oURL is not defined")}},saveAs:function(t,e,n){var i=u[e];if(i&&(t+="."+i),Object(a.h)(l.Blob))this._saveBlobAs(t,e,n);else{Object(a.d)(c.userAgent.match(/iPad/i))||r.a.log("E1034");var o=this._linkDownloader(t,this._getDataUri(e,n));this._click(o)}}}},function(t,e,n){"use strict";var i,o=n(41),r=n(32),a=n(118),s=n(9),l=n(66),c=n(58),u=n(37),h=n(126),d=n(16),p=n(5),f=r.a.abstract,m=h.a.queryByOptions,g={},v=r.a.inherit({ctor:function(t){var e=this;t=t||{},this._eventsStrategy=new a.a(this),Object(s.a)(["onLoaded","onLoading","onInserted","onInserting","onUpdated","onUpdating","onPush","onRemoved","onRemoving","onModified","onModifying"],function(n,i){i in t&&e.on(i.slice(2).toLowerCase(),t[i])}),this._key=t.key,this._errorHandler=t.errorHandler,this._useDefaultSearch=!0},_clearCache:p.noop,_customLoadOptions:function(){return null},key:function(){return this._key},keyOf:function(t){return this._keyGetter||(this._keyGetter=Object(u.a)(this.key())),this._keyGetter(t)},_requireKey:function(){if(!this.key())throw l.a.Error("E4005")},load:function(t){var e=this;return t=t||{},this._eventsStrategy.fireEvent("loading",[t]),this._withLock(this._loadImpl(t)).done(function(n){e._eventsStrategy.fireEvent("loaded",[n,t])})},_loadImpl:function(t){return m(this.createQuery(t),t).enumerate()},_withLock:function(t){var e=new d.a;return t.done(function(){var t=this,n=arguments;c.j.promise().done(function(){e.resolveWith(t,n)})}).fail(function(){e.rejectWith(this,arguments)}),e},createQuery:f,totalCount:function(t){return this._totalCountImpl(t)},_totalCountImpl:function(t){return m(this.createQuery(t),t,!0).count()},byKey:function(t,e){return this._addFailHandlers(this._withLock(this._byKeyImpl(t,e)))},_byKeyImpl:f,insert:function(t){var e=this;return e._eventsStrategy.fireEvent("modifying"),e._eventsStrategy.fireEvent("inserting",[t]),e._addFailHandlers(e._insertImpl(t).done(function(t,n){e._eventsStrategy.fireEvent("inserted",[t,n]),e._eventsStrategy.fireEvent("modified")}))},_insertImpl:f,update:function(t,e){var n=this;return n._eventsStrategy.fireEvent("modifying"),n._eventsStrategy.fireEvent("updating",[t,e]),n._addFailHandlers(n._updateImpl(t,e).done(function(){n._eventsStrategy.fireEvent("updated",[t,e]),n._eventsStrategy.fireEvent("modified")}))},_updateImpl:f,push:function(t){var e=this,n={changes:t,waitFor:[]};this._eventsStrategy.fireEvent("beforePush",[n]),d.c.apply(void 0,Object(o.a)(n.waitFor)).done(function(){e._pushImpl(t),e._eventsStrategy.fireEvent("push",[t])})},_pushImpl:p.noop,remove:function(t){var e=this;return e._eventsStrategy.fireEvent("modifying"),e._eventsStrategy.fireEvent("removing",[t]),e._addFailHandlers(e._removeImpl(t).done(function(t){e._eventsStrategy.fireEvent("removed",[t]),e._eventsStrategy.fireEvent("modified")}))},_removeImpl:f,_addFailHandlers:function(t){return t.fail(this._errorHandler).fail(l.b)},on:function(t,e){return this._eventsStrategy.on(t,e),this},off:function(t,e){return this._eventsStrategy.off(t,e),this}});v.create=function(t,e){if(!(t in g))throw l.a.Error("E4020",t);return new g[t](e)},v.registerClass=function(t,e){return e&&(g[e]=t),t},v.inherit=(i=v.inherit,function(t,e){var n=i.apply(this,[t]);return v.registerClass(n,e),n}),e.a=v},function(t,e,n){"use strict";var i=n(12),o=n(13),r=new(function(){function t(){Object(i.a)(this,t),this._converters={}}return Object(o.a)(t,[{key:"addConverter",value:function(t,e){this._converters[t]=e}},{key:"getConverter",value:function(t){return this._converters[t]}}]),t}());e.a=r},function(t,e,n){"use strict";var i=n(41),o=n(32),r=n(3),a=n(5),s=n(9),l=n(1),c=n(58),u=n(92),h=n(179),d=n(118),p=n(66),f=n(38),m=n(16);function g(t){var e=[],n=!1;function i(){for(;e.length;){n=!0;var t=e.shift()();if(void 0!==t){if(t.then)return void Object(m.c)(t).always(i);throw f.a.Error("E0015")}}n=!1}return{add:function(o,r){t?(e[0]&&r&&r(e[0]),e=[o]):e.push(o),n||i()},busy:function(){return n}}}g().add;var v=n(12),y=n(13),_=n(93),b=function(){function t(){Object(v.a)(this,t),this._counter=-1,this._deferreds={}}return Object(y.a)(t,[{key:"add",value:function(t){return this._counter++,this._deferreds[this._counter]=t,this._counter}},{key:"remove",value:function(t){return delete this._deferreds[t]}},{key:"cancel",value:function(t){return t in this._deferreds&&(this._deferreds[t].reject(_.a),!0)}},{key:"cancelAll",value:function(){for(;this._counter>-1;)this.cancel(this._counter),this._counter--}}]),t}();n.d(e,"a",function(){return C});var C=o.a.inherit({ctor:function(t){var e,n=this;if(t=Object(_.d)(t),this._eventsStrategy=new d.a(this,{syncStrategy:!0}),this._store=t.store,this._changedTime=0,0!==t.pushAggregationTimeout){var o,r,a=void 0===t.pushAggregationTimeout?function(){return 5*n._changedTime}:t.pushAggregationTimeout,l=Object(c.l)(function(t){o.resolve(),m.c.apply(void 0,Object(i.a)(r)).done(function(){return n._onPush(t)}),r=void 0,o=void 0},a);this._onPushHandler=function(t){n._aggregationTimeoutId=l(t.changes),o||(o=new m.a),r=t.waitFor,t.waitFor.push(o.promise())},this._store.on("beforePush",this._onPushHandler)}else this._onPushHandler=function(t){return n._onPush(t)},this._store.on("push",this._onPushHandler);this._storeLoadOptions=this._extractLoadOptions(t),this._mapFunc=t.map,this._postProcessFunc=t.postProcess,this._pageIndex=void 0!==t.pageIndex?t.pageIndex:0,this._pageSize=void 0!==t.pageSize?t.pageSize:20,this._loadingCount=0,this._loadQueue=this._createLoadQueue(),this._searchValue="searchValue"in t?t.searchValue:null,this._searchOperation=t.searchOperation||"contains",this._searchExpr=t.searchExpr,this._paginate=t.paginate,this._reshapeOnPush=null!==(e=t.reshapeOnPush)&&void 0!==e&&e,Object(s.a)(["onChanged","onLoadError","onLoadingChanged","onCustomizeLoadResult","onCustomizeStoreLoadOptions"],function(e,i){i in t&&n.on(i.substr(2,1).toLowerCase()+i.substr(3),t[i])}),this._operationManager=new b,this._init()},_init:function(){this._items=[],this._userData={},this._totalCount=-1,this._isLoaded=!1,Object(l.d)(this._paginate)||(this._paginate=!this.group()),this._isLastPage=!this._paginate},dispose:function(){var t;this._store.off("beforePush",this._onPushHandler),this._store.off("push",this._onPushHandler),this._eventsStrategy.dispose(),clearTimeout(this._aggregationTimeoutId),null===(t=this._delayedLoadTask)||void 0===t||t.abort(),this._operationManager.cancelAll(),delete this._store,delete this._items,delete this._delayedLoadTask,this._disposed=!0},_extractLoadOptions:function(t){var e={},n=["sort","filter","select","group","requireTotalCount"],i=this._store._customLoadOptions();return i&&(n=n.concat(i)),Object(s.a)(n,function(){e[this]=t[this]}),e},loadOptions:function(){return this._storeLoadOptions},items:function(){return this._items},pageIndex:function(t){if(!Object(l.i)(t))return this._pageIndex;this._pageIndex=t,this._isLastPage=!this._paginate},paginate:function(t){if(!Object(l.a)(t))return this._paginate;this._paginate!==t&&(this._paginate=t,this.pageIndex(0))},pageSize:function(t){if(!Object(l.i)(t))return this._pageSize;this._pageSize=t},isLastPage:function(){return this._isLastPage},generateStoreLoadOptionAccessor:function(t){var e=this;return function(n){var i=Object(_.f)(n);if(void 0===i)return e._storeLoadOptions[t];e._storeLoadOptions[t]=i}},sort:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.generateStoreLoadOptionAccessor("sort")(e)},filter:function(){var t=Object(_.f)(arguments);if(void 0===t)return this._storeLoadOptions.filter;this._storeLoadOptions.filter=t,this.pageIndex(0)},group:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.generateStoreLoadOptionAccessor("group")(e)},select:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.generateStoreLoadOptionAccessor("select")(e)},requireTotalCount:function(t){if(!Object(l.a)(t))return this._storeLoadOptions.requireTotalCount;this._storeLoadOptions.requireTotalCount=t},searchValue:function(t){if(arguments.length<1)return this._searchValue;this._searchValue=t,this.pageIndex(0)},searchOperation:function(t){if(!Object(l.o)(t))return this._searchOperation;this._searchOperation=t,this.pageIndex(0)},searchExpr:function(t){var e=arguments.length;if(0===e)return this._searchExpr;e>1&&(t=[].slice.call(arguments)),this._searchExpr=t,this.pageIndex(0)},store:function(){return this._store},key:function(){var t;return null===(t=this._store)||void 0===t?void 0:t.key()},totalCount:function(){return this._totalCount},isLoaded:function(){return this._isLoaded},isLoading:function(){return this._loadingCount>0},beginLoading:function(){this._changeLoadingCount(1)},endLoading:function(){this._changeLoadingCount(-1)},_createLoadQueue:function(){return g()},_changeLoadingCount:function(t){var e=this.isLoading();this._loadingCount+=t;var n=this.isLoading();e^n&&this._eventsStrategy.fireEvent("loadingChanged",[n])},_scheduleLoadCallbacks:function(t){var e=this;this.beginLoading(),t.always(function(){e.endLoading()})},_scheduleFailCallbacks:function(t){var e=this;t.fail(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n[0]!==_.a&&e._eventsStrategy.fireEvent("loadError",n)})},_fireChanged:function(t){var e=new Date;this._eventsStrategy.fireEvent("changed",t),this._changedTime=new Date-e},_scheduleChangedCallbacks:function(t){var e=this;t.done(function(){return e._fireChanged()})},loadSingle:function(t,e){var n=this,i=new m.a,o=this.key(),r=this._store,a=this._createStoreLoadOptions();return this._scheduleFailCallbacks(i),arguments.length<2&&(e=t,t=o),delete a.skip,delete a.group,delete a.refresh,delete a.pageIndex,delete a.searchString,(t===o||r instanceof h.a&&!r._byKeyViaLoad()?r.byKey(e,a):(a.take=1,a.filter=a.filter?[a.filter,[t,e]]:[t,e],r.load(a))).fail(i.reject).done(function(t){var e=Array.isArray(t)&&!t.length;!Object(l.d)(t)||e?i.reject(new p.a.Error("E4009")):(Array.isArray(t)||(t=[t]),i.resolve(n._applyMapFunction(t)[0]))}),i.promise()},load:function(){var t=this,e=new m.a,n=function(){if(!t._disposed&&Object(_.b)(e))return t._loadFromStore(i,e)};this._scheduleLoadCallbacks(e),this._scheduleFailCallbacks(e),this._scheduleChangedCallbacks(e);var i=this._createLoadOperation(e);return this._eventsStrategy.fireEvent("customizeStoreLoadOptions",[i]),this._loadQueue.add(function(){return"number"===typeof i.delay?t._delayedLoadTask=Object(a.executeAsync)(n,i.delay):n(),e.promise()}),e.promise({operationId:i.operationId})},_onPush:function(t){var e=this;if(this._reshapeOnPush)this.load();else{var n={changes:t};this._eventsStrategy.fireEvent("changing",[n]);var i=this.group(),o=this.items(),r=0,a=this.paginate()||i?t.filter(function(t){return"update"===t.type}):t;i&&(r=Array.isArray(i)?i.length:1),this._mapFunc&&a.forEach(function(t){"insert"===t.type&&(t.data=e._mapFunc(t.data))}),n.postProcessChanges&&(a=n.postProcessChanges(a)),Object(u.a)({keyInfo:this.store(),data:o,changes:a,groupCount:r,useInsertIndex:!0}),this._fireChanged([{changes:t}])}},_createLoadOperation:function(t){var e=this,n=this._operationManager.add(t),i=this._createStoreLoadOptions();return t.always(function(){return e._operationManager.remove(n)}),{operationId:n,storeLoadOptions:i}},reload:function(){return this.store()._clearCache(),this._init(),this.load()},cancel:function(t){return this._operationManager.cancel(t)},cancelAll:function(){return this._operationManager.cancelAll()},_addSearchOptions:function(t){this._disposed||(this.store()._useDefaultSearch?this._addSearchFilter(t):(t.searchOperation=this._searchOperation,t.searchValue=this._searchValue,t.searchExpr=this._searchExpr))},_createStoreLoadOptions:function(){var t=Object(r.a)({},this._storeLoadOptions);return this._addSearchOptions(t),this._paginate&&this._pageSize&&(t.skip=this._pageIndex*this._pageSize,t.take=this._pageSize),t.userData=this._userData,t},_addSearchFilter:function(t){var e=this._searchValue,n=this._searchOperation,i=this._searchExpr,o=[];e&&(i||(i="this"),Array.isArray(i)||(i=[i]),Object(s.a)(i,function(t,i){o.length&&o.push("or"),o.push([i,n,e])}),t.filter?t.filter=[o,t.filter]:t.filter=o)},_loadFromStore:function(t,e){var n=this,i=function(i,o){if(!n._disposed&&Object(_.b)(e)){var a=Object(r.a)(Object(_.e)(i,o),t);n._eventsStrategy.fireEvent("customizeLoadResult",[a]),Object(m.c)(a.data).done(function(t){a.data=t,n._processStoreLoadResult(a,e)}).fail(e.reject)}};return t.data?(new m.a).resolve(t.data).done(i):this.store().load(t.storeLoadOptions).done(i).fail(e.reject)},_processStoreLoadResult:function(t,e){var n=this,i=t.data,o=t.extra,r=t.storeLoadOptions,a=function(){return n._isLoaded=!0,n._totalCount=isFinite(o.totalCount)?o.totalCount:-1,e.resolve(i,o)};this._disposed||(i=this._applyPostProcessFunction(this._applyMapFunction(i)),Object(l.j)(o)||(o={}),this._items=i,(!i.length||!this._paginate||this._pageSize&&i.length<this._pageSize)&&(this._isLastPage=!0),r.requireTotalCount&&!isFinite(o.totalCount)?n.store().totalCount(r).done(function(t){o.totalCount=t,a()}).fail(e.reject):a())},_applyMapFunction:function(t){return this._mapFunc?Object(_.c)(t,this._mapFunc,this.group()):t},_applyPostProcessFunction:function(t){return this._postProcessFunc?this._postProcessFunc(t):t},on:function(t,e){return this._eventsStrategy.on(t,e),this},off:function(t,e){return this._eventsStrategy.off(t,e),this}})},function(t,e,n){"use strict";var i=n(12),o=n(13),r=n(2),a=n(1),s=n(3),l=n(68),c=n(34),u=n(15),h=n(91),d=function(t){var e=Object(r.a)(t).closest('[class^="'.concat("dx-swatch-",'"], [class*=" ').concat("dx-swatch-",'"]')),n=Object(h.c)();if(!e.length)return n;var i=new RegExp("(\\s|^)(".concat("dx-swatch-",".*?)(\\s|$)")),o=e[0].className.match(i)[2],a=n.children("."+o);return a.length||(a=Object(r.a)("<div>").addClass(o).appendTo(n)),a};n.d(e,"a",function(){return f}),n.d(e,"b",function(){return g});var p=Object(u.d)(),f={top:{my:"top center",at:"top center"},bottom:{my:"bottom center",at:"bottom center"},right:{my:"right center",at:"right center"},left:{my:"left center",at:"left center"},center:{my:"center",at:"center"},"right bottom":{my:"right bottom",at:"right bottom"},"right top":{my:"right top",at:"right top"},"left bottom":{my:"left bottom",at:"left bottom"},"left top":{my:"left top",at:"left top"}},m={h:0,v:0},g=function(){function t(e){Object(i.a)(this,t);var n=e.position,o=e.container,r=e.visualContainer,a=e.$root,s=e.$content,l=e.$wrapper,c=e.onPositioned,u=e.onVisualPositionChanged,h=e.restorePosition,d=e._fixWrapperPosition;this._props={position:n,container:o,visualContainer:r,restorePosition:h,onPositioned:c,onVisualPositionChanged:u,_fixWrapperPosition:d},this._$root=a,this._$content=s,this._$wrapper=l,this._$markupContainer=void 0,this._$visualContainer=void 0,this._shouldRenderContentInitialPosition=!0,this._visualPosition=void 0,this._initialPosition=void 0,this._previousVisualPosition=void 0,this.updateContainer(o),this.updatePosition(n),this.updateVisualContainer(r)}return Object(o.a)(t,[{key:"restorePositionOnNextRender",value:function(t){this._shouldRenderContentInitialPosition=t||!this._visualPosition}},{key:"openingHandled",value:function(){var t=this._props.restorePosition;this.restorePositionOnNextRender(t)}},{key:"updatePosition",value:function(t){this._props.position=t,this._position=this._normalizePosition(t),this.updateVisualContainer()}},{key:"updateContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._props.container;this._props.container=t,this._$markupContainer=t?Object(r.a)(t):d(this._$root),this.updateVisualContainer(this._props.visualContainer)}},{key:"updateVisualContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._props.visualContainer;this._props.visualContainer=t,this._$visualContainer=this._getVisualContainer()}},{key:"detectVisualPositionChange",value:function(t){this._updateVisualPositionValue(),this._raisePositionedEvents(t)}},{key:"positionContent",value:function(){this._shouldRenderContentInitialPosition?this._renderContentInitialPosition():(Object(c.e)(this._$content,this._visualPosition),this.detectVisualPositionChange())}},{key:"positionWrapper",value:function(){this._$visualContainer&&l.a.setup(this._$wrapper,{my:"top left",at:"top left",of:this._$visualContainer})}},{key:"styleWrapperPosition",value:function(){var t=Object(a.p)(this.$visualContainer.get(0))||this._props._fixWrapperPosition?"fixed":"absolute";this._$wrapper.css("position",t)}},{key:"_updateVisualPositionValue",value:function(){this._previousVisualPosition=this._visualPosition,this._visualPosition=Object(c.d)(this._$content)}},{key:"_renderContentInitialPosition",value:function(){this._renderBoundaryOffset(),Object(c.g)(this._$content);var t=this._$wrapper.css("overflow");this._$wrapper.css("overflow","hidden");var e=l.a.setup(this._$content,this._position);this._$wrapper.css("overflow",t),this._initialPosition=e,this.detectVisualPositionChange()}},{key:"_raisePositionedEvents",value:function(t){var e=this._previousVisualPosition,n=this._visualPosition;((null===e||void 0===e?void 0:e.top)!==n.top||(null===e||void 0===e?void 0:e.left)!==n.left)&&this._props.onVisualPositionChanged({previousPosition:e,position:n,event:t}),this._props.onPositioned({position:this._initialPosition})}},{key:"_renderBoundaryOffset",value:function(){var t,e=null!==(t=this._position)&&void 0!==t?t:{boundaryOffset:m};this._$content.css("margin","".concat(e.v,"px ").concat(e.h,"px"))}},{key:"_getVisualContainer",value:function(){var t,e,n=this._props.container,i=this._props.visualContainer,o=Object(a.f)(null===(t=this._props.position)||void 0===t?void 0:t.of)?this._props.position.of.target:null===(e=this._props.position)||void 0===e?void 0:e.of;return i?Object(r.a)(i):n?Object(r.a)(n):o?Object(r.a)(o):Object(r.a)(p)}},{key:"_normalizePosition",value:function(t){var e={boundaryOffset:m};return Object(a.d)(t)?Object(s.a)(!0,{},e,this._positionToObject(t)):e}},{key:"_positionToObject",value:function(t){return Object(a.o)(t)?Object(s.a)({},f[t]):t}},{key:"$container",get:function(){return this.updateContainer(),this._$markupContainer}},{key:"$visualContainer",get:function(){return this._$visualContainer}},{key:"position",get:function(){return this._position}},{key:"fixWrapperPosition",set:function(t){this._props._fixWrapperPosition=t,this.styleWrapperPosition()}},{key:"restorePosition",set:function(t){this._props.restorePosition=t}}]),t}()},function(t,e,n){"use strict";var i=n(16),o=n(17),r=n(15),a=n(70),s=Object(r.d)(),l={getXhr:function(){return new s.XMLHttpRequest}},c=Object(a.a)(l),u=n(3),h=n(1),d=Object(r.d)(),p=function(t){var e=o.a.createElement("script");for(var n in t)e[n]=t[n];return e},f=function(t){t.parentNode.removeChild(t)},m=function(t){return o.a.getHead().appendChild(t)},g=function(t){var e=p({text:t});m(e),f(e)},v=function(t,e){var n=t.data,i="string"===typeof n,o=t.url||d.location.href;return i||t.cache||((n=n||{})._=Date.now()),n&&!t.upload&&(i||(n=function(t){var e=[];for(var n in t){var i=t[n];void 0!==i&&(null===i&&(i=""),"function"===typeof i&&(i=i()),e.push(encodeURIComponent(n)+"="+encodeURIComponent(i)))}return e.join("&")}(n)),"GET"===y(t)?(""!==n&&(o+=(o.indexOf("?")>-1?"&":"?")+n),n=null):e["Content-Type"]&&e["Content-Type"].indexOf("application/x-www-form-urlencoded")>-1&&(n=n.replace(/%20/g,"+"))),{url:o,parameters:n}};function y(t){return(t.method||"GET").toUpperCase()}var _=function(t){var e=t.headers||{};return e["Content-Type"]=e["Content-Type"]||function(t){var e;return t.data&&!t.upload&&"GET"!==y(t)&&(e="application/x-www-form-urlencoded;charset=utf-8"),t.contentType||e}(t),e.Accept=e.Accept||function(t){var e=t.dataType||"*",n="text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",i={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",jsonp:n,script:n};return Object(u.b)(i,t.accepts,!0),i[e]?i[e]+("*"!==e?", */*; q=0.01":""):i["*"]}(t),t.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e};e.a=Object(a.a)({sendRequest:function(t){var e,n=c.getXhr(),a=new i.a,s=a.promise(),l=!Object(h.d)(t.async)||t.async,u=t.dataType,b=t.timeout||0;t.crossDomain=function(t){if(!Object(r.f)())return!0;var e=!1,n=o.a.createElement("a"),i=o.a.createElement("a");n.href=d.location.href;try{i.href=t,i.href=i.href,e=n.protocol+"//"+n.host!==i.protocol+"//"+i.host}catch(a){e=!0}return e}(t.url);var C="jsonp"===u||"script"===u;void 0===t.cache&&(t.cache=!C);var O=function(t){if("jsonp"===t.dataType){var e=Math.random().toString().replace(/\D/g,""),n=t.jsonpCallback||"dxCallback"+Date.now()+"_"+e,i=t.jsonp||"callback";return t.data=t.data||{},t.data[i]=n,n}}(t),x=_(t),S=v(t,x),w=S.url,P=S.parameters;if(O&&(d[O]=function(t){a.resolve(t,"success",n)}),t.crossDomain&&C)return function(t){var e=p({src:t});return new Promise(function(t,n){var i={load:t,error:n},r=function(t){i[t.type](),f(e)};for(var a in i)o.a.listen(e,a,r);m(e)})}(w).then(function(){"jsonp"!==u&&a.resolve(null,"success",n)},function(){a.reject(n,"error")}),s;if(t.crossDomain&&!("withCredentials"in n))return a.reject(n,"error"),s;if(n.open(y(t),w,l,t.username,t.password),l&&(n.timeout=b,e=function(t,e){return t&&setTimeout(function(){e.customStatus="timeout",e.abort()},t)}(b,n)),n.onreadystatechange=function(t){var i;4===n.readyState&&(clearTimeout(e),200<=(i=n.status)&&i<300?function(t){return 204!==t}(n.status)?function(e,n,i){var o=function(t){return t.responseType&&"text"!==t.responseType||"string"!==typeof t.responseText?t.response:t.responseText}(n);switch(i){case"jsonp":g(o);break;case"script":g(o),e.resolve(o,"success",n);break;case"json":try{e.resolve(JSON.parse(o),"success",n)}catch(t){e.reject(n,"parsererror",t)}break;default:e.resolve(o,"success",n)}}(a,n,u):a.resolve(null,"nocontent",n):a.reject(n,n.customStatus||"error"))},t.upload&&(n.upload.onprogress=t.upload.onprogress,n.upload.onloadstart=t.upload.onloadstart,n.upload.onabort=t.upload.onabort),t.xhrFields)for(var k in t.xhrFields)n[k]=t.xhrFields[k];for(var E in"arraybuffer"===t.responseType&&(n.responseType=t.responseType),x)Object.prototype.hasOwnProperty.call(x,E)&&Object(h.d)(x[E])&&n.setRequestHeader(E,x[E]);return t.beforeSend&&t.beforeSend(n),n.send(P),s.abort=function(){n.abort()},s}})},function(t,e,n){"use strict";var i=n(9),o=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["AM","PM"],s=["Q1","Q2","Q3","Q4"],l=function(t,e){var n={abbreviated:3,short:2,narrow:1};return Object(i.b)(t,function(t){return t.substr(0,n[e])})};e.a={getMonthNames:function(t){return l(o,t)},getDayNames:function(t){return l(r,t)},getQuarterNames:function(t){return s},getPeriodNames:function(t){return a}}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.Component=void 0;var o=n(4),r=n(184),a=n(278),s=function(t){function e(e){var n=t.call(this,e)||this;return n._extensionCreators=[],n._registerExtension=n._registerExtension.bind(n),n}return i(e,t),e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this._createWidget(),this._createExtensions()},e.prototype.renderChildren=function(){var t=this;return o.Children.map(this.props.children,function(e){return e&&Object.prototype.isPrototypeOf.call(a.ExtensionComponent,e.type)?o.cloneElement(e,{onMounted:t._registerExtension}):e})},e.prototype._registerExtension=function(t){this._extensionCreators.push(t)},e.prototype._createExtensions=function(){var t=this;this._extensionCreators.forEach(function(e){return e(t._element)})},e}(r.ComponentBase);e.Component=s},function(t,e,n){"use strict";n.r(e);var i=n(12),o=n(13),r=n(19),a=n(6),s=n(18),l=(n(177),n(114)),c=n(26),u=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(a.a)(e).apply(this,arguments))}return Object(s.a)(e,t),Object(o.a)(e,[{key:"_getToolbarName",value:function(){return"dxToolbar"}}]),e}(l.a);u.defaultOptions=function(t){l.a.defaultOptions(t)},Object(c.a)("dxPopup",u);e.default=u},function(t,e,n){"use strict";function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r});var i=n(0);function o(t){return Object(i.a)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"}},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"}}]})(t)}function r(t){return Object(i.a)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"}}]})(t)}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i="22.2.4"},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(12),o=n(13),r=n(9),a=n(43),s=function(){function t(){Object(i.a)(this,t),this.memory=[],this.callbacks=Object(a.a)()}return Object(o.a)(t,[{key:"add",value:function(t){Object(r.a)(this.memory,function(e,n){return t.apply(t,n)}),this.callbacks.add(t)}},{key:"remove",value:function(t){this.callbacks.remove(t)}},{key:"fire",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.memory.push(e),this.callbacks.fire.apply(this.callbacks,e)}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(12),o=n(19),r=n(6),a=n(18),s=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(o.a)(this,Object(r.a)(e).call(this))).name=t,n}return Object(a.a)(e,t),e}(n(102).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(2),o=n(7),r=n(85),a=n(10),s="dxmousewheel",l={setup:function(t){var e=Object(i.a)(t);o.a.on(e,Object(a.a)("wheel","dxWheel"),l._wheelHandler.bind(l))},teardown:function(t){o.a.off(t,".".concat("dxWheel"))},_wheelHandler:function(t){var e=t.originalEvent,n=e.deltaMode,i=e.deltaY,o=e.deltaX,r=e.deltaZ;Object(a.f)({type:s,originalEvent:t,delta:this._normalizeDelta(i,n),deltaX:o,deltaY:i,deltaZ:r,deltaMode:n,pointerType:"mouse"}),t.stopPropagation()},_normalizeDelta:function(t){return 0===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)?-t:-30*t}};Object(r.a)(s,l)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(53),o=" .,:;/\\<>()-[]\u060c",r=function(t){var e=t&&i.a.convertDigits(t,!1).charCodeAt(0),n=i.a.convertDigits("0",!1).charCodeAt(0);return n<=e&&e<n+10},a=function(t,e,n,i){var a=t[n],s=t[n+1];if(!i){if("."===a||" "===a&&". m."===t.slice(n-1,n+3))return!0;if("-"===a&&!r(s))return!0}var l=i&&e.some(function(e){return t[n]!==e[n]});return o.indexOf(a)<0&&i===r(a)&&(!i||l)},s=function(t,e){if(!r(t[e]))for(;e>0&&!r(t[e-1])&&("."===t[e-1]||o.indexOf(t[e-1])<0);)e--;return e},l=function(t,e){return Array.isArray(t)?t.map(function(t){return(e(t)||"").toString()}):(e(t)||"").toString()},c=/[a-zA-Z]/g,u=function(t){var e=[],n=l(new Date(2009,8,8,6,5,4),t),i=n.split("").map(function(t,e){return e}),o=n,u={},h=[{date:new Date(2009,8,8,6,5,4,111),pattern:"S"},{date:new Date(2009,8,8,6,5,2),pattern:"s"},{date:new Date(2009,8,8,6,2,4),pattern:"m"},{date:new Date(2009,8,8,18,5,4),pattern:"H",isDigit:!0},{date:new Date(2009,8,8,2,5,4),pattern:"h",isDigit:!0},{date:new Date(2009,8,8,18,5,4),pattern:"a",isDigit:!1},{date:new Date(2009,8,1,6,5,4),pattern:"d"},{date:[new Date(2009,8,2,6,5,4),new Date(2009,8,3,6,5,4),new Date(2009,8,4,6,5,4)],pattern:"E"},{date:new Date(2009,9,6,6,5,4),pattern:"M"},{date:new Date(1998,8,8,6,5,4),pattern:"y"}];if(o)return h.forEach(function(c){var h=function(t,e,n,i){var o=0,l=[],c=function(e){return t[o]!==e[o]&&(void 0===i||r(t[o])===i)};for(Array.isArray(e)||(e=[e]),o=0;o<t.length;o++)if(n.indexOf(o)<0&&e.filter(c).length){o=s(t,o);do{if(i=r(t[o]),!l.length&&!i&&r(e[0][o]))break;l.push(o),n.unshift(o),o++}while(t[o]&&a(t,e,o,i));break}return 1!==l.length||"0"!==t[n[0]-1]&&"\u0660"!==t[n[0]-1]||n.unshift(n[0]-1),l}(n,l(c.date,t),e,c.isDigit),d="M"!==c.pattern||u.d?c.pattern:"L";o=function(t,e,n,i){var o,a,s;if(!r(t[e[0]]||"0")){for(var l=Math.max(e.length<=3?3:4,n.length);e.length>l;){for(s=i[a=e.pop()],i[a]=-1,o=a+1;o<i.length;o++)i[o]--;t=t.substr(0,s)+t.substr(s+1)}for(s=(a=e[e.length-1]+1)<i.length?i[a]:a;e.length<l;){for(e.push(e[e.length-1]+1),o=a;o<i.length;o++)i[o]++;t=t.substr(0,s)+" "+t.substr(s)}}return t=function(t,e,n,i){var o=e[0],r=o<i.length?i[o]:o;return e.forEach(function(e,i){t=t.substr(0,r+i)+(n.length>1?n[i]:n)+t.substr(r+i+1)}),1===e.length&&(t=(t=t.replace("0"+n,n+n)).replace("\u0660"+n,n+n)),t}(t,e,n,i)}(o,h,d,i),u[d]=h.length}),o=function(t,e,n,i){var o=e.split("").map(function(t,e){return n.indexOf(e)<0&&(t.match(c)||"'"===t)?i[e]:-1});return t=t.split("").map(function(t,e){var n=t,i=o.indexOf(e)>=0,r=e>0&&o.indexOf(e-1)>=0,a=o.indexOf(e+1)>=0;return i&&(r||(n="'"+n),a||(n+="'")),n}).join("")}(o,n,e,i),e.length?o:void 0}},function(t,e,n){"use strict";n.d(e,"c",function(){return g}),n.d(e,"b",function(){return _}),n.d(e,"a",function(){return b});var i=n(5),o=n(112),r={3:"abbreviated",4:"wide",5:"narrow"},a=function(t,e){return t>2?Object.keys(r).map(function(t){return["format","standalone"].map(function(n){return e.getMonthNames(r[t],n).join("|")}).join("|")}).join("|"):2===t?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},s={":":function(t,e){var n=t>1?"{".concat(t,"}"):"",o=Object(i.escapeRegExp)(e.getTimeSeparator());return":"!==o&&(o="".concat(o,"|:")),"".concat(o).concat(n)},y:function(t){return 2===t?"[0-9]{".concat(t,"}"):"[0-9]+?"},M:a,L:a,Q:function(t,e){return t>2?e.getQuarterNames(r[t],"format").join("|"):"0?[1-4]"},E:function(t,e){return"\\D*"},a:function(t,e){return e.getPeriodNames(r[t<3?3:t],"format").join("|")},d:function(t){return 2===t?"3[01]|[12][0-9]|0?[1-9]":"0??[1-9]|[12][0-9]|3[01]"},H:function(t){return 2===t?"2[0-3]|1[0-9]|0?[0-9]":"0??[0-9]|1[0-9]|2[0-3]"},h:function(t){return 2===t?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},m:function(t){return 2===t?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},s:function(t){return 2===t?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},S:function(t){return"[0-9]{1,".concat(t,"}")},w:function(t){return 2===t?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"}},l=Number,c=function(t,e){return t.map(function(t){return t.toLowerCase()}).indexOf(e.toLowerCase())},u=function(t,e,n){return e>2?["format","standalone"].map(function(e){return Object.keys(r).map(function(i){var o=n.getMonthNames(r[i],e);return c(o,t)})}).reduce(function(t,e){return t.concat(e)}).filter(function(t){return t>=0})[0]:l(t)-1},h={y:function(t,e){var n=l(t);return 2===e?n<30?2e3+n:1900+n:n},M:u,L:u,Q:function(t,e,n){return e>2?n.getQuarterNames(r[e],"format").indexOf(t):l(t)-1},E:function(t,e,n){var i=n.getDayNames(r[e<3?3:e],"format");return c(i,t)},a:function(t,e,n){var i=n.getPeriodNames(r[e<3?3:e],"format");return c(i,t)},d:l,H:l,h:l,m:l,s:l,S:function(t,e){for(e=Math.max(e,3),t=t.slice(0,3);e<3;)t+="0",e++;return l(t)}},d=["y","M","d","h","m","s","S"],p={y:"setFullYear",M:"setMonth",L:"setMonth",a:function(t,e,n){var i=t.getHours(),o=n.h;void 0!==o&&o!==i&&i--,e||12!==i?e&&12!==i&&(i+=12):i=0,t.setHours(i)},d:"setDate",H:"setHours",h:"setHours",m:"setMinutes",s:"setSeconds",S:"setMilliseconds"},f=function(t,e){var n=t[e];if(!n)return 0;var i=0;do{e++,i++}while(t[e]===n);return i},m=function(t,e){for(var n="",i=0;i<e;i++)n+=t;return n},g=function(t,e){for(var n,r="",a="",l=[],c=function(){a&&(l.push("'".concat(a,"'")),r+="".concat(Object(i.escapeRegExp)(a),")"),a="")},u=0;u<t.length;u++){var h=t[u],d=s[h];if(!("'"===h)||(n=!n,"'"===t[u-1]))if(d&&!n){var p=f(t,u),g=m(h,p);c(),l.push(g),r+="(".concat(d(p,e),")"),u+=p-1}else a||(r+="("),a+=h}return c(),y(l)||o.a.warn("The following format may be parsed incorrectly: ".concat(t,".")),{patterns:l,regexp:new RegExp("^".concat(r,"$"),"i")}},v=["d","H","h","m","s","w","M","L","Q"],y=function(t){var e=function(t){if(!t)return!1;var e=t[0];return["y","S"].includes(e)||v.includes(e)&&t.length<3},n=!0,i=0;return t.every(function(t,o,r){return e(t)&&(function(t){return"S"!==t[0]&&2!==t.length}(t)&&(n=++i<2),e(r[o+1])||(i=0)),n})},_=function(){return p},b=function(t,e){var n=g(t,e);return function(t){var i=n.regexp.exec(t);if(i){var o=new Date,r=new Date(o.getFullYear(),0,1),a=n.patterns.map(function(t){return"'"===t[0]?"":"H"===t[0]?"h":t[0]}),s=function(t){var e=t.map(function(t){return d.indexOf(t)});return Math.max.apply(Math,e)}(a),l=function(t){var e=t.filter(function(t){return d.indexOf(t)<0});return d.concat(e)}(a),c={};return l.forEach(function(t,l){if(t&&!(l<d.length&&l>s)){var u=a.indexOf(t);if(u>=0){var f=n.patterns[u],m=i[u+1];!function(t,e,n,i,o){var r=e[0],a=p[r],s=h[r];if(a&&s){var l=s(n,e.length,i);o[e]=l,t[a]?t[a](l):a(t,l,o)}}(r,f,m,e,c)}else!function(t,e,n){var i=p[e],o=n["g"+i.substr(1)]();t[i](o)}(r,t,o)}}),r}return null}}},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return a});var i=n(0);function o(t){return Object(i.a)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M169 57v430h78V57h-78zM25 105v190h46V105H25zm158 23h18v320h-18V128zm128.725 7.69l-45.276 8.124 61.825 344.497 45.276-8.124-61.825-344.497zM89 153v270h62V153H89zm281.502 28.68l-27.594 11.773 5.494 12.877 27.594-11.773-5.494-12.877zm12.56 29.433l-27.597 11.772 5.494 12.877 27.593-11.772-5.492-12.877zm12.555 29.434l-27.594 11.77 99.674 233.628 27.594-11.773-99.673-233.625zM25 313v30h46v-30H25zm190 7h18v128h-18V320zM25 361v126h46V361H25zm64 80v46h62v-46H89z"}}]})(t)}function r(t){return Object(i.a)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.778 68.814c-3.52.132-8.176 1.24-12.394 3.12-4.821 2.147-9.08 5.35-10.95 7.697-.904 1.136-1.165 1.924-1.21 2.127l.43.701 16.894 48.273c2.802 6.565 6.66 9.584 11.082 11.086 4.449 1.512 9.782 1.192 14.537-.789 4.755-1.98 8.705-5.526 10.722-9.707 2.007-4.157 2.547-8.97-.207-15.562l-22.326-44.828-.002-.002c-.672-1.302-1.527-1.938-5.14-2.112a16.895 16.895 0 0 0-1.436-.004zm33.266 84.424c-5.14 3.557-10.91 5.906-16.608 6.94l7.354 17.422a278.9 278.9 0 0 0-5.596 1.943c-12.78 4.607-27.478 10.508-37.275 19.506-9.451 8.68-16.245 22.202-21.672 34.002a282.955 282.955 0 0 0-7.293 17.398c-23.803 14.552-45.156 28.97-52.934 68.66 25.558 1.772 40.744 4.549 84.135 2.762-1.585-9.478-3.145-21.732 6.121-34.758a31.449 31.449 0 0 1-10.12-6.449c-15.085-14.282-12.484-39.002 2.68-55.102 3.574-4.153 7.068-9.332 11.257-13.257 5.472-5.026 19.287-11.536 31.205-15.832 2.27-.819 4.433-1.553 6.511-2.243l40.213 95.272c-4.76 2.396-9.901 4.745-15.06 6.494-10.363 3.513-19.712 4.202-26.588.625-6.876-3.576-11.14-6.357-14.723-9.369-8.437 2.841-17.349 2.983-25.219-.078 9.388 11.082 22.136 20.678 32.586 26.148 12.223 6.313 27.186 3.971 39.723-.279 5.848-1.983 11.37-4.463 16.303-6.906l8.29 19.64c3.079-1.935 6.376-3.547 9.764-4.863a60.291 60.291 0 0 1 6.793-2.191l-8.879-21.035 6.274-3.333-8.44-15.896-4.859 2.582-38.814-91.959 6.826-1.766-4.504-17.423-9.054 2.343zm-18.606 75.8a19.672 19.672 0 0 0-1.68.007c-5.832.27-12.386 3.089-17.853 8.893-9.719 10.318-9.844 23.532-3.41 29.625 6.434 6.092 19.586 5.21 29.305-5.108 9.719-10.318 9.844-23.532 3.41-29.625-2.463-2.332-5.91-3.643-9.772-3.793zm218.498 53.95c-34.024 15.84-70.523 27.728-107.85 36.291 4.59 1.964 8.421 6.364 10.007 10.46l22.66 45.497.11.262c1.971 4.673 2.994 9.38 3.183 13.92 9.949-7.106 18.208-18.26 26.97-32.385 7.378 2.756 14.126 5.466 20.29 8.137 3.5-6.443 6.684-13.523 9.484-21.047 7.494-20.142 12.35-42.591 15.146-61.135zM22.188 308.043c-.773 18.548 2.054 38.377 8.436 54.734 4.675 11.984 10.995 21.82 18.795 28.545 11.39-7.493 16.875-15.566 16.517-22.83 31.708 4.607 49.836 8.36 70.985 40.455 35.327-2.006 45.846-20.052 46.226-34.18 27.33 9.146 57.483 22.265 73.346 35.233 26.294-5.579 54.363-17.684 64-48 4.357 1.772 8.401 3.747 12.207 5.83-5.087-12.27-7.485-24.1 1.61-34.562 1.998-2.227 4.257-4.184 6.683-5.918-35.918 5.91-72.047 9.005-106.979 9.752-84.081 1.797-160.672-9.833-211.826-29.059zm349.42 27.215c-3.103-.042-7.688.763-11.994 2.435-4.922 1.911-9.517 4.932-11.912 7.6-2.392 2.664-2.522 3.646-2.063 5.025l11.743 33.547c12.977 8.961 24.557 15.925 40.068 13.795.464-.064.92-.14 1.377-.217 1.73-3.995 2.084-8.623-.514-14.841l-22.384-44.944c-.987-1.685-1.482-2.146-3.086-2.33-.435-.05-.87-.053-1.235-.07z"}}]})(t)}function a(t){return Object(i.a)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M63.6 33c-17.23 0-31 13.77-31 31s13.77 31 31 31 31-13.77 31-31-13.77-31-31-31zm171.7 6.74l-122.7 25.6c-.4 14.13-6.9 26.86-16.83 35.56l42.83 114.5 11.5-20.8-41.2-110.1 115-24 9.4-17.15zm8.5 21.9L161.7 210.8l53.6 16.9 71.4-129.9zM48.6 110.6V479h30V110.6c-4.73 1.6-9.77 2.4-15 2.4s-10.27-.8-15-2.4zm288 29.3l-59.2 107.4 62.3 19.6 46.8-85zm99.9 84.1l-34.4 62.5 53.5 16.9 23.8-43.2z"}}]})(t)}},function(t,e,n){"use strict";var i=n(2),o=n(7),r=n(20),a=n(73),s=n(77),l=n(48),c=n(75),u=n(28),h=n(5),d=n(1),p=n(10),f=n(132),m=c.a.add,g=Math.abs,v=10,y=Object(s.a)(function(){var t="desktop"===r.a.real().deviceType;if(!Object(a.b)("pointer-events")||!t)return h.noop;var e=Object(i.a)("<div>").addClass("dx-gesture-cover").css("pointerEvents","none");return o.a.subscribeGlobal(e,"dxmousewheel",function(t){t.preventDefault()}),m(function(){e.appendTo("body")}),function(t,n){e.css("pointerEvents",t?"all":"none"),t&&e.css("cursor",n)}}),_=f.a.inherit({gesture:!0,configure:function(t){this.getElement().css("msTouchAction",t.immediate?"pinch-zoom":""),this.callBase(t)},allowInterruptionByMouseWheel:function(){return 2!==this._stage},getDirection:function(){return this.direction},_cancel:function(){this.callBase.apply(this,arguments),this._toggleGestureCover(!1),this._stage=0},start:function(t){t._needSkipEvent||Object(p.m)(t)?this._cancel(t):(this._startEvent=Object(p.b)(t),this._startEventData=Object(p.c)(t),this._stage=1,this._init(t),this._setupImmediateTimer())},_setupImmediateTimer:function(){clearTimeout(this._immediateTimer),this._immediateAccepted=!1,this.immediate&&(this._immediateTimer=setTimeout(function(){this._immediateAccepted=!0}.bind(this),180))},move:function(t){if(1===this._stage&&this._directionConfirmed(t)){if(this._stage=2,this._resetActiveElement(),this._toggleGestureCover(!0),this._clearSelection(t),this._adjustStartEvent(t),this._start(this._startEvent),0===this._stage)return;this._requestAccept(t),this._move(t),this._forgetAccept()}else 2===this._stage&&(this._clearSelection(t),this._move(t))},_directionConfirmed:function(t){var e=this._getTouchBoundary(t),n=Object(p.d)(this._startEventData,Object(p.c)(t)),i=g(n.x),o=g(n.y),r=this._validateMove(e,i,o),a=this._validateMove(e,o,i),s=this.getDirection(t);return"both"===s&&(r||a)||"horizontal"===s&&r||"vertical"===s&&a||this._immediateAccepted},_validateMove:function(t,e,n){return e&&e>=t&&(!this.immediate||e>=n)},_getTouchBoundary:function(t){return this.immediate||Object(p.j)(t)?0:v},_adjustStartEvent:function(t){var e=this._getTouchBoundary(t),n=Object(p.d)(this._startEventData,Object(p.c)(t));this._startEvent.pageX+=Object(u.g)(n.x)*e,this._startEvent.pageY+=Object(u.g)(n.y)*e},_resetActiveElement:function(){"ios"===r.a.real().platform&&this.getElement().find(":focus").length&&Object(l.h)()},_toggleGestureCover:function(t){this._toggleGestureCoverImpl(t)},_toggleGestureCoverImpl:function(t){2===this._stage&&function(t,e){y()(t,e)}(t,this.getElement().css("cursor"))},_clearSelection:function(t){Object(p.j)(t)||Object(p.l)(t)||Object(l.a)()},end:function(t){this._toggleGestureCover(!1),2===this._stage?this._end(t):1===this._stage&&this._stop(t),this._stage=0},dispose:function(){clearTimeout(this._immediateTimer),this.callBase.apply(this,arguments),this._toggleGestureCover(!1)},_init:h.noop,_start:h.noop,_move:h.noop,_stop:h.noop,_end:h.noop});_.initialTouchBoundary=v,_.touchBoundary=function(t){if(!Object(d.d)(t))return v;v=t},e.a=_},function(t,e,n){"use strict";var i=n(11),o=n(2),r=n(7),a=n(10),s=n(5),l=n(9),c=n(20),u=n(32),h=n(203),d=u.a.inherit({ctor:function(t){this._init(t)},_init:function(t){this._component=t,this._$element=t.$element(),this._$container=Object(o.a)(t.container()),this._$content=t.$content(),this._direction=t.option("direction"),this._useSimulatedScrollbar=t.option("useSimulatedScrollbar"),this.option=t.option.bind(t),this._createActionByOption=t._createActionByOption.bind(t),this._isLocked=t._isLocked.bind(t),this._isDirection=t._isDirection.bind(t),this._allowedDirection=t._allowedDirection.bind(t),this._getMaxOffset=t._getMaxOffset.bind(t),this._isRtlNativeStrategy=t._isRtlNativeStrategy.bind(t)},render:function(){var t=c.a.real().platform;this._$element.addClass("dx-scrollable-native").addClass("dx-scrollable-native-"+t).toggleClass("dx-scrollable-scrollbars-hidden",!this._isScrollbarVisible()),this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._renderScrollbars()},updateRtlPosition:function(t){t&&this.option("rtlEnabled")&&this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._moveScrollbars()},_renderScrollbars:function(){this._scrollbars={},this._hideScrollbarTimeout=0,this._$element.addClass("dx-scrollable-scrollbar-simulated"),this._renderScrollbar("vertical"),this._renderScrollbar("horizontal")},_renderScrollbar:function(t){this._isDirection(t)&&(this._scrollbars[t]=new h.a(Object(o.a)("<div>").appendTo(this._$element),{direction:t,expandable:this._component.option("scrollByThumb")}))},handleInit:s.noop,handleStart:s.noop,handleMove:function(t){this._isLocked()?t.cancel=!0:this._allowedDirection()&&(t.originalEvent.isScrollingEvent=!0)},handleEnd:s.noop,handleCancel:s.noop,handleStop:s.noop,_eachScrollbar:function(t){t=t.bind(this),Object(l.a)(this._scrollbars||{},function(e,n){t(n,e)})},createActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._updateAction=this._createActionByOption("onUpdated")},_createActionArgs:function(){var t=this.location(),e=t.left,n=t.top;return{event:this._eventForUserAction,scrollOffset:this._getScrollOffset(),reachedLeft:this._isRtlNativeStrategy()?this._isReachedRight(-e):this._isReachedLeft(e),reachedRight:this._isRtlNativeStrategy()?this._isReachedLeft(-Math.abs(e)):this._isReachedRight(e),reachedTop:this._isDirection("vertical")?Math.round(n)>=0:void 0,reachedBottom:this._isDirection("vertical")?Math.round(Math.abs(n)-this._getMaxOffset().top)>=0:void 0}},_getScrollOffset:function(){var t=this.location(),e=t.top,n=t.left;return{top:-e,left:this._normalizeOffsetLeft(-n)}},_normalizeOffsetLeft:function(t){return this._isRtlNativeStrategy()?this._getMaxOffset().left+t:t},_isReachedLeft:function(t){return this._isDirection("horizontal")?Math.round(t)>=0:void 0},_isReachedRight:function(t){return this._isDirection("horizontal")?Math.round(Math.abs(t)-this._getMaxOffset().left)>=0:void 0},_isScrollbarVisible:function(){var t=this.option().showScrollbar;return"never"!==t&&!1!==t},handleScroll:function(t){this._eventForUserAction=t,this._moveScrollbars(),this._scrollAction(this._createActionArgs())},_moveScrollbars:function(){var t=this._getScrollOffset(),e=t.top,n=t.left;this._eachScrollbar(function(t){t.moveTo({top:-e,left:-n}),t.option("visible",!0)}),this._hideScrollbars()},_hideScrollbars:function(){clearTimeout(this._hideScrollbarTimeout),this._hideScrollbarTimeout=setTimeout(function(){this._eachScrollbar(function(t){t.option("visible",!1)})}.bind(this),500)},location:function(){return{left:-this._$container.scrollLeft(),top:-this._$container.scrollTop()}},disabledChanged:s.noop,update:function(){this._update(),this._updateAction(this._createActionArgs())},_update:function(){this._updateDimensions(),this._updateScrollbars()},_updateDimensions:function(){this._containerSize={height:Object(i.c)(this._$container),width:Object(i.k)(this._$container)},this._componentContentSize={height:Object(i.c)(this._component.$content()),width:Object(i.k)(this._component.$content())},this._contentSize={height:Object(i.c)(this._$content),width:Object(i.k)(this._$content)}},_updateScrollbars:function(){this._eachScrollbar(function(t,e){var n="vertical"===e?"height":"width";t.option({containerSize:this._containerSize[n],contentSize:this._componentContentSize[n]}),t.update()})},_allowedDirections:function(){return{vertical:this._isDirection("vertical")&&this._contentSize.height>this._containerSize.height,horizontal:this._isDirection("horizontal")&&this._contentSize.width>this._containerSize.width}},dispose:function(){var t=this._$element.get(0).className,e=new RegExp("dx-scrollable-native\\S*","g");e.test(t)&&this._$element.removeClass(t.match(e).join(" ")),r.a.off(this._$element,".dxNativeScrollable"),r.a.off(this._$container,".dxNativeScrollable"),this._removeScrollbars(),clearTimeout(this._hideScrollbarTimeout)},_removeScrollbars:function(){this._eachScrollbar(function(t){t.$element().remove()})},scrollBy:function(t){var e=this.location();this._$container.scrollTop(Math.round(-e.top-t.top)),this._$container.scrollLeft(Math.round(-e.left-t.left))},validate:function(t){return!this.option("disabled")&&((!Object(a.j)(t)||!this._isScrolledInMaxDirection(t))&&!!this._allowedDirection())},_isScrolledInMaxDirection:function(t){var e=this._$container.get(0);return t.delta>0?t.shiftKey?!e.scrollLeft:!e.scrollTop:t.shiftKey?e.scrollLeft>=this._getMaxOffset().left:e.scrollTop>=this._getMaxOffset().top},getDirection:function(){return this._allowedDirection()}});e.a=d},function(t,e,n){"use strict";var i=n(217);e.a=i.a},function(t,e,n){"use strict";var i=n(12),o=n(13),r=n(19),a=n(14),s=n(6),l=n(18),c=n(2),u=n(17),h=n(7),d=n(55),p=n(26),f=n(5),m=n(1),g=n(48),v=n(33),y=n(9),_=n(3),b=n(15),C=n(57),O=n(68),x=n(20),S=n(10),w=n(115),P=n(121),k=n(37),E=n(82),T=n(32),I=n(42),j=n(173),M=n(101),D=n(86),A=n(126),R=T.a.inherit({ctor:function(){this._dataStructure=[],this._itemsCount=0,this._visibleItemsCount=0},_indexByKey:{},_convertItemsToNodes:function(t,e){var n=this;Object(y.a)(t,function(t,i){var o=Object(m.d)(e)?e:n._getParentId(i),r=n._convertItemToNode(i,o);n._dataStructure.push(r),n._checkForDuplicateId(r.internalFields.key),n._indexByKey[r.internalFields.key]=n._dataStructure.length-1,n._itemHasChildren(i)&&n._convertItemsToNodes(n._dataAccessors.getters.items(i),r.internalFields.key)})},_checkForDuplicateId:function(t){if(Object(m.d)(this._indexByKey[t]))throw I.a.Error("E1040",t)},_getParentId:function(t){return"plain"===this._dataType?this._dataAccessors.getters.parentKey(t):void 0},_itemHasChildren:function(t){if("plain"!==this._dataType){var e=this._dataAccessors.getters.items(t);return e&&e.length}},_getUniqueKey:function(t){var e=this._dataAccessors.getters.key,n=e(t);return e&&(n||0===n)&&Object(m.l)(n)?n:this.getItemsCount()},_convertItemToNode:function(t,e){this._itemsCount++,!1!==t.visible&&this._visibleItemsCount++;var n={internalFields:{disabled:this._dataAccessors.getters.disabled(t,{defaultValue:!1}),expanded:this._dataAccessors.getters.expanded(t,{defaultValue:!1}),selected:this._dataAccessors.getters.selected(t,{defaultValue:!1}),key:this._getUniqueKey(t),parentKey:Object(m.d)(e)?e:this._rootValue,item:this._makeObjectFromPrimitive(t),childrenKeys:[]}};return Object(_.a)(n,t),delete n.items,n},setChildrenKeys:function(){var t=this;Object(y.a)(this._dataStructure,function(e,n){if(n.internalFields.parentKey!==t._rootValue){var i=t.getParentNode(n);i&&i.internalFields.childrenKeys.push(n.internalFields.key)}})},_makeObjectFromPrimitive:function(t){if(Object(m.l)(t)){var e=t;t={},this._dataAccessors.setters.key(t,e)}return t},_convertToPublicNode:function(t,e){if(!t)return null;var n={text:this._dataAccessors.getters.display(t),key:t.internalFields.key,selected:t.internalFields.selected,expanded:t.internalFields.expanded,disabled:t.internalFields.disabled,parent:e||null,itemData:t.internalFields.item,children:[],items:[]};return n.parent&&(n.parent.children.push(n),n.parent.items.push(n)),n},convertToPublicNodes:function(t,e){if(!t.length)return[];var n=this,i=[];return Object(y.a)(t,function(t,o){o=Object(m.l)(o)?n._getByKey(o):o;var r=n._convertToPublicNode(o,e);r.children=n.convertToPublicNodes(o.internalFields.childrenKeys,r),i.push(r),o.internalFields.publicNode=r}),i},setDataAccessors:function(t){this._dataAccessors=t},_getByKey:function(t){return this._dataStructure[this.getIndexByKey(t)]||null},getParentNode:function(t){return this._getByKey(t.internalFields.parentKey)},getByKey:function(t,e){if(null===e||void 0===e)return null;var n=null,i=this,o=function(t,e){return Object(y.a)(t,function(t,o){if((o.internalFields&&o.internalFields.key||i._dataAccessors.getters.key(o)).toString()===e.toString())return n=o,!1}),n};return o(t,e)},getItemsCount:function(){return this._itemsCount},getVisibleItemsCount:function(){return this._visibleItemsCount},updateIndexByKey:function(){var t=this;this._indexByKey={},Object(y.a)(this._dataStructure,function(e,n){t._checkForDuplicateId(n.internalFields.key),t._indexByKey[n.internalFields.key]=e})},updateChildrenKeys:function(){this._indexByKey={},this.removeChildrenKeys(),this.updateIndexByKey(),this.setChildrenKeys()},removeChildrenKeys:function(){this._indexByKey={},Object(y.a)(this._dataStructure,function(t,e){e.internalFields.childrenKeys=[]})},getIndexByKey:function(t){return this._indexByKey[t]},createPlainStructure:function(t,e,n){return this._itemsCount=0,this._visibleItemsCount=0,this._rootValue=e,this._dataType=n,this._indexByKey={},this._convertItemsToNodes(t),this.setChildrenKeys(),this._dataStructure}});j.a.setEditorClass(M.default);var B=T.a.inherit({ctor:function(t){this.options={},Object(_.a)(this.options,this._defaultOptions(),t),this.options.dataConverter.setDataAccessors(this.options.dataAccessors),this._selectedNodesKeys=[],this._expandedNodesKeys=[],this._dataStructure=[],this._createInternalDataStructure(),this.getTreeNodes()},setOption:function(t,e){this.options[t]=e,"recursiveSelection"===t&&this._updateSelection()},_defaultOptions:function(){return{dataAccessors:void 0,items:[],multipleSelection:!0,recursiveSelection:!1,recursiveExpansion:!1,rootValue:0,searchValue:"",dataType:"tree",searchMode:"contains",dataConverter:new R,onNodeChanged:f.noop,sort:null}},_createInternalDataStructure:function(){this._initialDataStructure=this.options.dataConverter.createPlainStructure(this.options.items,this.options.rootValue,this.options.dataType),this._dataStructure=this.options.searchValue.length?this.search(this.options.searchValue):this._initialDataStructure,this.options.dataConverter._dataStructure=this._dataStructure,this._updateSelection(),this._updateExpansion()},_updateSelection:function(){this.options.recursiveSelection&&(this._setChildrenSelection(),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray("selected")},_updateExpansion:function(t){this.options.recursiveExpansion&&(t?this._updateOneBranch(t):this._setParentExpansion()),this._expandedNodesKeys=this._updateNodesKeysArray("expanded")},_updateNodesKeysArray:function(t){var e=this,n=[];return Object(y.a)(e._getDataBySelectionMode(),function(i,o){e._isNodeVisible(o)&&o.internalFields[t]&&("expanded"===t||e.options.multipleSelection?n.push(o.internalFields.key):(n.length&&e.toggleSelection(n[0],!1,!0),n=[o.internalFields.key]))}),n},_getDataBySelectionMode:function(){return this.options.multipleSelection?this.getData():this.getFullData()},_isNodeVisible:function(t){return!1!==t.internalFields.item.visible},_getByKey:function(t,e){return t===this._dataStructure?this.options.dataConverter._getByKey(e):this.options.dataConverter.getByKey(t,e)},_setChildrenSelection:function(){var t=this;Object(y.a)(this._dataStructure,function(e,n){if(n.internalFields.childrenKeys.length){var i=n.internalFields.selected;!0===i&&t._toggleChildrenSelection(n,i)}})},_setParentSelection:function(){var t=this;Object(y.a)(this._dataStructure,function(e,n){t.options.dataConverter.getParentNode(n)&&n.internalFields.parentKey!==t.options.rootValue&&t._iterateParents(n,function(e){var n=t._calculateSelectedState(e);t._setFieldState(e,"selected",n)})})},_setParentExpansion:function(){var t=this;Object(y.a)(this._dataStructure,function(e,n){n.internalFields.expanded&&t._updateOneBranch(n.internalFields.key)})},_updateOneBranch:function(t){var e=this,n=this.getNodeByKey(t);e._iterateParents(n,function(t){e._setFieldState(t,"expanded",!0)})},_iterateChildren:function(t,e,n,i){if(Object(m.h)(n)){var o=this,r=t.internalFields.key;-1===(i=i||[]).indexOf(r)&&(i.push(r),Object(y.a)(t.internalFields.childrenKeys,function(t,r){var a=o.getNodeByKey(r);n(a),a.internalFields.childrenKeys.length&&e&&o._iterateChildren(a,e,n,i)}))}},_iterateParents:function(t,e,n){if(t.internalFields.parentKey!==this.options.rootValue&&Object(m.h)(e)){n=n||[];var i=t.internalFields.key;if(-1===n.indexOf(i)){n.push(i);var o=this.options.dataConverter.getParentNode(t);o&&(e(o),o.internalFields.parentKey!==this.options.rootValue&&this._iterateParents(o,e,n))}}},_calculateSelectedState:function(t){for(var e=t.internalFields.childrenKeys.length,n=0,i=0,o=!1,r=0;r<=e-1;r++){var a=this.getNodeByKey(t.internalFields.childrenKeys[r]),s=!1===a.internalFields.item.visible,l=a.internalFields.selected;s?i++:l?n++:void 0===l&&(n+=.5)}return n&&(o=n===e-i||void 0),o},_toggleChildrenSelection:function(t,e){var n=this;this._iterateChildren(t,!0,function(t){n._isNodeVisible(t)&&n._setFieldState(t,"selected",e)})},_setFieldState:function(t,e,n){t.internalFields[e]!==n&&(t.internalFields[e]=n,t.internalFields.publicNode&&(t.internalFields.publicNode[e]=n),this.options.dataAccessors.setters[e](t.internalFields.item,n),this.options.onNodeChanged(t))},_markChildren:function(t){var e=this;Object(y.a)(t,function(t,n){var i=e.getIndexByKey(n),o=e.getNodeByKey(n);e._dataStructure[i]=0,o.internalFields.childrenKeys.length&&e._markChildren(o.internalFields.childrenKeys)})},_removeNode:function(t){var e=this.getNodeByKey(t);this._dataStructure[this.getIndexByKey(t)]=0,this._markChildren(e.internalFields.childrenKeys);var n=this,i=0,o=Object(_.a)([],this._dataStructure);Object(y.a)(o,function(t,e){e||(n._dataStructure.splice(t-i,1),i++)})},_addNode:function(t){var e=this.options.dataConverter,n=e._convertItemToNode(t,this.options.dataAccessors.getters.parentKey(t));this._dataStructure=this._dataStructure.concat(n),this._initialDataStructure=this._initialDataStructure.concat(n),e._dataStructure=e._dataStructure.concat(n)},_updateFields:function(){this.options.dataConverter.updateChildrenKeys(),this._updateSelection(),this._updateExpansion()},getSelectedNodesKeys:function(){return this._selectedNodesKeys},getExpandedNodesKeys:function(){return this._expandedNodesKeys},getData:function(){return this._dataStructure},getFullData:function(){return this._initialDataStructure},getNodeByItem:function(t){var e=null;return Object(y.a)(this._dataStructure,function(n,i){if(i.internalFields.item===t)return e=i,!1}),e},getNodesByItems:function(t){var e=this,n=[];return Object(y.a)(t,function(t,i){var o=e.getNodeByItem(i);o&&n.push(o)}),n},getNodeByKey:function(t,e){return this._getByKey(e||this._getDataBySelectionMode(),t)},getTreeNodes:function(){return this.options.dataConverter.convertToPublicNodes(this.getRootNodes())},getItemsCount:function(){return this.options.dataConverter.getItemsCount()},getVisibleItemsCount:function(){return this.options.dataConverter.getVisibleItemsCount()},getPublicNode:function(t){return t.internalFields.publicNode},getRootNodes:function(){return this.getChildrenNodes(this.options.rootValue)},getChildrenNodes:function(t){return Object(D.a)(this._dataStructure).filter(["internalFields.parentKey",t]).toArray()},getIndexByKey:function(t){return this.options.dataConverter.getIndexByKey(t)},addItem:function(t){this._addNode(t),this._updateFields()},removeItem:function(t){this._removeNode(t),this._updateFields()},toggleSelection:function(t,e,n){var i=this._isSingleModeUnselect(e),o=this._getByKey(n||i?this._initialDataStructure:this._dataStructure,t);this._setFieldState(o,"selected",e),this.options.recursiveSelection&&!n&&(e?this._setChildrenSelection():this._toggleChildrenSelection(o,e),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray("selected")},_isSingleModeUnselect:function(t){return!this.options.multipleSelection&&!t},toggleNodeDisabledState:function(t,e){var n=this.getNodeByKey(t);this._setFieldState(n,"disabled",e)},toggleSelectAll:function(t){if(Object(m.d)(t)){var e=this,n=e._selectedNodesKeys[e._selectedNodesKeys.length-1],i=e._isSingleModeUnselect(t)?this._initialDataStructure:this._dataStructure;Object(y.a)(i,function(n,i){e._isNodeVisible(i)&&e._setFieldState(i,"selected",t)}),e._selectedNodesKeys=e._updateNodesKeysArray("selected"),!t&&e.options.selectionRequired&&e.toggleSelection(n,!0)}},isAllSelected:function(){return!!this.getSelectedNodesKeys().length&&(this.getSelectedNodesKeys().length===this.getVisibleItemsCount()||void 0)},toggleExpansion:function(t,e){var n=this.getNodeByKey(t);this._setFieldState(n,"expanded",e),e&&this._updateExpansion(t),this._expandedNodesKeys=this._updateNodesKeysArray("expanded")},isFiltered:function(t){return!this.options.searchValue.length||!!this._filterDataStructure(this.options.searchValue,[t]).length},_createCriteria:function(t,e,n){var i=[];return Array.isArray(t)?(Object(y.a)(t,function(t,o){i.push([o,n,e],"or")}),i.pop(),i):[t,n,e]},_filterDataStructure:function(t,e){var n=this.options.searchExpr||this.options.dataAccessors.getters.display,i=j.a.getOperationBySearchMode(this.options.searchMode),o=this._createCriteria(n,t,i);return e=e||this._initialDataStructure,Object(D.a)(e).filter(o).toArray()},search:function(t){var e=this,n=this._filterDataStructure(t),i=this.options.dataConverter;return function t(n,o){for(var r=n.length;o<r;){var a=n[o];if(a.internalFields.parentKey!==e.options.rootValue){var s=i.getParentNode(a);s?(s.internalFields.expanded||e._setFieldState(s,"expanded",!0),n.includes(s)?o++:(n.splice(o,0,s),t(n,o))):(I.a.log("W1007",a.internalFields.parentKey,a.internalFields.key),o++)}else o++}}(n,0),this.options.sort&&(n=A.a.queryByOptions(Object(D.a)(n),{sort:this.options.sort}).toArray()),i._indexByKey={},Object(y.a)(n,function(t,e){e.internalFields.childrenKeys=[],i._indexByKey[e.internalFields.key]=t}),i._dataStructure=n,i.setChildrenKeys(),i._dataStructure}}),L=n(95),N=n(88),z=L.a.inherit({_getDefaultOptions:function(){return Object(_.a)(this.callBase(),{keyExpr:"id",displayExpr:"text",selectedExpr:"selected",disabledExpr:"disabled",itemsExpr:"items",hoverStateEnabled:!0,parentIdExpr:"parentId",expandedExpr:"expanded"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===x.a.real().deviceType&&!x.a.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initAccessors(),this._initDataAdapter(),this._initDynamicTemplates()},_initDataSource:function(){this.callBase(),this._dataSource&&this._dataSource.paginate(!1)},_initDataAdapter:function(){var t=this._createDataAdapterAccessors();this._dataAdapter=new B(Object(_.a)({dataAccessors:{getters:t.getters,setters:t.setters},items:this.option("items")},this._getDataAdapterOptions()))},_getDataAdapterOptions:f.noop,_initDynamicTemplates:function(){var t=this;this._templateManager.addDefaultTemplates({item:new N.a(function(e,n){e.html(n.html).append(this._getIconContainer(n)).append(this._getTextContainer(n)).append(this._getPopoutContainer(n)),t._addContentClasses(n,e.parent())}.bind(this),["text","html","items","icon"],this.option("integrationOptions.watchMethod"),{text:this._displayGetter,items:this._itemsGetter})})},_getIconContainer:function(t){return t.icon?Object(E.a)(t.icon):void 0},_getTextContainer:function(t){return Object(c.a)("<span>").text(t.text)},_getPopoutContainer:f.noop,_addContentClasses:f.noop,_initAccessors:function(){var t=this;Object(y.a)(this._getAccessors(),function(e,n){t._compileAccessor(n)}),this._compileDisplayGetter()},_getAccessors:function(){return["key","selected","items","disabled","parentId","expanded"]},_getChildNodes:function(t){var e=this,n=[];return Object(y.a)(t.internalFields.childrenKeys,function(t,i){var o=e._dataAdapter.getNodeByKey(i);n.push(o)}),n},_hasChildren:function(t){return t&&t.internalFields.childrenKeys.length},_compileAccessor:function(t){var e="_"+t+"Getter",n="_"+t+"Setter",i=this.option(t+"Expr");return i?Object(m.h)(i)?(this[n]=function(t,e){t[i()]=e},void(this[e]=function(t){return t[i()]})):(this[e]=Object(k.a)(i),void(this[n]=Object(k.b)(i))):(this[e]=f.noop,void(this[n]=f.noop))},_createDataAdapterAccessors:function(){var t=this,e={getters:{},setters:{}};return Object(y.a)(this._getAccessors(),function(n,i){var o="_"+i+"Getter",r="_"+i+"Setter",a="parentId"===i?"parentKey":i;e.getters[a]=t[o],e.setters[a]=t[r]}),e.getters.display=this._displayGetter?this._displayGetter:function(t){return t.text},e},_initMarkup:function(){this.callBase(),this._addWidgetClass()},_addWidgetClass:function(){this._focusTarget().addClass(this._widgetClass())},_widgetClass:f.noop,_renderItemFrame:function(t,e){var n=this.callBase.apply(this,arguments);return n.toggleClass("dx-state-disabled",!!this._disabledGetter(e)),n},_optionChanged:function(t){switch(t.name){case"displayExpr":case"keyExpr":this._initAccessors(),this._initDynamicTemplates(),this.repaint();break;case"itemsExpr":case"selectedExpr":case"disabledExpr":case"expandedExpr":case"parentIdExpr":this._initAccessors(),this._initDataAdapter(),this.repaint();break;case"items":this._initDataAdapter(),this.callBase(t);break;default:this.callBase(t)}}}),F=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_getPlainItems",value:function(){return Object(y.b)(this._collectionWidget.option("items"),function t(e){return e.items?[e].concat(Object(y.b)(e.items,t)):e})}},{key:"_stringifyItem",value:function(t){var e=this;return JSON.stringify(t,function(t,n){return"template"===t?e._getTemplateString(n):n})}},{key:"_getTemplateString",value:function(t){return"object"===typeof t?Object(c.a)(t).text():t.toString()}}]),e}(n(167).a),H=n(106),V="dx-menu-item",U={show:50,hide:300},W=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_getDefaultOptions",value:function(){return Object(_.a)(Object(a.a)(Object(s.a)(e.prototype),"_getDefaultOptions",this).call(this),{items:[],cssClass:"",activeStateEnabled:!0,showSubmenuMode:{name:"onHover",delay:{show:50,hide:300}},animation:{show:{type:"fade",from:0,to:1,duration:100},hide:{type:"fade",from:1,to:0,duration:100}},selectByClick:!1,focusOnSelectedItem:!1,keyExpr:null,_itemAttributes:{role:"menuitem"},useInkRipple:!1})}},{key:"_itemDataKey",value:function(){return"dxMenuItemDataKey"}},{key:"_itemClass",value:function(){return V}},{key:"_setAriaSelected",value:function(){}},{key:"_selectedItemClass",value:function(){return"dx-menu-item-selected"}},{key:"_widgetClass",value:function(){return"dx-menu-base"}},{key:"_focusTarget",value:function(){return this._itemContainer()}},{key:"_clean",value:function(){this.option("focusedElement",null),Object(a.a)(Object(s.a)(e.prototype),"_clean",this).call(this)}},{key:"_supportedKeys",value:function(){var t=this;return Object(_.a)(Object(a.a)(Object(s.a)(e.prototype),"_supportedKeys",this).call(this),{space:function(){var e=Object(c.a)(t.option("focusedElement"));e.length&&t._isSelectionEnabled()&&t.selectItem(e[0])},pageUp:f.noop,pageDown:f.noop})}},{key:"_isSelectionEnabled",value:function(){return"single"===this.option("selectionMode")}},{key:"_init",value:function(){this._activeStateUnit=".".concat(V),Object(a.a)(Object(s.a)(e.prototype),"_init",this).call(this),this._renderSelectedItem(),this._initActions()}},{key:"_getTextContainer",value:function(t){var e=t.text,n=Object(c.a)("<span>").addClass("dx-menu-item-text"),i=Object(m.k)(t)?e:String(t);return e&&n.text(i)}},{key:"_getPopoutContainer",value:function(t){var e,n=t.items;if(n&&n.length){var i=Object(c.a)("<div>").addClass("dx-menu-item-popout");e=Object(c.a)("<span>").addClass("dx-menu-item-popout-container").append(i)}return e}},{key:"_getDataAdapterOptions",value:function(){return{rootValue:0,multipleSelection:!1,recursiveSelection:!1,recursiveExpansion:!1,searchValue:""}}},{key:"_selectByItem",value:function(t){if(t){var e=this._dataAdapter.getNodeByItem(t);this._dataAdapter.toggleSelection(e.internalFields.key,!0)}}},{key:"_renderSelectedItem",value:function(){var t=this._dataAdapter.getSelectedNodesKeys(),e=t.length&&t[0],n=this.option("selectedItem");if(e){var i=this._dataAdapter.getNodeByKey(e);!1!==i.selectable&&(n?n!==i.internalFields.item&&(this._dataAdapter.toggleSelection(e,!1),this._selectByItem(n)):this.option("selectedItem",i.internalFields.item))}else this._selectByItem(n)}},{key:"_initActions",value:function(){}},{key:"_initMarkup",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_initMarkup",this).call(this),this.option("useInkRipple")&&this._renderInkRipple()}},{key:"_renderInkRipple",value:function(){this._inkRipple=Object(P.c)()}},{key:"_toggleActiveState",value:function(t,n,i){if(Object(a.a)(Object(s.a)(e.prototype),"_toggleActiveState",this).apply(this,arguments),this._inkRipple){var o={element:t,event:i};n?this._inkRipple.showWave(o):this._inkRipple.hideWave(o)}}},{key:"_getShowSubmenuMode",value:function(){var t=this.option("showSubmenuMode");return t=Object(m.j)(t)?t.name:t,this._isDesktopDevice()?t:"onClick"}},{key:"_initSelectedItems",value:function(){}},{key:"_isDesktopDevice",value:function(){return"desktop"===x.a.real().deviceType}},{key:"_initEditStrategy",value:function(){var t=F;this._editStrategy=new t(this)}},{key:"_addCustomCssClass",value:function(t){t.addClass(this.option("cssClass"))}},{key:"_itemWrapperSelector",value:function(){return".".concat("dx-menu-item-wrapper")}},{key:"_hoverStartHandler",value:function(t){var e=this._getItemElementByEventArgs(t);e&&!this._isItemDisabled(e)&&(t.stopPropagation(),"onHover"===this._getShowSubmenuMode()&&(clearTimeout(this._showSubmenusTimeout),this._showSubmenusTimeout=setTimeout(this._showSubmenu.bind(this,e),this._getSubmenuDelay("show"))))}},{key:"_getAvailableItems",value:function(t){return Object(a.a)(Object(s.a)(e.prototype),"_getAvailableItems",this).call(this,t).filter(function(){return"hidden"!==Object(c.a)(this).css("visibility")})}},{key:"_isItemDisabled",value:function(t){return this._disabledGetter(t.data(this._itemDataKey()))}},{key:"_showSubmenu",value:function(t){this._addExpandedClass(t)}},{key:"_addExpandedClass",value:function(t){Object(c.a)(t).addClass("dx-menu-item-expanded")}},{key:"_getSubmenuDelay",value:function(t){var e=this.option("showSubmenuMode").delay;return Object(m.d)(e)?Object(m.j)(e)?e[t]:e:U[t]}},{key:"_getItemElementByEventArgs",value:function(t){var e=Object(c.a)(t.target);if(e.hasClass(this._itemClass())||e.get(0)===t.currentTarget)return e;for(;!e.hasClass(this._itemClass());)if((e=e.parent()).hasClass("dx-submenu"))return null;return e}},{key:"_hoverEndHandler",value:function(){clearTimeout(this._showSubmenusTimeout)}},{key:"_hasSubmenu",value:function(t){return t&&t.internalFields.childrenKeys.length}},{key:"_renderContentImpl",value:function(){this._renderItems(this._dataAdapter.getRootNodes())}},{key:"_renderItems",value:function(t,e){var n=this;if(t.length){this.hasIcons=!1;var i=this._renderContainer(this.$element(),e),o=-1,r=-1;Object(y.a)(t,function(t,e){var a=!1!==e.visible;a&&o<0&&(o=t),o<t&&(e.beginGroup||t===r)&&(r=a?t:t+1),t===r&&o<t&&n._renderSeparator(i),n._renderItem(t,e,i)}),this.hasIcons||i.addClass("dx-menu-no-icons")}}},{key:"_renderContainer",value:function(t){var e=Object(c.a)("<ul>");return this.setAria("role","none",e),e.appendTo(t).addClass("dx-menu-items-container")}},{key:"_createDOMElement",value:function(t){var e=Object(c.a)("<li>");return this.setAria("role","none",e),e.appendTo(t).addClass("dx-menu-item-wrapper")}},{key:"_renderItem",value:function(t,n,i,o){var r=this.option("items"),l=o||this._createDOMElement(i);r[t+1]&&r[t+1].beginGroup&&l.addClass("dx-menu-last-group-item");var c=Object(a.a)(Object(s.a)(e.prototype),"_renderItem",this).call(this,t,n.internalFields.item,l);n.internalFields.item===this.option("selectedItem")&&c.addClass("dx-menu-item-selected"),c.attr("tabIndex",-1),this._hasSubmenu(n)&&this.setAria("haspopup","true",c)}},{key:"_renderItemFrame",value:function(t,n,i){var o=i.children(".".concat(V));return o.length?o:Object(a.a)(Object(s.a)(e.prototype),"_renderItemFrame",this).apply(this,arguments)}},{key:"_refreshItem",value:function(t,e){var n=this._dataAdapter.getNodeByItem(e),i=t.data(this._itemIndexKey()),o=t.closest("ul"),r=t.closest("li");this._renderItem(i,n,o,r)}},{key:"_addContentClasses",value:function(t,e){var n=!!t.text&&!!t.text.length,i=!!t.icon,o=!!t.items&&!!t.items.length;e.toggleClass("dx-menu-item-has-text",n),e.toggleClass("dx-menu-item-has-icon",i),this.hasIcons||(this.hasIcons=i),e.toggleClass("dx-menu-item-has-submenu",o)}},{key:"_getItemContent",value:function(t){var n=Object(a.a)(Object(s.a)(e.prototype),"_getItemContent",this).call(this,t);return n.length||(n=t.children(".".concat("dx-menu-item-content"))),n}},{key:"_postprocessRenderItem",value:function(t){var e=Object(c.a)(t.itemElement),n=this._dataAdapter.getSelectedNodesKeys();n.length&&this._selectedGetter(t.itemData)&&this._isItemSelectable(t.itemData)?this._dataAdapter.getNodeByItem(t.itemData).internalFields.key===n[0]?(e.addClass(this._selectedItemClass()),this._setAriaSelected(e,"true")):this._setAriaSelected(e,"false"):this._setAriaSelected(e,"false")}},{key:"_isItemSelectable",value:function(t){return!1!==t.selectable}},{key:"_renderSeparator",value:function(t){Object(c.a)("<li>").appendTo(t).addClass("dx-menu-separator")}},{key:"_itemClickHandler",value:function(t){if(!t._skipHandling){var e=this._createAction(this._updateSubmenuVisibilityOnClick.bind(this));this._itemDXEventHandler(t,"onItemClick",{},{afterExecute:e.bind(this)}),t._skipHandling=!0}}},{key:"_updateSubmenuVisibilityOnClick",value:function(t){this._updateSelectedItemOnClick(t),"onClick"===this._getShowSubmenuMode()&&this._addExpandedClass(t.args[0].itemElement)}},{key:"_updateSelectedItemOnClick",value:function(t){var e=t.args?t.args[0]:t;if(this._isItemSelectionAllowed(e.itemData)){var n=this._dataAdapter.getSelectedNodesKeys(),i=n.length&&this._dataAdapter.getNodeByKey(n[0]);i&&this._toggleItemSelection(i,!1),i&&i.internalFields.item===e.itemData?(this._fireSelectionChangeEvent(null,this.option("selectedItem")),this._setOptionWithoutOptionChange("selectedItem",null)):this.selectItem(e.itemData)}}},{key:"_isItemSelectionAllowed",value:function(t){var e=this._isSelectionEnabled()&&this.option("selectByClick");return!this._isContainerEmpty()&&e&&this._isItemSelectable(t)&&!this._itemsGetter(t)}},{key:"_isContainerEmpty",value:function(){return this._itemContainer().is(":empty")}},{key:"_syncSelectionOptions",value:function(){return Object(f.asyncNoop)()}},{key:"_optionChanged",value:function(t){switch(t.name){case"showSubmenuMode":break;case"selectedItem":var n=this._dataAdapter.getNodeByItem(t.value),i=this._dataAdapter.getSelectedNodesKeys()[0];if(n&&n.internalFields.key!==i){if(!1===n.selectable)break;i&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(i),!1),this._toggleItemSelection(n,!0),this._updateSelectedItems()}break;case"cssClass":case"position":case"selectByClick":case"animation":case"useInkRipple":this._invalidate();break;default:Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).call(this,t)}}},{key:"_toggleItemSelection",value:function(t,e){var n=this._getElementByItem(t.internalFields.item);n&&Object(c.a)(n).toggleClass("dx-menu-item-selected"),this._dataAdapter.toggleSelection(t.internalFields.key,e)}},{key:"_getElementByItem",value:function(t){var e,n=this;return Object(y.a)(this._itemElements(),function(i,o){return Object(c.a)(o).data(n._itemDataKey())!==t||(e=o,!1)}),e}},{key:"_updateSelectedItems",value:function(t,e){(t||e)&&this._fireSelectionChangeEvent(e,t)}},{key:"_fireSelectionChangeEvent",value:function(t,e){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:[t],removedItems:[e]})}},{key:"selectItem",value:function(t){var e=t.nodeType?this._getItemData(t):t,n=this._dataAdapter.getSelectedNodesKeys()[0],i=this.option("selectedItem"),o=this._dataAdapter.getNodeByItem(e);o.internalFields.key!==n&&(n&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(n),!1),this._toggleItemSelection(o,!0),this._updateSelectedItems(i,e),this._setOptionWithoutOptionChange("selectedItem",e))}},{key:"unselectItem",value:function(t){var e=t.nodeType?this._getItemData(t):t,n=this._dataAdapter.getNodeByItem(e),i=this.option("selectedItem");n.internalFields.selected&&(this._toggleItemSelection(n,!1),this._updateSelectedItems(i,null),this._setOptionWithoutOptionChange("selectedItem",null))}}]),e}(z);W.ItemClass=H.a;var K=W,$=n(16),G=n(200),q=n(113),Z=["onShowing","onShown","onSubmenuCreated","onHiding","onHidden","onPositioning","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu"],Y=["up","down","first","last"],X=Object(b.d)(),Q=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"getShowEvent",value:function(t){var e=null;return Object(m.j)(t)?null!==t.name&&(e=t.name||"dxcontextmenu"):e=t,e}},{key:"getShowDelay",value:function(t){return Object(m.j)(t)&&t.delay}},{key:"_getDefaultOptions",value:function(){return Object(_.a)(Object(a.a)(Object(s.a)(e.prototype),"_getDefaultOptions",this).call(this),{showEvent:"dxcontextmenu",hideOnOutsideClick:!0,position:{at:"top left",my:"top left"},onShowing:null,onShown:null,onSubmenuCreated:null,onHiding:null,onHidden:null,onPositioning:null,submenuDirection:"auto",visible:!1,target:void 0,onLeftFirstItem:null,onLeftLastItem:null,onCloseRootSubmenu:null,onExpandLastSubmenu:null})}},{key:"_defaultOptionsRules",value:function(){return Object(a.a)(Object(s.a)(e.prototype),"_defaultOptionsRules",this).call(this).concat([{device:function(){return!Object(b.f)()},options:{animation:null}}])}},{key:"_setDeprecatedOptions",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_setDeprecatedOptions",this).call(this),Object(_.a)(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.2",alias:"hideOnOutsideClick"}})}},{key:"_initActions",value:function(){var t=this;this._actions={},Object(y.a)(Z,function(e,n){t._actions[n]=t._createActionByOption(n)||f.noop})}},{key:"_setOptionsByReference",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_setOptionsByReference",this).call(this),Object(_.a)(this._optionsByReference,{animation:!0,selectedItem:!0})}},{key:"_focusInHandler",value:function(){}},{key:"_itemContainer",value:function(){return this._overlay?this._overlay.$content():Object(c.a)()}},{key:"_eventBindingTarget",value:function(){return this._itemContainer()}},{key:"itemsContainer",value:function(){return this._overlay?this._overlay.$content():void 0}},{key:"_supportedKeys",value:function(){var t=this;return Object(_.a)(Object(a.a)(Object(s.a)(e.prototype),"_supportedKeys",this).call(this),{space:function(){var e=Object(c.a)(t.option("focusedElement"));t.hide(),e.length&&t._isSelectionEnabled()&&t.selectItem(e[0])},escape:this.hide})}},{key:"_getActiveItem",value:function(){var t=this._getAvailableItems(),n=t.filter(".".concat("dx-state-focused")),i=t.filter(".".concat("dx-state-hover"));return i.closest(".".concat("dx-menu-items-container")).find(".".concat("dx-menu-item")).index(n)>=0?n:i.length?i:Object(a.a)(Object(s.a)(e.prototype),"_getActiveItem",this).call(this)}},{key:"_moveFocus",value:function(t){var n,i=this._getItemsByLocation(t),o=this._getActiveItem(!0),r=this.itemsContainer().find(".".concat("dx-state-hover")),l=!(!Object(c.a)(this.option("focusedElement")).length&&!r.length);switch(t){case"up":n=l?this._prevItem(i):o,this._setFocusedElement(n),o.is(i.first())&&this._actions.onLeftFirstItem(o);break;case"down":n=l?this._nextItem(i):o,this._setFocusedElement(n),o.is(i.last())&&this._actions.onLeftLastItem(o);break;case"right":n=this.option("rtlEnabled")?this._hideSubmenuHandler():this._expandSubmenuHandler(i,t),this._setFocusedElement(n);break;case"left":n=this.option("rtlEnabled")?this._expandSubmenuHandler(i,t):this._hideSubmenuHandler(),this._setFocusedElement(n);break;case"first":n=i.first(),this._setFocusedElement(n);break;case"last":n=i.last(),this._setFocusedElement(n);break;default:return Object(a.a)(Object(s.a)(e.prototype),"_moveFocus",this).call(this,t)}}},{key:"_setFocusedElement",value:function(t){t&&0!==t.length&&this.option("focusedElement",Object(v.a)(t))}},{key:"_getItemsByLocation",value:function(t){var e,n=this._getActiveItem(!0);return Y.includes(t)&&(e=n.closest(".".concat("dx-menu-items-container")).children().children()),e=this._getAvailableItems(e)}},{key:"_getAriaTarget",value:function(){return this.$element()}},{key:"_refreshActiveDescendant",value:function(){if(Object(m.d)(this._overlay)){var t=this._overlay.$content();Object(a.a)(Object(s.a)(e.prototype),"_refreshActiveDescendant",this).call(this,t)}}},{key:"_hideSubmenuHandler",value:function(){var t=this._getActiveItem(!0),e=t.parents(".".concat("dx-menu-item-expanded")).first();return e.length?(this._hideSubmenusOnSameLevel(e),this._hideSubmenu(t.closest(".".concat("dx-submenu"))),e):(this._actions.onCloseRootSubmenu(t),t)}},{key:"_expandSubmenuHandler",value:function(t,e){var n=this._getActiveItem(!0),i=this._getItemData(n),o=this._dataAdapter.getNodeByItem(i),r=this._hasSubmenu(o),a=n.children(".".concat("dx-submenu"));if(r&&!n.hasClass("dx-state-disabled"))return a.length&&"hidden"!==a.css("visibility")||this._showSubmenu(n),this._nextItem(this._getItemsByLocation(e));this._actions.onExpandLastSubmenu(n)}},{key:"_clean",value:function(){this._overlay&&(this._overlay.$element().remove(),this._overlay=null),this._detachShowContextMenuEvents(this._getTarget()),Object(a.a)(Object(s.a)(e.prototype),"_clean",this).call(this)}},{key:"_initMarkup",value:function(){this.$element().addClass("dx-has-context-menu"),Object(a.a)(Object(s.a)(e.prototype),"_initMarkup",this).call(this)}},{key:"_render",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_render",this).call(this),this._renderVisibility(this.option("visible")),this._addWidgetClass()}},{key:"_renderContentImpl",value:function(){this._detachShowContextMenuEvents(this._getTarget()),this._attachShowContextMenuEvents()}},{key:"_attachKeyboardEvents",value:function(){!this._keyboardListenerId&&this._focusTarget().length&&Object(a.a)(Object(s.a)(e.prototype),"_attachKeyboardEvents",this).call(this)}},{key:"_renderContextMenuOverlay",value:function(){if(!this._overlay){var t=this._getOverlayOptions();this._overlay=this._createComponent(Object(c.a)("<div>").appendTo(this._$element),w.a,t);var e=this._overlay.$content();e.addClass("dx-context-menu"),this._addCustomCssClass(e),this._addPlatformDependentClass(e),this._attachContextMenuEvent()}}},{key:"preventShowingDefaultContextMenuAboveOverlay",value:function(){var t=this._itemContainer(),e=Object(S.a)(G.a,this.NAME);h.a.off(t,e,".".concat("dx-submenu")),h.a.on(t,e,".".concat("dx-submenu"),function(n){n.stopPropagation(),n.preventDefault(),h.a.off(t,e,".".concat("dx-submenu"))}.bind(this))}},{key:"_itemContextMenuHandler",value:function(t){Object(a.a)(Object(s.a)(e.prototype),"_itemContextMenuHandler",this).call(this,t),t.stopPropagation()}},{key:"_addPlatformDependentClass",value:function(t){x.a.current().phone&&t.addClass("dx-menu-phone-overlay")}},{key:"_detachShowContextMenuEvents",value:function(t){var e=this.getShowEvent(this.option("showEvent"));if(e){var n=Object(S.a)(e,this.NAME);this._showContextMenuEventHandler?h.a.off(u.a.getDocument(),n,t,this._showContextMenuEventHandler):h.a.off(Object(c.a)(t),n)}}},{key:"_attachShowContextMenuEvents",value:function(){var t=this,e=this._getTarget(),n=this.getShowEvent(this.option("showEvent"));if(n){var i=Object(S.a)(n,this.NAME),o=this._createAction(function(e){var n=t.getShowDelay(t.option("showEvent"));n?setTimeout(function(){return t._show(e.event)},n):t._show(e.event)},{validatingTargetName:"target"}),r=function(t){return o({event:t,target:Object(c.a)(t.currentTarget)})};o=this._createAction(o),Object(m.n)(e)||e.nodeType||Object(m.p)(e)?(this._showContextMenuEventHandler=void 0,h.a.on(e,i,r)):(this._showContextMenuEventHandler=r,h.a.on(u.a.getDocument(),i,e,this._showContextMenuEventHandler))}}},{key:"_hoverEndHandler",value:function(t){Object(a.a)(Object(s.a)(e.prototype),"_hoverEndHandler",this).call(this,t),t.stopPropagation()}},{key:"_renderDimensions",value:function(){}},{key:"_renderContainer",value:function(t,n){var i=n||this._itemContainer();(t=Object(c.a)("<div>")).appendTo(i).addClass("dx-submenu").css("visibility",n?"hidden":"visible"),t.parent().hasClass("dx-overlay-content")||this._addCustomCssClass(t);var o=Object(a.a)(Object(s.a)(e.prototype),"_renderContainer",this).call(this,t);return n?o:this.option("width")?o.css("minWidth",this.option("width")):this.option("height")?o.css("minHeight",this.option("height")):o}},{key:"_renderSubmenuItems",value:function(t,e){this._renderItems(this._getChildNodes(t),e),this._actions.onSubmenuCreated({itemElement:Object(v.a)(e),itemData:t.internalFields.item,submenuElement:Object(v.a)(e.children(".".concat("dx-submenu")))})}},{key:"_getOverlayOptions",value:function(){var t=this,e=this.option("position");return{focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),innerOverlay:!0,hideOnOutsideClick:function(e){return t._hideOnOutsideClickHandler(e)},propagateOutsideClick:!0,hideOnParentScroll:!0,deferRendering:!1,position:{at:e.at,my:e.my,of:this._getTarget(),collision:"flipfit"},shading:!1,showTitle:!1,height:"auto",width:"auto",onShown:this._overlayShownActionHandler.bind(this),onHiding:this._overlayHidingActionHandler.bind(this),onHidden:this._overlayHiddenActionHandler.bind(this),visualContainer:X}}},{key:"_overlayShownActionHandler",value:function(t){this._actions.onShown(t)}},{key:"_overlayHidingActionHandler",value:function(t){this._actions.onHiding(t),t.cancel||(this._hideAllShownSubmenus(),this._setOptionWithoutOptionChange("visible",!1))}},{key:"_overlayHiddenActionHandler",value:function(t){this._actions.onHidden(t)}},{key:"_shouldHideOnOutsideClick",value:function(t){var e=this.option(),n=e.closeOnOutsideClick,i=e.hideOnOutsideClick;return Object(m.h)(i)?i(t):Object(m.h)(n)?n(t):i||n}},{key:"_hideOnOutsideClickHandler",value:function(t){if(!this._shouldHideOnOutsideClick(t))return!1;if(u.a.isDocument(t.target))return!0;var e=this._getActiveItemsContainer(t.target),n=this._getItemsContainers(),i=this._searchActiveItem(t.target),o=this.$element().parents(".".concat("dx-menu-item")),r=i[0]===o[0]&&i.length&&o.length;return!(this._isIncludeOverlay(e,n)&&i.length)&&!r||("onClick"===this._getShowSubmenuMode()&&this._hideAllShownChildSubmenus(i),!1)}},{key:"_getActiveItemsContainer",value:function(t){return Object(c.a)(t).closest(".".concat("dx-menu-items-container"))}},{key:"_getItemsContainers",value:function(){return this._overlay.$content().find(".".concat("dx-menu-items-container"))}},{key:"_searchActiveItem",value:function(t){return Object(c.a)(t).closest(".".concat("dx-menu-item")).eq(0)}},{key:"_isIncludeOverlay",value:function(t,e){var n=!1;return Object(y.a)(e,function(e,i){t.is(i)&&!n&&(n=!0)}),n}},{key:"_hideAllShownChildSubmenus",value:function(t){var e=this,n=t.find(".".concat("dx-submenu")),i=Object(_.a)([],this._shownSubmenus);n.length>0&&Object(y.a)(i,function(n,i){var o=e._searchActiveItem(i.context).parent();o.parent().is(t.parent().parent())&&!o.is(t.parent())&&e._hideSubmenu(i)})}},{key:"_showSubmenu",value:function(t){var n=this._dataAdapter.getNodeByItem(this._getItemData(t));if(this._hideSubmenusOnSameLevel(t),this._hasSubmenu(n)){var i=t.children(".".concat("dx-submenu")),o=i.length;Object(a.a)(Object(s.a)(e.prototype),"_showSubmenu",this).call(this,t),o||this._renderSubmenuItems(n,t),this._isSubmenuVisible(i)||this._drawSubmenu(t)}}},{key:"_hideSubmenusOnSameLevel",value:function(t){var e=t.parent(".".concat("dx-menu-item-wrapper")).siblings().find(".".concat("dx-menu-item-expanded"));e.length&&(e.removeClass("dx-menu-item-expanded"),this._hideSubmenu(e.find(".".concat("dx-submenu"))))}},{key:"_hideSubmenuGroup",value:function(t){this._isSubmenuVisible(t)&&this._hideSubmenuCore(t)}},{key:"_isSubmenuVisible",value:function(t){return"visible"===t.css("visibility")}},{key:"_drawSubmenu",value:function(t){var e=this.option("animation")?this.option("animation").show:{},n=t.children(".".concat("dx-submenu")),i=this._getSubmenuPosition(t);this._overlay&&this._overlay.option("visible")&&(Object(m.d)(this._shownSubmenus)||(this._shownSubmenus=[]),this._shownSubmenus.includes(n)||this._shownSubmenus.push(n),e&&C.a.stop(n),O.a.setup(n,i),e&&(Object(m.k)(e.to)&&(e.to.position=i),this._animate(n,e)),n.css("visibility","visible"))}},{key:"_animate",value:function(t,e){C.a.animate(t,e)}},{key:"_getSubmenuPosition",value:function(t){var e=this.option("submenuDirection").toLowerCase(),n={collision:"flip",of:t.parent(".".concat("dx-menu-item-wrapper")),offset:{h:0,v:-1}};switch(e){case"left":n.at="left top",n.my="right top";break;case"right":n.at="right top",n.my="left top";break;default:this.option("rtlEnabled")?(n.at="left top",n.my="right top"):(n.at="right top",n.my="left top")}return n}},{key:"_updateSubmenuVisibilityOnClick",value:function(t){if(t.args.length){var e=t.args[0].itemData,n=this._dataAdapter.getNodeByItem(e);if(n){var i=Object(c.a)(t.args[0].itemElement),o=i.find(".".concat("dx-submenu"));if(this._hasSubmenu(n)&&!o.length&&(this._renderSubmenuItems(n,i),o=i.find(".".concat("dx-submenu"))),i.context!==o.context||"visible"!==o.css("visibility")){this._updateSelectedItemOnClick(t);var r=e&&!1===e.closeMenuOnClick;if(e&&!e.disabled&&!r)if(0===o.length){var a=Object(c.a)(i.parents(".".concat("dx-submenu"))[0]);this._hideSubmenu(a),!t.canceled&&this._overlay&&this._overlay.option("visible")&&this.option("visible",!1)}else this._shownSubmenus&&this._shownSubmenus.length>0&&this._shownSubmenus[0].is(o)&&this._hideSubmenu(o),this._showSubmenu(i)}}}}},{key:"_hideSubmenu",value:function(t){var e=this,n=Object(_.a)([],this._shownSubmenus);Object(y.a)(n,function(n,i){(t.is(i)||Object(g.c)(t[0],i[0]))&&(i.parent().removeClass("dx-menu-item-expanded"),e._hideSubmenuCore(i))})}},{key:"_hideSubmenuCore",value:function(t){var e=this._shownSubmenus.indexOf(t),n=this.option("animation")?this.option("animation").hide:null;e>=0&&this._shownSubmenus.splice(e,1),this._stopAnimate(t),n&&this._animate(t,n),t.css("visibility","hidden")}},{key:"_stopAnimate",value:function(t){C.a.stop(t,!0)}},{key:"_hideAllShownSubmenus",value:function(){var t=this,e=Object(_.a)([],this._shownSubmenus);this._overlay.$content().find(".".concat("dx-menu-item-expanded")).removeClass("dx-menu-item-expanded"),Object(y.a)(e,function(e,n){t._hideSubmenu(n)})}},{key:"_visibilityChanged",value:function(t){t&&this._renderContentImpl()}},{key:"_optionChanged",value:function(t){if(Z.includes(t.name))this._initActions();else switch(t.name){case"visible":this._renderVisibility(t.value);break;case"showEvent":case"position":case"submenuDirection":this._invalidate();break;case"target":t.previousValue&&this._detachShowContextMenuEvents(t.previousValue),this._invalidate();break;case"closeOnOutsideClick":case"hideOnOutsideClick":break;default:Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).call(this,t)}}},{key:"_renderVisibility",value:function(t){return t?this._show():this._hide()}},{key:"_toggleVisibility",value:function(){}},{key:"_show",value:function(t){var e={jQEvent:t},n=(new $.a).reject().promise();if(this._actions.onShowing(e),e.cancel)return n;var i,o=this._positionContextMenu(t);o&&(this._overlay||(this._renderContextMenuOverlay(),this._overlay.$content().addClass(this._widgetClass()),this._renderFocusState(),this._attachHoverEvents(),this._attachClickEvent(),this._renderItems(this._dataAdapter.getRootNodes())),this._setOptionWithoutOptionChange("visible",!0),this._overlay.option("position",o),n=this._overlay.show(),t&&t.stopPropagation(),this._setAriaAttributes(),(null===t||void 0===t?void 0:null===(i=t.originalEvent)||void 0===i?void 0:i.type)===q.a.name&&this.preventShowingDefaultContextMenuAboveOverlay());return n}},{key:"_setAriaAttributes",value:function(){this._overlayContentId="dx-".concat(new d.a),this.setAria("owns",this._overlayContentId),this.setAria({id:this._overlayContentId,role:"menu"},this._overlay.$content())}},{key:"_cleanAriaAttributes",value:function(){this._overlay&&this.setAria("id",null,this._overlay.$content()),this.setAria("owns",void 0)}},{key:"_getTarget",value:function(){return this.option("target")||this.option("position").of||Object(c.a)(u.a.getDocument())}},{key:"_getContextMenuPosition",value:function(){return Object(_.a)({},this.option("position"),{of:this._getTarget()})}},{key:"_positionContextMenu",value:function(t){var e=this._getContextMenuPosition(),n=this._isInitialOptionValue("position"),i=this._createActionByOption("onPositioning");t&&t.preventDefault&&n&&(e.of=t);var o={position:e,event:t};return i(o),o.cancel?e=null:o.event&&(o.event.cancel=!0,t.preventDefault()),e}},{key:"_refresh",value:function(){if(Object(b.f)())if(this._overlay){var t=this._overlay.option("position");Object(a.a)(Object(s.a)(e.prototype),"_refresh",this).call(this),this._overlay&&this._overlay.option("position",t)}else Object(a.a)(Object(s.a)(e.prototype),"_refresh",this).call(this);else Object(a.a)(Object(s.a)(e.prototype),"_refresh",this).call(this)}},{key:"_hide",value:function(){var t;return this._overlay&&(t=this._overlay.hide(),this._setOptionWithoutOptionChange("visible",!1)),this._cleanAriaAttributes(),this.option("focusedElement",null),t||(new $.a).reject().promise()}},{key:"toggle",value:function(t){var e=this.option("visible");return t=void 0===t?!e:t,this._renderVisibility(t)}},{key:"show",value:function(){return this.toggle(!0)}},{key:"hide",value:function(){return this.toggle(!1)}}]),e}(K);Object(p.a)("dxContextMenu",Q);var J=Q;e.a=J},function(t,e,n){"use strict";var i=n(2),o=n(10),r=n(3),a=n(1),s=n(9),l=n(126),c=n(86),u=n(167),h=function(t){return(t.group<<20)+t.item},d=function(t){return{group:t>>20,item:1048575&t}},p=u.a.inherit({_groupElements:function(){return this._collectionWidget._itemContainer().find(".dx-list-group")},_groupItemElements:function(t){return t.find(".dx-list-item")},getIndexByItemData:function(t){var e=this._collectionWidget.option("items"),n=!1;return!!t&&(t.items&&t.items.length&&(t=t.items[0]),Object(s.a)(e,function(e,i){return!!i.items&&(Object(s.a)(i.items,function(i,o){return o!==t||(n={group:e,item:i},!1)}),!n&&void 0)}),n)},getItemDataByIndex:function(t){var e=this._collectionWidget.option("items");return Object(a.i)(t)?this.itemsGetter()[t]:t&&e[t.group]&&e[t.group].items[t.item]||null},itemsGetter:function(){for(var t=[],e=this._collectionWidget.option("items"),n=0;n<e.length;n++)e[n]&&e[n].items?t=t.concat(e[n].items):t.push(e[n]);return t},deleteItemAtIndex:function(t){var e=d(t);this._collectionWidget.option("items")[e.group].items.splice(e.item,1)},getKeysByItems:function(t){var e,n=[];for(e=0;e<t.length;e++)t[e]&&t[e].items?n=n.concat(t[e].items):n.push(t[e]);var i=[];for(e=0;e<n.length;e++)i.push(this._collectionWidget.keyOf(n[e]));return i},getIndexByKey:function(t,e){var n=e||this._collectionWidget.option("items"),i=-1,o=this;return Object(s.a)(n,function(e,n){if(n.items)return Object(s.a)(n.items,function(n,r){var a=o._collectionWidget.keyOf(r);if(o._equalKeys(a,t))return i={group:e,item:n},!1}),-1===i&&void 0}),i},_getGroups:function(t){var e=this._collectionWidget._dataController.group();return e?l.a.queryByOptions(Object(c.a)(t),{group:e}).toArray():this._collectionWidget.option("items")},getItemsByKeys:function(t,e){var n=this,i=[],o=this._getGroups(e),r={};return Object(s.a)(t,function(t,e){var a=function(t){var e=n.getIndexByKey(t,o),i=e&&o[e.group];if(i)return{groupKey:i.key,item:i.items[e.item]}}(e);if(a){var s=a.groupKey,l=a.item,c=r[s];c||(c={key:s,items:[]},r[s]=c,i.push(c)),c.items.push(l)}}),i},moveItemAtIndexToIndex:function(t,e){var n=this._collectionWidget.option("items"),i=d(t),o=d(e),r=n[i.group].items,a=n[o.group].items,s=r[i.item];r.splice(i.item,1),a.splice(o.item,0,s)},_isItemIndex:function(t){return t&&Object(a.i)(t.group)&&Object(a.i)(t.item)},_getNormalizedItemIndex:function(t){var e=Object(i.a)(t),n=e.closest(".dx-list-group");return n.length?h({group:this._groupElements().index(n),item:this._groupItemElements(n).index(e)}):-1},_normalizeItemIndex:function(t){return h(t)},_denormalizeItemIndex:function(t){return d(t)},_getItemByNormalizedIndex:function(t){var e=d(t),n=this._groupElements().eq(e.group);return this._groupItemElements(n).eq(e.item)},_itemsFromSameParent:function(t,e){return d(t).group===d(e).group}}),f=n(8),m=n(5),g=n(32),v=n(42),y=n(210),_=[],b=function(t,e,n){_.push({enabled:t,decoratorType:e,decoratorSubType:n})};b(function(){return this.option("menuItems").length},function(){return"menu"},function(){return this.option("menuMode")}),b(function(){return!this.option("menuItems").length&&this.option("allowItemDeleting")},function(){var t=this.option("itemDeleteMode");return"toggle"===t||"slideButton"===t||"swipe"===t||"static"===t?"delete":"menu"},function(){var t=this.option("itemDeleteMode");return"slideItem"===t&&(t="slide"),t}),b(function(){return"none"!==this.option("selectionMode")&&this.option("showSelectionControls")},function(){return"selection"},function(){return"default"}),b(function(){return this.option("itemDragging.allowReordering")||this.option("itemDragging.allowDropInsideItem")||this.option("itemDragging.group")},function(){return"reorder"},function(){return"default"});var C=g.a.inherit({ctor:function(t){this._list=t,this._fetchRequiredDecorators()},dispose:function(){this._decorators&&this._decorators.length&&Object(s.a)(this._decorators,function(t,e){e.dispose()})},_fetchRequiredDecorators:function(){this._decorators=[],Object(s.a)(_,function(t,e){if(e.enabled.call(this._list)){var n=e.decoratorType.call(this._list),i=e.decoratorSubType.call(this._list),o=this._createDecorator(n,i);this._decorators.push(o)}}.bind(this))},_createDecorator:function(t,e){return new(this._findDecorator(t,e))(this._list)},_findDecorator:function(t,e){var n,i=null===(n=y.b[t])||void 0===n?void 0:n[e];if(!i)throw v.a.Error("E1012",t,e);return i},modifyItemElement:function(t){var e=Object(i.a)(t.itemElement),n={$itemElement:e};this._prependBeforeBags(e,n),this._appendAfterBags(e,n),this._applyDecorators("modifyElement",n)},afterItemsRendered:function(){this._applyDecorators("afterRender")},_prependBeforeBags:function(t,e){var n=this._collectDecoratorsMarkup("beforeBag",e,"dx-list-item-before-bag");t.prepend(n)},_appendAfterBags:function(t,e){var n=this._collectDecoratorsMarkup("afterBag",e,"dx-list-item-after-bag");t.append(n)},_collectDecoratorsMarkup:function(t,e,n){var o=Object(i.a)("<div>");return Object(s.a)(this._decorators,function(){var a=Object(i.a)("<div>").addClass(n);this[t](Object(r.a)({$container:a},e)),a.children().length&&o.append(a)}),o.children()},_applyDecorators:function(t,e){Object(s.a)(this._decorators,function(){this[t](e)})},_handlerExists:function(t){if(!this._decorators)return!1;for(var e=this._decorators,n=e.length,i=0;i<n;i++)if(e[i][t]!==m.noop)return!0;return!1},_eventHandler:function(t,e,n){if(!this._decorators)return!1;for(var i=!1,o=this._decorators,r=o.length,a=0;a<r&&!(i=o[a][t](e,n));a++);return i},handleClick:function(t,e){return this._eventHandler("handleClick",t,e)},handleKeyboardEvents:function(t,e){return this._eventHandler("handleKeyboardEvents",t,e)},handleEnterPressing:function(t){return this._eventHandler("handleEnterPressing",t)},contextMenuHandlerExists:function(){return this._handlerExists("handleContextMenu")},handleContextMenu:function(t,e){return this._eventHandler("handleContextMenu",t,e)},getExcludedItemSelectors:function(){var t=[];return this._applyDecorators("getExcludedSelectors",t),t.join(",")}}),O=n(216),x=O.a.inherit({_supportedKeys:function(){var t=this,e=this,n=this.callBase(),i=function(i,o){var r=t._editStrategy,a=t.option("focusedElement"),s=r.getNormalizedIndex(a);if(!(s===t._getLastItemIndex())||!t._dataController.isLoading())if(i.shiftKey&&e.option("itemDragging.allowReordering")){var l=s+(o?-1:1),c=r.getItemElement(l);t.reorderItem(a,c),t.scrollToItem(a),i.preventDefault()}else{t._editProvider.handleKeyboardEvents(s,o)||(o?n.upArrow(i):n.downArrow(i))}};return Object(r.a)({},n,{del:function(t){e.option("allowItemDeleting")&&(t.preventDefault(),e.deleteItem(e.option("focusedElement")))},upArrow:function(t){return i(t,!0)},downArrow:function(t){return i(t)},enter:function(t){this._editProvider.handleEnterPressing(t)||n.enter.apply(this,arguments)},space:function(t){this._editProvider.handleEnterPressing(t)||n.space.apply(this,arguments)}})},_updateSelection:function(){this._editProvider.afterItemsRendered(),this.callBase()},_getLastItemIndex:function(){return this._itemElements().length-1},_refreshItemElements:function(){this.callBase();var t=this._editProvider.getExcludedItemSelectors();t.length&&(this._itemElementsCache=this._itemElementsCache.not(t))},_isItemStrictEquals:function(t,e){var n=t&&t.__dx_key__;return!(n&&!this.key()&&this._selection.isItemSelected(n))&&this.callBase(t,e)},_getDefaultOptions:function(){return Object(r.a)(this.callBase(),{showSelectionControls:!1,selectionMode:"none",selectAllMode:"page",onSelectAllValueChanged:null,selectAllText:f.a.format("dxList-selectAll"),menuItems:[],menuMode:"context",allowItemDeleting:!1,itemDeleteMode:"static",itemDragging:{}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(t){return"ios"===t.platform},options:{menuMode:"slide",itemDeleteMode:"slideItem"}},{device:{platform:"android"},options:{itemDeleteMode:"swipe"}}])},_init:function(){this.callBase(),this._initEditProvider()},_initDataSource:function(){this.callBase(),this._isPageSelectAll()||this._dataSource&&this._dataSource.requireTotalCount(!0)},_isPageSelectAll:function(){return"page"===this.option("selectAllMode")},_initEditProvider:function(){this._editProvider=new C(this)},_disposeEditProvider:function(){this._editProvider&&this._editProvider.dispose()},_refreshEditProvider:function(){this._disposeEditProvider(),this._initEditProvider()},_initEditStrategy:function(){this.option("grouped")?this._editStrategy=new p(this):this.callBase()},_initMarkup:function(){this._refreshEditProvider(),this.callBase()},_renderItems:function(){this.callBase.apply(this,arguments),this._editProvider.afterItemsRendered()},_selectedItemClass:function(){return"dx-list-item-selected"},_itemResponseWaitClass:function(){return"dx-list-item-response-wait"},_itemClickHandler:function(t){var e=Object(i.a)(t.currentTarget);e.is(".dx-state-disabled, .dx-state-disabled *")||(this._editProvider.handleClick(e,t)||(this._saveSelectionChangeEvent(t),this.callBase.apply(this,arguments)))},_shouldFireContextMenuEvent:function(){return this.callBase.apply(this,arguments)||this._editProvider.contextMenuHandlerExists()},_itemHoldHandler:function(t){var e=Object(i.a)(t.currentTarget);e.is(".dx-state-disabled, .dx-state-disabled *")||(Object(o.l)(t)&&this._editProvider.handleContextMenu(e,t)?t.handledByEditProvider=!0:this.callBase.apply(this,arguments))},_getItemContainer:function(t){if(this.option("grouped")){var e,n=null===(e=this._editStrategy.getIndexByItemData(t))||void 0===e?void 0:e.group;return this._getGroupContainerByIndex(n)}return this.callBase(t)},_itemContextMenuHandler:function(t){var e=Object(i.a)(t.currentTarget);e.is(".dx-state-disabled, .dx-state-disabled *")||(!t.handledByEditProvider&&this._editProvider.handleContextMenu(e,t)?t.preventDefault():this.callBase.apply(this,arguments))},_postprocessRenderItem:function(t){this.callBase.apply(this,arguments),this._editProvider.modifyItemElement(t)},_clean:function(){this._disposeEditProvider(),this.callBase()},focusListItem:function(t){var e=this._editStrategy.getItemElement(t);this.option("focusedElement",e),this.focus(),this.scrollToItem(this.option("focusedElement"))},_optionChanged:function(t){switch(t.name){case"selectAllMode":this._initDataSource(),this._dataController.pageIndex(0),this._dataController.load();break;case"grouped":this._clearSelectedItems(),delete this._renderingGroupIndex,this._initEditStrategy(),this.callBase(t);break;case"showSelectionControls":case"menuItems":case"menuMode":case"allowItemDeleting":case"itemDeleteMode":case"itemDragging":case"selectAllText":this._invalidate();break;case"onSelectAllValueChanged":break;default:this.callBase(t)}},selectAll:function(){return this._selection.selectAll(this._isPageSelectAll())},unselectAll:function(){return this._selection.deselectAll(this._isPageSelectAll())},isSelectAll:function(){return this._selection.getSelectAllState(this._isPageSelectAll())},getFlatIndexByItemElement:function(t){return this._itemElements().index(t)},getItemElementByFlatIndex:function(t){var e=this._itemElements();return t<0||t>=e.length?Object(i.a)():e.eq(t)},getItemByIndex:function(t){return this._editStrategy.getItemDataByIndex(t)}}),S=n(173),w=x.inherit(S.a).inherit({_addWidgetPrefix:function(t){return"dx-list-"+t},_getCombinedFilter:function(){var t=this._dataController,e={filter:t.filter()};return t.addSearchFilter(e),e.filter},_initDataSource:function(){var t=this.option("searchValue"),e=this.option("searchExpr"),n=this.option("searchMode");this.callBase();var i=this._dataController;t&&t.length&&i.searchValue(t),n.length&&i.searchOperation(S.a.getOperationBySearchMode(n)),e&&i.searchExpr(e)}}),P=n(26);Object(P.a)("dxList",w);e.a=w},function(t,e,n){"use strict";var i=n(12),o=n(13),r=n(19),a=n(14),s=n(6),l=n(18),c=n(11),u=n(2),h=n(55),d=n(15),p=n(7),f=n(26),m=n(43),g=n(1),v=n(9),y=n(3),_=n(16),b=n(145),C=n(71),O=n(65),x=n(57),S=C.a.inherit({_getDefaultOptions:function(){return Object(y.a)(this.callBase(),{min:0,max:100,value:0})},_initMarkup:function(){this.$element().addClass("dx-trackbar"),this._renderWrapper(),this._renderContainer(),this._renderRange(),this._renderValue(),this._setRangeStyles(),this.callBase()},_render:function(){this.callBase(),this._setRangeStyles(this._rangeStylesConfig())},_renderWrapper:function(){this._$wrapper=Object(u.a)("<div>").addClass("dx-trackbar-wrapper").appendTo(this.$element())},_renderContainer:function(){this._$bar=Object(u.a)("<div>").addClass("dx-trackbar-container").appendTo(this._$wrapper)},_renderRange:function(){this._$range=Object(u.a)("<div>").addClass("dx-trackbar-range").appendTo(this._$bar)},_renderValue:function(){var t=this.option("value"),e=this.option("min"),n=this.option("max");if(!(e>n)){if(t<e)return this.option("value",e),void(this._currentRatio=0);if(t>n)return this.option("value",n),void(this._currentRatio=1);var i=e===n?0:(t-e)/(n-e);!this._needPreventAnimation&&this._setRangeStyles({width:100*i+"%"}),this.setAria({valuemin:this.option("min"),valuemax:n,valuenow:t}),this._currentRatio=i}},_rangeStylesConfig:function(){return{width:100*this._currentRatio+"%"}},_setRangeStyles:function(t){x.a.stop(this._$range),t?!this._needPreventAnimation&&Object(d.f)()&&x.a.animate(this._$range,{type:"custom",duration:100,to:t}):this._$range.css({width:0})},_optionChanged:function(t){switch(t.name){case"value":this._renderValue(),this.callBase(t);break;case"max":case"min":this._renderValue();break;default:this.callBase(t)}},_dispose:function(){x.a.stop(this._$range),this.callBase()}});Object(f.a)("dxTrackBar",S);var w=S.inherit({_getDefaultOptions:function(){return Object(y.a)(this.callBase(),{value:0,statusFormat:function(t){return"Progress: "+Math.round(100*t)+"%"},showStatus:!0,onComplete:null,activeStateEnabled:!1,statusPosition:"bottom left",_animatingSegmentCount:0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(t){return"android"===t.platform},options:{_animatingSegmentCount:2}}])},_initMarkup:function(){this._renderStatus(),this._createCompleteAction(),this.callBase(),this.$element().addClass("dx-progressbar"),this._$wrapper.addClass("dx-progressbar-wrapper"),this._$bar.addClass("dx-progressbar-container"),this.setAria("role","progressbar"),Object(u.a)("<div>").addClass("dx-progressbar-range-container").appendTo(this._$wrapper).append(this._$bar),this._$range.addClass("dx-progressbar-range"),this._toggleStatus(this.option("showStatus"))},_useTemplates:function(){return!1},_createCompleteAction:function(){this._completeAction=this._createActionByOption("onComplete")},_renderStatus:function(){this._$status=Object(u.a)("<div>").addClass("dx-progressbar-status")},_renderIndeterminateState:function(){this._$segmentContainer=Object(u.a)("<div>").addClass("dx-progressbar-animating-container");for(var t=this.option("_animatingSegmentCount"),e=0;e<t;e++)Object(u.a)("<div>").addClass("dx-progressbar-animating-segment").addClass("dx-progressbar-animating-segment-"+(e+1)).appendTo(this._$segmentContainer);this._$segmentContainer.appendTo(this._$wrapper)},_toggleStatus:function(t){var e=this.option("statusPosition").split(" ");t?"top"===e[0]||"left"===e[0]?this._$status.prependTo(this._$wrapper):this._$status.appendTo(this._$wrapper):this._$status.detach(),this._togglePositionClass()},_togglePositionClass:function(){var t=this.option("statusPosition").split(" ");this._$wrapper.removeClass("dx-position-top-left dx-position-top-right dx-position-bottom-left dx-position-bottom-right dx-position-left dx-position-right");var e="dx-position-"+t[0];t[1]&&(e+="-"+t[1]),this._$wrapper.addClass(e)},_toggleIndeterminateState:function(t){t?(this._renderIndeterminateState(),this._$bar.toggle(!1)):(this._$bar.toggle(!0),this._$segmentContainer.remove(),delete this._$segmentContainer)},_renderValue:function(){var t=this.option("value"),e=this.option("max");t||0===t?(this._$segmentContainer&&this._toggleIndeterminateState(!1),t===e&&this._completeAction(),this.callBase(),this._setStatus()):this._toggleIndeterminateState(!0)},_setStatus:function(){var t=this.option("statusFormat"),e=(t=Object(g.h)(t)?t.bind(this):function(t){return t})(this._currentRatio,this.option("value"));this._$status.text(e)},_dispose:function(){this._$status.remove(),this.callBase()},_optionChanged:function(t){switch(t.name){case"statusFormat":this._setStatus();break;case"showStatus":this._toggleStatus(t.value);break;case"statusPosition":this._toggleStatus(this.option("showStatus"));break;case"onComplete":this._createCompleteAction();break;case"_animatingSegmentCount":break;default:this.callBase(t)}}});Object(f.a)("dxProgressBar",w);var P=w,k=n(20),E=n(10),T=n(54),I=n(8),j=n(47),M=n(17),D=Object(d.d)(),A=function(){return!!D.FormData},R=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_supportedKeys",value:function(){var t=this,n=function(e){e.preventDefault();var n=t._selectButton.$element();p.a.trigger(n,T.a)};return Object(y.a)(Object(a.a)(Object(s.a)(e.prototype),"_supportedKeys",this).call(this),{space:n,enter:n})}},{key:"_setOptionsByReference",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_setOptionsByReference",this).call(this),Object(y.a)(this._optionsByReference,{value:!0})}},{key:"_getDefaultOptions",value:function(){return Object(y.a)(Object(a.a)(Object(s.a)(e.prototype),"_getDefaultOptions",this).call(this),{chunkSize:0,value:[],selectButtonText:I.a.format("dxFileUploader-selectFile"),uploadButtonText:I.a.format("dxFileUploader-upload"),labelText:I.a.format("dxFileUploader-dropFile"),name:"files[]",multiple:!1,accept:"",uploadUrl:"/",allowCanceling:!0,showFileList:!0,progress:0,dialogTrigger:void 0,dropZone:void 0,readyToUploadMessage:I.a.format("dxFileUploader-readyToUpload"),uploadedMessage:I.a.format("dxFileUploader-uploaded"),uploadFailedMessage:I.a.format("dxFileUploader-uploadFailedMessage"),uploadAbortedMessage:I.a.format("dxFileUploader-uploadAbortedMessage"),uploadMode:"instantly",uploadMethod:"POST",uploadHeaders:{},uploadCustomData:{},onBeforeSend:null,onUploadStarted:null,onUploaded:null,onFilesUploaded:null,onProgress:null,onUploadError:null,onUploadAborted:null,onDropZoneEnter:null,onDropZoneLeave:null,allowedFileExtensions:[],maxFileSize:0,minFileSize:0,inputAttr:{},invalidFileExtensionMessage:I.a.format("dxFileUploader-invalidFileExtension"),invalidMaxFileSizeMessage:I.a.format("dxFileUploader-invalidMaxFileSize"),invalidMinFileSizeMessage:I.a.format("dxFileUploader-invalidMinFileSize"),extendSelection:!0,validationMessageMode:"always",uploadFile:null,uploadChunk:null,abortUpload:null,validationMessageOffset:{h:0,v:0},hoverStateEnabled:!0,useNativeInputClick:!1,useDragOver:!0,nativeDropSupported:!0,_uploadButtonType:"normal"})}},{key:"_defaultOptionsRules",value:function(){return Object(a.a)(Object(s.a)(e.prototype),"_defaultOptionsRules",this).call(this).concat([{device:function(){return"desktop"===k.a.real().deviceType&&!k.a.isSimulator()},options:{focusStateEnabled:!0}},{device:[{platform:"android"}],options:{validationMessageOffset:{v:0}}},{device:function(){return"desktop"!==k.a.real().deviceType},options:{useDragOver:!1}},{device:function(){return!A()},options:{uploadMode:"useForm"}},{device:function(){return"desktop"!==k.a.real().deviceType},options:{nativeDropSupported:!1}},{device:function(){return Object(j.d)()},options:{_uploadButtonType:"default"}}])}},{key:"_initOptions",value:function(t){var n="labelText"in t;Object(a.a)(Object(s.a)(e.prototype),"_initOptions",this).call(this,t),n||this._shouldDragOverBeRendered()||this.option("labelText","")}},{key:"_init",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_init",this).call(this),this._initFileInput(),this._initLabel(),this._setUploadStrategy(),this._createFiles(),this._createBeforeSendAction(),this._createUploadStartedAction(),this._createUploadedAction(),this._createFilesUploadedAction(),this._createProgressAction(),this._createUploadErrorAction(),this._createUploadAbortedAction(),this._createDropZoneEnterAction(),this._createDropZoneLeaveAction()}},{key:"_setUploadStrategy",value:function(){var t=null;if(this.option("chunkSize")>0){var e=this.option("uploadChunk");t=e&&Object(g.h)(e)?new F(this):new z(this)}else{var n=this.option("uploadFile");t=n&&Object(g.h)(n)?new U(this):new V(this)}this._uploadStrategy=t}},{key:"_initFileInput",value:function(){var t=this;this._isCustomClickEvent=!1,this._$fileInput||(this._$fileInput=Object(u.a)("<input>").attr("type","file"),p.a.on(this._$fileInput,"change",this._inputChangeHandler.bind(this)),p.a.on(this._$fileInput,"click",function(e){return e.stopPropagation(),t._resetInputValue(),t.option("useNativeInputClick")||t._isCustomClickEvent})),this._$fileInput.prop({multiple:this.option("multiple"),accept:this.option("accept"),tabIndex:-1})}},{key:"_inputChangeHandler",value:function(){if(!this._doPreventInputChange){var t=this._$fileInput.val().replace(/^.*\\/,""),e=this._$fileInput.prop("files");if(!e||e.length||"useForm"===this.option("uploadMode")){var n=e?this._getFiles(e):[{name:t}];this._changeValue(n),"instantly"===this.option("uploadMode")&&this._uploadFiles()}}}},{key:"_shouldFileListBeExtended",value:function(){return"useForm"!==this.option("uploadMode")&&this.option("extendSelection")&&this.option("multiple")}},{key:"_changeValue",value:function(t){var e=this._shouldFileListBeExtended()?this.option("value").slice():[];this.option("value",e.concat(t))}},{key:"_getFiles",value:function(t){var e=[];return Object(v.a)(t,function(t,n){return e.push(n)}),e}},{key:"_getFile",value:function(t){var e=Object(g.i)(t)?this.option("value")[t]:t;return this._files.filter(function(t){return t.value===e})[0]}},{key:"_initLabel",value:function(){this._$inputLabel||(this._$inputLabel=Object(u.a)("<div>")),this._updateInputLabelText()}},{key:"_updateInputLabelText",value:function(){var t=this._isInteractionDisabled()?"":this.option("labelText");this._$inputLabel.text(t)}},{key:"_focusTarget",value:function(){return this.$element().find(".dx-fileuploader-button")}},{key:"_getSubmitElement",value:function(){return this._$fileInput}},{key:"_initMarkup",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_initMarkup",this).call(this),this.$element().addClass("dx-fileuploader"),this._renderWrapper(),this._renderInputWrapper(),this._renderSelectButton(),this._renderInputContainer(),this._renderUploadButton(),this._preventRecreatingFiles=!0,this._activeDropZone=null}},{key:"_render",value:function(){this._preventRecreatingFiles=!1,this._attachDragEventHandlers(this._$inputWrapper),this._attachDragEventHandlers(this.option("dropZone")),this._renderFiles(),Object(a.a)(Object(s.a)(e.prototype),"_render",this).call(this)}},{key:"_createFileProgressBar",value:function(t){t.progressBar=this._createProgressBar(t.value.size),t.progressBar.$element().appendTo(t.$file),this._initStatusMessage(t),this._ensureCancelButtonInitialized(t)}},{key:"_setStatusMessage",value:function(t,e){var n=this;setTimeout(function(){n.option("showFileList")&&t.$statusMessage&&(t.$statusMessage.text(e),t.$statusMessage.css("display",""),t.progressBar.$element().remove())},400)}},{key:"_getUploadAbortedStatusMessage",value:function(){return"instantly"===this.option("uploadMode")?this.option("uploadAbortedMessage"):this.option("readyToUploadMessage")}},{key:"_createFiles",value:function(){var t=this,e=this.option("value");!this._files||0!==e.length&&this._shouldFileListBeExtended()||(this._preventFilesUploading(this._files),this._files=null),this._files||(this._files=[]),Object(v.a)(e.slice(this._files.length),function(e,n){var i=t._createFile(n);t._validateFile(i),t._files.push(i)})}},{key:"_preventFilesUploading",value:function(t){var e=this;t.forEach(function(t){return e._uploadStrategy.abortUpload(t)})}},{key:"_validateFile",value:function(t){t.isValidFileExtension=this._validateFileExtension(t),t.isValidMinSize=this._validateMinFileSize(t),t.isValidMaxSize=this._validateMaxFileSize(t)}},{key:"_validateFileExtension",value:function(t){var e=this.option("allowedFileExtensions"),n=this.option("accept"),i=this._getAllowedFileTypes(n),o=t.value.name.substring(t.value.name.lastIndexOf(".")).toLowerCase();if(0!==n.length&&!this._isFileTypeAllowed(t.value,i))return!1;if(0===e.length)return!0;for(var r=0;r<e.length;r++)if(o===e[r].toLowerCase())return!0;return!1}},{key:"_validateMaxFileSize",value:function(t){var e=t.value.size,n=this.option("maxFileSize");return!(n>0)||e<=n}},{key:"_validateMinFileSize",value:function(t){var e=t.value.size,n=this.option("minFileSize");return!(n>0)||e>=n}},{key:"_createBeforeSendAction",value:function(){this._beforeSendAction=this._createActionByOption("onBeforeSend",{excludeValidators:["readOnly"]})}},{key:"_createUploadStartedAction",value:function(){this._uploadStartedAction=this._createActionByOption("onUploadStarted",{excludeValidators:["readOnly"]})}},{key:"_createUploadedAction",value:function(){this._uploadedAction=this._createActionByOption("onUploaded",{excludeValidators:["readOnly"]})}},{key:"_createFilesUploadedAction",value:function(){this._filesUploadedAction=this._createActionByOption("onFilesUploaded",{excludeValidators:["readOnly"]})}},{key:"_createProgressAction",value:function(){this._progressAction=this._createActionByOption("onProgress",{excludeValidators:["readOnly"]})}},{key:"_createUploadAbortedAction",value:function(){this._uploadAbortedAction=this._createActionByOption("onUploadAborted",{excludeValidators:["readOnly"]})}},{key:"_createUploadErrorAction",value:function(){this._uploadErrorAction=this._createActionByOption("onUploadError",{excludeValidators:["readOnly"]})}},{key:"_createDropZoneEnterAction",value:function(){this._dropZoneEnterAction=this._createActionByOption("onDropZoneEnter")}},{key:"_createDropZoneLeaveAction",value:function(){this._dropZoneLeaveAction=this._createActionByOption("onDropZoneLeave")}},{key:"_createFile",value:function(t){return{value:t,loadedSize:0,onProgress:Object(m.a)(),onAbort:Object(m.a)(),onLoad:Object(m.a)(),onError:Object(m.a)(),onLoadStart:Object(m.a)(),isValidFileExtension:!0,isValidMaxSize:!0,isValidMinSize:!0,isValid:function(){return this.isValidFileExtension&&this.isValidMaxSize&&this.isValidMinSize},isInitialized:!1}}},{key:"_resetFileState",value:function(t){t.isAborted=!1,t.uploadStarted=!1,t.isStartLoad=!1,t.loadedSize=0,t.chunksData=void 0,t.request=void 0}},{key:"_renderFiles",value:function(){var t,e=this,n=this.option("value");this._$filesContainer?this._shouldFileListBeExtended()&&0!==n.length||this._$filesContainer.empty():this._$filesContainer=Object(u.a)("<div>").addClass("dx-fileuploader-files-container").appendTo(this._$content);var i=this.option("showFileList");i&&Object(v.a)(this._files,function(t,n){n.$file||e._renderFile(n)}),this.$element().toggleClass("dx-fileuploader-show-file-list",i),this._toggleFileUploaderEmptyClassName(),this._updateFileNameMaxWidth(),null===(t=this._validationMessage)||void 0===t||t.repaint()}},{key:"_renderFile",value:function(t){var e=t.value,n=Object(u.a)("<div>").addClass("dx-fileuploader-file-container").appendTo(this._$filesContainer);this._renderFileButtons(t,n),t.$file=Object(u.a)("<div>").addClass("dx-fileuploader-file").appendTo(n);var i=Object(u.a)("<div>").addClass("dx-fileuploader-file-info").appendTo(t.$file);t.$statusMessage=Object(u.a)("<div>").addClass("dx-fileuploader-file-status-message").appendTo(t.$file),Object(u.a)("<div>").addClass("dx-fileuploader-file-name").text(e.name).appendTo(i),Object(g.d)(e.size)&&Object(u.a)("<div>").addClass("dx-fileuploader-file-size").text(this._getFileSize(e.size)).appendTo(i),t.isValid()?t.$statusMessage.text(this.option("readyToUploadMessage")):(t.isValidFileExtension||t.$statusMessage.append(this._createValidationElement("invalidFileExtensionMessage")),t.isValidMaxSize||t.$statusMessage.append(this._createValidationElement("invalidMaxFileSizeMessage")),t.isValidMinSize||t.$statusMessage.append(this._createValidationElement("invalidMinFileSizeMessage")),n.addClass("dx-fileuploader-invalid"))}},{key:"_createValidationElement",value:function(t){return Object(u.a)("<span>").text(this.option(t))}},{key:"_updateFileNameMaxWidth",value:function(){var t=this.option("allowCanceling")&&"useForm"!==this.option("uploadMode")?1:0,e="useButtons"===this.option("uploadMode")?1:0,n=Object(c.k)(this._$filesContainer.find(".dx-fileuploader-file-container").first())||Object(c.k)(this._$filesContainer),i=this._$filesContainer.find(".dx-fileuploader-button-container").eq(0),o=Object(c.k)(i)*(t+e),r=this._$filesContainer.find(".dx-fileuploader-file-size").eq(0),a=r.text();r.text("1000 Mb");var s=Object(c.k)(r);r.text(a),this._$filesContainer.find(".dx-fileuploader-file-name").css("maxWidth",n-o-s)}},{key:"_renderFileButtons",value:function(t,e){var n=this._getCancelButton(t);n&&e.append(n);var i=this._getUploadButton(t);i&&e.append(i)}},{key:"_getCancelButton",value:function(t){var e=this;return"useForm"===this.option("uploadMode")?null:(t.cancelButton=this._createComponent(Object(u.a)("<div>").addClass("dx-fileuploader-button dx-fileuploader-cancel-button"),O.default,{onClick:function(){return e._removeFile(t)},icon:"close",visible:this.option("allowCanceling"),disabled:this.option("readOnly"),integrationOptions:{},hoverStateEnabled:this.option("hoverStateEnabled")}),Object(u.a)("<div>").addClass("dx-fileuploader-button-container").append(t.cancelButton.$element()))}},{key:"_getUploadButton",value:function(t){var e=this;return t.isValid()&&"useButtons"===this.option("uploadMode")?(t.uploadButton=this._createComponent(Object(u.a)("<div>").addClass("dx-fileuploader-button dx-fileuploader-upload-button"),O.default,{onClick:function(){return e._uploadFile(t)},icon:"upload",hoverStateEnabled:this.option("hoverStateEnabled")}),t.onLoadStart.add(function(){return t.uploadButton.option({visible:!1,disabled:!0})}),t.onAbort.add(function(){return t.uploadButton.option({visible:!0,disabled:!1})}),Object(u.a)("<div>").addClass("dx-fileuploader-button-container").append(t.uploadButton.$element())):null}},{key:"_removeFile",value:function(t){var e;null===(e=t.$file)||void 0===e||e.parent().remove(),this._files.splice(this._files.indexOf(t),1);var n=this.option("value").slice();n.splice(n.indexOf(t.value),1),this._preventRecreatingFiles=!0,this.option("value",n),this._preventRecreatingFiles=!1,this._toggleFileUploaderEmptyClassName(),this._resetInputValue(!0)}},{key:"removeFile",value:function(t){if("useForm"!==this.option("uploadMode")&&Object(g.d)(t)){var e=this._getFile(t);e&&(e.uploadStarted&&this._preventFilesUploading([e]),this._removeFile(e))}}},{key:"_toggleFileUploaderEmptyClassName",value:function(){this.$element().toggleClass("dx-fileuploader-empty",!this._files.length||this._hasInvalidFile(this._files))}},{key:"_hasInvalidFile",value:function(t){for(var e=0;e<t.length;e++)if(!t[e].isValid())return!0;return!1}},{key:"_getFileSize",value:function(t){for(var e=0,n=[I.a.format("dxFileUploader-bytes"),I.a.format("dxFileUploader-kb"),I.a.format("dxFileUploader-Mb"),I.a.format("dxFileUploader-Gb")],i=n.length-1;e<i&&t>=1024;)t/=1024,e++;return Math.round(t)+" "+n[e]}},{key:"_renderSelectButton",value:function(){var t=Object(u.a)("<div>").addClass("dx-fileuploader-button").appendTo(this._$inputWrapper);this._selectButton=this._createComponent(t,O.default,{text:this.option("selectButtonText"),focusStateEnabled:!1,integrationOptions:{},disabled:this.option("readOnly"),hoverStateEnabled:this.option("hoverStateEnabled")}),this._selectFileDialogHandler=this._selectButtonClickHandler.bind(this),"desktop"===k.a.real().deviceType?this._selectButton.option("onClick",this._selectFileDialogHandler):this._attachSelectFileDialogHandler(this._selectButton.$element()),this._attachSelectFileDialogHandler(this.option("dialogTrigger"))}},{key:"_selectButtonClickHandler",value:function(){if(!this.option("useNativeInputClick")){if(this._isInteractionDisabled())return!1;this._isCustomClickEvent=!0,p.a.trigger(this._$fileInput,"click"),this._isCustomClickEvent=!1}}},{key:"_attachSelectFileDialogHandler",value:function(t){Object(g.d)(t)&&(this._detachSelectFileDialogHandler(t),p.a.on(Object(u.a)(t),"click",this._selectFileDialogHandler))}},{key:"_detachSelectFileDialogHandler",value:function(t){Object(g.d)(t)&&p.a.off(Object(u.a)(t),"click",this._selectFileDialogHandler)}},{key:"_renderUploadButton",value:function(){if("useButtons"===this.option("uploadMode")){var t=Object(u.a)("<div>").addClass("dx-fileuploader-button").addClass("dx-fileuploader-upload-button").appendTo(this._$content);this._uploadButton=this._createComponent(t,O.default,{text:this.option("uploadButtonText"),onClick:this._uploadButtonClickHandler.bind(this),type:this.option("_uploadButtonType"),integrationOptions:{},hoverStateEnabled:this.option("hoverStateEnabled")})}}},{key:"_uploadButtonClickHandler",value:function(){this._uploadFiles()}},{key:"_shouldDragOverBeRendered",value:function(){return!this.option("readOnly")&&("useForm"!==this.option("uploadMode")||this.option("nativeDropSupported"))}},{key:"_isInteractionDisabled",value:function(){return this.option("readOnly")||this.option("disabled")}},{key:"_renderInputContainer",value:function(){this._$inputContainer=Object(u.a)("<div>").addClass("dx-fileuploader-input-container").appendTo(this._$inputWrapper),this._$fileInput.addClass("dx-fileuploader-input"),this._renderInput();var t="dx-fileuploader-input-label-".concat(new h.a);this._$inputLabel.attr("id",t).addClass("dx-fileuploader-input-label").appendTo(this._$inputContainer),this.setAria("labelledby",t,this._$fileInput)}},{key:"_renderInput",value:function(){this.option("useNativeInputClick")?this._selectButton.option("template",this._selectButtonInputTemplate.bind(this)):(this._$fileInput.appendTo(this._$inputContainer),this._selectButton.option("template","content")),this._applyInputAttributes(this.option("inputAttr"))}},{key:"_selectButtonInputTemplate",value:function(t,e){var n=Object(u.a)(e),i=Object(u.a)("<span>").addClass("dx-button-text").text(t.text);return n.append(i).append(this._$fileInput),n}},{key:"_renderInputWrapper",value:function(){this._$inputWrapper=Object(u.a)("<div>").addClass("dx-fileuploader-input-wrapper").appendTo(this._$content)}},{key:"_detachDragEventHandlers",value:function(t){Object(g.d)(t)&&p.a.off(Object(u.a)(t),Object(E.a)("",this.NAME))}},{key:"_attachDragEventHandlers",value:function(t){var e=t!==this._$inputWrapper;Object(g.d)(t)&&this._shouldDragOverBeRendered()&&(this._detachDragEventHandlers(t),t=Object(u.a)(t),p.a.on(t,Object(E.a)("dragenter",this.NAME),this._dragEnterHandler.bind(this,e)),p.a.on(t,Object(E.a)("dragover",this.NAME),this._dragOverHandler.bind(this,e)),p.a.on(t,Object(E.a)("dragleave",this.NAME),this._dragLeaveHandler.bind(this,e)),p.a.on(t,Object(E.a)("drop",this.NAME),this._dropHandler.bind(this,e)))}},{key:"_applyInputAttributes",value:function(t){this._$fileInput.attr(t)}},{key:"_useInputForDrop",value:function(){return this.option("nativeDropSupported")&&"useForm"===this.option("uploadMode")}},{key:"_getDropZoneElement",value:function(t,e){var n=t?Array.from(Object(u.a)(this.option("dropZone"))):[this._$inputWrapper];return(n=n.map(function(t){return Object(u.a)(t).get(0)}))[n.indexOf(e.currentTarget)]}},{key:"_dragEnterHandler",value:function(t,e){if(this.option("disabled"))return!1;this._useInputForDrop()||e.preventDefault();var n=this._getDropZoneElement(t,e);Object(g.d)(n)&&null===this._activeDropZone&&this.isMouseOverElement(e,n,!1)&&(this._activeDropZone=n,this._tryToggleDropZoneActive(!0,t,e))}},{key:"_dragOverHandler",value:function(t,e){if(this._useInputForDrop()||e.preventDefault(),e.originalEvent.dataTransfer.dropEffect="copy",!t){var n=this._getDropZoneElement(!1,e);null===this._activeDropZone&&this.isMouseOverElement(e,n,!1)&&this._dragEnterHandler(!1,e),null!==this._activeDropZone&&this._shouldRaiseDragLeave(e,!1)&&this._dragLeaveHandler(!1,e)}}},{key:"_dragLeaveHandler",value:function(t,e){this._useInputForDrop()||e.preventDefault(),null!==this._activeDropZone&&this._shouldRaiseDragLeave(e,t)&&(this._tryToggleDropZoneActive(!1,t,e),this._activeDropZone=null)}},{key:"_shouldRaiseDragLeave",value:function(t,e){return!this.isMouseOverElement(t,this._activeDropZone,!e)}},{key:"_tryToggleDropZoneActive",value:function(t,e,n){var i=t?"addClass":"removeClass";this[t?"_dropZoneEnterAction":"_dropZoneLeaveAction"]({event:n,dropZoneElement:this._activeDropZone}),e||this.$element()[i]("dx-fileuploader-dragover")}},{key:"_dropHandler",value:function(t,e){if(this._activeDropZone=null,t||this.$element().removeClass("dx-fileuploader-dragover"),!(this._useInputForDrop()||t&&this._isInteractionDisabled())){e.preventDefault();var n=e.originalEvent.dataTransfer.files,i=this._getFiles(n);!this.option("multiple")&&i.length>1||(this._changeValue(i),"instantly"===this.option("uploadMode")&&this._uploadFiles())}}},{key:"_areAllFilesLoaded",value:function(){return this._files.every(function(t){return!t.isValid()||t._isError||t._isLoaded||t.isAborted})}},{key:"_handleAllFilesUploaded",value:function(){this._recalculateProgress(),this._areAllFilesLoaded()&&this._filesUploadedAction()}},{key:"_getAllowedFileTypes",value:function(t){return t.length?t.split(",").map(function(t){return t.trim()}):[]}},{key:"_isFileTypeAllowed",value:function(t,e){for(var n=0,i=e.length;n<i;n++){var o=e[n];if("."===o[0]){if(o=o.replace(".","\\."),t.name.match(new RegExp(o+"$","i")))return!0}else if(o=o.replace(new RegExp("\\*","g"),""),t.type.match(new RegExp(o,"i")))return!0}return!1}},{key:"_renderWrapper",value:function(){var t=Object(u.a)("<div>").addClass("dx-fileuploader-wrapper").appendTo(this.$element()),e=Object(u.a)("<div>").addClass("dx-fileuploader-container").appendTo(t);this._$content=Object(u.a)("<div>").addClass("dx-fileuploader-content").appendTo(e)}},{key:"_clean",value:function(){this._$fileInput.detach(),delete this._$filesContainer,this._detachSelectFileDialogHandler(this.option("dialogTrigger")),this._detachDragEventHandlers(this.option("dropZone")),this._files&&this._files.forEach(function(t){t.$file=null,t.$statusMessage=null}),Object(a.a)(Object(s.a)(e.prototype),"_clean",this).call(this)}},{key:"abortUpload",value:function(t){if("useForm"!==this.option("uploadMode"))if(Object(g.d)(t)){var e=this._getFile(t);e&&this._preventFilesUploading([e])}else this._preventFilesUploading(this._files)}},{key:"upload",value:function(t){if("useForm"!==this.option("uploadMode"))if(Object(g.d)(t)){var e=this._getFile(t);e&&A()&&this._uploadFile(e)}else this._uploadFiles()}},{key:"_uploadFiles",value:function(){var t=this;A()&&Object(v.a)(this._files,function(e,n){return t._uploadFile(n)})}},{key:"_uploadFile",value:function(t){this._uploadStrategy.upload(t)}},{key:"_updateProgressBar",value:function(t,e){t.progressBar&&t.progressBar.option({value:e.loaded,showStatus:!0}),this._progressAction({file:t.value,segmentSize:e.currentSegmentSize,bytesLoaded:e.loaded,bytesTotal:e.total,event:e.event,request:t.request})}},{key:"_updateTotalProgress",value:function(t,e){var n=0;Object(g.d)(t)&&(this._files.length>0&&this._areAllFilesLoaded()&&0===t&&0===e?n=this._getProgressValue(1):t&&(n=this._getProgressValue(e/t))),this.option("progress",n),this._setLoadedSize(e)}},{key:"_getProgressValue",value:function(t){return Math.floor(100*t)}},{key:"_initStatusMessage",value:function(t){t.$statusMessage.css("display","none")}},{key:"_ensureCancelButtonInitialized",value:function(t){var e=this;if(!t.isInitialized){t.cancelButton.option("onClick",function(){e._preventFilesUploading([t]),e._removeFile(t)});var n=function(){setTimeout(function(){t.cancelButton.option({visible:!1})},400)};t.onLoad.add(n),t.onError.add(n)}}},{key:"_createProgressBar",value:function(t){var e=this;return this._createComponent(Object(u.a)("<div>"),P,{value:void 0,min:0,max:t,statusFormat:function(t){return e._getProgressValue(t)+"%"},showStatus:!1,statusPosition:"right"})}},{key:"_getTotalFilesSize",value:function(){var t=this;return this._totalFilesSize||(this._totalFilesSize=0,Object(v.a)(this._files,function(e,n){t._totalFilesSize+=n.value.size})),this._totalFilesSize}},{key:"_getTotalLoadedFilesSize",value:function(){var t=this;return this._totalLoadedFilesSize||(this._totalLoadedFilesSize=0,Object(v.a)(this._files,function(e,n){t._totalLoadedFilesSize+=n.loadedSize})),this._totalLoadedFilesSize}},{key:"_setLoadedSize",value:function(t){this._totalLoadedFilesSize=t}},{key:"_recalculateProgress",value:function(){this._totalFilesSize=0,this._totalLoadedFilesSize=0,this._updateTotalProgress(this._getTotalFilesSize(),this._getTotalLoadedFilesSize())}},{key:"isMouseOverElement",value:function(t,e,n){if(!e)return!1;var i=n?parseFloat(D.getComputedStyle(e,":before").height):0,o=n?parseFloat(D.getComputedStyle(e,":after").height):0,r=Object(c.f)(e).left,a=Object(c.f)(e).top+i,s=e.offsetWidth,l=e.offsetHeight-i-o,u=this._getEventX(t),h=this._getEventY(t);return u>=r&&u<r+s&&h>=a&&h<a+l}},{key:"_getEventX",value:function(t){return Object(E.l)(t)?this._getTouchEventX(t):t.clientX+this._getDocumentScrollLeft()}},{key:"_getEventY",value:function(t){return Object(E.l)(t)?this._getTouchEventY(t):t.clientY+this._getDocumentScrollTop()}},{key:"_getTouchEventX",value:function(t){var e=null;return t.changedTouches.length>0?e=t.changedTouches:t.targetTouches.length>0&&(e=t.targetTouches),e?e[0].pageX:0}},{key:"_getTouchEventY",value:function(t){var e=null;return t.changedTouches.length>0?e=t.changedTouches:t.targetTouches.length>0&&(e=t.targetTouches),e?e[0].pageY:0}},{key:"_getDocumentScrollTop",value:function(){var t=M.a.getDocument();return t.documentElement.scrollTop||t.body.scrollTop}},{key:"_getDocumentScrollLeft",value:function(){var t=M.a.getDocument();return t.documentElement.scrollLeft||t.body.scrollLeft}},{key:"_updateReadOnlyState",value:function(){var t=this.option("readOnly");this._selectButton.option("disabled",t),this._files.forEach(function(e){var n;return null===(n=e.cancelButton)||void 0===n?void 0:n.option("disabled",t)}),this._updateInputLabelText(),this._attachDragEventHandlers(this._$inputWrapper)}},{key:"_updateHoverState",value:function(){var t,e,n=this.option("hoverStateEnabled");null===(t=this._selectButton)||void 0===t||t.option("hoverStateEnabled",n),null===(e=this._uploadButton)||void 0===e||e.option("hoverStateEnabled",n),this._files.forEach(function(t){var e,i;null===(e=t.uploadButton)||void 0===e||e.option("hoverStateEnabled",n),null===(i=t.cancelButton)||void 0===i||i.option("hoverStateEnabled",n)})}},{key:"_optionChanged",value:function(t){var n=t.name,i=t.value,o=t.previousValue;switch(n){case"height":case"width":this._updateFileNameMaxWidth(),Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).call(this,t);break;case"value":!i.length&&this._$fileInput.val(""),this._preventRecreatingFiles||(this._createFiles(),this._renderFiles()),this._recalculateProgress(),Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).call(this,t);break;case"name":this._initFileInput(),Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).call(this,t);break;case"accept":this._initFileInput();break;case"multiple":this._initFileInput(),t.value||this.reset();break;case"readOnly":this._updateReadOnlyState(),Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).call(this,t);break;case"disabled":this._updateInputLabelText(),Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).call(this,t);break;case"selectButtonText":this._selectButton.option("text",i);break;case"uploadButtonText":this._uploadButton&&this._uploadButton.option("text",i);break;case"_uploadButtonType":this._uploadButton&&this._uploadButton.option("type",i);break;case"dialogTrigger":this._detachSelectFileDialogHandler(o),this._attachSelectFileDialogHandler(i);break;case"dropZone":this._detachDragEventHandlers(o),this._attachDragEventHandlers(i);break;case"maxFileSize":case"minFileSize":case"allowedFileExtensions":case"invalidFileExtensionMessage":case"invalidMaxFileSizeMessage":case"invalidMinFileSizeMessage":case"readyToUploadMessage":case"uploadedMessage":case"uploadFailedMessage":case"uploadAbortedMessage":this._invalidate();break;case"labelText":this._updateInputLabelText();break;case"showFileList":this._preventRecreatingFiles||this._renderFiles();break;case"uploadFile":case"uploadChunk":case"chunkSize":this._setUploadStrategy();break;case"abortUpload":case"uploadUrl":case"progress":case"uploadMethod":case"uploadHeaders":case"uploadCustomData":case"extendSelection":break;case"hoverStateEnabled":this._updateHoverState(),Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).call(this,t);break;case"allowCanceling":case"uploadMode":this.reset(),this._invalidate();break;case"onBeforeSend":this._createBeforeSendAction();break;case"onUploadStarted":this._createUploadStartedAction();break;case"onUploaded":this._createUploadedAction();break;case"onFilesUploaded":this._createFilesUploadedAction();break;case"onProgress":this._createProgressAction();break;case"onUploadError":this._createUploadErrorAction();break;case"onUploadAborted":this._createUploadAbortedAction();break;case"onDropZoneEnter":this._createDropZoneEnterAction();break;case"onDropZoneLeave":this._createDropZoneLeaveAction();break;case"useNativeInputClick":this._renderInput();break;case"useDragOver":this._attachDragEventHandlers(this._$inputWrapper);break;case"nativeDropSupported":this._invalidate();break;case"inputAttr":this._applyInputAttributes(this.option(n));break;default:Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).call(this,t)}}},{key:"_resetInputValue",value:function(t){("useForm"!==this.option("uploadMode")||t)&&(this._doPreventInputChange=!0,this._$fileInput.val(""),this._doPreventInputChange=!1)}},{key:"reset",value:function(){this.option("value",[])}}]),e}(C.a),B=function(){function t(e,n){Object(i.a)(this,t),this.file=e,this.chunkSize=n,this.index=0}return Object(o.a)(t,[{key:"read",value:function(){if(!this.file)return null;var t=this.createBlobResult(this.file,this.index,this.chunkSize);return t.isCompleted&&(this.file=null),this.index++,t}},{key:"createBlobResult",value:function(t,e,n){var i=e*n;return{blob:this.sliceFile(t,i,n),index:e,isCompleted:i+n>=t.size}}},{key:"sliceFile",value:function(t,e,n){return t.slice?t.slice(e,e+n):t.webkitSlice?t.webkitSlice(e,e+n):null}}]),t}(),L=function(){function t(e){Object(i.a)(this,t),this.fileUploader=e}return Object(o.a)(t,[{key:"upload",value:function(t){t.isInitialized&&t.isAborted&&this.fileUploader._resetFileState(t),t.isValid()&&!t.uploadStarted&&(this._prepareFileBeforeUpload(t),this._uploadCore(t))}},{key:"abortUpload",value:function(t){var e=this;if(!(t._isError||t._isLoaded||t.isAborted)&&t.uploadStarted&&(t.isAborted=!0,t.request&&t.request.abort(),this._isCustomCallback("abortUpload"))){var n=this.fileUploader.option("abortUpload"),i=this._createUploadArgument(t),o=null;try{var r=n(t.value,i);o=Object(_.b)(r)}catch(a){o=(new _.a).reject(a).promise()}o.done(function(){return t.onAbort.fire()}).fail(function(n){return e._handleFileError(t,n)})}}},{key:"_beforeSend",value:function(t,e){var n=this._createUploadArgument(e);this.fileUploader._beforeSendAction({request:t,file:e.value,uploadInfo:n}),e.request=t}},{key:"_createUploadArgument",value:function(t){}},{key:"_uploadCore",value:function(t){}},{key:"_isCustomCallback",value:function(t){var e=this.fileUploader.option(t);return e&&Object(g.h)(e)}},{key:"_handleProgress",value:function(t,e){t._isError||(t._isProgressStarted=!0,this._handleProgressCore(t,e))}},{key:"_handleProgressCore",value:function(t,e){}},{key:"_handleFileError",value:function(t,e){t._isError=!0,t.onError.fire(e)}},{key:"_prepareFileBeforeUpload",value:function(t){var e;t.$file&&(null===(e=t.progressBar)||void 0===e||e.dispose(),this.fileUploader._createFileProgressBar(t));t.isInitialized||(t.onLoadStart.add(this._onUploadStarted.bind(this,t)),t.onLoad.add(this._onLoadedHandler.bind(this,t)),t.onError.add(this._onErrorHandler.bind(this,t)),t.onAbort.add(this._onAbortHandler.bind(this,t)),t.onProgress.add(this._onProgressHandler.bind(this,t)),t.isInitialized=!0)}},{key:"_shouldHandleError",value:function(t,e){return(this._isStatusError(e.status)||!t._isProgressStarted)&&!t.isAborted}},{key:"_isStatusError",value:function(t){return 400<=t&&t<500||500<=t&&t<600}},{key:"_onUploadStarted",value:function(t,e){t.uploadStarted=!0,this.fileUploader._uploadStartedAction({file:t.value,event:e,request:t.request})}},{key:"_onAbortHandler",value:function(t,e){var n={file:t.value,event:e,request:t.request,message:this.fileUploader._getUploadAbortedStatusMessage()};this.fileUploader._uploadAbortedAction(n),this.fileUploader._setStatusMessage(t,n.message),this.fileUploader._handleAllFilesUploaded()}},{key:"_onErrorHandler",value:function(t,e){var n={file:t.value,event:void 0,request:t.request,error:e,message:this.fileUploader.option("uploadFailedMessage")};this.fileUploader._uploadErrorAction(n),this.fileUploader._setStatusMessage(t,n.message),this.fileUploader._handleAllFilesUploaded()}},{key:"_onLoadedHandler",value:function(t,e){var n={file:t.value,event:e,request:t.request,message:this.fileUploader.option("uploadedMessage")};t._isLoaded=!0,this.fileUploader._uploadedAction(n),this.fileUploader._setStatusMessage(t,n.message),this.fileUploader._handleAllFilesUploaded()}},{key:"_onProgressHandler",value:function(t,e){if(t){var n=this.fileUploader._getTotalFilesSize(),i=this.fileUploader._getTotalLoadedFilesSize(),o=Math.min(e.loaded,t.value.size),r=o-t.loadedSize;t.loadedSize=o,this.fileUploader._updateTotalProgress(n,i+r),this.fileUploader._updateProgressBar(t,this._getLoadedData(o,e.total,r,e))}}},{key:"_getLoadedData",value:function(t,e,n,i){return{loaded:t,total:e,currentSegmentSize:n}}},{key:"_extendFormData",value:function(t){var e=this.fileUploader.option("uploadCustomData");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&Object(g.d)(e[n])&&t.append(n,e[n])}}]),t}(),N=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(r.a)(this,Object(s.a)(e).call(this,t))).chunkSize=n.fileUploader.option("chunkSize"),n}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_uploadCore",value:function(t){var e=t.value,n={name:e.name,loadedBytes:0,type:e.type,blobReader:new B(e,this.chunkSize),guid:new h.a,fileSize:e.size,count:this._getFileChunksCount(e),customData:{}};t.chunksData=n,this._sendChunk(t,n)}},{key:"_getFileChunksCount",value:function(t){return 0===t.size?1:Math.ceil(t.size/this.chunkSize)}},{key:"_sendChunk",value:function(t,e){var n=this,i=e.blobReader.read();e.currentChunk=i,i&&this._sendChunkCore(t,e,i).done(function(){t.isAborted||(e.loadedBytes+=i.blob.size,t.onProgress.fire({loaded:e.loadedBytes,total:t.value.size}),i.isCompleted&&t.onLoad.fire(),setTimeout(function(){return n._sendChunk(t,e)}))}).fail(function(e){n._shouldHandleError(t,e)&&n._handleFileError(t,e)})}},{key:"_sendChunkCore",value:function(t,e,n){}},{key:"_tryRaiseStartLoad",value:function(t){t.isStartLoad||(t.isStartLoad=!0,t.onLoadStart.fire())}},{key:"_getEvent",value:function(t){return null}},{key:"_createUploadArgument",value:function(t){return this._createChunksInfo(t.chunksData)}},{key:"_createChunksInfo",value:function(t){return{bytesUploaded:t.loadedBytes,chunkCount:t.count,customData:t.customData,chunkBlob:t.currentChunk.blob,chunkIndex:t.currentChunk.index}}}]),e}(L),z=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_sendChunkCore",value:function(t,e,n){var i=this;return b.a.sendRequest({url:this.fileUploader.option("uploadUrl"),method:this.fileUploader.option("uploadMethod"),headers:this.fileUploader.option("uploadHeaders"),beforeSend:function(e){return i._beforeSend(e,t)},upload:{onprogress:function(e){return i._handleProgress(t,e)},onloadstart:function(){return i._tryRaiseStartLoad(t)},onabort:function(){return t.onAbort.fire()}},data:this._createFormData({fileName:e.name,blobName:this.fileUploader.option("name"),blob:n.blob,index:n.index,count:e.count,type:e.type,guid:e.guid,size:e.fileSize})})}},{key:"_createFormData",value:function(t){var e=new D.FormData;return e.append(t.blobName,t.blob),e.append("chunkMetadata",JSON.stringify({FileName:t.fileName,Index:t.index,TotalCount:t.count,FileSize:t.size,FileType:t.type,FileGuid:t.guid})),this._extendFormData(e),e}}]),e}(N),F=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_sendChunkCore",value:function(t,e){this._tryRaiseStartLoad(t);var n=this._createChunksInfo(e),i=this.fileUploader.option("uploadChunk");try{var o=i(t.value,n);return Object(_.b)(o)}catch(r){return(new _.a).reject(r).promise()}}},{key:"_shouldHandleError",value:function(t,e){return!0}}]),e}(N),H=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_uploadCore",value:function(t){var e=this;t.loadedSize=0,this._uploadFile(t).done(function(){t.isAborted||t.onLoad.fire()}).fail(function(n){e._shouldHandleError(t,n)&&e._handleFileError(t,n)})}},{key:"_uploadFile",value:function(t){}},{key:"_handleProgressCore",value:function(t,e){t.onProgress.fire(e)}},{key:"_getLoadedData",value:function(t,n,i,o){var r=Object(a.a)(Object(s.a)(e.prototype),"_getLoadedData",this).call(this,t,n,i,o);return r.event=o,r}}]),e}(L),V=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_uploadFile",value:function(t){var e=this;return b.a.sendRequest({url:this.fileUploader.option("uploadUrl"),method:this.fileUploader.option("uploadMethod"),headers:this.fileUploader.option("uploadHeaders"),beforeSend:function(n){return e._beforeSend(n,t)},upload:{onprogress:function(n){return e._handleProgress(t,n)},onloadstart:function(){return t.onLoadStart.fire()},onabort:function(){return t.onAbort.fire()}},data:this._createFormData(this.fileUploader.option("name"),t.value)})}},{key:"_createFormData",value:function(t,e){var n=new D.FormData;return n.append(t,e,e.name),this._extendFormData(n),n}}]),e}(H),U=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_uploadFile",value:function(t){var e=this;t.onLoadStart.fire();var n=this.fileUploader.option("uploadFile");try{var i=n(t.value,function(n){var i={loaded:n,total:t.value.size};e._handleProgress(t,i)});return Object(_.b)(i)}catch(o){return(new _.a).reject(o).promise()}}},{key:"_shouldHandleError",value:function(t,e){return!0}}]),e}(H);Object(f.a)("dxFileUploader",R);e.a=R},function(t,e,n){"use strict";var i=n(143),o=n(3),r=n(93),a=n(12),s=n(13),l=n(5),c=n(16),u={load:function(){return Object(c.a)().reject()},loadSingle:function(){return Object(c.a)().reject()},loadFromStore:function(){return Object(c.a)().reject()},loadNextPage:function(){return Object(c.a)().reject()},loadOptions:l.noop,userData:l.noop,cancel:l.noop,cancelAll:l.noop,filter:l.noop,addSearchFilter:l.noop,group:l.noop,paginate:l.noop,pageSize:l.noop,pageIndex:l.noop,resetDataSourcePageIndex:l.noop,totalCount:l.noop,isLastPage:l.noop,isLoading:l.noop,isLoaded:l.noop,searchValue:l.noop,searchOperation:l.noop,searchExpr:l.noop,select:l.noop,key:l.noop,keyOf:l.noop,store:l.noop,items:l.noop,applyMapFunction:l.noop,getDataSource:l.noop,reload:l.noop,on:l.noop,off:l.noop},h=function(){function t(e){if(Object(a.a)(this,t),!e)return u;this._dataSource=e}return Object(s.a)(t,[{key:"load",value:function(){return this._dataSource.load()}},{key:"loadSingle",value:function(t,e){return arguments.length<2&&(e=t,t=this.key()),this._dataSource.loadSingle(t,e)}},{key:"loadFromStore",value:function(t){return this.store().load(t)}},{key:"loadNextPage",value:function(){return this.pageIndex(1+this.pageIndex()),this.load()}},{key:"loadOptions",value:function(){return this._dataSource.loadOptions()}},{key:"userData",value:function(){return this._dataSource._userData}},{key:"cancel",value:function(t){this._dataSource.cancel(t)}},{key:"cancelAll",value:function(){this._dataSource.cancelAll()}},{key:"filter",value:function(t){return this._dataSource.filter(t)}},{key:"addSearchFilter",value:function(t){this._dataSource._addSearchFilter(t)}},{key:"group",value:function(t){return this._dataSource.group(t)}},{key:"paginate",value:function(){return this._dataSource.paginate()}},{key:"pageSize",value:function(){return this._dataSource._pageSize}},{key:"pageIndex",value:function(t){return this._dataSource.pageIndex(t)}},{key:"resetDataSourcePageIndex",value:function(){this.pageIndex()&&(this.pageIndex(0),this.load())}},{key:"totalCount",value:function(){return this._dataSource.totalCount()}},{key:"isLastPage",value:function(){return this._dataSource.isLastPage()||!this._dataSource._pageSize}},{key:"isLoading",value:function(){return this._dataSource.isLoading()}},{key:"isLoaded",value:function(){return this._dataSource.isLoaded()}},{key:"searchValue",value:function(t){return arguments.length?this._dataSource.searchValue(t):this._dataSource.searchValue()}},{key:"searchOperation",value:function(t){return this._dataSource.searchOperation(t)}},{key:"searchExpr",value:function(t){return arguments.length?this._dataSource.searchExpr(t):this._dataSource.searchExpr()}},{key:"select",value:function(){var t;return(t=this._dataSource).select.apply(t,arguments)}},{key:"key",value:function(){return this._dataSource.key()}},{key:"keyOf",value:function(t){return this.store().keyOf(t)}},{key:"store",value:function(){return this._dataSource.store()}},{key:"items",value:function(){return this._dataSource.items()}},{key:"applyMapFunction",value:function(t){return this._dataSource._applyMapFunction(t)}},{key:"getDataSource",value:function(){return this._dataSource||null}},{key:"reload",value:function(){return this._dataSource.reload()}},{key:"on",value:function(t,e){this._dataSource.on(t,e)}},{key:"off",value:function(t,e){this._dataSource.off(t,e)}}]),t}(),d={postCtor:function(){this.on("disposing",function(){this._disposeDataSource()}.bind(this))},_refreshDataSource:function(){this._initDataSource(),this._loadDataSource()},_initDataSource:function(){var t,e,n="_getSpecificDataSourceOption"in this?this._getSpecificDataSourceOption():this.option("dataSource");this._disposeDataSource(),n&&(n instanceof i.a?(this._isSharedDataSource=!0,this._dataSource=n):(t="_dataSourceOptions"in this?this._dataSourceOptions():{},e=this._dataSourceType?this._dataSourceType():i.a,n=Object(r.d)(n,{fromUrlLoadMode:"_dataSourceFromUrlLoadMode"in this&&this._dataSourceFromUrlLoadMode()}),this._dataSource=new e(Object(o.a)(!0,{},t,n))),"_normalizeDataSource"in this&&(this._dataSource=this._normalizeDataSource(this._dataSource)),this._addDataSourceHandlers(),this._initDataController())},_initDataController:function(){var t,e=null===(t=this.option)||void 0===t?void 0:t.call(this,"_dataController"),n=this._dataSource;this._dataController=e||new h(n)},_addDataSourceHandlers:function(){"_dataSourceChangedHandler"in this&&this._addDataSourceChangeHandler(),"_dataSourceLoadErrorHandler"in this&&this._addDataSourceLoadErrorHandler(),"_dataSourceLoadingChangedHandler"in this&&this._addDataSourceLoadingChangedHandler(),this._addReadyWatcher()},_addReadyWatcher:function(){this._dataSource.on("loadingChanged",function(t){this._ready&&this._ready(!t)}.bind(this))},_addDataSourceChangeHandler:function(){var t=this._dataSource;this._proxiedDataSourceChangedHandler=function(e){this._dataSourceChangedHandler(t.items(),e)}.bind(this),t.on("changed",this._proxiedDataSourceChangedHandler)},_addDataSourceLoadErrorHandler:function(){this._proxiedDataSourceLoadErrorHandler=this._dataSourceLoadErrorHandler.bind(this),this._dataSource.on("loadError",this._proxiedDataSourceLoadErrorHandler)},_addDataSourceLoadingChangedHandler:function(){this._proxiedDataSourceLoadingChangedHandler=this._dataSourceLoadingChangedHandler.bind(this),this._dataSource.on("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)},_loadDataSource:function(){var t=this._dataSource;t&&(t.isLoaded()?this._proxiedDataSourceChangedHandler&&this._proxiedDataSourceChangedHandler():t.load())},_loadSingle:function(t,e){return t="this"===t?this._dataSource.key()||"this":t,this._dataSource.loadSingle(t,e)},_isLastPage:function(){return!this._dataSource||this._dataSource.isLastPage()||!this._dataSource._pageSize},_isDataSourceLoading:function(){return this._dataSource&&this._dataSource.isLoading()},_disposeDataSource:function(){this._dataSource&&(this._isSharedDataSource?(delete this._isSharedDataSource,this._proxiedDataSourceChangedHandler&&this._dataSource.off("changed",this._proxiedDataSourceChangedHandler),this._proxiedDataSourceLoadErrorHandler&&this._dataSource.off("loadError",this._proxiedDataSourceLoadErrorHandler),this._proxiedDataSourceLoadingChangedHandler&&this._dataSource.off("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)):this._dataSource.dispose(),delete this._dataSource,delete this._proxiedDataSourceChangedHandler,delete this._proxiedDataSourceLoadErrorHandler,delete this._proxiedDataSourceLoadingChangedHandler)},getDataSource:function(){return this._dataSource||null}};e.a=d},function(t,e,n){"use strict";var i=n(2),o=n(7),r=n(55),a=n(26),s=n(5),l=n(83),c=n(9),u=n(1),h=n(3),d=n(33),p=n(42),f=n(68),m=n(62),g=n(12),v=n(13),y=n(19),_=n(14),b=n(6),C=n(18),O=n(8),x=n(136),S=n(65),w=function(t){function e(t,n,i){var o;return Object(g.a)(this,e),(o=Object(y.a)(this,Object(b.a)(e).call(this,t,n,i))).currentTemplate=null,o}return Object(C.a)(e,t),Object(v.a)(e,[{key:"_attachEvents",value:function(t){var e=this.editor;t.option("onClick",function(t){!e.option("openOnFieldClick")&&e._openHandler(t)}),o.a.on(t.$element(),"mousedown",function(t){e.$element().is(".dx-state-focused")&&t.preventDefault()})}},{key:"_create",value:function(){var t=this.editor,e=Object(i.a)("<div>"),n=this._getOptions();this._addToContainer(e);var o=t._createComponent(e,S.default,Object(h.a)({},n,{elementAttr:{"aria-label":O.a.format("dxDropDownEditor-selectLabel")}}));return this._legacyRender(t.$element(),e,n.visible),{$element:e,instance:o}}},{key:"_getOptions",value:function(){var t=this.editor,e=this._isVisible(),n={focusStateEnabled:!1,hoverStateEnabled:!1,activeStateEnabled:!1,useInkRipple:!1,disabled:t.option("readOnly"),visible:e};return this._addTemplate(n),n}},{key:"_isVisible",value:function(){var t=this.editor;return Object(_.a)(Object(b.a)(e.prototype),"_isVisible",this).call(this)&&t.option("showDropDownButton")}},{key:"_legacyRender",value:function(t,e,n){t.toggleClass("dx-dropdowneditor-button-visible",n),e&&e.removeClass("dx-button").addClass("dx-dropdowneditor-button")}},{key:"_isSameTemplate",value:function(){return this.editor.option("dropDownButtonTemplate")===this.currentTemplate}},{key:"_addTemplate",value:function(t){this._isSameTemplate()||(t.template=this.editor._getTemplateByOption("dropDownButtonTemplate"),this.currentTemplate=this.editor.option("dropDownButtonTemplate"))}},{key:"update",value:function(){if(Object(_.a)(Object(b.a)(e.prototype),"update",this).call(this)){var t=this.editor,n=this.instance,i=t.$element(),o=this._getOptions();null===n||void 0===n||n.option(o),this._legacyRender(i,null===n||void 0===n?void 0:n.$element(),o.visible)}}}]),e}(x.a),P=n(52),k=n(10),E=n(101),T=n(54),I=n(20),j=n(138),M=n(114),D=n(15),A=n(170),R=n(34),B="ios"===I.a.current().platform,L=E.default.inherit({_supportedKeys:function(){return Object(h.a)({},this.callBase(),{tab:function(t){if(this.option("opened"))if("instantly"!==this.option("applyValueMode")){var e=t.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();e&&(o.a.trigger(e,"focus"),e.select()),t.preventDefault()}else this.close()},escape:function(t){return this.option("opened")&&t.preventDefault(),this.close(),!0},upArrow:function(t){return!(!Object(k.i)(t)&&(t.preventDefault(),t.stopPropagation(),t.altKey))||(this.close(),!1)},downArrow:function(t){return!(!Object(k.i)(t)&&(t.preventDefault(),t.stopPropagation(),t.altKey))||(this._validatedOpening(),!1)},enter:function(t){return this.option("opened")&&(t.preventDefault(),this._valueChangeEventHandler(t)),!0}})},_getDefaultButtons:function(){return this.callBase().concat([{name:"dropDown",Ctor:w}])},_getDefaultOptions:function(){return Object(h.a)(this.callBase(),{value:null,onOpened:null,onClosed:null,opened:!1,acceptCustomValue:!0,applyValueMode:"instantly",deferRendering:!0,activeStateEnabled:!0,dropDownButtonTemplate:"dropDownButton",fieldTemplate:null,openOnFieldClick:!1,showDropDownButton:!0,buttons:void 0,dropDownOptions:{showTitle:!1},popupPosition:this._getDefaultPopupPosition(),onPopupInitialized:null,applyButtonText:O.a.format("OK"),cancelButtonText:O.a.format("Cancel"),buttonsLocation:"default",useHiddenSubmitElement:!1,validationMessagePosition:"auto"})},_useTemplates:function(){return!0},_getDefaultPopupPosition:function(t){var e=Object(m.b)(t);return{offset:{h:0,v:-1},my:e+" top",at:e+" bottom",collision:"flip flip"}},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(t){return"generic"===t.platform},options:{popupPosition:{offset:{v:0}}}}])},_inputWrapper:function(){return this.$element().find(".dx-dropdowneditor-input-wrapper").first()},_init:function(){this.callBase(),this._initVisibilityActions(),this._initPopupInitializedAction(),this._updatePopupPosition(this.option("rtlEnabled")),this._options.cache("dropDownOptions",this.option("dropDownOptions"))},_updatePopupPosition:function(t){var e=this._getDefaultPopupPosition(t),n=e.my,i=e.at,o=this.option("popupPosition");this.option("popupPosition",Object(h.a)({},o,{my:n,at:i}))},_initVisibilityActions:function(){this._openAction=this._createActionByOption("onOpened",{excludeValidators:["disabled","readOnly"]}),this._closeAction=this._createActionByOption("onClosed",{excludeValidators:["disabled","readOnly"]})},_initPopupInitializedAction:function(){this._popupInitializedAction=this._createActionByOption("onPopupInitialized",{excludeValidators:["disabled","readOnly"]})},_initMarkup:function(){this._renderSubmitElement(),this.callBase(),this.$element().addClass("dx-dropdowneditor"),this.setAria("role","combobox")},_render:function(){this.callBase(),this._renderOpenHandler(),this._attachFocusOutHandler(),this._renderOpenedState()},_renderContentImpl:function(){this.option("deferRendering")||this._createPopup()},_renderInput:function(){this.callBase(),this._wrapInput(),this._setDefaultAria()},_wrapInput:function(){this._$container=this.$element().wrapInner(Object(i.a)("<div>").addClass("dx-dropdowneditor-input-wrapper")).children().eq(0)},_setDefaultAria:function(){this.setAria({haspopup:"true",autocomplete:"list"})},_readOnlyPropValue:function(){return!this._isEditable()||this.callBase()},_cleanFocusState:function(){this.callBase(),this.option("fieldTemplate")&&this._detachFocusEvents()},_getFieldTemplate:function(){return this.option("fieldTemplate")&&this._getTemplateByOption("fieldTemplate")},_renderMask:function(){this.option("fieldTemplate")||this.callBase()},_renderField:function(){var t=this._getFieldTemplate();t&&this._renderTemplatedField(t,this._fieldRenderData())},_renderPlaceholder:function(){!!this._getFieldTemplate()||this.callBase()},_renderValue:function(){this.option("useHiddenSubmitElement")&&this._setSubmitValue(),this.callBase().always(this._renderField.bind(this))},_renderTemplatedField:function(t,e){var n,r=this;this._fieldRenderQueueLength=(null!==(n=this._fieldRenderQueueLength)&&void 0!==n?n:0)+1;var a=Object(l.b)(this._input()),s=this._$container;this._detachKeyboardEvents(),this._refreshButtonsContainer(),this._detachWrapperContent(),this._detachFocusEvents(),s.empty();var c=Object(i.a)("<div>").addClass("dx-dropdowneditor-field-template-wrapper").appendTo(s);t.render({model:e,container:Object(d.a)(c),onRendered:function(){if(r._fieldRenderQueueLength--,0===r._fieldRenderQueueLength){var t=r._input();if(!t.length)throw p.a.Error("E1010");r._integrateInput(),a&&o.a.trigger(t,"focus")}}}),this._attachWrapperContent(s)},_detachWrapperContent:function(){var t,e,n;this.option("useHiddenSubmitElement")&&(null===(t=this._$submitElement)||void 0===t||t.detach());var i=null===(e=this._$beforeButtonsContainer)||void 0===e?void 0:e[0].parentNode,o=null===(n=this._$afterButtonsContainer)||void 0===n?void 0:n[0].parentNode;null===i||void 0===i||i.removeChild(this._$beforeButtonsContainer[0]),null===o||void 0===o||o.removeChild(this._$afterButtonsContainer[0])},_attachWrapperContent:function(t){var e,n=this.option("useHiddenSubmitElement");t.prepend(this._$beforeButtonsContainer),n&&(null===(e=this._$submitElement)||void 0===e||e.appendTo(t)),t.append(this._$afterButtonsContainer)},_refreshButtonsContainer:function(){this._$buttonsContainer=this.$element().children().eq(0)},_integrateInput:function(){this._renderFocusState(),this._refreshValueChangeEvent(),this._refreshEvents(),this._refreshEmptinessEvent()},_refreshEmptinessEvent:function(){o.a.off(this._input(),"input blur",this._toggleEmptinessEventHandler),this._renderEmptinessEvent()},_fieldRenderData:function(){return this.option("value")},_initTemplates:function(){this._templateManager.addDefaultTemplates({dropDownButton:new j.a(function(t){var e=Object(i.a)("<div>").addClass("dx-dropdowneditor-icon");Object(i.a)(t.container).append(e)})}),this.callBase()},_renderOpenHandler:function(){var t=this._inputWrapper(),e=Object(k.a)(T.a,this.NAME),n=this.option("openOnFieldClick");o.a.off(t,e),o.a.on(t,e,this._getInputClickHandler(n)),this.$element().toggleClass("dx-dropdowneditor-field-clickable",n),n&&(this._openOnFieldClickAction=this._createAction(this._openHandler.bind(this)))},_attachFocusOutHandler:function(){var t=this;B&&(this._detachFocusOutEvents(),o.a.on(this._inputWrapper(),Object(k.a)("focusout",this.NAME),function(e){var n=e.relatedTarget,o=t.content?Object(i.a)(t.content()).closest(".dx-dropdowneditor-overlay"):t._$popup;n&&t.option("opened")&&(0===Object(i.a)(n).closest(".dx-dropdowneditor-overlay",o).length&&t.close())}))},_detachFocusOutEvents:function(){B&&o.a.off(this._inputWrapper(),Object(k.a)("focusout",this.NAME))},_getInputClickHandler:function(t){var e=this;return t?function(t){e._executeOpenAction(t)}:function(t){e._focusInput()}},_openHandler:function(){this._toggleOpenState()},_executeOpenAction:function(t){this._openOnFieldClickAction({event:t})},_keyboardEventBindingTarget:function(){return this._input()},_focusInput:function(){return!this.option("disabled")&&(this.option("focusStateEnabled")&&!Object(l.b)(this._input())&&(this._resetCaretPosition(),o.a.trigger(this._input(),"focus")),!0)},_resetCaretPosition:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._input().get(0);if(e){var n=e.value,i=Object(u.d)(n)&&(t||this._isEditable())?n.length:0;this._caret({start:i,end:i},!0)}},_isEditable:function(){return this.option("acceptCustomValue")},_toggleOpenState:function(t){this._focusInput()&&(this.option("readOnly")||(t=arguments.length?t:!this.option("opened"),this.option("opened",t)))},_getControlsAria:function(){return this._popup&&this._popupContentId},_renderOpenedState:function(){var t=this.option("opened");t&&this._createPopup(),this.$element().toggleClass("dx-dropdowneditor-active",t),this._setPopupOption("visible",t);var e={expanded:t,controls:this._getControlsAria()};this.setAria(e),this.setAria("owns",t?this._popupContentId:void 0,this.$element())},_createPopup:function(){this._$popup||(this._$popup=Object(i.a)("<div>").addClass("dx-dropdowneditor-overlay").appendTo(this.$element()),this._renderPopup(),this._renderPopupContent())},_renderPopupContent:s.noop,_renderPopup:function(){var t=Object(h.a)(this._popupConfig(),this._options.cache("dropDownOptions"));delete t.closeOnOutsideClick,t.elementAttr&&!Object.keys(t.elementAttr).length&&delete t.elementAttr,this._popup=this._createComponent(this._$popup,M.a,t),this._popup.on({showing:this._popupShowingHandler.bind(this),shown:this._popupShownHandler.bind(this),hiding:this._popupHidingHandler.bind(this),hidden:this._popupHiddenHandler.bind(this),contentReady:this._contentReadyHandler.bind(this)}),this._contentReadyHandler(),this._setPopupContentId(this._popup.$content()),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_setPopupContentId:function(t){this._popupContentId="dx-"+new r.a,this.setAria("id",this._popupContentId,t)},_contentReadyHandler:s.noop,_popupConfig:function(){var t=this;return{onInitialized:this._popupInitializedHandler(),position:Object(h.a)(this.option("popupPosition"),{of:this.$element()}),showTitle:this.option("dropDownOptions.showTitle"),_ignoreFunctionValueDeprecation:!0,width:function(){return Object(A.a)(t.$element())},height:"auto",shading:!1,hideOnParentScroll:!0,hideOnOutsideClick:function(e){return t._closeOutsideDropDownHandler(e)},animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,dragEnabled:!1,toolbarItems:this._getPopupToolbarItems(),onPositioned:this._popupPositionedHandler.bind(this),fullScreen:!1,contentTemplate:null,_wrapperClassExternal:"dx-dropdowneditor-overlay"}},_popupInitializedHandler:function(){var t=this;return this.option("onPopupInitialized")?function(e){t._popupInitializedAction({popup:e.component})}:null},_dimensionChanged:function(){!Object(D.f)()||this.$element().is(":visible")?this._updatePopupWidth():this.close()},_updatePopupWidth:function(){var t=this;void 0===Object(A.b)(this.option("dropDownOptions.width"))&&this._setPopupOption("width",function(){return Object(A.a)(t.$element())})},_popupPositionedHandler:function(t){var e,n,i=this.option(),o=i.labelMode,r=i.stylingMode;if(this._popup){var a=this._popup.$overlayContent(),s=null===(e=t.position)||void 0===e?void 0:null===(n=e.v)||void 0===n?void 0:n.flip,l="hidden"!==o&&"outlined"===r;if(t.position&&a.toggleClass("dx-dropdowneditor-overlay-flipped",s),s&&l&&this._label.isVisible()){var c=this._label.$element();Object(R.e)(a,{top:Object(R.d)(a).top-parseInt(c.css("fontSize"))})}}},_popupShowingHandler:s.noop,_popupHidingHandler:function(){this.option("opened",!1)},_popupShownHandler:function(){var t;this._openAction(),null===(t=this._validationMessage)||void 0===t||t.option("positionSide",this._getValidationMessagePositionSide())},_popupHiddenHandler:function(){var t;this._closeAction(),null===(t=this._validationMessage)||void 0===t||t.option("positionSide",this._getValidationMessagePositionSide())},_getValidationMessagePositionSide:function(){var t=this.option("validationMessagePosition");if("auto"!==t)return t;var e="bottom";if(this._popup&&this._popup.option("visible")){var n=f.a.setup(this.$element()).top,i=f.a.setup(this._popup.$content()).top;e=n+this.option("popupPosition").offset.v>i?"bottom":"top"}return e},_closeOutsideDropDownHandler:function(t){var e=t.target,n=Object(i.a)(e),o=this.getButton("dropDown"),r=o&&o.$element(),a=!!n.closest(this.$element()).length,s=!!n.closest(r).length;return!a&&!s},_clean:function(){delete this._openOnFieldClickAction,this._$popup&&(this._$popup.remove(),delete this._$popup,delete this._popup),this.callBase()},_setPopupOption:function(t,e){this._setWidgetOption("_popup",arguments)},_validatedOpening:function(){this.option("readOnly")||this._toggleOpenState(!0)},_getPopupToolbarItems:function(){return"useButtons"===this.option("applyValueMode")?this._popupToolbarItemsConfig():[]},_getFirstPopupElement:function(){return this._popup.$wrapper().find(".dx-popup-done.dx-button")},_getLastPopupElement:function(){return this._popup.$wrapper().find(".dx-popup-cancel.dx-button")},_popupElementTabHandler:function(t){var e=Object(i.a)(t.currentTarget);(t.shiftKey&&e.is(this._getFirstPopupElement())||!t.shiftKey&&e.is(this._getLastPopupElement()))&&(o.a.trigger(this._input(),"focus"),t.preventDefault())},_popupElementEscHandler:function(){o.a.trigger(this._input(),"focus"),this.close()},_popupButtonInitializedHandler:function(t){t.component.registerKeyHandler("tab",this._popupElementTabHandler.bind(this)),t.component.registerKeyHandler("escape",this._popupElementEscHandler.bind(this))},_popupToolbarItemsConfig:function(){var t=[{shortcut:"done",options:{onClick:this._applyButtonHandler.bind(this),text:this.option("applyButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}},{shortcut:"cancel",options:{onClick:this._cancelButtonHandler.bind(this),text:this.option("cancelButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}}];return this._applyButtonsLocation(t)},_applyButtonsLocation:function(t){var e=this.option("buttonsLocation"),n=t;if("default"!==e){var i=Object(s.splitPair)(e);Object(c.a)(n,function(t,e){Object(h.a)(e,{toolbar:i[0],location:i[1]})})}return n},_applyButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_cancelButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_popupOptionChanged:function(t){var e=P.a.getOptionsFromContainer(t);this._setPopupOption(e);var n=Object.keys(e);-1===n.indexOf("width")&&-1===n.indexOf("height")||this._dimensionChanged()},_renderSubmitElement:function(){this.option("useHiddenSubmitElement")&&(this._$submitElement=Object(i.a)("<input>").attr("type","hidden").appendTo(this.$element()))},_setSubmitValue:function(){this._getSubmitElement().val(this.option("value"))},_getSubmitElement:function(){return this.option("useHiddenSubmitElement")?this._$submitElement:this.callBase()},_dispose:function(){this._detachFocusOutEvents(),this.callBase()},_optionChanged:function(t){var e;switch(t.name){case"width":case"height":this.callBase(t),null===(e=this._popup)||void 0===e||e.repaint();break;case"opened":this._renderOpenedState();break;case"onOpened":case"onClosed":this._initVisibilityActions();break;case"onPopupInitialized":this._initPopupInitializedAction();break;case"fieldTemplate":Object(u.d)(t.value)?this._renderField():this._invalidate();break;case"acceptCustomValue":case"openOnFieldClick":this._invalidate();break;case"dropDownButtonTemplate":case"showDropDownButton":this._updateButtons(["dropDown"]);break;case"dropDownOptions":this._popupOptionChanged(t),this._options.cache("dropDownOptions",this.option("dropDownOptions"));break;case"popupPosition":break;case"deferRendering":Object(D.f)()&&this._createPopup();break;case"applyValueMode":case"applyButtonText":case"cancelButtonText":case"buttonsLocation":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"useHiddenSubmitElement":this._$submitElement&&(this._$submitElement.remove(),this._$submitElement=void 0),this._renderSubmitElement();break;case"rtlEnabled":this._updatePopupPosition(t.value),this.callBase(t);break;default:this.callBase(t)}},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)},field:function(){return Object(d.a)(this._input())},content:function(){return this._popup?this._popup.content():null}});Object(a.a)("dxDropDownEditor",L);e.a=L},function(t,e,n){"use strict";var i=n(2),o=n(32),r=n(5),a=n(17),s=n(1),l=o.a.abstract,c=o.a.inherit({ctor:function(t){this._collectionWidget=t},getIndexByItemData:l,getItemDataByIndex:l,getKeysByItems:l,getItemsByKeys:l,itemsGetter:l,getKeyByIndex:function(t){var e=this._denormalizeItemIndex(t);return this.getKeysByItems([this.getItemDataByIndex(e)])[0]},_equalKeys:function(t,e){return this._collectionWidget._isKeySpecified()?Object(r.equalByValue)(t,e):t===e},beginCache:function(){this._cache={}},endCache:function(){this._cache=null},getIndexByKey:l,getNormalizedIndex:function(t){return this._isNormalizedItemIndex(t)?t:this._isItemIndex(t)?this._normalizeItemIndex(t):this._isNode(t)?this._getNormalizedItemIndex(t):this._normalizeItemIndex(this.getIndexByItemData(t))},getIndex:function(t){return this._isNormalizedItemIndex(t)?this._denormalizeItemIndex(t):this._isItemIndex(t)?t:this._isNode(t)?this._denormalizeItemIndex(this._getNormalizedItemIndex(t)):this.getIndexByItemData(t)},getItemElement:function(t){if(this._isNormalizedItemIndex(t))return this._getItemByNormalizedIndex(t);if(this._isItemIndex(t))return this._getItemByNormalizedIndex(this._normalizeItemIndex(t));if(this._isNode(t))return Object(i.a)(t);var e=this._normalizeItemIndex(this.getIndexByItemData(t));return this._getItemByNormalizedIndex(e)},_isNode:function(t){return a.a.isNode(t&&Object(s.n)(t)?t.get(0):t)},deleteItemAtIndex:l,itemPlacementFunc:function(t,e){return this._itemsFromSameParent(t,e)&&t<e?"after":"before"},moveItemAtIndexToIndex:l,_isNormalizedItemIndex:function(t){return"number"===typeof t&&Math.round(t)===t},_isItemIndex:l,_getNormalizedItemIndex:l,_normalizeItemIndex:l,_denormalizeItemIndex:l,_getItemByNormalizedIndex:l,_itemsFromSameParent:l}).inherit({_getPlainItems:function(){return this._collectionWidget.option("items")||[]},getIndexByItemData:function(t){var e=this._collectionWidget.keyOf.bind(this._collectionWidget);return e?this.getIndexByKey(e(t)):this._getPlainItems().indexOf(t)},getItemDataByIndex:function(t){return this._getPlainItems()[t]},deleteItemAtIndex:function(t){this._getPlainItems().splice(t,1)},itemsGetter:function(){return this._getPlainItems()},getKeysByItems:function(t){var e=this._collectionWidget.keyOf.bind(this._collectionWidget),n=t;if(e){n=[];for(var i=0;i<t.length;i++)n.push(e(t[i]))}return n},getIndexByKey:function(t){var e=this._cache,n=e&&e.keys||this.getKeysByItems(this._getPlainItems());if(e&&!e.keys&&(e.keys=n),"object"!==typeof t)return n.indexOf(t);for(var i=0,o=n.length;i<o;i++)if(this._equalKeys(t,n[i]))return i;return-1},getItemsByKeys:function(t,e){return(e||t).slice()},moveItemAtIndexToIndex:function(t,e){var n=this._getPlainItems(),i=n[t];n.splice(t,1),n.splice(e,0,i)},_isItemIndex:function(t){return"number"===typeof t&&Math.round(t)===t},_getNormalizedItemIndex:function(t){return this._collectionWidget._itemElements().index(t)},_normalizeItemIndex:function(t){return t},_denormalizeItemIndex:function(t){return t},_getItemByNormalizedIndex:function(t){return t>-1?this._collectionWidget._itemElements().eq(t):null},_itemsFromSameParent:function(){return!0}});e.a=c},function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return l});var i=n(41),o=n(17),r=/<([a-z][^/\0>\x20\t\r\n\f]+)/i,a={default:{tagsCount:0,startTags:"",endTags:""},thead:{tagsCount:1,startTags:"<table>",endTags:"</table>"},td:{tagsCount:3,startTags:"<table><tbody><tr>",endTags:"</tr></tbody></table>"},col:{tagsCount:2,startTags:"<table><colgroup>",endTags:"</colgroup></table>"},tr:{tagsCount:2,startTags:"<table><tbody>",endTags:"</tbody></table>"}};a.tbody=a.colgroup=a.caption=a.tfoot=a.thead,a.th=a.td;var s=function(t){if("string"!==typeof t)return null;var e=o.a.createDocumentFragment().appendChild(o.a.createElement("div")),n=r.exec(t),s=n&&n[1].toLowerCase(),l=a[s]||a.default;e.innerHTML=l.startTags+t+l.endTags;for(var c=0;c<l.tagsCount;c++)e=e.lastChild;return Object(i.a)(e.childNodes)},l=function(t){var e=r.exec(t);return e&&e[1]in a}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(25);function o(t){return void 0===t||null===t}function r(t){return void 0===t}var a={onComponentDidMount:1,onComponentDidUpdate:1,onComponentShouldUpdate:1,onComponentWillMount:1,onComponentWillUnmount:1,onComponentWillUpdate:1};function s(t,e,n){var s,l,c=arguments,u=null,h=null,d=null,p=0,f=arguments.length-2;if(1===f)s=n;else if(f>1)for(s=[];f-- >0;)s[f]=c[f+2];if("string"!==typeof t){if(p=2,r(s)||(e||(e={}),e.children=s),!o(e))for(var m in l={},e)"key"===m?h=e.key:"ref"===m?u=e.ref:1===a[m]?(u||(u={}),u[m]=e[m]):l[m]=e[m];return Object(i.l)(p,t,l,h,u)}if(p=Object(i.r)(t),!o(e))for(var g in l={},e)"className"===g||"class"===g?d=e[g]:"key"===g?h=e.key:"children"===g&&r(s)?s=e.children:"ref"===g?u=e.ref:("contenteditable"===g&&(p|=4096),l[g]=e[g]);return 8192&p?Object(i.m)(1===f?[s]:s,0,h):Object(i.p)(p,t,d,s,0,l,h,u)}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return a});var i=n(11),o=n(15),r=function(t){if(Object(o.f)())return Object(i.h)(t)},a=function(t){return null===t&&(t=void 0),"function"===typeof t&&(t=t()),t}},function(t,e,n){"use strict";var i,o,r=n(27),a=n(12),s=n(13),l=n(24),c=n(11),u=n(2),h=n(17),d=n(15),p=n(62),f=n(7),m=n(76),g=n(26),v=n(34),y=n(204),_=n(51),b=n(3),C=n(78),O=n(33),x=n(10),S=n(44),w=n(90),P=n(68),k=n(1),E=n(5),T=n(91),I=n(96),j=n(16),M=Object(d.d)(),D="dxDraggable",A=Object(x.a)(w.e,D),R=Object(x.a)(w.d,D),B=Object(x.a)(w.a,D),L=Object(x.a)(w.b,D),N=Object(x.a)(w.c,D),z=Object(x.a)(S.a.down,D),F=Object(x.a)("keydown",D),H=function(t){return{x:t.pageX-Object(u.a)(M).scrollLeft(),y:t.pageY-Object(u.a)(M).scrollTop()}},V=function(){function t(e,n){Object(a.a)(this,t),this._preventScroll=!0,this._component=n,"vertical"===e?(this._scrollValue="scrollTop",this._overFlowAttr="overflowY",this._sizeAttr="height",this._scrollSizeProp="scrollHeight",this._clientSizeProp="clientHeight",this._limitProps={start:"top",end:"bottom"}):(this._scrollValue="scrollLeft",this._overFlowAttr="overflowX",this._sizeAttr="width",this._scrollSizeProp="scrollWidth",this._clientSizeProp="clientWidth",this._limitProps={start:"left",end:"right"})}return Object(s.a)(t,[{key:"updateScrollable",value:function(t,e){var n=this,i=!1;t.some(function(t){var o=Object(u.a)(t),r=o.hasClass("dx-overlay-wrapper"),a=o.hasClass("dx-overlay-content");return!(!r&&!a)||(i=n._trySetScrollable(t,e))}),i||(this._$scrollableAtPointer=null,this._scrollSpeed=0)}},{key:"isScrolling",value:function(){return!!this._scrollSpeed}},{key:"isScrollable",value:function(t){return("auto"===t.css(this._overFlowAttr)||t.hasClass("dx-scrollable-container"))&&t.prop(this._scrollSizeProp)>Math.ceil("width"===this._sizeAttr?Object(c.k)(t):Object(c.c)(t))}},{key:"_trySetScrollable",value:function(t,e){var n,i=Object(u.a)(t),o=this._component.option("scrollSensitivity"),r=this.isScrollable(i);return r&&(o>(n=this._calculateDistanceToBorders(i,e))[this._limitProps.start]?this._preventScroll||(this._scrollSpeed=-this._calculateScrollSpeed(n[this._limitProps.start]),this._$scrollableAtPointer=i):o>n[this._limitProps.end]?this._preventScroll||(this._scrollSpeed=this._calculateScrollSpeed(n[this._limitProps.end]),this._$scrollableAtPointer=i):(r=!1,this._preventScroll=!1)),r}},{key:"_calculateDistanceToBorders",value:function(t,e){var n,i=t.get(0);return i?(n=Object(p.a)(i),{left:e.x-n.left,top:e.y-n.top,right:n.right-e.x,bottom:n.bottom-e.y}):{}}},{key:"_calculateScrollSpeed",value:function(t){var e=this._component,n=e.option("scrollSensitivity"),i=e.option("scrollSpeed");return Math.ceil(Math.pow((n-t)/n,2)*i)}},{key:"scrollByStep",value:function(){if(this._$scrollableAtPointer&&this._scrollSpeed){if(this._$scrollableAtPointer.hasClass("dx-scrollable-container")){var t=this._$scrollableAtPointer.closest(".dx-scrollable"),e=t.data("dxScrollable")||t.data("dxScrollView");if(e){var n=e.scrollOffset()[this._limitProps.start]+this._scrollSpeed;e.scrollTo(Object(r.a)({},this._limitProps.start,n))}}else{var i=this._$scrollableAtPointer[this._scrollValue]()+this._scrollSpeed;this._$scrollableAtPointer[this._scrollValue](i)}var o=this._component._dragMoveArgs;o&&this._component._dragMoveHandler(o)}}},{key:"reset",value:function(){this._$scrollableAtPointer=null,this._scrollSpeed=0,this._preventScroll=!0}},{key:"isOutsideScrollable",value:function(t,e){if(!t)return!1;var n=Object(p.a)(t.get(0)),i=n[this._limitProps.start],o=n[this._sizeAttr],r=H(e),a="width"===this._sizeAttr?r.x:r.y;return a<i||a>i+o}}]),t}(),U=y.a.inherit({ctor:function(t){this.callBase(),this._strategy=t},_step:function(){var t=this._strategy._horizontalScrollHelper,e=this._strategy._verticalScrollHelper;t&&t.scrollByStep(),e&&e.scrollByStep()}}),W=C.a.inherit({reset:E.noop,dragMove:E.noop,dragEnter:E.noop,dragLeave:E.noop,dragEnd:function(t){return this._getSourceDraggable()._fireRemoveEvent(t),(new j.a).resolve()},_fireRemoveEvent:E.noop,_getDefaultOptions:function(){return Object(b.a)(this.callBase(),{onDragStart:null,onDragMove:null,onDragEnd:null,onDragEnter:null,onDragLeave:null,onDragCancel:null,onCancelByEsc:!1,onDrop:null,immediate:!0,dragDirection:"both",boundary:void 0,boundOffset:0,allowMoveByClick:!1,itemData:null,container:void 0,dragTemplate:void 0,contentTemplate:"content",handle:"",filter:"",clone:!1,autoScroll:!0,scrollSpeed:30,scrollSensitivity:60,group:void 0,data:void 0})},_setOptionsByReference:function(){this.callBase.apply(this,arguments),Object(b.a)(this._optionsByReference,{component:!0,group:!0,itemData:!0,data:!0})},_init:function(){this.callBase(),this._attachEventHandlers(),this._scrollAnimator=new U(this),this._horizontalScrollHelper=new V("horizontal",this),this._verticalScrollHelper=new V("vertical",this)},_normalizeCursorOffset:function(t){return Object(k.j)(t)&&(t={h:t.x,v:t.y}),{left:(t=Object(E.splitPair)(t).map(function(t){return parseFloat(t)}))[0],top:1===t.length?t[0]:t[1]}},_getNormalizedCursorOffset:function(t,e){return Object(k.h)(t)&&(t=t.call(this,e)),this._normalizeCursorOffset(t)},_calculateElementOffset:function(t){var e,n,i=t.event,o=Object(u.a)(t.itemElement),r=Object(u.a)(t.dragElement),a=this._dragElementIsCloned(),s=this.option("cursorOffset"),l={left:0,top:0},c=this._initialLocate=Object(v.d)(r);return(a||t.initialOffset||s)&&(e=t.initialOffset||o.offset(),s&&(l=this._getNormalizedCursorOffset(s,t),isFinite(l.left)&&(e.left=i.pageX),isFinite(l.top)&&(e.top=i.pageY)),n=r.offset(),e.top-=n.top+(l.top||0)-c.top,e.left-=n.left+(l.left||0)-c.left),e},_initPosition:function(t){var e=Object(u.a)(t.dragElement),n=this._calculateElementOffset(t);n&&this._move(n,e),this._startPosition=Object(v.d)(e)},_startAnimator:function(){this._scrollAnimator.inProgress()||this._scrollAnimator.start()},_stopAnimator:function(){this._scrollAnimator.stop()},_addWidgetPrefix:function(t){var e=this.NAME;return Object(_.c)(e)+(t?"-"+t:"")},_getItemsSelector:function(){return this.option("filter")||""},_$content:function(){var t=this.$element(),e=t.children(".dx-template-wrapper");return e.length?e:t},_attachEventHandlers:function(){var t=this;if(!this.option("disabled")){var e=this._$content(),n=this._getItemsSelector(),i=this.option("allowMoveByClick"),o={direction:this.option("dragDirection"),immediate:this.option("immediate"),checkDropTarget:function(e,n){var i=t.option("group"),o=t._getSourceDraggable().option("group"),r=t._getScrollable(e);return!t._verticalScrollHelper.isOutsideScrollable(r,n)&&!t._horizontalScrollHelper.isOutsideScrollable(r,n)&&(o&&o===i)}};i&&(e=this._getArea(),f.a.on(e,z,o,this._pointerDownHandler.bind(this))),">"===n[0]&&(n=n.slice(1)),f.a.on(e,A,n,o,this._dragStartHandler.bind(this)),f.a.on(e,R,o,this._dragMoveHandler.bind(this)),f.a.on(e,B,o,this._dragEndHandler.bind(this)),f.a.on(e,L,o,this._dragEnterHandler.bind(this)),f.a.on(e,N,o,this._dragLeaveHandler.bind(this)),this.option("onCancelByEsc")&&f.a.on(e,F,this._keydownHandler.bind(this))}},_dragElementIsCloned:function(){return this._$dragElement&&this._$dragElement.hasClass(this._addWidgetPrefix("clone"))},_getDragTemplateArgs:function(t,e){return{container:Object(O.a)(e),model:{itemData:this.option("itemData"),itemElement:Object(O.a)(t)}}},_createDragElement:function(t){var e=t,n=this.option("clone"),i=this._getContainer(),o=this.option("dragTemplate");return o?(o=this._getTemplate(o),e=Object(u.a)("<div>").appendTo(i),o.render(this._getDragTemplateArgs(t,e))):n&&(e=Object(u.a)("<div>").appendTo(i),t.clone().css({width:t.css("width"),height:t.css("height")}).appendTo(e)),e.toggleClass(this._addWidgetPrefix("clone"),e.get(0)!==t.get(0)).toggleClass("dx-rtl",this.option("rtlEnabled"))},_resetDragElement:function(){this._dragElementIsCloned()?this._$dragElement.remove():this._toggleDraggingClass(!1),this._$dragElement=null},_resetSourceElement:function(){this._toggleDragSourceClass(!1),this._$sourceElement=null},_detachEventHandlers:function(){f.a.off(this._$content(),"."+D),f.a.off(this._getArea(),"."+D)},_move:function(t,e){Object(v.e)(e||this._$dragElement,t)},_getDraggableElement:function(t){var e=this._getSourceElement();if(e)return e;if(this.option("allowMoveByClick"))return this.$element();var n=Object(u.a)(t&&t.target),i=this._getItemsSelector();if(">"===i[0]){var o=this._$content().find(i);o.is(n)||(n=n.closest(o))}return n},_getSourceElement:function(){return this._getSourceDraggable()._$sourceElement},_pointerDownHandler:function(t){if(!Object(x.m)(t)){var e={},n=this.$element(),i=this.option("dragDirection");"horizontal"!==i&&"both"!==i||(e.left=t.pageX-n.offset().left+Object(v.d)(n).left-Object(c.k)(n)/2),"vertical"!==i&&"both"!==i||(e.top=t.pageY-n.offset().top+Object(v.d)(n).top-Object(c.c)(n)/2),this._move(e,n),this._getAction("onDragMove")(this._getEventArgs(t))}},_isValidElement:function(t,e){var n=this.option("handle"),i=Object(u.a)(t.originalEvent&&t.originalEvent.target);return!(n&&!i.closest(n).length)&&(!!e.length&&!e.is(".dx-state-disabled, .dx-state-disabled *"))},_dragStartHandler:function(t){var e=this._getDraggableElement(t);if(this.dragInProgress=!0,this._isValidElement(t,e)){if(!this._$sourceElement){var n=this._getDragStartArgs(t,e);if(this._getAction("onDragStart")(n),n.cancel)t.cancel=!0;else{this.option("itemData",n.itemData),this._setSourceDraggable(),this._$sourceElement=e;var i=e.offset(),o=this._$dragElement=this._createDragElement(e);this._toggleDraggingClass(!0),this._toggleDragSourceClass(!0),this._setGestureCoverCursor(o.children());var r="fixed"===o.css("position");this._initPosition(Object(b.a)({},n,{dragElement:o.get(0),initialOffset:r&&i})),this._getAction("onDraggableElementShown")(Object(l.a)({},n,{dragElement:o}));var a=this._getArea(),s=this._getAreaOffset(a),u=this._getBoundOffset(),h=Object(c.h)(a),d=Object(c.g)(a),p=Object(c.k)(o),f=Object(c.c)(o),m=o.offset().left-s.left,g=o.offset().top-s.top;a.length&&(t.maxLeftOffset=m-u.left,t.maxRightOffset=h-m-p-u.right,t.maxTopOffset=g-u.top,t.maxBottomOffset=d-g-f-u.bottom),this.option("autoScroll")&&this._startAnimator()}}}else t.cancel=!0},_getAreaOffset:function(t){var e=t&&P.a.offset(t);return e||{left:0,top:0}},_toggleDraggingClass:function(t){this._$dragElement&&this._$dragElement.toggleClass(this._addWidgetPrefix("dragging"),t)},_toggleDragSourceClass:function(t,e){var n=e||this._$sourceElement;n&&n.toggleClass(this._addWidgetPrefix("source"),t)},_setGestureCoverCursor:function(t){Object(u.a)(".".concat("dx-gesture-cover")).css("cursor",t.css("cursor"))},_getBoundOffset:function(){var t=this.option("boundOffset");return Object(k.h)(t)&&(t=t.call(this)),Object(m.d)(t)},_getArea:function(){var t=this.option("boundary");return Object(k.h)(t)&&(t=t.call(this)),Object(u.a)(t)},_getContainer:function(){var t=this.option("container");return void 0===t&&(t=Object(T.c)()),Object(u.a)(t)},_dragMoveHandler:function(t,e){if(this._dragMoveArgs=t,this._$dragElement){var n=t.offset,i=this._startPosition;this._move({left:i.left+n.x,top:i.top+n.y}),e||this._updateScrollable(t);var o=this._getEventArgs(t);if(this._getAction("onDragMove")(o),!0!==o.cancel)this._getTargetDraggable().dragMove(t,e)}else t.cancel=!0},_updateScrollable:function(t){if(this.option("autoScroll")){var e=H(t),n=h.a.elementsFromPoint(e.x,e.y,this.$element().get(0));this._verticalScrollHelper.updateScrollable(n,e),this._horizontalScrollHelper.updateScrollable(n,e)}},_getScrollable:function(t){var e,n=this;return t.parents().toArray().some(function(t){var i=Object(u.a)(t);if(n._horizontalScrollHelper.isScrollable(i)||n._verticalScrollHelper.isScrollable(i))return e=i,!0}),e},_defaultActionArgs:function(){var t=this.callBase.apply(this,arguments),e=this.option("component");return e&&(t.component=e,t.element=e.element()),t},_getEventArgs:function(t){var e=this._getSourceDraggable(),n=this._getTargetDraggable();return{event:t,itemData:e.option("itemData"),itemElement:Object(O.a)(e._$sourceElement),fromComponent:e.option("component")||e,toComponent:n.option("component")||n,fromData:e.option("data"),toData:n.option("data")}},_getDragStartArgs:function(t,e){var n=this._getEventArgs(t);return{event:n.event,itemData:n.itemData,itemElement:e,fromData:n.fromData}},_revertItemToInitialPosition:function(){!this._dragElementIsCloned()&&this._move(this._initialLocate,this._$sourceElement)},_dragEndHandler:function(t){var e=this,n=new j.a,i=this._getEventArgs(t),o=this._getEventArgs(t),r=this._getTargetDraggable(),a=!0;this.dragInProgress=!1;try{this._getAction("onDragEnd")(i)}finally{Object(j.c)(Object(j.b)(i.cancel)).done(function(t){if(!t&&(r!==e&&r._getAction("onDrop")(o),!o.cancel))return a=!1,void Object(j.c)(Object(j.b)(r.dragEnd(i))).always(n.resolve);n.resolve()}).fail(n.resolve),n.done(function(){a&&e._revertItemToInitialPosition(),e._resetDragOptions(r)})}},_isTargetOverAnotherDraggable:function(t){var e=this,n=this._getSourceDraggable();if(this===n)return!1;var i=n._$dragElement,o=n.$element(),r=this.$element(),a=H(t),s=h.a.elementsFromPoint(a.x,a.y,this.element()).filter(function(t){var n=Object(u.a)(t);if(n.hasClass(e._addWidgetPrefix()))return!n.closest(i).length})[0],l=this._getSourceElement(),c=s===o.get(0),d=Object(u.a)(s).closest(l).length;return!s||s===r.get(0)&&!c&&!d},_dragEnterHandler:function(t){this._fireDragEnterEvent(t),this._isTargetOverAnotherDraggable(t)&&this._setTargetDraggable(),this._getSourceDraggable().dragEnter(t)},_dragLeaveHandler:function(t){this._fireDragLeaveEvent(t),this._resetTargetDraggable(),this!==this._getSourceDraggable()&&this.reset(),this._getSourceDraggable().dragLeave(t)},_keydownHandler:function(t){this.dragInProgress&&"Escape"===t.key&&this._keydownEscapeHandler(t)},_keydownEscapeHandler:function(t){var e;if(this._getSourceElement()){var n=this._getEventArgs(t);if(this._getAction("onDragCancel")(n),!n.cancel){this.dragInProgress=!1,null===(e=o)||void 0===e||e._toggleDraggingClass(!1),this._detachEventHandlers(),this._revertItemToInitialPosition();var i=this._getTargetDraggable();this._resetDragOptions(i),this._attachEventHandlers()}}},_getAction:function(t){return this["_"+t+"Action"]||this._createActionByOption(t)},_getAnonymousTemplateName:function(){return"content"},_initTemplates:function(){this.option("contentTemplate")&&(this._templateManager.addDefaultTemplates({content:new I.a}),this.callBase.apply(this,arguments))},_render:function(){this.callBase(),this.$element().addClass(this._addWidgetPrefix());var t=this._templateManager.anonymousTemplateName===this.option("contentTemplate"),e=this._getTemplateByOption("contentTemplate");e&&Object(u.a)(e.render({container:this.element(),transclude:t}))},_optionChanged:function(t){var e=t.name;switch(e){case"onDragStart":case"onDragMove":case"onDragEnd":case"onDrop":case"onDragEnter":case"onDragLeave":case"onDragCancel":case"onDraggableElementShown":this["_"+e+"Action"]=this._createActionByOption(e);break;case"dragTemplate":case"contentTemplate":case"container":case"clone":break;case"allowMoveByClick":case"dragDirection":case"disabled":case"boundary":case"filter":case"immediate":this._resetDragElement(),this._detachEventHandlers(),this._attachEventHandlers();break;case"onCancelByEsc":this._keydownHandler();break;case"autoScroll":this._verticalScrollHelper.reset(),this._horizontalScrollHelper.reset();break;case"scrollSensitivity":case"scrollSpeed":case"boundOffset":case"handle":case"group":case"data":case"itemData":break;default:this.callBase(t)}},_getTargetDraggable:function(){return i||this},_getSourceDraggable:function(){return o||this},_setTargetDraggable:function(){var t=this.option("group"),e=this._getSourceDraggable();t&&t===e.option("group")&&(i=this)},_setSourceDraggable:function(){o=this},_resetSourceDraggable:function(){o=null},_resetTargetDraggable:function(){i=null},_resetDragOptions:function(t){this.reset(),t.reset(),this._stopAnimator(),this._horizontalScrollHelper.reset(),this._verticalScrollHelper.reset(),this._resetDragElement(),this._resetSourceElement(),this._resetTargetDraggable(),this._resetSourceDraggable()},_dispose:function(){this.callBase(),this._detachEventHandlers(),this._resetDragElement(),this._resetTargetDraggable(),this._resetSourceDraggable(),this._$sourceElement=null,this._stopAnimator()},_fireDragEnterEvent:function(t){var e=this._getEventArgs(t);this._getAction("onDragEnter")(e)},_fireDragLeaveEvent:function(t){var e=this._getEventArgs(t);this._getAction("onDragLeave")(e)}});Object(g.a)(D,W),e.a=W},function(t,e,n){"use strict";var i=n(2),o=n(7),r=n(69),a=n(211),s=n(3),l=n(26),c=n(166),u=a.a.prototype,h={makeTransparentBackground:u._makeTransparentBackground.bind(u),makeRgba:u._makeRgba.bind(u)},d=c.a.inherit({_supportedKeys:function(){var t=function(t){if(t.stopPropagation(),this.option("opened"))return t.preventDefault(),!0};return Object(s.a)(this.callBase(),{tab:function(t){if(this.option("opened")){var e=t.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();e&&(o.a.trigger(e,"focus"),e.select()),t.preventDefault()}},enter:this._enterKeyHandler,leftArrow:t,rightArrow:t,upArrow:function(t){return this.option("opened")?!t.altKey||(this.close(),!1):(t.preventDefault(),!1)},downArrow:function(t){return this.option("opened")||t.altKey?!(!this.option("opened")&&t.altKey)||(this._validatedOpening(),!1):(t.preventDefault(),!1)}})},_getDefaultOptions:function(){return Object(s.a)(this.callBase(),{editAlphaChannel:!1,applyValueMode:"useButtons",keyStep:1,fieldTemplate:null,buttonsLocation:"bottom after"})},_popupHidingHandler:function(){this.callBase(),"useButtons"===this.option("applyValueMode")&&this._updateColorViewValue(this.option("value"))},_popupConfig:function(){return Object(s.a)(this.callBase(),{width:""})},_contentReadyHandler:function(){this._createColorView(),this._addPopupBottomClasses()},_addPopupBottomClasses:function(){var t=this._popup.bottomToolbar();t&&(t.addClass("dx-colorview-container-cell").addClass("dx-colorview-button-cell").find(".dx-toolbar-items-container").addClass("dx-colorview-buttons-container"),t.find(".dx-popup-done").addClass("dx-colorview-apply-button"),t.find(".dx-popup-cancel").addClass("dx-colorview-cancel-button"))},_createColorView:function(){this._popup.$overlayContent().addClass("dx-colorbox-overlay");var t=Object(i.a)("<div>").appendTo(this._popup.$content());this._colorView=this._createComponent(t,a.a,this._colorViewConfig()),this._colorView.registerKeyHandler("escape",this._escapeHandler.bind(this)),o.a.on(t,"focus",function(){this.focus()}.bind(this))},_escapeHandler:function(){this.close(),this.focus()},_getFirstPopupElement:function(){return Object(i.a)(this._colorView._rgbInputs[0].element()).find("input")},_applyNewColor:function(t){this.option("value",t),t&&h.makeTransparentBackground(this._$colorResultPreview,t),this._colorViewEnterKeyPressed&&(this.close(),this._colorViewEnterKeyPressed=!1)},_colorViewConfig:function(){var t=this;return{value:t.option("value"),matchValue:t.option("value"),editAlphaChannel:t.option("editAlphaChannel"),applyValueMode:t.option("applyValueMode"),focusStateEnabled:t.option("focusStateEnabled"),stylingMode:this.option("stylingMode"),onEnterKeyPressed:function(e){var n=e.event;t._colorViewEnterKeyPressed=!0,t._colorView.option("value")!==t.option("value")&&(t._saveValueChangeEvent(n),t._applyNewColor(t._colorView.option("value")),t.close())},onValueChanged:function(e){var n=e.event,i=e.value,o=e.previousValue,r="instantly"===t.option("applyValueMode"),a=h.makeRgba(i)===o,s=r||t._colorViewEnterKeyPressed,l=t._shouldSaveEmptyValue;a||!s||l||(n&&t._saveValueChangeEvent(n),t._applyNewColor(i))}}},_enterKeyHandler:function(t){var e=this._input().val(),n=this.option(),i=n.value,o=n.editAlphaChannel,a=i&&o?h.makeRgba(i):i;if(!e)return!1;if(!new r.a(e).colorIsInvalid){if(e!==a&&(this._applyColorFromInput(e),this._saveValueChangeEvent(t),this.option("value",this.option("editAlphaChannel")?h.makeRgba(e):e)),this._colorView){var s=this._colorView.option("value");i!==s&&(this._saveValueChangeEvent(t),this.option("value",s))}return this.close(),!1}this._input().val(a)},_applyButtonHandler:function(t){this._saveValueChangeEvent(t.event),this._applyNewColor(this._colorView.option("value")),this.callBase()},_cancelButtonHandler:function(){this._resetInputValue(),this.callBase()},_getKeyboardListeners:function(){return this.callBase().concat([this._colorView])},_init:function(){this.callBase()},_initMarkup:function(){this.$element().addClass("dx-colorbox"),this.callBase()},_renderInput:function(){this.callBase(),this._input().addClass("dx-colorbox-input"),this._renderColorPreview()},_renderColorPreview:function(){this.$element().wrapInner(Object(i.a)("<div>").addClass("dx-colorbox-input-container")),this._$colorBoxInputContainer=this.$element().children().eq(0),this._$colorResultPreview=Object(i.a)("<div>").addClass("dx-colorbox-color-result-preview").appendTo(this._$textEditorInputContainer),this.option("value")?h.makeTransparentBackground(this._$colorResultPreview,this.option("value")):this._$colorBoxInputContainer.addClass("dx-colorbox-color-is-not-defined")},_renderValue:function(){var t=this.option(),e=t.value,n=t.editAlphaChannel,i=e&&n?h.makeRgba(e):e;return this.option("text",i),this.callBase()},_resetInputValue:function(){var t=this._input(),e=this.option("value");t.val(e),this._updateColorViewValue(e)},_updateColorViewValue:function(t){this._colorView&&this._colorView.option({value:t,matchValue:t})},_valueChangeEventHandler:function(t){var e=this._input().val();e&&(e=this._applyColorFromInput(e),this._updateColorViewValue(e)),this.callBase(t,e)},_applyColorFromInput:function(t){return new r.a(t).colorIsInvalid&&(this._resetInputValue(),t=this.option("value")),t},_clean:function(){this.callBase(),delete this._shouldSaveEmptyValue},_optionChanged:function(t){var e=t.value,n=t.name;switch(n){case"value":this._$colorBoxInputContainer.toggleClass("dx-colorbox-color-is-not-defined",!e),e?h.makeTransparentBackground(this._$colorResultPreview,e):this._$colorResultPreview.removeAttr("style"),null===e&&(this._shouldSaveEmptyValue=!0),this._updateColorViewValue(e),this._shouldSaveEmptyValue=!1,this.callBase(t);break;case"applyButtonText":case"cancelButtonText":this.callBase(t),this._popup&&this._addPopupBottomClasses();break;case"editAlphaChannel":case"keyStep":this._colorView&&this._colorView.option(n,e);break;default:this.callBase(t)}}});Object(l.a)("dxColorBox",d);var p=d;e.a=p},function(t,e,n){"use strict";var i=n(2),o=n(3),r=n(8),a=n(42),s=n(16),l=n(12),c=n(13);var u,h=(u="TextBox",function(){function t(){throw Object(l.a)(this,t),new Error("Module '".concat(u,"' not found"))}return Object(c.a)(t,null,[{key:"getInstance",value:function(){}}]),t}());e.a={_getDefaultOptions:function(){return Object(o.a)(this.callBase(),{searchMode:"",searchExpr:null,searchValue:"",searchEnabled:!1,searchEditorOptions:{}})},_initMarkup:function(){this._renderSearch(),this.callBase()},_renderSearch:function(){var t=this.$element(),e=this.option("searchEnabled"),n=this._addWidgetPrefix("search"),o=this._addWidgetPrefix("with-search");if(!e)return t.removeClass(o),void this._removeSearchBox();var r=this._getSearchEditorOptions();this._searchEditor?this._searchEditor.option(r):(t.addClass(o),this._$searchEditorElement=Object(i.a)("<div>").addClass(n).prependTo(t),this._searchEditor=this._createComponent(this._$searchEditorElement,h,r))},_removeSearchBox:function(){this._$searchEditorElement&&this._$searchEditorElement.remove(),delete this._$searchEditorElement,delete this._searchEditor},_getSearchEditorOptions:function(){var t=this,e=t.option("searchEditorOptions"),n=r.a.format("Search");return Object(o.a)({mode:"search",placeholder:n,tabIndex:t.option("tabIndex"),value:t.option("searchValue"),valueChangeEvent:"input",inputAttr:{"aria-label":n},onValueChanged:function(e){var n=t.option("searchTimeout");t._valueChangeDeferred=new s.a,clearTimeout(t._valueChangeTimeout),t._valueChangeDeferred.done(function(){this.option("searchValue",e.value)}.bind(t)),e.event&&"input"===e.event.type&&n?t._valueChangeTimeout=setTimeout(function(){t._valueChangeDeferred.resolve()},n):t._valueChangeDeferred.resolve()}},e)},_getAriaTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.$element()},_focusTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.callBase()},_updateFocusState:function(t,e){this.option("searchEnabled")&&this._toggleFocusClass(e,this.$element()),this.callBase(t,e)},getOperationBySearchMode:function(t){return"equals"===t?"=":t},_cleanAria:function(t){this.setAria({role:null,activedescendant:null},t),t.attr("tabIndex",null)},_optionChanged:function(t){switch(t.name){case"searchEnabled":case"searchEditorOptions":this._cleanAria(this.option("searchEnabled")?this.$element():this._itemContainer()),this._invalidate();break;case"searchExpr":case"searchMode":case"searchValue":if(!this._dataSource)return void a.a.log("W1009");"searchMode"===t.name?this._dataSource.searchOperation(this.getOperationBySearchMode(t.value)):this._dataSource[t.name](t.value),this._dataSource.load();break;case"searchTimeout":break;default:this.callBase(t)}},focus:function(){this.option("focusedElement")||!this.option("searchEnabled")?this.callBase():this._searchEditor&&this._searchEditor.focus()},_refresh:function(){this._valueChangeDeferred&&this._valueChangeDeferred.resolve(),this.callBase()},setEditorClass:function(t){h=t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shallowEquals=e.isIE=e.parseOptionName=e.mergeNameParts=void 0,e.mergeNameParts=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(t){return t}).join(".")},e.parseOptionName=function(t){var e=t.split("[");return 1===e.length?{isCollectionItem:!1,name:t}:{isCollectionItem:!0,name:e[0],index:Number(e[1].slice(0,-1))}};e.isIE=function(){var t,e,n=null!==(e=null===(t=null===window||void 0===window?void 0:window.navigator)||void 0===t?void 0:t.userAgent)&&void 0!==e?e:"",i=n.indexOf("MSIE"),o=n.indexOf("Trident/");return i>0||o>0};e.shallowEquals=function(t,e){return Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(function(n){return t[n]===e[n]})}},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),r=n(231),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.render=function(){var t=this.props.children,e=o.Children.map(t,function(t){return r.getElementInfo(t).type===r.ElementType.Option?t:null});return o.createElement(o.Fragment,{},e)},e}(o.PureComponent);e.default=a},function(t,e,n){"use strict";var i=n(12),o=n(13),r=n(19),a=n(14),s=n(6),l=n(18),c=n(26),u=n(1),h=n(215),d=n(59),p=n(3),f=n(2),m=n(46),g=n(43),v=n(71);var y=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"getProps",value:function(){var t=this,n=Object(a.a)(Object(s.a)(e.prototype),"getProps",this).call(this);return n.onFocusIn=function(){if("auto"===t.option("validationMessageMode")){var e=Object(f.a)(function(t,e){var n,i;return(null!==(n=null===(i=t.getRootNode)||void 0===i?void 0:i.call(t))&&void 0!==n?n:document).querySelector(e)}(t.element(),".dx-invalid-message.dx-overlay-wrapper"));null===e||void 0===e||e.removeClass("dx-invalid-message-auto"),t.showValidationMessageTimeout&&clearTimeout(t.showValidationMessageTimeout),t.showValidationMessageTimeout=setTimeout(function(){null===e||void 0===e||e.addClass("dx-invalid-message-auto")},150)}},n.saveValueChangeEvent=function(e){t._valueChangeEventInstance=e},n}},{key:"_createElement",value:function(t){Object(a.a)(Object(s.a)(e.prototype),"_createElement",this).call(this,t),this.showValidationMessageTimeout=void 0,this.validationRequest=Object(g.a)(),Object(m.c)(this.$element()[0],"dx-validation-target",this)}},{key:"_render",value:function(){var t;null===(t=this.option("_onMarkupRendered"))||void 0===t||t()}},{key:"_initializeComponent",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_initializeComponent",this).call(this),this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})}},{key:"_initOptions",value:function(t){Object(a.a)(Object(s.a)(e.prototype),"_initOptions",this).call(this,t),this.option(d.a.initValidationOptions(t))}},{key:"_getDefaultOptions",value:function(){return Object(p.a)(Object(a.a)(Object(s.a)(e.prototype),"_getDefaultOptions",this).call(this),{validationMessageOffset:{h:0,v:0},validationTooltipOptions:{}})}},{key:"_bindInnerWidgetOptions",value:function(t,e){var n=this,i=Object(p.a)({},t.option()),o=function(){return n._silent(e,i)};o(),t.on("optionChanged",o)}},{key:"_raiseValidation",value:function(t,e){var n=!Object(u.d)(t)&&!Object(u.d)(e);t===e||n||this.validationRequest.fire({value:t,editor:this})}},{key:"_raiseValueChangeAction",value:function(t,e){var n;null===(n=this._valueChangeAction)||void 0===n||n.call(this,{element:this.$element(),previousValue:e,value:t,event:this._valueChangeEventInstance}),this._valueChangeEventInstance=void 0}},{key:"_optionChanged",value:function(t){var n=t.name,i=t.previousValue,o=t.value;switch(n&&void 0!==this._getActionConfigs()[n]&&this._addAction(n),n){case"value":this._raiseValidation(o,i),this._raiseValueChangeAction(o,i);break;case"onValueChanged":this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]});break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(d.a.synchronizeValidationOptions(t,this.option()))}Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).call(this,t)}},{key:"reset",value:function(){var t=this._getDefaultOptions().value;this.option({value:t})}},{key:"_dispose",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_dispose",this).call(this),Object(m.c)(this.element(),"dx-validation-target",null),this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout)}}]),e}(h.a),_=v.a.isEditor,b=function(t){return _(t)||t instanceof y};y.isEditor=b,v.a.isEditor=b;var C=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_useTemplates",value:function(){return!1}},{key:"_isFocused",value:function(){return this.$element()[0].classList.contains("dx-state-focused")}},{key:"getSupportedKeyNames",value:function(){return["space"]}},{key:"getProps",value:function(){var t=Object(a.a)(Object(s.a)(e.prototype),"getProps",this).call(this);return null!==t.value&&(t.value=Boolean(t.value)),t}}]),e}(y),O=n(22),x=n(61),S=n(24),w=n(25),P=n(36),k=n(20),E=n(41),T=n(27),I=n(55),j=n(139),M=n(133),D=n(103),A=n(208),R=n(117),B=["dataSource","selectedRowKeys"],L={integrationOptions:!0};function N(t,e,n){return{path:t,value:e,previousValue:n}}function z(t,e,n,i,o,r){if(!L[i]){var a=Object(u.q)(e),s=Object(u.q)(n);if(e!==n)if(a!==s)t.push(N(i,n,e));else if("object"===a)if(Object(u.k)(n)){var l=H(e,n,o,r);t.push.apply(t,Object(E.a)(l.map(function(t){return Object(S.a)({},t,{path:"".concat(i,".").concat(t.path)})})))}else t.push(N(i,n,e));else if("array"===a){if(r.some(function(t){return o.includes(t)})&&e!==n)t.push(N(i,n,e));else if(e.length!==n.length)t.push(N(i,n,e));else{var c=H(e,n,o,r);[].push.apply(t,c.map(function(t){return Object(S.a)({},t,{path:"".concat(i).concat(t.path)})}))}}else t.push(N(i,n,e))}}var F=function(t){return function(e,n,i,o){var r=[],a=Array.isArray(e)?function(t){z(r,e[t],n[t],"[".concat(t,"]"),"".concat(i,".").concat(t),o)}:function(t){z(r,e[t],n[t],t,"".concat(i,".").concat(t),o)};return t(e).forEach(a),Object.keys(n).filter(function(t){return!Object.prototype.hasOwnProperty.call(e,t)&&e[t]!==n[t]}).forEach(function(t){r.push({path:t,value:n[t],previousValue:e[t]})}),r}},H=F(function(t){return Object.keys(t)}),V={key:!0,ref:!0,children:!0,style:!0},U=F(function(t){return Object.keys(t).filter(function(t){return!V[t]})});var W=["valueChange"],K=["componentProps","componentType","templateNames"],$=function(t){return Object.keys(t).reduce(function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e},{})},G=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(r.a)(this,Object(s.a)(e).call(this,t))).state={},n.widgetRef=Object(w.o)(),n.getInstance=n.getInstance.bind(Object(O.a)(Object(O.a)(n))),n.setupWidget=n.setupWidget.bind(Object(O.a)(Object(O.a)(n))),n.updateWidget=n.updateWidget.bind(Object(O.a)(Object(O.a)(n))),n}return Object(l.a)(e,t),Object(o.a)(e,[{key:"createEffects",value:function(){return[new P.c(this.setupWidget,[]),new P.c(this.updateWidget,[this.props.componentProps,this.config,this.props.templateNames])]}},{key:"updateEffects",value:function(){var t;null===(t=this._effects[1])||void 0===t||t.update([this.props.componentProps,this.config,this.props.templateNames])}},{key:"setupWidget",value:function(){var t=this,e=new this.props.componentType(this.widgetRef.current,this.properties);return this.instance=e,function(){e.dispose(),t.instance=null}}},{key:"updateWidget",value:function(){var t=this.getInstance();if(t){var e=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B;return U(t,e,"",n)}(this.prevProps||{},this.properties);e.length&&(t.beginUpdate(),e.forEach(function(e){var n=e.path,i=e.value;t.option(n,i)}),t.endUpdate()),this.prevProps=this.properties}}},{key:"getInstance",value:function(){return this.instance}},{key:"render",value:function(){var t=this.props;return function(t){var e=t.props.componentProps.className,n=t.restAttributes,i=t.widgetRef;return $(Object(w.p)(1,"div",e,null,1,Object(S.a)({},n),null,i))}({props:Object(S.a)({},t),widgetRef:this.widgetRef,config:this.config,properties:this.properties,restAttributes:this.restAttributes})}},{key:"config",get:function(){return this.context[R.a.id]?this.context[R.a.id]:R.a.defaultValue}},{key:"properties",get:function(){var t,e=this,n=$(this.props.componentProps),i=n.valueChange,o=Object(x.a)(n,W),r=Object(S.a)({rtlEnabled:!(null===(t=this.config)||void 0===t||!t.rtlEnabled),isRenovated:!0},o);return i&&(r.onValueChanged=function(t){var e=t.value;return i(e)}),this.props.templateNames.forEach(function(t){Object(P.h)(t,r,e)&&(r[t]=function(n,i,o){Object(P.k)(e.props.componentProps[t],{item:n,index:i,container:o},e)})}),r}},{key:"restAttributes",get:function(){var t=this.props;return Object(x.a)(t,K)}}]),e}(P.b);G.defaultProps={};var q=["accessKey","activeStateEnabled","boundary","className","contentId","disabled","focusStateEnabled","height","hint","hoverStateEnabled","mode","offset","onClick","onKeyDown","positionSide","rtlEnabled","tabIndex","target","validationErrors","visible","visualContainer","width"],Z=Object.create(Object.prototype,Object(S.a)(Object.getOwnPropertyDescriptors(M.a),Object.getOwnPropertyDescriptors({mode:"auto",positionSide:"top",offset:Object.freeze({h:0,v:0}),isReactComponentWrapper:!0}))),Y=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(r.a)(this,Object(s.a)(e).call(this,t))).state={},n}return Object(l.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this.props;return function(t){var e=t.componentProps,n=t.restAttributes;return Object(w.s)(Object(w.l)(2,G,Object(S.a)({componentType:A.a,componentProps:e,templateNames:[]},n)))}({props:Object(S.a)({},t),componentProps:this.componentProps,restAttributes:this.restAttributes})}},{key:"componentProps",get:function(){return this.props}},{key:"restAttributes",get:function(){var t=this.props;return Object(x.a)(t,q)}}]),e}(P.a);Y.defaultProps=Z;var X=n(79),Q=["accessKey","activeStateEnabled","aria","children","className","classes","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","tabIndex","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],J=Object.create(Object.prototype,Object(S.a)(Object.getOwnPropertyDescriptors(M.a),Object.getOwnPropertyDescriptors({readOnly:!1,name:"",validationError:null,validationErrors:null,validationMessageMode:"auto",validationMessagePosition:"bottom",validationStatus:"valid",isValid:!0,defaultValue:null,valueChange:function(){}}))),tt={get readOnly(){return J.readOnly},get name(){return J.name},get validationError(){return J.validationError},get validationErrors(){return J.validationErrors},get validationMessageMode(){return J.validationMessageMode},get validationMessagePosition(){return J.validationMessagePosition},get validationStatus(){return J.validationStatus},get isValid(){return J.isValid},get defaultValue(){return J.defaultValue},get valueChange(){return J.valueChange},get className(){return J.className},get activeStateEnabled(){return J.activeStateEnabled},get disabled(){return J.disabled},get focusStateEnabled(){return J.focusStateEnabled},get hoverStateEnabled(){return J.hoverStateEnabled},get tabIndex(){return J.tabIndex},get visible(){return J.visible},get aria(){return j.b.aria},get classes(){return j.b.classes}},et=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(r.a)(this,Object(s.a)(e).call(this,t))).widgetRef=Object(w.o)(),n.rootElementRef=Object(w.o)(),n.__getterCache={},n.state={validationMessageGuid:"dx-".concat(new I.a),isValidationMessageVisible:!1,value:void 0!==n.props.value?n.props.value:n.props.defaultValue},n.updateValidationMessageVisibility=n.updateValidationMessageVisibility.bind(Object(O.a)(Object(O.a)(n))),n.focus=n.focus.bind(Object(O.a)(Object(O.a)(n))),n.blur=n.blur.bind(Object(O.a)(Object(O.a)(n))),n.onFocusIn=n.onFocusIn.bind(Object(O.a)(Object(O.a)(n))),n}return Object(l.a)(e,t),Object(o.a)(e,[{key:"createEffects",value:function(){return[new P.c(this.updateValidationMessageVisibility,[this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors]),Object(P.g)()]}},{key:"updateEffects",value:function(){var t;null===(t=this._effects[0])||void 0===t||t.update([this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors])}},{key:"updateValidationMessageVisibility",value:function(){var t=this;this.setState(function(e){return{isValidationMessageVisible:t.shouldShowValidationMessage}})}},{key:"onFocusIn",value:function(t){var e=this.props.onFocusIn;null===e||void 0===e||e(t)}},{key:"focus",value:function(){this.widgetRef.current.focus()}},{key:"blur",value:function(){this.widgetRef.current.blur()}},{key:"componentWillUpdate",value:function(t,n,i){Object(a.a)(Object(s.a)(e.prototype),"componentWillUpdate",this).call(this),this.props.validationError===t.validationError&&this.props.validationErrors===t.validationErrors||(this.__getterCache.validationErrors=void 0)}},{key:"render",value:function(){var t=this.props;return function(t){var e=t.aria,n=t.cssClasses,i=t.isValidationMessageVisible,o=t.onFocusIn,r=t.props,a=r.accessKey,s=r.activeStateEnabled,l=r.children,c=r.className,u=r.disabled,h=r.focusStateEnabled,d=r.height,p=r.hint,f=r.hoverStateEnabled,m=r.onClick,g=r.onKeyDown,v=r.rtlEnabled,y=r.tabIndex,_=r.validationMessageMode,b=r.validationMessagePosition,C=r.visible,O=r.width,x=t.restAttributes,P=t.rootElementRef,k=t.validationErrors,E=t.validationMessageGuid,T=t.validationMessageTarget,I=t.widgetRef;return Object(w.s)(Object(w.l)(2,j.a,Object(S.a)({rootElementRef:P,aria:e,classes:n,activeStateEnabled:s,focusStateEnabled:h,hoverStateEnabled:f,accessKey:a,className:c,rtlEnabled:v,hint:p,disabled:u,height:d,width:O,onFocusIn:o,onClick:m,onKeyDown:g,tabIndex:y,visible:C},x,{children:Object(w.m)([l,i&&Object(w.l)(2,Y,{validationErrors:k,mode:_,positionSide:b,rtlEnabled:v,target:T,boundary:T,visualContainer:T,contentId:E})],0)}),null,I))}({props:Object(S.a)({},t,{value:void 0!==this.props.value?this.props.value:this.state.value}),validationMessageGuid:this.state.validationMessageGuid,isValidationMessageVisible:this.state.isValidationMessageVisible,rootElementRef:this.rootElementRef,widgetRef:this.widgetRef,onFocusIn:this.onFocusIn,cssClasses:this.cssClasses,shouldShowValidationMessage:this.shouldShowValidationMessage,aria:this.aria,validationErrors:this.validationErrors,validationMessageTarget:this.validationMessageTarget,restAttributes:this.restAttributes})}},{key:"cssClasses",get:function(){return"".concat(function(t){var e=t.classes,n=t.isValid,i=t.readOnly,o=Object(T.a)({"dx-state-readonly":!!i,"dx-invalid":!n},"".concat(e),!!e);return Object(D.a)(o)}(Object(S.a)({},this.props,{value:void 0!==this.props.value?this.props.value:this.state.value})))}},{key:"shouldShowValidationMessage",get:function(){var t,e=this.props,n=e.isValid,i=e.validationStatus,o=null!==(t=this.validationErrors)&&void 0!==t?t:[];return!(n&&"invalid"!==i)&&o.length>0}},{key:"aria",get:function(){var t=this.props,e=t.isValid,n={readonly:t.readOnly?"true":"false",invalid:e?"false":"true"};return this.shouldShowValidationMessage&&(n.describedBy=this.state.validationMessageGuid),Object(S.a)({},n,this.props.aria)}},{key:"validationErrors",get:function(){var t=this;return void 0!==this.__getterCache.validationErrors?this.__getterCache.validationErrors:this.__getterCache.validationErrors=function(){var e=t.props,n=e.validationError,i=e.validationErrors,o=i&&Object(E.a)(i);return!o&&n&&(o=[Object(S.a)({},n)]),o}()}},{key:"validationMessageTarget",get:function(){var t;return null===(t=this.rootElementRef)||void 0===t?void 0:t.current}},{key:"restAttributes",get:function(){var t=Object(S.a)({},this.props,{value:void 0!==this.props.value?this.props.value:this.state.value});return Object(x.a)(t,Q)}}]),e}(P.e);et.defaultProps=tt;var nt=n(15);var it=n(73),ot=n(47),rt=[[22,16],[18,16]],at=[[[12,8],[20,18]],[[16,10],[16,14]]];function st(){var t=Object(ot.a)();return{isMaterialTheme:Object(ot.d)(t),isCompactTheme:Object(ot.b)(t)}}function lt(t,e){var n=function(t){var e=st(),n=e.isCompactTheme,i=e.isMaterialTheme;return at[+t][+i][+n]}(e)/function(){var t=st(),e=t.isCompactTheme,n=t.isMaterialTheme;return rt[+n][+e]}();return Math.ceil(n*t)}var ct=["isChecked","size"],ut=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(r.a)(this,Object(s.a)(e).call(this,t))).state={},n.elementRef=Object(w.o)(),n.__getterCache={},n.updateFontSize=n.updateFontSize.bind(Object(O.a)(Object(O.a)(n))),n.setIconFontSize=n.setIconFontSize.bind(Object(O.a)(Object(O.a)(n))),n.getIconSize=n.getIconSize.bind(Object(O.a)(Object(O.a)(n))),n.getComputedIconSize=n.getComputedIconSize.bind(Object(O.a)(Object(O.a)(n))),n}return Object(l.a)(e,t),Object(o.a)(e,[{key:"createEffects",value:function(){return[new P.c(this.updateFontSize,[this.props.isChecked,this.props.size])]}},{key:"updateEffects",value:function(){var t;null===(t=this._effects[0])||void 0===t||t.update([this.props.isChecked,this.props.size])}},{key:"updateFontSize",value:function(){var t=this.props,e=t.isChecked,n=t.size;if(Object(nt.f)()&&n){var i=lt(this.getIconSize(n),e);this.setIconFontSize(i)}}},{key:"setIconFontSize",value:function(t){this.elementRef.current.style.fontSize="".concat(t,"px")}},{key:"getIconSize",value:function(t){return Object(u.i)(t)?t:t.endsWith("px")?parseInt(t,10):this.getComputedIconSize()}},{key:"getComputedIconSize",value:function(){var t=function(t){var e,n=Object(nt.d)();return t?null===(e=n.getComputedStyle)||void 0===e?void 0:e.call(n,t):null}(this.elementRef.current);return parseInt(null===t||void 0===t?void 0:t.width,10)}},{key:"componentWillUpdate",value:function(t,n,i){Object(a.a)(Object(s.a)(e.prototype),"componentWillUpdate",this).call(this),this.props.size!==t.size&&(this.__getterCache.cssStyles=void 0)}},{key:"render",value:function(){var t=this.props;return function(t){var e=t.cssStyles,n=t.elementRef;return Object(w.p)(1,"span","dx-checkbox-icon",null,1,{style:Object(P.j)(e)},null,n)}({props:Object(S.a)({},t),elementRef:this.elementRef,setIconFontSize:this.setIconFontSize,getIconSize:this.getIconSize,getComputedIconSize:this.getComputedIconSize,cssStyles:this.cssStyles,restAttributes:this.restAttributes})}},{key:"cssStyles",get:function(){var t=this;return void 0!==this.__getterCache.cssStyles?this.__getterCache.cssStyles:this.__getterCache.cssStyles=function(){var e=t.props.size,n=Object(it.a)("width",e);return{height:Object(it.a)("height",e),width:n}}()}},{key:"restAttributes",get:function(){var t=this.props;return Object(x.a)(t,ct)}}]),e}(P.b);ut.defaultProps={isChecked:!1};var ht=["accessKey","activeStateEnabled","aria","className","defaultValue","disabled","enableThreeStateBehavior","focusStateEnabled","height","hint","hoverStateEnabled","iconSize","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","saveValueChangeEvent","tabIndex","text","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],dt=Object.create(Object.prototype,Object(S.a)(Object.getOwnPropertyDescriptors(J),Object.getOwnPropertyDescriptors({text:"",enableThreeStateBehavior:!1,activeStateEnabled:!0,hoverStateEnabled:!0,get focusStateEnabled(){return"desktop"===k.a.real().deviceType&&!k.a.isSimulator()},defaultValue:!1,valueChange:function(){}}))),pt={get text(){return dt.text},get enableThreeStateBehavior(){return dt.enableThreeStateBehavior},get activeStateEnabled(){return dt.activeStateEnabled},get hoverStateEnabled(){return dt.hoverStateEnabled},get focusStateEnabled(){return dt.focusStateEnabled},get defaultValue(){return dt.defaultValue},get valueChange(){return dt.valueChange},get readOnly(){return dt.readOnly},get name(){return dt.name},get validationError(){return dt.validationError},get validationErrors(){return dt.validationErrors},get validationMessageMode(){return dt.validationMessageMode},get validationMessagePosition(){return dt.validationMessagePosition},get validationStatus(){return dt.validationStatus},get isValid(){return dt.isValid},get className(){return dt.className},get disabled(){return dt.disabled},get tabIndex(){return dt.tabIndex},get visible(){return dt.visible},get aria(){return j.b.aria}},ft=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(r.a)(this,Object(s.a)(e).call(this,t))).editorRef=Object(w.o)(),n.state={value:void 0!==n.props.value?n.props.value:n.props.defaultValue},n.focus=n.focus.bind(Object(O.a)(Object(O.a)(n))),n.blur=n.blur.bind(Object(O.a)(Object(O.a)(n))),n.onWidgetClick=n.onWidgetClick.bind(Object(O.a)(Object(O.a)(n))),n.keyDown=n.keyDown.bind(Object(O.a)(Object(O.a)(n))),n}return Object(l.a)(e,t),Object(o.a)(e,[{key:"createEffects",value:function(){return[Object(P.g)()]}},{key:"onWidgetClick",value:function(t){var e,n,i=this,o=this.props,r=o.enableThreeStateBehavior,a=o.readOnly,s=o.saveValueChangeEvent;a||(null===s||void 0===s||s(t),r?(this.setState(function(t){return{value:e=null===(void 0!==i.props.value?i.props.value:t.value)||(void 0!==i.props.value?!i.props.value:!t.value)&&null}}),this.props.valueChange(e)):(this.setState(function(t){var e;return{value:n=!(null!==(e=void 0!==i.props.value?i.props.value:t.value)&&void 0!==e&&e)}}),this.props.valueChange(n)))}},{key:"keyDown",value:function(t){var e=this.props.onKeyDown,n=t.keyName,i=t.originalEvent,o=t.which,r=null===e||void 0===e?void 0:e(t);if(null!==r&&void 0!==r&&r.cancel)return r;"space"!==n&&"space"!==o||(i.preventDefault(),this.onWidgetClick(i))}},{key:"focus",value:function(){this.editorRef.current.focus()}},{key:"blur",value:function(){this.editorRef.current.blur()}},{key:"render",value:function(){var t=this.props;return function(t){var e=t.aria,n=t.cssClasses,i=t.editorRef,o=t.keyDown,r=t.onWidgetClick,a=t.props,s=a.accessKey,l=a.activeStateEnabled,c=a.className,u=a.disabled,h=a.focusStateEnabled,d=a.height,p=a.hint,f=a.hoverStateEnabled,m=a.iconSize,g=a.isValid,v=a.name,y=a.onFocusIn,_=a.readOnly,b=a.rtlEnabled,C=a.tabIndex,O=a.text,x=a.validationError,P=a.validationErrors,k=a.validationMessageMode,E=a.validationMessagePosition,T=a.validationStatus,I=a.value,j=a.visible,M=a.width,D=t.restAttributes;return Object(w.s)(Object(w.l)(2,et,Object(S.a)({aria:e,classes:n,onClick:r,onKeyDown:o,accessKey:s,activeStateEnabled:l,focusStateEnabled:h,hoverStateEnabled:f,className:c,disabled:u,readOnly:_,hint:p,height:d,width:M,rtlEnabled:b,tabIndex:C,visible:j,validationError:x,validationErrors:P,validationMessageMode:k,validationMessagePosition:E,validationStatus:T,isValid:g,onFocusIn:y},D,{children:Object(w.m)([Object(w.s)(Object(w.p)(64,"input",null,null,1,Object(S.a)({type:"hidden",value:"".concat(I)},v&&{name:v}))),Object(w.p)(1,"div","dx-checkbox-container",[Object(w.l)(2,ut,{size:m,isChecked:!0===I}),O&&Object(w.p)(1,"span","dx-checkbox-text",O,0)],0)],4)}),null,i))}({props:Object(S.a)({},t,{value:void 0!==this.props.value?this.props.value:this.state.value}),editorRef:this.editorRef,onWidgetClick:this.onWidgetClick,keyDown:this.keyDown,cssClasses:this.cssClasses,aria:this.aria,restAttributes:this.restAttributes})}},{key:"cssClasses",get:function(){return function(t){var e=t.text,n=t.value,i={"dx-checkbox":!0,"dx-checkbox-checked":!0===n,"dx-checkbox-has-text":!!e,"dx-checkbox-indeterminate":null===n};return Object(D.a)(i)}(Object(S.a)({},this.props,{value:void 0!==this.props.value?this.props.value:this.state.value}))}},{key:"aria",get:function(){var t=!0===(void 0!==this.props.value?this.props.value:this.state.value),e={role:"checkbox",checked:null===(void 0!==this.props.value?this.props.value:this.state.value)?"mixed":"".concat(t)};return Object(S.a)({},e,this.props.aria)}},{key:"restAttributes",get:function(){var t=Object(S.a)({},this.props,{value:void 0!==this.props.value?this.props.value:this.state.value});return Object(x.a)(t,ht)}}]),e}(P.e);ft.defaultProps=pt;var mt=[];var gt=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"getProps",value:function(){var t=Object(a.a)(Object(s.a)(e.prototype),"getProps",this).call(this);return t.onKeyDown=this._wrapKeyDownHandler(t.onKeyDown),t}},{key:"focus",value:function(){var t,e;return null===(e=this.viewRef)||void 0===e?void 0:(t=e).focus.apply(t,arguments)}},{key:"blur",value:function(){var t,e;return null===(e=this.viewRef)||void 0===e?void 0:(t=e).blur.apply(t,arguments)}},{key:"_getActionConfigs",value:function(){return{onFocusIn:{},onClick:{}}}},{key:"_propsInfo",get:function(){return{twoWay:[["value","defaultValue","valueChange"]],allowNull:["defaultValue","validationError","validationErrors","value"],elements:[],templates:[],props:["text","iconSize","enableThreeStateBehavior","activeStateEnabled","hoverStateEnabled","focusStateEnabled","saveValueChangeEvent","defaultValue","valueChange","readOnly","name","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","isValid","onFocusIn","className","accessKey","disabled","height","hint","onClick","onKeyDown","rtlEnabled","tabIndex","visible","width","aria","value"]}}},{key:"_viewComponent",get:function(){return ft}}]),e}(C);Object(c.a)("dxCheckBox",gt),gt.defaultOptions=function(t){mt.push(t),ft.defaultProps=Object.create(Object.prototype,Object(S.a)(Object.getOwnPropertyDescriptors(ft.defaultProps),Object.getOwnPropertyDescriptors(function(t){var e=["value"];return Object.keys(t).reduce(function(n,i){var o=t[i];return n[e.some(function(t){return t===i})?"default"+i.charAt(0).toUpperCase()+i.slice(1):i]=o,n},{})}(Object(X.a)(mt)))))};e.a=gt},function(t,e,n){"use strict";var i=n(12),o=n(13),r=n(19),a=n(14),s=n(6),l=n(18),c=n(26),u=n(3),h=n(221),d=n(2),p="dx-buttongroup",f=["dxAutocomplete","dxButton","dxCheckBox","dxDateBox","dxMenu","dxSelectBox","dxTabs","dxTextBox","dxButtonGroup","dxDropDownButton"],m=function(t){var e=t.data&&t.data(),n=e&&e.dxComponents,i=n&&n[0];return i&&e[i]};function g(t,e){var n;if(t){var i=t._findItemElementByItem(e);if(i.length){var o=t._getItemData(i),r=!!(null!==(n=o.options)&&void 0!==n&&n.disabled||o.disabled||t.option("disabled")),a=o.widget;if(a&&-1!==f.indexOf(a)){var s=i.find(a.toLowerCase().replace("dx",".dx-"));if(s.length){var l,c,u=m(s);if(!u)return;var h,g=null===(l=u._focusTarget)||void 0===l?void 0:l.call(u);if("dxDropDownButton"===a)g=g&&g.find(".".concat(p));else g=null!==(h=g)&&void 0!==h?h:Object(d.a)(u.element());var v=null===(c=o.options)||void 0===c?void 0:c.tabIndex;r?g.attr("tabIndex",-1):g.attr("tabIndex",null!==v&&void 0!==v?v:0)}}}}}var v=n(11),y=function(){function t(e){Object(i.a)(this,t),this._toolbar=e}return Object(o.a)(t,[{key:"_initMarkup",value:function(){}},{key:"_updateMenuVisibility",value:function(){}},{key:"_renderMenuItems",value:function(){}},{key:"_renderItem",value:function(){}},{key:"_getMenuItems",value:function(){}},{key:"_getToolbarItems",value:function(){var t;return null!==(t=this._toolbar.option("items"))&&void 0!==t?t:[]}},{key:"_getItemsWidth",value:function(){return this._toolbar._getSummaryItemsWidth(this._toolbar.itemElements(),!0)}},{key:"_arrangeItems",value:function(){var t=this._toolbar._$toolbarItemsContainer.find(".".concat("dx-toolbar-label")).eq(0);if(t.length){var e=Object(v.k)(this._toolbar.$element()),n=Object(v.h)(t)-Object(v.k)(t);t.css("maxWidth",e-n)}}},{key:"_hideOverflowItems",value:function(){}},{key:"_dimensionChanged",value:function(){}},{key:"_itemOptionChanged",value:function(){}},{key:"_optionChanged",value:function(){}}]),t}(),_=n(41),b=n(9),C=n(5),O=n(20),x=n(52),S=n(65),w=n(216),P=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_init",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_init",this).call(this),this._activeStateUnit=".".concat("dx-toolbar-menu-action",":not(.").concat("dx-toolbar-hidden-button-group",")")}},{key:"_initMarkup",value:function(){this._renderSections(),Object(a.a)(Object(s.a)(e.prototype),"_initMarkup",this).call(this)}},{key:"_getSections",value:function(){return this._itemContainer().children()}},{key:"_itemElements",value:function(){return this._getSections().children(this._itemSelector())}},{key:"_renderSections",value:function(){var t=this,e=this._itemContainer();Object(b.a)(["before","center","after","menu"],function(n,i){var o="_$".concat(i,"Section");t[o]||(t[o]=Object(d.a)("<div>").addClass("dx-toolbar-menu-section")),t[o].appendTo(e)})}},{key:"_renderItems",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_renderItems",this).apply(this,arguments),this._updateSections()}},{key:"_updateSections",value:function(){var t=this.$element().find(".".concat("dx-toolbar-menu-section"));t.removeClass("dx-toolbar-menu-last-section"),t.not(":empty").eq(-1).addClass("dx-toolbar-menu-last-section")}},{key:"_renderItem",value:function(t,n,i,o){var r,l=null!==(r=n.location)&&void 0!==r?r:"menu",c=this["_$".concat(l,"Section")],u=Object(a.a)(Object(s.a)(e.prototype),"_renderItem",this).call(this,t,n,c,o);return this._getItemTemplateName({itemData:n})&&u.addClass("dx-toolbar-menu-custom"),("menu"===l||"dxButton"===n.widget||"dxButtonGroup"===n.widget||n.isAction)&&u.addClass("dx-toolbar-menu-action"),"dxButton"===n.widget&&u.addClass("dx-toolbar-hidden-button"),"dxButtonGroup"===n.widget&&u.addClass("dx-toolbar-hidden-button-group"),u.addClass(n.cssClass),u}},{key:"_getItemTemplateName",value:function(t){var n=Object(a.a)(Object(s.a)(e.prototype),"_getItemTemplateName",this).call(this,t),i=t.itemData;return i&&i.menuItemTemplate||n}},{key:"_dataSourceOptions",value:function(){return{paginate:!1}}},{key:"_itemClickHandler",value:function(t,n,i){Object(d.a)(t.target).closest(".".concat("dx-toolbar-menu-action")).length&&Object(a.a)(Object(s.a)(e.prototype),"_itemClickHandler",this).call(this,t,n,i)}},{key:"_getAriaTarget",value:function(){var t;return null!==(t=this.option("_areaTarget"))&&void 0!==t?t:Object(a.a)(Object(s.a)(e.prototype),"_getAriaTarget",this).call(this)}},{key:"_clean",value:function(){this._getSections().empty(),Object(a.a)(Object(s.a)(e.prototype),"_clean",this).call(this)}}]),e}(w.a),k=n(47),E=n(154),T=n(15),I=(n(149),function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_supportedKeys",value:function(){var t={};return this.option("opened")&&this._list.option("focusedElement")||(t=this._button._supportedKeys()),Object(u.a)(Object(a.a)(Object(s.a)(e.prototype),"_supportedKeys",this).call(this),t,{tab:function(){this._popup&&this._popup.hide()}})}},{key:"_getDefaultOptions",value:function(){return Object(u.a)(Object(a.a)(Object(s.a)(e.prototype),"_getDefaultOptions",this).call(this),{items:[],onItemClick:null,dataSource:null,itemTemplate:"item",onButtonClick:null,activeStateEnabled:!0,hoverStateEnabled:!0,opened:!1,onItemRendered:null,closeOnClick:!0,useInkRipple:!1,container:void 0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",to:0}}})}},{key:"_defaultOptionsRules",value:function(){return Object(a.a)(Object(s.a)(e.prototype),"_defaultOptionsRules",this).call(this).concat([{device:function(){return"desktop"===O.a.real().deviceType&&!O.a.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return Object(k.d)()},options:{useInkRipple:!0,animation:{show:{type:"pop",duration:200,from:{scale:0},to:{scale:1}},hide:{type:"pop",duration:200,from:{scale:1},to:{scale:0}}}}}])}},{key:"_init",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_init",this).call(this),this.$element().addClass("dx-dropdownmenu"),this._initItemClickAction(),this._initButtonClickAction()}},{key:"_initItemClickAction",value:function(){this._itemClickAction=this._createActionByOption("onItemClick")}},{key:"_initButtonClickAction",value:function(){this._buttonClickAction=this._createActionByOption("onButtonClick")}},{key:"_initTemplates",value:function(){this._templateManager.addDefaultTemplates({content:new E.a("content")}),Object(a.a)(Object(s.a)(e.prototype),"_initTemplates",this).call(this)}},{key:"_initMarkup",value:function(){this._renderButton(),Object(a.a)(Object(s.a)(e.prototype),"_initMarkup",this).call(this)}},{key:"_render",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_render",this).call(this),this.setAria({role:"menubar",haspopup:!0,expanded:this.option("opened")})}},{key:"_renderContentImpl",value:function(){this.option("opened")&&this._renderPopup()}},{key:"_clean",value:function(){this._cleanFocusState(),this._list&&this._list.$element().remove(),this._popup&&this._popup.$element().remove(),delete this._list,delete this._popup}},{key:"_renderButton",value:function(){var t=this,e=this.$element().addClass("dx-dropdownmenu-button");this._button=this._createComponent(e,S.default,{icon:"overflow",template:"content",useInkRipple:this.option("useInkRipple"),hoverStateEnabled:!1,focusStateEnabled:!1,onClick:function(e){t.option("opened",!t.option("opened")),t._buttonClickAction(e)}})}},{key:"_toggleActiveState",value:function(t,e,n){this._button._toggleActiveState(t,e,n)}},{key:"_toggleMenuVisibility",value:function(t){var e=null!==t&&void 0!==t?t:!this._popup.option("visible");t&&this._renderPopup(),this._popup.toggle(e),this.setAria("expanded",e)}},{key:"_renderPopup",value:function(){var t=this;if(!this._$popup){this._$popup=Object(d.a)("<div>").appendTo(this.$element());var e=this.option(),n=e.rtlEnabled,i=e.container,o=e.animation;this._popup=this._createComponent(this._$popup,"dxPopup",{onInitialized:function(t){t.component.$wrapper().addClass("dx-dropdownmenu-popup-wrapper").addClass("dx-dropdownmenu-popup")},deferRendering:!1,contentTemplate:function(e){return t._renderList(e)},_ignoreFunctionValueDeprecation:!0,maxHeight:function(){return t._getMaxHeight()},position:{my:"top ".concat(n?"left":"right"),at:"bottom ".concat(n?"left":"right"),collision:"fit flip",offset:{v:3},of:this.$element()},animation:o,onOptionChanged:function(e){var n=e.name,i=e.value;"visible"===n&&t.option("opened",i)},container:i,autoResizeEnabled:!1,height:"auto",width:"auto",hideOnOutsideClick:function(e){return t._closeOutsideDropDownHandler(e)},hideOnParentScroll:!0,shading:!1,dragEnabled:!1,showTitle:!1,fullScreen:!1,_fixWrapperPosition:!0})}}},{key:"_getMaxHeight",value:function(){var t=this.$element(),e=t.offset().top,n=Object(v.g)(Object(T.d)()),i=Math.max(e,n-e-Object(v.g)(t));return Math.min(n,i-3-10)}},{key:"_closeOutsideDropDownHandler",value:function(t){return!Object(d.a)(t.target).closest(this.$element()).length}},{key:"_renderList",value:function(t){var e=this,n=Object(d.a)(t);n.addClass("dx-dropdownmenu-list"),this._list=this._createComponent(n,P,{dataSource:this._getListDataSource(),pageLoadMode:"scrollBottom",indicateLoading:!1,noDataText:"",itemTemplate:this.option("itemTemplate"),onItemClick:function(t){e.option("closeOnClick")&&e.option("opened",!1),e._itemClickAction(t)},tabIndex:-1,focusStateEnabled:!1,activeStateEnabled:!0,onItemRendered:this.option("onItemRendered"),_areaTarget:this.$element(),_itemAttributes:{role:"menuitem"}})}},{key:"_itemOptionChanged",value:function(t,e,n){var i;null===(i=this._list)||void 0===i||i._itemOptionChanged(t,e,n),g(this._list,t)}},{key:"_getListDataSource",value:function(){var t;return null!==(t=this.option("dataSource"))&&void 0!==t?t:this.option("items")}},{key:"_setListDataSource",value:function(){var t;null===(t=this._list)||void 0===t||t.option("dataSource",this._getListDataSource()),delete this._deferRendering}},{key:"_getKeyboardListeners",value:function(){return Object(a.a)(Object(s.a)(e.prototype),"_getKeyboardListeners",this).call(this).concat([this._list])}},{key:"_toggleVisibility",value:function(t){Object(a.a)(Object(s.a)(e.prototype),"_toggleVisibility",this).call(this,t),this._button.option("visible",t)}},{key:"_optionChanged",value:function(t){var n,i,o,r=t.name,l=t.value;switch(r){case"items":case"dataSource":this.option("opened")?this._setListDataSource():this._deferRendering=!0;break;case"itemTemplate":null===(n=this._list)||void 0===n||n.option(r,this._getTemplate(l));break;case"onItemClick":this._initItemClickAction();break;case"onButtonClick":this._buttonClickAction();break;case"useInkRipple":this._invalidate();break;case"focusStateEnabled":null===(i=this._list)||void 0===i||i.option(r,l),Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).call(this,t);break;case"onItemRendered":null===(o=this._list)||void 0===o||o.option(r,l);break;case"opened":this._deferRendering&&this._setListDataSource(),this._toggleMenuVisibility(l),this._updateFocusableItemsTabIndex();break;case"closeOnClick":break;case"container":this._popup&&this._popup.option(r,l);break;case"disabled":this._list&&this._updateFocusableItemsTabIndex();break;default:Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).call(this,t)}}},{key:"_updateFocusableItemsTabIndex",value:function(){var t=this;this.option("items").forEach(function(e){return g(t._list,e)})}}]),e}(x.a)),j=n(37),M=function(){function t(e){Object(i.a)(this,t),this._toolbar=e}return Object(o.a)(t,[{key:"_initMarkup",value:function(){var t=this;Object(C.deferRender)(function(){t._renderOverflowMenu(),t._renderMenuItems()})}},{key:"_renderOverflowMenu",value:function(){var t=this;if(this._hasVisibleMenuItems()){this._renderMenuButtonContainer();var e=Object(d.a)("<div>").appendTo(this._overflowMenuContainer()),n=this._toolbar._createActionByOption("onItemClick"),i=this._toolbar._getTemplateByOption("menuItemTemplate");this._menu=this._toolbar._createComponent(e,I,{disabled:this._toolbar.option("disabled"),itemTemplate:function(){return i},onItemClick:function(t){n(t)},container:this._toolbar.option("menuContainer"),onOptionChanged:function(e){var n=e.name,i=e.value;"opened"===n&&t._toolbar.option("overflowMenuVisible",i),"items"===n&&t._updateMenuVisibility(i)}})}}},{key:"renderMenuItems",value:function(){this._menu||this._renderOverflowMenu(),this._menu&&this._menu.option("items",this._getMenuItems()),this._menu&&!this._menu.option("items").length&&this._menu.option("opened",!1)}},{key:"_renderMenuButtonContainer",value:function(){this._$overflowMenuContainer=Object(d.a)("<div>").appendTo(this._toolbar._$afterSection).addClass("dx-toolbar-button").addClass("dx-toolbar-menu-container")}},{key:"_overflowMenuContainer",value:function(){return this._$overflowMenuContainer}},{key:"_updateMenuVisibility",value:function(t){var e=null!==t&&void 0!==t?t:this._getMenuItems(),n=e.length&&this._hasVisibleMenuItems(e);this._toggleMenuVisibility(n)}},{key:"_toggleMenuVisibility",value:function(t){this._overflowMenuContainer()&&this._overflowMenuContainer().toggleClass("dx-state-invisible",!t)}},{key:"_renderMenuItems",value:function(){var t=this;Object(C.deferRender)(function(){t.renderMenuItems()})}},{key:"_dimensionChanged",value:function(){this.renderMenuItems()}},{key:"_getToolbarItems",value:function(){var t,e=this;return Object(C.grep)(null!==(t=this._toolbar.option("items"))&&void 0!==t?t:[],function(t){return!e._toolbar._isMenuItem(t)})}},{key:"_getMenuItems",value:function(){var t,e,n=this,i=Object(C.grep)(null!==(t=this._toolbar.option("items"))&&void 0!==t?t:[],function(t){return n._toolbar._isMenuItem(t)}),o=this._toolbar._itemContainer().children(".".concat("dx-toolbar-item-auto-hide",".").concat("dx-toolbar-item-invisible")).not(".".concat("dx-state-invisible"));this._restoreItems=null!==(e=this._restoreItems)&&void 0!==e?e:[];var r=[].slice.call(o).map(function(t){var e=n._toolbar._getItemData(t),i=Object(d.a)(t),o=i.children();return Object(u.a)({menuItemTemplate:function(){return n._restoreItems.push({container:i,item:o}),Object(d.a)("<div>").addClass("dx-toolbar-item-auto-hide").append(o)}},e)});return[].concat(Object(_.a)(r),Object(_.a)(i))}},{key:"_hasVisibleMenuItems",value:function(t){var e=null!==t&&void 0!==t?t:this._toolbar.option("items"),n=!1,i=Object(j.a)("visible"),o=Object(j.a)("locateInMenu");return Object(b.a)(e,function(t,e){var r=i(e,{functionsAsIs:!0}),a=o(e,{functionsAsIs:!0});(!1===r||"auto"!==a&&"always"!==a)&&"menu"!==e.location||(n=!0)}),n}},{key:"_arrangeItems",value:function(){var t;this._toolbar._$centerSection.css({margin:"0 auto",float:"none"}),Object(b.a)(null!==(t=this._restoreItems)&&void 0!==t?t:[],function(t,e){Object(d.a)(e.container).append(e.item)}),this._restoreItems=[];var e=Object(v.k)(this._toolbar.$element());return this._hideOverflowItems(e),e}},{key:"_hideOverflowItems",value:function(t){var e,n=this._toolbar.$element().find(".".concat("dx-toolbar-item-auto-hide"));if(n.length){t=null!==(e=t)&&void 0!==e?e:Object(v.k)(this._toolbar.$element()),Object(d.a)(n).removeClass("dx-toolbar-item-invisible");for(var i=this._getItemsWidth();n.length&&t<i;){var o=n.eq(-1);i-=Object(v.h)(o),o.addClass("dx-toolbar-item-invisible"),n.splice(-1,1)}}}},{key:"_getItemsWidth",value:function(){return this._toolbar._getSummaryItemsWidth([this._toolbar._$beforeSection,this._toolbar._$centerSection,this._toolbar._$afterSection])}},{key:"_itemOptionChanged",value:function(t,e,n){var i;if(this._toolbar._isMenuItem(t)&&("disabled"===e||"options.disabled"===e))return void(null===(i=this._menu)||void 0===i||i._itemOptionChanged(t,e,n));this.renderMenuItems()}},{key:"_renderItem",value:function(t,e){"auto"===t.locateInMenu&&e.addClass("dx-toolbar-item-auto-hide")}},{key:"_optionChanged",value:function(t,e){var n,i,o,r,a;switch(t){case"disabled":null===(n=this._menu)||void 0===n||n.option(t,e);break;case"overflowMenuVisible":null===(i=this._menu)||void 0===i||i.option("opened",e);break;case"onItemClick":null===(o=this._menu)||void 0===o||o.option(t,e);break;case"menuContainer":null===(r=this._menu)||void 0===r||r.option("container",e);break;case"menuItemTemplate":null===(a=this._menu)||void 0===a||a.option("itemTemplate",e)}}}]),t}(),D=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_getDefaultOptions",value:function(){return Object(u.a)(Object(a.a)(Object(s.a)(e.prototype),"_getDefaultOptions",this).call(this),{menuItemTemplate:"menuItem",menuContainer:void 0,overflowMenuVisible:!1,multiline:!1})}},{key:"_isMultiline",value:function(){return this.option("multiline")}},{key:"_dimensionChanged",value:function(t){"height"!==t&&(Object(a.a)(Object(s.a)(e.prototype),"_dimensionChanged",this).call(this),this._layoutStrategy._dimensionChanged())}},{key:"_initMarkup",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_initMarkup",this).call(this),this._updateFocusableItemsTabIndex(),this._layoutStrategy._initMarkup()}},{key:"_renderToolbar",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_renderToolbar",this).call(this),this._renderLayoutStrategy()}},{key:"_itemContainer",value:function(){return this._isMultiline()?this._$toolbarItemsContainer:Object(a.a)(Object(s.a)(e.prototype),"_itemContainer",this).call(this)}},{key:"_renderLayoutStrategy",value:function(){this.$element().toggleClass("dx-toolbar-multiline",this._isMultiline()),this._layoutStrategy=this._isMultiline()?new y(this):new M(this)}},{key:"_renderSections",value:function(){if(!this._isMultiline())return Object(a.a)(Object(s.a)(e.prototype),"_renderSections",this).call(this)}},{key:"_postProcessRenderItems",value:function(){this._layoutStrategy._hideOverflowItems(),this._layoutStrategy._updateMenuVisibility(),Object(a.a)(Object(s.a)(e.prototype),"_postProcessRenderItems",this).call(this),this._layoutStrategy._renderMenuItems()}},{key:"_renderItem",value:function(t,n,i,o){var r=Object(a.a)(Object(s.a)(e.prototype),"_renderItem",this).call(this,t,n,i,o);this._layoutStrategy._renderItem(n,r);var l=n.widget,c=n.showText;return"dxButton"===l&&"inMenu"===c&&r.toggleClass("dx-toolbar-text-auto-hide"),r}},{key:"_getItemsWidth",value:function(){return this._layoutStrategy._getItemsWidth()}},{key:"_getMenuItems",value:function(){return this._layoutStrategy._getMenuItems()}},{key:"_getToolbarItems",value:function(){return this._layoutStrategy._getToolbarItems()}},{key:"_arrangeItems",value:function(){if(!this.$element().is(":hidden")){var t=this._layoutStrategy._arrangeItems();this._isMultiline()||Object(a.a)(Object(s.a)(e.prototype),"_arrangeItems",this).call(this,t)}}},{key:"_itemOptionChanged",value:function(t,n,i){this._layoutStrategy._itemOptionChanged(t,n,i),this._isMenuItem(t)||Object(a.a)(Object(s.a)(e.prototype),"_itemOptionChanged",this).call(this,t,n,i),"disabled"!==n&&"options.disabled"!==n||g(this,t),"location"===n&&this.repaint()}},{key:"_updateFocusableItemsTabIndex",value:function(){var t=this;this._getToolbarItems().forEach(function(e){return g(t,e)})}},{key:"_isMenuItem",value:function(t){return"menu"===t.location||"always"===t.locateInMenu}},{key:"_isToolbarItem",value:function(t){return void 0===t.location||"never"===t.locateInMenu}},{key:"_optionChanged",value:function(t){var n=t.name,i=t.value;switch(this._layoutStrategy._optionChanged(n,i),n){case"menuContainer":case"menuItemTemplate":case"overflowMenuVisible":break;case"multiline":this._invalidate();break;case"disabled":Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).apply(this,arguments),this._updateFocusableItemsTabIndex();break;default:Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).apply(this,arguments)}}},{key:"updateDimensions",value:function(){this._dimensionChanged()}}]),e}(h.a);Object(c.a)("dxToolbar",D);var A=D;e.a=A},function(t,e,n){"use strict";var i=n(153);e.a=new i.a},function(t,e,n){"use strict";var i=n(2),o=n(58),r=n(92),a=n(1),s=n(50),l=n(66),c=n(141),u=n(134),h=n(126),d=n(16),p="totalCount",f="load",m="byKey";function g(t){return t&&Object(a.h)(t.then)}function v(t){return(new d.a).resolve(t).promise()}function y(t,e){if(!Object(a.h)(e))throw l.a.Error("E4011",t)}function _(t){throw l.a.Error("E4012",t)}function b(t){return function(e){var n;(n=e instanceof Error?e:new Error(function(t){var e=t[0],n=t[1];return e&&e.getResponseHeader?Object(o.c)(e,n):null}(arguments)||e&&String(e)||"Unknown error")).message!==o.a&&t.reject(n)}}function C(t,e){var n,i=t._loadFunc;return y(f,i),n=i.apply(t,[e]),Array.isArray(n)?n=v(n):null===n||void 0===n?n=v([]):g(n)||_(f),Object(d.b)(n)}function O(t,e,n,i){if(e.__rawData)i(e.__rawData);else{var o=e.__rawDataPromise||C(e,n);e._cacheRawData&&(e.__rawDataPromise=o),o.always(function(){delete e.__rawDataPromise}).done(function(t){e._cacheRawData&&(e.__rawData=t),i(t)}).fail(b(t))}}function x(t,e,n,o){var r={};"userData"in(n=n||{})&&(r.userData=n.userData),O(t,e,r,function(r){var a,s,l,c,p=Object(u.a)(r,{errorHandler:e._errorHandler}),f=[];o||((a=h.a.queryByOptions(p,n))===p?l=r.slice(0):f.push(a.enumerate().done(function(t){l=t}))),(n.requireTotalCount||o)&&((s=h.a.queryByOptions(p,n,!0))===p?c=r.length:f.push(s.count().done(function(t){c=t}))),d.c.apply(i.a,f).done(function(){o?t.resolve(c):n.requireTotalCount?t.resolve(l,{totalCount:c}):t.resolve(l)}).fail(function(e){t.reject(e)})})}var S=c.a.inherit({ctor:function(t){t=t||{},this.callBase(t),this._useDefaultSearch=!!t.useDefaultSearch||"raw"===t.loadMode,this._loadMode=t.loadMode,this._cacheRawData=!1!==t.cacheRawData,this._loadFunc=t[f],this._totalCountFunc=t[p],this._byKeyFunc=t[m],this._insertFunc=t.insert,this._updateFunc=t.update,this._removeFunc=t.remove},_clearCache:function(){delete this.__rawData},createQuery:function(){throw l.a.Error("E4010")},clearRawDataCache:function(){this._clearCache()},_totalCountImpl:function(t){var e=new d.a;return"raw"!==this._loadMode||this._totalCountFunc?(function(t,e){var n,i=t._totalCountFunc;if(!Object(a.h)(i))throw l.a.Error("E4021");return g(n=i.apply(t,[e]))||(n=Number(n),isFinite(n)||_(p),n=v(n)),Object(d.b)(n)}(this,t).done(function(t){e.resolve(Number(t))}).fail(b(e)),e=this._addFailHandlers(e)):x(e,this,t,!0),e.promise()},_pushImpl:function(t){this.__rawData&&Object(r.a)({keyInfo:this,data:this.__rawData,changes:t})},_loadImpl:function(t){var e=new d.a;return"raw"===this._loadMode?x(e,this,t,!1):(C(this,t).done(function(t,n){e.resolve(t,n)}).fail(b(e)),e=this._addFailHandlers(e)),e.promise()},_byKeyImpl:function(t,e){var n=new d.a;return this._byKeyViaLoad()?(this._requireKey(),function(t,e,n){O(t,e,{},function(i){for(var r,a=e.key(),s=0,c=i.length;s<c;s++)if(r=i[s],Object(o.g)(a,e.keyOf(i[s]),n))return void t.resolve(r);t.reject(l.a.Error("E4009"))})}(n,this,t)):function(t,e,n){var i,o=t._byKeyFunc;return y(m,o),g(i=o.apply(t,[e,n]))||(i=v(i)),Object(d.b)(i)}(this,t,e).done(function(t){n.resolve(t)}).fail(b(n)),n.promise()},_byKeyViaLoad:function(){return"raw"===this._loadMode&&!this._byKeyFunc},_insertImpl:function(t){var e,n=this,i=n._insertFunc,o=new d.a;return y("insert",i),g(e=i.apply(n,[t]))||(e=v(e)),Object(d.b)(e).done(function(e){Object(s.a)().useLegacyStoreResult?o.resolve(t,e):o.resolve(e||t,n.keyOf(e))}).fail(b(o)),o.promise()},_updateImpl:function(t,e){var n,i=this._updateFunc,o=new d.a;return y("update",i),g(n=i.apply(this,[t,e]))||(n=v(n)),Object(d.b)(n).done(function(n){Object(s.a)().useLegacyStoreResult?o.resolve(t,e):o.resolve(n||e,t)}).fail(b(o)),o.promise()},_removeImpl:function(t){var e,n=this._removeFunc,i=new d.a;return y("remove",n),g(e=n.apply(this,[t]))||(e=v()),Object(d.b)(e).done(function(){i.resolve(t)}).fail(b(i)),i.promise()}});e.a=S},function(t,e,n){"use strict";n.d(e,"a",function(){return L}),n.d(e,"b",function(){return N});var i,o,r=n(11),a=n(2),s=n(17),l=n(7),c=n(51),u=n(3),h=n(15),d=n(9),p=n(1),f=n(62),m=n(34),g=n(32),v=n(204),y=n(10),_=n(5),b=n(203),C=n(16),O="horizontal",x=Math.round(1e3/60),S=400/x,w=(1-Math.pow(.92,S))/(1-.92),P="pageUp",k="pageDown",E="end",T="home",I="leftArrow",j="upArrow",M="rightArrow",D="downArrow",A="tab",R=v.a.inherit({ctor:function(t){this.callBase(),this.scroller=t},VELOCITY_LIMIT:1,_isFinished:function(){return Math.abs(this.scroller._velocity)<=this.VELOCITY_LIMIT},_step:function(){this.scroller._scrollStep(this.scroller._velocity),this.scroller._velocity*=this._acceleration()},_acceleration:function(){return this.scroller._inBounds()?.92:.5},_complete:function(){this.scroller._scrollComplete()}}),B=R.inherit({VELOCITY_LIMIT:.2,_isFinished:function(){return this.scroller._crossBoundOnNextStep()||this.callBase()},_acceleration:function(){return.92},_complete:function(){this.scroller._move(this.scroller._bounceLocation),this.callBase()}}),L=g.a.inherit({ctor:function(t){this._initOptions(t),this._initAnimators(),this._initScrollbar()},_initOptions:function(t){var e=this;this._location=0,this._topReached=!1,this._bottomReached=!1,this._axis=t.direction===O?"x":"y",this._prop=t.direction===O?"left":"top",this._dimension=t.direction===O?"width":"height",this._scrollProp=t.direction===O?"scrollLeft":"scrollTop",Object(d.a)(t,function(t,n){e["_"+t]=n})},_initAnimators:function(){this._inertiaAnimator=new R(this),this._bounceAnimator=new B(this)},_initScrollbar:function(){this._scrollbar=new b.a(Object(a.a)("<div>").appendTo(this._$container),{direction:this._direction,visible:this._scrollByThumb,visibilityMode:this._visibilityModeNormalize(this._scrollbarVisible),expandable:this._scrollByThumb}),this._$scrollbar=this._scrollbar.$element()},_visibilityModeNormalize:function(t){return!0===t?"onScroll":!1===t?"never":t},_scrollStep:function(t){var e=this._location;this._location+=t,this._suppressBounce(),this._move(),Math.abs(e-this._location)<1||l.a.triggerHandler(this._$container,{type:"scroll"})},_suppressBounce:function(){this._bounceEnabled||this._inBounds(this._location)||(this._velocity=0,this._location=this._boundLocation())},_boundLocation:function(t){return t=void 0!==t?t:this._location,Math.max(Math.min(t,this._maxOffset),this._minOffset)},_move:function(t){this._location=void 0!==t?t*this._getScaleRatio():this._location,this._moveContent(),this._moveScrollbar()},_moveContent:function(){var t=this._location;this._$container[this._scrollProp](-t/this._getScaleRatio()),this._moveContentByTranslator(t)},_getScaleRatio:function(){if(Object(h.f)()&&!this._scaleRatio){var t=this._$element.get(0),e=this._getRealDimension(t,this._dimension),n=this._getBaseDimension(t,this._dimension);this._scaleRatio=Math.round(e/n*100)/100}return this._scaleRatio||1},_getRealDimension:function(t,e){return Math.round(Object(f.a)(t)[e])},_getBaseDimension:function(t,e){return t["offset"+Object(c.e)(e)]},_moveContentByTranslator:function(t){var e,n=-this._maxScrollPropValue;if(e=t>0?t:t<=n?t-n:t%1,this._translateOffset!==e){var i={};i[this._prop]=e,this._translateOffset=e,0!==e?Object(m.e)(this._$content,i):Object(m.g)(this._$content)}},_moveScrollbar:function(){this._scrollbar.moveTo(this._location)},_scrollComplete:function(){this._inBounds()&&(this._hideScrollbar(),this._completeDeferred&&this._completeDeferred.resolve()),this._scrollToBounds()},_scrollToBounds:function(){this._inBounds()||(this._bounceAction(),this._setupBounce(),this._bounceAnimator.start())},_setupBounce:function(){var t=(this._bounceLocation=this._boundLocation())-this._location;this._velocity=t/w},_inBounds:function(t){return t=void 0!==t?t:this._location,this._boundLocation(t)===t},_crossBoundOnNextStep:function(){var t=this._location,e=t+this._velocity;return t<this._minOffset&&e>=this._minOffset||t>this._maxOffset&&e<=this._maxOffset},_initHandler:function(t){this._stopScrolling(),this._prepareThumbScrolling(t)},_stopScrolling:Object(_.deferRenderer)(function(){this._hideScrollbar(),this._inertiaAnimator.stop(),this._bounceAnimator.stop()}),_prepareThumbScrolling:function(t){if(!Object(y.j)(t.originalEvent)){var e=Object(a.a)(t.originalEvent.target),n=this._isScrollbar(e);n&&this._moveToMouseLocation(t),this._thumbScrolling=n||this._isThumb(e),this._crossThumbScrolling=!this._thumbScrolling&&this._isAnyThumbScrolling(e),this._thumbScrolling&&this._scrollbar.feedbackOn()}},_isThumbScrollingHandler:function(t){return this._isThumb(t)},_moveToMouseLocation:function(t){var e=t["page"+this._axis.toUpperCase()]-this._$element.offset()[this._prop],n=this._location+e/this._containerToContentRatio()-Object(r.c)(this._$container)/2;this._scrollStep(-Math.round(n))},_startHandler:function(){this._showScrollbar()},_moveHandler:function(t){this._crossThumbScrolling||(this._thumbScrolling&&(t[this._axis]=-Math.round(t[this._axis]/this._containerToContentRatio())),this._scrollBy(t))},_scrollBy:function(t){t=t[this._axis],this._inBounds()||(t*=.5),this._scrollStep(t)},_scrollByHandler:function(t){this._scrollBy(t),this._scrollComplete()},_containerToContentRatio:function(){return this._scrollbar.containerToContentRatio()},_endHandler:function(t){return this._completeDeferred=new C.a,this._velocity=t[this._axis],this._inertiaHandler(),this._resetThumbScrolling(),this._completeDeferred.promise()},_inertiaHandler:function(){this._suppressInertia(),this._inertiaAnimator.start()},_suppressInertia:function(){this._inertiaEnabled&&!this._thumbScrolling||(this._velocity=0)},_resetThumbScrolling:function(){this._thumbScrolling=!1,this._crossThumbScrolling=!1},_stopHandler:function(){this._thumbScrolling&&this._scrollComplete(),this._resetThumbScrolling(),this._scrollToBounds()},_disposeHandler:function(){this._stopScrolling(),this._$scrollbar.remove()},_updateHandler:function(){this._update(),this._moveToBounds()},_update:function(){var t=this;return this._stopScrolling(),Object(_.deferUpdate)(function(){t._resetScaleRatio(),t._updateLocation(),t._updateBounds(),t._updateScrollbar(),Object(_.deferRender)(function(){t._moveScrollbar(),t._scrollbar.update()})})},_resetScaleRatio:function(){this._scaleRatio=null},_updateLocation:function(){this._location=(Object(m.d)(this._$content)[this._prop]-this._$container[this._scrollProp]())*this._getScaleRatio()},_updateBounds:function(){this._maxOffset=this._getMaxOffset(),this._minOffset=this._getMinOffset()},_getMaxOffset:function(){return 0},_getMinOffset:function(){return this._maxScrollPropValue=Math.max(this._contentSize()-this._containerSize(),0),-this._maxScrollPropValue},_updateScrollbar:Object(_.deferUpdater)(function(){var t=this,e=this._containerSize(),n=this._contentSize(),i=this._getBaseDimension(this._$container.get(0),this._dimension),o=this._getBaseDimension(this._$content.get(0),this._dimension);Object(_.deferRender)(function(){t._scrollbar.option({containerSize:e,contentSize:n,baseContainerSize:i,baseContentSize:o,scaleRatio:t._getScaleRatio()})})}),_moveToBounds:Object(_.deferRenderer)(Object(_.deferUpdater)(Object(_.deferRenderer)(function(){var t=this._boundLocation(),e=t!==this._location;this._location=t,this._move(),e&&this._scrollAction()}))),_createActionsHandler:function(t){this._scrollAction=t.scroll,this._bounceAction=t.bounce},_showScrollbar:function(){this._scrollbar.option("visible",!0)},_hideScrollbar:function(){this._scrollbar.option("visible",!1)},_containerSize:function(){return this._getRealDimension(this._$container.get(0),this._dimension)},_contentSize:function(){var t="hidden"===this._$content.css("overflow"+this._axis.toUpperCase()),e=this._getRealDimension(this._$content.get(0),this._dimension);if(!t){var n=this._$content[0]["scroll"+Object(c.e)(this._dimension)]*this._getScaleRatio();e=Math.max(n,e)}return e},_validateEvent:function(t){var e=Object(a.a)(t.originalEvent.target);return this._isThumb(e)||this._isScrollbar(e)},_isThumb:function(t){return this._scrollByThumb&&this._scrollbar.isThumb(t)},_isScrollbar:function(t){return this._scrollByThumb&&t&&t.is(this._$scrollbar)},_reachedMin:function(){return Math.round(this._location-this._minOffset)<=0},_reachedMax:function(){return Math.round(this._location-this._maxOffset)>=0},_cursorEnterHandler:function(){this._resetScaleRatio(),this._updateScrollbar(),this._scrollbar.cursorEnter()},_cursorLeaveHandler:function(){this._scrollbar.cursorLeave()},dispose:_.noop}),N=g.a.inherit({ctor:function(t){this._init(t)},_init:function(t){this._component=t,this._$element=t.$element(),this._$container=Object(a.a)(t.container()),this._$wrapper=t._$wrapper,this._$content=t.$content(),this.option=t.option.bind(t),this._createActionByOption=t._createActionByOption.bind(t),this._isLocked=t._isLocked.bind(t),this._isDirection=t._isDirection.bind(t),this._allowedDirection=t._allowedDirection.bind(t),this._getMaxOffset=t._getMaxOffset.bind(t)},render:function(){this._$element.addClass("dx-scrollable-simulated"),this._createScrollers(),this.option("useKeyboard")&&this._$container.prop("tabIndex",0),this._attachKeyboardHandler(),this._attachCursorHandlers()},_createScrollers:function(){this._scrollers={},this._isDirection(O)&&this._createScroller(O),this._isDirection("vertical")&&this._createScroller("vertical"),this._$element.toggleClass("dx-scrollable-scrollbars-alwaysvisible","always"===this.option("showScrollbar"))},_createScroller:function(t){this._scrollers[t]=new L(this._scrollerOptions(t))},_scrollerOptions:function(t){return{direction:t,$content:this._$content,$container:this._$container,$wrapper:this._$wrapper,$element:this._$element,scrollByThumb:this.option("scrollByThumb"),scrollbarVisible:this.option("showScrollbar"),bounceEnabled:this.option("bounceEnabled"),inertiaEnabled:this.option("inertiaEnabled"),isAnyThumbScrolling:this._isAnyThumbScrolling.bind(this)}},_applyScaleRatio:function(t){for(var e in this._scrollers){var n=this._getPropByDirection(e);if(Object(p.d)(t[n])){var i=this._scrollers[e];t[n]*=i._getScaleRatio()}}return t},_isAnyThumbScrolling:function(t){var e=!1;return this._eventHandler("isThumbScrolling",t).done(function(t,n){e=t||n}),e},handleInit:function(t){this._suppressDirections(t),this._eventForUserAction=t,this._eventHandler("init",t)},_suppressDirections:function(t){Object(y.j)(t.originalEvent)?this._prepareDirections(!0):(this._prepareDirections(),this._eachScroller(function(e,n){var i=Object(a.a)(t.originalEvent.target),o=e._validateEvent(t)||this.option("scrollByContent")&&this._isContent(i);this._validDirections[n]=o}))},_isContent:function(t){return!!t.closest(this._$element).length},_prepareDirections:function(t){t=t||!1,this._validDirections={},this._validDirections.horizontal=t,this._validDirections.vertical=t},_eachScroller:function(t){t=t.bind(this),Object(d.a)(this._scrollers,function(e,n){t(n,e)})},handleStart:function(t){this._eventForUserAction=t,this._eventHandler("start").done(this._startAction)},_saveActive:function(){o=this},_resetActive:function(){o===this&&(o=null)},handleMove:function(t){if(this._isLocked())return t.cancel=!0,void this._resetActive();this._saveActive(),t.preventDefault&&t.preventDefault(),this._adjustDistance(t,t.delta),this._eventForUserAction=t,this._eventHandler("move",t.delta)},_adjustDistance:function(t,e){e.x*=this._validDirections.horizontal,e.y*=this._validDirections.vertical;var n=this._tryGetDevicePixelRatio();n&&Object(y.j)(t.originalEvent)&&(e.x=Math.round(e.x/n*100)/100,e.y=Math.round(e.y/n*100)/100)},_tryGetDevicePixelRatio:function(){if(Object(h.f)())return Object(h.d)().devicePixelRatio},handleEnd:function(t){return this._resetActive(),this._refreshCursorState(t.originalEvent&&t.originalEvent.target),this._adjustDistance(t,t.velocity),this._eventForUserAction=t,this._eventHandler("end",t.velocity).done(this._endAction)},handleCancel:function(t){return this._resetActive(),this._eventForUserAction=t,this._eventHandler("end",{x:0,y:0})},handleStop:function(){this._resetActive(),this._eventHandler("stop")},handleScroll:function(){this._updateRtlConfig(),this._scrollAction()},_attachKeyboardHandler:function(){l.a.off(this._$element,".".concat("dxSimulatedScrollableKeyboard")),!this.option("disabled")&&this.option("useKeyboard")&&l.a.on(this._$element,Object(y.a)("keydown","dxSimulatedScrollableKeyboard"),this._keyDownHandler.bind(this))},_keyDownHandler:function(t){var e=this;if(clearTimeout(this._updateHandlerTimeout),this._updateHandlerTimeout=setTimeout(function(){Object(y.n)(t)===A&&e._eachScroller(function(t){t._updateHandler()})}),this._$container.is(s.a.getActiveElement(this._$container.get(0)))){var n=!0;switch(Object(y.n)(t)){case D:this._scrollByLine({y:1});break;case j:this._scrollByLine({y:-1});break;case M:this._scrollByLine({x:1});break;case I:this._scrollByLine({x:-1});break;case k:this._scrollByPage(1);break;case P:this._scrollByPage(-1);break;case T:this._scrollToHome();break;case E:this._scrollToEnd();break;default:n=!1}n&&(t.stopPropagation(),t.preventDefault())}},_scrollByLine:function(t){var e=this._tryGetDevicePixelRatio(),n=40;e&&(n=Math.abs(n/e*100)/100),this.scrollBy({top:(t.y||0)*-n,left:(t.x||0)*-n})},_scrollByPage:function(t){var e=this._wheelProp(),n={},i="width"===this._dimensionByProp(e)?r.k:r.c;n[e]=t*-i(this._$container),this.scrollBy(n)},_dimensionByProp:function(t){return"left"===t?"width":"height"},_getPropByDirection:function(t){return t===O?"left":"top"},_scrollToHome:function(){var t={};t[this._wheelProp()]=0,this._component.scrollTo(t)},_scrollToEnd:function(){var t=this._wheelProp(),e={},n="width"===this._dimensionByProp(t)?r.k:r.c;e[t]=n(this._$content)-n(this._$container),this._component.scrollTo(e)},createActions:function(){this._startAction=this._createActionHandler("onStart"),this._endAction=this._createActionHandler("onEnd"),this._updateAction=this._createActionHandler("onUpdated"),this._createScrollerActions()},_createScrollerActions:function(){this._scrollAction=this._createActionHandler("onScroll"),this._bounceAction=this._createActionHandler("onBounce"),this._eventHandler("createActions",{scroll:this._scrollAction,bounce:this._bounceAction})},_createActionHandler:function(t){var e=arguments,n=this,i=this._createActionByOption(t);return function(){i(Object(u.a)(n._createActionArgs(),e))}},_createActionArgs:function(){var t=this._scrollers,e=t.horizontal,n=t.vertical,i=this._getScrollOffset();return this._scrollOffset={top:n&&i.top,left:e&&i.left},{event:this._eventForUserAction,scrollOffset:this._scrollOffset,reachedLeft:e&&e._reachedMax(),reachedRight:e&&e._reachedMin(),reachedTop:n&&n._reachedMax(),reachedBottom:n&&n._reachedMin()}},_getScrollOffset:function(){return{top:-this.location().top,left:-this.location().left}},_eventHandler:function(t){var e=[].slice.call(arguments).slice(1),n=Object(d.b)(this._scrollers,function(n){return n["_"+t+"Handler"].apply(n,e)});return C.c.apply(a.a,n).promise()},location:function(){var t=Object(m.d)(this._$content);return t.top-=this._$container.scrollTop(),t.left-=this._$container.scrollLeft(),t},disabledChanged:function(){this._attachCursorHandlers()},_attachCursorHandlers:function(){l.a.off(this._$element,".".concat("dxSimulatedScrollableCursor")),!this.option("disabled")&&this._isHoverMode()&&(l.a.on(this._$element,Object(y.a)("mouseenter","dxSimulatedScrollableCursor"),this._cursorEnterHandler.bind(this)),l.a.on(this._$element,Object(y.a)("mouseleave","dxSimulatedScrollableCursor"),this._cursorLeaveHandler.bind(this)))},_isHoverMode:function(){return"onHover"===this.option("showScrollbar")},_cursorEnterHandler:function(t){(t=t||{}).originalEvent=t.originalEvent||{},o||t.originalEvent._hoverHandled||(i&&i._cursorLeaveHandler(),i=this,this._eventHandler("cursorEnter"),t.originalEvent._hoverHandled=!0)},_cursorLeaveHandler:function(t){i===this&&o!==i&&(this._eventHandler("cursorLeave"),i=null,this._refreshCursorState(t&&t.relatedTarget))},_refreshCursorState:function(t){if(this._isHoverMode()||t&&!o){var e=Object(a.a)(t).closest(".".concat("dx-scrollable-simulated",":not(.dx-state-disabled)")),n=e.length&&e.data("dxScrollableStrategy");i&&i!==n&&i._cursorLeaveHandler(),n&&n._cursorEnterHandler()}},update:function(){var t=this,e=this._eventHandler("update").done(this._updateAction);return Object(C.c)(e,Object(_.deferUpdate)(function(){var e=t._allowedDirections();return Object(_.deferRender)(function(){var n=e.vertical?"pan-x":"";n=e.horizontal?"pan-y":n,n=e.vertical&&e.horizontal?"none":n,t._$container.css("touchAction",n)}),Object(C.c)().promise()}))},_allowedDirections:function(){var t=this.option("bounceEnabled"),e=this._scrollers.vertical,n=this._scrollers.horizontal;return{vertical:e&&(e._minOffset<0||t),horizontal:n&&(n._minOffset<0||t)}},_updateBounds:function(){this._scrollers.horizontal&&this._scrollers.horizontal._updateBounds()},_isHorizontalAndRtlEnabled:function(){return this.option("rtlEnabled")&&"vertical"!==this.option("direction")},updateRtlPosition:function(t){var e=this;t&&(this._rtlConfig={scrollRight:0,clientWidth:this._$container.get(0).clientWidth,windowPixelRatio:this._getWindowDevicePixelRatio()}),this._updateBounds(),this._isHorizontalAndRtlEnabled()&&Object(_.deferUpdate)(function(){var t=e._getMaxOffset().left-e._rtlConfig.scrollRight;t<=0&&(t=0,e._rtlConfig.scrollRight=e._getMaxOffset().left),Object(_.deferRender)(function(){e._getScrollOffset().left!==t&&(e._rtlConfig.skipUpdating=!0,e._component.scrollTo({left:t}),e._rtlConfig.skipUpdating=!1)})})},_updateRtlConfig:function(){if(this._isHorizontalAndRtlEnabled()&&!this._rtlConfig.skipUpdating){var t=this._$container.get(0),e=t.clientWidth,n=t.scrollLeft,i=this._getWindowDevicePixelRatio();this._rtlConfig.windowPixelRatio===i&&this._rtlConfig.clientWidth===e&&(this._rtlConfig.scrollRight=this._getMaxOffset().left-n),this._rtlConfig.clientWidth=e,this._rtlConfig.windowPixelRatio=i}},_getWindowDevicePixelRatio:function(){return Object(h.f)()?Object(h.d)().devicePixelRatio:1},scrollBy:function(t){var e=this._scrollers.vertical,n=this._scrollers.horizontal;e&&(t.top=e._boundLocation(t.top+e._location)-e._location),n&&(t.left=n._boundLocation(t.left+n._location)-n._location),this._prepareDirections(!0),this._startAction(),this._eventHandler("scrollBy",{x:t.left,y:t.top}),this._endAction(),this._updateRtlConfig()},validate:function(t){return(!Object(y.j)(t)||!Object(y.i)(t))&&(!this.option("disabled")&&(!!this.option("bounceEnabled")||(Object(y.j)(t)?this._validateWheel(t):this._validateMove(t))))},_validateWheel:function(t){var e=this,n=this._scrollers[this._wheelDirection(t)],i=n._reachedMin(),o=n._reachedMax(),r=!i||!o,a=!i&&!o,s=i&&t.delta>0,l=o&&t.delta<0,c=r&&(a||s||l);return(c=c||void 0!==this._validateWheelTimer)&&(clearTimeout(this._validateWheelTimer),this._validateWheelTimer=setTimeout(function(){e._validateWheelTimer=void 0},500)),c},_validateMove:function(t){return!(!this.option("scrollByContent")&&!Object(a.a)(t.target).closest(".".concat("dx-scrollable-scrollbar")).length)&&this._allowedDirection()},getDirection:function(t){return Object(y.j)(t)?this._wheelDirection(t):this._allowedDirection()},_wheelProp:function(){return this._wheelDirection()===O?"left":"top"},_wheelDirection:function(t){switch(this.option("direction")){case O:return O;case"vertical":return"vertical";default:return t&&t.shiftKey?O:"vertical"}},dispose:function(){this._resetActive(),i===this&&(i=null),this._eventHandler("dispose"),this._detachEventHandlers(),this._$element.removeClass("dx-scrollable-simulated"),this._eventForUserAction=null,clearTimeout(this._validateWheelTimer),clearTimeout(this._updateHandlerTimeout)},_detachEventHandlers:function(){l.a.off(this._$element,".".concat("dxSimulatedScrollableCursor")),l.a.off(this._$container,".".concat("dxSimulatedScrollableKeyboard"))}})},function(t,e,n){"use strict";var i=n(123),o=n(7),r=n(78),a=n(9),s=n(10),l=n(3),c=n(108),u={onStart:i.b,onUpdated:i.c,onEnd:i.a,onCancel:"dxswipecancel"},h=r.a.inherit({_getDefaultOptions:function(){return Object(l.a)(this.callBase(),{elastic:!0,immediate:!1,direction:"horizontal",itemSizeFunc:null,onStart:null,onUpdated:null,onEnd:null,onCancel:null})},_render:function(){this.callBase(),this.$element().addClass("dx-swipeable"),this._attachEventHandlers()},_attachEventHandlers:function(){if(this._detachEventHandlers(),!this.option("disabled")){var t=this.NAME;this._createEventData(),Object(a.a)(u,function(e,n){var i=this._createActionByOption(e,{context:this});n=Object(s.a)(n,t),o.a.on(this.$element(),n,this._eventData,function(t){return i({event:t})})}.bind(this))}},_createEventData:function(){this._eventData={elastic:this.option("elastic"),itemSizeFunc:this.option("itemSizeFunc"),direction:this.option("direction"),immediate:this.option("immediate")}},_detachEventHandlers:function(){o.a.off(this.$element(),".dxSwipeable")},_optionChanged:function(t){switch(t.name){case"disabled":case"onStart":case"onUpdated":case"onEnd":case"onCancel":case"elastic":case"immediate":case"itemSizeFunc":case"direction":this._detachEventHandlers(),this._attachEventHandlers();break;case"rtlEnabled":break;default:this.callBase(t)}},_useTemplates:function(){return!1}});Object(c.c)(h,"dxSwipeable"),e.a=h},function(t,e,n){"use strict";var i=n(50),o=n(3),r=n(12),a=n(13),s=n(24),l=n(1),c=n(5),u=n(37),h=n(17),d=n(79),p={},f={},m=function(){function t(e,n){Object(r.a)(this,t),this._options=e,this._optionsByReference=n,this._changingCallback,this._changedCallback,this._namePreparedCallbacks}return Object(a.a)(t,[{key:"_setByReference",value:function(t,e){for(var n in Object(o.a)(!0,t,e),this._optionsByReference)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}},{key:"_setPreparedValue",value:function(t,e,n,i){var o,r,a=this.get(this._options,t,!1);if(o=a,r=e,o=Object(u.d)(o,!0),r=Object(u.d)(r,!0),!(o&&r&&Object(l.n)(o)&&Object(l.n)(r)?r.is(o):o!==o&&r!==r||(0===o&&0===r?function(t,e){return 1/t===1/e}(o,r):(null===o||"object"!==typeof o||h.a.isElementNode(o))&&o===r))){var s=Object(u.c)(t);!i&&this._changingCallback(t,a,e),f[t]=f[t]||Object(u.b)(t),f[t](this._options,e,{functionsAsIs:!0,merge:Object(l.d)(n)?n:!this._optionsByReference[t],unwrapObservables:s.length>1&&!!this._optionsByReference[s[0]]}),!i&&this._changedCallback(t,e,a)}}},{key:"_prepareRelevantNames",value:function(t,e,n,i){if(Object(l.k)(n))for(var o in n)this._prepareRelevantNames(t,"".concat(e,".").concat(o),n[o]);this._namePreparedCallbacks(t,e,n,i)}},{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._options,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return p[e]=p[e]||Object(u.a)(e),p[e](t,{functionsAsIs:!0,unwrapObservables:n})}},{key:"set",value:function(t,e,n,i){for(var o in t=Object(d.f)(t,e))this._prepareRelevantNames(t,o,t[o],i);for(var r in t)this._setPreparedValue(r,t[r],n,i)}},{key:"onRelevantNamesPrepared",value:function(t){this._namePreparedCallbacks=t}},{key:"onChanging",value:function(t){this._changingCallback=t}},{key:"onChanged",value:function(t){this._changedCallback=t}},{key:"dispose",value:function(){this._changingCallback=c.noop,this._changedCallback=c.noop}}]),t}(),g=function(){function t(e,n,i,o){var a=this;Object(r.a)(this,t),this._deprecatedCallback,this._startChangeCallback,this._endChangeCallback,this._default=n,this._deprecated=o,this._deprecatedNames=[],this._initDeprecatedNames(),this._optionManager=new m(e,i),this._optionManager.onRelevantNamesPrepared(function(t,e,n,i){return a._setRelevantNames(t,e,n,i)}),this._cachedOptions={},this._rules=[]}return Object(a.a)(t,[{key:"_initDeprecatedNames",value:function(){for(var t in this._deprecated)this._deprecatedNames.push(t)}},{key:"_getByRules",value:function(t){return t=Array.isArray(t)?this._rules.concat(t):this._rules,Object(d.a)(t)}},{key:"_notifyDeprecated",value:function(t){var e=this._deprecated[t];e&&this._deprecatedCallback(t,e)}},{key:"_setRelevantNames",value:function(t,e,n,i){if(e){var o=this._normalizeName(e,i);o&&o!==e&&(this._setField(t,o,n),this._clearField(t,e))}}},{key:"_setField",value:function(t,e,n){var i="",o=null;do{i=i?".".concat(i):"",i=Object(d.c)(e)+i,o=(e=Object(d.e)(e))?this._optionManager.get(t,e,!1):t}while(!o);o[i]=n}},{key:"_clearField",value:function(t,e){delete t[e];var n=Object(d.e)(e),i=n?this._optionManager.get(t,n,!1):t;i&&delete i[Object(d.c)(e)]}},{key:"_normalizeName",value:function(t,e){if(this._deprecatedNames.length&&t)for(var n=0;n<this._deprecatedNames.length;n++)if(this._deprecatedNames[n]===t){var i=this._deprecated[t];if(i)return!e&&this._notifyDeprecated(t),i.alias||t}return t}},{key:"addRules",value:function(t){this._rules=t.concat(this._rules)}},{key:"applyRules",value:function(t){var e=this._getByRules(t);this.silent(e)}},{key:"dispose",value:function(){this._deprecatedCallback=c.noop,this._startChangeCallback=c.noop,this._endChangeCallback=c.noop,this._optionManager.dispose()}},{key:"onChanging",value:function(t){this._optionManager.onChanging(t)}},{key:"onChanged",value:function(t){this._optionManager.onChanged(t)}},{key:"onDeprecated",value:function(t){this._deprecatedCallback=t}},{key:"onStartChange",value:function(t){this._startChangeCallback=t}},{key:"onEndChange",value:function(t){this._endChangeCallback=t}},{key:"isInitial",value:function(t){var e=this.silent(t),n=this.initial(t);return Object(l.h)(e)&&Object(l.h)(n)?e.toString()===n.toString():Object(c.equalByValue)(e,n)}},{key:"initial",value:function(t){return Object(d.d)(this._initial,t)}},{key:"option",value:function(t,e){if(arguments.length<2&&"object"!==Object(l.q)(t))return this._optionManager.get(void 0,this._normalizeName(t));this._startChangeCallback();try{this._optionManager.set(t,e)}finally{this._endChangeCallback()}}},{key:"silent",value:function(t,e){if(arguments.length<2&&"object"!==Object(l.q)(t))return this._optionManager.get(void 0,t,void 0,!0);this._optionManager.set(t,e,void 0,!0)}},{key:"reset",value:function(t){var e=this;if(t){var n=Object(u.c)(t).reduce(function(t,n){return t?t[n]:e.initial(n)},null),i=Object(l.j)(n)?Object(s.a)({},n):n;this._optionManager.set(t,i,!1)}}},{key:"getAliasesByName",value:function(t){var e=this;return Object.keys(this._deprecated).filter(function(n){return t===e._deprecated[n].alias})}},{key:"isDeprecated",value:function(t){return Object.prototype.hasOwnProperty.call(this._deprecated,t)}},{key:"cache",value:function(t,e){if(arguments.length<2)return this._cachedOptions[t];this._cachedOptions[t]=Object(o.a)(this._cachedOptions[t],e)}},{key:"_initial",set:function(t){this._initialOptions=t},get:function(){if(!this._initialOptions){var t=this._getByRules(this.silent("defaultOptionsRules"));this._initialOptions=this._default,this._optionManager._setByReference(this._initialOptions,t)}return this._initialOptions}}]),t}(),v=n(32),y=n(137),_=n(38),b=n(43),C=n(118),O=n(108),x=n(41),S=n(16),w=function(){function t(){Object(r.a)(this,t),this._postponedOperations={}}return Object(a.a)(t,[{key:"add",value:function(t,e,n){if(t in this._postponedOperations)n&&this._postponedOperations[t].promises.push(n);else{var i=new S.a;this._postponedOperations[t]={fn:e,completePromise:i,promises:n?[n]:[]}}return this._postponedOperations[t].completePromise.promise()}},{key:"callPostponedOperations",value:function(){for(var t in this._postponedOperations){var e=this._postponedOperations[t];Object(l.d)(e)&&(e.promises&&e.promises.length?S.c.apply(void 0,Object(x.a)(e.promises)).done(e.fn).then(e.completePromise.resolve):e.fn().done(e.completePromise.resolve))}this._postponedOperations={}}}]),t}();n.d(e,"a",function(){return k});var P=function(t){return t.charAt(2).toLowerCase()+t.substr(3)},k=v.a.inherit({_setDeprecatedOptions:function(){this._deprecatedOptions={}},_getDeprecatedOptions:function(){return this._deprecatedOptions},_getDefaultOptions:function(){return{onInitialized:null,onOptionChanged:null,onDisposing:null,defaultOptionsRules:null}},_defaultOptionsRules:function(){return[]},_setOptionsByDevice:function(t){this._options.applyRules(t)},_convertRulesToOptions:function(t){return Object(d.a)(t)},_isInitialOptionValue:function(t){return this._options.isInitial(t)},_setOptionsByReference:function(){this._optionsByReference={}},_getOptionsByReference:function(){return this._optionsByReference},ctor:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t._optionChangedCallbacks,n=t._disposingCallbacks;this.NAME=Object(O.c)(this.constructor),this._eventsStrategy=C.a.create(this,t.eventsStrategy),this._updateLockCount=0,this._optionChangedCallbacks=e||Object(b.a)(),this._disposingCallbacks=n||Object(b.a)(),this.postponedOperations=new w,this._createOptions(t)},_createOptions:function(t){var e=this;this.beginUpdate();try{this._setOptionsByReference(),this._setDeprecatedOptions(),this._options=new g(this._getDefaultOptions(),this._getDefaultOptions(),this._getOptionsByReference(),this._getDeprecatedOptions()),this._options.onChanging(function(t,n,i){return e._initialized&&e._optionChanging(t,n,i)}),this._options.onDeprecated(function(t,n){return e._logDeprecatedOptionWarning(t,n)}),this._options.onChanged(function(t,n,i){return e._notifyOptionChanged(t,n,i)}),this._options.onStartChange(function(){return e.beginUpdate()}),this._options.onEndChange(function(){return e.endUpdate()}),this._options.addRules(this._defaultOptionsRules()),t&&t.onInitializing&&t.onInitializing.apply(this,[t]),this._setOptionsByDevice(t.defaultOptionsRules),this._initOptions(t)}finally{this.endUpdate()}},_initOptions:function(t){this.option(t)},_init:function(){var t=this;this._createOptionChangedAction(),this.on("disposing",function(e){t._disposingCallbacks.fireWith(t,[e])})},_logDeprecatedOptionWarning:function(t,e){var n=e.message||"Use the '".concat(e.alias,"' option instead");_.a.log("W0001",this.NAME,t,e.since,n)},_logDeprecatedComponentWarning:function(t,e){_.a.log("W0000",this.NAME,t,"Use the '".concat(e,"' widget instead"))},_createOptionChangedAction:function(){this._optionChangedAction=this._createActionByOption("onOptionChanged",{excludeValidators:["disabled","readOnly"]})},_createDisposingAction:function(){this._disposingAction=this._createActionByOption("onDisposing",{excludeValidators:["disabled","readOnly"]})},_optionChanged:function(t){switch(t.name){case"onDisposing":case"onInitialized":break;case"onOptionChanged":this._createOptionChangedAction()}},_dispose:function(){this._optionChangedCallbacks.empty(),this._createDisposingAction(),this._disposingAction(),this._eventsStrategy.dispose(),this._options.dispose(),this._disposed=!0},_lockUpdate:function(){this._updateLockCount++},_unlockUpdate:function(){this._updateLockCount=Math.max(this._updateLockCount-1,0)},_isUpdateAllowed:function(){return 0===this._updateLockCount},_isInitializingRequired:function(){return!this._initializing&&!this._initialized},isInitialized:function(){return this._initialized},_commitUpdate:function(){this.postponedOperations.callPostponedOperations(),this._isInitializingRequired()&&this._initializeComponent()},_initializeComponent:function(){this._initializing=!0;try{this._init()}finally{this._initializing=!1,this._lockUpdate(),this._createActionByOption("onInitialized",{excludeValidators:["disabled","readOnly"]})(),this._unlockUpdate(),this._initialized=!0}},instance:function(){return this},beginUpdate:function(){this._lockUpdate()},endUpdate:function(){this._unlockUpdate(),this._isUpdateAllowed()&&this._commitUpdate()},_optionChanging:c.noop,_notifyOptionChanged:function(t,e,n){if(this._initialized)for(var i=[t].concat(this._options.getAliasesByName(t)),r=0;r<i.length;r++){var a=i[r],s={name:Object(u.c)(a)[0],fullName:a,value:e,previousValue:n};0!==a.indexOf("_",0)&&(this._optionChangedCallbacks.fireWith(this,[Object(o.a)(this._defaultActionArgs(),s)]),this._optionChangedAction(Object(o.a)({},s))),this._disposed||this._cancelOptionChange===a||this._optionChanged(s)}},initialOption:function(t){return this._options.initial(t)},_defaultActionConfig:function(){return{context:this,component:this}},_defaultActionArgs:function(){return{component:this}},_createAction:function(t,e){var n,i=this;return function(r){return Object(l.d)(r)||(r={}),Object(l.k)(r)||(r={actionValue:r}),(n=n||new y.a(t,Object(o.a)(e,i._defaultActionConfig()))).execute.call(n,Object(o.a)(r,i._defaultActionArgs()))}},_createActionByOption:function(t,e){var n,o,r,a=this,s=function(){if(!o){if(e=e||{},"string"!==typeof t)throw _.a.Error("E0008");0===t.indexOf("on")&&(o=P(t)),r=a.option(t)}if(n||r||e.beforeExecute||e.afterExecute||a._eventsStrategy.hasEvent(o)){if(!n){var s=e.beforeExecute;e.beforeExecute=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];s&&s.apply(a,e),a._eventsStrategy.fireEvent(o,e[0].args)},n=a._createAction(r,e)}for(var l=arguments.length,u=new Array(l),h=0;h<l;h++)u[h]=arguments[h];return Object(i.a)().wrapActionsBeforeExecute?((a.option("beforeActionExecute")||c.noop)(a,n,e)||n).apply(a,u):n.apply(a,u)}};return Object(i.a)().wrapActionsBeforeExecute?s:(this.option("onActionCreated")||c.noop)(this,s,e)||s},on:function(t,e){return this._eventsStrategy.on(t,e),this},off:function(t,e){return this._eventsStrategy.off(t,e),this},hasActionSubscription:function(t){return!!this._options.silent(t)||this._eventsStrategy.hasEvent(P(t))},isOptionDeprecated:function(t){return this._options.isDeprecated(t)},_setOptionWithoutOptionChange:function(t,e){this._cancelOptionChange=t,this.option(t,e),this._cancelOptionChange=!1},_getOptionValue:function(t,e){var n=this.option(t);return Object(l.h)(n)?n.bind(e)():n},option:function(){var t;return(t=this._options).option.apply(t,arguments)},resetOption:function(t){this.beginUpdate(),this._options.reset(t),this.endUpdate()}})},,function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.DX_REMOVE_EVENT=e.ComponentBase=void 0;var r=n(130),a=n(4),s=n(218),l=n(267),c=n(271),u=n(272),h=n(273),d=n(230),p=n(275),f=n(174);e.DX_REMOVE_EVENT="dxremove";var m=function(t){function e(e){var n=t.call(this,e)||this;return n.isPortalComponent=!1,n._templateProps=[],n._childNodes=[],n.useRequestAnimationFrameFlag=!1,n.useDeferUpdateForTemplates=!1,n._setTemplatesRendererRef=n._setTemplatesRendererRef.bind(n),n._createWidget=n._createWidget.bind(n),n._templatesStore=new u.TemplatesStore(function(){n._templatesRendererRef&&n._templatesRendererRef.scheduleUpdate(n.useDeferUpdateForTemplates)}),n._templatesManager=new l.default(n._templatesStore),n._optionsManager=new h.OptionsManager(n._templatesManager),n}return i(e,t),e.displayContentsStyle=function(){return f.isIE()?{width:"100%",height:"100%",padding:0,margin:0}:{display:"contents"}},e.prototype.componentDidMount=function(){var t,e;(null===(e=this._childNodes)||void 0===e?void 0:e.length)?(t=this._element).append.apply(t,this._childNodes):this._element.childNodes.length&&(this._childNodes=Array.from(this._element.childNodes)),this._updateCssClasses(null,this.props)},e.prototype.componentDidUpdate=function(t){this._updateCssClasses(t,this.props);var e=this._getConfig();this._optionsManager.update(e),this._templatesRendererRef&&this._templatesRendererRef.scheduleUpdate(this.useDeferUpdateForTemplates,h.scheduleGuards),h.unscheduleGuards()},e.prototype.componentWillUnmount=function(){var t;this._instance&&(null===(t=this._childNodes)||void 0===t||t.forEach(function(t){var e;return null===(e=t.parentNode)||void 0===e?void 0:e.removeChild(t)}),r.triggerHandler(this._element,"dxremove"),this._instance.dispose()),this._optionsManager.dispose()},e.prototype._createWidget=function(t){t=t||this._element;var e=this._getConfig();this._instance=new this._WidgetClass(t,o({templatesRenderAsynchronously:!0},this._optionsManager.getInitialOptions(e))),this.useRequestAnimationFrameFlag||(this.useDeferUpdateForTemplates=this._instance.option("integrationOptions.useDeferUpdateForTemplates")),this._optionsManager.setInstance(this._instance,e,this.subscribableOptions,this.independentEvents),this._instance.on("optionChanged",this._optionsManager.onOptionChanged)},e.prototype._getConfig=function(){return p.buildConfigTree({templates:this._templateProps,initialValuesProps:this._defaults,predefinedValuesProps:{},expectedChildren:this._expectedChildren},this.props)},e.prototype._setTemplatesRendererRef=function(t){this._templatesRendererRef=t},e.prototype._getElementProps=function(){var t=this,e={ref:function(e){t._element=e}};return d.elementPropNames.forEach(function(n){var i=t.props;n in i&&(e[n]=i[n])}),e},e.prototype._updateCssClasses=function(t,e){var n,i,o=t?d.getClassName(t):void 0,r=d.getClassName(e);if(o!==r){var a;if(o)(a=o.split(" ").filter(function(t){return t})).length&&(n=this._element.classList).remove.apply(n,a);if(r)(a=r.split(" ").filter(function(t){return t})).length&&(i=this._element.classList).add.apply(i,a)}},e.prototype.renderChildren=function(){return this.props.children},e.prototype.renderContent=function(){var t=this,n=this.props.children;return this.isPortalComponent&&n?a.createElement("div",{ref:function(e){e&&t.portalContainer!==e&&(t.portalContainer=e,t.forceUpdate())},style:e.displayContentsStyle()}):this.renderChildren()},e.prototype.renderPortal=function(){return this.portalContainer&&s.createPortal(this.renderChildren(),this.portalContainer)},e.prototype.render=function(){return a.createElement(a.Fragment,{},a.createElement("div",this._getElementProps(),this.renderContent(),a.createElement(c.TemplatesRenderer,{templatesStore:this._templatesStore,ref:this._setTemplatesRendererRef})),this.isPortalComponent&&this.renderPortal())},e}(a.PureComponent);e.ComponentBase=m},function(t,e,n){"use strict";var i=n(3);e.a={_formatNumberCore:function(t,e,n){if("currency"===e){n.precision=n.precision||0;var o=this.format(t,Object(i.a)({},n,{type:"fixedpoint"})),r=this.getCurrencySymbol().symbol.replace(/\$/g,"$$$$");return o=o.replace(/^(\D*)(\d.*)/,"$1"+r+"$2")}return this.callBase.apply(this,arguments)},getCurrencySymbol:function(){return{symbol:"$"}},getOpenXmlCurrencyFormat:function(){return"$#,##0{0}_);\\($#,##0{0}\\)"}}},function(t,e,n){"use strict";var i=n(2),o=n(5),r=n(1),a=n(3),s=n(9),l=n(16),c=n(33),u=n(38),h=n(17),d=n(8),p=n(26),f=n(11),m=n(15),g=n(7),v=n(55),y=n(166),_=n(163),b=n(42),C=n(10),O=n(20),x=n(86),S=n(89),w=n(37),P=n(165),k=n(143),E=n(199),T=Object(a.a)({},P.a,{_dataExpressionDefaultOptions:function(){return{items:[],dataSource:null,itemTemplate:"item",value:null,valueExpr:"this",displayExpr:void 0}},_initDataExpressions:function(){this._compileValueGetter(),this._compileDisplayGetter(),this._initDynamicTemplates(),this._initDataSource(),this._itemsToDataSource()},_itemsToDataSource:function(){this.option("dataSource")||(this._dataSource=new k.a({store:new E.a(this.option("items")),pageSize:0}),this._initDataController())},_compileDisplayGetter:function(){this._displayGetter=Object(w.a)(this._displayGetterExpr())},_displayGetterExpr:function(){return this.option("displayExpr")},_compileValueGetter:function(){this._valueGetter=Object(w.a)(this._valueGetterExpr())},_valueGetterExpr:function(){return this.option("valueExpr")||"this"},_loadValue:function(t){var e=new l.a;return t=this._unwrappedValue(t),Object(r.d)(t)?(this._loadSingle(this._valueGetterExpr(),t).done(function(n){this._isValueEquals(this._valueGetter(n),t)?e.resolve(n):e.reject()}.bind(this)).fail(function(){e.reject()}),this._loadValueDeferred=e,e.promise()):e.reject().promise()},_rejectValueLoading:function(){var t;null===(t=this._loadValueDeferred)||void 0===t||t.reject({shouldSkipCallback:!0})},_getCurrentValue:function(){return this.option("value")},_unwrappedValue:function(t){var e;return(t=null!==(e=t)&&void 0!==e?e:this._getCurrentValue())&&this._dataSource&&"this"===this._valueGetterExpr()&&(t=this._getItemKey(t)),S.a.unwrap(t)},_getItemKey:function(t){var e=this._dataSource.key();if(Array.isArray(e)){for(var n={},i=0,o=e.length;i<o;i++)n[e[i]]=t[e[i]];return n}return e&&"object"===typeof t&&(t=t[e]),t},_isValueEquals:function(t,e){var n=this._dataSource&&this._dataSource.key(),i=this._compareValues(t,e);return!i&&n&&Object(r.d)(t)&&Object(r.d)(e)&&(i=Array.isArray(n)?this._compareByCompositeKey(t,e,n):this._compareByKey(t,e,n)),i},_compareByCompositeKey:function(t,e,n){var i=r.j;if(!i(t)||!i(e))return!1;for(var o=0,a=n.length;o<a;o++)if(t[n[o]]!==e[n[o]])return!1;return!0},_compareByKey:function(t,e,n){var i=S.a.unwrap,r=Object(o.ensureDefined)(i(t[n]),t),a=Object(o.ensureDefined)(i(e[n]),e);return this._compareValues(r,a)},_compareValues:function(t,e){return Object(w.d)(t,!0)===Object(w.d)(e,!0)},_initDynamicTemplates:o.noop,_setCollectionWidgetItemTemplate:function(){this._initDynamicTemplates(),this._setCollectionWidgetOption("itemTemplate",this.option("itemTemplate"))},_getCollectionKeyExpr:function(){var t=this.option("valueExpr");return Object(r.o)(t)&&"this"!==t||Object(r.h)(t)?t:null},_dataExpressionOptionChanged:function(t){switch(t.name){case"items":this._itemsToDataSource(),this._setCollectionWidgetOption("items");break;case"dataSource":this._initDataSource();break;case"itemTemplate":this._setCollectionWidgetItemTemplate();break;case"valueExpr":this._compileValueGetter();break;case"displayExpr":this._compileDisplayGetter(),this._initDynamicTemplates(),this._setCollectionWidgetOption("displayExpr")}}}),I=n(154),j=n(206),M=Object(m.d)(),D=["startswith","contains","endwith","notcontains"],A="android"!==O.a.real().platform,R=y.a.inherit({_supportedKeys:function(){var t=this.callBase();return Object(a.a)({},t,{tab:function(e){if(this._allowSelectItemByTab()){this._saveValueChangeEvent(e);var n=Object(i.a)(this._list.option("focusedElement"));n.length&&this._setSelectedElement(n)}t.tab.apply(this,arguments)},space:o.noop,home:o.noop,end:o.noop})},_allowSelectItemByTab:function(){return this.option("opened")&&"instantly"===this.option("applyValueMode")},_setSelectedElement:function(t){var e=this._valueGetter(this._list._getItemData(t));this._setValue(e)},_setValue:function(t){this.option("value",t)},_getDefaultOptions:function(){return Object(a.a)(this.callBase(),Object(a.a)(T._dataExpressionDefaultOptions(),{displayValue:void 0,searchEnabled:!1,searchMode:"contains",searchTimeout:500,minSearchLength:0,searchExpr:null,valueChangeEvent:"input change keyup",selectedItem:null,noDataText:d.a.format("dxCollectionWidget-noDataText"),encodeNoDataText:!1,onSelectionChanged:null,onItemClick:o.noop,showDataBeforeSearch:!1,grouped:!1,groupTemplate:"group",popupPosition:{my:"left top",at:"left bottom",offset:{h:0,v:0},collision:"flip"},wrapItemText:!1,useItemTextAsTitle:!1}))},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{popupPosition:{offset:{v:-1}}}},{device:{platform:"generic"},options:{buttonsLocation:"bottom center"}}])},_setOptionsByReference:function(){this.callBase(),Object(a.a)(this._optionsByReference,{value:!0,selectedItem:!0,displayValue:!0})},_init:function(){this.callBase(),this._initDataExpressions(),this._initActions(),this._setListDataSource(),this._validateSearchMode(),this._clearSelectedItem(),this._initItems()},_setListFocusedElementOptionChange:function(){this._list._updateParentActiveDescendant=this._updateActiveDescendant.bind(this)},_initItems:function(){var t=this.option().items;t&&!t.length&&this._dataSource&&(this.option().items=this._dataSource.items())},_initActions:function(){this._initContentReadyAction(),this._initSelectionChangedAction(),this._initItemClickAction()},_initContentReadyAction:function(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initSelectionChangedAction:function(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new I.a("item")})},_isEditable:function(){return this.callBase()||this.option("searchEnabled")},_saveFocusOnWidget:function(t){this._list&&this._list.initialOption("focusStateEnabled")&&this._focusInput()},_fitIntoRange:function(t,e,n){return t>n?e:t<e?n:t},_items:function(){var t=this._getPlainItems(!this._list&&this._dataSource.items());return new x.a(t).filter("disabled","<>",!0).toArray()},_calcNextItem:function(t){var e=this._items();return e[this._fitIntoRange(this._getSelectedIndex()+t,0,e.length-1)]},_getSelectedIndex:function(){var t=this._items(),e=this.option("selectedItem"),n=-1;return Object(s.a)(t,function(t,i){if(this._isValueEquals(i,e))return n=t,!1}.bind(this)),n},_createPopup:function(){this.callBase(),this._updateCustomBoundaryContainer(),this._popup.$wrapper().addClass(this._popupWrapperClass());var t=this._popup.$content();g.a.off(t,"mouseup"),g.a.on(t,"mouseup",this._saveFocusOnWidget.bind(this))},_updateCustomBoundaryContainer:function(){var t=this.option("dropDownOptions.container"),e=t&&Object(i.a)(t);if(e&&e.length&&!Object(r.p)(e.get(0))){var n=[].slice.call(e.parents());n.unshift(e.get(0)),Object(s.a)(n,function(t,e){return e!==Object(i.a)("body").get(0)&&("hidden"===M.getComputedStyle(e).overflowY?(this._$customBoundaryContainer=Object(i.a)(e),!1):void 0)}.bind(this))}},_popupWrapperClass:function(){return"dx-dropdownlist-popup-wrapper"},_renderInputValue:function(){var t=this._getCurrentValue();return this._rejectValueLoading(),this._loadInputValue(t,this._setSelectedItem.bind(this)).always(this.callBase.bind(this,t))},_loadInputValue:function(t,e){return this._loadItem(t).always(e)},_getItemFromPlain:function(t,e){var n,i;return e&&"object"!==typeof t&&(e.itemByValue||(e.itemByValue={},(n=this._getPlainItems()).forEach(function(t){e.itemByValue[this._valueGetter(t)]=t},this)),i=e.itemByValue[t]),i||(n=this._getPlainItems(),i=Object(o.grep)(n,function(e){return this._isValueEquals(this._valueGetter(e),t)}.bind(this))[0]),i},_loadItem:function(t,e){var n=this._getItemFromPlain(t,e);return void 0!==n?(new l.a).resolve(n).promise():this._loadValue(t)},_getPlainItems:function(t){var e=[];t=t||this.option("items")||this._dataSource.items()||[];for(var n=0;n<t.length;n++)t[n]&&t[n].items?e=e.concat(t[n].items):e.push(t[n]);return e},_updateActiveDescendant:function(){var t,e=this.option("opened"),n=null===(t=this._list)||void 0===t?void 0:t.getFocusedItemId(),o=Object(i.a)("#".concat(n)).length>0,r=e&&o&&n;this.setAria({activedescendant:r||null})},_setSelectedItem:function(t){var e=this._displayValue(t);this.option("selectedItem",Object(o.ensureDefined)(t,null)),this.option("displayValue",e)},_displayValue:function(t){return this._displayGetter(t)},_refreshSelected:function(){var t={};this._listItemElements().each(function(e,n){var o=Object(i.a)(n),r=this._valueGetter(o.data("dxListItemData"));this._isSelectedValue(r,t)?this._list.selectItem(o):this._list.unselectItem(o)}.bind(this))},_popupShownHandler:function(){this.callBase(),this._setFocusPolicy()},_setFocusPolicy:function(){this.option("focusStateEnabled")&&this._list&&this._list.option("focusedElement",null)},_isSelectedValue:function(t){return this._isValueEquals(t,this.option("value"))},_validateSearchMode:function(){var t=this.option("searchMode"),e=t.toLowerCase();if(!D.includes(e))throw b.a.Error("E1019",t)},_clearSelectedItem:function(){this.option("selectedItem",null)},_processDataSourceChanging:function(){this._initDataController(),this._setListOption("_dataController",this._dataController),this._setListDataSource(),this._renderInputValue().fail(function(){this._isCustomValueAllowed()||this._clearSelectedItem()}.bind(this))},_isCustomValueAllowed:function(){return this.option("displayCustomValue")},reset:function(){this.callBase(),this._clearFilter(),this._clearSelectedItem()},_listItemElements:function(){return this._$list?this._$list.find(".dx-list-item"):Object(i.a)()},_popupConfig:function(){return Object(a.a)(this.callBase(),{templatesRenderAsynchronously:!1,autoResizeEnabled:!1,maxHeight:this._getMaxHeight.bind(this)})},_renderPopupContent:function(){this.callBase(),this._renderList()},_getKeyboardListeners:function(){var t=this._canListHaveFocus();return this.callBase().concat([!t&&this._list])},_setAriaTargetForList:function(){this._list._getAriaTarget=this._getAriaTarget.bind(this)},_renderList:function(){this._listId="dx-"+(new v.a)._value;var t=this._$list=Object(i.a)("<div>").attr("id",this._listId).appendTo(this._popup.$content());this._list=this._createComponent(t,_.a,this._listConfig()),this._refreshList(),this._setAriaTargetForList(),this._list.option("_listAttributes",{role:"combobox"}),this._renderPreventBlurOnListClick(),this._setListFocusedElementOptionChange()},_renderPreventBlurOnListClick:function(){var t=Object(C.a)("mousedown","dxDropDownList");g.a.off(this._$list,t),g.a.on(this._$list,t,function(t){return t.preventDefault()})},_getControlsAria:function(){return this._list&&this._listId},_renderOpenedState:function(){this.callBase(),this._list&&this._updateActiveDescendant(),this.setAria("owns",this._popup&&this._popupContentId)},_setDefaultAria:function(){this.setAria({haspopup:"listbox",autocomplete:"list"})},_refreshList:function(){this._list&&this._shouldRefreshDataSource()&&this._setListDataSource()},_shouldRefreshDataSource:function(){return!!this._list.option("dataSource")!==this._needPassDataSourceToList()},_isDesktopDevice:function(){return"desktop"===O.a.real().deviceType},_listConfig:function(){var t={selectionMode:"single",_templates:this.option("_templates"),templateProvider:this.option("templateProvider"),noDataText:this.option("noDataText"),encodeNoDataText:this.option("encodeNoDataText"),grouped:this.option("grouped"),wrapItemText:this.option("wrapItemText"),useItemTextAsTitle:this.option("useItemTextAsTitle"),onContentReady:this._listContentReadyHandler.bind(this),itemTemplate:this.option("itemTemplate"),indicateLoading:!1,keyExpr:this._getCollectionKeyExpr(),displayExpr:this._displayGetterExpr(),groupTemplate:this.option("groupTemplate"),onItemClick:this._listItemClickAction.bind(this),dataSource:this._getDataSource(),_dataController:this._dataController,hoverStateEnabled:!!this._isDesktopDevice()&&this.option("hoverStateEnabled"),focusStateEnabled:!!this._isDesktopDevice()&&this.option("focusStateEnabled")};return this._canListHaveFocus()||(t.tabIndex=null),t},_canListHaveFocus:function(){return!1},_getDataSource:function(){return this._needPassDataSourceToList()?this._dataSource:null},_dataSourceOptions:function(){return{paginate:!1}},_getGroupedOption:function(){return this.option("grouped")},_dataSourceFromUrlLoadMode:function(){return"raw"},_listContentReadyHandler:function(){this._list=this._list||this._$list.dxList("instance"),this.option("deferRendering")||this._refreshSelected(),this._updatePopupWidth(),this._updateListDimensions(),this._contentReadyAction()},_setListOption:function(t,e){this._setWidgetOption("_list",arguments)},_listItemClickAction:function(t){this._listItemClickHandler(t),this._itemClickAction(t)},_listItemClickHandler:o.noop,_setListDataSource:function(){this._list&&(this._setListOption("dataSource",this._getDataSource()),this._needPassDataSourceToList()||this._setListOption("items",[]))},_needPassDataSourceToList:function(){return this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded()},_isMinSearchLengthExceeded:function(){return this._searchValue().toString().length>=this.option("minSearchLength")},_needClearFilter:function(){return!this._canKeepDataSource()&&this._needPassDataSourceToList()},_canKeepDataSource:function(){var t=this._isMinSearchLengthExceeded();return this._dataController.isLoaded()&&this.option("showDataBeforeSearch")&&this.option("minSearchLength")&&!t&&!this._isLastMinSearchLengthExceeded},_searchValue:function(){return this._input().val()||""},_getSearchEvent:function(){return Object(C.a)("input",this.NAME+"Search")},_getCompositionStartEvent:function(){return Object(C.a)("compositionstart",this.NAME+"CompositionStart")},_getCompositionEndEvent:function(){return Object(C.a)("compositionend",this.NAME+"CompositionEnd")},_getSetFocusPolicyEvent:function(){return Object(C.a)("input",this.NAME+"FocusPolicy")},_renderEvents:function(){var t=this;this.callBase(),g.a.on(this._input(),this._getSetFocusPolicyEvent(),function(){t._setFocusPolicy()}),this._shouldRenderSearchEvent()&&(g.a.on(this._input(),this._getSearchEvent(),function(e){t._searchHandler(e)}),A&&(g.a.on(this._input(),this._getCompositionStartEvent(),function(){t._isTextCompositionInProgress(!0)}),g.a.on(this._input(),this._getCompositionEndEvent(),function(e){t._isTextCompositionInProgress(void 0),t._searchHandler(e,t._searchValue())})))},_shouldRenderSearchEvent:function(){return this.option("searchEnabled")},_refreshEvents:function(){g.a.off(this._input(),this._getSearchEvent()),g.a.off(this._input(),this._getSetFocusPolicyEvent()),A&&(g.a.off(this._input(),this._getCompositionStartEvent()),g.a.off(this._input(),this._getCompositionEndEvent())),this.callBase()},_isTextCompositionInProgress:function(t){if(!arguments.length)return this._isTextComposition;this._isTextComposition=t},_searchHandler:function(t,e){var n=this;if(!this._isTextCompositionInProgress())if(this._isMinSearchLengthExceeded()){var i=this.option("searchTimeout");i?(this._clearSearchTimer(),this._searchTimer=setTimeout(function(){n._searchDataSource(e)},i)):this._searchDataSource(e)}else this._searchCanceled()},_searchCanceled:function(){this._clearSearchTimer(),this._needClearFilter()&&this._filterDataSource(null),this._refreshList()},_searchDataSource:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._searchValue();this._filterDataSource(t)},_filterDataSource:function(t){this._clearSearchTimer();var e=this._dataController;e.searchExpr(this.option("searchExpr")||this._displayGetterExpr()),e.searchOperation(this.option("searchMode")),e.searchValue(t),e.load().done(this._dataSourceFiltered.bind(this,t))},_clearFilter:function(){var t=this._dataController;t.searchValue()&&t.searchValue(null)},_dataSourceFiltered:function(){this._isLastMinSearchLengthExceeded=this._isMinSearchLengthExceeded(),this._refreshList(),this._refreshPopupVisibility()},_shouldOpenPopup:function(){return this._hasItemsToShow()},_refreshPopupVisibility:function(){if(!this.option("readOnly")&&this._searchValue()){var t=this._shouldOpenPopup();t&&!this._isFocused()||(this.option("opened",t),t&&(this._updatePopupWidth(),this._updateListDimensions()))}},_dataSourceChangedHandler:function(t){0===this._dataController.pageIndex()?this.option().items=t:this.option().items=this.option().items.concat(t)},_hasItemsToShow:function(){var t=(this._dataController.items()||[]).length;return!(!this._needPassDataSourceToList()||!t)},_clearSearchTimer:function(){clearTimeout(this._searchTimer),delete this._searchTimer},_popupShowingHandler:function(){this._updatePopupWidth(),this._updateListDimensions()},_dimensionChanged:function(){this.callBase(),this._updateListDimensions()},_needPopupRepaint:function(){var t=this._dataController,e=t.pageIndex(),n=Object(r.d)(this._pageIndex)&&e<=this._pageIndex||t.isLastPage()&&!this._list._scrollViewIsFull();return this._pageIndex=e,n},_updateListDimensions:function(){this._popup&&(this._needPopupRepaint()&&this._popup.repaint(),this._list&&this._list.updateDimensions())},_getMaxHeight:function(){var t=this.$element(),e=this._$customBoundaryContainer,n=t.offset().top-(e?e.offset().top:0),i=Object(f.g)(M),o=e?Math.min(Object(f.g)(e),i):i,r=Math.max(n,o-n-Object(f.g)(t));return Math.min(.5*o,r)},_clean:function(){this._list&&delete this._list,delete this._isLastMinSearchLengthExceeded,this.callBase()},_dispose:function(){this._clearSearchTimer(),this.callBase()},_setCollectionWidgetOption:function(){this._setListOption.apply(this,arguments)},_setSubmitValue:function(){var t=this.option("value"),e=this._shouldUseDisplayValue(t)?this._displayGetter(t):t;this._getSubmitElement().val(e)},_shouldUseDisplayValue:function(t){return"this"===this.option("valueExpr")&&Object(r.j)(t)},_optionChanged:function(t){switch(this._dataExpressionOptionChanged(t),t.name){case"hoverStateEnabled":case"focusStateEnabled":this._isDesktopDevice()&&this._setListOption(t.name,t.value),this.callBase(t);break;case"items":this.option("dataSource")||this._processDataSourceChanging();break;case"dataSource":this._processDataSourceChanging();break;case"valueExpr":this._renderValue(),this._setListOption("keyExpr",this._getCollectionKeyExpr());break;case"displayExpr":this._renderValue(),this._setListOption("displayExpr",this._displayGetterExpr());break;case"searchMode":this._validateSearchMode();break;case"minSearchLength":this._refreshList();break;case"searchEnabled":case"showDataBeforeSearch":case"searchExpr":this._invalidate();break;case"onContentReady":this._initContentReadyAction();break;case"onSelectionChanged":this._initSelectionChangedAction();break;case"onItemClick":this._initItemClickAction();break;case"grouped":case"groupTemplate":case"wrapItemText":case"noDataText":case"encodeNoDataText":case"useItemTextAsTitle":this._setListOption(t.name);break;case"displayValue":this.option("text",t.value);break;case"itemTemplate":case"searchTimeout":break;case"selectedItem":t.previousValue!==t.value&&this._selectionChangedAction({selectedItem:t.value});break;default:this.callBase(t)}}}).include(T,j.a);Object(p.a)("dxDropDownList",R);var B=R,L=(n(232),B.inherit({_supportedKeys:function(){var t=this,e=this.callBase(),n=function(t){this._isEditable()?this._valueSubstituted()&&(this._preventFiltering=!0):this.option("showClearButton")&&(t.preventDefault(),this.reset()),this._savedTextRemoveEvent=t,this._preventSubstitution=!0},i=function(){t.option("searchEnabled")&&t._valueSubstituted()&&t._searchHandler()};return Object(a.a)({},e,{tab:function(){this.option("opened")&&"instantly"===this.option("applyValueMode")&&this._resetCaretPosition(!0),e.tab&&e.tab.apply(this,arguments),this._cancelSearchIfNeed()},upArrow:function(t){if(e.upArrow&&e.upArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(t),!0},downArrow:function(t){if(e.downArrow&&e.downArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(t),!0},leftArrow:function(){i(),e.leftArrow&&e.leftArrow.apply(this,arguments)},rightArrow:function(){i(),e.rightArrow&&e.rightArrow.apply(this,arguments)},home:function(){i(),e.home&&e.home.apply(this,arguments)},end:function(){i(),e.end&&e.end.apply(this,arguments)},escape:function(){var t=e.escape&&e.escape.apply(this,arguments);return this._cancelEditing(),null===t||void 0===t||t},enter:function(t){var n=this.option("opened"),i=this._input().val().trim(),o=i&&this._list&&!this._list.option("focusedElement");if(!i&&Object(r.d)(this.option("value"))&&this.option("allowClearing"))this._saveValueChangeEvent(t),this.option({selectedItem:null,value:null}),this.close();else{if(this.option("acceptCustomValue"))return t.preventDefault(),o&&(n&&this._toggleOpenState(),this._valueChangeEventHandler(t)),n;if(e.enter&&e.enter.apply(this,arguments))return n}},space:function(t){var e=this.option("opened"),n=this.option("searchEnabled"),i=this.option("acceptCustomValue");if(e&&!n&&!i)return t.preventDefault(),this._valueChangeEventHandler(t),!0},backspace:n,del:n})},_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{placeholder:d.a.format("Select"),fieldTemplate:null,customItemCreateEvent:"change",valueChangeEvent:"change",acceptCustomValue:!1,onCustomItemCreating:function(t){Object(r.d)(t.customItem)||(t.customItem=t.text)},showSelectionControls:!1,allowClearing:!0,tooltipEnabled:!1,openOnFieldClick:!0,showDropDownButton:!0,displayCustomValue:!1,useHiddenSubmitElement:!0})},_init:function(){this.callBase(),this._initCustomItemCreatingAction()},_initMarkup:function(){this.$element().addClass("dx-selectbox"),this._renderTooltip(),this.callBase(),this._$container.addClass("dx-selectbox-container")},_createPopup:function(){this.callBase(),this._popup.$element().addClass("dx-selectbox-popup"),this._popup.$overlayContent().attr("tabindex",-1)},_popupWrapperClass:function(){return this.callBase()+" dx-selectbox-popup-wrapper"},_setDeprecatedOptions:function(){this.callBase(),Object(a.a)(this._deprecatedOptions,{valueChangeEvent:{since:"22.2",alias:"customItemCreateEvent"}})},_cancelEditing:function(){!this.option("searchEnabled")&&this._list&&(this._focusListElement(null),this._updateField(this.option("selectedItem")))},_renderOpenedState:function(){this.callBase(),this.option("opened")&&(this._scrollToSelectedItem(),this._focusSelectedElement())},_focusSelectedElement:function(){var t;if(this._searchValue()){var e=this.option(),n=e.items,i=e.selectedItem,o=this._list._itemElements(),r=null!==(t=null===n||void 0===n?void 0:n.indexOf(i))&&void 0!==t?t:-1,a=-1===r||this._isCustomItemSelected()?null:o.eq(r);this._focusListElement(a)}else this._focusListElement(null)},_renderFocusedElement:function(){if(this._list)if(this._searchValue()&&!this.option("acceptCustomValue")){var t=this._list._itemElements().not(".dx-state-disabled").eq(0);this._focusListElement(t)}else this._focusListElement(null)},_focusListElement:function(t){this._preventInputValueRender=!0,this._list.option("focusedElement",Object(c.a)(t)),delete this._preventInputValueRender},_scrollToSelectedItem:function(){this._list&&this._list.scrollToItem(this._list.option("selectedItem"))},_listContentReadyHandler:function(){this.callBase(),this._dataController.paginate()&&this._needPopupRepaint()||this._scrollToSelectedItem()},_renderValue:function(){return this._renderInputValue(),this._setSubmitValue(),(new l.a).resolve()},_renderInputValue:function(){return this.callBase().always(function(){this._renderInputValueAsync()}.bind(this))},_renderInputValueAsync:function(){this._renderTooltip(),this._renderInputValueImpl().always(function(){this._refreshSelected()}.bind(this))},_renderInputValueImpl:function(){return this._renderField(),(new l.a).resolve()},_setNextItem:function(t){var e=this._calcNextItem(t),n=this._valueGetter(e);this._setValue(n)},_setNextValue:function(t){(this._dataController.isLoaded()?(new l.a).resolve():this._dataController.load()).done(function(){var e=this._getSelectedIndex(),n=this._dataController.pageSize(),i=this._dataController.isLastPage(),o=e===this._items().length-1;this._saveValueChangeEvent(t);var r="downArrow"===Object(C.n)(t)?1:-1;n&&!i&&o&&r>0?(this._popup||this._createPopup(),this._dataController.isLoading()||this._list._loadNextPage().done(this._setNextItem.bind(this,r))):this._setNextItem(r)}.bind(this))},_setSelectedItem:function(t){var e=!this._isCustomValueAllowed()&&void 0===t;this.callBase(e?null:t),e||this._isEditable()&&!this._isCustomItemSelected()||this._setListOption("selectedItem",this.option("selectedItem"))},_isCustomValueAllowed:function(){return this.option("acceptCustomValue")||this.callBase()},_displayValue:function(t){return t=!Object(r.d)(t)&&this._isCustomValueAllowed()?this.option("value"):t,this.callBase(t)},_listConfig:function(){var t=Object(a.a)(this.callBase(),{pageLoadMode:"scrollBottom",onSelectionChanged:this._getSelectionChangeHandler(),selectedItem:this.option("selectedItem"),onFocusedItemChanged:this._listFocusedItemChangeHandler.bind(this)});return this.option("showSelectionControls")&&Object(a.a)(t,{showSelectionControls:!0,selectionByClick:!0}),t},_listFocusedItemChangeHandler:function(t){if(!this._preventInputValueRender){var e=t.component,n=Object(i.a)(e.option("focusedElement")),o=e._getItemData(n);this._updateField(o)}},_updateField:function(t){if(!this._getTemplateByOption("fieldTemplate")||!this.option("fieldTemplate")){var e=this._displayGetter(t);return this.option("text",e),void this._renderDisplayText(e)}this._renderField()},_getSelectionChangeHandler:function(){return this.option("showSelectionControls")?this._selectionChangeHandler.bind(this):o.noop},_selectionChangeHandler:function(t){Object(s.a)(t.addedItems||[],function(t,e){this._setValue(this._valueGetter(e))}.bind(this))},_getActualSearchValue:function(){return this._dataController.searchValue()},_toggleOpenState:function(t){if(!this.option("disabled")){if((t=arguments.length?t:!this.option("opened"))||this._shouldClearFilter()||this._restoreInputText(!0),this._wasSearch()&&t)if(this._wasSearch(!1),(this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded())&&this._dataController.getDataSource()){if(this._searchTimer)return;var e=this._getActualSearchValue();e&&this._wasSearch(!0),this._filterDataSource(e||null)}else this._setListOption("items",[]);t&&this._scrollToSelectedItem(),this.callBase(t)}},_renderTooltip:function(){this.option("tooltipEnabled")&&this.$element().attr("title",this.option("displayValue"))},_renderDimensions:function(){this.callBase(),this._updatePopupWidth(),this._updateListDimensions()},_isValueEqualInputText:function(){var t=this.option("selectedItem");if(null===t)return!1;var e=this._displayGetter(t);return(e?String(e):"")===this._searchValue()},_popupHidingHandler:function(){this._isValueEqualInputText()&&this._cancelEditing(),this.callBase()},_popupHiddenHandler:function(){this.callBase(),this._shouldCancelSearch()&&(this._wasSearch(!1),this._searchCanceled(),this._shouldCancelSearch(!1))},_restoreInputText:function(t){this.option("readOnly")||this._loadItemDeferred&&this._loadItemDeferred.always(function(){var e=this.option(),n=e.acceptCustomValue,i=e.text,r=e.selectedItem;n?t||this._isValueChanging||(this._updateField(null!==r&&void 0!==r?r:this._createCustomItem(i)),this._clearFilter()):this.option("searchEnabled")&&!this._searchValue()&&this.option("allowClearing")?this._clearTextValue():this._isValueEqualInputText()||this._renderInputValue().always(function(t){var e=Object(o.ensureDefined)(t,r);this._setSelectedItem(e),this._updateField(e),this._clearFilter()}.bind(this))}.bind(this))},_valueChangeEventIncludesBlur:function(){return this.option(this._getValueChangeEventOptionName()).includes("blur")},_isPreventedFocusOutEvent:function(t){return this._preventNestedFocusEvent(t)||this._valueChangeEventIncludesBlur()},_focusOutHandler:function(t){this._isPreventedFocusOutEvent(t)||(this._isOverlayNestedTarget(t.relatedTarget)||(this._restoreInputText(),this._clearSearchTimer()),this._cancelSearchIfNeed(t));t.target=this._input().get(0),this.callBase(t)},_cancelSearchIfNeed:function(t){var e=this.option().searchEnabled,n=this._isOverlayNestedTarget(null===t||void 0===t?void 0:t.relatedTarget);if(this._wasSearch()&&e&&!n){var i,o=null===(i=this._popup)||void 0===i?void 0:i._hideAnimationProcessing;this._clearSearchTimer(),o?this._shouldCancelSearch(!0):(this._wasSearch(!1),this._searchCanceled())}},_shouldCancelSearch:function(t){if(!arguments.length)return this._shouldCancelSearchValue;this._shouldCancelSearchValue=t},_isOverlayNestedTarget:function(t){return!!Object(i.a)(t).closest(".".concat("dx-selectbox-popup-wrapper")).length},_clearTextValue:function(){this.option("selectedItem")&&(this._savedTextRemoveEvent&&this._saveValueChangeEvent(this._savedTextRemoveEvent),this.option("value",null)),delete this._savedTextRemoveEvent},_shouldOpenPopup:function(){return this._needPassDataSourceToList()&&this._wasSearch()},_isFocused:function(){var t=h.a.getActiveElement(this.element());return this.callBase()&&Object(i.a)(t).closest(this._input()).length>0},_getValueChangeEventOptionName:function(){return"customItemCreateEvent"},_renderValueChangeEvent:function(){this._isEditable()&&this.callBase()},_fieldRenderData:function(){var t=this._list&&this.option("opened")&&Object(i.a)(this._list.option("focusedElement"));return t&&t.length?this._list._getItemData(t):this.option("selectedItem")},_isSelectedValue:function(t){return this._isValueEquals(t,this.option("value"))},_shouldCloseOnItemClick:function(){return!(this.option("showSelectionControls")&&"single"!==this.option("selectionMode"))},_listItemClickHandler:function(t){var e=this._getCurrentValue();this._focusListElement(Object(i.a)(t.itemElement)),this._saveValueChangeEvent(t.event),this._completeSelection(this._valueGetter(t.itemData)),this._shouldCloseOnItemClick()&&this.option("opened",!1),this.option("searchEnabled")&&e===this._valueGetter(t.itemData)&&this._updateField(t.itemData),this._shouldClearFilter()&&this._cancelSearchIfNeed()},_shouldClearFilter:function(){return this._wasSearch()},_completeSelection:function(t){this._setValue(t)},_loadItem:function(t,e){var n=this,i=new l.a;return this.callBase(t,e).done(function(t){i.resolve(t)}.bind(this)).fail(function(e){if(null===e||void 0===e||!e.shouldSkipCallback){var o=n.option("selectedItem");n.option("acceptCustomValue")&&t===n._valueGetter(o)?i.resolve(o):i.reject()}}.bind(this)),i.promise()},_loadInputValue:function(t,e){return this._loadItemDeferred=this._loadItem(t).always(e),this._loadItemDeferred},_isCustomItemSelected:function(){var t=this.option("selectedItem"),e=this._searchValue(),n=this._displayGetter(t);return!n||e!==n.toString()},_valueChangeEventHandler:function(t){this.option("acceptCustomValue")&&this._isCustomItemSelected()&&!this._isValueChanging&&(this._isValueChanging=!0,this._customItemAddedHandler(t))},_initCustomItemCreatingAction:function(){this._customItemCreatingAction=this._createActionByOption("onCustomItemCreating")},_createCustomItem:function(t){var e={text:t},n=this._customItemCreatingAction(e),i=Object(o.ensureDefined)(n,e.customItem);return Object(r.d)(n)&&u.a.log("W0015","onCustomItemCreating","customItem"),i},_customItemAddedHandler:function(t){var e=this._searchValue(),n=this._createCustomItem(e);if(this._saveValueChangeEvent(t),void 0===n)throw this._renderValue(),u.a.Error("E0121");Object(r.m)(n)?Object(l.b)(n).done(this._setCustomItem.bind(this)).fail(this._setCustomItem.bind(this,null)):this._setCustomItem(n)},_setCustomItem:function(t){this._disposed||(t=t||null,this.option("selectedItem",t),this._cancelSearchIfNeed(),this._setValue(this._valueGetter(t)),this._renderDisplayText(this._displayGetter(t)),this._isValueChanging=!1)},_clearValueHandler:function(t){return this._preventFiltering=!0,this.callBase(t),this._searchCanceled(),!1},_wasSearch:function(t){if(!arguments.length)return!!this._wasSearchValue;this._wasSearchValue=t},_searchHandler:function(){this._preventFiltering?delete this._preventFiltering:(this._needPassDataSourceToList()&&this._wasSearch(!0),this.callBase(arguments))},_dataSourceFiltered:function(t){this.callBase(),null!==t&&(this._renderInputSubstitution(),this._renderFocusedElement())},_valueSubstituted:function(){var t=this._input().get(0),e=this._searchValue().length,n=0===t.selectionStart&&t.selectionEnd===e,i=t.selectionStart!==t.selectionEnd,o=e===t.selectionEnd;return this._wasSearch()&&i&&!n&&o&&this._shouldSubstitutionBeRendered()},_shouldSubstitutionBeRendered:function(){return!this._preventSubstitution&&this.option("searchEnabled")&&!this.option("acceptCustomValue")&&"startswith"===this.option("searchMode")},_renderInputSubstitution:function(){if(this._shouldSubstitutionBeRendered()){var t=this._list&&this._getPlainItems(this._list.option("items"))[0];if(t){var e=this._input(),n=e.val().length;if(0!==n){var i=e.get(0),o=this._displayGetter(t).toString();i.value=o,this._caret({start:n,end:o.length})}}}else delete this._preventSubstitution},_dispose:function(){this._renderInputValueAsync=o.noop,delete this._loadItemDeferred,this.callBase()},_optionChanged:function(t){switch(t.name){case"customItemCreateEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onCustomItemCreating":this._initCustomItemCreatingAction();break;case"tooltipEnabled":this._renderTooltip();break;case"displayCustomValue":case"acceptCustomValue":case"showSelectionControls":this._invalidate();break;case"allowClearing":break;default:this.callBase(t)}}}));Object(p.a)("dxSelectBox",L);e.a=L},function(t,e,n){"use strict";function i(t){if(Array.isArray(t))return t}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function i(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(150);function o(t,e,n){return(o=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var r=new(Function.bind.apply(t,o));return n&&Object(i.a)(r,n.prototype),r}).apply(null,arguments)}},function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"b",function(){return u});var i="dx-",o=null;function r(t){try{return new CSSStyleSheet}catch(n){var e=t.ownerDocument.createElement("style");return t.appendChild(e),e.sheet}}function a(t,e,n){for(var i=0;i<e.length;i++){var o=e[i];try{for(var r=0;r<o.cssRules.length;r++)s(t,o.cssRules[r],n)}catch(a){}}}function s(t,e,n){var o,r,a,s,l,c;(n||(null===(o=e.selectorText)||void 0===o?void 0:o.includes(i))||(null===(r=e.cssRules)||void 0===r?void 0:null===(a=r[0])||void 0===a?void 0:null===(s=a.selectorText)||void 0===s?void 0:s.includes(i))||(null===(l=e.name)||void 0===l?void 0:l.startsWith(i))||"DXIcons"===(null===(c=e.style)||void 0===c?void 0:c.fontFamily))&&t.insertRule(e.cssText,t.cssRules.length)}function l(t){var e,n=t.get(0),i=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);if(null!==i&&void 0!==i&&i.host){o||a(o=r(i),n.ownerDocument.styleSheets,!1);var s=r(i);a(s,i.styleSheets,!0),i.adoptedStyleSheets=[o,s]}}function c(t,e,n){var i=t.getBoundingClientRect();return i&&e>=i.left&&e<i.right&&n>=i.top&&n<i.bottom}function u(t,e,n){for(var i=function(){var t=0,e=[];return{push:function(t){return e.push(t),this},shift:function(){return e[++t-1]},get length(){return e.length-t},get items(){return e}}}().push(n);i.length;)for(var o=i.shift(),r=0;r<o.childNodes.length;r++){var a=o.childNodes[r];a.nodeType===Node.ELEMENT_NODE&&c(a,t,e)&&"none"!==getComputedStyle(a).pointerEvents&&i.push(a)}var s=i.items.reverse();return s.pop(),s}},function(t,e,n){"use strict";var i=n(2),o=n(7),r=n(32),a=n(10),s=function(t){return{keyName:Object(a.n)(t),key:t.key,code:t.code,ctrl:t.ctrlKey,location:t.location,metaKey:t.metaKey,shift:t.shiftKey,alt:t.altKey,which:t.which,originalEvent:t}},l=r.a.inherit({_keydown:Object(a.a)("keydown","KeyboardProcessor"),_compositionStart:Object(a.a)("compositionstart","KeyboardProcessor"),_compositionEnd:Object(a.a)("compositionend","KeyboardProcessor"),ctor:function(t){var e=this;(t=t||{}).element&&(this._element=Object(i.a)(t.element)),t.focusTarget&&(this._focusTarget=t.focusTarget),this._handler=t.handler,this._element&&(this._processFunction=function(t){var n=Object(i.a)(e._focusTarget).toArray(),o=e._focusTarget&&e._focusTarget!==t.target&&!n.includes(t.target),r=e._isComposingJustFinished&&229===t.which||e._isComposing||o;e._isComposingJustFinished=!1,r||e.process(t)},this._toggleProcessingWithContext=this.toggleProcessing.bind(this),o.a.on(this._element,this._keydown,this._processFunction),o.a.on(this._element,this._compositionStart,this._toggleProcessingWithContext),o.a.on(this._element,this._compositionEnd,this._toggleProcessingWithContext))},dispose:function(){this._element&&(o.a.off(this._element,this._keydown,this._processFunction),o.a.off(this._element,this._compositionStart,this._toggleProcessingWithContext),o.a.off(this._element,this._compositionEnd,this._toggleProcessingWithContext)),this._element=void 0,this._handler=void 0},process:function(t){this._handler(s(t))},toggleProcessing:function(t){var e=t.type;this._isComposing="compositionstart"===e,this._isComposingJustFinished=!this._isComposing}});l.createKeyDownOptions=s,e.a=l},function(t,e,n){"use strict";n.d(e,"b",function(){return m}),n.d(e,"a",function(){return _});var i=n(28),o=n(194),r={thousandsSeparator:",",decimalSeparator:"."},a="'",s=15,l=2;function c(t){return t.toString().split("").reverse().join("")}function u(t){return t.replace(/'.+'/g,"")}function h(t){if(!t)return 0;var e=u(t);return e.length-e.replace(/[#]/g,"").length}function d(t){if(!t)return 0;var e=u(t);return e.length-e.replace(/[0]/g,"").length}function p(t,e,n){if(!t)return"";for(t.length>n&&(t=t.substr(0,n));t.length>e&&"0"===t.slice(-1);)t=t.substr(0,t.length-1);for(;t.length<e;)t+="0";return t}function f(t,e){return t.split(a).map(function(t,n){var i=n%2;return!t&&i?a:i?t:t.replace(/[,#0]+/,e)}).join("")}function m(t,e){return e=e||r,function(n){if("number"!==typeof n||isNaN(n))return"";var r=n>0||1/n===1/0,a=function(t){var e=t.split(";");return 1===e.length&&e.push("-"+e[0]),e}(t)[r?0:1],u=function(t){for(var e=!1,n=0;n<t.length;n++)if("'"===t[n]&&(e=!e),"."===t[n]&&!e)return n;return t.length}(a),m=[a.substr(0,u),a.substr(u+1)],g=d(m[1]),v=g+h(m[1]);(function(t){return-1!==t.indexOf("%")&&!t.match(/'[^']*%[^']*'/g)})(a)&&(n=Object(i.f)(n,l)),r||(n=-n);var y,_=d(m[0]),b=h(m[0])||e.unlimitedIntegerDigits?void 0:_,C=Math.floor(n).toString().length,O=Object(i.b)(v,0,s-C),x=(y=m[0],y.split(",").slice(1).map(function(t){var e=0;return t.split("").filter(function(t,n){return e+="'"===t,("#"===t||"0"===t)&&!(e%2)}).length})).reverse(),S=Object(o.a)(n,O<0?0:O).split("."),w=p(c(S[0]),_,b),P=p(S[1],g,v);w=function(t,e,n){if(!e.length)return t;for(var i=[],o=0;t;){var r=e[o];if(!r)break;i.push(t.slice(0,r)),t=t.slice(r),o<e.length-1&&o++}return i.join(n)}(w,x,e.thousandsSeparator);var k=c(f(c(m[0]),w)),E=v?f(m[1],P):"";return k+(E.match(/\d/)?e.decimalSeparator:"")+E}}function g(t,e,n){var i=(e?.01:1)*parseFloat(t)||0;return n?-i:i}function v(t,e,n,i){var o,r,a,s=t;do{a&&(o=r.length===a.length?"0":"1",t=i?o+t:t+o),r=a||e(g(s,n)),a=e(g(s=i?"1"+s:s+"1",n))}while(r!==a&&(i?r.length===a.length:r.length<=a.length));if(i&&a.length>r.length){var l=-1===e(12345).indexOf("12345");do{t="1"+t}while(l&&g(t,n)<1e5)}return t}function y(t,e,n,i){var o=e(g(t,n,i)),r=t.split("."),a=e(g(r[0]+".3"+r[1].slice(1),n,i)).indexOf("3")-1;return o=o.replace(/(\d)\D(\d)/g,"$1,$2"),a>=0&&(o=o.slice(0,a)+"."+o.slice(a+1)),o=o.replace(/1+/,"1").replace(/1/g,"#"),n||(o=o.replace("%","'%'")),o}function _(t){var e=".",n=t(1).indexOf("100")>=0;e=v(e,t,n,!0);var i=y(e=v(e,t,n,!1),t,n,!1),o=y(e,t,n,!0);return o==="-"+i?i:i+";"+o}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(28),o=10;function r(t,e){var n=Math.pow(o,e);return function(t){return Object(i.g)(t)*Math.round(Math.abs(t))}(Object(i.f)(t,e))/n}function a(t,e){var n=e||0;return(n>0?r.apply(void 0,arguments):t).toFixed(n)}},function(t,e,n){"use strict";function i(t,e){for(;t.length<e;)t="0"+t;return t}n.d(e,"a",function(){return a});var o={3:"abbreviated",4:"wide",5:"narrow"},r={y:function(t,e,n){var o=t[n?"getUTCFullYear":"getFullYear"]();return 2===e&&(o%=100),i(o.toString(),e)},M:function(t,e,n,r){var a=t[n?"getUTCMonth":"getMonth"](),s=o[e];return s?r.getMonthNames(s,"format")[a]:i((a+1).toString(),Math.min(e,2))},L:function(t,e,n,r){var a=t[n?"getUTCMonth":"getMonth"](),s=o[e];return s?r.getMonthNames(s,"standalone")[a]:i((a+1).toString(),Math.min(e,2))},Q:function(t,e,n,r){var a=t[n?"getUTCMonth":"getMonth"](),s=Math.floor(a/3),l=o[e];return l?r.getQuarterNames(l)[s]:i((s+1).toString(),Math.min(e,2))},E:function(t,e,n,i){var r=t[n?"getUTCDay":"getDay"](),a=o[e<3?3:e];return i.getDayNames(a)[r]},a:function(t,e,n,i){var r=t[n?"getUTCHours":"getHours"]()<12?0:1,a=o[e];return i.getPeriodNames(a)[r]},d:function(t,e,n){return i(t[n?"getUTCDate":"getDate"]().toString(),Math.min(e,2))},H:function(t,e,n){return i(t[n?"getUTCHours":"getHours"]().toString(),Math.min(e,2))},h:function(t,e,n){return i((t[n?"getUTCHours":"getHours"]()%12||12).toString(),Math.min(e,2))},m:function(t,e,n){return i(t[n?"getUTCMinutes":"getMinutes"]().toString(),Math.min(e,2))},s:function(t,e,n){return i(t[n?"getUTCSeconds":"getSeconds"]().toString(),Math.min(e,2))},S:function(t,e,n){return i(t[n?"getUTCMilliseconds":"getMilliseconds"]().toString(),3).substr(0,e)},x:function(t,e,n){var o=n?0:t.getTimezoneOffset(),r=o>0?"-":"+",a=Math.abs(o),s=a%60,l=i(Math.floor(a/60).toString(),2),c=i(s.toString(),2);return r+l+(e>=3?":":"")+(e>1||s?c:"")},X:function(t,e,n){return n||!t.getTimezoneOffset()?"Z":r.x(t,e,n)},Z:function(t,e,n){return r.X(t,e>=5?3:2,n)}},a=function(t,e){return function(n){var i,o,a,s,l=0,c=!1,u="";if(!n)return null;if(!t)return n;var h="Z"===t[t.length-1]||"'Z'"===t.slice(-3);for(i=0;i<t.length;i++)a=t[i],o=r[a],l++,(s=a===t[i+1])||(o&&!c&&(u+=o(n,l,h,e)),l=0),"'"!==a||s?!c&&o||(u+=a):c=!c,"'"===a&&s&&i++;return u}}},function(t,e,n){"use strict";function i(t,e){return function(){return t.apply(e,arguments)}}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";e.a=null},function(t,e,n){"use strict";function i(t,e,n){function i(t){return"string"===typeof t?t.split("."):"number"===typeof t?[t]:t}t=i(t),e=i(e);var o=Math.max(t.length,e.length);isFinite(n)&&(o=Math.min(o,n));for(var r=0;r<o;r++){var a=parseInt(t[r]||0,10),s=parseInt(e[r]||0,10);if(a<s)return-1;if(a>s)return 1}return 0}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";var i=n(58),o=n(86),r=n(66),a=n(141),s=n(92),l=a.a.inherit({ctor:function(t){t=Array.isArray(t)?{data:t}:t||{},this.callBase(t);var e=t.data;if(e&&!Array.isArray(e))throw r.a.Error("E4006");this._array=e||[]},createQuery:function(){return Object(o.a)(this._array,{errorHandler:this._errorHandler})},_byKeyImpl:function(t){var e=Object(s.b)(this,this._array,t);return-1===e?Object(i.k)(r.a.Error("E4009")):Object(i.m)(this._array[e])},_insertImpl:function(t){return Object(s.c)(this,this._array,t)},_pushImpl:function(t){Object(s.a)({keyInfo:this,data:this._array,changes:t})},_updateImpl:function(t,e){return Object(s.e)(this,this._array,t,e)},_removeImpl:function(t){return Object(s.d)(this,this._array,t)},clear:function(){this._eventsStrategy.fireEvent("modifying"),this._array=[],this._eventsStrategy.fireEvent("modified")}},"array");e.a=l},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n(2),o=n(7),r=n(64),a=n(20),s=n(32),l=n(85),c=n(10),u=n(113),h=Object(c.a)("contextmenu","dxContexMenu"),d=Object(c.a)(u.a.name,"dxContexMenu"),p=s.a.inherit({setup:function(t){var e=Object(i.a)(t);o.a.on(e,h,this._contextMenuHandler.bind(this)),(r.touch||a.a.isSimulator())&&o.a.on(e,d,this._holdHandler.bind(this))},_holdHandler:function(t){Object(c.k)(t)&&!a.a.isSimulator()||this._fireContextMenu(t)},_contextMenuHandler:function(t){this._fireContextMenu(t)},_fireContextMenu:function(t){return Object(c.f)({type:"dxcontextmenu",originalEvent:t})},teardown:function(t){o.a.off(t,".dxContexMenu")}});Object(l.a)("dxcontextmenu",new p);var f="dxcontextmenu"},function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return s});var i=n(1),o=function(t,e){var n=e(t);if(Object(i.j)(n))try{return JSON.stringify(n)}catch(o){return n}return n},r=function(t,e,n,i){return e[n[o(t,i)]]},a=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<e.length;n++)if(t[n]!==e[n])return!1;return!0},s=function(t,e,n,i){var a={},s={},l=0,c=0,u=[];t.forEach(function(t,e){var i=o(t,n);a[i]=e}),e.forEach(function(t,e){var i=o(t,n);s[i]=e});for(var h=Math.max(t.length,e.length),d=0;d<h+l;d++){var p=e[d],f=d-l+c,m=t[f];if(!p||m&&!r(m,e,s,n))m&&(u.push({type:"remove",key:n(m),index:d,oldItem:m}),c++,d--);else{var g=o(p,n),v=a[g],y=t[v];if(y){if(v!==f)return;i(y,p)||u.push({type:"update",data:p,key:n(p),index:d,oldItem:y})}else l++,u.push({type:"insert",data:p,index:d})}}return u}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i="dx-toolbar"},function(t,e,n){"use strict";var i=n(2),o=n(17),r=n(7),a=n(75),s=n(34),l=n(52),c=n(10),u=n(5),h=n(1),d=n(3),p=n(44),f="".concat("dx-scrollable-scrollbar","-active"),m="onScroll",g="onHover",v="always",y="never",_=null,b=l.a.inherit({_getDefaultOptions:function(){return Object(d.a)(this.callBase(),{direction:null,visible:!1,activeStateEnabled:!1,visibilityMode:m,containerSize:0,contentSize:0,expandable:!0,scaleRatio:1})},_init:function(){this.callBase(),this._isHovered=!1},_initMarkup:function(){this._renderThumb(),this.callBase()},_render:function(){this.callBase(),this._renderDirection(),this._update(),this._attachPointerDownHandler(),this.option("hoverStateEnabled",this._isHoverMode()),this.$element().toggleClass("dx-scrollbar-hoverable",this.option("hoverStateEnabled"))},_renderThumb:function(){this._$thumb=Object(i.a)("<div>").addClass("dx-scrollable-scroll"),Object(i.a)("<div>").addClass("dx-scrollable-scroll-content").appendTo(this._$thumb),this.$element().addClass("dx-scrollable-scrollbar").append(this._$thumb)},isThumb:function(t){return!!this.$element().find(t).length},_isHoverMode:function(){var t=this.option("visibilityMode");return(t===g||t===v)&&this.option("expandable")},_renderDirection:function(){var t=this.option("direction");this.$element().addClass("dx-scrollbar-"+t),this._dimension="horizontal"===t?"width":"height",this._prop="horizontal"===t?"left":"top"},_attachPointerDownHandler:function(){r.a.on(this._$thumb,Object(c.a)(p.a.down,"dxScrollbar"),this.feedbackOn.bind(this))},feedbackOn:function(){this.$element().addClass(f),_=this},feedbackOff:function(){this.$element().removeClass(f),_=null},cursorEnter:function(){this._isHovered=!0,this._needScrollbar()&&this.option("visible",!0)},cursorLeave:function(){this._isHovered=!1,this.option("visible",!1)},_renderDimensions:function(){this._$thumb.css({width:this.option("width"),height:this.option("height")})},_toggleVisibility:function(t){this.option("visibilityMode")===m&&this._$thumb.css("opacity"),t=this._adjustVisibility(t),this.option().visible=t,this._$thumb.toggleClass("dx-state-invisible",!t)},_adjustVisibility:function(t){if(this._baseContainerToContentRatio&&!this._needScrollbar())return!1;switch(this.option("visibilityMode")){case m:break;case g:t=t||!!this._isHovered;break;case y:t=!1;break;case v:t=!0}return t},moveTo:function(t){if(!this._isHidden()){Object(h.k)(t)&&(t=t[this._prop]||0);var e={};e[this._prop]=this._calculateScrollBarPosition(t),Object(s.e)(this._$thumb,e)}},_calculateScrollBarPosition:function(t){return-t*this._thumbRatio},_update:function(){var t=Math.round(this.option("containerSize")),e=Math.round(this.option("contentSize")),n=Math.round(this.option("baseContainerSize")),i=Math.round(this.option("baseContentSize"));isNaN(n)&&(n=t,i=e),this._baseContainerToContentRatio=i?n/i:n,this._realContainerToContentRatio=e?t/e:t;var o=Math.round(Math.max(Math.round(t*this._realContainerToContentRatio),15));this._thumbRatio=(t-o)/(this.option("scaleRatio")*(e-t)),this.option(this._dimension,o/this.option("scaleRatio")),this.$element().css("display",this._needScrollbar()?"":"none")},_isHidden:function(){return this.option("visibilityMode")===y},_needScrollbar:function(){return!this._isHidden()&&this._baseContainerToContentRatio<1},containerToContentRatio:function(){return this._realContainerToContentRatio},_normalizeSize:function(t){return Object(h.k)(t)?t[this._dimension]||0:t},_clean:function(){this.callBase(),this===_&&(_=null),r.a.off(this._$thumb,".dxScrollbar")},_optionChanged:function(t){if(!this._isHidden())switch(t.name){case"containerSize":case"contentSize":this.option()[t.name]=this._normalizeSize(t.value),this._update();break;case"baseContentSize":case"baseContainerSize":this._update();break;case"visibilityMode":case"direction":this._invalidate();break;case"scaleRatio":this._update();break;default:this.callBase.apply(this,arguments)}},update:Object(u.deferRenderer)(function(){this._adjustVisibility()&&this.option("visible",!0)})});a.a.add(function(){r.a.subscribeGlobal(o.a.getDocument(),Object(c.a)(p.a.up,"dxScrollbar"),function(){_&&_.feedbackOff()})}),e.a=b},function(t,e,n){"use strict";var i=n(5),o=n(32),r=n(74),a=o.a.abstract,s=o.a.inherit({ctor:function(){this._finished=!0,this._stopped=!1,this._proxiedStepCore=this._stepCore.bind(this)},start:function(){this._stopped=!1,this._finished=!1,this._stepCore()},stop:function(){this._stopped=!0,Object(r.cancelAnimationFrame)(this._stepAnimationFrame)},_stepCore:function(){if(this._isStopped())this._stop();else{if(this._isFinished())return this._finished=!0,void this._complete();this._step(),this._stepAnimationFrame=Object(r.requestAnimationFrame)(this._proxiedStepCore)}},_step:a,_isFinished:i.noop,_stop:i.noop,_complete:i.noop,_isStopped:function(){return this._stopped},inProgress:function(){return!(this._stopped||this._finished)}});e.a=s},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(20),o=n(64),r=function(){return[{device:function(){return!o.nativeScrolling},options:{useNative:!1}},{device:function(t){return!i.a.isSimulator()&&"desktop"===i.a.real().deviceType&&"generic"===t.platform},options:{bounceEnabled:!1,scrollByThumb:!0,scrollByContent:o.touch,showScrollbar:"onHover"}}]}},function(t,e,n){"use strict";var i=n(1);e.a={_getSpecificDataSourceOption:function(){var t=this.option("dataSource"),e=!1,n={};return this._getGroupedOption()&&function(t){return Array.isArray(t)&&t.every(function(t){return 2===Object.keys(t).length&&"key"in t&&"items"in t&&Array.isArray(t.items)})}(t)&&(n=t.reduce(function(t,n){var o=n.items.map(function(t){return Object(i.j)(t)||(t={text:t},e=!0),"key"in t||(t.key=n.key),t});return t.concat(o)},[]),t={store:{type:"array",data:n},group:{selector:"key",keepInitialKeyOrder:!0}},e&&(t.searchExpr="text")),t}}},function(t,e,n){"use strict";var i=n(24),o=n(11),r=n(34),a=n(26),s=n(78),l=n(2),c=n(5),u=n(3),h=n(9),d=n(28),p=n(1),f=n(15),m=n(7),g=n(90),v=n(10),y=n(80),_=Object(v.a)(g.e,"dxResizable"),b=Object(v.a)(g.d,"dxResizable"),C=Object(v.a)(g.a,"dxResizable"),O={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"},x=s.a.inherit({_getDefaultOptions:function(){return Object(u.a)(this.callBase(),{handles:"all",step:"1",stepPrecision:"simple",area:void 0,minWidth:30,maxWidth:1/0,minHeight:30,maxHeight:1/0,onResizeStart:null,onResize:null,onResizeEnd:null,roundStepValue:!0,keepAspectRatio:!0})},_init:function(){this.callBase(),this.$element().addClass("dx-resizable")},_initMarkup:function(){this.callBase(),this._renderHandles()},_render:function(){this.callBase(),this._renderActions()},_renderActions:function(){this._resizeStartAction=this._createActionByOption("onResizeStart"),this._resizeEndAction=this._createActionByOption("onResizeEnd"),this._resizeAction=this._createActionByOption("onResize")},_renderHandles:function(){var t=this;this._handles=[];var e=this.option("handles");if("none"!==e&&e){var n="all"===e?["top","bottom","left","right"]:e.split(" "),i={};Object(h.a)(n,function(e,n){i[n]=!0,t._renderHandle(n)}),i.bottom&&i.right&&this._renderHandle("corner-bottom-right"),i.bottom&&i.left&&this._renderHandle("corner-bottom-left"),i.top&&i.right&&this._renderHandle("corner-top-right"),i.top&&i.left&&this._renderHandle("corner-top-left"),this._attachEventHandlers()}},_renderHandle:function(t){var e=Object(l.a)("<div>").addClass("dx-resizable-handle").addClass("dx-resizable-handle-"+t).appendTo(this.$element());this._handles.push(e)},_attachEventHandlers:function(){if(!this.option("disabled")){var t={};t[_]=this._dragStartHandler.bind(this),t[b]=this._dragHandler.bind(this),t[C]=this._dragEndHandler.bind(this),this._handles.forEach(function(e){m.a.on(e,t,{direction:"both",immediate:!0})})}},_detachEventHandlers:function(){this._handles.forEach(function(t){m.a.off(t)})},_toggleEventHandlers:function(t){t?this._attachEventHandlers():this._detachEventHandlers()},_getElementSize:function(){var t=this.$element();return"border-box"===t.css("boxSizing")?{width:Object(o.h)(t),height:Object(o.g)(t)}:{width:Object(o.k)(t),height:Object(o.c)(t)}},_dragStartHandler:function(t){var e=this.$element();e.is(".dx-state-disabled, .dx-state-disabled *")?t.cancel=!0:(this._toggleResizingClass(!0),this._movingSides=this._getMovingSides(t),this._elementLocation=Object(r.d)(e),this._elementSize=this._getElementSize(),this._renderDragOffsets(t),this._resizeStartAction({event:t,width:this._elementSize.width,height:this._elementSize.height,handles:this._movingSides}),t.targetElements=null)},_toggleResizingClass:function(t){this.$element().toggleClass("dx-resizable-resizing",t)},_renderDragOffsets:function(t){var e=this._getArea();if(e){var n=Object(l.a)(t.target).closest(".dx-resizable-handle"),i=Object(o.h)(n),r=Object(o.g)(n),a=n.offset(),s=e.offset,c=this._getAreaScrollOffset();t.maxLeftOffset=this._leftMaxOffset=a.left-s.left-c.scrollX,t.maxRightOffset=this._rightMaxOffset=s.left+e.width-a.left-i+c.scrollX,t.maxTopOffset=this._topMaxOffset=a.top-s.top-c.scrollY,t.maxBottomOffset=this._bottomMaxOffset=s.top+e.height-a.top-r+c.scrollY}},_getBorderWidth:function(t,e){if(Object(p.p)(t.get(0)))return 0;var n=t.css(O[e]);return parseInt(n)||0},_proportionate:function(t,e){var n=this._elementSize;return e*("x"===t?n.width/n.height:n.height/n.width)},_getProportionalDelta:function(t){var e=t.x,n=t.y,i=this._proportionate("y",e);if(i>=n)return{x:e,y:i};var o=this._proportionate("x",n);return o>=e?{x:o,y:n}:{x:0,y:0}},_getDirectionName:function(t){var e=this._movingSides;return"x"===t?e.left?"left":"right":e.top?"top":"bottom"},_fitIntoArea:function(t,e){var n,i=this._getDirectionName(t);return Math.min(e,null!==(n=this["_".concat(i,"MaxOffset")])&&void 0!==n?n:1/0)},_fitDeltaProportionally:function(t){var e=this,n=Object(i.a)({},t),o=this._elementSize,r=this.option(),a=r.minWidth,s=r.minHeight,l=r.maxWidth,c=r.maxHeight,u=function(){return o.width+n.x},h=function(){return o.height+n.y},p=function(t){return n[t]===e._fitIntoArea(t,n[t])},f=function(){return Object(d.e)(u(),a,l)&&p("x")},m=function(){return Object(d.e)(h(),s,c)&&p("y")};if(!f()){var g=this._fitIntoArea("x",Object(d.b)(u(),a,l)-o.width);n={x:g,y:this._proportionate("y",g)}}if(!m()){var v=this._fitIntoArea("y",Object(d.b)(h(),s,c)-o.height);n={x:this._proportionate("x",v),y:v}}return f()&&m()?n:{x:0,y:0}},_fitDelta:function(t){var e=t.x,n=t.y,i=this._elementSize,o=this.option(),r=o.minWidth,a=o.minHeight,s=o.maxWidth,l=o.maxHeight;return{x:Object(d.b)(i.width+e,r,s)-i.width,y:Object(d.b)(i.height+n,a,l)-i.height}},_getDeltaByOffset:function(t){var e=this._movingSides,n=this._isCornerHandler(e)&&this.option("keepAspectRatio"),i={x:t.x*(e.left?-1:1),y:t.y*(e.top?-1:1)};if(n){var o=this._getProportionalDelta(i);i=this._fitDeltaProportionally(o)}else{var r=this._fitDelta(i);i=this._roundByStep(r)}return i},_updatePosition:function(t,e){var n=e.width,i=e.height,o=this._elementLocation,a=this._movingSides,s=this.$element(),l=this._getElementSize(),c=t.y*(a.top?-1:1)-((l.height||i)-i),u=t.x*(a.left?-1:1)-((l.width||n)-n);Object(r.e)(s,{top:o.top+(a.top?c:0),left:o.left+(a.left?u:0)})},_dragHandler:function(t){var e=this._getOffset(t),n=this._getDeltaByOffset(e),i=this._updateDimensions(n);this._updatePosition(n,i),this._triggerResizeAction(t,i)},_updateDimensions:function(t){var e=function(t){return"px"===t.substring(t.length-2)},n="strict"===this.option("stepPrecision"),i=this._elementSize,o=i.width+t.x,r=i.height+t.y,a=this.$element().get(0).style,s=t.x||n||e(a.width),l=t.y||n||e(a.height);return s&&this.option({width:o}),l&&this.option({height:r}),{width:s?o:i.width,height:l?r:i.height}},_triggerResizeAction:function(t,e){var n=e.width,i=e.height;this._resizeAction({event:t,width:this.option("width")||n,height:this.option("height")||i,handles:this._movingSides}),Object(y.b)(this.$element())},_isCornerHandler:function(t){return 0===Object.values(t).reduce(function(t,e){return t^e},0)},_getOffset:function(t){var e=t.offset,n=this._movingSides;return n.left||n.right||(e.x=0),n.top||n.bottom||(e.y=0),e},_roundByStep:function(t){return"strict"===this.option("stepPrecision")?this._roundStrict(t):this._roundNotStrict(t)},_getSteps:function(){return Object(c.pairToObject)(this.option("step"),!this.option("roundStepValue"))},_roundNotStrict:function(t){var e=this._getSteps();return{x:t.x-t.x%e.h,y:t.y-t.y%e.v}},_roundStrict:function(t){var e=this._movingSides,n={x:t.x*(e.left?-1:1),y:t.y*(e.top?-1:1)},i=this._getSteps(),o=this._elementLocation,r=this._elementSize,a=e.left?o.left:o.left+r.width,s=e.top?o.top:o.top+r.height,l=(a+n.x)%i.h,c=(s+n.y)%i.v,u=Math.sign||function(t){return 0===(t=+t)||isNaN(t)?t:t>0?1:-1},h=function(t,e){return(1+.2*u(e))%1*t},d=function(t,e){return Math.abs(t)<.2*e},p=n.x-l,f=n.y-c;l>h(i.h,n.x)&&(p+=i.h),c>h(i.v,n.y)&&(f+=i.v);var m=!e.left&&!e.right||d(n.x,i.h)?0:p,g=!e.top&&!e.bottom||d(n.y,i.v)?0:f;return{x:m*(e.left?-1:1),y:g*(e.top?-1:1)}},_getMovingSides:function(t){var e=Object(l.a)(t.target),n=e.hasClass("dx-resizable-handle-corner-top-left"),i=e.hasClass("dx-resizable-handle-corner-top-right"),o=e.hasClass("dx-resizable-handle-corner-bottom-left"),r=e.hasClass("dx-resizable-handle-corner-bottom-right");return{top:e.hasClass("dx-resizable-handle-top")||n||i,left:e.hasClass("dx-resizable-handle-left")||n||o,bottom:e.hasClass("dx-resizable-handle-bottom")||o||r,right:e.hasClass("dx-resizable-handle-right")||i||r}},_getArea:function(){var t=this.option("area");return Object(p.h)(t)&&(t=t.call(this)),Object(p.k)(t)?this._getAreaFromObject(t):this._getAreaFromElement(t)},_getAreaScrollOffset:function(){var t=this.option("area"),e={scrollY:0,scrollX:0};if(!Object(p.h)(t)&&!Object(p.k)(t)){var n=Object(l.a)(t)[0];Object(p.p)(n)&&(e.scrollX=n.pageXOffset,e.scrollY=n.pageYOffset)}return e},_getAreaFromObject:function(t){var e={width:t.right-t.left,height:t.bottom-t.top,offset:{left:t.left,top:t.top}};return this._correctAreaGeometry(e),e},_getAreaFromElement:function(t){var e,n=Object(l.a)(t);return n.length&&(e={width:Object(o.e)(n),height:Object(o.d)(n),offset:Object(u.a)({top:0,left:0},Object(p.p)(n[0])?{}:n.offset())},this._correctAreaGeometry(e,n)),e},_correctAreaGeometry:function(t,e){var n=e?this._getBorderWidth(e,"left"):0,i=e?this._getBorderWidth(e,"top"):0;t.offset.left+=n+this._getBorderWidth(this.$element(),"left"),t.offset.top+=i+this._getBorderWidth(this.$element(),"top"),t.width-=Object(o.h)(this.$element())-Object(o.e)(this.$element()),t.height-=Object(o.g)(this.$element())-Object(o.d)(this.$element())},_dragEndHandler:function(t){var e=this.$element();this._resizeEndAction({event:t,width:Object(o.h)(e),height:Object(o.g)(e),handles:this._movingSides}),this._toggleResizingClass(!1)},_renderWidth:function(t){this.option("width",Object(d.b)(t,this.option("minWidth"),this.option("maxWidth")))},_renderHeight:function(t){this.option("height",Object(d.b)(t,this.option("minHeight"),this.option("maxHeight")))},_optionChanged:function(t){switch(t.name){case"disabled":this._toggleEventHandlers(!t.value),this.callBase(t);break;case"handles":this._invalidate();break;case"minWidth":case"maxWidth":Object(f.f)()&&this._renderWidth(Object(o.h)(this.$element()));break;case"minHeight":case"maxHeight":Object(f.f)()&&this._renderHeight(Object(o.g)(this.$element()));break;case"onResize":case"onResizeStart":case"onResizeEnd":this._renderActions();break;case"area":case"stepPrecision":case"step":case"roundStepValue":case"keepAspectRatio":break;default:this.callBase(t)}},_clean:function(){this.$element().find(".dx-resizable-handle").remove()},_useTemplates:function(){return!1}});Object(a.a)("dxResizable",x),e.a=x},function(t,e,n){"use strict";var i=n(24),o=n(11),r=n(2),a=n(26),s=n(115),l=n(3),c=n(76),u=n(62),h=s.a.inherit({_getDefaultOptions:function(){return Object(l.a)(this.callBase(),{integrationOptions:{},templatesRenderAsynchronously:!1,shading:!1,width:"auto",height:"auto",hideOnOutsideClick:!1,animation:null,visible:!0,propagateOutsideClick:!0,_checkParentVisibility:!1,rtlEnabled:!1,contentTemplate:this._renderInnerHtml,maxWidth:"100%",container:this.$element(),target:void 0,mode:"auto",validationErrors:void 0,positionSide:"top",boundary:void 0,offset:{h:0,v:0},contentId:void 0})},_init:function(){this.callBase(),this.updateMaxWidth(),this._updatePosition()},_initMarkup:function(){this.callBase(),this._ensureMessageNotEmpty(),this._updatePositionByTarget(),this._toggleModeClass(),this._updateContentId()},_updatePositionByTarget:function(){var t=this.option().target;this.option("position.of",t)},_ensureMessageNotEmpty:function(){this._textMarkup=this._getTextMarkup();var t=this.option("visible")&&this._textMarkup;this._toggleVisibilityClasses(t)},_toggleVisibilityClasses:function(t){t?(this.$element().addClass("dx-invalid-message"),this.$wrapper().addClass("dx-invalid-message")):(this.$element().removeClass("dx-invalid-message"),this.$wrapper().removeClass("dx-invalid-message"))},_updateContentId:function(){var t=this.option(),e=t.container,n=t.contentId,i=null!==n&&void 0!==n?n:Object(r.a)(e).attr("aria-describedby");this.$content().addClass("dx-invalid-message-content").attr("id",i)},_renderInnerHtml:function(t){var e=t&&Object(r.a)(t);null===e||void 0===e||e.html(this._textMarkup)},_getTextMarkup:function(){var t,e=null!==(t=this.option("validationErrors"))&&void 0!==t?t:[],n="";return e.forEach(function(t){var e;n+=(n?"<br />":"")+Object(c.a)(null!==(e=null===t||void 0===t?void 0:t.message)&&void 0!==e?e:"")}),n},_toggleModeClass:function(){var t=this.option("mode");this.$wrapper().toggleClass("dx-invalid-message-auto","auto"===t).toggleClass("dx-invalid-message-always","always"===t)},updateMaxWidth:function(){var t=this.option("target"),e=Object(o.h)(t),n="100%";e&&(n=Math.max(e,100)),this.option({maxWidth:n})},_getPositionsArray:function(t,e){switch(t){case"top":return["".concat(e," bottom"),"".concat(e," top")];case"left":return["right","left"];case"right":return["left","right"];default:return["".concat(e," top"),"".concat(e," bottom")]}},_updatePosition:function(){var t=this.option(),e=t.positionSide,n=t.rtlEnabled,o=t.offset,r=t.boundary,a=Object(u.b)(n),s=this._getPositionsArray(e,a),l=Object(i.a)({},o);this.$element().addClass("dx-invalid-message-".concat(e)),n&&"left"!==e&&"right"!==e&&(l.h=-l.h),"top"===e&&(l.v=-l.v),"left"===e&&(l.h=-l.h),this.option("position",{offset:l,boundary:r,my:s[0],at:s[1],collision:"none flip"})},_optionChanged:function(t){var e=t.name,n=t.value,i=t.previousValue;switch(e){case"target":this._updatePositionByTarget(),this.updateMaxWidth(),this.callBase(t);break;case"boundary":this.option("position.boundary",n);break;case"mode":this._toggleModeClass(n);break;case"rtlEnabled":case"offset":case"positionSide":this.$element().removeClass("dx-invalid-message-".concat(i)),this._updatePosition();break;case"container":this._updateContentId(),this.callBase(t);break;case"contentId":this._updateContentId();break;case"validationErrors":this._ensureMessageNotEmpty(),this._renderInnerHtml(this.$content());break;default:this.callBase(t)}}});Object(a.a)("dxValidationMessage",h),e.a=h},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(0);function o(t){return Object(i.a)({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M24 5.457v13.909c0 .904-.732 1.636-1.636 1.636h-3.819V11.73L12 16.64l-6.545-4.91v9.273H1.636A1.636 1.636 0 0 1 0 19.366V5.457c0-2.023 2.309-3.178 3.927-1.964L5.455 4.64 12 9.548l6.545-4.91 1.528-1.145C21.69 2.28 24 3.434 24 5.457z"}}]})(t)}},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return r});var i=n(3),o={};function r(t,e,n){var r=o,a={};a[t]=r[t]?r[t]:{},a[t][e]=n,Object(i.a)(r,a)}},function(t,e,n){"use strict";var i=n(11),o=n(2),r=n(7),a=n(34),s=n(3),l=n(69),c=n(8),u=n(20),h=n(26),d=n(71),p=n(116),f=n(101),m=n(171),g=n(10),v=n(54),y="dx-colorview-palette-gradient",_="dx-colorview-palette-gradient-white",b="dx-colorview-palette-gradient-black",C="dx-colorview-color-preview",O="dx-colorview-color-preview-color-current",x="dx-colorview-color-preview-color-new",S=d.a.inherit({_supportedKeys:function(){var t=this.option("rtlEnabled"),e=this,n=function(t){var n=100/e._paletteWidth;return t.shiftKey&&(n*=e.option("keyStep")),n=n>1?n:1,Math.round(n)},i=function(t){var n=e._currentColor.hsv.s+t;n>100?n=100:n<0&&(n=0),e._currentColor.hsv.s=n,l()},o=function(t){var n=100/e._paletteHeight;return t.shiftKey&&(n*=e.option("keyStep")),n=n>1?n:1,Math.round(n)},r=function(t){var n=e._currentColor.hsv.v+t;n>100?n=100:n<0&&(n=0),e._currentColor.hsv.v=n,l()};function l(){e._placePaletteHandle(),e._updateColorFromHsv(e._currentColor.hsv.h,e._currentColor.hsv.s,e._currentColor.hsv.v)}var c=function(t){var n=360/(e._hueScaleWrapperHeight-e._hueScaleHandleHeight);return t.shiftKey&&(n*=e.option("keyStep")),n=n>1?n:1},u=function(t){e._currentColor.hsv.h+=t,e._placeHueScaleHandle();var n=Object(a.d)(e._$hueScaleHandle);e._updateColorHue(n.top+e._hueScaleHandleHeight/2)},h=function(n){var i=1/e._alphaChannelScaleWorkWidth;return n.shiftKey&&(i*=e.option("keyStep")),i=i>.01?i:.01,i=t?-i:i},d=function(t){e._currentColor.a+=t,e._placeAlphaChannelHandle();var n=Object(a.d)(e._$alphaChannelHandle);e._calculateColorTransparencyByScaleWidth(n.left+e._alphaChannelHandleWidth/2)};return Object(s.a)(this.callBase(),{upArrow:function(t){t.preventDefault(),t.stopPropagation(),Object(g.i)(t)?this._currentColor.hsv.h<=360&&!this._isTopColorHue&&(this._saveValueChangeEvent(t),u(c(t))):this._currentColor.hsv.v<100&&(this._saveValueChangeEvent(t),r(o(t)))},downArrow:function(t){t.preventDefault(),t.stopPropagation(),Object(g.i)(t)?this._currentColor.hsv.h>=0&&(this._isTopColorHue&&(this._currentColor.hsv.h=360),this._saveValueChangeEvent(t),u(-c(t))):this._currentColor.hsv.v>0&&(this._saveValueChangeEvent(t),r(-o(t)))},rightArrow:function(e){e.preventDefault(),e.stopPropagation(),Object(g.i)(e)?(t?this._currentColor.a<1:this._currentColor.a>0&&this.option("editAlphaChannel"))&&(this._saveValueChangeEvent(e),d(-h(e))):this._currentColor.hsv.s<100&&(this._saveValueChangeEvent(e),i(n(e)))},leftArrow:function(e){e.preventDefault(),e.stopPropagation(),Object(g.i)(e)?(t?this._currentColor.a>0:this._currentColor.a<1&&this.option("editAlphaChannel"))&&(this._saveValueChangeEvent(e),d(h(e))):this._currentColor.hsv.s>0&&(this._saveValueChangeEvent(e),i(-n(e)))},enter:function(t){this._fireEnterKeyPressed(t)}})},_getDefaultOptions:function(){return Object(s.a)(this.callBase(),{value:null,matchValue:null,onEnterKeyPressed:void 0,editAlphaChannel:!1,keyStep:1,stylingMode:void 0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===u.a.real().deviceType&&!u.a.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initColorAndOpacity(),this._initEnterKeyPressedAction()},_initEnterKeyPressedAction:function(){this._onEnterKeyPressedAction=this._createActionByOption("onEnterKeyPressed")},_fireEnterKeyPressed:function(t){this._onEnterKeyPressedAction&&this._onEnterKeyPressedAction({event:t})},_initColorAndOpacity:function(){this._setCurrentColor(this.option("value"))},_setCurrentColor:function(t){t=t||"#000000";var e=new l.a(t);e.colorIsInvalid?this.option("value",this._currentColor.baseColor):this._currentColor&&this._makeRgba(this._currentColor)===this._makeRgba(e)||(this._currentColor=e,this._$currentColor&&this._makeTransparentBackground(this._$currentColor,e))},_setBaseColor:function(t){var e=t||"#000000",n=new l.a(e);n.colorIsInvalid||this._makeRgba(this.option("matchValue")!==this._makeRgba(n))&&this._$baseColor&&this._makeTransparentBackground(this._$baseColor,n)},_initMarkup:function(){this.callBase(),this.$element().addClass("dx-colorview"),this._renderColorPickerContainer()},_render:function(){this.callBase(),this._renderPalette(),this._renderHueScale(),this._renderControlsContainer(),this._renderControls(),this._renderAlphaChannelElements()},_makeTransparentBackground:function(t,e){e instanceof l.a||(e=new l.a(e)),t.css("backgroundColor",this._makeRgba(e))},_makeRgba:function(t){return t instanceof l.a||(t=new l.a(t)),"rgba("+[t.r,t.g,t.b,t.a].join(", ")+")"},_renderValue:function(){this.callBase(this.option("editAlphaChannel")?this._makeRgba(this._currentColor):this.option("value"))},_renderColorPickerContainer:function(){var t=this.$element();this._$colorPickerContainer=Object(o.a)("<div>").addClass("dx-colorview-container").appendTo(t),this._renderHtmlRows()},_renderHtmlRows:function(t){var e=this._$colorPickerContainer.find(".dx-colorview-container-row"),n=e.length,i=n-(this.option("editAlphaChannel")?2:1);if(i>0&&e.eq(-1).remove(),i<0){i=Math.abs(i);var r,a=[];for(r=0;r<i;r++)a.push(Object(o.a)("<div>").addClass("dx-colorview-container-row"));if(n)for(r=0;r<a.length;r++)e.eq(0).after(a[r]);else this._$colorPickerContainer.append(a)}},_renderHtmlCellInsideRow:function(t,e,n){return Object(o.a)("<div>").addClass("dx-colorview-container-cell").addClass(n).appendTo(e.find(".dx-colorview-container-row").eq(t))},_renderPalette:function(){var t=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer,"dx-colorview-palette-cell"),e=Object(o.a)("<div>").addClass([y,_].join(" ")),n=Object(o.a)("<div>").addClass([y,b].join(" "));this._$palette=Object(o.a)("<div>").addClass("dx-colorview-palette").css("backgroundColor",this._currentColor.getPureColor().toHex()).appendTo(t),this._paletteHeight=Object(i.c)(this._$palette),this._paletteWidth=Object(i.k)(this._$palette),this._renderPaletteHandle(),this._$palette.append([e,n])},_renderPaletteHandle:function(){var t=this;this._$paletteHandle=Object(o.a)("<div>").addClass("dx-colorview-palette-handle").appendTo(this._$palette),this._createComponent(this._$paletteHandle,m.a,{contentTemplate:null,boundary:this._$palette,allowMoveByClick:!0,boundOffset:function(){return-this._paletteHandleHeight/2}.bind(this),onDragMove:function(e){var n=e.event,i=Object(a.d)(t._$paletteHandle);t._updateByDrag=!0,t._saveValueChangeEvent(n),t._updateColorFromHsv(t._currentColor.hsv.h,t._calculateColorSaturation(i),t._calculateColorValue(i))}}),this._paletteHandleWidth=Object(i.k)(this._$paletteHandle),this._paletteHandleHeight=Object(i.c)(this._$paletteHandle),this._placePaletteHandle()},_placePaletteHandle:function(){Object(a.e)(this._$paletteHandle,{left:Math.round(this._paletteWidth*this._currentColor.hsv.s/100-this._paletteHandleWidth/2),top:Math.round(this._paletteHeight-this._paletteHeight*this._currentColor.hsv.v/100-this._paletteHandleHeight/2)})},_calculateColorValue:function(t){var e=Math.floor(t.top+this._paletteHandleHeight/2);return 100-Math.round(100*e/this._paletteHeight)},_calculateColorSaturation:function(t){var e=Math.floor(t.left+this._paletteHandleWidth/2);return Math.round(100*e/this._paletteWidth)},_updateColorFromHsv:function(t,e,n){var i=this._currentColor.a;this._currentColor=new l.a("hsv("+[t,e,n].join(",")+")"),this._currentColor.a=i,this._updateColorParamsAndColorPreview(),this.applyColor()},_renderHueScale:function(){var t=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer,"dx-colorview-hue-scale-cell");this._$hueScaleWrapper=Object(o.a)("<div>").addClass("dx-colorview-hue-scale-wrapper").appendTo(t),this._$hueScale=Object(o.a)("<div>").addClass("dx-colorview-hue-scale").appendTo(this._$hueScaleWrapper),this._hueScaleHeight=Object(i.c)(this._$hueScale),this._hueScaleWrapperHeight=Object(i.g)(this._$hueScaleWrapper),this._renderHueScaleHandle()},_renderHueScaleHandle:function(){var t=this;this._$hueScaleHandle=Object(o.a)("<div>").addClass("dx-colorview-hue-scale-handle").appendTo(this._$hueScaleWrapper),this._createComponent(this._$hueScaleHandle,m.a,{contentTemplate:null,boundary:this._$hueScaleWrapper,allowMoveByClick:!0,dragDirection:"vertical",onDragMove:function(e){var n=e.event;t._updateByDrag=!0,t._saveValueChangeEvent(n),t._updateColorHue(Object(a.d)(t._$hueScaleHandle).top+t._hueScaleHandleHeight/2)}}),this._hueScaleHandleHeight=Object(i.c)(this._$hueScaleHandle),this._placeHueScaleHandle()},_placeHueScaleHandle:function(){var t=this._hueScaleWrapperHeight,e=this._hueScaleHandleHeight,n=(t-e)*(360-this._currentColor.hsv.h)/360;t<n+e&&(n=t-e),n<0&&(n=0),Object(a.e)(this._$hueScaleHandle,{top:Math.round(n)})},_updateColorHue:function(t){var e=360-Math.round(360*(t-this._hueScaleHandleHeight/2)/(this._hueScaleWrapperHeight-this._hueScaleHandleHeight)),n=this._currentColor.hsv.s,i=this._currentColor.hsv.v;this._isTopColorHue=!1,(e=e<0?0:e)>=360&&(this._isTopColorHue=!0,e=0),this._updateColorFromHsv(e,n,i),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex())},_renderControlsContainer:function(){var t=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer);this._$controlsContainer=Object(o.a)("<div>").addClass("dx-colorview-controls-container").appendTo(t)},_renderControls:function(){this._renderColorsPreview(),this._renderRgbInputs(),this._renderHexInput()},_renderColorsPreview:function(){var t=Object(o.a)("<div>").addClass("dx-colorview-color-preview-container").appendTo(this._$controlsContainer),e=Object(o.a)("<div>").addClass("dx-colorview-color-preview-container-inner").appendTo(t);this._$currentColor=Object(o.a)("<div>").addClass([C,x].join(" ")),this._$baseColor=Object(o.a)("<div>").addClass([C,O].join(" ")),this._makeTransparentBackground(this._$baseColor,this.option("matchValue")),this._makeTransparentBackground(this._$currentColor,this._currentColor),e.append([this._$baseColor,this._$currentColor])},_renderAlphaChannelElements:function(){this.option("editAlphaChannel")&&(this._$colorPickerContainer.find(".dx-colorview-container-row").eq(1).addClass("dx-colorview-alpha-channel-row"),this._renderAlphaChannelScale(),this._renderAlphaChannelInput())},_renderRgbInputs:function(){this._rgbInputsWithLabels=[this._renderEditorWithLabel({editorType:p.a,value:this._currentColor.r,onValueChanged:this._updateColor.bind(this,!1),labelText:"R",labelAriaText:c.a.format("dxColorView-ariaRed"),labelClass:"dx-colorview-label-red"}),this._renderEditorWithLabel({editorType:p.a,value:this._currentColor.g,onValueChanged:this._updateColor.bind(this,!1),labelText:"G",labelAriaText:c.a.format("dxColorView-ariaGreen"),labelClass:"dx-colorview-label-green"}),this._renderEditorWithLabel({editorType:p.a,value:this._currentColor.b,onValueChanged:this._updateColor.bind(this,!1),labelText:"B",labelAriaText:c.a.format("dxColorView-ariaBlue"),labelClass:"dx-colorview-label-blue"})],this._$controlsContainer.append(this._rgbInputsWithLabels),this._rgbInputs=[this._rgbInputsWithLabels[0].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[1].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[2].find(".dx-numberbox").dxNumberBox("instance")]},_renderEditorWithLabel:function(t){var e=this,n=Object(o.a)("<div>"),i=Object(o.a)("<label>").addClass(t.labelClass).text(t.labelText+":").append(n);r.a.off(i,v.a),r.a.on(i,v.a,function(t){t.preventDefault()});var a=t.editorType,l=Object(s.a)({value:t.value,onValueChanged:t.onValueChanged,onKeyboardHandled:function(t){return e._keyboardHandler(t)}},{stylingMode:this.option("stylingMode")});return a===p.a&&(l.min=t.min||0,l.max=t.max||255,l.step=t.step||1),new a(n,l).registerKeyHandler("enter",function(t){this._fireEnterKeyPressed(t)}.bind(this)),this.setAria("label",t.labelAriaText,n),i},hexInputOptions:function(){return{editorType:f.default,value:this._currentColor.toHex().replace("#",""),onValueChanged:this._updateColor.bind(this,!0),labelClass:"dx-colorview-label-hex",labelText:"#",labelAriaText:c.a.format("dxColorView-ariaHex")}},_renderHexInput:function(){this._hexInput=f.default.getInstance(this._renderEditorWithLabel(this.hexInputOptions()).appendTo(this._$controlsContainer).find(".dx-textbox"))},_renderAlphaChannelScale:function(){var t=this._renderHtmlCellInsideRow(1,this._$colorPickerContainer,"dx-colorview-alpha-channel-cell"),e=Object(o.a)("<div>").addClass("dx-colorview-alpha-channel-border").appendTo(t),n=Object(o.a)("<div>").addClass("dx-colorview-alpha-channel-wrapper").appendTo(e);this._$alphaChannelScale=Object(o.a)("<div>").addClass("dx-colorview-alpha-channel-scale").appendTo(n),this._makeCSSLinearGradient(this._$alphaChannelScale),this._renderAlphaChannelHandle(t)},_makeCSSLinearGradient:function(t){var e=this._currentColor,n=[e.r,e.g,e.b].join(","),i=e.toHex().replace("#","");t.attr("style",function(t,e){var n=this.option("rtlEnabled"),i="rgba("+t+", "+(n?"1":"0")+")",o="rgba("+t+", "+(n?"0":"1")+")";return["background-image: -webkit-linear-gradient(180deg, "+i+", "+o+")","background-image: -moz-linear-gradient(-90deg, "+i+", "+o+")","background-image: -o-linear-gradient(-90deg, "+i+", "+o+")","background-image: linear-gradient(-90deg, "+i+", "+o+")"].join(";")}.call(this,n,i))},_renderAlphaChannelInput:function(){var t=this,e=this._renderHtmlCellInsideRow(1,this._$colorPickerContainer);t._alphaChannelInput=this._renderEditorWithLabel({editorType:p.a,value:this._currentColor.a,max:1,step:.1,onValueChanged:function(e){var n=e.value;n=t._currentColor.isValidAlpha(n)?n:t._currentColor.a,e.event&&t._saveValueChangeEvent(e.event),t._updateColorTransparency(n),t._placeAlphaChannelHandle()},labelClass:"dx-colorview-alpha-channel-label",labelText:"Alpha",labelAriaText:c.a.format("dxColorView-ariaAlpha")}).appendTo(e).find(".dx-numberbox").dxNumberBox("instance")},_updateColorTransparency:function(t){this._currentColor.a=t,this.applyColor()},_renderAlphaChannelHandle:function(t){var e=this;this._$alphaChannelHandle=Object(o.a)("<div>").addClass("dx-colorview-alpha-channel-handle").appendTo(t),this._createComponent(this._$alphaChannelHandle,m.a,{contentTemplate:null,boundary:t,allowMoveByClick:!0,dragDirection:"horizontal",onDragMove:function(t){var n=t.event;e._updateByDrag=!0;var i=e._$alphaChannelHandle,o=Object(a.d)(i).left+e._alphaChannelHandleWidth/2;e._saveValueChangeEvent(n),e._calculateColorTransparencyByScaleWidth(o)}}),this._alphaChannelHandleWidth=Object(i.k)(this._$alphaChannelHandle),this._alphaChannelScaleWorkWidth=Object(i.k)(t)-this._alphaChannelHandleWidth,this._placeAlphaChannelHandle()},_calculateColorTransparencyByScaleWidth:function(t){var e=(t-this._alphaChannelHandleWidth/2)/this._alphaChannelScaleWorkWidth,n=this.option("rtlEnabled");e=n?e:1-e,t>=this._alphaChannelScaleWorkWidth+this._alphaChannelHandleWidth/2?e=n?1:0:e<1&&(e=e.toFixed(2));var i=this._alphaChannelInput.option("value");e=Math.max(e,0),(e=Math.min(e,1))===i?this._updateByDrag=!1:this._alphaChannelInput.option("value",e)},_placeAlphaChannelHandle:function(){var t=this._alphaChannelScaleWorkWidth*(1-this._currentColor.a);t<0&&(t=0),this._alphaChannelScaleWorkWidth<t&&(t=this._alphaChannelScaleWorkWidth),Object(a.e)(this._$alphaChannelHandle,{left:this.option("rtlEnabled")?this._alphaChannelScaleWorkWidth-t:t})},applyColor:function(){var t=this.option("value"),e=this.option("editAlphaChannel")?this._makeRgba(this._currentColor):this._currentColor.toHex();this._makeTransparentBackground(this._$currentColor,this._currentColor),e===t?this._updateByDrag=!1:this.option("value",e)},cancelColor:function(){this._initColorAndOpacity(),this._refreshMarkup()},_updateColor:function(t,e){var n,i;t?i=this._validateHex("#"+this._hexInput.option("value")):(n=this._validateRgb(),this._alphaChannelInput?(n.push(this._alphaChannelInput.option("value")),i="rgba("+n.join(", ")+")"):i="rgb("+n.join(", ")+")"),this._suppressEditorsValueUpdating||(this._currentColor=new l.a(i),this._saveValueChangeEvent(e.event),this.applyColor(),this._refreshMarkup())},_validateHex:function(t){return this._currentColor.isValidHex(t)?t:this._currentColor.toHex()},_validateRgb:function(){var t=this._rgbInputs[0].option("value"),e=this._rgbInputs[1].option("value"),n=this._rgbInputs[2].option("value");return this._currentColor.isValidRGB(t,e,n)||(t=this._currentColor.r,e=this._currentColor.g,n=this._currentColor.b),[t,e,n]},_refreshMarkup:function(){this._placeHueScaleHandle(),this._placePaletteHandle(),this._updateColorParamsAndColorPreview(),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex()),this._$alphaChannelHandle&&(this._updateColorTransparency(this._currentColor.a),this._placeAlphaChannelHandle())},_updateColorParamsAndColorPreview:function(){this._suppressEditorsValueUpdating=!0,this._hexInput.option("value",this._currentColor.toHex().replace("#","")),this._rgbInputs[0].option("value",this._currentColor.r),this._rgbInputs[1].option("value",this._currentColor.g),this._rgbInputs[2].option("value",this._currentColor.b),this._suppressEditorsValueUpdating=!1,this.option("editAlphaChannel")&&(this._makeCSSLinearGradient.call(this,this._$alphaChannelScale),this._alphaChannelInput.option("value",this._currentColor.a))},_optionChanged:function(t){var e=t.value;switch(t.name){case"value":this._setCurrentColor(e),this._updateByDrag||this._refreshMarkup(),this._updateByDrag=!1,this.callBase(t);break;case"matchValue":this._setBaseColor(e);break;case"onEnterKeyPressed":this._initEnterKeyPressedAction();break;case"editAlphaChannel":this._$colorPickerContainer&&(this._renderHtmlRows("editAlphaChannel"),this._renderAlphaChannelElements());break;case"keyStep":break;case"stylingMode":this._renderControls();break;default:this.callBase(t)}}});Object(h.a)("dxColorView",S),e.a=S},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(12),o=n(13),r=n(124),a=function(){function t(e){Object(i.a)(this,t),this.DIRECTION_HORIZONTAL="horizontal",this.DIRECTION_VERTICAL="vertical",this.DIRECTION_BOTH="both",this.direction=null!==e&&void 0!==e?e:r.c}return Object(o.a)(t,[{key:"isHorizontal",get:function(){return this.direction===r.b||this.direction===r.a}},{key:"isVertical",get:function(){return this.direction===r.c||this.direction===r.a}},{key:"isBoth",get:function(){return this.direction===r.a}}]),t}()},function(t,e,n){"use strict";var i=n(26),o=n(2),r=n(1),a=n(20),s=n(17),l=a.a.real(),c=l.ios,u=l.mac,h=c||u,d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t=Object(o.a)(t).get(0),!Object(r.d)(e))return function(t){var e;try{e={start:t.selectionStart,end:t.selectionEnd}}catch(n){e={start:0,end:0}}return e}(t);!n&&h&&s.a.getActiveElement(t)!==t||function(t,e){var n=s.a.getBody();if(n.contains(t)||n.contains(t.getRootNode().host))try{t.selectionStart=e.start,t.selectionEnd=e.end}catch(i){}}(t,e)},p=n(72);function f(){return"onbeforeinput"in s.a.createElement("input")&&!p.a.chrome||function(){var t=a.a.real(),e=t.android,n=t.version;return e&&n[0]>4}()}var m=n(9),g=n(10),v=n(7),y=n(3),_=n(83),b=n(8),C=n(5),O=n(76),x=n(155),S=n(32),w=S.a.inherit({ctor:function(t){this._value=" ",Object(y.a)(this,t)},next:function(t){if(!arguments.length)return this._next;this._next=t},text:C.noop,value:C.noop,rawValue:C.noop,handle:C.noop,_prepareHandlingArgs:function(t,e){var n,i,o;e=e||{};var r=Object.prototype.hasOwnProperty.call(t,"value")?"value":"text";return t[r]=null!==(n=e.str)&&void 0!==n?n:t[r],t.start=null!==(i=e.start)&&void 0!==i?i:t.start,t.length=null!==(o=e.length)&&void 0!==o?o:t.length,t.index=t.index+1,t},reset:C.noop,clear:C.noop,first:function(t){return t=t||0,this.next().first(t+1)},isAccepted:function(){return!1},adjustedCaret:function(t,e,n){return e?this._adjustedForward(t,0,n):this._adjustedBackward(t,0,n)},_adjustedForward:C.noop,_adjustedBackward:C.noop,isValid:C.noop}),P=w.inherit({next:C.noop,handle:function(){return 0},text:function(){return""},value:function(){return""},first:function(){return 0},rawValue:function(){return""},adjustedCaret:function(){return 0},isValid:function(){return!0}}),k=w.inherit({text:function(){return(" "!==this._value?this._value:this.maskChar)+this.next().text()},value:function(){return this._value+this.next().value()},rawValue:function(){return this._value+this.next().rawValue()},handle:function(t){var e=Object.prototype.hasOwnProperty.call(t,"value")?t.value:t.text;if(!e||!e.length||!t.length)return 0;if(t.start)return this.next().handle(this._prepareHandlingArgs(t,{start:t.start-1}));var n=e[0],i=e.substring(1);return this._tryAcceptChar(n,t),this._accepted()?this.next().handle(this._prepareHandlingArgs(t,{str:i,length:t.length-1}))+1:this.handle(this._prepareHandlingArgs(t,{str:i,length:t.length-1}))},clear:function(t){this._tryAcceptChar(" ",t),this.next().clear(this._prepareHandlingArgs(t))},reset:function(){this._accepted(!1),this.next().reset()},_tryAcceptChar:function(t,e){if(this._accepted(!1),this._isAllowed(t,e)){var n=" "===t?this.maskChar:t;e.fullText=e.fullText.substring(0,e.index)+n+e.fullText.substring(e.index+1),this._accepted(!0),this._value=t}},_accepted:function(t){if(!arguments.length)return!!this._isAccepted;this._isAccepted=!!t},first:function(t){return" "===this._value?t||0:this.callBase(t)},_isAllowed:function(t,e){return" "===t||this._isValid(t,e)},_isValid:function(t,e){var n=this.allowedChars;return n instanceof RegExp?n.test(t):Object(r.h)(n)?n(t,e.index,e.fullText):Array.isArray(n)?n.includes(t):n===t},isAccepted:function(t){return 0===t?this._accepted():this.next().isAccepted(t-1)},_adjustedForward:function(t,e,n){return e>=t?e:this.next()._adjustedForward(t,e+1,n)||e+1},_adjustedBackward:function(t,e){return e>=t-1?t:this.next()._adjustedBackward(t,e+1)||e+1},isValid:function(t){return this._isValid(this._value,t)&&this.next().isValid(this._prepareHandlingArgs(t))}}),E=k.inherit({value:function(){return this.next().value()},handle:function(t){var e=Object.prototype.hasOwnProperty.call(t,"value"),n=e?t.value:t.text;if(!n.length||!t.length)return 0;if(t.start||e)return this.next().handle(this._prepareHandlingArgs(t,{start:t.start&&t.start-1}));var i=n[0],o=n.substring(1);this._tryAcceptChar(i);var r=this._isAllowed(i)?this._prepareHandlingArgs(t,{str:o,length:t.length-1}):t;return this.next().handle(r)+1},clear:function(t){this._accepted(!1),this.next().clear(this._prepareHandlingArgs(t))},_tryAcceptChar:function(t){this._accepted(this._isValid(t))},_isValid:function(t){return t===this.maskChar},first:function(t){return t=t||0,this.next().first(t+1)},_adjustedForward:function(t,e,n){return e>=t&&n===this.maskChar?e:t===e+1&&this._accepted()?t:this.next()._adjustedForward(t,e+1,n)},_adjustedBackward:function(t,e){return e>=t-1?0:this.next()._adjustedBackward(t,e+1)},isValid:function(t){return this.next().isValid(this._prepareHandlingArgs(t))}}),T=n(47),I=n(71),j=n(44),M=n(12),D=n(13),A=n(19),R=n(14),B=n(6),L=n(18),N=n(136),z=n(54),F=j.a.down,H=function(t){function e(){return Object(M.a)(this,e),Object(A.a)(this,Object(B.a)(e).apply(this,arguments))}return Object(L.a)(e,t),Object(D.a)(e,[{key:"_create",value:function(){var t=Object(o.a)("<span>").addClass("dx-clear-button-area").append(Object(o.a)("<span>").addClass("dx-icon").addClass("dx-icon-clear"));return this._addToContainer(t),this.update(!0),{instance:t,$element:t}}},{key:"_isVisible",value:function(){return this.editor._isClearButtonVisible()}},{key:"_attachEvents",value:function(t,e){var n=this.editor,i=n.NAME;v.a.on(e,Object(g.a)(F,i),function(t){t.preventDefault(),"mouse"!==t.pointerType&&n._clearValueHandler(t)}),v.a.on(e,Object(g.a)(z.a,i),function(t){return n._clearValueHandler(t)})}},{key:"_legacyRender",value:function(t,e){t.toggleClass("dx-show-clear-button",e)}},{key:"update",value:function(){!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&Object(R.a)(Object(B.a)(e.prototype),"update",this).call(this);var t=this.editor,n=this.instance,i=t.$element(),o=this._isVisible();n&&n.toggleClass("dx-state-invisible",!o),this._legacyRender(i,o)}}]),e}(N.a),V=n(65),U=n(129),W=function(t){function e(){return Object(M.a)(this,e),Object(A.a)(this,Object(B.a)(e).apply(this,arguments))}return Object(L.a)(e,t),Object(D.a)(e,[{key:"_attachEvents",value:function(t,e){var n=this.editor;v.a.on(e,U.b,function(){n.$element().addClass("dx-custom-button-hovered")}),v.a.on(e,U.a,function(){n.$element().removeClass("dx-custom-button-hovered")}),v.a.on(e,z.a,function(t){t.stopPropagation()})}},{key:"_create",value:function(){var t=this.editor,e=Object(o.a)("<div>");return this._addToContainer(e),{$element:e,instance:t._createComponent(e,V.default,Object(y.a)({},this.options,{ignoreParentReadOnly:!0,disabled:this._isDisabled(),integrationOptions:this._prepareIntegrationOptions(t)}))}}},{key:"_prepareIntegrationOptions",value:function(t){return Object(y.a)({},t.option("integrationOptions"),{skipTemplates:["content"]})}},{key:"update",value:function(){var t=Object(R.a)(Object(B.a)(e.prototype),"update",this).call(this);return this.instance&&this.instance.option("disabled",this._isDisabled()),t}},{key:"_isVisible",value:function(){return this.editor.option("visible")}},{key:"_isDisabled",value:function(){return void 0!==this.options.disabled?this.instance?this.instance.option("disabled"):this.options.disabled:this.editor.option("readOnly")}}]),e}(N.a),K=n(42);function $(t,e){if(-1!==t.indexOf(e))throw K.a.Error("E1055",e);t.push(e)}var G=function(){function t(e,n){Object(M.a)(this,t),this.buttons=[],this.defaultButtonsInfo=n,this.editor=e}return Object(D.a)(t,[{key:"_compileButtonInfo",value:function(t){var e=this,n=[];return t.map(function(t){var i,o="string"===typeof t;if(o||(i=t,function(){if(!i||"object"!==typeof i||Array.isArray(i))throw K.a.Error("E1053")}(),function(){if(!("name"in i))throw K.a.Error("E1054")}(),function(){if("string"!==typeof i.name)throw K.a.Error("E1055")}(),function(){var t=i.location;"location"in i&&"after"!==t&&"before"!==t&&(i.location="after")}()),o||function(t,e){return!!e.find(function(e){return e.name===t})}(t.name,e.defaultButtonsInfo)){var r=e.defaultButtonsInfo.find(function(e){var n=e.name;return n===t||n===t.name});if(!r)throw K.a.Error("E1056",e.editor.NAME,t);return $(n,t),r}var a=t.name;return $(n,a),Object(y.a)(t,{Ctor:W})})}},{key:"_createButton",value:function(t){var e=t.Ctor,n=t.options,i=new e(t.name,this.editor,n);return this.buttons.push(i),i}},{key:"_renderButtons",value:function(t,e,n){var i=this,r=null;return(t?this._compileButtonInfo(t):this.defaultButtonsInfo).forEach(function(t){var a=t.location;(void 0===a?"after":a)===n&&i._createButton(t).render((r=r||Object(o.a)("<div>").addClass("dx-texteditor-buttons-container"),"before"===n?e.prepend(r):e.append(r),r))}),r}},{key:"clean",value:function(){this.buttons.forEach(function(t){return t.dispose()}),this.buttons=[]}},{key:"getButton",value:function(t){var e=this.buttons.find(function(e){return e.name===t});return e&&e.instance}},{key:"renderAfterButtons",value:function(t,e){return this._renderButtons(t,e,"after")}},{key:"renderBeforeButtons",value:function(t,e){return this._renderButtons(t,e,"before")}},{key:"updateButtons",value:function(t){this.buttons.forEach(function(e){t&&-1===t.indexOf(e.name)||e.update()})}}]),t}(),q=n(50),Z=n(16),Y=n(94),X=n(55),Q="dx-texteditor-label",J=function(){function t(e){Object(M.a)(this,t);var n=e.$editor,i=e.text,o=e.mode,r=e.mark,a=e.containsButtonsBefore,s=e.containerWidth,l=e.beforeWidth;this._props={$editor:n,text:i,mode:o,mark:r,containsButtonsBefore:a,containerWidth:s,beforeWidth:l},this._id="".concat(Q,"-").concat(new X.a),this._render(),this._toggleMarkupVisibility()}return Object(D.a)(t,[{key:"_isVisible",value:function(){return!!this._props.text&&"hidden"!==this._props.mode}},{key:"_render",value:function(){this._$before=Object(o.a)("<div>").addClass("dx-label-before"),this._$labelSpan=Object(o.a)("<span>"),this._$label=Object(o.a)("<div>").addClass("dx-label").append(this._$labelSpan),this._$after=Object(o.a)("<div>").addClass("dx-label-after"),this._$root=Object(o.a)("<div>").addClass(Q).attr("id",this._id).append(this._$before).append(this._$label).append(this._$after),this._updateMark(),this._updateText(),this._updateBeforeWidth(),this._updateMaxWidth()}},{key:"_toggleMarkupVisibility",value:function(){var t=this._isVisible();this._updateEditorBeforeButtonsClass(t),this._updateEditorLabelClass(t),t?this._$root.appendTo(this._props.$editor):this._$root.detach()}},{key:"_updateEditorLabelClass",value:function(t){if(this._props.$editor.removeClass("dx-texteditor-with-floating-label").removeClass("dx-texteditor-with-label"),t){var e="floating"===this._props.mode?"dx-texteditor-with-floating-label":"dx-texteditor-with-label";this._props.$editor.addClass(e)}}},{key:"_updateEditorBeforeButtonsClass",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible();if(this._props.$editor.removeClass("dx-texteditor-with-before-buttons"),t){var e=this._props.containsButtonsBefore?"dx-texteditor-with-before-buttons":"";this._props.$editor.addClass(e)}}},{key:"_updateMark",value:function(){this._$labelSpan.attr("data-mark",this._props.mark)}},{key:"_updateText",value:function(){this._$labelSpan.text(this._props.text)}},{key:"_updateBeforeWidth",value:function(){this._$before.css({width:this._props.beforeWidth})}},{key:"_updateMaxWidth",value:function(){this._$label.css({maxWidth:this._props.containerWidth})}},{key:"$element",value:function(){return this._$root}},{key:"isVisible",value:function(){return this._isVisible()}},{key:"getId",value:function(){if(this._isVisible())return this._id}},{key:"updateMode",value:function(t){this._props.mode=t,this._toggleMarkupVisibility()}},{key:"updateText",value:function(t){this._props.text=t,this._updateText(),this._toggleMarkupVisibility()}},{key:"updateMark",value:function(t){this._props.mark=t,this._updateMark()}},{key:"updateContainsButtonsBefore",value:function(t){this._props.containsButtonsBefore=t,this._updateEditorBeforeButtonsClass()}},{key:"updateBeforeWidth",value:function(t){this._props.beforeWidth=t,this._updateBeforeWidth()}},{key:"updateMaxWidth",value:function(t){this._props.containerWidth=t,this._updateMaxWidth()}}]),t}(),tt=n(11),et=n(104),nt=["KeyDown","KeyPress","KeyUp","Change","Cut","Copy","Paste","Input"],it=["tab","enter","shift","control","alt","escape","pageUp","pageDown","end","home","leftArrow","upArrow","rightArrow","downArrow"],ot=J;function rt(t){if(Object(r.d)(t)&&!Array.isArray(t))throw K.a.Error("E1053")}var at=I.a.inherit({ctor:function(t,e){e&&rt(e.buttons),this._buttonCollection=new G(this,this._getDefaultButtons()),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._labelContainerElement=null,this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return Object(y.a)(this.callBase(),{buttons:void 0,value:"",spellcheck:!1,showClearButton:!1,valueChangeEvent:"change",placeholder:"",inputAttr:{},onFocusIn:null,onFocusOut:null,onKeyDown:null,onKeyUp:null,onChange:null,onInput:null,onCut:null,onCopy:null,onPaste:null,onEnterKey:null,mode:"text",hoverStateEnabled:!0,focusStateEnabled:!0,text:void 0,displayValueFormatter:function(t){return Object(r.d)(t)&&!1!==t?t:""},stylingMode:Object(q.a)().editorStylingMode||"outlined",showValidationMark:!0,label:"",labelMode:"static",labelMark:""})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var t=Object(T.a)();return Object(T.d)(t)},options:{stylingMode:Object(q.a)().editorStylingMode||"filled",labelMode:"floating"}}])},_getDefaultButtons:function(){return[{name:"clear",Ctor:H}]},_isClearButtonVisible:function(){return this.option("showClearButton")&&!this.option("readOnly")},_input:function(){return this.$element().find(".dx-texteditor-input").first()},_isFocused:function(){return Object(_.b)(this._input())||this.callBase()},_inputWrapper:function(){return this.$element()},_buttonsContainer:function(){return this._inputWrapper().find(".dx-texteditor-buttons-container").eq(0)},_isControlKey:function(t){return-1!==it.indexOf(t)},_renderStylingMode:function(){this.callBase(),this._updateButtonsStyling(this.option("stylingMode"))},_initMarkup:function(){this.$element().addClass("dx-texteditor"),this._renderInput(),this._renderStylingMode(),this._renderInputType(),this._renderPlaceholder(),this._renderProps(),this.callBase(),this._renderValue(),this._renderLabel()},_render:function(){this.callBase(),this._refreshValueChangeEvent(),this._renderEvents(),this._renderEnterKeyAction(),this._renderEmptinessEvent()},_renderInput:function(){this._$buttonsContainer=this._$textEditorContainer=Object(o.a)("<div>").addClass("dx-texteditor-container").appendTo(this.$element()),this._$textEditorInputContainer=Object(o.a)("<div>").addClass("dx-texteditor-input-container").appendTo(this._$textEditorContainer),this._$textEditorInputContainer.append(this._createInput()),this._renderButtonContainers()},_getInputContainer:function(){return this._$textEditorInputContainer},_renderPendingIndicator:function(){this.$element().addClass("dx-validation-pending");var t=this._getInputContainer(),e=Object(o.a)("<div>").addClass("dx-pending-indicator").appendTo(t);this._pendingIndicator=this._createComponent(e,Y.a)},_disposePendingIndicator:function(){this._pendingIndicator&&(this._pendingIndicator.dispose(),this._pendingIndicator.$element().remove(),this._pendingIndicator=null,this.$element().removeClass("dx-validation-pending"))},_renderValidationState:function(){this.callBase();var t="pending"===this.option("validationStatus"),e=this.$element();t?(!this._pendingIndicator&&this._renderPendingIndicator(),this._showValidMark=!1):("invalid"===this.option("validationStatus")&&(this._showValidMark=!1),this._showValidMark||!0!==this.option("showValidationMark")||(this._showValidMark="valid"===this.option("validationStatus")&&!!this._pendingIndicator),this._disposePendingIndicator()),e.toggleClass("dx-valid",!!this._showValidMark)},_renderButtonContainers:function(){var t=this.option("buttons");this._$beforeButtonsContainer=this._buttonCollection.renderBeforeButtons(t,this._$buttonsContainer),this._$afterButtonsContainer=this._buttonCollection.renderAfterButtons(t,this._$buttonsContainer)},_cleanButtonContainers:function(){var t,e;null===(t=this._$beforeButtonsContainer)||void 0===t||t.remove(),null===(e=this._$afterButtonsContainer)||void 0===e||e.remove(),this._buttonCollection.clean()},_clean:function(){this._buttonCollection.clean(),this._disposePendingIndicator(),this._unobserveLabelContainerResize(),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._$textEditorContainer=null,this._$buttonsContainer=null,this.callBase()},_createInput:function(){var t=Object(o.a)("<input>");return this._applyInputAttributes(t,this.option("inputAttr")),t},_setSubmitElementName:function(t){var e=this.option("inputAttr.name");return this.callBase(t||e||"")},_applyInputAttributes:function(t,e){var n=Object(y.a)(this._getDefaultAttributes(),e);t.attr(n).addClass("dx-texteditor-input").css("minHeight",this.option("height")?"0":"")},_getDefaultAttributes:function(){var t={autocomplete:"off"},e=a.a.real(),n=e.ios,i=e.mac;return(n||i)&&(t.placeholder=" "),t},_updateButtons:function(t){this._buttonCollection.updateButtons(t)},_updateButtonsStyling:function(t){var e=this;Object(m.a)(this.option("buttons"),function(n,i){var o=i.options,r=i.name;if(o&&!o.stylingMode&&e.option("visible")){var a=e.getButton(r);a.option&&a.option("stylingMode","underlined"===t?"text":"contained")}})},_renderValue:function(){return this._renderInputValue().promise()},_renderInputValue:function(t){var e;t=null!==(e=t)&&void 0!==e?e:this.option("value");var n=this.option("text"),i=this.option("displayValue"),o=this.option("displayValueFormatter");return void 0!==i&&null!==t?n=o(i):Object(r.d)(n)||(n=o(t)),this.option("text",n),this._input().val()!==(Object(r.d)(n)?n:"")?this._renderDisplayText(n):this._toggleEmptinessEventHandler(),(new Z.a).resolve()},_renderDisplayText:function(t){this._input().val(t),this._toggleEmptinessEventHandler()},_isValueValid:function(){if(this._input().length){var t=this._input().get(0).validity;if(t)return t.valid}return!0},_toggleEmptiness:function(t){this.$element().toggleClass("dx-texteditor-empty",t),this._togglePlaceholder(t)},_togglePlaceholder:function(t){this.$element().find(".".concat("dx-placeholder")).eq(0).toggleClass("dx-state-invisible",!t)},_renderProps:function(){this._toggleReadOnlyState(),this._toggleSpellcheckState(),this._toggleTabIndex()},_toggleDisabledState:function(t){this.callBase.apply(this,arguments),this._input().prop("disabled",t)},_toggleTabIndex:function(){var t=this._input(),e=this.option("disabled"),n=this.option("focusStateEnabled");e||!n?t.attr("tabIndex",-1):t.removeAttr("tabIndex")},_toggleReadOnlyState:function(){this._input().prop("readOnly",this._readOnlyPropValue()),this.callBase()},_readOnlyPropValue:function(){return this.option("readOnly")},_toggleSpellcheckState:function(){this._input().prop("spellcheck",this.option("spellcheck"))},_unobserveLabelContainerResize:function(){this._labelContainerElement&&(et.a.unobserve(this._labelContainerElement),this._labelContainerElement=null)},_getLabelContainer:function(){return this._input()},_getLabelContainerWidth:function(){return Object(tt.k)(this._getLabelContainer())},_getLabelBeforeWidth:function(){var t=this._$beforeButtonsContainer&&Object(tt.k)(this._$beforeButtonsContainer);return null!==t&&void 0!==t?t:0},_updateLabelWidth:function(){this._label.updateBeforeWidth(this._getLabelBeforeWidth()),this._label.updateMaxWidth(this._getLabelContainerWidth())},_setLabelContainerAria:function(){this.setAria("labelledby",this._label.getId(),this._getLabelContainer())},_renderLabel:function(){this._unobserveLabelContainerResize(),this._labelContainerElement=Object(o.a)(this._getLabelContainer()).get(0);var t=this.option(),e=t.label,n=t.labelMode,i=t.labelMark,r={$editor:this.$element(),text:e,mark:i,mode:n,containsButtonsBefore:!!this._$beforeButtonsContainer,containerWidth:this._getLabelContainerWidth(),beforeWidth:this._getLabelBeforeWidth()};this._label=new ot(r),this._setLabelContainerAria(),this._labelContainerElement&&et.a.observe(this._labelContainerElement,this._updateLabelWidth.bind(this))},_renderPlaceholder:function(){this._renderPlaceholderMarkup(),this._attachPlaceholderEvents()},_renderPlaceholderMarkup:function(){this._$placeholder&&(this._$placeholder.remove(),this._$placeholder=null);var t=this._input(),e=this.option("placeholder"),n=this._$placeholder=Object(o.a)("<div>").attr("data-dx_placeholder",e);n.insertAfter(t),n.addClass("dx-placeholder")},_attachPlaceholderEvents:function(){var t=this,e=Object(g.a)(j.a.up,this.NAME);v.a.on(this._$placeholder,e,function(){v.a.trigger(t._input(),"focus")}),this._toggleEmptinessEventHandler()},_placeholder:function(){return this._$placeholder||Object(o.a)()},_clearValueHandler:function(t){var e=this._input();t.stopPropagation(),this._saveValueChangeEvent(t),this._clearValue(),!this._isFocused()&&v.a.trigger(e,"focus"),v.a.trigger(e,"input")},_clearValue:function(){this.reset()},_renderEvents:function(){var t=this,e=this._input();Object(m.a)(nt,function(n,i){if(t.hasActionSubscription("on"+i)){var o=t._createActionByOption("on"+i,{excludeValidators:["readOnly"]});v.a.on(e,Object(g.a)(i.toLowerCase(),t.NAME),function(e){t._disposed||o({event:e})})}})},_refreshEvents:function(){var t=this,e=this._input();Object(m.a)(nt,function(n,i){v.a.off(e,Object(g.a)(i.toLowerCase(),t.NAME))}),this._renderEvents()},_keyPressHandler:function(){this.option("text",this._input().val())},_keyDownHandler:function(t){var e=this._input(),n=t.ctrlKey&&"enter"===Object(g.n)(t),i=e.val()!==this.option("value");n&&i&&v.a.trigger(e,"change")},_getValueChangeEventOptionName:function(){return"valueChangeEvent"},_renderValueChangeEvent:function(){var t=Object(g.a)(this._renderValueEventName(),"".concat(this.NAME,"TextChange")),e=Object(g.a)(this.option(this._getValueChangeEventOptionName()),"".concat(this.NAME,"ValueChange")),n=Object(g.a)("keydown","".concat(this.NAME,"TextChange")),i=this._input();v.a.on(i,t,this._keyPressHandler.bind(this)),v.a.on(i,e,this._valueChangeEventHandler.bind(this)),v.a.on(i,n,this._keyDownHandler.bind(this))},_cleanValueChangeEvent:function(){var t=".".concat(this.NAME,"ValueChange"),e=".".concat(this.NAME,"TextChange");v.a.off(this._input(),t),v.a.off(this._input(),e)},_refreshValueChangeEvent:function(){this._cleanValueChangeEvent(),this._renderValueChangeEvent()},_renderValueEventName:function(){return"input change keypress"},_focusTarget:function(){return this._input()},_focusEventTarget:function(){return this.element()},_isInput:function(t){return t===this._input().get(0)},_preventNestedFocusEvent:function(t){if(t.isDefaultPrevented())return!0;var e=this._isNestedTarget(t.relatedTarget);return"focusin"===t.type?e=e&&this._isNestedTarget(t.target)&&!this._isInput(t.target):e||this._toggleFocusClass(!1,this.$element()),e&&t.preventDefault(),e},_isNestedTarget:function(t){return!!this.$element().find(t).length},_focusClassTarget:function(){return this.$element()},_focusInHandler:function(t){this._preventNestedFocusEvent(t),this.callBase.apply(this,arguments)},_focusOutHandler:function(t){this._preventNestedFocusEvent(t),this.callBase.apply(this,arguments)},_toggleFocusClass:function(t,e){this.callBase(t,this._focusClassTarget(e))},_hasFocusClass:function(t){return this.callBase(Object(o.a)(t||this.$element()))},_renderEmptinessEvent:function(){var t=this._input();v.a.on(t,"input blur",this._toggleEmptinessEventHandler.bind(this))},_toggleEmptinessEventHandler:function(){var t=this._input().val(),e=(""===t||null===t)&&this._isValueValid();this._toggleEmptiness(e)},_valueChangeEventHandler:function(t,e){this.option("readOnly")||(this._saveValueChangeEvent(t),this.option("value",arguments.length>1?e:this._input().val()),this._saveValueChangeEvent(void 0))},_renderEnterKeyAction:function(){this._enterKeyAction=this._createActionByOption("onEnterKey",{excludeValidators:["readOnly"]}),v.a.off(this._input(),"keyup.onEnterKey.dxTextEditor"),v.a.on(this._input(),"keyup.onEnterKey.dxTextEditor",this._enterKeyHandlerUp.bind(this))},_enterKeyHandlerUp:function(t){this._disposed||"enter"===Object(g.n)(t)&&this._enterKeyAction({event:t})},_updateValue:function(){this._options.silent("text",null),this._renderValue()},_dispose:function(){this._enterKeyAction=void 0,this.callBase()},_getSubmitElement:function(){return this._input()},_hasActiveElement:function(){return this._input().is(s.a.getActiveElement(this._input()[0]))},_optionChanged:function(t){var e=t.name,n=t.fullName,i=t.value,o=e.replace("on","");if(nt.includes(o))this._refreshEvents();else switch(e){case"valueChangeEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onValueChanged":this._createValueChangeAction();break;case"focusStateEnabled":this.callBase(t),this._toggleTabIndex();break;case"spellcheck":this._toggleSpellcheckState();break;case"mode":this._renderInputType();break;case"onEnterKey":this._renderEnterKeyAction();break;case"placeholder":this._renderPlaceholder();break;case"label":this._label.updateText(i),this._setLabelContainerAria();break;case"labelMark":this._label.updateMark(i);break;case"labelMode":this._label.updateMode(i),this._setLabelContainerAria();break;case"width":this.callBase(t),this._label.updateMaxWidth(this._getLabelContainerWidth());break;case"readOnly":case"disabled":this._updateButtons(),this.callBase(t);break;case"showClearButton":this._updateButtons(["clear"]);break;case"text":break;case"value":this._updateValue(),this.callBase(t);break;case"inputAttr":this._applyInputAttributes(this._input(),this.option(e));break;case"stylingMode":this._renderStylingMode(),this._updateLabelWidth();break;case"buttons":n===e&&rt(i),this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode")),this._updateLabelWidth(),this._label.updateContainsButtonsBefore(!!this._$beforeButtonsContainer);break;case"visible":this.callBase(t),i&&this.option("buttons")&&(this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode")));break;case"displayValueFormatter":this._invalidate();break;case"showValidationMark":break;default:this.callBase(t)}},_renderInputType:function(){this._setInputType(this.option("mode"))},_setInputType:function(t){var e=this._input();"search"===t&&(t="text");try{e.prop("type",t)}catch(n){e.prop("type","text")}},getButton:function(t){return this._buttonCollection.getButton(t)},focus:function(){v.a.trigger(this._input(),"focus")},reset:function(){this._showValidMark&&(this._showValidMark=!1,this._renderValidationState());var t=this._getDefaultOptions();this.option("value")===t.value?(this._options.silent("text",""),this._renderValue()):this.option("value",t.value)},on:function(t,e){var n=this.callBase(t,e),i=t.charAt(0).toUpperCase()+t.substr(1);return nt.indexOf(i)>=0&&this._refreshEvents(),n}}),st=n(41),lt=n(48),ct=function(){function t(e){Object(M.a)(this,t),this.editor=e,this.DIRECTION={FORWARD:"forward",BACKWARD:"backward"},this.NAME=this._getStrategyName()}return Object(D.a)(t,[{key:"_getStrategyName",value:function(){return"base"}},{key:"editorOption",value:function(){var t;return(t=this.editor).option.apply(t,arguments)}},{key:"editorInput",value:function(){return this.editor._input()}},{key:"editorCaret",value:function(t){if(!t)return this.editor._caret();this.editor._caret(t)}},{key:"getHandler",value:function(t){return(this["_".concat(t,"Handler")]||function(){}).bind(this)}},{key:"attachEvents",value:function(){var t=this,e=this.editorInput();this.getHandleEventNames().forEach(function(n){var i=Object(g.a)(n.toLowerCase(),"dxMask");v.a.on(e,i,t.getEventHandler(n))}),this._attachChangeEventHandlers()}},{key:"getHandleEventNames",value:function(){return["focusIn","focusOut","keyDown","input","paste","cut","drop"]}},{key:"getEventHandler",value:function(t){return this["_".concat(t,"Handler")].bind(this)}},{key:"detachEvents",value:function(){v.a.off(this.editorInput(),".".concat("dxMask"))}},{key:"_attachChangeEventHandlers",value:function(){this.editorOption("valueChangeEvent").split(" ").includes("change")&&v.a.on(this.editorInput(),Object(g.a)("blur beforedeactivate","dxMask"),function(t){this._suppressCaretChanging(this._changeHandler,[t]),this._changeHandler(t)}.bind(this.editor))}},{key:"_focusInHandler",value:function(){if(this.editor._showMaskPlaceholder(),this.editor._direction(this.DIRECTION.FORWARD),!this.editor._isValueEmpty()&&this.editorOption("isValid"))this.editor._adjustCaret();else{var t=this.editor._maskRulesChain.first();this._caretTimeout=setTimeout(function(){this._caret({start:t,end:t})}.bind(this.editor),0)}}},{key:"_focusOutHandler",value:function(t){this.editor._changeHandler(t),"onFocus"===this.editorOption("showMaskMode")&&this.editor._isValueEmpty()&&(this.editorOption("text",""),this.editor._renderDisplayText(""))}},{key:"_cutHandler",value:function(t){var e=this.editorCaret(),n=this.editorInput().val().substring(e.start,e.end);this.editor._maskKeyHandler(t,function(){return Object(lt.b)(t,n)})}},{key:"_dropHandler",value:function(){this._clearDragTimer(),this._dragTimer=setTimeout(function(){this.option("value",this._convertToValue(this._input().val()))}.bind(this.editor))}},{key:"_clearDragTimer",value:function(){clearTimeout(this._dragTimer)}},{key:"_keyDownHandler",value:function(){this._keyPressHandled=!1}},{key:"_pasteHandler",value:function(t){var e=this.editor;this._keyPressHandled=!0;var n=this.editorCaret();e._maskKeyHandler(t,function(){var i=Object(lt.b)(t),o=e._maskRulesChain.text().substring(n.end),r=e._handleChain({text:i,start:n.start,length:i.length}),a=n.start+r;e._handleChain({text:o,start:a,length:o.length}),e._caret({start:a,end:a})})}},{key:"_autoFillHandler",value:function(t){var e=this,n=this.editor,i=this.editorInput().val();this._inputHandlerTimer=setTimeout(function(){e._keyPressHandled=!0,e._isAutoFill()&&(e._keyPressHandled=!0,n._maskKeyHandler(t,function(){n._handleChain({text:i,start:0,length:i.length})}),n._validateMask())})}},{key:"_isAutoFill",value:function(){var t=this.editor._input(),e=!1;if(p.a.webkit){var n=t.get(0);e=n&&n.matches(":-webkit-autofill")}return e}},{key:"runWithoutEventProcessing",value:function(t){var e=this._keyPressHandled;this._keyPressHandled=!0,t(),this._keyPressHandled=e}},{key:"_backspaceHandler",value:function(){}},{key:"_delHandler",value:function(t){var e=this.editor;this._keyPressHandled=!0,e._maskKeyHandler(t,function(){return!e._hasSelection()&&e._handleKey(" ")})}},{key:"clean",value:function(){this._clearDragTimer(),clearTimeout(this._backspaceHandlerTimeout),clearTimeout(this._caretTimeout),clearTimeout(this._inputHandlerTimer)}}]),t}(),ut=function(t){function e(){return Object(M.a)(this,e),Object(A.a)(this,Object(B.a)(e).apply(this,arguments))}return Object(L.a)(e,t),Object(D.a)(e,[{key:"_getStrategyName",value:function(){return"default"}},{key:"getHandleEventNames",value:function(){return[].concat(Object(st.a)(Object(R.a)(Object(B.a)(e.prototype),"getHandleEventNames",this).call(this)),["keyPress"])}},{key:"_keyPressHandler",value:function(t){if(!this._keyPressHandled&&(this._keyPressHandled=!0,!this.editor._isControlKeyFired(t))){var e=this.editor;e._maskKeyHandler(t,function(){return e._handleKey(Object(g.g)(t))})}}},{key:"_inputHandler",value:function(t){if(this._backspaceInputHandled(t.originalEvent&&t.originalEvent.inputType)&&this._handleBackspaceInput(t),t.originalEvent&&this._autoFillHandler(t),!this._keyPressHandled){this._keyPressHandled=!0;var e=this.editorInput().val(),n=this.editorCaret();if(n.end){n.start=n.end-1;var i=e.substring(0,n.start)+e.substring(n.end),o=e[n.start],r=this.editor;this.editorInput().val(i),r._caret({start:n.start,end:n.start}),r._maskKeyHandler(t,function(){return r._handleKey(o)})}}}},{key:"_backspaceHandler",value:function(t){var e=this,n=this.editor;this._keyPressHandled=!0;var i=function(t,i){t&&(n._direction(e.DIRECTION.FORWARD),n._adjustCaret());var o=e.editorCaret();return new Promise(function(t){clearTimeout(e._backspaceHandlerTimeout),e._backspaceHandlerTimeout=setTimeout(function(){i(o),t()})})};n._maskKeyHandler(t,function(){return n._hasSelection()?i(!0,function(t){n._displayMask(t),n._maskRulesChain.reset()}):n._tryMoveCaretBackward()?i(!1,function(t){e.editorCaret(t)}):(n._handleKey(" ",e.DIRECTION.BACKWARD),i(!0,function(t){n._displayMask(t),n._maskRulesChain.reset()}))})}},{key:"_backspaceInputHandled",value:function(t){return"deleteContentBackward"===t&&!this._keyPressHandled}},{key:"_handleBackspaceInput",value:function(t){var e=this.editorCaret(),n=e.start,i=e.end;this.editorCaret({start:n+1,end:i+1}),this._backspaceHandler(t)}}]),e}(ct),ht=function(t){function e(){return Object(M.a)(this,e),Object(A.a)(this,Object(B.a)(e).apply(this,arguments))}return Object(L.a)(e,t),Object(D.a)(e,[{key:"_getStrategyName",value:function(){return"inputEvents"}},{key:"getHandleEventNames",value:function(){return[].concat(Object(st.a)(Object(R.a)(Object(B.a)(e.prototype),"getHandleEventNames",this).call(this)),["beforeInput"])}},{key:"_beforeInputHandler",value:function(){this._prevCaret=this.editorCaret()}},{key:"_inputHandler",value:function(t){var e=t.originalEvent;if(e){var n=e.inputType,i=e.data,o=this.editorCaret();if("deleteContentBackward"===n){var r=this._prevCaret.end-this._prevCaret.start||1;this.editor.setBackwardDirection(),this._updateEditorMask({start:o.start,length:r,text:this._getEmptyString(r)})}else{var a,s,l;if(!o.end)return;this._autoFillHandler(e),this.editorCaret(o);var c=(null===(a=this._prevCaret)||void 0===a?void 0:a.end)-(null===(s=this._prevCaret)||void 0===s?void 0:s.start),u=i+(c?this._getEmptyString(c-i.length):"");this.editor.setForwardDirection(),this._updateEditorMask({start:null===(l=this._prevCaret)||void 0===l?void 0:l.start,length:c||u.length,text:u})||this.editorCaret(this._prevCaret)}}}},{key:"_getEmptyString",value:function(t){return Array(t+1).join(" ")}},{key:"_updateEditorMask",value:function(t){var e=t.text.length,n=this.editor._handleChain(t);if(this.editor.isForwardDirection()){var i=this.editorCaret(),o=i.start,r=i.end,a=n-e;o<=n&&n>1&&this.editorCaret({start:o+a,end:r+a}),this.editor.isForwardDirection()&&this.editor._adjustCaret()}return this.editor._displayMask(),!!n}}]),e}(ct),dt=function(){return{}},pt=d,ft={0:/[0-9]/,9:/[0-9\s]/,"#":/[-+0-9\s]/,L:function(t){return gt(t)},l:function(t){return gt(t)||vt(t)},C:/\S/,c:/./,A:function(t){return gt(t)||mt(t)},a:function(t){return gt(t)||mt(t)||vt(t)}};function mt(t){return/[0-9]/.test(t)}function gt(t){var e=t.charCodeAt();return 64<e&&e<91||96<e&&e<123||e>127}function vt(t){return" "===t}var yt=at.inherit({_getDefaultOptions:function(){return Object(y.a)(this.callBase(),{mask:"",maskChar:"_",maskRules:{},maskInvalidMessage:b.a.format("validation-mask"),useMaskedValue:!1,showMaskMode:"always"})},_supportedKeys:function(){var t=this,e={backspace:t._maskStrategy.getHandler("backspace"),del:t._maskStrategy.getHandler("del"),enter:t._changeHandler},n=t.callBase();return Object(m.a)(e,function(e,i){var o=n[e];n[e]=function(e){t.option("mask")&&i.call(t,e),o&&o(e)}}),n},_getSubmitElement:function(){return this.option("mask")?this._$hiddenElement:this.callBase()},_init:function(){this.callBase(),this._initMaskStrategy()},_initMaskStrategy:function(){this._maskStrategy=f()?new ht(this):new ut(this)},_initMarkup:function(){this._renderHiddenElement(),this.callBase()},_attachMouseWheelEventHandlers:function(){if(this._onMouseWheel!==C.noop){var t=this._input(),e=Object(g.a)(x.a,this.NAME),n=this._createAction(function(e){var n=e.event;Object(_.b)(t)&&!Object(g.i)(n)&&(this._onMouseWheel(n),n.preventDefault(),n.stopPropagation())}.bind(this));v.a.off(t,e),v.a.on(t,e,function(t){n({event:t})})}},_onMouseWheel:C.noop,_render:function(){this._renderMask(),this.callBase(),this._attachMouseWheelEventHandlers()},_renderHiddenElement:function(){this.option("mask")&&(this._$hiddenElement=Object(o.a)("<input>").attr("type","hidden").appendTo(this._inputWrapper()))},_removeHiddenElement:function(){this._$hiddenElement&&this._$hiddenElement.remove()},_renderMask:function(){this.$element().removeClass("dx-texteditor-masked"),this._maskRulesChain=null,this._maskStrategy.detachEvents(),this.option("mask")&&(this.$element().addClass("dx-texteditor-masked"),this._maskStrategy.attachEvents(),this._parseMask(),this._renderMaskedValue())},_suppressCaretChanging:function(t,e){pt=dt;try{t.apply(this,e)}finally{pt=d}},_changeHandler:function(t){var e=this._input(),n=e.val();if(n!==this._changedValue){this._changedValue=n;var i=Object(g.b)(t,{type:"change"});v.a.trigger(e,i)}},_parseMask:function(){this._maskRules=Object(y.a)({},ft,this.option("maskRules")),this._maskRulesChain=this._parseMaskRule(0)},_parseMaskRule:function(t){var e=this.option("mask");if(t>=e.length)return new P;var n=e[t],i="\\"===n,o=i?new E({maskChar:e[t+1]}):this._getMaskRule(n);return o.next(this._parseMaskRule(t+1+i)),o},_getMaskRule:function(t){var e;return Object(m.a)(this._maskRules,function(n,i){if(n===t)return e={pattern:n,allowedChars:i},!1}),Object(r.d)(e)?new k(Object(y.a)({maskChar:this.option("maskChar")},e)):new E({maskChar:t})},_renderMaskedValue:function(){if(this._maskRulesChain){var t=this.option("value")||"";this._maskRulesChain.clear(this._normalizeChainArguments());var e={length:t.length};e[this._isMaskedValueMode()?"text":"value"]=t,this._handleChain(e),this._displayMask()}},_replaceSelectedText:function(t,e,n){return void 0===n?t:t.slice(0,e.start)+n+t.slice(e.end)},_isMaskedValueMode:function(){return this.option("useMaskedValue")},_displayMask:function(t){t=t||this._caret(),this._renderValue(),this._caret(t)},_isValueEmpty:function(){return Object(O.c)(this._value)},_shouldShowMask:function(){return"onFocus"!==this.option("showMaskMode")||(Object(_.b)(this._input())||!this._isValueEmpty())},_showMaskPlaceholder:function(){if(this._shouldShowMask()){var t=this._maskRulesChain.text();this.option("text",t),"onFocus"===this.option("showMaskMode")&&this._renderDisplayText(t)}},_renderValue:function(){if(this._maskRulesChain&&(this._showMaskPlaceholder(),this._$hiddenElement)){var t=this._maskRulesChain.value(),e=Object(O.c)(t)?"":this._getPreparedValue();this._$hiddenElement.val(e)}return this.callBase()},_getPreparedValue:function(){return this._convertToValue().replace(/\s+$/,"")},_valueChangeEventHandler:function(t){this._maskRulesChain?(this._saveValueChangeEvent(t),this.option("value",this._getPreparedValue())):this.callBase.apply(this,arguments)},_isControlKeyFired:function(t){return this._isControlKey(Object(g.n)(t))||Object(g.i)(t)},_handleChain:function(t){var e=this._maskRulesChain.handle(this._normalizeChainArguments(t));return this._value=this._maskRulesChain.value(),this._textValue=this._maskRulesChain.text(),e},_normalizeChainArguments:function(t){return(t=t||{}).index=0,t.fullText=this._maskRulesChain.text(),t},_convertToValue:function(t){return t=this._isMaskedValueMode()?this._replaceMaskCharWithEmpty(t||this._textValue||""):t||this._value||""},_replaceMaskCharWithEmpty:function(t){return t.replace(new RegExp(this.option("maskChar"),"g")," ")},_maskKeyHandler:function(t,e){var n=this;if(!this.option("readOnly")){this.setForwardDirection(),t.preventDefault(),this._handleSelection();var i=this._input().val(),o=function(){i!==n._input().val()&&n._maskStrategy.runWithoutEventProcessing(function(){return v.a.trigger(n._input(),"input")})},r=e();r?r.then(o):(this.setForwardDirection(),this._adjustCaret(),this._displayMask(),this._maskRulesChain.reset(),o())}},_handleKey:function(t,e){this._direction(e||"forward"),this._adjustCaret(t),this._handleKeyChain(t),this._moveCaret()},_handleSelection:function(){if(this._hasSelection()){var t=this._caret(),e=new Array(t.end-t.start+1).join(" ");this._handleKeyChain(e)}},_handleKeyChain:function(t){var e=this._caret(),n=this.isForwardDirection()?e.start:e.start-1,i=this.isForwardDirection()?e.end:e.end-1,o=n===i?1:i-n;this._handleChain({text:t,start:n,length:o})},_tryMoveCaretBackward:function(){this.setBackwardDirection();var t=this._caret().start;return this._adjustCaret(),!t||t!==this._caret().start},_adjustCaret:function(t){var e=this._caret().start,n=this.isForwardDirection(),i=this._maskRulesChain.adjustedCaret(e,n,t);this._caret({start:i,end:i})},_moveCaret:function(){var t=this._caret().start,e=t+(this.isForwardDirection()?0:-1),n=this._maskRulesChain.isAccepted(e)?t+(this.isForwardDirection()?1:-1):t;this._caret({start:n,end:n})},_caret:function(t,e){var n=this._input();if(n.length)return arguments.length?void pt(n,t,e):pt(n)},_hasSelection:function(){var t=this._caret();return t.start!==t.end},_direction:function(t){if(!arguments.length)return this._typingDirection;this._typingDirection=t},setForwardDirection:function(){this._direction("forward")},setBackwardDirection:function(){this._direction("backward")},isForwardDirection:function(){return"forward"===this._direction()},_clean:function(){this._maskStrategy&&this._maskStrategy.clean(),this.callBase()},_validateMask:function(){if(this._maskRulesChain){var t=Object(O.c)(this.option("value"))||this._maskRulesChain.isValid(this._normalizeChainArguments());this.option({isValid:t,validationError:t?null:{editorSpecific:!0,message:this.option("maskInvalidMessage")}})}},_updateHiddenElement:function(){this._removeHiddenElement(),this.option("mask")&&(this._input().removeAttr("name"),this._renderHiddenElement()),this._setSubmitElementName(this.option("name"))},_updateMaskOption:function(){this._updateHiddenElement(),this._renderMask(),this._validateMask()},_processEmptyMask:function(t){if(!t){var e=this.option("value");this.option({text:e,isValid:!0}),this.validationRequest.fire({value:e,editor:this}),this._renderValue()}},_optionChanged:function(t){switch(t.name){case"mask":this._updateMaskOption(),this._processEmptyMask(t.value);break;case"maskChar":case"maskRules":case"useMaskedValue":this._updateMaskOption();break;case"value":this._renderMaskedValue(),this._validateMask(),this.callBase(t),this._changedValue=this._input().val();break;case"maskInvalidMessage":break;case"showMaskMode":this.option("text",""),this._renderValue();break;default:this.callBase(t)}}});Object(i.a)("dxTextEditor",yt);e.a=yt},function(t,e,n){"use strict";var i=n(11),o=n(2),r=n(64),a=n(3),s=n(20),l=n(17),c=n(26),u=n(34),h=n(57),d=function(t,e){Object(u.e)(t,{left:e})},p=function(t,e,n,i){h.a.animate(t,{type:"slide",to:{left:e},duration:n,complete:i})},f=function(t){h.a.stop(t,!0)},m=n(28),g=n(5),v=n(80),y=n(33),_=n(1),b=n(135),C=n(181),O=n(16),x=function(t){return+t},S=b.a.inherit({_activeStateUnit:".dx-multiview-item",_supportedKeys:function(){return Object(a.a)(this.callBase(),{pageUp:g.noop,pageDown:g.noop})},_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{selectedIndex:0,swipeEnabled:!0,animationEnabled:!0,loop:!1,deferRendering:!0,_itemAttributes:{role:"tabpanel"},loopItemFocus:!1,selectOnFocus:!0,selectionMode:"single",selectionRequired:!0,selectionByClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===s.a.real().deviceType&&!s.a.isSimulator()},options:{focusStateEnabled:!0}}])},_itemClass:function(){return"dx-multiview-item"},_itemDataKey:function(){return"dxMultiViewItemData"},_itemContainer:function(){return this._$itemContainer},_itemElements:function(){return this._itemContainer().children(this._itemSelector())},_itemWidth:function(){return this._itemWidthValue||(this._itemWidthValue=Object(i.k)(this._$wrapper)),this._itemWidthValue},_clearItemWidthCache:function(){delete this._itemWidthValue},_itemsCount:function(){return this.option("items").length},_normalizeIndex:function(t){var e=this._itemsCount();return t<0&&(t+=e),t>=e&&(t-=e),t},_getRTLSignCorrection:function(){return this.option("rtlEnabled")?-1:1},_init:function(){this.callBase.apply(this,arguments);var t=this.$element();t.addClass("dx-multiview"),this._$wrapper=Object(o.a)("<div>").addClass("dx-multiview-wrapper"),this._$wrapper.appendTo(t),this._$itemContainer=Object(o.a)("<div>").addClass("dx-multiview-item-container"),this._$itemContainer.appendTo(this._$wrapper),this.option("loopItemFocus",this.option("loop")),this._initSwipeable()},_initMarkup:function(){this._deferredItems=[],this.callBase();var t=this._getSelectedItemIndices();this._updateItemsVisibility(t[0])},_afterItemElementDeleted:function(t,e){this.callBase(t,e),this._deferredItems&&this._deferredItems.splice(e.itemIndex,1)},_beforeItemElementInserted:function(t){this.callBase.apply(this,arguments),this._deferredItems&&this._deferredItems.splice(t.index,0,null)},_executeItemRenderAction:function(t,e,n){t=(this.option("items")||[]).indexOf(e),this.callBase(t,e,n)},_renderItemContent:function(t){var e=new O.a,n=this,i=this.callBase,o=new O.a;return o.done(function(){var o=i.call(n,t);e.resolve(o)}),this._deferredItems[t.index]=o,this.option("deferRendering")||o.resolve(),e.promise()},_render:function(){var t=this;this.callBase(),Object(g.deferRender)(function(){var e=t._getSelectedItemIndices();t._updateItems(e[0])})},_updateItems:function(t,e){this._updateItemsPosition(t,e),this._updateItemsVisibility(t,e)},_modifyByChanges:function(){this.callBase.apply(this,arguments);var t=this._getSelectedItemIndices();this._updateItemsVisibility(t[0])},_updateItemsPosition:function(t,e){var n=this._itemElements(),i=Object(_.d)(e)?-this._animationDirection(e,t):void 0,o=n.eq(t);d(o,0),Object(_.d)(e)&&d(n.eq(e),100*i+"%")},_updateItemsVisibility:function(t,e){this._itemElements().each(function(n,i){var r=Object(o.a)(i),a=n!==t&&n!==e;a||this._renderSpecificItem(n),r.toggleClass("dx-multiview-item-hidden",a),this.setAria("hidden",a||void 0,r)}.bind(this))},_renderSpecificItem:function(t){var e=this._itemElements().eq(t),n=e.find(this._itemContentClass()).length>0;Object(_.d)(t)&&!n&&(this._deferredItems[t].resolve(),Object(v.b)(e))},_refreshItem:function(t,e){this.callBase(t,e),this._updateItemsVisibility(this.option("selectedIndex"))},_setAriaSelected:g.noop,_updateSelection:function(t,e){var n=t[0],o=e[0];f(this._$itemContainer),this._updateItems(o,n);var r=this._animationDirection(n,o);this._animateItemContainer(r*this._itemWidth(),function(){d(this._$itemContainer,0),this._updateItems(n),Object(i.k)(this._$itemContainer)}.bind(this))},_animateItemContainer:function(t,e){var n=this.option("animationEnabled")?200:0;p(this._$itemContainer,t,n,e)},_animationDirection:function(t,e){var n,i=(n=this._$itemContainer,Object(u.d)(n).left),o=(e-t)*this._getRTLSignCorrection()*this._getItemFocusLoopSignCorrection(),r=0!==i?i:o;return Object(m.g)(r)},_getSwipeDisabledState:function(){return!this.option("swipeEnabled")||this._itemsCount()<=1},_initSwipeable:function(){var t=this;this._createComponent(this.$element(),C.a,{disabled:this._getSwipeDisabledState(),elastic:!1,itemSizeFunc:this._itemWidth.bind(this),onStart:function(e){return t._swipeStartHandler(e.event)},onUpdated:function(e){return t._swipeUpdateHandler(e.event)},onEnd:function(e){return t._swipeEndHandler(e.event)}})},_swipeStartHandler:function(t){f(this._$itemContainer);var e=this.option("selectedIndex"),n=this.option("loop"),i=this._itemsCount()-1,o=this.option("rtlEnabled");t.maxLeftOffset=x(n||(o?e>0:e<i)),t.maxRightOffset=x(n||(o?e<i:e>0)),this._swipeDirection=null},_swipeUpdateHandler:function(t){var e=t.offset,n=Object(m.g)(e)*this._getRTLSignCorrection();if(d(this._$itemContainer,e*this._itemWidth()),n!==this._swipeDirection){this._swipeDirection=n;var i=this.option("selectedIndex"),o=this._normalizeIndex(i-n);this._updateItems(i,o)}},_swipeEndHandler:function(t){var e=t.targetOffset*this._getRTLSignCorrection();if(e){this.option("selectedIndex",this._normalizeIndex(this.option("selectedIndex")-e));var n=this.itemElements().filter(".dx-item-selected");this.option("focusStateEnabled")&&this.option("focusedElement",Object(y.a)(n))}else this._animateItemContainer(0,g.noop)},_getItemFocusLoopSignCorrection:function(){return this._itemFocusLooped?-1:1},_moveFocus:function(){this.callBase.apply(this,arguments),this._itemFocusLooped=!1},_prevItem:function(t){var e=this.callBase.apply(this,arguments);return this._itemFocusLooped=e.is(t.last()),e},_nextItem:function(t){var e=this.callBase.apply(this,arguments);return this._itemFocusLooped=e.is(t.first()),e},_dimensionChanged:function(){this._clearItemWidthCache()},_visibilityChanged:function(t){t&&this._dimensionChanged()},_updateSwipeDisabledState:function(){var t=this._getSwipeDisabledState();C.a.getInstance(this.$element()).option("disabled",t)},_optionChanged:function(t){var e=t.value;switch(t.name){case"loop":this.option("loopItemFocus",e);break;case"animationEnabled":break;case"swipeEnabled":this._updateSwipeDisabledState();break;case"deferRendering":this._invalidate();break;case"items":this._updateSwipeDisabledState(),this.callBase(t);break;default:this.callBase(t)}}});Object(c.a)("dxMultiView",S);var w=S,P=n(7),k=n(65),E=n(121),T=n(10),I=n(44),j=n(9),M=n(106),D=M.a.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this))},_renderBadge:function(t){if(this._$element.children(".dx-badge").remove(),t){var e=Object(o.a)("<div>").addClass("dx-tabs-item-badge").addClass("dx-badge").text(t);this._$element.append(e)}}}),A=n(47),R=n(113),B=n(161),L=n(82),N=n(88);function z(t){return t.scrollWidth-t.clientWidth}n(212);function F(t,e){return Math.round(t)<=e}function H(t,e,n){return Math.round(z(t)-e)<=n}var V=b.a.inherit({_activeStateUnit:".dx-tab",_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{hoverStateEnabled:!0,showNavButtons:!0,scrollByContent:!0,scrollingEnabled:!0,selectionMode:"single",activeStateEnabled:!0,selectionRequired:!1,selectOnFocus:!0,loopItemFocus:!1,useInkRipple:!1,badgeExpr:function(t){return t?t.badge:void 0},_itemAttributes:{role:"tab"}})},_defaultOptionsRules:function(){var t=Object(A.a)();return this.callBase().concat([{device:function(){return"desktop"!==s.a.real().deviceType},options:{showNavButtons:!1}},{device:{deviceType:"desktop"},options:{scrollByContent:!1}},{device:function(){return"desktop"===s.a.real().deviceType&&!s.a.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return Object(A.d)(t)},options:{useInkRipple:!0,selectOnFocus:!1}}])},_init:function(){this.callBase(),this.setAria("role","tablist"),this.$element().addClass("dx-tabs"),this._renderWrapper(),this._renderMultiple(),this._feedbackHideTimeout=100},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new N.a(function(t,e){Object(_.k)(e)?this._prepareDefaultItemTemplate(e,t):t.text(String(e));var n=Object(L.a)(e.icon);n&&n.prependTo(t),t.wrapInner(Object(o.a)("<span>").addClass("dx-tab-text"))}.bind(this),["text","html","icon"],this.option("integrationOptions.watchMethod"))})},_createItemByTemplate:function(t,e){var n=this,i=e.itemData,o=e.container,r=e.index;return this._deferredTemplates[r]=new O.a,t.render({model:i,container:o,index:r,onRendered:function(){return n._deferredTemplates[r].resolve()}})},_itemClass:function(){return"dx-tab"},_selectedItemClass:function(){return"dx-tab-selected"},_itemDataKey:function(){return"dxTabData"},_initMarkup:function(){this._deferredTemplates=[],this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.$element().addClass("dx-overflow-hidden")},_render:function(){this.callBase(),this._deferRenderScrolling()},_deferRenderScrolling:function(){var t=this;O.c.apply(this,this._deferredTemplates).done(function(){return t._renderScrolling()})},_renderScrolling:function(){var t=["dx-tabs-stretched","dx-tabs-expanded","dx-overflow-hidden"];if(this.$element().removeClass(t.join(" ")),this.option("scrollingEnabled")&&this._isItemsWidthExceeded()){this._scrollable||(this._renderScrollable(),this._renderNavButtons());var e=this.getScrollable();if(e.update(),this.option("rtlEnabled")){var n=z(Object(o.a)(this.getScrollable().container()).get(0));e.scrollTo({left:n})}this._updateNavButtonsVisibility(),this._scrollToItem(this.option("selectedItem"))}this.option("scrollingEnabled")&&this._isItemsWidthExceeded()||(this._cleanScrolling(),this._needStretchItems()&&!this._isItemsWidthExceeded()&&this.$element().addClass("dx-tabs-stretched"),this.$element().removeClass("dx-tabs-nav-buttons").addClass("dx-tabs-expanded"))},_isItemsWidthExceeded:function(){return this._getSummaryItemsWidth(this._getVisibleItems(),!0)-1>Object(i.k)(this.$element())},_needStretchItems:function(){var t=this._getVisibleItems(),e=Object(i.k)(this.$element()),n=[];return Object(j.a)(t,function(t,e){n.push(Object(i.h)(e,!0))}),Math.max.apply(null,n)>=e/t.length},_cleanNavButtons:function(){this._leftButton&&this._rightButton&&(this._leftButton.$element().remove(),this._rightButton.$element().remove(),this._leftButton=null,this._rightButton=null)},_cleanScrolling:function(){this._scrollable&&(this._$wrapper.appendTo(this.$element()),this._scrollable.$element().remove(),this._scrollable=null,this._cleanNavButtons())},_renderInkRipple:function(){this._inkRipple=Object(E.c)()},_toggleActiveState:function(t,e,n){if(this.callBase.apply(this,arguments),this._inkRipple){var i={element:t,event:n};e?this._inkRipple.showWave(i):this._inkRipple.hideWave(i)}},_renderMultiple:function(){"multiple"===this.option("selectionMode")&&this.option("selectOnFocus",!1)},_renderWrapper:function(){this._$wrapper=Object(o.a)("<div>").addClass("dx-tabs-wrapper"),this.$element().append(this._$wrapper)},_itemContainer:function(){return this._$wrapper},_renderScrollable:function(){var t=this,e=this.$element().wrapInner(Object(o.a)("<div>").addClass("dx-tabs-scrollable")).children();this._scrollable=this._createComponent(e,B.a,{direction:"horizontal",showScrollbar:"never",useKeyboard:!1,useNative:!1,scrollByContent:this.option("scrollByContent"),onScroll:function(){t._updateNavButtonsVisibility()}}),this.$element().append(this._scrollable.$element())},_scrollToItem:function(t){if(this._scrollable){var e=this._editStrategy.getItemElement(t);this._scrollable.scrollToElement(e)}},_renderNavButtons:function(){if(this.$element().toggleClass("dx-tabs-nav-buttons",this.option("showNavButtons")),this.option("showNavButtons")){var t=this.option("rtlEnabled");this._leftButton=this._createNavButton(-30,t?"chevronnext":"chevronprev");var e=this._leftButton.$element();e.addClass("dx-tabs-nav-button-left"),this.$element().prepend(e),this._rightButton=this._createNavButton(30,t?"chevronprev":"chevronnext");var n=this._rightButton.$element();n.addClass("dx-tabs-nav-button-right"),this.$element().append(n)}},_updateNavButtonsVisibility:function(){var t=this.getScrollable();this._leftButton&&this._leftButton.option("disabled",F(t.scrollLeft(),1)),this._rightButton&&this._rightButton.option("disabled",H(Object(o.a)(t.container()).get(0),t.scrollLeft(),1))},_updateScrollPosition:function(t,e){this._scrollable.update(),this._scrollable.scrollBy(t/e)},_createNavButton:function(t,e){var n=this,i=n._createAction(function(){n._holdInterval=setInterval(function(){n._updateScrollPosition(t,5)},5)}),r=Object(T.a)(R.a.name,"dxNavButton"),a=Object(T.a)(I.a.up,"dxNavButton"),s=Object(T.a)(I.a.out,"dxNavButton"),l=this._createComponent(Object(o.a)("<div>").addClass("dx-tabs-nav-button"),k.default,{focusStateEnabled:!1,icon:e,onClick:function(){n._updateScrollPosition(t,1)},integrationOptions:{}}),c=l.$element();return P.a.on(c,r,{timeout:300},function(t){i({event:t})}.bind(this)),P.a.on(c,a,function(){n._clearInterval()}),P.a.on(c,s,function(){n._clearInterval()}),l},_clearInterval:function(){this._holdInterval&&clearInterval(this._holdInterval)},_updateSelection:function(t){this._scrollable&&this._scrollable.scrollToElement(this.itemElements().eq(t[0]),{left:1,right:1})},_visibilityChanged:function(t){t&&this._dimensionChanged()},_dimensionChanged:function(){this._renderScrolling()},_itemSelectHandler:function(t){"single"===this.option("selectionMode")&&this.isItemSelected(t.currentTarget)||this.callBase(t)},_clean:function(){this._deferredTemplates=[],this._cleanScrolling(),this.callBase()},_optionChanged:function(t){switch(t.name){case"useInkRipple":case"scrollingEnabled":case"showNavButtons":this._invalidate();break;case"scrollByContent":this._scrollable&&this._scrollable.option(t.name,t.value);break;case"width":this.callBase(t),this._dimensionChanged();break;case"selectionMode":this._renderMultiple(),this.callBase(t);break;case"badgeExpr":this._invalidate();break;default:this.callBase(t)}},_afterItemElementInserted:function(){this.callBase(),this._deferRenderScrolling()},_afterItemElementDeleted:function(t,e){this.callBase(t,e),this._renderScrolling()},getScrollable:function(){return this._scrollable}});V.ItemClass=D,Object(c.a)("dxTabs",V);var U=V,W=n(12),K=n(13),$=n(19),G=n(14),q=n(6),Z=n(18),Y=function(t){function e(){return Object(W.a)(this,e),Object($.a)(this,Object(q.a)(e).apply(this,arguments))}return Object(Z.a)(e,t),Object(K.a)(e,[{key:"_renderWatchers",value:function(){return this._startWatcher("badge",g.noop),Object(G.a)(Object(q.a)(e.prototype),"_renderWatchers",this).call(this)}}]),e}(M.a),X=n(15),Q=w.inherit({_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{itemTitleTemplate:"title",hoverStateEnabled:!0,showNavButtons:!1,scrollByContent:!0,scrollingEnabled:!0,onTitleClick:null,onTitleHold:null,onTitleRendered:null,badgeExpr:function(t){return t?t.badge:void 0}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===s.a.real().deviceType&&!s.a.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return!r.touch},options:{swipeEnabled:!1}},{device:{platform:"generic"},options:{animationEnabled:!1}}])},_init:function(){this.callBase(),this.$element().addClass("dx-tabpanel"),this.setAria("role","tabpanel")},_initMarkup:function(){this.callBase(),this._createTitleActions(),this._renderLayout()},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({title:new N.a(function(t,e){if(Object(_.k)(e)){var n=Object(L.a)(e.icon);n&&t.append(n),Object(_.d)(e.title)&&!Object(_.k)(e.title)&&t.append(l.a.createTextNode(e.title))}else Object(_.d)(e)&&t.text(String(e));t.wrapInner(Object(o.a)("<span>").addClass("dx-tab-text"))},["title","icon"],this.option("integrationOptions.watchMethod"))})},_createTitleActions:function(){this._createTitleClickAction(),this._createTitleHoldAction(),this._createTitleRenderedAction()},_createTitleClickAction:function(){this._titleClickAction=this._createActionByOption("onTitleClick")},_createTitleHoldAction:function(){this._titleHoldAction=this._createActionByOption("onTitleHold")},_createTitleRenderedAction:function(){this._titleRenderedAction=this._createActionByOption("onTitleRendered")},_renderContent:function(){var t=this;this.callBase(),this.option("templatesRenderAsynchronously")&&(this._resizeEventTimer=setTimeout(function(){t._updateLayout()},0))},_renderLayout:function(){if(this._tabs)this._updateLayout();else{var t=this.$element();this._$tabContainer=Object(o.a)("<div>").addClass("dx-tabpanel-tabs").appendTo(t);var e=Object(o.a)("<div>").appendTo(this._$tabContainer);this._tabs=this._createComponent(e,U,this._tabConfig()),this._$container=Object(o.a)("<div>").addClass("dx-tabpanel-container").appendTo(t),this._$container.append(this._$wrapper),this._updateLayout()}},_updateLayout:function(){if(Object(X.f)()){var t=Object(i.g)(this._$tabContainer);this._$container.css({marginTop:-t,paddingTop:t})}},_refreshActiveDescendant:function(){if(this._tabs){var t=this._tabs,e=t.itemElements(),n=Object(o.a)(e[t.option("selectedIndex")]),i=this.getFocusedItemId();this.setAria("controls",void 0,Object(o.a)(e)),this.setAria("controls",i,n)}},_tabConfig:function(){return{selectOnFocus:!0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),repaintChangesOnly:this.option("repaintChangesOnly"),tabIndex:this.option("tabIndex"),selectedIndex:this.option("selectedIndex"),badgeExpr:this.option("badgeExpr"),onItemClick:this._titleClickAction.bind(this),onItemHold:this._titleHoldAction.bind(this),itemHoldTimeout:this.option("itemHoldTimeout"),onSelectionChanged:function(t){this.option("selectedIndex",t.component.option("selectedIndex")),this._refreshActiveDescendant()}.bind(this),onItemRendered:this._titleRenderedAction.bind(this),itemTemplate:this._getTemplateByOption("itemTitleTemplate"),items:this.option("items"),noDataText:null,scrollingEnabled:this.option("scrollingEnabled"),scrollByContent:this.option("scrollByContent"),showNavButtons:this.option("showNavButtons"),itemTemplateProperty:"tabTemplate",loopItemFocus:this.option("loop"),selectionRequired:!0,onOptionChanged:function(t){if("focusedElement"===t.name)if(t.value){var e=Object(o.a)(t.value),n=this._itemElements().eq(e.index());this.option("focusedElement",Object(y.a)(n))}else this.option("focusedElement",t.value)}.bind(this),onFocusIn:function(t){this._focusInHandler(t.event)}.bind(this),onFocusOut:function(t){this._isFocusOutHandlerExecuting||this._focusOutHandler(t.event)}.bind(this)}},_renderFocusTarget:function(){this._focusTarget().attr("tabIndex",-1)},_updateFocusState:function(t,e){this.callBase(t,e),t.target===this._tabs._focusTarget().get(0)&&this._toggleFocusClass(e,this._focusTarget())},_focusOutHandler:function(t){this._isFocusOutHandlerExecuting=!0,this.callBase.apply(this,arguments),this._tabs._focusOutHandler(t),this._isFocusOutHandlerExecuting=!1},_setTabsOption:function(t,e){this._tabs&&this._tabs.option(t,e)},_visibilityChanged:function(t){t&&(this._tabs._dimensionChanged(),this._updateLayout())},registerKeyHandler:function(t,e){this.callBase(t,e),this._tabs&&this._tabs.registerKeyHandler(t,e)},repaint:function(){this.callBase(),this._tabs.repaint()},_optionChanged:function(t){var e=t.name,n=t.value,i=t.fullName;switch(e){case"dataSource":this.callBase(t);break;case"items":this._setTabsOption(e,this.option(e)),this._updateLayout(),this.option("repaintChangesOnly")||this._tabs.repaint(),this.callBase(t);break;case"width":this.callBase(t),this._tabs.repaint();break;case"selectedIndex":case"selectedItem":if(this._setTabsOption(i,n),this.callBase(t),!0===this.option("focusStateEnabled")){var r=this.option("selectedIndex"),a=this._itemElements().eq(r);this.option("focusedElement",Object(y.a)(a))}break;case"itemHoldTimeout":case"focusStateEnabled":case"hoverStateEnabled":this._setTabsOption(i,n),this.callBase(t);break;case"scrollingEnabled":case"scrollByContent":case"showNavButtons":this._setTabsOption(i,n);break;case"focusedElement":var s=n?Object(o.a)(n).index():n,l=n?this._tabs._itemElements().eq(s):n;this._setTabsOption("focusedElement",Object(y.a)(l)),this.callBase(t);break;case"itemTitleTemplate":this._setTabsOption("itemTemplate",this._getTemplateByOption("itemTitleTemplate"));break;case"onTitleClick":this._createTitleClickAction(),this._setTabsOption("onItemClick",this._titleClickAction.bind(this));break;case"onTitleHold":this._createTitleHoldAction(),this._setTabsOption("onItemHold",this._titleHoldAction.bind(this));break;case"onTitleRendered":this._createTitleRenderedAction(),this._setTabsOption("onItemRendered",this._titleRenderedAction.bind(this));break;case"loop":this._setTabsOption("loopItemFocus",n);break;case"badgeExpr":this._invalidate();break;default:this.callBase(t)}},_clean:function(){clearTimeout(this._resizeEventTimer),this.callBase()}});Q.ItemClass=Y,Object(c.a)("dxTabPanel",Q);e.a=Q},function(t,e,n){"use strict";var i=n(41),o=n(27),r=n(40),a=n(12),s=n(13),l=n(19),c=n(14),u=n(6),h=n(18),d=n(24),p=n(25),f=n(192),m=n(36),g=n(169),v=n(17),y=n(46),_=n(70),b=function(t){var e=t.parentNode;e&&(Object(y.b)(t),e.$V=t.$V,Object(p.t)(null,e),e.appendChild(t),t.innerHTML="",delete e.$V),delete t.$V},C=Object(_.a)({createElement:function(t,e){return Object(g.a)(t,e)},remove:b,onAfterRender:function(){m.d.callEffects()},onPreRender:function(){m.d.lock()},render:function(t,e,n,i){if(i)Object(p.t)(Object(g.a)(t,e),n);else{var o=n.parentNode,r=null===n||void 0===n?void 0:n.nextSibling,a=v.a.createElement("div");a.appendChild(n);var s=v.a.createDocumentFragment().appendChild(a);!!n.$V&&b(n),Object(m.i)(Object(g.a)(t,e),s),n.$V=s.$V,o&&o.insertBefore(n,r)}}}),O=n(2),x=n(78),S=n(3),w=n(33),P=n(1),k=n(22),E=n(48),T=n(9),I=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).renderTemplate=n.renderTemplate.bind(Object(k.a)(Object(k.a)(n))),n}return Object(h.a)(e,t),Object(s.a)(e,[{key:"renderTemplate",value:function(){var t,e=Object(p.q)(this.$LI,!0),n=e.parentNode,i=Object(O.a)(n),o=i.contents(),r=null!==(t=this.props.model)&&void 0!==t?t:{data:{}},a=r.data,s=r.index;a&&Object.keys(a).forEach(function(t){a[t]&&v.a.isNode(a[t])&&(a[t]=Object(w.a)(Object(O.a)(a[t])))});var l=Object(O.a)(this.props.template.render(Object(d.a)({container:Object(w.a)(i),transclude:this.props.transclude},{renovated:this.props.renovated},this.props.transclude?{}:{model:a},!this.props.transclude&&Number.isFinite(s)?{index:s}:{})));return Object(E.g)(Object(O.a)(e),l),function(){!function(t,e){Object(T.a)(e,function(e,n){var i=!1;Object(T.a)(t,function(t,e){n===e&&(i=!0)}),!i&&n.parentNode&&n.parentNode.removeChild(n)})}(o,i.contents()),n.appendChild(e)}}},{key:"shouldComponentUpdate",value:function(t){var e,n,i=this.props,o=i.model,r=i.template,a=t.model;if(!(r===t.template))return!0;if(Object(P.d)(o)&&Object(P.d)(a)){var s=o.data,l=o.index,c=a.data;return l!==a.index||(e=s,n=c,!(Object.keys(e).length===Object.keys(n).length&&Object.keys(e).every(function(t){return e[t]===n[t]})))}return!(o===a)}},{key:"createEffects",value:function(){return[new m.c(this.renderTemplate,[this.props.template,this.props.model])]}},{key:"updateEffects",value:function(){this._effects[0].update([this.props.template,this.props.model])}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return null}}]),e}(m.b),j=n(37);function M(t){return Array.isArray(t)?Object(i.a)(t):Object(d.a)({},t)}function D(t,e,n,i){var o=e[n],r=t[n],a=t;Object(P.k)(o)||n!==i&&Array.isArray(o)?a[n]=function t(e,n,i){var o=i.length>0&&n&&e!==n?M(n):M(e),r=i[0];return i.length>1?o[r]=t(e[r],null===n||void 0===n?void 0:n[r],i.slice(1)):r&&(Object(P.k)(e[r])?o[r]=M(e[r]):o[r]=e[r]),o}(o,r,Object(j.c)(i).slice(1)):a[n]=o}n.d(e,"a",function(){return R});var A=function(t,e){return function(n){Object.prototype.hasOwnProperty.call(t,n)&&void 0===t[n]&&(t[n]=e(n))}},R=function(t){function e(t,n){var i;return Object(a.a)(this,e),(i=Object(l.a)(this,Object(u.a)(e).call(this,t,n)))._shouldRaiseContentReady=!1,i.validateKeyDownHandler(),i}return Object(h.a)(e,t),Object(s.a)(e,[{key:"validateKeyDownHandler",value:function(){var t=this.getSupportedKeyNames().length>0,e="function"===typeof this._viewComponent.prototype.keyDown;if(t&&!e)throw Error("Component's declaration must have 'keyDown' method.")}},{key:"_checkContentReadyOption",value:function(t){var e=this._getContentReadyOptions().reduce(function(t,e){return t[e]=!0,t},{});return this._checkContentReadyOption=function(t){return!!e[t]},this._checkContentReadyOption(t)}},{key:"_getContentReadyOptions",value:function(){return["rtlEnabled"]}},{key:"_fireContentReady",value:function(){this._actionsMap.onContentReady({})}},{key:"_getDefaultOptions",value:function(){var t=this,n=this._getViewComponentDefaultProps();return Object(S.a)(!0,Object(c.a)(Object(u.a)(e.prototype),"_getDefaultOptions",this).call(this),n,this._propsInfo.twoWay.reduce(function(e,i){var a,s=Object(r.a)(i,3),l=s[0],c=s[1],u=s[2];return Object(d.a)({},e,(a={},Object(o.a)(a,l,n[c]),Object(o.a)(a,u,function(e){return t.option(l,e)}),a))},{}),this._propsInfo.templates.reduce(function(t,e){return Object(d.a)({},t,Object(o.a)({},e,null))},{}))}},{key:"_getUnwrappedOption",value:function(){var t=this,e={};return Object.keys(this.option()).forEach(function(n){e[n]=t.option(n)}),e}},{key:"_initializeComponent",value:function(){var t,n=this;Object(c.a)(Object(u.a)(e.prototype),"_initializeComponent",this).call(this),null===(t=this._templateManager)||void 0===t||t.addDefaultTemplates(this.getDefaultTemplates());var i=this._getUnwrappedOption();this._props=this._optionsWithDefaultTemplates(i),this._propsInfo.templates.forEach(function(t){n._componentTemplates[t]=n._createTemplateComponent(n._props[t])}),Object.keys(this._getActionConfigsFull()).forEach(function(t){return n._addAction(t)}),this._viewRef=Object(p.o)(),this.defaultKeyHandlers=this._createDefaultKeyHandlers()}},{key:"_initMarkup",value:function(){var t=this.getProps();this._renderWrapper(t)}},{key:"_renderWrapper",value:function(t){var e=this.$element()[0];this._isNodeReplaced||C.onPreRender(),C.render(this._viewComponent,t,e,this._isNodeReplaced),this._isNodeReplaced||(this._isNodeReplaced=!0,C.onAfterRender(),this._shouldRaiseContentReady=!0),this._shouldRaiseContentReady&&(this._fireContentReady(),this._shouldRaiseContentReady=!1)}},{key:"_silent",value:function(t,e){this._options.silent(t,e)}},{key:"_render",value:function(){}},{key:"_removeWidget",value:function(){C.remove(this.$element()[0])}},{key:"_dispose",value:function(){this._removeWidget(),Object(c.a)(Object(u.a)(e.prototype),"_dispose",this).call(this)}},{key:"_getAdditionalActionConfigs",value:function(){return{onContentReady:{excludeValidators:["disabled","readOnly"]}}}},{key:"_getAdditionalProps",value:function(){return[]}},{key:"_patchOptionValues",value:function(t){var e=this,n=this._propsInfo,o=n.allowNull,a=n.elements,s=n.props,l=n.twoWay,c=this._getViewComponentDefaultProps(),u=Object.keys(c),h=this._getDefaultOptions(),d=t.children,p=t.onKeyboardHandled,f={ref:t.ref,children:d,onKeyDown:p?function(t,e){p(e)}:void 0};return[].concat(Object(i.a)(s),Object(i.a)(this._getAdditionalProps())).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(f[e]=t[e])}),o.forEach(A(f,function(){return null})),u.forEach(A(f,function(t){return h[t]})),l.forEach(function(t){var e=Object(r.a)(t,2),n=e[0],i=e[1];A(f,function(){return h[i]})(n)}),a.forEach(function(t){if(t in f){var n=f[t];Object(P.n)(n)&&(f[t]=e._patchElementParam(n))}}),f}},{key:"getSupportedKeyNames",value:function(){return[]}},{key:"prepareStyleProp",value:function(t){return"string"===typeof t.style?Object(d.a)({},t,{style:{},cssText:t.style}):t}},{key:"getProps",value:function(){var t,e,n=this,o=this.option().elementAttr,r=this._patchOptionValues(Object(d.a)({},this._props,{ref:this._viewRef,children:this._extractDefaultSlot(),aria:this._aria}));return this._propsInfo.templates.forEach(function(t){r[t]=n._componentTemplates[t]}),this.prepareStyleProp(Object(d.a)({},r,this.elementAttr,o,{className:[].concat(Object(i.a)((null!==(t=this.elementAttr.class)&&void 0!==t?t:"").split(" ")),Object(i.a)((null!==(e=null===o||void 0===o?void 0:o.class)&&void 0!==e?e:"").split(" "))).filter(function(t,e,n){return t&&n.indexOf(t)===e}).join(" ").trim(),class:""},this._actionsMap))}},{key:"_getActionConfigs",value:function(){return{}}},{key:"_getActionConfigsFull",value:function(){return Object(d.a)({},this._getActionConfigs(),this._getAdditionalActionConfigs())}},{key:"getDefaultTemplates",value:function(){var t=Object.values(this._templatesInfo),e={};return t.forEach(function(t){e[t]="dx-renovation-template-mock"}),e}},{key:"_optionsWithDefaultTemplates",value:function(t){var e=Object.entries(this._templatesInfo).reduce(function(e,n){var i,a=Object(r.a)(n,2),s=a[0],l=a[1];return Object(d.a)({},e,Object(o.a)({},s,null!==(i=t[s])&&void 0!==i?i:l))},{});return Object(d.a)({},t,e)}},{key:"_init",value:function(){Object(c.a)(Object(u.a)(e.prototype),"_init",this).call(this),this.customKeyHandlers={},this._actionsMap={},this._aria={},this._componentTemplates={}}},{key:"_createDefaultKeyHandlers",value:function(){var t=this,e={};return this.getSupportedKeyNames().forEach(function(n){e[n]=function(e){return t.viewRef.keyDown(f.a.createKeyDownOptions(e))}}),e}},{key:"_addAction",value:function(t,e){var n=e;if(!n){var i=this._createActionByOption(t,this._getActionConfigsFull()[t]);n=function(t){return Object.keys(t).forEach(function(e){Object(P.d)(t[e])&&v.a.isNode(t[e])&&(t[e]=Object(w.a)(Object(O.a)(t[e])))}),i(t)}}this._actionsMap[t]=n}},{key:"_optionChanged",value:function(t){var n=t.fullName,i=t.name,o=t.previousValue,r=t.value;D(this._props,this.option(),i,n),this._propsInfo.templates.includes(i)&&r!==o&&(this._componentTemplates[i]=this._createTemplateComponent(r)),i&&this._getActionConfigsFull()[i]&&this._addAction(i),this._shouldRaiseContentReady=this._shouldRaiseContentReady||this._checkContentReadyOption(n),Object(c.a)(Object(u.a)(e.prototype),"_optionChanged",this).call(this,t),this._invalidate()}},{key:"_extractDefaultSlot",value:function(){return this.option("_hasAnonymousTemplateContent")?C.createElement(I,{template:this._getTemplate(this._templateManager.anonymousTemplateName),transclude:!0,renovated:!0}):null}},{key:"_createTemplateComponent",value:function(t){if(t){var e=this._getTemplate(t);if(!Object(P.o)(e)||"dx-renovation-template-mock"!==e)return function(t){return C.createElement(I,{template:e,model:t})}}}},{key:"_wrapKeyDownHandler",value:function(t){var e=this;return function(n){var i=n.keyName,o=n.originalEvent,r=n.which,a=e.customKeyHandlers,s=a[i]||a[r];if(void 0!==s&&!s.bind(e)(o,n))return o.cancel=!0,o;return null===t||void 0===t?void 0:t(o,n)}}},{key:"_toPublicElement",value:function(t){return Object(w.a)(Object(O.a)(t))}},{key:"_patchElementParam",value:function(t){try{var e=Object(O.a)(t),n=null===e||void 0===e?void 0:e.get(0);return null!==n&&void 0!==n&&n.nodeType?n:t}catch(i){return t}}},{key:"repaint",value:function(){this._isNodeReplaced=!1,this._shouldRaiseContentReady=!0,this._removeWidget(),this._refresh()}},{key:"_supportedKeys",value:function(){return Object(d.a)({},this.defaultKeyHandlers,this.customKeyHandlers)}},{key:"registerKeyHandler",value:function(t,e){this.customKeyHandlers[t]=e}},{key:"setAria",value:function(t,e){this._aria[t]=e,this._initMarkup()}},{key:"_getViewComponentDefaultProps",value:function(){return this._viewComponent.defaultProps||{}}},{key:"_propsInfo",get:function(){return{allowNull:[],twoWay:[],elements:[],templates:[],props:[]}}},{key:"viewRef",get:function(){var t;return null===(t=this._viewRef)||void 0===t?void 0:t.current}},{key:"elementAttr",get:function(){var t=this,e=this.$element()[0];if(!this._elementAttr){var n=e.attributes,i=Array.from(n).filter(function(e){var i;return!t._propsInfo.templates.includes(e.name)&&(null===(i=n[e.name])||void 0===i?void 0:i.specified)}).reduce(function(t,n){var i=n.name,o=n.value,r=t,a=i in e;return r[i]=""===o&&a?e[i]:o,r},{});this._elementAttr=i,this._storedClasses=e.getAttribute("class")||""}for(var o=e.style,r={},a=0;a<o.length;a+=1)r[o[a]]=o.getPropertyValue(o[a]);return this._elementAttr.style=r,this._elementAttr.class=this._storedClasses,this._elementAttr}},{key:"_templatesInfo",get:function(){return{}}}]),e}(x.a);R.IS_RENOVATED_WIDGET=!1,R.IS_RENOVATED_WIDGET=!0},function(t,e,n){"use strict";var i=n(11),o=n(2),r=n(7),a=n(5),s=n(1),l=n(82),c=n(33),u=n(9),h=n(37),d=n(3),p=n(57),f=n(54),m=n(123),g=n(64),v=n(8),y=n(121),_=n(20),b=n(106),C=b.a.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this)),this._startWatcher("showChevron",this._renderShowChevron.bind(this))},_renderBadge:function(t){if(this._$element.children(".dx-list-item-badge-container").remove(),t){var e=Object(o.a)("<div>").addClass("dx-list-item-badge-container").append(Object(o.a)("<div>").addClass("dx-list-item-badge").addClass("dx-badge").text(t)),n=this._$element.children(".dx-list-item-chevron-container").first();n.length>0?e.insertBefore(n):e.appendTo(this._$element)}},_renderShowChevron:function(t){if(this._$element.children(".dx-list-item-chevron-container").remove(),t){var e=Object(o.a)("<div>").addClass("dx-list-item-chevron-container"),n=Object(o.a)("<div>").addClass("dx-list-item-chevron");e.append(n).appendTo(this._$element)}}}),O=n(65),x=n(10),S=n(47),w=n(15),P=n(119),k=n(205),E=n(135),T=n(88),I=n(16),j=n(206),M=n(51);function D(t){return t?Number(t.replace("px","")):0}function A(t){var e,n;return t&&Object(w.f)()?null===(e=(n=Object(w.d)()).getComputedStyle)||void 0===e?void 0:e.call(n,t):null}function R(t,e){var n=A(t);return n?D(n["margin".concat(Object(M.e)(e))]):0}n.d(e,"a",function(){return z});var B,L=".dx-list-item",N=Object(h.a)("items"),z=E.a.inherit({_activeStateUnit:[L,".dx-list-select-all"].join(","),_supportedKeys:function(){var t=this,e=function(e){var o=n(e);o.is(t.option("focusedElement"))&&(!function(e,n){var o=e.position().top;"prev"===n&&(o=e.position().top-Object(i.c)(t.$element())+Object(i.g)(e)),t.scrollTo(o)}(o,e),o=n(e)),t.option("focusedElement",Object(c.a)(o)),t.scrollToItem(o)};function n(e){var n=t.scrollTop(),r=Object(i.c)(t.$element()),a=Object(o.a)(t.option("focusedElement")),s=!0;if(!a.length)return Object(o.a)();for(;s;){var l=a[e]();if(!l.length)break;var c=l.position().top+Object(i.g)(l)/2;(s=c<r+n&&c>n)&&(a=l)}return a}return Object(d.a)(this.callBase(),{leftArrow:a.noop,rightArrow:a.noop,pageUp:function(){return e("prev"),!1},pageDown:function(){return e("next"),!1}})},_getDefaultOptions:function(){return Object(d.a)(this.callBase(),{hoverStateEnabled:!0,pullRefreshEnabled:!1,scrollingEnabled:!0,showScrollbar:"onScroll",useNativeScrolling:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,pullingDownText:v.a.format("dxList-pullingDownText"),pulledDownText:v.a.format("dxList-pulledDownText"),refreshingText:v.a.format("dxList-refreshingText"),pageLoadingText:v.a.format("dxList-pageLoadingText"),onScroll:null,onPullRefresh:null,onPageLoading:null,pageLoadMode:"scrollBottom",nextButtonText:v.a.format("dxList-nextButtonText"),onItemSwipe:null,grouped:!1,onGroupRendered:null,collapsibleGroups:!1,groupTemplate:"group",indicateLoading:!0,activeStateEnabled:!0,_itemAttributes:{role:"option"},_listAttributes:{role:"listbox"},useInkRipple:!1,wrapItemText:!1,_swipeEnabled:!0,showChevronExpr:function(t){return t?t.showChevron:void 0},badgeExpr:function(t){return t?t.badge:void 0}})},_defaultOptionsRules:function(){var t=Object(S.a)();return this.callBase().concat(Object(k.a)(),[{device:function(){return!g.nativeScrolling},options:{useNativeScrolling:!1}},{device:function(t){return!g.nativeScrolling&&!_.a.isSimulator()&&"desktop"===_.a.real().deviceType&&"generic"===t.platform},options:{showScrollbar:"onHover",pageLoadMode:"nextButton"}},{device:function(){return"desktop"===_.a.real().deviceType&&!_.a.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return Object(S.d)(t)},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",pageLoadingText:"",useInkRipple:!0}}])},_visibilityChanged:function(t){t&&this._updateLoadingState(!0)},_itemClass:function(){return"dx-list-item"},_itemDataKey:function(){return"dxListItemData"},_itemContainer:function(){return this._$container},_saveSelectionChangeEvent:function(t){this._selectionChangeEventInstance=t},_getSelectionChangeEvent:function(){return this._selectionChangeEventInstance},_refreshItemElements:function(){this.option("grouped")?this._itemElementsCache=this._itemContainer().children(".dx-list-group").children(".dx-list-group-body").children(this._itemSelector()):this._itemElementsCache=this._itemContainer().children(this._itemSelector())},_modifyByChanges:function(){this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},reorderItem:function(t,e){return this.callBase(t,e).done(function(){this._refreshItemElements()})},deleteItem:function(t){return this.callBase(t).done(function(){this._refreshItemElements()})},_itemElements:function(){return this._itemElementsCache},_itemSelectHandler:function(t){if("single"!==this.option("selectionMode")||!this.isItemSelected(t.currentTarget))return this.callBase(t)},_allowDynamicItemsAppend:function(){return!0},_init:function(){this.callBase(),this._dataController.resetDataSourcePageIndex(),this._$container=this.$element(),this._initScrollView(),this._feedbackShowTimeout=70,this._createGroupRenderAction()},_scrollBottomMode:function(){return"scrollBottom"===this.option("pageLoadMode")},_nextButtonMode:function(){return"nextButton"===this.option("pageLoadMode")},_dataSourceOptions:function(){var t=this._scrollBottomMode(),e=this._nextButtonMode();return Object(d.a)(this.callBase(),{paginate:Object(a.ensureDefined)(t||e,!0)})},_getGroupedOption:function(){return this.option("grouped")},_getGroupContainerByIndex:function(t){return this._itemContainer().find(".".concat("dx-list-group")).eq(t).find(".".concat("dx-list-group-body"))},_dataSourceFromUrlLoadMode:function(){return"raw"},_initScrollView:function(){var t=this.option("scrollingEnabled"),e=t&&this.option("pullRefreshEnabled"),n=t&&this._scrollBottomMode()&&!!this._dataController.getDataSource();this._scrollView=this._createComponent(this.$element(),B||P.a,{height:this.option("height"),width:this.option("width"),disabled:this.option("disabled")||!t,onScroll:this._scrollHandler.bind(this),onPullDown:e?this._pullDownHandler.bind(this):null,onReachBottom:n?this._scrollBottomHandler.bind(this):null,showScrollbar:this.option("showScrollbar"),useNative:this.option("useNativeScrolling"),bounceEnabled:this.option("bounceEnabled"),scrollByContent:this.option("scrollByContent"),scrollByThumb:this.option("scrollByThumb"),pullingDownText:this.option("pullingDownText"),pulledDownText:this.option("pulledDownText"),refreshingText:this.option("refreshingText"),reachBottomText:this.option("pageLoadingText"),useKeyboard:!1}),this._$container=Object(o.a)(this._scrollView.content()),this.option("wrapItemText")&&this._$container.addClass("dx-wrap-item-text"),this._createScrollViewActions()},_createScrollViewActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._pullRefreshAction=this._createActionByOption("onPullRefresh"),this._pageLoadingAction=this._createActionByOption("onPageLoading")},_scrollHandler:function(t){this._scrollAction&&this._scrollAction(t)},_initTemplates:function(){this._templateManager.addDefaultTemplates({group:new T.a(function(t,e){Object(s.k)(e)?e.key&&t.text(e.key):t.text(String(e))},["key"],this.option("integrationOptions.watchMethod"))}),this.callBase()},_prepareDefaultItemTemplate:function(t,e){if(this.callBase(t,e),t.icon){var n=Object(l.a)(t.icon).addClass("dx-list-item-icon"),i=Object(o.a)("<div>").addClass("dx-list-item-icon-container");i.append(n),e.prepend(i)}},_getBindableFields:function(){return["text","html","icon"]},_updateLoadingState:function(t){var e=this._dataController,n=this._scrollBottomMode()&&t&&!e.isLoading()&&!this._isLastPage();this._shouldContinueLoading(n)?this._infiniteDataLoading():(this._scrollView.release(!n&&!e.isLoading()),this._toggleNextButton(this._shouldRenderNextButton()&&!this._isLastPage()),this._loadIndicationSuppressed(!1))},_shouldRenderNextButton:function(){return this._nextButtonMode()&&this._dataController.isLoaded()},_isDataSourceFirstLoadCompleted:function(t){return Object(s.d)(t)&&(this._isFirstLoadCompleted=t),this._isFirstLoadCompleted},_dataSourceLoadingChangedHandler:function(t){this._loadIndicationSuppressed()||(t&&this.option("indicateLoading")?this._showLoadingIndicatorTimer=setTimeout(function(){var t;!this._itemElements().length&&!this._isDataSourceFirstLoadCompleted()||(null===(t=this._scrollView)||void 0===t||t.startLoading())}.bind(this)):(clearTimeout(this._showLoadingIndicatorTimer),this._scrollView&&this._scrollView.finishLoading()),t||this._isDataSourceFirstLoadCompleted(!1))},_dataSourceChangedHandler:function(){!this._shouldAppendItems()&&Object(w.f)()&&this._scrollView&&this._scrollView.scrollTo(0),this.callBase.apply(this,arguments),this._isDataSourceFirstLoadCompleted(!0)},_refreshContent:function(){this._prepareContent(),this._fireContentReadyAction()},_hideLoadingIfLoadIndicationOff:function(){this.option("indicateLoading")||this._dataSourceLoadingChangedHandler(!1)},_loadIndicationSuppressed:function(t){if(!arguments.length)return this._isLoadIndicationSuppressed;this._isLoadIndicationSuppressed=t},_scrollViewIsFull:function(){var t=this._scrollView;return!t||Object(i.c)(t.content())>Object(i.c)(t.container())},_pullDownHandler:function(t){this._pullRefreshAction(t);var e=this._dataController;e.getDataSource()&&!e.isLoading()?(this._clearSelectedItems(),e.pageIndex(0),e.reload()):this._updateLoadingState()},_shouldContinueLoading:function(t){var e,n,o=Object(i.c)(this._scrollView.content())-Object(i.c)(this._scrollView.container())<(null!==(e=null===(n=this._scrollView.scrollOffset())||void 0===n?void 0:n.top)&&void 0!==e?e:0);return t&&(!this._scrollViewIsFull()||o)},_infiniteDataLoading:function(){var t=this;this.$element().is(":visible")&&(clearTimeout(this._loadNextPageTimer),this._loadNextPageTimer=setTimeout(function(){t._loadNextPage()}))},_scrollBottomHandler:function(t){this._pageLoadingAction(t),this._dataController.isLoading()||this._isLastPage()?this._updateLoadingState():this._loadNextPage()},_renderItems:function(t){this.option("grouped")?(Object(u.a)(t,this._renderGroup.bind(this)),this._attachGroupCollapseEvent(),this._renderEmptyMessage(),Object(S.d)()&&this.attachGroupHeaderInkRippleEvents()):this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},_attachGroupCollapseEvent:function(){var t=Object(x.a)(f.a,this.NAME),e=this.$element(),n=this.option("collapsibleGroups");e.toggleClass("dx-list-collapsible-groups",n),r.a.off(e,t,".dx-list-group-header"),n&&r.a.on(e,t,".dx-list-group-header",function(t){this._createAction(function(t){var e=Object(o.a)(t.event.currentTarget).parent();this._collapseGroupHandler(e),this.option("focusStateEnabled")&&this.option("focusedElement",Object(c.a)(e.find(".dx-list-item").eq(0)))}.bind(this),{validatingTargetName:"element"})({event:t})}.bind(this))},_collapseGroupHandler:function(t,e){var n=new I.a;if(t.hasClass("dx-list-group-collapsed")===e)return n.resolve();var o=t.children(".dx-list-group-body"),r=Object(i.g)(o),a=0;return 0===r&&(Object(i.m)(o,"auto"),a=Object(i.g)(o)),t.toggleClass("dx-list-group-collapsed",e),p.a.animate(o,{type:"custom",from:{height:r},to:{height:a},duration:200,complete:function(){this.updateDimensions(),this._updateLoadingState(),n.resolve()}.bind(this)}),n.promise()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this._initialized&&(this._renderEmptyMessage(),this._updateLoadingState())},_initMarkup:function(){this._itemElementsCache=Object(o.a)(),this.$element().addClass("dx-list"),this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.setAria("role",this.option("_listAttributes").role)},_renderInkRipple:function(){this._inkRipple=Object(y.c)()},_toggleActiveState:function(t,e,n){this.callBase.apply(this,arguments);var i=this;if(this._inkRipple){var o={element:t,event:n};e?Object(S.d)()?this._inkRippleTimer=setTimeout(function(){i._inkRipple.showWave(o)},35):i._inkRipple.showWave(o):(clearTimeout(this._inkRippleTimer),this._inkRipple.hideWave(o))}},_postprocessRenderItem:function(t){this._refreshItemElements(),this.callBase.apply(this,arguments),this.option("_swipeEnabled")&&this._attachSwipeEvent(Object(o.a)(t.itemElement))},_attachSwipeEvent:function(t){var e=Object(x.a)(m.a,this.NAME);r.a.on(t,e,this._itemSwipeEndHandler.bind(this))},_itemSwipeEndHandler:function(t){this._itemDXEventHandler(t,"onItemSwipe",{direction:t.offset<0?"left":"right"})},_nextButtonHandler:function(t){this._pageLoadingAction(t);var e=this._dataController;e.getDataSource()&&!e.isLoading()&&(this._scrollView.toggleLoading(!0),this._$nextButton.detach(),this._loadIndicationSuppressed(!0),this._loadNextPage())},_renderGroup:function(t,e){var n=Object(o.a)("<div>").addClass("dx-list-group").appendTo(this._itemContainer()),i=Object(o.a)("<div>").addClass("dx-list-group-header").appendTo(n),r=this.option("groupTemplate"),a=this._getTemplate(e.template||r,e,t,i),s={index:t,itemData:e,container:Object(c.a)(i)};this._createItemByTemplate(a,s),Object(S.d)()&&Object(o.a)("<div>").addClass("dx-list-group-header-indicator").prependTo(i),this._renderingGroupIndex=t;var l=Object(o.a)("<div>").addClass("dx-list-group-body").appendTo(n);Object(u.a)(N(e)||[],function(e,n){this._renderItem({group:t,item:e},n,l)}.bind(this)),this._groupRenderAction({groupElement:Object(c.a)(n),groupIndex:t,groupData:e})},downInkRippleHandler:function(t){this._toggleActiveState(Object(o.a)(t.currentTarget),!0,t)},upInkRippleHandler:function(t){this._toggleActiveState(Object(o.a)(t.currentTarget),!1)},attachGroupHeaderInkRippleEvents:function(){var t=this.$element();this._downInkRippleHandler=this._downInkRippleHandler||this.downInkRippleHandler.bind(this),this._upInkRippleHandler=this._upInkRippleHandler||this.upInkRippleHandler.bind(this);var e=[t,"dxpointerdown",".dx-list-group-header",this._downInkRippleHandler],n=[t,"dxpointerup dxpointerout",".dx-list-group-header",this._upInkRippleHandler];r.a.off.apply(r.a,e),r.a.on.apply(r.a,e),r.a.off.apply(r.a,n),r.a.on.apply(r.a,n)},_createGroupRenderAction:function(){this._groupRenderAction=this._createActionByOption("onGroupRendered")},_clean:function(){clearTimeout(this._inkRippleTimer),this._$nextButton&&(this._$nextButton.remove(),this._$nextButton=null),this.callBase.apply(this,arguments)},_dispose:function(){this._isDataSourceFirstLoadCompleted(!1),clearTimeout(this._holdTimer),clearTimeout(this._loadNextPageTimer),clearTimeout(this._showLoadingIndicatorTimer),this.callBase()},_toggleDisabledState:function(t){this.callBase(t),this._scrollView.option("disabled",t||!this.option("scrollingEnabled"))},_toggleNextButton:function(t){var e=this._dataController,n=this._getNextButton();this.$element().toggleClass("dx-has-next",t),t&&e.isLoaded()&&n.appendTo(this._itemContainer()),t||n.detach()},_getNextButton:function(){return this._$nextButton||(this._$nextButton=this._createNextButton()),this._$nextButton},_createNextButton:function(){var t=Object(o.a)("<div>").addClass("dx-list-next-button"),e=Object(o.a)("<div>").appendTo(t);return this._createComponent(e,O.default,{text:this.option("nextButtonText"),onClick:this._nextButtonHandler.bind(this),type:Object(S.d)()?"default":void 0,integrationOptions:{}}),t},_moveFocus:function(){this.callBase.apply(this,arguments),this.scrollToItem(this.option("focusedElement"))},_refresh:function(){if(Object(w.f)()){var t=this._scrollView.scrollTop();this.callBase(),t&&this._scrollView.scrollTo(t)}else this.callBase()},_optionChanged:function(t){switch(t.name){case"pageLoadMode":this._toggleNextButton(t.value),this._initScrollView();break;case"dataSource":this.callBase(t),this._initScrollView(),this._isDataSourceFirstLoadCompleted(!1);break;case"items":this.callBase(t),this._isDataSourceFirstLoadCompleted(!1);break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"pageLoadingText":case"showScrollbar":case"bounceEnabled":case"scrollByContent":case"scrollByThumb":case"useNativeScrolling":case"scrollingEnabled":case"pullRefreshEnabled":this._initScrollView(),this._updateLoadingState();break;case"nextButtonText":case"onItemSwipe":case"useInkRipple":this._invalidate();break;case"onScroll":case"onPullRefresh":case"onPageLoading":this._createScrollViewActions();break;case"grouped":case"collapsibleGroups":case"groupTemplate":this._invalidate();break;case"wrapItemText":this._$container.toggleClass("dx-wrap-item-text",t.value);break;case"onGroupRendered":this._createGroupRenderAction();break;case"width":case"height":this.callBase(t),this._scrollView.option(t.name,t.value),this._scrollView.update();break;case"indicateLoading":this._hideLoadingIfLoadIndicationOff();break;case"visible":this.callBase(t),this._scrollView.update();break;case"rtlEnabled":this._initScrollView(),this.callBase(t);break;case"showChevronExpr":case"badgeExpr":this._invalidate();break;case"_swipeEnabled":case"_listAttributes":break;default:this.callBase(t)}},_extendActionArgs:function(t){if(!this.option("grouped"))return this.callBase(t);var e=t.closest(".dx-list-group"),n=e.find(".dx-list-item");return Object(d.a)(this.callBase(t),{itemIndex:{group:e.index(),item:n.index(t)}})},expandGroup:function(t){var e=new I.a,n=this._itemContainer().find(".dx-list-group").eq(t);return this._collapseGroupHandler(n,!1).done(function(){e.resolveWith(this)}.bind(this)),e.promise()},collapseGroup:function(t){var e=new I.a,n=this._itemContainer().find(".dx-list-group").eq(t);return this._collapseGroupHandler(n,!0).done(function(){e.resolveWith(this)}.bind(this)),e},updateDimensions:function(){var t=this,e=new I.a;return t._scrollView?t._scrollView.update().done(function(){!t._scrollViewIsFull()&&t._updateLoadingState(!0),e.resolveWith(t)}):e.resolveWith(t),e.promise()},reload:function(){this.callBase(),this.scrollTo(0),this._pullDownHandler()},repaint:function(){this.scrollTo(0),this.callBase()},scrollTop:function(){return this._scrollView.scrollOffset().top},clientHeight:function(){return this._scrollView.clientHeight()},scrollHeight:function(){return this._scrollView.scrollHeight()},scrollBy:function(t){this._scrollView.scrollBy(t)},scrollTo:function(t){this._scrollView.scrollTo(t)},scrollToItem:function(t){var e=this._editStrategy.getItemElement(t),n=null===e||void 0===e?void 0:e.get(0);this._scrollView.scrollToElement(n,{bottom:R(n,"bottom")})},_dimensionChanged:function(){this.updateDimensions()}}).include(j.a);z.ItemClass=C},function(t,e,n){"use strict";var i=n(11),o=n(2),r=n(7),a=n(64),s=n(72),l=n(5),c=n(1),u=n(3),h=n(33),d=n(15),p=n(20),f=n(26),m=n(78),g=n(10),v=n(87),y=n(180),_=n(160),b=n(205),C=n(16),O=n(24),x=n(51);var S=n(124);var w="dxScrollable",P=m.a.inherit({_getDefaultOptions:function(){return Object(u.a)(this.callBase(),{disabled:!1,onScroll:null,direction:"vertical",showScrollbar:"onScroll",useNative:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,onUpdated:null,onStart:null,onEnd:null,onBounce:null,useSimulatedScrollbar:!1,useKeyboard:!0,inertiaEnabled:!0,updateManually:!1})},_defaultOptionsRules:function(){return this.callBase().concat(Object(b.a)(),[{device:function(){return a.nativeScrolling&&"android"===p.a.real().platform&&!s.a.mozilla},options:{useSimulatedScrollbar:!0}}])},_initOptions:function(t){this.callBase(t),"useSimulatedScrollbar"in t||this._setUseSimulatedScrollbar()},_setUseSimulatedScrollbar:function(){this.initialOption("useSimulatedScrollbar")||this.option("useSimulatedScrollbar",!this.option("useNative"))},_init:function(){this.callBase(),this._initScrollableMarkup(),this._locked=!1},_visibilityChanged:function(t){t?(this.update(),this._updateRtlPosition(),this._savedScrollOffset&&this.scrollTo(this._savedScrollOffset),delete this._savedScrollOffset):this._savedScrollOffset=this.scrollOffset()},_initScrollableMarkup:function(){var t=this.$element().addClass("dx-scrollable"),e=this._$container=Object(o.a)("<div>").addClass("dx-scrollable-container"),n=this._$wrapper=Object(o.a)("<div>").addClass("dx-scrollable-wrapper");(this._$content=Object(o.a)("<div>").addClass("dx-scrollable-content")).append(t.contents()).appendTo(e),e.appendTo(n),n.appendTo(t)},_dimensionChanged:function(){this.update(),this._updateRtlPosition()},_initMarkup:function(){this.callBase(),this._renderDirection()},_render:function(){this._renderStrategy(),this._attachEventHandlers(),this._renderDisabledState(),this._createActions(),this.update(),this.callBase(),this._updateRtlPosition(!0)},_updateRtlPosition:function(t){this._strategy.updateRtlPosition(t)},_getMaxOffset:function(){var t=Object(o.a)(this.container()).get(0);return{left:t.scrollWidth-t.clientWidth,top:t.scrollHeight-t.clientHeight}},_attachEventHandlers:function(){var t=this._strategy,e={getDirection:t.getDirection.bind(t),validate:this._validate.bind(this),isNative:this.option("useNative"),scrollTarget:this._$container};r.a.off(this._$wrapper,"."+w),r.a.on(this._$wrapper,Object(g.a)(v.a.init,w),e,this._initHandler.bind(this)),r.a.on(this._$wrapper,Object(g.a)(v.a.start,w),t.handleStart.bind(t)),r.a.on(this._$wrapper,Object(g.a)(v.a.move,w),t.handleMove.bind(t)),r.a.on(this._$wrapper,Object(g.a)(v.a.end,w),t.handleEnd.bind(t)),r.a.on(this._$wrapper,Object(g.a)(v.a.cancel,w),t.handleCancel.bind(t)),r.a.on(this._$wrapper,Object(g.a)(v.a.stop,w),t.handleStop.bind(t)),r.a.off(this._$container,"."+w),r.a.on(this._$container,Object(g.a)("scroll",w),t.handleScroll.bind(t))},_validate:function(t){return!this._isLocked()&&(this._updateIfNeed(),this._moveIsAllowed(t))},_moveIsAllowed:function(t){return this._strategy.validate(t)},handleMove:function(t){this._strategy.handleMove(t)},_prepareDirections:function(t){this._strategy._prepareDirections(t)},_initHandler:function(){var t=this._strategy;t.handleInit.apply(t,arguments)},_renderDisabledState:function(){this.$element().toggleClass("dx-scrollable-disabled",this.option("disabled")),this.option("disabled")?this._lock():this._unlock()},_renderDirection:function(){this.$element().removeClass("dx-scrollable-horizontal").removeClass("dx-scrollable-vertical").removeClass("dx-scrollable-both").addClass("dx-scrollable-"+this.option("direction"))},_renderStrategy:function(){this._createStrategy(),this._strategy.render(),this.$element().data("dxScrollableStrategy",this._strategy)},_createStrategy:function(){this._strategy=this.option("useNative")?new _.a(this):new y.b(this)},_createActions:function(){this._strategy&&this._strategy.createActions()},_clean:function(){this._strategy&&this._strategy.dispose()},_optionChanged:function(t){switch(t.name){case"onStart":case"onEnd":case"onUpdated":case"onScroll":case"onBounce":this._createActions();break;case"direction":this._resetInactiveDirection(),this._invalidate();break;case"useNative":this._setUseSimulatedScrollbar(),this._invalidate();break;case"inertiaEnabled":case"scrollByThumb":case"bounceEnabled":case"useKeyboard":case"showScrollbar":case"useSimulatedScrollbar":this._invalidate();break;case"disabled":this._renderDisabledState(),this._strategy&&this._strategy.disabledChanged();break;case"updateManually":case"scrollByContent":break;case"width":this.callBase(t),this._updateRtlPosition();break;default:this.callBase(t)}},_resetInactiveDirection:function(){var t=this._getInactiveProp();if(t&&Object(d.f)()){var e=this.scrollOffset();e[t]=0,this.scrollTo(e)}},_getInactiveProp:function(){var t=this.option("direction");return"vertical"===t?"left":"horizontal"===t?"top":void 0},_location:function(){return this._strategy.location()},_normalizeLocation:function(t){if(Object(c.k)(t)){var e=Object(l.ensureDefined)(t.left,t.x),n=Object(l.ensureDefined)(t.top,t.y);return{left:Object(c.d)(e)?-e:void 0,top:Object(c.d)(n)?-n:void 0}}var i=this.option("direction");return{left:"vertical"!==i?-t:void 0,top:"horizontal"!==i?-t:void 0}},_isLocked:function(){return this._locked},_lock:function(){this._locked=!0},_unlock:function(){this.option("disabled")||(this._locked=!1)},_isDirection:function(t){var e=this.option("direction");return"vertical"===t?"horizontal"!==e:"horizontal"===t?"vertical"!==e:e===t},_updateAllowedDirection:function(){var t=this._strategy._allowedDirections();this._isDirection("both")&&t.vertical&&t.horizontal?this._allowedDirectionValue="both":this._isDirection("horizontal")&&t.horizontal?this._allowedDirectionValue="horizontal":this._isDirection("vertical")&&t.vertical?this._allowedDirectionValue="vertical":this._allowedDirectionValue=null},_allowedDirection:function(){return this._allowedDirectionValue},$content:function(){return this._$content},content:function(){return Object(h.a)(this._$content)},container:function(){return Object(h.a)(this._$container)},scrollOffset:function(){return this._strategy._getScrollOffset()},_isRtlNativeStrategy:function(){var t=this.option(),e=t.useNative,n=t.rtlEnabled;return e&&n},scrollTop:function(){return this.scrollOffset().top},scrollLeft:function(){return this.scrollOffset().left},clientHeight:function(){return Object(i.c)(this._$container)},scrollHeight:function(){return Object(i.g)(this.$content())},clientWidth:function(){return Object(i.k)(this._$container)},scrollWidth:function(){return Object(i.h)(this.$content())},update:function(){if(this._strategy)return Object(C.c)(this._strategy.update()).done(function(){this._updateAllowedDirection()}.bind(this))},scrollBy:function(t){((t=this._normalizeLocation(t)).top||t.left)&&(this._updateIfNeed(),this._strategy.scrollBy(t))},scrollTo:function(t){t=this._normalizeLocation(t),this._updateIfNeed();var e=this._location();this.option("useNative")||(t=this._strategy._applyScaleRatio(t),e=this._strategy._applyScaleRatio(e)),this._isRtlNativeStrategy()&&(e.left=e.left-this._getMaxOffset().left);var n=this._normalizeLocation({left:e.left-Object(l.ensureDefined)(t.left,e.left),top:e.top-Object(l.ensureDefined)(t.top,e.top)});(n.top||n.left)&&this._strategy.scrollBy(n)},scrollToElement:function(t,e){var n=Object(o.a)(t),i=this.$content().find(t).length,r=n.parents(".dx-scrollable").length-n.parents(".dx-scrollable-content").length===0;if(i&&r){var a={top:0,left:0},s=this.option("direction");"vertical"!==s&&(a.left=this.getScrollElementPosition(n,"horizontal",e)),"horizontal"!==s&&(a.top=this.getScrollElementPosition(n,"vertical",e)),this.scrollTo(a)}},getScrollElementPosition:function(t,e,n){var i=this.scrollOffset();return function(t,e,n,i,o){var r=Object(O.a)({top:0,left:0,right:0,bottom:0},o),a=e===S.c,s=a?"top":"left",l=a?"bottom":"right",c=a?"height":"width",u=n["offset".concat(Object(x.e)(c))],h=n["client".concat(Object(x.e)(c))],d=n.getBoundingClientRect()[c],p=t.getBoundingClientRect()[c],f=1;Math.abs(d-u)>1&&(f=d/u);var m=function(t,e){for(var n={left:0,top:0},i=e;null!==(o=i)&&void 0!==o&&o.offsetParent&&!i.classList.contains(t);){var o,r=i.offsetParent,a=i.getBoundingClientRect(),s=r.getBoundingClientRect();n.left+=a.left-s.left,n.top+=a.top-s.top,i=i.offsetParent}return n}(S.d,t)[s]/f,g=i[s],v=g-m+r[s],y=g-m-p/f+h-r[l];return v<=0&&y>=0?g:g-(Math.abs(v)>Math.abs(y)?y:v)}(t.get(0),e,Object(o.a)(this.container()).get(0),i,n)},_updateIfNeed:function(){this.option("updateManually")||this.update()},_useTemplates:function(){return!1},isRenovated:function(){return!!P.IS_RENOVATED_WIDGET}});Object(f.a)(w,P);e.a=P},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(253)},function(t,e){var n,i,o=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"===typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var l,c=[],u=!1,h=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&p())}function p(){if(!u){var t=s(d);u=!0;for(var e=c.length;e;){for(l=c,c=[];++h<e;)l&&l[h].run();h=-1,e=c.length}l=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||u||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i,o=n(32),r=n(5),a=n(48),s=n(20),l=n(10),c=n(44),u=n(132),h=n(105),d=o.a.inherit({ctor:function(t,e){this._timeout=t,this._fire=e},start:function(){var t=this;this._schedule(function(){t.force()})},_schedule:function(t){this.stop(),this._timer=setTimeout(t,this._timeout)},stop:function(){clearTimeout(this._timer)},force:function(){this._fired||(this.stop(),this._fire(),this._fired=!0)},fired:function(){return this._fired}}),p=u.a.inherit({ctor:function(){this.callBase.apply(this,arguments),this._active=new d(0,r.noop),this._inactive=new d(0,r.noop)},configure:function(t,e){switch(e){case"dxactive":t.activeTimeout=t.timeout;break;case"dxinactive":t.inactiveTimeout=t.timeout}this.callBase(t)},start:function(t){if(i){var e=Object(a.c)(this.getElement().get(0),i.getElement().get(0)),n=!i._active.fired();if(e&&n)return void this._cancel();i._inactive.force()}i=this,this._initEvents(t),this._active.start()},_initEvents:function(t){var e=this,n=this._getEmitterTarget(t),o=Object(l.k)(t),a=s.a.isSimulator()||!o,c=Object(r.ensureDefined)(this.activeTimeout,30),u=Object(r.ensureDefined)(this.inactiveTimeout,400);this._active=new d(a?c:0,function(){e._fireEvent("dxactive",t,{target:n})}),this._inactive=new d(a?u:0,function(){e._fireEvent("dxinactive",t,{target:n}),i=null})},cancel:function(t){this.end(t)},end:function(t){var e=t.type!==c.a.up;e?this._active.stop():this._active.force(),this._inactive.start(),e&&this._inactive.force()},dispose:function(){this._active.stop(),this._inactive.stop(),i===this&&(i=null),this.callBase()},lockInactive:function(){return this._active.force(),this._inactive.stop(),i=null,this._cancel(),this._inactive.force.bind(this._inactive)}});p.lock=function(t){var e=i?i.lockInactive():r.noop;t.done(e)},Object(h.a)({emitter:p,events:["dxactive","dxinactive"]});var f=p.lock},function(t,e,n){"use strict";var i=n(12),o=n(13),r=n(19),a=n(14),s=n(6),l=n(18),c=n(11),u=n(2),h=n(47),d=n(1),p=n(26),f=n(3),m=n(9),g=n(62),v=n(95),y=n(16),_=n(5),b=v.a.inherit({_initMarkup:function(){this._deferredItems=[],this.callBase()},_renderItemContent:function(t){var e=new y.a,n=new y.a;this._deferredItems[t.index]=n;var i=this.callBase.call(this,t);return n.done(function(){e.resolve(i)}),e.promise()},_onItemTemplateRendered:function(t,e){var n=this;return function(){n._deferredItems[e.index].resolve()}},_postProcessRenderItems:_.noop,_renderItemsAsync:function(){var t=this,e=new y.a;return y.c.apply(this,this._deferredItems).done(function(){t._postProcessRenderItems(),e.resolve()}),e.promise()},_clean:function(){this.callBase(),this._deferredItems=[]}}),C=n(88),O=n(57),x=n(202),S=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_getSynchronizableOptionsForCreateComponent",value:function(){return Object(a.a)(Object(s.a)(e.prototype),"_getSynchronizableOptionsForCreateComponent",this).call(this).filter(function(t){return"disabled"!==t})}},{key:"_initTemplates",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_initTemplates",this).call(this);var t=new C.a(function(t,e,n){if(Object(d.k)(e)){var i,o=e.text,r=e.html,a=e.widget;if(o&&t.text(o).wrapInner("<div>"),r&&t.html(r),"dxDropDownButton"===a)e.options=null!==(i=e.options)&&void 0!==i?i:{},Object(d.d)(e.options.stylingMode)||(e.options.stylingMode=this.option("useFlatButtons")?"text":"contained");if("dxButton"===a){var s,l,c,u;if(this.option("useFlatButtons"))e.options=null!==(s=e.options)&&void 0!==s?s:{},e.options.stylingMode=null!==(l=e.options.stylingMode)&&void 0!==l?l:"text";if(this.option("useDefaultButtons"))e.options=null!==(c=e.options)&&void 0!==c?c:{},e.options.type=null!==(u=e.options.type)&&void 0!==u?u:"default"}}else t.text(String(e));this._getTemplate("dx-polymorph-widget").render({container:t,model:n,parent:this})}.bind(this),["text","html","widget","options"],this.option("integrationOptions.watchMethod"));this._templateManager.addDefaultTemplates({item:t,menuItem:t})}},{key:"_getDefaultOptions",value:function(){return Object(f.a)(Object(a.a)(Object(s.a)(e.prototype),"_getDefaultOptions",this).call(this),{renderAs:"topToolbar",grouped:!1,useFlatButtons:!1,useDefaultButtons:!1})}},{key:"_defaultOptionsRules",value:function(){return Object(a.a)(Object(s.a)(e.prototype),"_defaultOptionsRules",this).call(this).concat([{device:function(){return Object(h.d)()},options:{useFlatButtons:!0}}])}},{key:"_itemContainer",value:function(){return this._$toolbarItemsContainer.find([".".concat("dx-toolbar-before"),".".concat("dx-toolbar-center"),".".concat("dx-toolbar-after")].join(","))}},{key:"_itemClass",value:function(){return"dx-toolbar-item"}},{key:"_itemDataKey",value:function(){return"dxToolbarItemDataKey"}},{key:"_dimensionChanged",value:function(){this._arrangeItems(),this._applyCompactMode()}},{key:"_initMarkup",value:function(){this._renderToolbar(),this._renderSections(),Object(a.a)(Object(s.a)(e.prototype),"_initMarkup",this).call(this)}},{key:"_render",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_render",this).call(this),this._renderItemsAsync(),this._updateDimensionsInMaterial()}},{key:"_postProcessRenderItems",value:function(){this._arrangeItems()}},{key:"_renderToolbar",value:function(){this.$element().addClass(x.a),this._$toolbarItemsContainer=Object(u.a)("<div>").addClass("dx-toolbar-items-container").appendTo(this.$element()),this.setAria("role","toolbar")}},{key:"_renderSections",value:function(){var t=this,e=this._$toolbarItemsContainer;Object(m.a)(["before","center","after"],function(n,i){var o="dx-toolbar-".concat(i);e.find(".".concat(o)).length||(t["_$".concat(i,"Section")]=Object(u.a)("<div>").addClass(o).appendTo(e))})}},{key:"_arrangeItems",value:function(t){var e;t=null!==(e=t)&&void 0!==e?e:Object(c.k)(this.$element()),this._$centerSection.css({margin:"0 auto",float:"none"});var n=Object(g.a)(this._$beforeSection.get(0)),i=Object(g.a)(this._$afterSection.get(0));this._alignCenterSection(n,i,t);var o=this._$toolbarItemsContainer.find(".".concat("dx-toolbar-label")).eq(0),r=o.parent();if(o.length){var a=n.width?n.width:o.position().left,s=r.hasClass("dx-toolbar-before")?0:a,l=r.hasClass("dx-toolbar-after")?0:i.width,u=0;r.children().not(".".concat("dx-toolbar-label")).each(function(){u+=Object(c.h)(this)});var h=t-u,d=Math.max(h-s-l,0);if(r.hasClass("dx-toolbar-before"))this._alignSection(this._$beforeSection,d);else{var p=Object(c.h)(o)-Object(c.k)(o);o.css("maxWidth",d-p)}}}},{key:"_alignCenterSection",value:function(t,e,n){this._alignSection(this._$centerSection,n-t.width-e.width);var i=this.option("rtlEnabled"),o=i?e:t,r=i?t:e,a=Object(g.a)(this._$centerSection.get(0));(o.right>a.left||a.right>r.left)&&this._$centerSection.css({marginLeft:o.width,marginRight:r.width,float:o.width>r.width?"none":"right"})}},{key:"_alignSection",value:function(t,e){var n=t.find(".".concat("dx-toolbar-label")).toArray();e-=this._getCurrentLabelsPaddings(n);var i=this._getCurrentLabelsWidth(n),o=Math.abs(i-e);e<i?(n=n.reverse(),this._alignSectionLabels(n,o,!1)):this._alignSectionLabels(n,o,!0)}},{key:"_alignSectionLabels",value:function(t,e,n){for(var i=function(t){return Object(g.a)(t).width},o=0;o<t.length;o++){var r=Object(u.a)(t[o]),a=Math.ceil(i(t[o])),s=void 0;n&&r.css("maxWidth","inherit");var l=Math.ceil(n?i(t[o]):a);if(!(l<e)){s=n?a+e:a-e,r.css("maxWidth",s);break}s=n?l:0,e-=l,r.css("maxWidth",s)}}},{key:"_applyCompactMode",value:function(){var t=this.$element();t.removeClass("dx-toolbar-compact"),this.option("compactMode")&&this._getSummaryItemsWidth(this.itemElements(),!0)>Object(c.k)(t)&&t.addClass("dx-toolbar-compact")}},{key:"_getCurrentLabelsWidth",value:function(t){var e=0;return t.forEach(function(t,n){e+=Object(c.h)(t)}),e}},{key:"_getCurrentLabelsPaddings",value:function(t){var e=0;return t.forEach(function(t,n){e+=Object(c.h)(t)-Object(c.k)(t)}),e}},{key:"_renderItem",value:function(t,n,i,o){var r,l,c=null!==(r=n.location)&&void 0!==r?r:"center",u=null!==i&&void 0!==i?i:this["_$".concat(c,"Section")],h=!!(null!==(l=n.text)&&void 0!==l?l:n.html),d=Object(a.a)(Object(s.a)(e.prototype),"_renderItem",this).call(this,t,n,u,o);return d.toggleClass("dx-toolbar-button",!h).toggleClass("dx-toolbar-label",h).addClass(n.cssClass),d}},{key:"_renderGroupedItems",value:function(){var t=this;Object(m.a)(this.option("items"),function(e,n){var i,o=n.items,r=Object(u.a)("<div>").addClass("dx-toolbar-group"),a=null!==(i=n.location)&&void 0!==i?i:"center";o&&o.length&&(Object(m.a)(o,function(e,n){t._renderItem(e,n,r,null)}),t._$toolbarItemsContainer.find(".dx-toolbar-".concat(a)).append(r))})}},{key:"_renderItems",value:function(t){this.option("grouped")&&t.length&&t[0].items?this._renderGroupedItems():Object(a.a)(Object(s.a)(e.prototype),"_renderItems",this).call(this,t)}},{key:"_getToolbarItems",value:function(){var t;return null!==(t=this.option("items"))&&void 0!==t?t:[]}},{key:"_renderContentImpl",value:function(){var t=this._getToolbarItems();this.$element().toggleClass("dx-toolbar-mini",0===t.length),this._renderedItemsCount?this._renderItems(t.slice(this._renderedItemsCount)):this._renderItems(t),this._applyCompactMode()}},{key:"_renderEmptyMessage",value:function(){}},{key:"_clean",value:function(){this._$toolbarItemsContainer.children().empty(),this.$element().empty(),delete this._$beforeSection,delete this._$centerSection,delete this._$afterSection}},{key:"_visibilityChanged",value:function(t){t&&this._arrangeItems()}},{key:"_isVisible",value:function(){return Object(c.k)(this.$element())>0&&Object(c.c)(this.$element())>0}},{key:"_getIndexByItem",value:function(t){return this._getToolbarItems().indexOf(t)}},{key:"_itemOptionChanged",value:function(t,n,i){Object(a.a)(Object(s.a)(e.prototype),"_itemOptionChanged",this).apply(this,[t,n,i]),this._arrangeItems()}},{key:"_optionChanged",value:function(t){var n=t.name;t.value;switch(n){case"width":Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).apply(this,arguments),this._dimensionChanged();break;case"renderAs":case"useFlatButtons":case"useDefaultButtons":this._invalidate();break;case"compactMode":this._applyCompactMode();break;case"grouped":break;default:Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).apply(this,arguments)}}},{key:"_dispose",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_dispose",this).call(this),clearTimeout(this._waitParentAnimationTimeout)}},{key:"_updateDimensionsInMaterial",value:function(){var t=this;Object(h.d)()&&Promise.all([new Promise(function(e){!function n(){clearTimeout(t._waitParentAnimationTimeout),t._waitParentAnimationTimeout=setTimeout(function(){return function(){var n=!0;return t.$element().parents().each(function(t,e){if(O.a.isAnimating(Object(u.a)(e)))return n=!1,!1}),n&&e(),n}()||n()},15)}()}),function(){var e=t.$element().find(".".concat("dx-toolbar-label")),n=[];return e.each(function(t,e){var i=Object(u.a)(e).text(),o=Object(u.a)(e).css("fontWeight");n.push(Object(h.e)(i,o))}),Promise.all(n)}()]).then(function(){t._dimensionChanged()})}}]),e}(b);Object(p.a)("dxToolbarBase",S);e.a=S},function(t,e,n){"use strict";t.exports=n(261)},function(t,e,n){"use strict";var i=n(262),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(t){return i.isMemo(t)?a:s[t.$$typeof]||o}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;t.exports=function t(e,n,i){if("string"!==typeof n){if(f){var o=p(n);o&&o!==f&&t(e,o,i)}var a=u(n);h&&(a=a.concat(h(n)));for(var s=l(e),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!r[v]&&(!i||!i[v])&&(!m||!m[v])&&(!s||!s[v])){var y=d(n,v);try{c(e,v,y)}catch(_){}}}}return e}},function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=58)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.x=t,this.y=e}return t.zero=function(){return new t(0,0)},t.fromNumber=function(e){return new t(e,e)},t.prototype.isZero=function(){return 0===this.x&&0===this.y},t.prototype.toString=function(){return JSON.stringify(this)},t.prototype.copyFrom=function(t){this.x=t.x,this.y=t.y},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},t.prototype.offset=function(t,e){return this.x+=t,this.y+=e,this},t.prototype.offsetByPoint=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.multiply=function(t,e){return this.x*=t,this.y*=e,this},t.prototype.negative=function(){return this.x*=-1,this.y*=-1,this},t.prototype.applyConverter=function(t){return this.x=t(this.x),this.y=t(this.y),this},t.plus=function(e,n){return new t(e.x+n.x,e.y+n.y)},t.minus=function(e,n){return new t(e.x-n.x,e.y-n.y)},t.xComparer=function(t,e){return t.x-e.x},t.yComparer=function(t,e){return t.y-e.y},t.equals=function(t,e){return t.x===e.x&&t.y===e.y},t}();e.Point=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeType=e.ShapeTypes=e.ShapeCategories=void 0;var i=function(){function t(){}return t.General="general",t.Flowchart="flowchart",t.OrgChart="orgChart",t.Containers="containers",t.Custom="custom",t}();e.ShapeCategories=i;var o=function(){function t(){}return t.Text="text",t.Rectangle="rectangle",t.Ellipse="ellipse",t.Cross="cross",t.Triangle="triangle",t.Diamond="diamond",t.Heart="heart",t.Pentagon="pentagon",t.Hexagon="hexagon",t.Octagon="octagon",t.Star="star",t.ArrowLeft="arrowLeft",t.ArrowUp="arrowTop",t.ArrowRight="arrowRight",t.ArrowDown="arrowBottom",t.ArrowUpDown="arrowNorthSouth",t.ArrowLeftRight="arrowEastWest",t.Process="process",t.Decision="decision",t.Terminator="terminator",t.PredefinedProcess="predefinedProcess",t.Document="document",t.MultipleDocuments="multipleDocuments",t.ManualInput="manualInput",t.Preparation="preparation",t.Data="data",t.Database="database",t.HardDisk="hardDisk",t.InternalStorage="internalStorage",t.PaperTape="paperTape",t.ManualOperation="manualOperation",t.Delay="delay",t.StoredData="storedData",t.Display="display",t.Merge="merge",t.Connector="connector",t.Or="or",t.SummingJunction="summingJunction",t.Container="container",t.VerticalContainer="verticalContainer",t.HorizontalContainer="horizontalContainer",t.Card="card",t.CardWithImageOnLeft="cardWithImageOnLeft",t.CardWithImageOnTop="cardWithImageOnTop",t.CardWithImageOnRight="cardWithImageOnRight",t}();e.ShapeTypes=o,function(t){t[t.text=0]="text",t[t.rectangle=1]="rectangle",t[t.ellipse=2]="ellipse",t[t.cross=3]="cross",t[t.triangle=4]="triangle",t[t.diamond=5]="diamond",t[t.heart=6]="heart",t[t.pentagon=7]="pentagon",t[t.hexagon=8]="hexagon",t[t.octagon=9]="octagon",t[t.star=10]="star",t[t.arrowLeft=11]="arrowLeft",t[t.arrowTop=12]="arrowTop",t[t.arrowRight=13]="arrowRight",t[t.arrowBottom=14]="arrowBottom",t[t.arrowNorthSouth=15]="arrowNorthSouth",t[t.arrowEastWest=16]="arrowEastWest",t[t.process=17]="process",t[t.decision=18]="decision",t[t.terminator=19]="terminator",t[t.predefinedProcess=20]="predefinedProcess",t[t.document=21]="document",t[t.multipleDocuments=22]="multipleDocuments",t[t.manualInput=23]="manualInput",t[t.preparation=24]="preparation",t[t.data=25]="data",t[t.database=26]="database",t[t.hardDisk=27]="hardDisk",t[t.internalStorage=28]="internalStorage",t[t.paperTape=29]="paperTape",t[t.manualOperation=30]="manualOperation",t[t.delay=31]="delay",t[t.storedData=32]="storedData",t[t.display=33]="display",t[t.merge=34]="merge",t[t.connector=35]="connector",t[t.or=36]="or",t[t.summingJunction=37]="summingJunction",t[t.verticalContainer=38]="verticalContainer",t[t.horizontalContainer=39]="horizontalContainer",t[t.cardWithImageOnLeft=40]="cardWithImageOnLeft",t[t.cardWithImageOnTop=41]="cardWithImageOnTop",t[t.cardWithImageOnRight=42]="cardWithImageOnRight"}(e.ShapeType||(e.ShapeType={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.width=t,this.height=e}return t.empty=function(){return new t(0,0)},t.fromNumber=function(e){return new t(e,e)},t.initByCommonAction=function(e){var n=function(t){return t.width},i=function(t){return t.height};return new t(e(n,i),e(i,n))},t.prototype.isEmpty=function(){return 0===this.width&&0===this.height},t.prototype.toString=function(){return JSON.stringify(this)},t.prototype.nonNegativeSize=function(){return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this},t.prototype.offset=function(t,e){return this.width=this.width+t,this.height=this.height+e,this},t.prototype.multiply=function(t,e){return this.width*=t,this.height*=e,this},t.prototype.equals=function(t){return this.width===t.width&&this.height===t.height},t.prototype.clone=function(){return new t(this.width,this.height)},t.prototype.copyFrom=function(t){this.width=t.width,this.height=t.height},t.prototype.applyConverter=function(t){return this.width=t(this.width),this.height=t(this.height),this},t.equals=function(t,e){return t.width===e.width&&t.height===e.height},t}();e.Size=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EventUtils=e.HtmlFocusUtils=e.ObjectUtils=e.GeometryUtils=e.Utils=e.EventDispatcher=e.Range=e.LineEquation=void 0,n(174);var i=n(2),o=n(0),r=n(13),a=n(41),s=n(35),l=n(31),c=n(60),u=n(33),h=n(26),d=n(18),p=n(65),f=function(){function t(t,e,n){this.aParam=t,this.bParam=e,this.cParam=n}return t.fromPoints=function(e,n,i){return void 0===i&&(i=1e-5),y.areDuplicatedPoints(e,n,i)?void 0:new t(n.y-e.y,e.x-n.x,n.x*e.y-e.x*n.y)},t.prototype.getPointIntersection=function(t,e){void 0===e&&(e=1e-5);var n=this.aParam,i=this.bParam,o=this.cParam,r=t.aParam,a=t.bParam,s=t.cParam,c=r*i-n*a;if(l.MathUtils.numberCloseTo(c,0,e))return null;if(0===n){var u=(a*o-s*i)/(i*r);return this.createPoint(u,-o/i)}var h=(s*n-o*r)/c;return this.createPoint((-i*h-o)/n,h)},t.prototype.containsPoint=function(t,e){return void 0===e&&(e=1e-5),l.MathUtils.numberCloseTo(this.aParam*t.x+this.bParam*t.y+this.cParam,0,e)},t.prototype.createPoint=function(t,e,n){return void 0===n&&(n=1e-5),new o.Point(l.MathUtils.numberCloseTo(t,0,n)?0:t,l.MathUtils.numberCloseTo(e,0,n)?0:e)},t}();e.LineEquation=f;var m=function(){function t(t,e){this.from=t,this.to=void 0!==e?e:t}return Object.defineProperty(t.prototype,"length",{get:function(){return Math.abs(this.to-this.from)},enumerable:!1,configurable:!0}),t.prototype.extend=function(t){this.from=Math.min(t.from,this.from),this.to=Math.max(t.to,this.to)},t.prototype.includes=function(t){return t>=this.from&&t<=this.to},t.fromLength=function(e,n){return new t(e,e+n)},t}();e.Range=m;var g=function(){function t(){this.listeners=[]}return t.prototype.add=function(t){if(!t)throw new Error("Not Implemented");this.hasEventListener(t)||this.listeners.push(t)},t.prototype.remove=function(t){for(var e=0,n=void 0;n=this.listeners[e];e++)if(n===t){this.listeners.splice(e,1);break}},t.prototype.raise=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,o=void 0;o=this.listeners[i];i++){var r=o[t];r&&r.apply(o,e)}},t.prototype.raise1=function(t){for(var e=0,n=void 0;n=this.listeners[e];e++)t(n)},t.prototype.hasEventListener=function(t){for(var e=0,n=this.listeners.length;e<n;e++)if(this.listeners[e]===t)return!0;return!1},t}();e.EventDispatcher=g;var v=function(){function t(){}return t.flatten=function(t){return[].concat.apply([],t)},t}();e.Utils=v;var y=function(){function t(){}return t.getCommonRectangle=function(t){if(!t.length)return new r.Rectangle(0,0,0,0);var e=Number.MAX_VALUE,n=-Number.MAX_VALUE,i=Number.MAX_VALUE,o=-Number.MAX_VALUE;return t.forEach(function(t){e=Math.min(e,t.x),n=Math.max(n,t.right),i=Math.min(i,t.y),o=Math.max(o,t.bottom)}),new r.Rectangle(e,i,n-e,o-i)},t.findFreeSpace=function(t,e,n,i){var r=[i?i.x:0],s=[i?i.y:0];t.forEach(function(t){r.push(t.x),r.push(t.right),s.push(t.y),s.push(t.bottom)}),r=r.sort(function(t,e){return t-e}).reduce(function(t,e,n){return r[n-1]!==e&&t.push(e)&&t||t},[]);for(var l=(s=s.sort(function(t,e){return t-e}).reduce(function(t,e,n){return s[n-1]!==e&&t.push(e)&&t||t},[])).map(function(t){return r.map(function(t,e){return r[e+1]-t})}),c=function(t,e){for(var n=a.SearchUtils.binaryIndexOf(r,function(t){return t-e.x}),i=a.SearchUtils.binaryIndexOf(r,function(t){return t-e.right}),o=a.SearchUtils.binaryIndexOf(s,function(t){return t-e.y}),c=a.SearchUtils.binaryIndexOf(s,function(t){return t-e.bottom}),u=o;u<c;u++)for(var h=n;h<i;h++)l[u][h]*=-1},u=0,h=void 0;h=t[u];u++)c(0,h);for(var d=0;d<s.length;d++)for(var p=0;p<r.length-1;p++){var f=this.checkRect(l,s,r,d,p,e,n);if(f>0)p=f;else if(0===f)return new o.Point(r[p],s[d])}return null},t.checkRect=function(t,e,n,i,o,r,a){for(var s=0,l=0,c=n.length-2,u=i;u<e.length;u++){s=e[u+1]-e[i];for(var h=o;h<=c;h++){if(t[u][h]<0)return 0===h?-1:h;if(l=n[h+1]-n[o],r.width<=l||!a&&h===n.length-2&&r.width/2<=l){if(r.height<=s||!a&&u===e.length-2&&r.height/2<=s)return 0;c=h}}}},t.getArrowPoints=function(t,e,n,i){if(t.x===e.x&&t.y===e.y)return{point1:t.clone(),point2:t.clone(),point3:t.clone()};var r=e.x-t.x,a=e.y-t.y,s=Math.sqrt(Math.pow(r,2)+Math.pow(a,2)),l=r/s,c=a/s,u=t.x+n*l+i*c,h=t.y+n*c-i*l,d=t.x+n*l-i*c,p=t.y+n*c+i*l,f=t.x+n*l,m=t.y+n*c;return{point1:new o.Point(u,h),point2:new o.Point(d,p),point3:new o.Point(f,m)}},t.createSegments=function(t){for(var e=[],n=1;n<t.length;n++)e.push(new u.Segment(t[n-1],t[n]));return e},t.createRectagle=function(t){var e=t.map(function(t){return t.x}),n=t.map(function(t){return t.y}),i=e.reduce(function(t,e){return Math.min(t,e)},Number.MAX_VALUE),o=e.reduce(function(t,e){return Math.max(t,e)},-Number.MAX_VALUE),a=n.reduce(function(t,e){return Math.min(t,e)},Number.MAX_VALUE),s=n.reduce(function(t,e){return Math.max(t,e)},-Number.MAX_VALUE);return new r.Rectangle(i,a,o-i,s-a)},t.createSegmentsFromRectangle=function(t){var e=[],n=new o.Point(t.x,t.y),i=new o.Point(t.right,t.y),r=new o.Point(t.right,t.bottom),a=new o.Point(t.x,t.bottom);return e.push(new u.Segment(n,i)),e.push(new u.Segment(i,r)),e.push(new u.Segment(r,a)),e.push(new u.Segment(a,n)),e},t.areSegmentsCutRectangle=function(e,n){if(!n)return!1;for(var i=t.createSegmentsFromRectangle(n),o=!1,r=!1,a=function(t){if(o&&r)return{value:!0};var a=e[t];if(a.isIntersectedByRect(n)){var s=a.startPoint,l=a.endPoint,c=n.containsPoint(s),u=n.containsPoint(l);if(!c&&!u)return{value:!0};if(c&&!u){var h=i.filter(function(t){return t.containsPoint(s)});return h.length>0&&i.filter(function(t){return 1===h.length?!t.containsPoint(h[0].startPoint)&&!t.containsPoint(h[0].endPoint):t!==h[0]&&t!==h[1]}).some(function(t){return a.isIntersected(t)})&&!o&&(o=!0),r||(r=!0),"continue"}if(!c&&u){o||(o=!0,r&&(r=!1));var d=i.filter(function(t){return t.containsPoint(l)});return d.length>0&&i.filter(function(t){return 1===d.length?!t.containsPoint(d[0].startPoint)&&!t.containsPoint(d[0].endPoint):t!==d[0]&&t!==d[1]}).some(function(t){return a.isIntersected(t)})&&!r&&(r=!0),"continue"}var p=i.filter(function(t){return t.containsPoint(s)}),f=i.filter(function(t){return t.containsPoint(l)});if(2===p.length&&2===f.length)return{value:!0};if(1===p.length&&1===f.length&&p[0]!==f[0])return{value:!0};r||1!==f.length||p.length||(r=!0),o||1!==p.length||f.length||(o=!0,r&&(r=!1))}},s=0;s<e.length;s++){var l=a(s);if("object"==typeof l)return l.value}return o&&r},t.areIntersectedSegments=function(t,e){if(!e)return!1;for(var n,i=0;n=t[i];){for(var o=0,r=void 0;r=e[o];){if(r.isIntersected(n))return!0;o++}i++}return!1},t.isLineIntersected=function(e,n,i,o,r){var a=f.fromPoints(e,n),s=i.startPoint,l=i.endPoint;if(a.containsPoint(s)&&a.containsPoint(l))return!o&&!r;var c=f.fromPoints(s,l).getPointIntersection(a);return!(!c||!i.containsPoint(c))&&(o?!t.areDuplicatedPoints(s,c):!r||!t.areDuplicatedPoints(l,c))},t.removeUnnecessaryPoints=function(t,e,n,i){void 0===n&&(n=function(t){return void 0!==t}),void 0===i&&(i=1e-5),this.removeUnnecessaryPointsCore(t,e,n,i),this.removeBackwardPoints(t,e,n,i),this.removeUnnecessaryPointsCore(t,e,n,i)},t.removeUnnecessaryRightAnglePoints=function(t,e,n,i){void 0===n&&(n=function(t){return void 0!==t}),void 0===i&&(i=1e-5),this.removeUnnecessaryPointsCore(t,e,n,i),this.removeBackwardPoints(t,e,n,i),this.removeNotRightAnglePoints(t,e,n,i),this.removeUnnecessaryPointsCore(t,e,n,i)},t.removeUnnecessaryPointsCore=function(t,e,n,i){void 0===n&&(n=function(t){return void 0!==t}),void 0===i&&(i=1e-5),this.removeDuplicatedPoints(t,e,n,i),this.removeNotCornersPoints(t,e,n,i)},t.removeNotRightAnglePoints=function(e,n,i,o){void 0===i&&(i=function(t){return void 0!==t}),void 0===o&&(o=1e-5);for(var r,a=0;(r=e[a])&&e.length>2;){var s=this.getNextPoint(e,a,1,i),l=this.getNextPoint(e,a,-1,i);l&&s&&!t.isRightAngleCorner(l,r,s,o)&&n(r,a)||a++}},t.removeDuplicatedPoints=function(e,n,i,o){void 0===i&&(i=function(t){return void 0!==t}),void 0===o&&(o=1e-5);for(var r,a=0;(r=e[a])&&e.length>2;){var s=this.getNextPoint(e,a,1,i);if(s&&t.areDuplicatedPoints(r,s,o)){var l=a===e.length-2?a:a+1;if(n(e[l],l))continue}a++}},t.removeNotCornersPoints=function(e,n,i,o){void 0===i&&(i=function(t){return void 0!==t}),void 0===o&&(o=1e-5);for(var r,a=0;(r=e[a])&&e.length>2;){var s=this.getNextPoint(e,a,1,i),l=this.getNextPoint(e,a,-1,i);l&&s&&!t.isCorner(l,r,s,o)&&n(r,a)||a++}},t.removeBackwardPoints=function(e,n,i,o){void 0===i&&(i=function(t){return void 0!==t}),void 0===o&&(o=1e-5);for(var r,a=0;(r=e[a])&&e.length>2;){var s=this.getNextPoint(e,a,1,i),l=this.getNextPoint(e,a,-1,i);l&&s&&t.isBackwardPoint(l,r,s,o)&&n(r,a)||a++}},t.isRightAngleCorner=function(e,n,i,o){return void 0===o&&(o=1e-5),l.MathUtils.numberCloseTo(t.createAngle(e,n,i),Math.PI/2,o)||l.MathUtils.numberCloseTo(t.createAngle(e,n,i),Math.PI,o)||l.MathUtils.numberCloseTo(t.createAngle(e,n,i),3*Math.PI/2,o)},t.isCorner=function(e,n,i,o){return void 0===o&&(o=1e-5),!l.MathUtils.numberCloseTo(t.createAngle(e,n,i),0,o)},t.areDuplicatedPoints=function(t,e,n){return void 0===n&&(n=1e-5),l.MathUtils.numberCloseTo(t.x,e.x,n)&&l.MathUtils.numberCloseTo(t.y,e.y,n)},t.isBackwardPoint=function(e,n,i,o){return void 0===o&&(o=1e-5),l.MathUtils.numberCloseTo(t.createAngle(e,n,i),Math.PI,o)},t.createAngle=function(t,e,n){var i=c.Vector.fromPoints(e,n),o=c.Vector.fromPoints(t,e),r=i.x,a=i.y,s=o.x,l=o.y,u=Math.atan2(r*l-s*a,r*s+a*l);return u<0?2*Math.PI+u:u},t.getNextPoint=function(t,e,n,i){for(var o,r=e+n;o=t[r];){if(i(o))return o;r+=n}},t.addSelectedLinesTo=function(t,e,n,i,o,r,a,s,c,u,h,d,p,f){void 0===f&&(f=1e-5);var m=e.y-t.y,g=n.y-e.y,v=t.x-e.x,y=e.x-n.x,_=m*y-g*v;if(!l.MathUtils.numberCloseTo(_,0,f)){var b=m*(t.x+i)+v*(t.y+o),C=g*(e.x+s)+y*(e.y+c);d((y*b-v*C)/_,(m*C-g*b)/_);var O=m*(t.x+r)+v*(t.y+a),x=g*(e.x+u)+y*(e.y+h);p((y*O-v*x)/_,(m*x-g*O)/_)}},t.getSelectionOffsetPoint=function(t,e,n){return new o.Point((t.y-e.y)/n,(e.x-t.x)/n)},t.getSelectionTextStartEndPoints=function(t,e,n,i,r,a){var s=(e.x-t.x)/n,l=(e.y-t.y)/n,c=r.width*s+r.height*l;switch(a){case h.TextAlignment.Left:return[i,new o.Point(i.x+s*c,i.y+l*c)];case h.TextAlignment.Right:return[new o.Point(i.x-s*c,i.y-l*c),i];default:return[new o.Point(i.x-.5*s*c,i.y-.5*l*c),new o.Point(i.x+.5*s*c,i.y+.5*l*c)]}},t.getPathLength=function(t){var e,n=0;return t.forEach(function(t){void 0!==e&&(n+=s.Metrics.euclideanDistance(t,e)),e=t}),n},t.getPathPointByPosition=function(t,e){if(!t.length)throw new Error("Invalid points");if(0>e||e>1)throw new Error("Invalid relative position");var n=this.getPathLength(t);if(t.length<=2&&0===n||0===e)return[t[0],0];for(var i=n*e,r=0,a=1;a<t.length;a++){var l=s.Metrics.euclideanDistance(t[a],t[a-1]);if(r+l>=i){var c=i-r,u=(t[a].x-t[a-1].x)/l,h=(t[a].y-t[a-1].y)/l;return[new o.Point(t[a-1].x+u*c,t[a-1].y+h*c),a]}r+=l}return[t[t.length-1],t.length-1]},t.getLineAngle=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},t.getTriangleBeginAngle=function(t,e,n){var i=this.getLineAngle(t,e),o=this.getLineAngle(t,n);return Math.abs(o-i)},t.getTriangleEndAngle=function(t,e,n){var i=this.getLineAngle(t,e),o=this.getLineAngle(n,e);return Math.abs(i-o)},t.getPathPointByPoint=function(t,e){if(!t.length)throw new Error("Invalid points");if(1===t.length)return t[0];for(var n,i=Number.MAX_VALUE,o=1;o<t.length;o++){var r=t[o-1],a=t[o];if(e.equals(r)){n=r.clone();break}if(e.equals(a)){n=a.clone();break}var l=this.getTriangleBeginAngle(r,a,e),c=this.getTriangleEndAngle(r,a,e),u=s.Metrics.euclideanDistance(e,r),h=s.Metrics.euclideanDistance(e,a),d=u*Math.sin(l),p=void 0;if((p=Math.PI/2<=l&&l<=3*Math.PI/2?u:Math.PI/2<=c&&c<=3*Math.PI/2?h:Math.abs(d))<i)if(i=p,Math.PI/2<=l&&l<=3*Math.PI/2)n=r.clone();else if(Math.PI/2<=c&&c<=3*Math.PI/2)n=a.clone();else{var f=Math.fround||Math.round,m=this.getLineAngle(r,a),g=f(Math.abs(d*Math.sin(m))),v=f(Math.abs(d*Math.cos(m))),y=e.y-r.y<f((e.x-r.x)*Math.tan(m));0<=m&&m<=Math.PI/2?(g*=y?-1:1,v*=y?1:-1):Math.PI/2<=m&&m<=Math.PI?(g*=y?1:-1,v*=y?1:-1):0>=m&&m>=-Math.PI/2?(g*=y?1:-1,v*=y?1:-1):-Math.PI/2>=m&&m>=-Math.PI&&(g*=y?-1:1,v*=y?1:-1),n=e.clone().offset(g,v)}}return n},t.getPathPositionByPoint=function(t,e,n){void 0===n&&(n=100),e=this.getPathPointByPoint(t,e);for(var i=this.getPathLength(t),o=0,r=1;r<t.length;r++){var a=t[r-1],l=t[r],c=s.Metrics.euclideanDistance(l,a),u=Math.atan((l.y-a.y)/(l.x-a.x)),h=Math.fround||Math.round;if(e.x===l.x&&e.x===a.x||e.y===l.y&&e.y===a.y||h(e.y-a.y)===h((e.x-a.x)*Math.tan(u)))return 0!==Math.sin(u)?o+=Math.abs((e.y-a.y)/Math.sin(u)):o+=Math.abs(e.x-a.x),Math.round(o*n/i)/n;o+=c}return 1},t.arePointsEqual=function(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(!t[i].equals(e[i]))return!1;return!0},t.getMaxRectangleEnscribedInEllipse=function(t){var e=t.width*Math.sqrt(2)/2,n=t.height*Math.sqrt(2)/2;return new i.Size(e,n)},t.getEllipseByEnscribedRectangle=function(t){return new i.Size(2*t.width/Math.sqrt(2),2*t.height/Math.sqrt(2))},t}();e.GeometryUtils=y;var _=function(){function t(){}return t.cloneObject=function(t){return t&&Object.assign({},t)},t.compareObjects=function(t,e){return t===e||"object"==typeof t&&"object"==typeof e&&this.isDeepEqual(t,e)},t.isDeepEqual=function(t,e){var n=t?Object.getOwnPropertyNames(t):[],i=e?Object.getOwnPropertyNames(e):[];if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++){var r=n[o];switch(typeof t[r]){case"object":if(!this.isDeepEqual(t[r],e[r]))return!1;break;case"number":if(!(isNaN(t[r])&&isNaN(e[r])||t[r]===e[r]))return!1;break;default:if(t[r]!==e[r])return!1}}return!0},t}();e.ObjectUtils=_;var b=function(){function t(){}return t.focusWithPreventScroll=function(t){try{var e=d.Browser.Safari,n=e&&this.getHtmlScrollPosition();if(e){var i=t.parentElement&&t.parentElement.getBoundingClientRect();if(i){var o=i.left<0?1-i.left:0,r=i.top<0?1-i.top:0,a=window.frameElement&&window.frameElement.getBoundingClientRect();a&&(a.top<0&&-a.top>i.top&&(r=-a.top-i.top+1),a.left<0&&-a.left>i.left&&(o=-a.left-i.left+1)),t.style.setProperty("left",o+"px","important"),t.style.setProperty("top",r+"px","important")}}if(t.focus({preventScroll:!0}),e){var s=this.getHtmlScrollPosition();_.compareObjects(n,s)||this.setHtmlScrollPosition(n),t.style.setProperty("left","-1000px","important"),t.style.setProperty("top","-1000px","important")}}catch(t){}},t.getHtmlScrollPosition=function(){return{pos:this.getDocumentScrollPosition(window,document),iframePos:window.top!==window&&this.getDocumentScrollPosition(window.top,window.top.document)}},t.getDocumentScrollPosition=function(t,e){return{left:t.pageXOffset||e.documentElement.scrollLeft||e.body.scrollLeft,top:t.pageYOffset||e.documentElement.scrollTop||e.body.scrollTop}},t.setHtmlScrollPosition=function(t){this.setDocumentScrollPosition(document,t.pos),window.top!==window&&t.iframePos&&this.setDocumentScrollPosition(window.top.document,t.iframePos)},t.setDocumentScrollPosition=function(t,e){t.documentElement.scrollTop=e.top,t.documentElement.scrollLeft=e.left,t.body.scrollTop=e.top,t.body.scrollLeft=e.left},t}();e.HtmlFocusUtils=b;var C=function(){function t(){}return t.isLeftButtonPressed=function(t){return p.EvtUtils.isLeftButtonPressed(t)},t.isPointerEvents=function(){return window.PointerEvent},t.isMousePointer=function(t){return this.isPointerEvents()&&t.pointerType&&"mouse"===t.pointerType},t.isTouchMode=function(){return d.Browser.TouchUI||window.navigator&&window.navigator.maxTouchPoints>0},t.isTouchEvent=function(e){return d.Browser.TouchUI||!t.isMousePointer(e)},t}();e.EventUtils=C},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelUtils=void 0;var i=n(12),o=n(35),r=n(0),a=n(13),s=n(2),l=n(60),c=n(31),u=n(47),h=n(48),d=n(66),p=n(188),f=n(53),m=n(86),g=n(112),v=n(67),y=n(113),_=n(114),b=n(189),C=n(190),O=n(191),x=n(192),S=n(115),w=n(68),P=n(193),k=n(194),E=n(88),T=n(69),I=n(116),j=n(117),M=n(89),D=n(70),A=n(54),R=n(195),B=n(38),L=n(3),N=n(6),z=n(32),F=n(29),H=n(85),V=n(14),U=function(){function t(){}return t.setShapePosition=function(e,n,i,o,r){if(void 0===r&&(r=!0),!i.position.equals(o)){var a=o.clone().offset(-i.position.x,-i.position.y);e.addAndRedo(new O.MoveShapeHistoryItem(i.key,o)),r&&i.children.forEach(function(i){if(i instanceof V.Shape){var o=i.position.clone().offset(a.x,a.y);t.setShapePosition(e,n,i,o)}})}},t.setShapeSize=function(t,e,n,i,o){n.size.equals(o)&&n.position.equals(i)||t.addAndRedo(new S.ResizeShapeHistoryItem(n.key,i,o))},t.addConnectorPoint=function(t,e,n,i){t.addAndRedo(new p.AddConnectorPointHistoryItem(e,n,i))},t.deleteConnectorCustomPoints=function(t,e){if(e.points.length>2){var n=e.tryCreateRenderPointsContext();if(e.properties.lineOption!==z.ConnectorLineOption.Straight&&n){var i=e.points[0].clone(),o=e.points[e.points.length-1].clone();t.addAndRedo(new m.ChangeConnectorPointsHistoryItem(e.key,[i,o],new H.ConnectorRenderPointsContext([new F.ConnectorRenderPoint(i.x,i.y,0),new F.ConnectorRenderPoint(o.x,o.y,1)],!1,n.actualRoutingMode)))}else t.addAndRedo(new m.ReplaceConnectorPointsHistoryItem(e.key,[e.points[0].clone(),e.points[e.points.length-1].clone()]))}},t.deleteConnectorUnnecessaryPoints=function(e,n){var i=n.getRenderPoints(!0).map(function(t){return t.clone()});if(n.properties.lineOption===z.ConnectorLineOption.Straight){var o=t.createUnnecessaryRenderPoints(i.filter(function(t){return!t.skipped}).map(function(t){return t.clone()}),n.skippedRenderPoints,function(e){return t.findFirstPointIndex(i,function(t){return t.equals(e)})});Object.keys(o).length&&e.addAndRedo(new m.ReplaceConnectorPointsHistoryItem(n.key,t.createNecessaryPoints(n.points.map(function(t){return t.clone()}),o)))}else{var r=n.tryCreateRenderPointsContext(!0),a=i.filter(function(t){return!t.skipped}).map(function(t){return t.clone()});if(o=t.createUnnecessaryRightAngleRenderPoints(a,n.skippedRenderPoints,function(e){return t.findFirstPointIndex(i,function(t){return t.equals(e)})}),Object.keys(o).length){var s=t.createNecessaryPoints(n.points.map(function(t){return t.clone()}),o),l=new H.ConnectorRenderPointsContext(t.validateRenderPointIndexes(s,a,0),r.lockCreateRenderPoints,r.actualRoutingMode);e.addAndRedo(new m.ChangeConnectorPointsHistoryItem(n.key,s,l))}}},t.fixConnectorBeginEndConnectionIndex=function(t,e){if(e.beginItem&&-1===e.beginConnectionPointIndex){var n=e.beginItem.getNearestConnectionPoint(e.points[0]);t.addAndRedo(new h.SetConnectionPointIndexHistoryItem(e,n,N.ConnectorPosition.Begin))}if(e.endItem&&-1===e.endConnectionPointIndex){var i=e.endItem.getNearestConnectionPoint(e.points[e.points.length-1]);t.addAndRedo(new h.SetConnectionPointIndexHistoryItem(e,i,N.ConnectorPosition.End))}},t.skipUnnecessaryRenderPoints=function(e){var n=e.map(function(t){return t.clone()});t.removeUnnecessaryRenderPoints(n),e.forEach(function(t){return t.skipped=n.some(function(e){return e.skipped&&e.equals(t)})}),e[0].skipped=!1,e[e.length-1].skipped=!1},t.skipUnnecessaryRightAngleRenderPoints=function(e){var n=e.map(function(t){return t.clone()});t.removeUnnecessaryRightAngleRenderPoints(n),e.forEach(function(t){return t.skipped=n.some(function(e){return e.skipped&&e.equals(t)})}),e[0].skipped=!1,e[e.length-1].skipped=!1},t.removeUnnecessaryRenderPoints=function(e){L.GeometryUtils.removeUnnecessaryPoints(e,function(n,i){return t.removeUnnecessaryPoint(e,n,i)},function(t){return void 0!==t&&!t.skipped}),e[0].skipped=!1,e[e.length-1].skipped=!1},t.removeUnnecessaryRightAngleRenderPoints=function(e){L.GeometryUtils.removeUnnecessaryRightAnglePoints(e,function(n,i){return t.removeUnnecessaryPoint(e,n,i)},function(t){return void 0!==t&&!t.skipped}),e[0].skipped=!1,e[e.length-1].skipped=!1},t.createUnnecessaryRenderPoints=function(e,n,i,o){void 0===o&&(o=function(t){return!0});var r={};return L.GeometryUtils.removeUnnecessaryPoints(e,function(n,a){return t.collectNotSkippedRenderPoints(r,e,n,a,i,o)}),t.collectSkippedRenderPoints(r,n,i,o),r},t.createUnnecessaryRightAngleRenderPoints=function(e,n,i,o){void 0===o&&(o=function(t){return!0});var r={};return L.GeometryUtils.removeUnnecessaryRightAnglePoints(e,function(n,a){return t.collectNotSkippedRenderPoints(r,e,n,a,i,o)}),t.collectSkippedRenderPoints(r,n,i,o),r},t.createNecessaryPoints=function(t,e){var n=this,i=[],o=t.length-1;return t.forEach(function(t,r){(0===r||r===o||n.isNecessaryPoint(t,r,e))&&i.push(t.clone())}),i},t.isNecessaryPoint=function(t,e,n){return!Object.keys(n).some(function(i){var o=n[i];return o.pointIndex===e&&L.GeometryUtils.areDuplicatedPoints(t,o)})},t.collectSkippedRenderPoints=function(t,e,n,i){void 0===i&&(i=function(t){return!0}),e&&e.forEach(function(e){if(i(e)){var o=n(e);void 0===t[o]&&(t[o]=e)}})},t.collectNotSkippedRenderPoints=function(t,e,n,i,o,r){if(void 0===r&&(r=function(t){return!0}),!r(n))return!1;var a=o(n);return void 0===t[a]&&(t[a]=n,n.skipped=!0,e.splice(i,1)),!0},t.removeUnnecessaryPoint=function(t,e,n){return-1===e.pointIndex?(t.splice(n,1),!0):(e.skipped=!0,!1)},t.validateRenderPointIndexes=function(t,e,n){var i=this,o=e.map(function(e,o){return new F.ConnectorRenderPoint(e.x,e.y,o>=n&&e.pointIndex>=0?i.findFirstPointIndex(t,function(t){return t.equals(e)}):e.pointIndex,e.skipped)});return o[0].skipped=!1,o[o.length-1].skipped=!1,o},t.findFirstPointIndex=function(t,e){if(!t||!e)return-1;for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1},t.moveConnectorRightAnglePoints=function(t,e,n,i,o,r){L.GeometryUtils.areDuplicatedPoints(e.points[i],n)&&L.GeometryUtils.areDuplicatedPoints(e.points[r],o)||t.addAndRedo(new C.MoveConnectorRightAnglePointsHistoryItem(e.key,i,n,r,o))},t.moveConnectorPoint=function(t,e,n,i){return!e.points[n].equals(i)&&(t.addAndRedo(new C.MoveConnectorPointHistoryItem(e.key,n,i)),!0)},t.updateConnectorAttachedPoints=function(t,e,n){t.beginTransaction();var i=n.beginItem&&e.findItemCollapsedContainer(n.beginItem),o=i&&(!n.endItem||!e.isContainerItem(i,n.endItem)),r=n.endItem&&e.findItemCollapsedContainer(n.endItem),a=r&&(!n.beginItem||!e.isContainerItem(r,n.beginItem)),s=!1;return s=o?this.updateConnectorBeginPoint(t,n,i,a&&r||n.endItem,function(t){return i.getConnectionPointIndexForItem(n.beginItem,t)})||s:this.updateConnectorBeginPoint(t,n,n.beginItem,a&&r||n.endItem)||s,s=a?this.updateConnectorEndPoint(t,n,r,function(t){return r.getConnectionPointIndexForItem(n.beginItem,t)})||s:this.updateConnectorEndPoint(t,n,n.endItem)||s,t.endTransaction(),s},t.updateConnectorBeginPoint=function(t,e,n,i,o){if(n){var a=void 0!==o?o(e.beginConnectionPointIndex):e.beginConnectionPointIndex,s=e.points[1];i&&2===e.points.length&&(s=-1!==e.endConnectionPointIndex?i.getConnectionPointPosition(e.endConnectionPointIndex,r.Point.zero()):i.rectangle.center);var l=n.getConnectionPointPosition(a,s);return this.moveConnectorPoint(t,e,0,l.clone())}},t.updateConnectorEndPoint=function(t,e,n,i){if(n){var o=void 0!==i?i(e.endConnectionPointIndex):e.endConnectionPointIndex,r=n.getConnectionPointPosition(o,e.points[e.points.length-2]);return this.moveConnectorPoint(t,e,e.points.length-1,r)}},t.updateContainerConnectorsAttachedPoints=function(t,e,n,i){var o=this;void 0===i&&(i=n),t.beginTransaction(),e.getChildren(i).forEach(function(r){r instanceof V.Shape&&(r.attachedConnectors.forEach(function(r){var a=r.beginItem&&e.isContainerItem(i,r.beginItem),s=r.endItem&&e.isContainerItem(i,r.endItem);if(a&&!s){var l=e.findItemTopCollapsedContainer(r.beginItem),c=r.endItem&&e.findItemTopCollapsedContainer(r.endItem);l?o.updateConnectorBeginPoint(t,r,l,c||r.endItem,function(t){return n.getConnectionPointIndexForItem(r.beginItem,t)}):o.updateConnectorBeginPoint(t,r,r.beginItem,c||r.endItem)}s&&!a&&((l=e.findItemTopCollapsedContainer(r.endItem))?o.updateConnectorEndPoint(t,r,l,function(t){return n.getConnectionPointIndexForItem(r.endItem,t)}):o.updateConnectorEndPoint(t,r,r.endItem))}),o.updateContainerConnectorsAttachedPoints(t,e,n,r))}),t.endTransaction()},t.getConnectorsWithoutBeginItemInfo=function(t){return t.findConnectorsWithoutBeginItem().map(function(t){return{connector:t,point:t.points[0].clone()}})},t.getConnectorsWithoutEndItemInfo=function(t){return t.findConnectorsWithoutEndItem().map(function(t){return{connector:t,point:t.points[t.points.length-1].clone()}})},t.updateShapeAttachedConnectors=function(t,e,n){var i=this;n.attachedConnectors.forEach(function(n){i.tryRemoveConnectorIntermediatePoints(t,n),i.updateConnectorAttachedPoints(t,e,n)})},t.updateMovingShapeConnections=function(t,e,n,i,o,r,a){var s=this;o(),n.forEach(function(n){var i=s.getMovingShapeConnectionPointIndex(e,n.point);e.rectangle.containsPoint(n.point)||i>-1?(r(e,i),i!==n.connector.beginConnectionPointIndex&&n.connector.beginItem&&t.addAndRedo(new v.DeleteConnectionHistoryItem(n.connector,N.ConnectorPosition.Begin)),a(n.connector),t.addAndRedo(new h.AddConnectionHistoryItem(n.connector,e,i,N.ConnectorPosition.Begin))):n.connector.beginItem&&(t.addAndRedo(new v.DeleteConnectionHistoryItem(n.connector,N.ConnectorPosition.Begin)),t.addAndRedo(new C.MoveConnectorPointHistoryItem(n.connector.key,0,n.point)))}),i.forEach(function(n){var i=s.getMovingShapeConnectionPointIndex(e,n.point);e.rectangle.containsPoint(n.point)||i>-1?(r(e,i),i!==n.connector.endConnectionPointIndex&&n.connector.endItem&&t.addAndRedo(new v.DeleteConnectionHistoryItem(n.connector,N.ConnectorPosition.End)),a(n.connector),t.addAndRedo(new h.AddConnectionHistoryItem(n.connector,e,i,N.ConnectorPosition.End))):n.connector.endItem&&(t.addAndRedo(new v.DeleteConnectionHistoryItem(n.connector,N.ConnectorPosition.End)),t.addAndRedo(new C.MoveConnectorPointHistoryItem(n.connector.key,n.connector.points.length-1,n.point)))})},t.getMovingShapeConnectionPointIndex=function(t,e){var n=this,i=-1;return t.getConnectionPoints().forEach(function(t,r){o.Metrics.euclideanDistance(e,t)<n.connectionPointActionSize&&(i=r)}),i},t.shouldRemoveConnectorIntermediatePoints=function(t,e){if(t.properties.lineOption!==z.ConnectorLineOption.Orthogonal||2===t.points.length||!e||!e.length)return!1;for(var n,i=0;n=e[i];){if(this.isShapeIntersectConnectorCustomPoints(n,t))return!0;i++}return!1},t.tryRemoveConnectorIntermediatePoints=function(t,e){this.shouldRemoveConnectorIntermediatePoints(e,[e.beginItem,e.endItem])&&this.deleteConnectorCustomPoints(t,e)},t.isShapeIntersectConnectorCustomPoints=function(t,e){if(!t)return!1;var n=e.getCustomRenderPoints(!0);if(!n.length)return!1;var o=N.Connector.minOffset-i.UnitConverter.pixelsToTwips(1);return L.GeometryUtils.areIntersectedSegments(L.GeometryUtils.createSegments(n),L.GeometryUtils.createSegmentsFromRectangle(t.rectangle.clone().inflate(o,o)))},t.getSnappedPos=function(t,e,n,i){var o=i?t.snapStartPoint.x:t.snapStartPoint.y;return Math.round((n-o)/e)*e+o},t.tryUpdateModelRectangle=function(t,e){var n=t.modelManipulator.getModelSizeUpdateOffset();n.isEmpty()||(t.addAndRedo(new P.ModelResizeHistoryItem(n)),(n.left||n.top)&&(t.addAndRedo(new k.UpdatePositionsOnPageResizeHistoryItem(new l.Vector(n.left,n.top))),void 0!==e&&e(n.left,n.top)),t.modelManipulator.raiseModelRectangleChanged(t.modelManipulator.model.getRectangle(!0)))},t.deleteItems=function(t,e,n,i,o){t.beginTransaction();var r={};i.forEach(function(t){return r[t.key]=t});var a=n.getKeys().filter(function(t){return!r[t]});t.addAndRedo(new w.SetSelectionHistoryItem(n,a)),this.deleteItemsCore(t,e,i,o),this.tryUpdateModelRectangle(t),t.endTransaction()},t.deleteItemsCore=function(t,e,n,i){var o=this;n.sort(function(t,e){return(t instanceof N.Connector?0:1)-(e instanceof N.Connector?0:1)}),n.forEach(function(n){if(n.container&&o.removeFromContainer(t,e,n),n instanceof V.Shape){var r=e.getChildren(n);r.length&&(r.forEach(function(n){t.addAndRedo(new x.RemoveFromContainerHistoryItem(n)),o.updateAttachedConnectorsContainer(t,e,n)}),o.deleteItemsCore(t,e,r.filter(function(t){return!t.locked||i}),i)),e.findItem(n.key)&&o.deleteShape(t,n)}n instanceof N.Connector&&e.findItem(n.key)&&o.deleteConnector(t,n)})},t.detachConnectors=function(t,e){for(t.beginTransaction();e.attachedConnectors.length>0;){var n=e.attachedConnectors[0];t.addAndRedo(new v.DeleteConnectionHistoryItem(n,n.beginItem===e?N.ConnectorPosition.Begin:N.ConnectorPosition.End))}t.endTransaction()},t.deleteShape=function(t,e){var n=t.modelManipulator.permissionsProvider.canDeleteItems([e]);t.beginTransaction(),this.detachConnectors(t,e),t.addAndRedo(new _.DeleteShapeHistoryItem(e.key,n)),t.endTransaction()},t.deleteConnector=function(t,e){t.beginTransaction(),e.beginItem&&t.addAndRedo(new v.DeleteConnectionHistoryItem(e,N.ConnectorPosition.Begin)),e.endItem&&t.addAndRedo(new v.DeleteConnectionHistoryItem(e,N.ConnectorPosition.End)),t.addAndRedo(new y.DeleteConnectorHistoryItem(e.key)),t.endTransaction()},t.deleteAllItems=function(t,e,n){this.deleteItems(t,e,n,e.items.slice(),!0)},t.deleteSelection=function(t,e,n){this.deleteItems(t,e,n,n.getSelectedItems())},t.changeSelectionLocked=function(e,n,i,o){e.beginTransaction(),i.getSelectedItems(!0).forEach(function(t){e.addAndRedo(new j.ChangeLockedHistoryItem(t,o))}),t.updateSelection(e,i),e.endTransaction()},t.copyStylesToItem=function(t,e,n,i){var o=e.findItem(i);n.styleText.forEach(function(e){n.styleText[e]!==o.styleText[e]&&t.addAndRedo(new D.ChangeStyleTextHistoryItem(i,e,n.styleText[e]))}),n.style.forEach(function(e){n.style[e]!==o.style[e]&&t.addAndRedo(new M.ChangeStyleHistoryItem(i,e,n.style[e]))})},t.updateSelection=function(t,e){t.addAndRedo(new w.SetSelectionHistoryItem(e,e.getKeys(),!0))},t.cloneShapeToOffset=function(t,e,n,i,o){t.beginTransaction();var r=n.position.clone().offset(i,o),a=new f.AddShapeHistoryItem(n.description,r,n.text);t.addAndRedo(a);var s=a.shapeKey;return t.addAndRedo(new S.ResizeShapeHistoryItem(s,r,n.size.clone())),t.addAndRedo(new I.ChangeCustomDataHistoryItem(s,L.ObjectUtils.cloneObject(n.customData))),t.addAndRedo(new g.ChangeShapeParametersHistoryItem(s,n.parameters.clone())),this.copyStylesToItem(t,e,n,s),t.endTransaction(),s},t.applyOffsetToConnectorRenderPointsContext=function(t,e,n){return t&&t.renderPoints?new H.ConnectorRenderPointsContext(t.renderPoints.map(function(t){return t.clone().offset(e,n)}),!0,t.actualRoutingMode):void 0},t.cloneConnectorToOffset=function(t,e,n,i,o,r,a){t.beginTransaction();var s=n.points.map(function(t){return t.clone().offset(r,a)}),l=new d.AddConnectorHistoryItem(s,void 0,this.applyOffsetToConnectorRenderPointsContext(n.tryCreateRenderPointsContext(),r,a));t.addAndRedo(l);var c=l.connectorKey,u=e.findConnector(c);if(n.properties.forEach(function(e){n.properties[e]!==u.properties[e]&&t.addAndRedo(new E.ChangeConnectorPropertyHistoryItem(c,e,n.properties[e]))}),i){var p=e.findShape(i);t.addAndRedo(new h.AddConnectionHistoryItem(u,p,n.beginConnectionPointIndex,N.ConnectorPosition.Begin))}if(o){var f=e.findShape(o);t.addAndRedo(new h.AddConnectionHistoryItem(u,f,n.endConnectionPointIndex,N.ConnectorPosition.End))}return n.texts.clone().forEach(function(e){t.addAndRedo(new T.ChangeConnectorTextHistoryItem(u,e.position,e.value))}),this.copyStylesToItem(t,e,n,c),t.endTransaction(),c},t.cloneSelectionToOffset=function(e,n,i,o,r,a){var s=this;e.beginTransaction();var l={},c=[];o.getSelectedShapes().forEach(function(t){var o=s.cloneShapeToOffset(e,n,t,r,a);l[t.key]=o,c.push(o),i&&i(o)}),o.getSelectedConnectors().forEach(function(t){var o=t.beginItem?l[t.beginItem.key]:null,u=t.endItem?l[t.endItem.key]:null,h=s.cloneConnectorToOffset(e,n,t,o,u,r,a);c.push(h),i&&i(h)}),e.addAndRedo(new w.SetSelectionHistoryItem(o,c)),t.tryUpdateModelRectangle(e),e.endTransaction()},t.findContainerByEventKey=function(e,n,i){var o=e.findContainer(i);if(o&&!o.isLocked)return o;var r=e.findShape(i);return r&&r.container&&!n.hasKey(r.key)?t.findContainerByEventKey(e,n,r.container.key):void 0},t.canInsertToContainer=function(t,e,n){return e!==n&&!(e instanceof V.Shape&&t.findChild(e,n.key))},t.canInsertSelectionToContainer=function(t,e,n){var i=!0;return e.getSelectedItems().forEach(function(e){e!==n?e instanceof V.Shape&&t.findChild(e,n.key)&&(i=!1):i=!1}),i},t.insertToContainer=function(t,e,n,i){if(!i.enableChildren)throw Error("Inpossible to add children to non-container shape.");if(this.canInsertToContainer(e,n,i)){var o=n.container;o!==i&&(t.beginTransaction(),o&&(t.addAndRedo(new x.RemoveFromContainerHistoryItem(n)),n.attachedConnectors.forEach(function(e){e.container&&t.addAndRedo(new x.RemoveFromContainerHistoryItem(e))})),t.addAndRedo(new b.InsertToContainerHistoryItem(n,i)),this.updateAttachedConnectorsContainer(t,e,n),t.endTransaction())}},t.removeFromContainer=function(t,e,n){n.container&&(t.beginTransaction(),t.addAndRedo(new x.RemoveFromContainerHistoryItem(n)),this.updateAttachedConnectorsContainer(t,e,n),t.endTransaction())},t.insertSelectionToContainer=function(t,e,n,i){var o=this;t.beginTransaction();var r=n.getSelectedItems();r.filter(function(t){return!t.container||-1===r.indexOf(t.container)}).forEach(function(n){o.insertToContainer(t,e,n,i)}),t.endTransaction()},t.removeSelectionFromContainer=function(t,e,n){var i=this;t.beginTransaction(),n.getSelectedItems().forEach(function(o){o.container&&!n.hasKey(o.container.key)&&(t.addAndRedo(new x.RemoveFromContainerHistoryItem(o)),i.updateAttachedConnectorsContainer(t,e,o))}),t.endTransaction()},t.getConnectorContainer=function(t){if(t.beginItem&&t.endItem){for(var e={},n=t.beginItem.container;n;)e[n.key]=!0,n=n.container;for(var i=t.endItem.container;i;){if(void 0!==e[i.key])return i;i=i.container}}},t.updateAttachedConnectorsContainer=function(t,e,n){var i=this;t.beginTransaction(),n.attachedConnectors.forEach(function(n){i.updateConnectorContainer(t,e,n)}),t.endTransaction()},t.updateConnectorContainer=function(t,e,n){var i=this.getConnectorContainer(n);i?t.addAndRedo(new b.InsertToContainerHistoryItem(n,i)):n.container&&t.addAndRedo(new x.RemoveFromContainerHistoryItem(n))},t.updateNewShapeProperties=function(t,e,n){e.inputPosition.getDefaultStyle().forEach(function(i){t.addAndRedo(new M.ChangeStyleHistoryItem(n,i,e.inputPosition.getDefaultStylePropertyValue(i)))}),e.inputPosition.getDefaultTextStyle().forEach(function(i){t.addAndRedo(new D.ChangeStyleTextHistoryItem(n,i,e.inputPosition.getDefaultTextStylePropertyValue(i)))})},t.updateNewConnectorProperties=function(t,e,n){e.inputPosition.getDefaultConnectorProperties().forEach(function(i){t.addAndRedo(new E.ChangeConnectorPropertyHistoryItem(n,i,e.inputPosition.getDefaultConnectorPropertyValue(i)))}),e.inputPosition.getDefaultStyle().forEach(function(i){t.addAndRedo(new M.ChangeStyleHistoryItem(n,i,e.inputPosition.getDefaultStylePropertyValue(i)))}),e.inputPosition.getDefaultTextStyle().forEach(function(i){t.addAndRedo(new D.ChangeStyleTextHistoryItem(n,i,e.inputPosition.getDefaultTextStylePropertyValue(i)))})},t.applyLayout=function(t,e,n,i,o,r,a,s,l,c){t.beginTransaction();var u=this.getOccupiedRectangles(r,n);return o=this.offsetLayoutToFreeSpace(o,n&&n.clientRectangle,u,a.containerPadding),s&&this.adjustLayoutToSnapGrid(e,o,l),n&&this.resizeContainerOnLayout(t,e,o,n,a.containerPadding),this.applyLayoutToNodes(t,e,o,i.edges.map(function(t){return e.findConnector(t.key)})),this.applyLayoutToConnectors(t,e,o,i.edges.map(function(t){return e.findConnector(t.key)}),c),t.endTransaction(),o.getRectangle(!0)},t.getNonGraphItems=function(t,e,n,i,o){return(e?t.getChildren(e):t.items.filter(function(t){return!t.container})).filter(function(t){return t instanceof N.Connector?!(t.beginItem&&n[t.beginItem.key]||t.endItem&&n[t.endItem.key]||-1!==o.indexOf(t)):t instanceof V.Shape?!n[t.key]&&-1===i.indexOf(t):void 0})},t.getOccupiedRectangles=function(t,e){var n=t.map(function(t){return t.rectangle});if(e&&n.length){var i=e.clientRectangle;n.push(new a.Rectangle(i.right,i.y,1,1)),n.push(new a.Rectangle(i.right,i.bottom,1,1))}return n},t.offsetLayoutToFreeSpace=function(t,e,n,i){var o=t.getRectangle(!0),r=L.GeometryUtils.findFreeSpace(n,o.createSize().offset(i,i).nonNegativeSize(),!1,e);if(r){var a=r.x+i,s=r.y+i;return t.offsetNodes(a,s)}var l=n&&n.length?n.reduce(function(t,e){return e.right>t?e.right:t},0):e?e.x:0,c=e?e.y:Math.max(0,o.y);return t.offsetNodes(l+i,c+i)},t.resizeContainerOnLayout=function(e,n,i,o,r){var a=i.getRectangle(!0),l=o.children.filter(function(t){return t instanceof V.Shape?-1===i.nodeKeys.indexOf(t.key):!!(t instanceof N.Connector&&t.beginItem&&t.endItem)&&-1===i.nodeKeys.indexOf(t.beginItem.key)&&-1===i.nodeKeys.indexOf(t.endItem.key)}).map(function(t){return t.rectangle}),c=l.map(function(t){return t.right}).reduce(function(t,e){return Math.max(t,e)},a.right),u=l.map(function(t){return t.bottom}).reduce(function(t,e){return Math.max(t,e)},a.bottom),h=o.rectangle.width+c+r-o.rectangle.right,d=o.rectangle.height+u+r-o.rectangle.bottom;t.setShapeSize(e,n,o,o.position,new s.Size(h,d)),t.updateShapeAttachedConnectors(e,n,o)},t.applyLayoutToNodes=function(t,e,n,i){var o=this,r=i.reduce(function(t,e){return t[e.key]=t},{});n.forEachNode(function(n,i){var a=e.findShape(i);o.applyLayoutToNode(t,e,a,n.position,r)})},t.applyLayoutToNode=function(e,n,i,o,r){var a=this,s=o.clone().offset(-i.position.x,-i.position.y);t.setShapePosition(e,n,i,o,!1),0===s.x&&0===s.y||(i.attachedConnectors.filter(function(t){return!r[t.key]}).forEach(function(t){a.updateConnectorAttachedPoints(e,n,t);for(var i=t.beginItem?1:0,o=t.endItem?t.points.length-2:t.points.length-1,r=i;r<=o;r++)a.moveConnectorPoint(e,t,r,t.points[r].offset(s.x,s.y))}),n.getChildren(i).forEach(function(t){if(t instanceof V.Shape){var i=t.position.clone().offset(s.x,s.y);a.applyLayoutToNode(e,n,t,i,r)}}))},t.applyLayoutToConnectors=function(t,e,n,i,o){var r=this;i.filter(function(t){return t.beginItem||t.endItem}).forEach(function(i){var a=n.edgeToPosition[i.key];if(i.beginItem&&i.endItem&&!o&&a){var s=i.beginItem.getConnectionPointIndexForSide(a.beginIndex);s!==i.beginConnectionPointIndex&&t.addAndRedo(new h.SetConnectionPointIndexHistoryItem(i,s,N.ConnectorPosition.Begin));var l=i.endItem.getConnectionPointIndexForSide(a.endIndex);l!==i.endConnectionPointIndex&&t.addAndRedo(new h.SetConnectionPointIndexHistoryItem(i,l,N.ConnectorPosition.End))}r.updateConnectorAttachedPoints(t,e,i),a&&r.deleteConnectorCustomPoints(t,i)})},t.adjustLayoutToSnapGrid=function(t,e,n){var i=this;e.nodeKeys.forEach(function(o){e.nodeToLayout[o].position.x=i.getSnappedPos(t,n,e.nodeToLayout[o].position.x,!0),e.nodeToLayout[o].position.y=i.getSnappedPos(t,n,e.nodeToLayout[o].position.y,!1)})},t.getGraphInfoByItems=function(t,e,n,i){void 0===i&&(i=!0);var o={};[].concat(e).concat(n).forEach(function(t){var e=t.container&&t.container.key;o[e]||(o[e]=[]),o[e].push(t)});var r=[];for(var a in o)if(Object.prototype.hasOwnProperty.call(o,a)){var s=a&&t.findContainer(a);if(!s||s.expanded&&!t.findItemCollapsedContainer(s)){var l=s&&s.key,c=this.getGraphByItems(t,o[a],l,!i),u=!1;c.nodes.length>1?u=!0:c.nodes.length&&(i?u=!0:s&&o[s.container&&s.container.key]&&(u=!0)),u&&r.push(new R.GraphInfo(s,c))}}return r.sort(function(t,e){return e.level-t.level})},t.getGraphByItems=function(t,e,n,i){var o=this,r=new A.Graph([],[]),a={};return e.forEach(function(t){o.extendByConnectedComponents(t,r,n,a,i)}),r.nodes.sort(function(e,n){return t.getItemIndex(t.findItem(e))-t.getItemIndex(t.findItem(n))}),r.edges.sort(function(e,n){return t.getItemIndex(t.findItem(e.key))-t.getItemIndex(t.findItem(n.key))}),r.edges=r.edges.filter(function(t){return r.getNode(t.from)&&r.getNode(t.to)}),r},t.extendByConnectedComponents=function(t,e,n,i,o){var r=this;!t||o&&t.locked||i[t.key]||(i[t.key]=!0,!(t instanceof N.Connector&&(t.container&&t.container.key)===n&&t.beginItem)||t.beginItem.locked&&o||!t.endItem||t.endItem.locked&&o||t.beginItem===t.endItem?t instanceof V.Shape&&(t.container&&t.container.key)===n&&(e.addNode(t),t.attachedConnectors.forEach(function(t){return r.extendByConnectedComponents(t,e,n,i,o)})):(e.addEdge(new B.Edge(t.key,t.beginItem&&t.beginItem.key,t.endItem&&t.endItem.key)),this.extendByConnectedComponents(t.beginItem,e,n,i,o),this.extendByConnectedComponents(t.endItem,e,n,i,o)))},t.getlUnitValue=function(t,e){switch(t){case u.DiagramUnit.Cm:return i.UnitConverter.twipsToCentimeters(e);case u.DiagramUnit.In:return i.UnitConverter.twipsToInches(e);case u.DiagramUnit.Px:return i.UnitConverter.twipsToPixels(e)}},t.getUnitText=function(t,e,n,i,o){void 0===o&&(o=2);var r=e[t]?" "+e[t]:"",a=this.getlUnitValue(t,i);switch(t){case u.DiagramUnit.Cm:case u.DiagramUnit.In:return n(+a.toFixed(o))+r;case u.DiagramUnit.Px:return n(+a.toFixed(0))+r}},t.getTwipsValue=function(t,e){switch(t){case u.DiagramUnit.Cm:return i.UnitConverter.centimetersToTwips(e);case u.DiagramUnit.In:return i.UnitConverter.inchesToTwips(e);case u.DiagramUnit.Px:return i.UnitConverter.pixelsToTwips(e)}},t.getGuidItemKey=function(){return c.MathUtils.generateGuid()},t.createSelectedItems=function(t){var e={};return t.getSelectedItems(!0).forEach(function(t){return e[t.key]=t}),e},t.canMoveConnector=function(t,e){var n=e.beginItem,i=e.endItem;return n||i?!!t[e.key]&&(n===i?!!t[n.key]:n?i?!!t[n.key]&&!!t[i.key]:!!t[n.key]:!!t[i.key]):!e.isLocked},t.createRectangle=function(t){return L.GeometryUtils.getCommonRectangle(t.map(function(t){return t.rectangle}))},t.connectionPointActionSize=i.UnitConverter.pixelsToTwips(8),t}();e.ModelUtils=U},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PathPrimitiveClosePathCommand=e.PathPrimitiveArcToCommand=e.PathPrimitiveQuadraticCurveToCommand=e.PathPrimitiveCubicCurveToCommand=e.PathPrimitiveLineToCommand=e.PathPrimitiveMoveToCommand=e.PathPrimitiveCommand=e.PathPrimitive=void 0;var r=n(15),a=n(24),s=n(109),l=function(t){function e(e,n,i,o,r){var a=t.call(this,n,i,o,r)||this;return a.commands=e.map(function(t){return t.style=n,t}),a}return o(e,t),e.prototype.createMainElement=function(){return document.createElementNS(r.svgNS,"path")},e.prototype.applyElementProperties=function(e,n){e.setAttribute("d",this.commands.map(function(t){return t.toString()}).join(" ")),this.setPositionCorrectionAttribute(e),t.prototype.applyElementProperties.call(this,e,n)},e}(a.SvgPrimitive);e.PathPrimitive=l;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(s.PrimitiveObject);e.PathPrimitiveCommand=c;var u=function(t){function e(e,n){var i=t.call(this)||this;return i.x=e,i.y=n,i}return o(e,t),e.prototype.toString=function(){return"M "+this.getUnitVaue(this.x)+" "+this.getUnitVaue(this.y)},e.fromPoint=function(t){return new e(t.x,t.y)},e}(c);e.PathPrimitiveMoveToCommand=u;var h=function(t){function e(e,n){var i=t.call(this)||this;return i.x=e,i.y=n,i}return o(e,t),e.prototype.toString=function(){return"L "+this.getUnitVaue(this.x)+" "+this.getUnitVaue(this.y)},e.fromPoint=function(t){return new e(t.x,t.y)},e}(c);e.PathPrimitiveLineToCommand=h;var d=function(t){function e(e,n,i,o,r,a){var s=t.call(this)||this;return s.x1=e,s.y1=n,s.x2=i,s.y2=o,s.x3=r,s.y3=a,s}return o(e,t),e.prototype.toString=function(){return"C "+this.getUnitVaue(this.x1)+" "+this.getUnitVaue(this.y1)+","+this.getUnitVaue(this.x2)+" "+this.getUnitVaue(this.y2)+","+this.getUnitVaue(this.x3)+" "+this.getUnitVaue(this.y3)},e}(c);e.PathPrimitiveCubicCurveToCommand=d;var p=function(t){function e(e,n,i,o){var r=t.call(this)||this;return r.x1=e,r.y1=n,r.x2=i,r.y2=o,r}return o(e,t),e.prototype.toString=function(){return"Q "+this.getUnitVaue(this.x1)+" "+this.getUnitVaue(this.y1)+","+this.getUnitVaue(this.x2)+" "+this.getUnitVaue(this.y2)},e}(c);e.PathPrimitiveQuadraticCurveToCommand=p;var f=function(t){function e(e,n,i,o,r,a,s){var l=t.call(this)||this;return l.rx=e,l.ry=n,l.xAxisRotation=i,l.largeArcFlag=o,l.sweepFag=r,l.x=a,l.y=s,l}return o(e,t),e.prototype.toString=function(){return"A "+this.getUnitVaue(this.rx)+" "+this.getUnitVaue(this.ry)+" "+this.getUnitVaue(this.xAxisRotation)+" "+(this.largeArcFlag?"1":"0")+" "+(this.sweepFag?"1":"0")+this.getUnitVaue(this.x)+","+this.getUnitVaue(this.y)},e}(c);e.PathPrimitiveArcToCommand=f;var m=function(t){function e(){return t.call(this)||this}return o(e,t),e.prototype.toString=function(){return"z"},e}(c);e.PathPrimitiveClosePathCommand=m},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Connector=e.CONNECTOR_DEFAULT_TEXT_POSITION=e.ConnectorPosition=void 0;var r,a=n(12),s=n(13),l=n(33),c=n(2),u=n(42),h=n(84),d=n(11),p=n(43),f=n(5),m=n(63),g=n(17),v=n(28),y=n(3),_=n(9),b=n(4),C=n(179),O=n(180),x=n(186),S=n(32),w=n(187),P=n(85);!function(t){t[t.Begin=0]="Begin",t[t.End=1]="End"}(r=e.ConnectorPosition||(e.ConnectorPosition={})),e.CONNECTOR_DEFAULT_TEXT_POSITION=.5;var k=function(t){function n(e){var n=t.call(this)||this;if(n.beginConnectionPointIndex=-1,n.endConnectionPointIndex=-1,n.properties=new S.ConnectorProperties,n.points=e.map(function(t){return t.clone()}),e.length<2)throw Error("Points count should be greater than 1");return n.texts=new w.ConnectorTexts,n}return o(n,t),Object.defineProperty(n.prototype,"rectangle",{get:function(){return y.GeometryUtils.createRectagle(this.getRenderPoints(!0))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"skippedRenderPoints",{get:function(){return this.renderPoints?this.renderPoints.filter(function(t){return t.skipped}):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"shouldChangeRenderPoints",{get:function(){return void 0!==this.renderPoints&&void 0!==this.routingStrategy},enumerable:!1,configurable:!0}),n.prototype.assign=function(e){t.prototype.assign.call(this,e),e.beginItem=this.beginItem,e.beginConnectionPointIndex=this.beginConnectionPointIndex,e.endItem=this.endItem,e.endConnectionPointIndex=this.endConnectionPointIndex,e.properties=this.properties.clone(),e.texts=this.texts.clone(),void 0!==this.routingStrategy&&(e.routingStrategy=this.routingStrategy.clone()),void 0!==this.renderPoints&&(e.renderPoints=this.renderPoints.map(function(t){return t.clone()})),void 0!==this.renderPointsWithoutSkipped&&(e.renderPointsWithoutSkipped=this.renderPointsWithoutSkipped.map(function(t){return t.clone()})),void 0!==this.actualRoutingMode&&(e.actualRoutingMode=this.actualRoutingMode),void 0!==this.lockCreateRenderPoints&&(e.lockCreateRenderPoints=this.lockCreateRenderPoints),void 0!==this.shouldInvalidateRenderPoints&&(e.shouldInvalidateRenderPoints=this.shouldInvalidateRenderPoints)},n.prototype.clone=function(){var t=new n(this.points);return this.assign(t),t},n.prototype.getTextCount=function(){return this.texts.count()},n.prototype.getText=function(t){void 0===t&&(t=e.CONNECTOR_DEFAULT_TEXT_POSITION);var n=this.texts.get(t);return n?n.value:""},n.prototype.setText=function(t,n){void 0===n&&(n=e.CONNECTOR_DEFAULT_TEXT_POSITION),t&&""!==t?this.texts.set(n,new w.ConnectorText(n,t)):this.texts.remove(n)},n.prototype.getTextPoint=function(t){var e=this.getRenderPoints();return y.GeometryUtils.getPathPointByPosition(e,t)[0]},n.prototype.getTextPositionByPoint=function(t){var e=this.getRenderPoints(),n=y.GeometryUtils.getPathLength(e),i=y.GeometryUtils.getPathPositionByPoint(e,t),o=a.UnitConverter.pointsToTwips(parseInt(this.styleText["font-size"]));return o>i*n?o/n:o>n-i*n?(n-o)/n:i},n.prototype.getTextRectangle=function(t){return s.Rectangle.fromGeometry(this.getTextPoint(t),new c.Size(0,0))},n.prototype.changeRoutingStrategy=function(t){this.routingStrategy=t,this.invalidateRenderPoints()},n.prototype.clearRoutingStrategy=function(){delete this.routingStrategy,delete this.renderPoints,delete this.renderPointsWithoutSkipped,delete this.lockCreateRenderPoints,delete this.actualRoutingMode,delete this.shouldInvalidateRenderPoints,this.invalidateRenderPoints()},n.prototype.getCustomRenderPoints=function(t){void 0===t&&(t=!1);var e=this.getRenderPoints(t),n=[];return e.forEach(function(t,i){i>0&&i<e.length-1&&n.push(t)}),n},n.prototype.getRenderPoints=function(t){if(void 0===t&&(t=!1),void 0===this.shouldInvalidateRenderPoints||this.shouldInvalidateRenderPoints)if(this.shouldInvalidateRenderPoints=!1,this.routingStrategy){if(!this.lockCreateRenderPoints&&(this.changeRenderPoints(new O.ConnectorPointsOrthogonalCalculator(this).getPoints()),this.actualRoutingMode!==v.ConnectorRoutingMode.None&&this.points&&this.renderPoints)){var e=this.points[0],n=this.points[this.points.length-1];if(!e.equals(n)){var i=this.routingStrategy.createRenderPoints(this.points,this.renderPoints,this.beginItem,this.endItem,this.beginConnectionPointIndex,this.endConnectionPointIndex,b.ModelUtils.getConnectorContainer(this));i?(this.changeRenderPoints(i),this.actualRoutingMode=v.ConnectorRoutingMode.AllShapesOnly):this.actualRoutingMode=v.ConnectorRoutingMode.None}}}else this.changeRenderPoints(this.getCalculator().getPoints());return t?this.renderPoints:this.renderPointsWithoutSkipped},n.prototype.tryCreateRenderPointsContext=function(t){return t||this.shouldChangeRenderPoints?new P.ConnectorRenderPointsContext(this.renderPoints.map(function(t){return t.clone()}),this.lockCreateRenderPoints,this.actualRoutingMode):void 0},n.prototype.updatePointsOnPageResize=function(t,e){this.points=this.points.map(function(n){return n.clone().offset(t,e)}),this.renderPoints&&this.changeRenderPoints(this.renderPoints.map(function(n){var i=n.clone().offset(t,e);return i.pointIndex=n.pointIndex,i.skipped=n.skipped,i}))},n.prototype.addPoint=function(t,e){this.points.splice(t,0,e)},n.prototype.deletePoint=function(t){this.points.splice(t,1)},n.prototype.movePoint=function(t,e){this.points[t]=e},n.prototype.onAddPoint=function(t,e){this.shouldChangeRenderPoints?this.replaceRenderPointsCore(this.routingStrategy.onAddPoint(this.points,t,e,this.renderPoints),!0,v.ConnectorRoutingMode.AllShapesOnly):this.invalidateRenderPoints()},n.prototype.onDeletePoint=function(t){this.shouldChangeRenderPoints?this.replaceRenderPointsCore(this.routingStrategy.onDeletePoint(this.points,t,this.renderPoints),this.points.length>2,v.ConnectorRoutingMode.AllShapesOnly):this.invalidateRenderPoints()},n.prototype.onMovePoint=function(t,e){this.shouldChangeRenderPoints?(0!==t&&t!==this.points.length-1||(this.lockCreateRenderPoints=!1),this.replaceRenderPointsCore(this.routingStrategy.onMovePoint(this.points,t,e,this.renderPoints),this.lockCreateRenderPoints,v.ConnectorRoutingMode.AllShapesOnly)):this.invalidateRenderPoints()},n.prototype.onMovePoints=function(t,e,n,i){this.shouldChangeRenderPoints?(0!==t&&n!==this.points.length-1||(this.lockCreateRenderPoints=!1),this.replaceRenderPointsCore(this.routingStrategy.onMovePoints(this.points,t,e,n,i,this.renderPoints),this.lockCreateRenderPoints,v.ConnectorRoutingMode.AllShapesOnly)):this.invalidateRenderPoints()},n.prototype.replaceRenderPoints=function(t){void 0!==t?this.replaceRenderPointsCore(t.renderPoints,t.lockCreateRenderPoints,t.actualRoutingMode):this.invalidateRenderPoints()},n.prototype.clearRenderPoints=function(){this.changeRenderPoints(void 0),this.lockCreateRenderPoints=!1,this.actualRoutingMode=void 0,this.invalidateRenderPoints()},n.prototype.replaceRenderPointsCore=function(t,e,n){this.changeRenderPoints(t),this.lockCreateRenderPoints=e,this.actualRoutingMode=n,this.invalidateRenderPoints()},n.prototype.changeRenderPoints=function(t){this.renderPoints=t,this.renderPointsWithoutSkipped=t?this.renderPoints.filter(function(t){return!t.skipped}):void 0},n.prototype.getCalculator=function(){return this.properties.lineOption===S.ConnectorLineOption.Straight?new C.ConnectorPointsCalculator(this):new O.ConnectorPointsOrthogonalCalculator(this)},n.prototype.invalidateRenderPoints=function(){this.shouldInvalidateRenderPoints=!0},n.prototype.createPrimitives=function(){var t=[],e=this.getRenderPoints(),n=new f.PathPrimitive(e.map(function(t,e){return 0===e?new f.PathPrimitiveMoveToCommand(t.x,t.y):new f.PathPrimitiveLineToCommand(t.x,t.y)}),this.style);return t.push(n),t=(t=t.concat(this.createLineEndingPrimitives(e,n))).concat(this.createTextPrimitives())},n.prototype.createLineEndingPrimitives=function(t,e){var n=[];return t.length>1&&[{strategy:this.createLineEndingStrategy(this.properties.startLineEnding),point1:t[0],point2:t[1]},{strategy:this.createLineEndingStrategy(this.properties.endLineEnding),point1:t[t.length-1],point2:t[t.length-2]}].forEach(function(t){var i=t.strategy;if(i.hasCommands()){var o=e;i.needCreateSeparatePrimitive()&&n.push(o=i.createPrimitive()),o.commands=o.commands.concat(i.createCommands(t.point1,t.point2))}}),n},n.prototype.createLineEndingStrategy=function(t){switch(t){case S.ConnectorLineEnding.None:return new x.ConnectorLineEndingNoneStrategy(this.style);case S.ConnectorLineEnding.Arrow:return new x.ConnectorLineEndingArrowStrategy(this.style);case S.ConnectorLineEnding.OutlinedTriangle:return new x.ConnectorLineEndingOutlinedTriangleStrategy(this.style);case S.ConnectorLineEnding.FilledTriangle:return new x.ConnectorLineEndingFilledTriangleStrategy(this.style);default:return new x.ConnectorLineEndingStrategy(this.style)}},n.prototype.createSelectorPrimitives=function(){var t=[],e=this.getRenderPoints();return t.push(new f.PathPrimitive(e.map(function(t,e){return 0===e?new f.PathPrimitiveMoveToCommand(t.x,t.y):new f.PathPrimitiveLineToCommand(t.x,t.y)}),null,"selector")),t},n.prototype.createTextPrimitives=function(){var t=this;if(!this.enableText)return[];var e=[];return this.texts.forEach(function(n){var i=t.getText(n.position);if(i&&""!==i){var o=t.getTextPoint(n.position);e=e.concat([new m.TextPrimitive(o.x,o.y,i,p.TextOwner.Connector,void 0,void 0,void 0,t.styleText,!0,null,u.PAGE_BG_TEXTFLOOR_FILTER_ID,void 0,function(e){g.RenderUtils.setElementEventData(e,d.MouseEventElementType.ConnectorText,t.key,n.position)})])}}),e},n.prototype.getExtremeItem=function(t){return t===r.Begin?this.beginItem:t===r.End?this.endItem:null},n.prototype.getExtremeConnectionPointIndex=function(t){return t===r.Begin?this.beginConnectionPointIndex:t===r.End?this.endConnectionPointIndex:-1},n.prototype.getMinX=function(){return this.getRenderPoints().map(function(t){return t.x}).reduce(function(t,e){return Math.min(t,e)},Number.MAX_VALUE)},n.prototype.getMinY=function(){return this.getRenderPoints().map(function(t){return t.y}).reduce(function(t,e){return Math.min(t,e)},Number.MAX_VALUE)},n.prototype.getConnectionPoints=function(){return[]},n.prototype.getConnectionPointSide=function(t,e){return _.ConnectionPointSide.Undefined},n.prototype.getSegments=function(){var t=[],e=this.getRenderPoints();return e.forEach(function(n,i){i>0&&t.push(new l.Segment(e[i-1],n))}),t},n.prototype.intersectedByRect=function(t){return this.getSegments().some(function(e){return e.isIntersectedByRect(t)})},n.prototype.toNative=function(t){var e=new h.NativeConnector(this.key,this.dataKey);return e.fromKey=this.beginItem&&this.beginItem.dataKey,e.toKey=this.endItem&&this.endItem.dataKey,e.texts=this.texts.map(function(t){return t}).sort(function(t,e){return t.position-e.position}).map(function(t){return t.value}),e.fromId=this.beginItem&&this.beginItem.key,e.fromPointIndex=this.beginConnectionPointIndex,e.toId=this.endItem&&this.endItem.key,e.toPointIndex=this.endConnectionPointIndex,e.points=this.points.map(function(t){return t.clone()}),e.applyUnits(t),e},n.minOffset=a.UnitConverter.pixelsToTwips(24),n.minTextHeight=a.UnitConverter.pixelsToTwips(12),n}(_.DiagramItem);e.Connector=k},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeDescription=e.ShapeTextPadding=e.ShapeDefaultSize=e.ShapeMinDimension=e.ShapeDefaultDimension=void 0;var i=n(12),o=n(2),r=n(36),a=n(43),s=n(21),l=n(63),c=n(3),u=n(45),h=n(9);e.ShapeDefaultDimension=1440,e.ShapeMinDimension=360,e.ShapeDefaultSize=new o.Size(e.ShapeDefaultDimension,e.ShapeDefaultDimension),e.ShapeTextPadding=i.UnitConverter.pixelsToTwips(10);var d=function(){function t(t,n){void 0===t&&(t=e.ShapeDefaultSize.clone()),this.defaultSize=t,this.hasDefaultText=n,this.onChanged=new c.EventDispatcher,this.connectionPoints=this.createConnectionPoints()}return Object.defineProperty(t.prototype,"enableText",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowEditText",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enableImage",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowEditImage",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTemplate",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enableChildren",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toolboxSize",{get:function(){return this.defaultSize},enumerable:!1,configurable:!0}),t.prototype.getTitle=function(){return r.DiagramLocalizationService.shapeTexts[this.key]},t.prototype.getDefaultText=function(){return this.hasDefaultText?r.DiagramLocalizationService.shapeTexts[this.key]:""},t.prototype.getDefaultImageUrl=function(){return""},t.prototype.getConnectionPoints=function(){return this.connectionPoints},t.prototype.createConnectionPoints=function(){return[new u.ConnectionPoint(.5,0,h.ConnectionPointSide.North),new u.ConnectionPoint(1,.5,h.ConnectionPointSide.East),new u.ConnectionPoint(.5,1,h.ConnectionPointSide.South),new u.ConnectionPoint(0,.5,h.ConnectionPointSide.West)]},t.prototype.processConnectionPoint=function(t,e){},t.prototype.getConnectionPointIndexForItem=function(t,e){return e},t.prototype.getConnectionPointIndexForSide=function(t){return t},t.getConnectionPointSideByGeometry=function(t){return t.x>=t.y&&(t.x>0||t.y>0)?t.x<.5||1-t.x>=t.y?h.ConnectionPointSide.North:h.ConnectionPointSide.East:t.x>.5||1-t.x<=t.y?h.ConnectionPointSide.South:h.ConnectionPointSide.West},t.prototype.createParameters=function(t){},t.prototype.normalizeParameters=function(t,e){},t.prototype.modifyParameters=function(t,e,n,i){throw Error("Not implemented")},t.prototype.changeParameterValue=function(t,e,n){var i=t.get(e);i.value=n(i)},t.prototype.getParameterPoints=function(t){return[]},t.prototype.getExpandedSize=function(t){return t.size},t.prototype.getCollapsedSize=function(t){return t.size},t.prototype.getToolboxHeightToWidthRatio=function(t,e){return e/t},t.prototype.allowResizeHorizontally=function(t){return!0},t.prototype.allowResizeVertically=function(t){return!0},t.prototype.createPrimitives=function(t,e){var n=[];return n=n.concat(this.createShapePrimitives(t,e)),this.enableImage&&(n=n.concat(this.createImagePrimitives(t,e))),this.enableText&&(n=n.concat(this.createTextPrimitives(t,e))),n},t.prototype.createImagePrimitives=function(t,e){return[]},t.prototype.createTextPrimitives=function(e,n){if(void 0===e.text||""===e.text)return[];var i=this.getTextRectangle(e);return[new l.TextPrimitive(i.x,i.y,e.text,a.TextOwner.Shape,i.width,i.height,t.textSpacing,e.styleText,!1,this.getTextClipPathId(n),void 0,this.getTextAngle())]},t.prototype.getTextClipPathId=function(t){},t.prototype.getTextAngle=function(){return l.TextAngle.Angle0deg},t.prototype.getClientRectangle=function(t){return t.rectangle},t.prototype.getTextEditRectangle=function(t){return this.getTextRectangle(t)},t.prototype.createSelectorPrimitives=function(t){return[new s.RectanglePrimitive(t.position.x,t.position.y,t.size.width,t.size.height,null,"selector")]},t.prototype.raiseShapeDescriptionChanged=function(t){this.onChanged.raise1(function(e){return e.notifyShapeDescriptionChanged(t)})},t.textSpacing=i.UnitConverter.pixelsToTwips(2),t}();e.ShapeDescription=d},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionHistoryItem=e.HistoryItem=void 0;var r=function(){function t(){this.uniqueId=-1}return t.prototype.changeModified=function(){return!0},t.prototype.getName=function(){return this.constructor.name},t}();e.HistoryItem=r;var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.historyItems=[],e.dataSyncItems=[],e}return o(e,t),e.prototype.changeModified=function(){for(var t,e=0;t=this.historyItems[e];e++)if(t.changeModified())return!0;return!1},e.prototype.redo=function(t){for(var e,n=0;e=this.historyItems[n];n++)e.redo(t)},e.prototype.undo=function(t){for(var e,n=this.dataSyncItems.length-1;e=this.dataSyncItems[n];n--)e.undo(t);for(this.dataSyncItems=[],n=this.historyItems.length-1;e=this.historyItems[n];n--)e.undo(t)},e.prototype.add=function(t){if(null==t)throw new Error("cannot be null");this.historyItems.push(t)},e}(r);e.CompositionHistoryItem=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagramItem=e.DEFAULT_ZINDEX=e.ConnectionPointSide=void 0;var i,o=n(13),r=n(35),a=n(3),s=n(26);!function(t){t[t.Undefined=-1]="Undefined",t[t.North=0]="North",t[t.East=1]="East",t[t.South=2]="South",t[t.West=3]="West"}(i=e.ConnectionPointSide||(e.ConnectionPointSide={})),e.DEFAULT_ZINDEX=0;var l=function(){function t(){this.key=void 0,this.dataKey=void 0,this.customData=void 0,this.attachedConnectors=[],this.zIndex=e.DEFAULT_ZINDEX,this.locked=!1,this.container=void 0,this.style=new s.Style,this.styleText=new s.TextStyle}return t.prototype.assign=function(t){t.key=this.key,t.dataKey=this.dataKey,t.customData=a.ObjectUtils.cloneObject(this.customData),t.locked=this.locked,t.attachedConnectors=this.attachedConnectors.slice(),t.style=this.style.clone(),t.styleText=this.styleText.clone(),t.zIndex=this.zIndex,t.container=this.container},t.prototype.getConnectionPointPosition=function(t,e){return this.getConnectionPoint(t,e).toPoint()},t.prototype.getConnectionPoint=function(t,e){t<0&&e&&(t=this.getNearestConnectionPoint(e));var n=this.getConnectionPoints();return n[t]||n[0]},t.prototype.getNearestConnectionPoint=function(t){var e,n=Number.MAX_VALUE;return this.getConnectionPoints().forEach(function(i,o){var a=r.Metrics.euclideanDistance(i,t);a<n&&(n=a,e=o)}),e},t.prototype.getConnectionPointIndex=function(t){var e=this.getConnectionPoints();return e.reduce(function(n,o,r){return t===i.North&&o.y<e[n].y?r:t===i.South&&o.y>e[n].y?r:t===i.West&&o.x<e[n].x?r:t===i.East&&o.x>e[n].x?r:n},0)},t.prototype.getConnectionPointSideByIndex=function(t,e){var n=this.getConnectionPoint(t,e);return this.getConnectionPointSide(n,e)},t.prototype.getConnectionPointIndexForSide=function(t){return t},Object.defineProperty(t.prototype,"enableText",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowEditText",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTemplate",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enableChildren",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLocked",{get:function(){return this.locked||this.container&&this.container.isLocked},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowResizeHorizontally",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowResizeVertically",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.style.strokeWidth},enumerable:!1,configurable:!0}),t.prototype.intersectedByRect=function(t){return o.Rectangle.areIntersected(this.rectangle,t)},t}();e.DiagramItem=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleCommandBase=void 0;var r=n(197),a=n(198),s=n(4),l=n(36),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getState=function(){return new a.SimpleCommandState(this.isEnabled(),this.getValue(),this.getDefaultValue(),this.getItems(),this.isVisible())},e.prototype.isVisible=function(){return!0},e.prototype.isEnabled=function(){return!this.control.settings.readOnly||this.isEnabledInReadOnlyMode()},e.prototype.isEnabledInReadOnlyMode=function(){return!1},e.prototype.getValue=function(){},e.prototype.getDefaultValue=function(){},e.prototype.getItems=function(){},e.prototype.getModelUnit=function(t){return s.ModelUtils.getlUnitValue(this.control.model.units,t)},e.prototype.getModelUnitText=function(t){return s.ModelUtils.getUnitText(this.control.model.units,l.DiagramLocalizationService.unitItems,l.DiagramLocalizationService.formatUnit,t)},e.prototype.getModelUnitTwipsValue=function(t){return s.ModelUtils.getTwipsValue(this.control.model.units,t)},e.prototype.getViewUnit=function(t){return s.ModelUtils.getlUnitValue(this.control.settings.viewUnits,t)},e.prototype.getViewUnitText=function(t){return s.ModelUtils.getUnitText(this.control.settings.viewUnits,l.DiagramLocalizationService.unitItems,l.DiagramLocalizationService.formatUnit,t)},e.prototype.getViewUnitTwipsValue=function(t){return s.ModelUtils.getTwipsValue(this.control.settings.viewUnits,t)},e}(r.CommandBase);e.SimpleCommandBase=c},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DiagramClipboardEvent=e.DiagramKeyboardEvent=e.DiagramContextMenuEvent=e.DiagramWheelEvent=e.DiagramMouseEvent=e.DiagramMouseEventBase=e.DiagramMouseEventTouch=e.DiagramFocusEvent=e.DiagramEvent=e.ResizeEventSource=e.MouseEventSource=e.MouseEventElementType=e.MouseButton=void 0;var r=n(25);!function(t){t[t.None=0]="None",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Middle=4]="Middle"}(e.MouseButton||(e.MouseButton={})),function(t){t[t.Undefined=0]="Undefined",t[t.Background=1]="Background",t[t.Document=2]="Document",t[t.Connector=3]="Connector",t[t.ConnectorPoint=4]="ConnectorPoint",t[t.ConnectorSide=5]="ConnectorSide",t[t.ConnectorOrthogonalSide=6]="ConnectorOrthogonalSide",t[t.ConnectorText=7]="ConnectorText",t[t.Shape=8]="Shape",t[t.ShapeResizeBox=9]="ShapeResizeBox",t[t.ShapeParameterBox=10]="ShapeParameterBox",t[t.SelectionRect=11]="SelectionRect",t[t.ShapeConnectionPoint=12]="ShapeConnectionPoint",t[t.ShapeExpandButton=13]="ShapeExpandButton"}(e.MouseEventElementType||(e.MouseEventElementType={}));var a=function(t,e,n){this.type=t,this.key=e,this.value=n};e.MouseEventSource=a,function(t){t[t.Undefined=0]="Undefined",t[t.ResizeBox_NW=1]="ResizeBox_NW",t[t.ResizeBox_NE=2]="ResizeBox_NE",t[t.ResizeBox_SE=3]="ResizeBox_SE",t[t.ResizeBox_SW=4]="ResizeBox_SW",t[t.ResizeBox_N=5]="ResizeBox_N",t[t.ResizeBox_E=6]="ResizeBox_E",t[t.ResizeBox_S=7]="ResizeBox_S",t[t.ResizeBox_W=8]="ResizeBox_W"}(e.ResizeEventSource||(e.ResizeEventSource={}));var s=function(t){this.modifiers=t};e.DiagramEvent=s;var l=function(t){function e(e){var n=t.call(this,r.ModifierKey.None)||this;return n.inputText=e,n}return o(e,t),e}(s);e.DiagramFocusEvent=l;var c=function(t,e){this.offsetPoint=t,this.modelPoint=e};e.DiagramMouseEventTouch=c;var u=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;return r.offsetPoint=n,r.modelPoint=i,r.source=o,r}return o(e,t),e}(s);e.DiagramMouseEventBase=u;var h=function(t){function e(e,n,i,o,r,a,s){void 0===a&&(a=[]);var l=t.call(this,e,i,o,r)||this;return l.button=n,l.touches=a,l.isTouchMode=s,l.scrollX=0,l.scrollY=0,l}return o(e,t),e}(u);e.DiagramMouseEvent=h;var d=function(t){function e(e,n,i,o,r,a){var s=t.call(this,e,o,r,a)||this;return s.deltaX=n,s.deltaY=i,s}return o(e,t),e}(u);e.DiagramWheelEvent=d;var p=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.eventPoint=n,o.modelPoint=i,o}return o(e,t),e}(s);e.DiagramContextMenuEvent=p;var f=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.keyCode=n,o.inputText=i,o}return o(e,t),e.prototype.getShortcutCode=function(){return this.modifiers|this.keyCode},e}(s);e.DiagramKeyboardEvent=f;var m=function(t){function e(e){var n=t.call(this,r.ModifierKey.None)||this;return n.clipboardData=e,n}return o(e,t),e}(s);e.DiagramClipboardEvent=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.hundredthsOfMillimeterToTwipsRound=function(t){return Math.round(1440*t/2540)},t.documentsToTwips=function(t){return 24*t/5},t.pixelsToTwips=function(e){return Math.round(t.pixelsToTwipsF(e))},t.pixelsToTwipsCustomDpi=function(e,n){return Math.round(t.pixelsToTwipsFCustomDpi(e,n))},t.inchesToTwips=function(e){return Math.round(t.inchesToTwipsF(e))},t.pointsToTwips=function(e){return Math.round(t.pointsToTwipsF(e))},t.picasToTwips=function(e){return Math.round(1440*e/t.PICAS_PER_INCH)},t.centimetersToTwips=function(e){return Math.round(t.centimetersToTwipsF(e))},t.pixelsToTwipsF=function(e){return 1440*e/t.DPI},t.pixelsToTwipsFCustomDpi=function(t,e){return 1440*t/e},t.inchesToTwipsF=function(t){return 1440*t},t.pointsToTwipsF=function(t){return 20*t},t.centimetersToTwipsF=function(e){return 1440*e/t.CENTIMETERS_PER_INCH},t.twipsToDegrees=function(t){return t/6e4},t.twipsToRadians=function(t){return t/6e4*Math.PI/180},t.degreesToTwips=function(t){return 6e4*t},t.radiansToTwips=function(t){return 6e4*t/Math.PI*180},t.radiansToDegrees=function(t){return t/Math.PI*180},t.twipsToFD=function(t){return Math.round(2048*t/1875)},t.fdToTwips=function(t){return Math.round(1875*t/2048)},t.emuToTwips=function(t){return t/635},t.twipsToPixels=function(e){return Math.round(t.twipsToPixelsF(e))},t.inchesToPixels=function(e){return Math.round(t.DPI*e)},t.centimeterToPixel=function(t){return Math.round(this.centimeterToPixelF(t))},t.centimeterToPixelF=function(e){return e*t.DPI/t.CENTIMETERS_PER_INCH},t.millimetersToPixel=function(e){return Math.round(e/(t.CENTIMETERS_PER_INCH/t.DPI)/10)},t.pointsToPixels=function(e){return Math.round(e*t.DPI/72)},t.pointsToPixelsF=function(e){return e*t.DPI/72},t.twipsToPixelsF=function(e){return e*t.DPI/1440},t.pixelsToPoints=function(e){return Math.round(72*e/t.DPI)},t.pixelsToPointsF=function(e){return 72*e/t.DPI},t.twipsToPoints=function(t){return Math.round(this.twipsToPointsF(t))},t.twipsToPointsF=function(t){return t/20},t.twipsToInches=function(t){return t/1440},t.pixelsToInches=function(e){return e/t.DPI},t.twipsToCentimeters=function(e){return e*t.CENTIMETERS_PER_INCH/1440},t.pixelToCentimeters=function(e){return e*t.CENTIMETERS_PER_INCH/t.DPI},t.twipsToHundredthsOfMillimeter=function(t){return Math.round(127*t/72)},t.pixelsToHundredthsOfMillimeter=function(e){return Math.round(2540*e/t.DPI)},t.hundredthsOfMillimeterToTwips=function(t){return 15*t/127},t.twipsToEmu=function(t){return 635*t},t.twipsToDegree=function(t){return t/6e4},t.DPI=96,t.CENTIMETERS_PER_INCH=2.54,t.PICAS_PER_INCH=6,t}();e.UnitConverter=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(163),r=n(164),a=n(106),s=n(0),l=n(2),c=function(){function t(t,e,n,i){this.x=t,this.y=e,this.width=n,this.height=i}return Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return t.center(this)},enumerable:!0,configurable:!0}),t.prototype.createRectangle=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.createSize=function(){return new l.Size(this.width,this.height)},t.prototype.createPosition=function(){return new s.Point(this.x,this.y)},t.prototype.createVerticalInterval=function(){return new a.FixedInterval(this.y,this.height)},t.prototype.createHorizontalInterval=function(){return new a.FixedInterval(this.x,this.width)},t.fromGeometry=function(e,n){return new t(e.x,e.y,n.width,n.height)},t.fromPoints=function(e,n){return new t(Math.min(e.x,n.x),Math.min(e.y,n.y),Math.abs(e.x-n.x),Math.abs(e.y-n.y))},t.fromPositions=function(e,n,i,o){return new t(Math.min(e,i),Math.min(n,o),Math.abs(i-e),Math.abs(o-n))},t.fromCenter=function(e,n){return new t(e.x-n,e.y-n,2*n,2*n)},t.prototype.isCollapsed=function(){return 0===this.width||0===this.height},t.prototype.isEmpty=function(){return 0===this.x&&0===this.y&&0===this.width&&0===this.height},t.prototype.toString=function(){return JSON.stringify(this)},t.prototype.setPosition=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.setSize=function(t){return this.width=t.width,this.height=t.height,this},t.prototype.setGeomerty=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.moveRectangle=function(t,e){return this.x+=t,this.y+=e,this},t.prototype.moveRectangleByPoint=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.resize=function(t,e){return this.width+=t,this.height+=e,this},t.prototype.nonNegativeSize=function(){return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this},t.prototype.multiply=function(t,e){return this.x*=t,this.y*=e,this.width*=t,this.height*=e,this},t.prototype.equals=function(e){return t.equals(this,e)},t.prototype.clone=function(){var e=new t(0,0,0,0);return e.copyFrom(this),e},t.prototype.copyFrom=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},t.prototype.containsPoint=function(e){return t.containsPoint(this,e)},t.prototype.containsRectangle=function(t){return this.x<=t.x&&this.right>=t.right&&this.y<=t.y&&this.bottom>=t.bottom},t.prototype.inflate=function(t,e){return void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.applyOffsetsInside=function(t){return this.x+=t.left,this.y+=t.top,this.width-=t.left+t.right,this.height-=t.top+t.bottom,this},t.prototype.applyNormalizedOffsetsInside=function(t){var e=Math.max(0,t.left),n=e+Math.max(0,t.right);0!==n&&(n<=this.width?(this.x+=e,this.width-=n):(this.x+=this.width*(e/n),this.width=0));var i=Math.max(0,t.top),o=i+Math.max(0,t.bottom);return 0!==o&&(o<=this.height?(this.y+=i,this.height-=o):(this.y+=this.height*(i/o),this.height=0)),this},t.prototype.applyOffsetsOutside=function(t){return this.x-=t.left,this.y-=t.top,this.width+=t.left+t.right,this.height+=t.top+t.bottom,this},t.prototype.applyConverter=function(t){return this.x=t(this.x),this.y=t(this.y),this.width=t(this.width),this.height=t(this.height),this},t.getHorizIntersection=function(t,e){return r.IntervalAlgorithms.getIntersection(new a.FixedInterval(t.x,t.width),new a.FixedInterval(e.x,e.width))},t.getVertIntersection=function(t,e){return r.IntervalAlgorithms.getIntersection(new a.FixedInterval(t.y,t.height),new a.FixedInterval(e.y,e.height))},t.getIntersection=function(e,n){var i=r.IntervalAlgorithms.getIntersection(new a.FixedInterval(e.x,e.width),new a.FixedInterval(n.x,n.width));if(!i)return null;var o=r.IntervalAlgorithms.getIntersection(new a.FixedInterval(e.y,e.height),new a.FixedInterval(n.y,n.height));return o?new t(i.start,o.start,i.length,o.length):null},t.getHorNonCollapsedIntersection=function(e,n){var i=t.getHorizIntersection(e,n);return i&&!i.isCollapsed()?i:null},t.getVertNonCollapsedIntersection=function(e,n){var i=t.getVertIntersection(e,n);return i&&!i.isCollapsed()?i:null},t.getNonCollapsedIntersection=function(e,n){var i=t.getIntersection(e,n);return i&&!i.isCollapsed()?i:null},t.areIntersected=function(t,e){return!(t.x>e.x+e.width||e.x>t.x+t.width||t.y>e.y+e.height||e.y>t.y+t.height)},t.union=function(e,n){var i=Math.max(e.x+e.width,n.x+n.width),o=Math.max(e.y+e.height,n.y+n.height),r=Math.min(e.x,n.x),a=Math.min(e.y,n.y);return new t(r,a,i-r,o-a)},t.equals=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height},t.center=function(t){return new s.Point(t.x+t.width/2,t.y+t.height/2)},t.containsPoint=function(t,e){var n=t.x+t.width,i=t.y+t.height;return e.y>=t.y&&i>=e.y&&e.x>=t.x&&n>=e.x},t}();e.Rectangle=c,function(t){t[t.None=0]="None",t[t.Top=1]="Top",t[t.Bottom=2]="Bottom",t[t.Left=4]="Left",t[t.Right=8]="Right"}(i=e.HitTestDeviation||(e.HitTestDeviation={}));var u=function(){function t(t,e){this.initRectangle=t,this.initPoint=e,this.deviation=new o.Flag(i.None)}return t.prototype.calcDeviation=function(){return this.initPoint.x<this.initRectangle.x?this.deviation.set(i.Left,!0):this.initPoint.x>this.initRectangle.right&&this.deviation.set(i.Right,!0),this.initPoint.y<this.initRectangle.y?this.deviation.set(i.Top,!0):this.initPoint.y>this.initRectangle.bottom&&this.deviation.set(i.Bottom,!0),this},t.prototype.calcAdditionalParams=function(){return this.insidePoint=this.initPoint.clone(),this.offsetToInside=new s.Point(0,0),this.deviation.get(i.Left)?(this.insidePoint.x=this.initRectangle.x,this.offsetToInside.x=this.insidePoint.x-this.initPoint.x):this.deviation.get(i.Right)&&(this.insidePoint.x=this.initRectangle.right,this.offsetToInside.x=this.initPoint.x-this.insidePoint.x),this.deviation.get(i.Top)?(this.insidePoint.y=this.initRectangle.y,this.offsetToInside.y=this.insidePoint.y-this.initPoint.y):this.deviation.get(i.Bottom)&&(this.insidePoint.y=this.initRectangle.bottom,this.offsetToInside.y=this.initPoint.y-this.insidePoint.y),this},t}();e.RectangleDeviation=u},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=void 0;var r=n(13),a=n(7),s=n(37),l=n(9),c=n(45),u=n(51),h=n(84),d=function(t){function e(e,n,i){var o=t.call(this)||this;if(o.description=e,o.children=[],o.expanded=!0,o.expandedSize=void 0,!e)throw Error("Shape type is incorrect");o.position=n.clone();var r=i?e.toolboxSize:e.defaultSize;return o.size=r.clone(),o.text=e.getDefaultText(),o.image=new u.ImageInfo(e.getDefaultImageUrl()),o.parameters=new s.ShapeParameters,e.createParameters(o.parameters),o}return o(e,t),e.prototype.assign=function(e){t.prototype.assign.call(this,e),e.size=this.size.clone(),e.text=this.text,e.image=this.image.clone(),e.parameters=this.parameters.clone(),e.children=this.children.slice(),e.expanded=this.expanded,this.expandedSize&&(e.expandedSize=this.expandedSize.clone())},e.prototype.clone=function(){var t=new e(this.description,this.position.clone());return this.assign(t),t},Object.defineProperty(e.prototype,"enableText",{get:function(){return this.description.enableText},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allowEditText",{get:function(){return this.description.allowEditText},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasTemplate",{get:function(){return this.description.hasTemplate},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enableChildren",{get:function(){return this.description.enableChildren},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enableImage",{get:function(){return this.description.enableImage},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allowEditImage",{get:function(){return this.description.allowEditImage},enumerable:!1,configurable:!0}),e.prototype.getMinWidth=function(t){return"number"==typeof this.description.minWidth?this.description.minWidth:"number"==typeof t?t:a.ShapeMinDimension},e.prototype.getMinHeight=function(t){return"number"==typeof this.description.minHeight?this.description.minHeight:"number"==typeof t?t:a.ShapeMinDimension},e.prototype.getMaxWidth=function(t){return"number"==typeof this.description.maxWidth?this.description.maxWidth:"number"==typeof t?t:void 0},e.prototype.getMaxHeight=function(t){return"number"==typeof this.description.maxHeight?this.description.maxHeight:"number"==typeof t?t:void 0},e.prototype.createPrimitives=function(){return this.description.createPrimitives(this)},e.prototype.createSelectorPrimitives=function(){return this.description.createSelectorPrimitives(this)},e.prototype.normalizeX=function(t){return Math.max(this.position.x,Math.min(t,this.position.x+this.size.width))},e.prototype.normalizeY=function(t){return Math.max(this.position.y,Math.min(t,this.position.y+this.size.height))},e.prototype.getConnectionPoints=function(){var t=this;return this.description.getConnectionPoints().map(function(e){var n=new c.ConnectionPoint(t.position.x+e.x*t.size.width,t.position.y+e.y*t.size.height,e.side);return t.description.processConnectionPoint(t,n),n})},e.prototype.getConnectionPointSide=function(t,e){return t.side!==l.ConnectionPointSide.Undefined?t.side:this.getConnectionPointSideByGeometry(t)},e.prototype.getConnectionPointSideByGeometry=function(t){var e=t.clone().offset(-this.position.x,-this.position.y).multiply(1/this.size.width,1/this.size.height);return a.ShapeDescription.getConnectionPointSideByGeometry(e)},e.prototype.getConnectionPointIndexForItem=function(t,e){return this.description.getConnectionPointIndexForItem(t,e)},e.prototype.getConnectionPointIndexForSide=function(t){return this.description.getConnectionPointIndexForSide(t)},e.prototype.toggleExpandedSize=function(){this.expanded?(this.size=this.getExpandedSize(),this.expandedSize=void 0):(this.expandedSize=this.size.clone(),this.size=this.getCollapsedSize())},e.prototype.getExpandedSize=function(){return this.description.getExpandedSize(this)},e.prototype.getCollapsedSize=function(){return this.description.getCollapsedSize(this)},e.prototype.getToolboxHeightToWidthRatio=function(){return this.description.getToolboxHeightToWidthRatio(this.size.width,this.size.height)},Object.defineProperty(e.prototype,"allowResizeHorizontally",{get:function(){return this.description.allowResizeHorizontally(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allowResizeVertically",{get:function(){return this.description.allowResizeVertically(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rectangle",{get:function(){return r.Rectangle.fromGeometry(this.position,this.size)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clientRectangle",{get:function(){return this.description.getClientRectangle(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textRectangle",{get:function(){return this.description.getTextRectangle(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textEditRectangle",{get:function(){return this.description.getTextEditRectangle(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textAngle",{get:function(){return this.description.getTextAngle()},enumerable:!1,configurable:!0}),e.prototype.toNative=function(t){var e=new h.NativeShape(this.key,this.dataKey);return e.type=this.description.key,e.text=this.text,e.position=this.position.clone(),e.size=this.size.clone(),e.attachedConnectorIds=this.attachedConnectors.map(function(t){return t.key}),e.applyUnits(t),e.containerId=this.container?this.container.key:null,e.containerChildItemIds=this.children.map(function(t){return t.key}),e.containerExpanded=this.expanded,e},e}(l.DiagramItem);e.Shape=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenderHelper=e.svgNS=void 0;var i=n(61);e.svgNS="http://www.w3.org/2000/svg";var o=function(){function t(){}return t.createSvgElement=function(t,n){void 0===n&&(n=!1);var i=document.createElementNS(e.svgNS,"svg");return i.className.baseVal="dxdi-canvas"+(n?" export":""),t&&t.appendChild(i),i},t.createMainElement=function(t,e){void 0===e&&(e=!1);var n=document.createElement("div");return n.setAttribute("class","dxdi-control"+(e?" measurer":"")),i.Diagnostics.optimizeLayers&&(n.style.transform="translateZ(0)"),t&&t.appendChild(n),n},t.addEventListener=function(t,e,n){t.addEventListener(e,n)},t.removeEventListener=function(t,e,n){t.removeEventListener(e,n)},t}();e.RenderHelper=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagramModelOperation=e.ModelOperationSettings=void 0;var i=function(){function t(){this._addShape=!0,this._addShapeFromToolbox=!0,this._deleteShape=!0,this._deleteConnector=!0,this._changeConnection=!0,this._changeConnectorPoints=!0,this._changeShapeText=!0,this._changeConnectorText=!0,this._resizeShape=!0,this._moveShape=!0}return Object.defineProperty(t.prototype,"addShape",{get:function(){return this._addShape},set:function(t){t!==this._addShape&&(this._addShape=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"addShapeFromToolbox",{get:function(){return this._addShapeFromToolbox},set:function(t){t!==this._addShapeFromToolbox&&(this._addShapeFromToolbox=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deleteShape",{get:function(){return this._deleteShape},set:function(t){t!==this._deleteShape&&(this._deleteShape=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deleteConnector",{get:function(){return this._deleteConnector},set:function(t){t!==this._deleteConnector&&(this._deleteConnector=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changeConnection",{get:function(){return this._changeConnection},set:function(t){t!==this._changeConnection&&(this._changeConnection=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changeConnectorPoints",{get:function(){return this._changeConnectorPoints},set:function(t){t!==this._changeConnectorPoints&&(this._changeConnectorPoints=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changeShapeText",{get:function(){return this._changeShapeText},set:function(t){t!==this._changeShapeText&&(this._changeShapeText=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changeConnectorText",{get:function(){return this._changeConnectorText},set:function(t){t!==this._changeConnectorText&&(this._changeConnectorText=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resizeShape",{get:function(){return this._resizeShape},set:function(t){t!==this._resizeShape&&(this._resizeShape=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"moveShape",{get:function(){return this._moveShape},set:function(t){t!==this._moveShape&&(this._moveShape=t)},enumerable:!1,configurable:!0}),t.prototype.applySettings=function(t){t&&("boolean"==typeof t.addShape&&(this.addShape=t.addShape),"boolean"==typeof t.addShapeFromToolbox&&(this.addShapeFromToolbox=t.addShapeFromToolbox),"boolean"==typeof t.deleteShape&&(this.deleteShape=t.deleteShape),"boolean"==typeof t.deleteConnector&&(this.deleteConnector=t.deleteConnector),"boolean"==typeof t.changeConnection&&(this.changeConnection=t.changeConnection),"boolean"==typeof t.changeConnectorPoints&&(this.changeConnectorPoints=t.changeConnectorPoints),"boolean"==typeof t.changeShapeText&&(this.changeShapeText=t.changeShapeText),"boolean"==typeof t.changeConnectorText&&(this.changeConnectorText=t.changeConnectorText),"boolean"==typeof t.resizeShape&&(this.resizeShape=t.resizeShape),"boolean"==typeof t.moveShape&&(this.moveShape=t.moveShape))},t}();e.ModelOperationSettings=i,function(t){t[t.AddShape=0]="AddShape",t[t.AddShapeFromToolbox=1]="AddShapeFromToolbox",t[t.DeleteShape=2]="DeleteShape",t[t.DeleteConnector=3]="DeleteConnector",t[t.ChangeConnection=4]="ChangeConnection",t[t.ChangeConnectorPoints=5]="ChangeConnectorPoints",t[t.BeforeChangeShapeText=6]="BeforeChangeShapeText",t[t.ChangeShapeText=7]="ChangeShapeText",t[t.BeforeChangeConnectorText=8]="BeforeChangeConnectorText",t[t.ChangeConnectorText=9]="ChangeConnectorText",t[t.ResizeShape=10]="ResizeShape",t[t.MoveShape=11]="MoveShape"}(e.DiagramModelOperation||(e.DiagramModelOperation={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.raiseEvent=e.RenderUtils=void 0;var i=n(11),o=n(31),r=function(){function t(){}return t.updateSvgElementSize=function(t,e,n,i){t.style.width=e+"px",t.style.height=n+"px",t.setAttribute("viewBox","0 0 "+e+" "+n),i&&(t.setAttribute("width",e.toString()),t.setAttribute("height",n.toString()))},t.removeElement=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},t.removeContent=function(t){for(;t&&t.firstChild;)t.removeChild(t.firstChild)},t.setElementEventData=function(t,e,n,o){e!==i.MouseEventElementType.Undefined&&(t.setAttribute("data-type",e.toString()),void 0!==n&&t.setAttribute("data-key",n.toString()),void 0!==o&&t.setAttribute("data-value",o.toString()))},t.getElementEventData=function(t){if(t.getAttribute&&t.getAttribute("data-type"))return new i.MouseEventSource(parseInt(t.getAttribute("data-type")),t.getAttribute("data-key"),t.getAttribute("data-value"));var e=t.getAttribute&&t.getAttribute("class");return"dxdi-page"===e||"dxdi-main"===e?new i.MouseEventSource(i.MouseEventElementType.Document):void 0},t.getHtmlElementStylePropertyName=function(t){switch(t){case"fill":return"color";case"text-anchor":return"text-align"}return t},t.getTextAnchorValue=function(t,e){if(void 0===e&&(e=!1),e){if("start"===t)return"end";if("end"===t)return"start"}return t},t.getStrokeDasharrayValue=function(t,e){if(e){var n=t&&t.toString();return(n?n.split(/[\s,]+/):[]).map(function(t){return parseInt(t)/2*e}).join(",")}return t},t.applyStyleToElement=function(t,e,n){var i=this;void 0===n&&(n=!1);var o=t.getDefaultInstance();t.forEach(function(r){var a=t[r],s=e instanceof HTMLElement?i.getHtmlElementStylePropertyName(r):r;if(void 0!==a&&""!==a&&a!==o[r]){switch(r){case"text-anchor":a=i.getTextAnchorValue(a,n);break;case"stroke-dasharray":a=i.getStrokeDasharrayValue(a,parseInt(t["stroke-width"]))}e.style.setProperty(s,a)}else e.style.setProperty(s,"")})},t.generateSvgElementId=function(t){return t+"_"+o.MathUtils.generateGuid()},t.getUrlPathById=function(t){return"url(#"+t+")"},t}();e.RenderUtils=r,e.raiseEvent=function(t,e,n){n(e),e.preventDefault&&t.preventDefault()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.IdentUserAgent=function(e,n){void 0===n&&(n=!1);var i=["Mozilla","IE","Firefox","Netscape","Safari","Chrome","Opera","Opera10","Edge"],o={Safari:2,Chrome:.1,Mozilla:1.9,Netscape:8,Firefox:2,Opera:9,IE:6,Edge:12};if(e&&0!==e.length){e=e.toLowerCase(),t.indentPlatformMajorVersion(e);try{for(var r={Windows:"Win",Macintosh:"Mac","Mac OS":"Mac",Mac_PowerPC:"Mac","cpu os":"MacMobile","cpu iphone os":"MacMobile",Android:"Android","!Windows Phone":"WinPhone","!WPDesktop":"WinPhone","!ZuneWP":"WinPhone"},a="(?:(\\d+)(?:\\.((?:\\d+?[1-9])|\\d)0*?)?)?",s={Safari:"applewebkit(?:.*?(?:version/(\\d+)(?:\\.((?:\\d+?[1-9])|\\d)0*?)?[\\.\\w\\d]*?(?:\\s+mobile/\\S*)?\\s+safari))?",Chrome:"(?:chrome|crios)(?!frame)(?:/|\\s*)?"+a,Mozilla:"mozilla(?:.*rv:"+a+".*Gecko)?",Netscape:"(?:netscape|navigator)\\d*/?\\s*"+a,Firefox:"firefox(?:/|\\s*)?"+a,Opera:"(?:opera|\\sopr)(?:/|\\s*)?"+a,Opera10:"opera.*\\s*version(?:/|\\s*)?"+a,IE:"msie\\s*"+a,Edge:"edge(?:/|\\s*)?"+a},l=null,c=-1,u=0;u<i.length;u++){var h=i[u],d=new RegExp(s[h],"i").exec(e);if(d&&d.index>=0){if("IE"===l&&c>=11&&"Safari"===h)continue;"Opera10"===(l=h)&&(l="Opera"),c=t.GetBrowserVersion(e,d,"trident(?:/|\\s*)?(?:(\\d+)(?:\\.((?:\\d+?[1-9])|\\d)0*?)?)?",t.getIECompatibleVersionString()),"Mozilla"===l&&c>=11&&(l="IE")}}l||(l="IE");var p=-1!==c;p||(c=o[l]);var f=null,m=Number.MAX_VALUE;for(var g in r)if(Object.prototype.hasOwnProperty.call(r,g)){var v="!"===g.substr(0,1),y=e.indexOf((v?g.substr(1):g).toLowerCase());y>=0&&(y<m||v)&&(m=v?0:y,f=r[g])}var _=e.toUpperCase().match("SM-[A-Z]"),b=_&&_.length>0;"WinPhone"===f&&c<9&&(c=Math.floor(t.getVersionFromTrident(e,"trident(?:/|\\s*)?"+a))),!n&&"IE"===l&&c>7&&document.documentMode<c&&(c=document.documentMode),"WinPhone"===f&&(c=Math.max(9,c)),f||(f="Win"),f!==r["cpu os"]||p||(c=4),t.fillUserAgentInfo(i,l,c,f,b)}catch(e){t.fillUserAgentInfo(i,"IE",o.IE,"Win")}}else t.fillUserAgentInfo(i,"IE",o.IE,"Win")},t.GetBrowserVersion=function(e,n,i,o){var r=t.getVersionFromMatches(n);if(o){var a=t.getVersionFromTrident(e,i);if("edge"===o||parseInt(o)===a)return a}return r},t.getIECompatibleVersionString=function(){if(document.compatible)for(var t=0;t<document.compatible.length;t++)if("IE"===document.compatible[t].userAgent&&document.compatible[t].version)return document.compatible[t].version.toLowerCase();return""},t.isTouchEnabled=function(){return t.hasTouchStart()||t.hasMaxTouchPoints()||t.hasMsMaxTouchPoints()},t.hasTouchStart=function(){return"ontouchstart"in window},t.hasMaxTouchPoints=function(){return navigator.maxTouchPoints>0},t.hasMsMaxTouchPoints=function(){return navigator.msMaxTouchPoints>0},t.hasNavigator=function(){return"undefined"!=typeof navigator},t.fillUserAgentInfo=function(e,n,i,o,r){void 0===r&&(r=!1);for(var a=0;a<e.length;a++){var s=e[a];t[s]=s===n}t.Version=Math.floor(10*i)/10,t.MajorVersion=Math.floor(t.Version),t.WindowsPlatform="Win"===o||"WinPhone"===o,t.MacOSMobilePlatform="MacMobile"===o||"Mac"===o&&t.isTouchEnabled(),t.MacOSPlatform="Mac"===o&&!t.MacOSMobilePlatform,t.AndroidMobilePlatform="Android"===o,t.WindowsPhonePlatform="WinPhone"===o,t.WebKitFamily=t.Safari||t.Chrome||t.Opera&&t.MajorVersion>=15,t.NetscapeFamily=t.Netscape||t.Mozilla||t.Firefox,t.WebKitTouchUI=t.MacOSMobilePlatform||t.AndroidMobilePlatform;var l=t.IE&&t.MajorVersion>9&&t.WindowsPlatform&&t.UserAgent.toLowerCase().indexOf("touch")>=0;if(t.MSTouchUI=l||t.Edge&&!!window.navigator.maxTouchPoints,t.TouchUI=t.WebKitTouchUI||t.MSTouchUI,t.MobileUI=t.WebKitTouchUI||t.WindowsPhonePlatform,t.AndroidDefaultBrowser=t.AndroidMobilePlatform&&!t.Chrome,t.AndroidChromeBrowser=t.AndroidMobilePlatform&&t.Chrome,r&&(t.SamsungAndroidDevice=r),t.MSTouchUI){var c=t.UserAgent.toLowerCase().indexOf("arm;")>-1;t.VirtualKeyboardSupported=c||t.WindowsPhonePlatform}else t.VirtualKeyboardSupported=t.WebKitTouchUI;t.fillDocumentElementBrowserTypeClassNames(e)},t.indentPlatformMajorVersion=function(e){var n=/(?:(?:windows nt|macintosh|mac os|cpu os|cpu iphone os|android|windows phone|linux) )(\d+)(?:[-0-9_.])*/.exec(e);n&&(t.PlaformMajorVersion=n[1])},t.getVersionFromMatches=function(t){var e=-1,n="";return t&&(t[1]&&(n+=t[1],t[2]&&(n+="."+t[2])),""!==n&&(e=parseFloat(n),isNaN(e)&&(e=-1))),e},t.getVersionFromTrident=function(e,n){var i=new RegExp(n,"i").exec(e);return t.getVersionFromMatches(i)+4},t.fillDocumentElementBrowserTypeClassNames=function(e){for(var n="",i=e.concat(["WindowsPlatform","MacOSPlatform","MacOSMobilePlatform","AndroidMobilePlatform","WindowsPhonePlatform","WebKitFamily","WebKitTouchUI","MSTouchUI","TouchUI","AndroidDefaultBrowser"]),o=0;o<i.length;o++){var r=i[o];t[r]&&(n+="dx"+r+" ")}n+="dxBrowserVersion-"+t.MajorVersion,"undefined"!=typeof document&&document&&document.documentElement&&(""!==document.documentElement.className&&(n=" "+n),document.documentElement.className+=n,t.Info=n)},t.getUserAgent=function(){return t.hasNavigator()&&navigator.userAgent?navigator.userAgent.toLowerCase():""},t.UserAgent=t.getUserAgent(),t._foo=t.IdentUserAgent(t.UserAgent),t}();e.Browser=i},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.RectangleShapeDescription=void 0;var r=n(7),a=n(2),s=n(21),l=n(1),c=function(t){function e(e,n){return void 0===e&&(e=new a.Size(r.ShapeDefaultDimension,.75*r.ShapeDefaultDimension)),t.call(this,e,n)||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return l.ShapeTypes.Rectangle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepRatioOnAutoSize",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(t){var e=t.rectangle,n=e.x,i=e.y,o=e.width,r=e.height;return[new s.RectanglePrimitive(n,i,o,r,t.style)]},e.prototype.getTextRectangle=function(t){return t.rectangle.clone().inflate(-r.ShapeTextPadding,-r.ShapeTextPadding)},e.prototype.getSizeByText=function(t,e){return t.clone().offset(2*r.ShapeTextPadding,2*r.ShapeTextPadding)},e}(r.ShapeDescription);e.RectangleShapeDescription=c},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Alignment=e.DataLayoutOrientation=e.LogicalDirectionKind=e.TreeLayoutSettings=e.LayoutSettings=void 0;var r=n(6),a=function(t){this.orientation=l.Vertical,this.direction=s.Forward;var e=t&&2*t>r.Connector.minOffset?2*t:r.Connector.minOffset;this.columnSpacing=e,this.layerSpacing=2*e,this.containerPadding=2*e,this.componentSpacing=2*e};e.LayoutSettings=a;var s,l,c,u=function(t){function e(e){var n=t.call(this,e)||this;return n.alignment=c.Center,n.subTreeColumnSpacing=n.componentSpacing/2,n}return o(e,t),e}(a);e.TreeLayoutSettings=u,function(t){t[t.Backward=0]="Backward",t[t.Forward=1]="Forward"}(s=e.LogicalDirectionKind||(e.LogicalDirectionKind={})),function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical"}(l=e.DataLayoutOrientation||(e.DataLayoutOrientation={})),function(t){t[t.Left=0]="Left",t[t.Center=1]="Center"}(c=e.Alignment||(e.Alignment={}))},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.RectanglePrimitive=void 0;var r=n(15),a=function(t){function e(e,n,i,o,r,a,s,l){var c=t.call(this,r,a,s,l)||this;return c.x=e,c.y=n,c.width=i,c.height=o,c}return o(e,t),e.prototype.createMainElement=function(){return document.createElementNS(r.svgNS,"rect")},e.prototype.applyElementProperties=function(e,n){this.setUnitAttribute(e,"x",this.x),this.setUnitAttribute(e,"y",this.y),this.setUnitAttribute(e,"width",this.width),this.setUnitAttribute(e,"height",this.height),this.setPositionCorrectionAttribute(e),t.prototype.applyElementProperties.call(this,e,n)},e}(n(24).SvgPrimitive);e.RectanglePrimitive=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(49),o=function(){function t(){}return t.getAlpha=function(t){return t>>24&255},t.getRed=function(t){return t>>16&255},t.getGreen=function(t){return t>>8&255},t.getBlue=function(t){return 255&t},t.redPartToString=function(e){var n=t.getRed(e).toString(16);return n.length>1?n:"0"+n},t.greenPartToString=function(e){var n=t.getGreen(e).toString(16);return n.length>1?n:"0"+n},t.bluePartToString=function(e){var n=t.getBlue(e).toString(16);return n.length>1?n:"0"+n},t.fromArgbNumber=function(t,e,n,i){return t<<24|e<<16|n<<8|i},t.fromRgbaString=function(t,e){void 0===e&&(e=255);var n=t.replace(/ +/g,"").match(/(rgba?)|(\d+(\.\d+)?%?)|(\.\d+)/g);if(n&&n.length>3){for(var i=[],o=1,r=void 0;r=n[o];o++){var a=-1!==r.indexOf("%")?Math.round(2.55*parseFloat(r)):parseInt(r);if(a<0||a>255)return null;i.push(a)}if(0===t.indexOf("rgba")){if(isNaN(i[3])||i[3]<0||i[3]>1)return null;i[3]<=1&&(i[3]=Math.round(255*i[3]))}else if(i[3])return null;return(255&i[0])<<16|(255&i[1])<<8|255&i[2]|(255&(i.length>3?i[3]:e))<<24}return null},t.fromHashString=function(e,n){return void 0===n&&(n=255),t.isHashColorString(e)?("#"===e.charAt(0)&&(e=e.substr(1)),3===e.length&&(e=i.StringUtils.repeat(e.charAt(0),2)+i.StringUtils.repeat(e.charAt(1),2)+i.StringUtils.repeat(e.charAt(2),2)),parseInt(e,16)|n<<24):null},t.fromColorName=function(e,n){void 0===n&&(n=255);var i=t.colorNames[e.toLowerCase()];return i?t.fromHashString(i,n):null},t.fromString=function(e,n){void 0===n&&(n=255);var i=t.fromRgbaString(e,n);if(null!==i)return i;var o=t.fromHashString(e,n);return null!==o?o:t.fromColorName(e,n)},t.colorToHash=function(e){return"#"+t.redPartToString(e)+t.greenPartToString(e)+t.bluePartToString(e)},t.stringToHash=function(t){var e=this.fromString(t);return null!==e?this.colorToHash(e):null},t.isHashColorString=function(t){return/^#?([0-9a-f]{6})$/i.test(t)||/^#?([0-9a-f]{3})$/i.test(t)},t.isKnownColorName=function(e){return!!t.colorNames[e.toLowerCase()]},t.isGray=function(e){var n=t.getRed(e);return n===t.getGreen(e)&&n===t.getBlue(e)},t.DARK_COLOR=-16777216,t.LIGHT_COLOR=-1,t.colorNames={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",feldspar:"#d19275",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#00ff00",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslateblue:"#8470ff",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",violetred:"#d02090",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",windowtext:"#000000"},t}();e.ColorUtils=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PermissionRequestEventArgs=e.RequestedEntity=void 0;var i=function(){function t(t){this.apiController=t}return Object.defineProperty(t.prototype,"allowed",{get:function(){return this.eventArgs.allowed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateUI",{get:function(){return this.eventArgs.updateUI},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventArgs",{get:function(){return this._eventArgs||(this._eventArgs=this.createEventArgs()),this._eventArgs},enumerable:!1,configurable:!0}),t}();e.RequestedEntity=i;var o=function(){this.allowed=!0,this.updateUI=!1};e.PermissionRequestEventArgs=o},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SvgPrimitive=void 0;var r=n(17),a=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;return r.className=n,r.clipPathId=i,r.onApplyProperties=o,r.children=[],r}return o(e,t),e.prototype.createElement=function(t){var e=this.createMainElement();return this.createChildElements(e),t(e),this.createCustomContent(e),e},e.prototype.createChildElements=function(t){for(var e=0;e<this.children.length;e++)this.children[e].createElement(function(e){return t.appendChild(e)})},e.prototype.applyElementProperties=function(t,e){this.applyElementStyleProperties(t),this.className&&t.setAttribute("class",this.className),"string"==typeof this.clipPathId&&(this.clipPathId?t.setAttribute("clip-path",r.RenderUtils.getUrlPathById(this.clipPathId)):t.removeAttribute("clip-path")),this.onApplyProperties&&this.onApplyProperties(t),this.applyChildrenProperties(t,e)},e.prototype.applyChildrenProperties=function(t,e){for(var n=0;n<this.children.length;n++)this.children[n].applyElementProperties(t.childNodes[n],e)},e.prototype.applyElementStyleProperties=function(t){this.applyElementStylePropertiesCore(t)},e.prototype.applyElementStylePropertiesCore=function(t,e){void 0===e&&(e=!1),this.style&&r.RenderUtils.applyStyleToElement(this.style,t,e)},e.prototype.createCustomContent=function(t){},e.prototype.destroyCustomContent=function(t){},e.prototype.dispose=function(){this.children&&this.children.forEach(function(t){return t.dispose()})},e}(n(109).PrimitiveObject);e.SvgPrimitive=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o,r=n(18),a=n(173),s=n(49),l=function(){function t(){}return t.getKeyModifiers=function(t){var e=0;return t.altKey&&(e|=i.Alt),t.ctrlKey&&(e|=i.Ctrl),t.shiftKey&&(e|=i.Shift),t.metaKey&&(e|=i.Meta),e},t.getShortcutCode=function(t,e,n,o,r){var a=t;return a|=e?i.Ctrl:0,a|=n?i.Shift:0,a|=o?i.Alt:0,a|=r?i.Meta:0},t.getShortcutCodeByEvent=function(e){return t.getShortcutCode(t.getEventKeyCode(e),e.ctrlKey,e.shiftKey,e.altKey,!!r.Browser.MacOSPlatform&&e.metaKey)},t.getEventKeyCode=function(t){return r.Browser.NetscapeFamily||r.Browser.Opera?t.which:t.keyCode},t.parseShortcutString=function(e){if(!e)return 0;var n=!1,i=!1,r=!1,l=!1,c=null,u=e.toString().split("+");if(u.length>0)for(var h=0;h<u.length;h++){var d=s.StringUtils.trim(u[h].toUpperCase());switch(d){case"CONTROL":case"CONTROLKEY":case"CTRL":n=!0;break;case"SHIFT":case"SHIFTKEY":i=!0;break;case"ALT":r=!0;break;case"CMD":l=!0;break;case"F1":c=o.F1;break;case"F2":c=o.F2;break;case"F3":c=o.F3;break;case"F4":c=o.F4;break;case"F5":c=o.F5;break;case"F6":c=o.F6;break;case"F7":c=o.F7;break;case"F8":c=o.F8;break;case"F9":c=o.F9;break;case"F10":c=o.F10;break;case"F11":c=o.F11;break;case"F12":c=o.F12;break;case"RETURN":case"ENTER":c=o.Enter;break;case"HOME":c=o.Home;break;case"END":c=o.End;break;case"LEFT":c=o.Left;break;case"RIGHT":c=o.Right;break;case"UP":c=o.Up;break;case"DOWN":c=o.Down;break;case"PAGEUP":c=o.PageUp;break;case"PAGEDOWN":c=o.PageDown;break;case"SPACE":c=o.Space;break;case"TAB":c=o.Tab;break;case"BACKSPACE":case"BACK":c=o.Backspace;break;case"CONTEXT":c=o.ContextMenu;break;case"ESCAPE":case"ESC":c=o.Esc;break;case"DELETE":case"DEL":c=o.Delete;break;case"INSERT":case"INS":c=o.Insert;break;case"PLUS":c="+".charCodeAt(0);break;default:c=d.charCodeAt(0)}}else alert(a.EncodeUtils.decodeViaTextArea("Invalid shortcut"));return t.getShortcutCode(c,n,i,r,l)},t}();e.KeyUtils=l,function(t){t[t.None=0]="None",t[t.Ctrl=65536]="Ctrl",t[t.Shift=262144]="Shift",t[t.Alt=1048576]="Alt",t[t.Meta=16777216]="Meta"}(i=e.ModifierKey||(e.ModifierKey={})),function(t){t[t.Backspace=8]="Backspace",t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Pause=19]="Pause",t[t.CapsLock=20]="CapsLock",t[t.Esc=27]="Esc",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.Left=37]="Left",t[t.Up=38]="Up",t[t.Right=39]="Right",t[t.Down=40]="Down",t[t.Insert=45]="Insert",t[t.Delete=46]="Delete",t[t.Key_0=48]="Key_0",t[t.Key_1=49]="Key_1",t[t.Key_2=50]="Key_2",t[t.Key_3=51]="Key_3",t[t.Key_4=52]="Key_4",t[t.Key_5=53]="Key_5",t[t.Key_6=54]="Key_6",t[t.Key_7=55]="Key_7",t[t.Key_8=56]="Key_8",t[t.Key_9=57]="Key_9",t[t.Key_a=65]="Key_a",t[t.Key_b=66]="Key_b",t[t.Key_c=67]="Key_c",t[t.Key_d=68]="Key_d",t[t.Key_e=69]="Key_e",t[t.Key_f=70]="Key_f",t[t.Key_g=71]="Key_g",t[t.Key_h=72]="Key_h",t[t.Key_i=73]="Key_i",t[t.Key_j=74]="Key_j",t[t.Key_k=75]="Key_k",t[t.Key_l=76]="Key_l",t[t.Key_m=77]="Key_m",t[t.Key_n=78]="Key_n",t[t.Key_o=79]="Key_o",t[t.Key_p=80]="Key_p",t[t.Key_q=81]="Key_q",t[t.Key_r=82]="Key_r",t[t.Key_s=83]="Key_s",t[t.Key_t=84]="Key_t",t[t.Key_u=85]="Key_u",t[t.Key_v=86]="Key_v",t[t.Key_w=87]="Key_w",t[t.Key_x=88]="Key_x",t[t.Key_y=89]="Key_y",t[t.Key_z=90]="Key_z",t[t.Windows=91]="Windows",t[t.ContextMenu=93]="ContextMenu",t[t.Numpad_0=96]="Numpad_0",t[t.Numpad_1=97]="Numpad_1",t[t.Numpad_2=98]="Numpad_2",t[t.Numpad_3=99]="Numpad_3",t[t.Numpad_4=100]="Numpad_4",t[t.Numpad_5=101]="Numpad_5",t[t.Numpad_6=102]="Numpad_6",t[t.Numpad_7=103]="Numpad_7",t[t.Numpad_8=104]="Numpad_8",t[t.Numpad_9=105]="Numpad_9",t[t.Multiply=106]="Multiply",t[t.Add=107]="Add",t[t.Subtract=109]="Subtract",t[t.Decimal=110]="Decimal",t[t.Divide=111]="Divide",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12",t[t.NumLock=144]="NumLock",t[t.ScrollLock=145]="ScrollLock",t[t.Semicolon=186]="Semicolon",t[t.Equals=187]="Equals",t[t.Comma=188]="Comma",t[t.Dash=189]="Dash",t[t.Period=190]="Period",t[t.ForwardSlash=191]="ForwardSlash",t[t.GraveAccent=192]="GraveAccent",t[t.OpenBracket=219]="OpenBracket",t[t.BackSlash=220]="BackSlash",t[t.CloseBracket=221]="CloseBracket",t[t.SingleQuote=222]="SingleQuote"}(o=e.KeyCode||(e.KeyCode={}))},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.EmptyStyle=e.StrokeStyle=e.TextAlignment=e.TextStyle=e.Style=e.DEFAULT_STROKE_DASHARRAY=e.DEFAULT_STROKE_WIDTH=e.StyleBase=void 0;var r=n(22),a=n(110),s=n(12),l=function(){function t(){this.createDefaultProperties()}return t.prototype.clone=function(){var t=this,e=this.createInstance();return this.forEach(function(n){e[n]=t[n]}),e},t.prototype.forEach=function(t){for(var e in this)Object.prototype.hasOwnProperty.call(this,e)&&t(e)},Object.defineProperty(t.prototype,"strokeWidthPx",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return s.UnitConverter.pixelsToTwips(this.strokeWidthPx)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeOffset",{get:function(){return.5},enumerable:!1,configurable:!0}),t.prototype.toHash=function(){var t=this.toObject();return t?Object.keys(t).map(function(e){return e+"|"+t[e]}).join(""):""},t.prototype.toObject=function(){var t=this,e={},n=!1,i=this.getDefaultInstance();return this.forEach(function(o){t[o]!==i[o]&&(e[o]=t[o],n=!0)}),n?e:null},t.prototype.fromObject=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var n=a.isColorProperty(e)?r.ColorUtils.stringToHash(t[e]):t[e];this[e]=n}},t}();e.StyleBase=l,e.DEFAULT_STROKE_WIDTH=2,e.DEFAULT_STROKE_DASHARRAY="";var c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.createInstance=function(){return new n},n.prototype.createDefaultProperties=function(){this.fill="#ffffff",this.stroke="#000000",this["stroke-width"]=e.DEFAULT_STROKE_WIDTH.toString(),this["stroke-dasharray"]=e.DEFAULT_STROKE_DASHARRAY},n.prototype.getDefaultInstance=function(){return n.defaultInstance},n.prototype.isDefaultStrokeDashArray=function(){return this["stroke-dasharray"]===e.DEFAULT_STROKE_DASHARRAY},n.prototype.resetStrokeDashArray=function(){this["stroke-dasharray"]=e.DEFAULT_STROKE_DASHARRAY},Object.defineProperty(n.prototype,"strokeWidthPx",{get:function(){return parseInt(this["stroke-width"])},enumerable:!1,configurable:!0}),n.defaultInstance=new n,n}(l);e.Style=c;var u,h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.createInstance=function(){return new e},e.prototype.createDefaultProperties=function(){this.fill="#000000",this["font-family"]="Arial",this["font-size"]="10pt",this["font-weight"]="",this["font-style"]="",this["text-decoration"]="",this["text-anchor"]="middle"},e.prototype.getDefaultInstance=function(){return e.defaultInstance},e.prototype.getAlignment=function(){switch(this["text-anchor"]){case"left":return u.Left;case"right":return u.Right;default:return u.Center}},e.defaultInstance=new e,e}(l);e.TextStyle=h,function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Center=2]="Center"}(u=e.TextAlignment||(e.TextAlignment={}));var d=function(t){function e(e,n){var i=t.call(this)||this;return i._strokeWidthPx=e,i._strokeOffset=n,i}return o(e,t),e.prototype.createInstance=function(){return new e},e.prototype.createDefaultProperties=function(){},e.prototype.getDefaultInstance=function(){return h.defaultInstance},Object.defineProperty(e.prototype,"strokeWidthPx",{get:function(){return this._strokeWidthPx||0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeOffset",{get:function(){return this._strokeOffset||0},enumerable:!1,configurable:!0}),e.default1pxInstance=new e(1,.5),e.default1pxNegativeOffsetInstance=new e(1,-.5),e.default2pxInstance=new e(2),e}(c);e.StrokeStyle=d;var p=function(t){function e(e){var n=t.call(this)||this;return e&&Object.keys(e).forEach(function(t){return n[t]=e[t]}),n}return o(e,t),e.prototype.createInstance=function(){return new e},e.prototype.createDefaultProperties=function(){},e.prototype.getDefaultInstance=function(){return h.defaultInstance},e.defaultInstance=new e,e}(c);e.EmptyStyle=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(18),o=n(50),r=n(31),a=n(49),s=function(){function t(){}return t.clearInnerHtml=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},t.setStylePosition=function(t,e){t.left=r.MathUtils.round(e.x,3)+"px",t.top=r.MathUtils.round(e.y,3)+"px"},t.setStyleSize=function(t,e){t.width=r.MathUtils.round(e.width,3)+"px",t.height=r.MathUtils.round(e.height,3)+"px"},t.setStyleSizeAndPosition=function(e,n){t.setStylePosition(e,n),t.setStyleSize(e,n)},t.hideNode=function(t){if(t){var e=t.parentNode;e&&e.removeChild(t)}},t.isHTMLElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},t.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},t.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},t.isHTMLTableRowElement=function(t){return"TR"===t.tagName},t.isItParent=function(t,e){if(!t||!e)return!1;for(;e;){if(e===t)return!0;if("BODY"===e.tagName)return!1;e=e.parentNode}return!1},t.getParentByTagName=function(t,e){for(e=e.toUpperCase();t;){if("BODY"===t.tagName)return null;if(t.tagName===e)return t;t=t.parentNode}return null},t.getDocumentScrollTop=function(){var e=i.Browser.IE&&"hidden"===t.getCurrentStyle(document.body).overflow&&document.body.scrollTop>0;return i.Browser.WebKitFamily||i.Browser.Edge||e?i.Browser.MacOSMobilePlatform?window.pageYOffset:i.Browser.WebKitFamily&&document.documentElement.scrollTop||document.body.scrollTop:document.documentElement.scrollTop},t.getDocumentScrollLeft=function(){var e=i.Browser.IE&&"hidden"===t.getCurrentStyle(document.body).overflow&&document.body.scrollLeft>0;return i.Browser.Edge||e?document.body?document.body.scrollLeft:document.documentElement.scrollLeft:i.Browser.WebKitFamily?document.documentElement.scrollLeft||document.body.scrollLeft:document.documentElement.scrollLeft},t.getCurrentStyle=function(t){if(t.currentStyle)return t.currentStyle;if(document.defaultView&&document.defaultView.getComputedStyle){var e=document.defaultView.getComputedStyle(t,null);if(!e&&i.Browser.Firefox&&window.frameElement){for(var n=[],r=window.frameElement;!(e=document.defaultView.getComputedStyle(t,null));)n.push([r,r.style.display]),r.style.setProperty("display","block","important"),r="BODY"===r.tagName?r.ownerDocument.defaultView.frameElement:r.parentNode;e=function(t){if("object"!=typeof t||!o.isDefined(t))return t;var e={};for(var n in t)e[n]=t[n];return e}(e);for(var a=void 0,s=0;a=n[s];s++)a[0].style.display=a[1];document.body.offsetWidth}return e}return window.getComputedStyle(t,null)},t.setFocus=function(t){function e(){try{t.focus(),i.Browser.IE&&document.activeElement!==t&&t.focus()}catch(t){}}i.Browser.MacOSMobilePlatform?e():setTimeout(function(){e()},100)},t.hasClassName=function(t,e){try{var n=e.split(" "),i=t.classList;if(i){for(var o=n.length-1;o>=0;o--)if(!i.contains(n[o]))return!1}else{var r=t.getAttribute&&t.getAttribute("class");if(!r)return!1;var a=r.split(" ");for(o=n.length-1;o>=0;o--)if(a.indexOf(n[o])<0)return!1}return!0}catch(t){return!1}},t.addClassName=function(e,n){if(!t.hasClassName(e,n)){var i=e.getAttribute&&e.getAttribute("class");e.setAttribute("class",""===i?n:i+" "+n)}},t.removeClassName=function(t,e){var n=" "+(t.getAttribute&&t.getAttribute("class"))+" ",i=n.replace(" "+e+" "," ");n.length!==i.length&&t.setAttribute("class",a.StringUtils.trim(i))},t.toggleClassName=function(e,n,i){void 0===i?t.hasClassName(e,n)?t.removeClassName(e,n):t.addClassName(e,n):i?t.addClassName(e,n):t.removeClassName(e,n)},t.pxToInt=function(t){return l(t,parseInt)},t.pxToFloat=function(t){return l(t,parseFloat)},t.getAbsolutePositionY=function(e){function n(e){return Math.round(e.getBoundingClientRect().top+t.getDocumentScrollTop())}return e?i.Browser.IE?function(e){return i.Browser.IE&&null===e.parentNode?0:e.getBoundingClientRect().top+t.getDocumentScrollTop()}(e):i.Browser.Firefox&&i.Browser.Version>=3?n(e):i.Browser.Opera?function(e){var n=!0;e&&t.isHTMLTableRowElement(e)&&e.cells.length>0&&(e=e.cells[0]);for(var i=c(e,!1);null!=e;)i+=e.offsetTop,n||(i-=e.scrollTop),e=e.offsetParent,n=!1;return i+=document.body.scrollTop}(e):i.Browser.NetscapeFamily&&(!i.Browser.Firefox||i.Browser.Version<3)?function(e){for(var n=c(e,!1),o=!0;null!=e;){if(n+=e.offsetTop,o||null==e.offsetParent||(n-=e.scrollTop),!o&&i.Browser.Firefox){var r=t.getCurrentStyle(e);"DIV"===e.tagName&&"visible"!==r.overflow&&(n+=t.pxToInt(r.borderTopWidth))}o=!1,e=e.offsetParent}return n}(e):i.Browser.WebKitFamily||i.Browser.Edge?n(e):function(t){for(var e=0,n=!0;null!=t;)e+=t.offsetTop,n||null==t.offsetParent||(e-=t.scrollTop),n=!1,t=t.offsetParent;return e}(e):0},t.getAbsolutePositionX=function(e){function n(e){return Math.round(e.getBoundingClientRect().left+t.getDocumentScrollLeft())}return e?i.Browser.IE?function(e){return i.Browser.IE&&null===e.parentNode?0:e.getBoundingClientRect().left+t.getDocumentScrollLeft()}(e):i.Browser.Firefox&&i.Browser.Version>=3?n(e):i.Browser.Opera&&i.Browser.Version<=12?function(t){for(var e=!0,n=c(t,!0);null!=t;)n+=t.offsetLeft,e||(n-=t.scrollLeft),t=t.offsetParent,e=!1;return n+=document.body.scrollLeft}(e):i.Browser.NetscapeFamily&&(!i.Browser.Firefox||i.Browser.Version<3)?function(e){for(var n=c(e,!0),o=!0;null!=e;){if(n+=e.offsetLeft,o||null==e.offsetParent||(n-=e.scrollLeft),!o&&i.Browser.Firefox){var r=t.getCurrentStyle(e);"DIV"===e.tagName&&"visible"!==r.overflow&&(n+=t.pxToInt(r.borderLeftWidth))}o=!1,e=e.offsetParent}return n}(e):i.Browser.WebKitFamily||i.Browser.Edge?n(e):function(t){for(var e=0,n=!0;null!=t;)e+=t.offsetLeft,n||null==t.offsetParent||(e-=t.scrollLeft),n=!1,t=t.offsetParent;return e}(e):0},t.isInteractiveControl=function(t){return["A","INPUT","SELECT","OPTION","TEXTAREA","BUTTON","IFRAME"].indexOf(t.tagName)>-1},t.getClearClientHeight=function(e){return e.offsetHeight-(t.getTopBottomPaddings(e)+t.getVerticalBordersWidth(e))},t.getTopBottomPaddings=function(e,n){var i=n||t.getCurrentStyle(e);return t.pxToInt(i.paddingTop)+t.pxToInt(i.paddingBottom)},t.getVerticalBordersWidth=function(e,n){o.isDefined(n)||(n=i.Browser.IE&&9!==i.Browser.MajorVersion&&window.getComputedStyle?window.getComputedStyle(e):t.getCurrentStyle(e));var r=0;return"none"!==n.borderTopStyle&&(r+=t.pxToFloat(n.borderTopWidth)),"none"!==n.borderBottomStyle&&(r+=t.pxToFloat(n.borderBottomWidth)),r},t.getNodes=function(t,e){for(var n=t.all||t.getElementsByTagName("*"),i=[],o=0;o<n.length;o++){var r=n[o];e(r)&&i.push(r)}return i},t.getChildNodes=function(t,e){for(var n=t.childNodes,i=[],o=0;o<n.length;o++){var r=n[o];e(r)&&i.push(r)}return i},t.getNodesByClassName=function(e,n){if(e.querySelectorAll){var i=e.querySelectorAll("."+n),o=[];return i.forEach(function(t){return o.push(t)}),o}return t.getNodes(e,function(e){return t.hasClassName(e,n)})},t.getChildNodesByClassName=function(e,n){return e.querySelectorAll?function(t,e){for(var n=[],i=0;i<t.length;i++){var o=t[i];e(o)&&n.push(o)}return n}(e.querySelectorAll("."+n),function(t){return t.parentNode===e}):t.getChildNodes(e,function(e){return!!t.isElementNode(e)&&o.isNonNullString(e.className)&&t.hasClassName(e,e.className)})},t.getVerticalScrollBarWidth=function(){if(void 0===t.verticalScrollBarWidth){var e=document.createElement("DIV");e.style.cssText="position: absolute; top: 0px; left: 0px; visibility: hidden; width: 200px; height: 150px; overflow: hidden; box-sizing: content-box",document.body.appendChild(e);var n=document.createElement("P");e.appendChild(n),n.style.cssText="width: 100%; height: 200px;";var i=n.offsetWidth;e.style.overflow="scroll";var o=n.offsetWidth;i===o&&(o=e.clientWidth),t.verticalScrollBarWidth=i-o,document.body.removeChild(e)}return t.verticalScrollBarWidth},t.getHorizontalBordersWidth=function(e,n){o.isDefined(n)||(n=i.Browser.IE&&window.getComputedStyle?window.getComputedStyle(e):t.getCurrentStyle(e));var r=0;return"none"!==n.borderLeftStyle&&(r+=t.pxToFloat(n.borderLeftWidth)),"none"!==n.borderRightStyle&&(r+=t.pxToFloat(n.borderRightWidth)),r},t.getFontFamiliesFromCssString=function(t){return t.split(",").map(function(t){return a.StringUtils.trim(t.replace(/'|"/gi,""))})},t.getInnerText=function(e){if(i.Browser.Safari&&i.Browser.MajorVersion<=5){null===t.html2PlainTextFilter&&(t.html2PlainTextFilter=document.createElement("DIV"),t.html2PlainTextFilter.style.width="0",t.html2PlainTextFilter.style.height="0",t.html2PlainTextFilter.style.overflow="visible",t.html2PlainTextFilter.style.display="none",document.body.appendChild(t.html2PlainTextFilter));var n=t.html2PlainTextFilter;n.innerHTML=e.innerHTML,n.style.display="";var o=n.innerText;return n.style.display="none",o}return i.Browser.NetscapeFamily||i.Browser.WebKitFamily||i.Browser.IE&&i.Browser.Version>=9||i.Browser.Edge?e.textContent:e.innerText},t.html2PlainTextFilter=null,t.verticalScrollBarWidth=void 0,t}();function l(t,e){var n=0;if(o.isDefined(t)&&""!==t)try{var i=t.indexOf("px");i>-1&&(n=e(t.substr(0,i)))}catch(t){}return n}function c(t,e){for(var n=0,i=!0;null!=t&&"BODY"!==t.tagName;){var o=s.getCurrentStyle(t);if("absolute"===o.position)break;i||"DIV"!==t.tagName||""!==o.position&&"static"!==o.position||(n-=e?t.scrollLeft:t.scrollTop),t=t.parentNode,i=!1}return n}e.DomUtils=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectorRoutingMode=e.AutoZoomMode=e.DiagramSettings=void 0;var i,o,r=n(3),a=n(2),s=n(47),l=n(4),c=function(){function t(){this.onZoomChanged=new r.EventDispatcher,this.onViewChanged=new r.EventDispatcher,this.onReadOnlyChanged=new r.EventDispatcher,this.onConnectorRoutingModeChanged=new r.EventDispatcher,this._zoomLevel=1,this._zoomLevelWasChanged=!1,this._zoomLevelItems=[.5,.75,1,1.25,1.5,2,3],this._simpleView=!1,this._fullscreen=!1,this._readOnly=!1,this._autoZoom=i.Disabled,this._snapToGrid=!0,this._showGrid=!0,this._contextMenuEnabled=!0,this._gridSize=180,this._gridSizeItems=[90,180,360,720],this._pageSizeItems=[{size:new a.Size(12240,15840),text:"US-Letter ({width} x {height})"},{size:new a.Size(12240,20160),text:"US-Legal ({width} x {height})"},{size:new a.Size(15817,24491),text:"US-Tabloid ({width} x {height})"},{size:new a.Size(47679,67408),text:"A0 ({width} x {height})"},{size:new a.Size(33676,47679),text:"A1 ({width} x {height})"},{size:new a.Size(23811,33676),text:"A2 ({width} x {height})"},{size:new a.Size(16838,23811),text:"A3 ({width} x {height})"},{size:new a.Size(11906,16838),text:"A4 ({width} x {height})"},{size:new a.Size(8391,11906),text:"A5 ({width} x {height})"},{size:new a.Size(5953,8391),text:"A6 ({width} x {height})"},{size:new a.Size(4195,5953),text:"A7 ({width} x {height})"}],this._viewUnits=s.DiagramUnit.In,this._connectorRoutingMode=o.AllShapesOnly,this._reloadInsertedItemRequired=!1,this._useCanvgForExportToImage=!0}return Object.defineProperty(t.prototype,"zoomLevel",{get:function(){return this._zoomLevel},set:function(e){var n=this;(e=t.correctZoomLevel(e))!==this._zoomLevel&&(this._zoomLevel=e,this._zoomLevelWasChanged=!0,this.onZoomChanged.raise1(function(t){return t.notifyZoomChanged(e,n._autoZoom)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zoomLevelWasChanged",{get:function(){return this._zoomLevelWasChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zoomLevelItems",{get:function(){return this._zoomLevelItems},set:function(e){(e=e.map(function(e){return t.correctZoomLevel(e)}))!==this._zoomLevelItems&&(this._zoomLevelItems=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoZoom",{get:function(){return this._autoZoom},set:function(t){var e=this;t!==this._autoZoom&&(this._autoZoom=t,this.onZoomChanged.raise1(function(n){return n.notifyZoomChanged(e._zoomLevel,t)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"simpleView",{get:function(){return this._simpleView},set:function(t){t!==this._simpleView&&(this._simpleView=t,this.notifyViewChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readOnly",{get:function(){return this._readOnly},set:function(t){t!==this._readOnly&&(this._readOnly=t,this.onReadOnlyChanged.raise1(function(e){return e.notifyReadOnlyChanged(t)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullscreen",{get:function(){return this._fullscreen},set:function(t){this._fullscreen=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"snapToGrid",{get:function(){return this._snapToGrid},set:function(t){this._snapToGrid=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showGrid",{get:function(){return this._showGrid},set:function(t){var e=this;t!==this._showGrid&&(this._showGrid=t,this.onViewChanged.raise1(function(t){return t.notifyGridChanged(e.showGrid,e.gridSize)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contextMenuEnabled",{get:function(){return this._contextMenuEnabled},set:function(t){this._contextMenuEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridSize",{get:function(){return this._gridSize},set:function(t){var e=this;t!==this._gridSize&&(this._gridSize=t,this.onViewChanged.raise1(function(t){return t.notifyGridChanged(e.showGrid,e.gridSize)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridSizeItems",{get:function(){return this._gridSizeItems},set:function(t){t!==this._gridSizeItems&&(this._gridSizeItems=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageSizeItems",{get:function(){return this._pageSizeItems},set:function(t){t!==this._pageSizeItems&&(this._pageSizeItems=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewUnits",{get:function(){return this._viewUnits},set:function(t){this._viewUnits=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connectorRoutingMode",{get:function(){return this._connectorRoutingMode},set:function(t){t!==this._connectorRoutingMode&&(this._connectorRoutingMode=t,this.onConnectorRoutingModeChanged.raise1(function(e){return e.notifyConnectorRoutingModeChanged(t)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"reloadInsertedItemRequired",{get:function(){return this._reloadInsertedItemRequired},set:function(t){this._reloadInsertedItemRequired=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useCanvgForExportToImage",{get:function(){return this._useCanvgForExportToImage},set:function(t){this._useCanvgForExportToImage=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shapeMinWidth",{get:function(){return this._shapeMinWidth},set:function(t){this._shapeMinWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shapeMinHeight",{get:function(){return this._shapeMinHeight},set:function(t){this._shapeMinHeight=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shapeMaxWidth",{get:function(){return this._shapeMaxWidth},set:function(t){this._shapeMaxWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shapeMaxHeight",{get:function(){return this._shapeMaxHeight},set:function(t){this._shapeMaxHeight=t},enumerable:!1,configurable:!0}),t.prototype.applyShapeSizeSettings=function(t,e){t&&("number"==typeof t.shapeMaxHeight&&(this.shapeMaxHeight=l.ModelUtils.getTwipsValue(e,t.shapeMaxHeight)),"number"==typeof t.shapeMinHeight&&(this.shapeMinHeight=l.ModelUtils.getTwipsValue(e,t.shapeMinHeight)),"number"==typeof t.shapeMaxWidth&&(this.shapeMaxWidth=l.ModelUtils.getTwipsValue(e,t.shapeMaxWidth)),"number"==typeof t.shapeMinWidth&&(this.shapeMinWidth=l.ModelUtils.getTwipsValue(e,t.shapeMinWidth)))},t.prototype.notifyViewChanged=function(){var t=this;this.onViewChanged.raise1(function(e){return e.notifyViewChanged(t._simpleView)})},t.correctZoomLevel=function(t){return Math.min(10,Math.max(t,.01))},t}();e.DiagramSettings=c,function(t){t[t.Disabled=0]="Disabled",t[t.FitContent=1]="FitContent",t[t.FitToWidth=2]="FitToWidth"}(i=e.AutoZoomMode||(e.AutoZoomMode={})),function(t){t[t.None=0]="None",t[t.ConnectorShapesOnly=1]="ConnectorShapesOnly",t[t.AllShapesOnly=2]="AllShapesOnly"}(o=e.ConnectorRoutingMode||(e.ConnectorRoutingMode={}))},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectorRenderPoint=void 0;var r=function(t){function e(e,n,i,o){void 0===i&&(i=-1),void 0===o&&(o=!1);var r=t.call(this,e,n)||this;return r.pointIndex=i,r.skipped=o,r}return o(e,t),e.prototype.offset=function(e,n){return t.prototype.offset.call(this,e,n),this.pointIndex=-1,this.skipped=!1,this},e.prototype.multiply=function(e,n){return t.prototype.multiply.call(this,e,n),this.pointIndex=-1,this.skipped=!1,this},e.prototype.clone=function(){return new e(this.x,this.y,this.pointIndex,this.skipped)},e}(n(0).Point);e.ConnectorRenderPoint=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeParameterPoint=void 0;var i=function(t,e){this.key=t,this.point=e};e.ShapeParameterPoint=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(105),o=function(){function t(){}return t.round=function(e,n){void 0===n&&(n=0);var i=t.powFactor[n];return Math.round(e*i)/i},t.numberCloseTo=function(t,e,n){return void 0===n&&(n=1e-5),Math.abs(t-e)<n},t.restrictValue=function(t,e,n){return n<e&&(n=e),t>n?n:t<e?e:t},t.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.generateGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},t.powFactor=i.ListUtils.initByCallback(20,function(t){return Math.pow(10,t)}),t.somePrimes=[1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003],t}();e.MathUtils=o},function(t,e,n){"use strict";var i,o;Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectorProperties=e.DEFAULT_CONNECTOR_ENDLINEENDING=e.DEFAULT_CONNECTOR_STARTLINEENDING=e.DEFAULT_CONNECTOR_LINEOPTION=e.ConnectorLineEnding=e.ConnectorLineOption=void 0,function(t){t[t.Straight=0]="Straight",t[t.Orthogonal=1]="Orthogonal"}(i=e.ConnectorLineOption||(e.ConnectorLineOption={})),function(t){t[t.None=0]="None",t[t.Arrow=1]="Arrow",t[t.OutlinedTriangle=2]="OutlinedTriangle",t[t.FilledTriangle=3]="FilledTriangle"}(o=e.ConnectorLineEnding||(e.ConnectorLineEnding={})),e.DEFAULT_CONNECTOR_LINEOPTION=i.Orthogonal,e.DEFAULT_CONNECTOR_STARTLINEENDING=o.None,e.DEFAULT_CONNECTOR_ENDLINEENDING=o.Arrow;var r=function(){function t(){this.lineOption=e.DEFAULT_CONNECTOR_LINEOPTION,this.startLineEnding=e.DEFAULT_CONNECTOR_STARTLINEENDING,this.endLineEnding=e.DEFAULT_CONNECTOR_ENDLINEENDING}return t.prototype.clone=function(){var e=new t;return e.lineOption=this.lineOption,e.startLineEnding=this.startLineEnding,e.endLineEnding=this.endLineEnding,e},t.prototype.forEach=function(t){for(var e in this)Object.prototype.hasOwnProperty.call(this,e)&&t(e)},t.prototype.toObject=function(){var t={},n=!1;return this.lineOption!==e.DEFAULT_CONNECTOR_LINEOPTION&&(t.lineOption=this.lineOption,n=!0),this.startLineEnding!==e.DEFAULT_CONNECTOR_STARTLINEENDING&&(t.startLineEnding=this.startLineEnding,n=!0),this.endLineEnding!==e.DEFAULT_CONNECTOR_ENDLINEENDING&&(t.endLineEnding=this.endLineEnding,n=!0),n?t:null},t.prototype.fromObject=function(t){"number"==typeof t.lineOption&&(this.lineOption=t.lineOption),"number"==typeof t.startLineEnding&&(this.startLineEnding=t.startLineEnding),"number"==typeof t.endLineEnding&&(this.endLineEnding=t.endLineEnding)},t}();e.ConnectorProperties=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(31),o=n(35),r=n(0),a=n(13),s=function(){function t(t,e){this.startPoint=t,this.endPoint=e}return Object.defineProperty(t.prototype,"length",{get:function(){return o.Metrics.euclideanDistance(this.startPoint,this.endPoint)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xLength",{get:function(){return Math.abs(this.endPoint.x-this.startPoint.x)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yLength",{get:function(){return Math.abs(this.endPoint.y-this.startPoint.y)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return new r.Point(this.startPoint.x+(this.endPoint.x-this.startPoint.x)/2,this.startPoint.y+(this.endPoint.y-this.startPoint.y)/2)},enumerable:!0,configurable:!0}),t.prototype.isIntersected=function(t){return this.startPoint.equals(t.startPoint)||this.endPoint.equals(t.startPoint)||this.startPoint.equals(t.endPoint)||this.endPoint.equals(t.endPoint)||this.intersectCore(t)&&t.intersectCore(this)},t.prototype.containsPoint=function(t,e){return void 0===e&&(e=1e-7),this.startPoint.equals(t)||this.endPoint.equals(t)||i.MathUtils.numberCloseTo(this.length,o.Metrics.euclideanDistance(this.startPoint,t)+o.Metrics.euclideanDistance(this.endPoint,t),e)},t.prototype.isIntersectedByRect=function(e){if(a.Rectangle.containsPoint(e,this.startPoint)||a.Rectangle.containsPoint(e,this.endPoint))return!0;var n=e.x,i=e.x+e.width,o=e.y,s=e.y+e.height;return this.isIntersected(new t(new r.Point(n,o),new r.Point(n,s)))||this.isIntersected(new t(new r.Point(i,o),new r.Point(i,s)))||this.isIntersected(new t(new r.Point(n,o),new r.Point(i,o)))||this.isIntersected(new t(new r.Point(n,s),new r.Point(i,s)))},t.prototype.intersectCore=function(t){if(this.startPoint.x===this.endPoint.x){if(this.startPoint.x-t.endPoint.x!=0)return(this.startPoint.x-t.startPoint.x)/(this.startPoint.x-t.endPoint.x)<=0;if(t.endPoint.y-this.endPoint.y!=0)return(t.endPoint.y-this.startPoint.y)/(t.endPoint.y-this.endPoint.y)<=0}if(this.startPoint.y===this.endPoint.y){if(this.startPoint.y-t.endPoint.y!=0)return(this.startPoint.y-t.startPoint.y)/(this.startPoint.y-t.endPoint.y)<=0;if(t.endPoint.x-this.endPoint.x!=0)return(t.endPoint.x-this.startPoint.x)/(t.endPoint.x-this.endPoint.x)<=0}var e=(this.endPoint.y-this.startPoint.y)/(this.endPoint.x-this.startPoint.x),n=this.startPoint.y+(t.startPoint.x-this.startPoint.x)*e,i=this.startPoint.y+(t.endPoint.x-this.startPoint.x)*e,o=t.startPoint.y-n,r=t.endPoint.y-i;return 0===o&&0===r?(this.startPoint.y-n)/(this.endPoint.y-n)<=0||(this.startPoint.y-i)/(this.endPoint.y-i)<=0:0===o||0===r||o/r<0},t}();e.Segment=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandlerDraggingState=void 0;var r=n(40),a=n(11),s=n(12),l=function(t){function e(e,n){var i=t.call(this,e)||this;return i.history=n,i}return o(e,t),e.prototype.canApplyChangesOnMouseMove=function(t,n){return!t||!n||Math.abs(t.x-n.x)>e.dragStartLimit||Math.abs(t.y-n.y)>e.dragStartLimit},e.prototype.onAfterApplyChanges=function(){this.modified||this.handler.raiseDragStart(this.getDraggingElementKeys()),this.modified=!0,this.mouseDownPoint=void 0},e.prototype.onMouseDown=function(t){this.mouseDownPoint=t.modelPoint.clone()},e.prototype.onMouseMove=function(t){this.mouseMoveEvent=t,t.button!==a.MouseButton.Left?(this.cancelChanges(),this.handler.switchToDefaultState()):t.button===a.MouseButton.Left&&this.canApplyChangesOnMouseMove(this.mouseDownPoint,t.modelPoint)&&(this.onApplyChanges(t),this.onAfterApplyChanges())},e.prototype.onKeyDown=function(t){!this.mouseMoveEvent||16!==t.keyCode&&17!==t.keyCode&&18!==t.keyCode||this.performMouseMoveEvent(t.modifiers)},e.prototype.onKeyUp=function(t){!this.mouseMoveEvent||16!==t.keyCode&&17!==t.keyCode&&18!==t.keyCode||this.performMouseMoveEvent(t.modifiers)},e.prototype.onMouseUp=function(t){this.mouseDownPoint=void 0,this.mouseMoveEvent=void 0,this.handler.switchToDefaultState()},e.prototype.performMouseMoveEvent=function(t){this.mouseMoveEvent.modifiers=t,this.onMouseMove(this.mouseMoveEvent)},e.prototype.start=function(){this.handler.beginStorePermissions(),this.history.beginTransaction()},e.prototype.finish=function(){this.checkStoredPermissionsOnFinish(),this.modified?(this.onFinishWithChanges(),this.modified=!1,this.history.endTransaction(),this.handler.raiseDragEnd(this.getDraggingElementKeys())):this.history.endTransaction(),this.handler.endStorePermissions(),this.handler.clearInteractingItems()},e.prototype.checkStoredPermissionsOnFinish=function(){this.handler.isStoredPermissionsGranted()||(this.cancelChanges(),this.modified=!1)},e.prototype.onFinishWithChanges=function(){},e.prototype.cancelChanges=function(){this.handler.lockPermissions(),this.history.undoTransaction(),this.handler.unlockPermissions(),this.modified&&this.handler.raiseDragEnd(this.getDraggingElementKeys()),this.modified=!1},e.prototype.getSnappedPoint=function(t,e){return this.handler.getSnappedPointOnDragPoint(t,e)},e.dragStartLimit=s.UnitConverter.pixelsToTwips(4),e}(r.MouseHandlerCancellableState);e.MouseHandlerDraggingState=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.euclideanDistance=function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},t.manhattanDistance=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},t}();e.Metrics=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagramLocalizationService=void 0;var i=n(1),o=n(47),r=function(){function t(){}return t.unitItems={},t.formatUnit=function(t){return t.toString()},t.shapeTexts={},t}();e.DiagramLocalizationService=r,r.unitItems[o.DiagramUnit.In]="in",r.unitItems[o.DiagramUnit.Cm]="cm",r.unitItems[o.DiagramUnit.Px]="px",r.shapeTexts[i.ShapeTypes.Text]="Text",r.shapeTexts[i.ShapeTypes.Rectangle]="Rectangle",r.shapeTexts[i.ShapeTypes.Ellipse]="Ellipse",r.shapeTexts[i.ShapeTypes.Cross]="Cross",r.shapeTexts[i.ShapeTypes.Triangle]="Triangle",r.shapeTexts[i.ShapeTypes.Diamond]="Diamond",r.shapeTexts[i.ShapeTypes.Heart]="Heart",r.shapeTexts[i.ShapeTypes.Pentagon]="Pentagon",r.shapeTexts[i.ShapeTypes.Hexagon]="Hexagon",r.shapeTexts[i.ShapeTypes.Octagon]="Octagon",r.shapeTexts[i.ShapeTypes.Star]="Star",r.shapeTexts[i.ShapeTypes.ArrowLeft]="Left Arrow",r.shapeTexts[i.ShapeTypes.ArrowUp]="Up Arrow",r.shapeTexts[i.ShapeTypes.ArrowRight]="Right Arrow",r.shapeTexts[i.ShapeTypes.ArrowDown]="Down Arrow",r.shapeTexts[i.ShapeTypes.ArrowUpDown]="Up Down Arrow",r.shapeTexts[i.ShapeTypes.ArrowLeftRight]="Left Right Arrow",r.shapeTexts[i.ShapeTypes.Process]="Process",r.shapeTexts[i.ShapeTypes.Decision]="Decision",r.shapeTexts[i.ShapeTypes.Terminator]="Terminator",r.shapeTexts[i.ShapeTypes.PredefinedProcess]="Predefined Process",r.shapeTexts[i.ShapeTypes.Document]="Document",r.shapeTexts[i.ShapeTypes.MultipleDocuments]="Multiple Documents",r.shapeTexts[i.ShapeTypes.ManualInput]="Manual Input",r.shapeTexts[i.ShapeTypes.Preparation]="Preparation",r.shapeTexts[i.ShapeTypes.Data]="Data",r.shapeTexts[i.ShapeTypes.Database]="Database",r.shapeTexts[i.ShapeTypes.HardDisk]="Hard Disk",r.shapeTexts[i.ShapeTypes.InternalStorage]="Internal Storage",r.shapeTexts[i.ShapeTypes.PaperTape]="Paper Tape",r.shapeTexts[i.ShapeTypes.ManualOperation]="Manual Operation",r.shapeTexts[i.ShapeTypes.Delay]="Delay",r.shapeTexts[i.ShapeTypes.StoredData]="Stored Data",r.shapeTexts[i.ShapeTypes.Display]="Display",r.shapeTexts[i.ShapeTypes.Merge]="Merge",r.shapeTexts[i.ShapeTypes.Connector]="Connector",r.shapeTexts[i.ShapeTypes.Or]="Or",r.shapeTexts[i.ShapeTypes.SummingJunction]="Summing Junction",r.shapeTexts[i.ShapeTypes.Container]="Container",r.shapeTexts[i.ShapeTypes.VerticalContainer]="Vertical Container",r.shapeTexts[i.ShapeTypes.HorizontalContainer]="Horizontal Container",r.shapeTexts[i.ShapeTypes.Card]="Person's Name",r.shapeTexts[i.ShapeTypes.CardWithImageOnLeft]="Card with Image on the Left",r.shapeTexts[i.ShapeTypes.CardWithImageOnTop]="Card with Image on the Top",r.shapeTexts[i.ShapeTypes.CardWithImageOnRight]="Card with Image on the Right"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeParameters=e.ShapeParameter=void 0;var i=function(t,e){this.key=t,this.value=e};e.ShapeParameter=i;var o=function(){function t(){this.items={}}return t.prototype.add=function(t){this.items[t.key]=t},t.prototype.addRange=function(t){for(var e=0;e<t.length;e++)this.add(t[e])},t.prototype.get=function(t){return this.items[t]},t.prototype.forEach=function(t){for(var e in this.items)Object.prototype.hasOwnProperty.call(this.items,e)&&t(this.items[e])},t.prototype.clone=function(){var e=new t;return this.forEach(function(t){e.add(new i(t.key,t.value))}),e},t.prototype.toObject=function(){var t={},e=!1;return this.forEach(function(n){t[n.key]={value:n.value},e=!0}),e?t:null},t.prototype.fromObject=function(t){this.forEach(function(e){var n=t[e.key];n&&"number"==typeof n.value&&(e.value=n.value)})},t}();e.ShapeParameters=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionMode=e.PositionInfo=e.Edge=void 0;var i=function(){function t(t,e,n,i){void 0===i&&(i=1),this.weight=i,this.key=t,this.from=e,this.to=n}return t.prototype.getHashKey=function(){return this.from+"_"+this.to},t.prototype.reverse=function(){return new t(this.key,this.to,this.from,this.weight)},t}();e.Edge=i;var o=function(t,e){this.item=t,this.position=e};e.PositionInfo=o,function(t){t[t.Outgoing=1]="Outgoing",t[t.Incoming=2]="Incoming",t[t.OutgoingAndIncoming=3]="OutgoingAndIncoming"}(e.ConnectionMode||(e.ConnectionMode={}))},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GroupPrimitive=void 0;var r=n(15),a=function(t){function e(e,n,i,o,r,a){var s=t.call(this,null,n,o,r)||this;return s.zIndex=i,s.onBeforeDispose=a,s.children=e,s}return o(e,t),e.prototype.createMainElement=function(){return document.createElementNS(r.svgNS,"g")},e.prototype.applyElementProperties=function(e,n){(this.zIndex||0===this.zIndex)&&e.style.setProperty("z-index",this.zIndex.toString()),t.prototype.applyElementProperties.call(this,e,n)},e.prototype.dispose=function(){this.onBeforeDispose&&this.onBeforeDispose(),t.prototype.dispose.call(this)},e}(n(24).SvgPrimitive);e.GroupPrimitive=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandlerCancellableState=e.MouseHandlerStateBase=void 0;var r=n(25),a=function(){function t(t){this.handler=t}return t.prototype.start=function(){},t.prototype.finish=function(){},t.prototype.onMouseClick=function(t){},t.prototype.onMouseDblClick=function(t){this.handler.switchToDefaultState()},t.prototype.onMouseDown=function(t){},t.prototype.onMouseUp=function(t){},t.prototype.onMouseMove=function(t){},t.prototype.onMouseWheel=function(t){return!1},t.prototype.onDragStart=function(t){},t.prototype.onDragEnd=function(t){},t.prototype.onShortcut=function(t){return!1},t.prototype.onKeyDown=function(t){},t.prototype.onKeyUp=function(t){},t.prototype.onConnectionPointsShow=function(t,e){},t.prototype.onConnectionTargetShow=function(t,e){},t}();e.MouseHandlerStateBase=a;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onShortcut=function(t){return t===r.KeyCode.Esc&&(this.cancelChanges(),this.handler.switchToDefaultState(),!0)},e}(a);e.MouseHandlerCancellableState=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.binaryIndexOf=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-2);var o=0===n;for(-2===i&&(i=t.length-1);n<=i;){var r=n+(i-n>>1),a=e(t[r]);if(a<0)n=r+1;else{if(!(a>0))return r;i=r-1}}return o?~n:-1},t.normedBinaryIndexOf=function(e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-2);var r=t.binaryIndexOf(e,n,i,o);return t.binaryIndexNormalizator(r)},t.binaryIndexNormalizator=function(t){return t<0?~t-1:t},t.normedInterpolationIndexOf=function(t,e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-2),-2===o&&(o=t.length-1);var r=t[Math.min(i,o)];if(void 0===r||n<e(r))return-1;for(var a=e(t[i]),s=e(t[o]);;){if(!(n>a&&n<s))return n===a?i:o;var l=i+Math.floor((n-a)*(o-i)/(s-a)),c=e(t[l]);if(n>c){if(n<(a=e(t[i=l+1])))return l}else{if(!(n<c))return l;s=e(t[o=l-1])}}},t}();e.SearchUtils=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasManagerBase=e.PAGE_BG_TEXTFLOOR_FILTER_ID=void 0;var i=n(172),o=n(12);e.PAGE_BG_TEXTFLOOR_FILTER_ID="page-text-flood";var r=function(){function t(t,e){this.elements={},this.actualZoom=t,this.dom=e}return t.prototype.createAndChangePrimitivesElements=function(t,e){var n=this;t.forEach(function(t){n.createAndChangePrimitiveElement(t,e)})},t.prototype.createPrimitiveElement=function(t,e,n){return this.dom.createElement(t,e,n)},t.prototype.createAndChangePrimitiveElement=function(t,e,n){var i=this.createPrimitiveElement(t,e,n);return this.dom.changeByPrimitive(i,t),i},t.prototype.changePrimitiveElement=function(t,e){this.dom.changeByPrimitive(e,t)},t.prototype.getOrCreateElement=function(t,e,n,i){var o=t&&this.elements[t]||(this.elements[t]=this.createPrimitiveElement(e,n,i));return this.changePrimitiveElement(e,o),o},t.prototype.createTextFloodFilter=function(t,n,o){this.getOrCreateElement(t,new i.TextFloodFilterPrimitive(e.PAGE_BG_TEXTFLOOR_FILTER_ID,o),n)},t.prototype.getAbsoluteSize=function(t){return t.clone().applyConverter(o.UnitConverter.twipsToPixelsF).clone().multiply(this.actualZoom,this.actualZoom)},t}();e.CanvasManagerBase=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextOwner=void 0,function(t){t[t.Shape=0]="Shape",t[t.Connector=1]="Connector",t[t.ExtensionLine=2]="ExtensionLine",t[t.Resize=3]="Resize"}(e.TextOwner||(e.TextOwner={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Data=e.SetAbsoluteY=e.SetAbsoluteX=void 0;var i=n(27),o=n(50);function r(t){return!isNaN(parseFloat(t))&&isFinite(t)}function a(t,e,n){return t-=function(t,e){var n=function(t){var e=document.createElement("DIV");return e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.position=i.DomUtils.getCurrentStyle(t).position,e}(t);"static"===n.style.position&&(n.style.position="absolute"),t.parentNode.appendChild(n);var o=e?i.DomUtils.getAbsolutePositionX(n):i.DomUtils.getAbsolutePositionY(n);return t.parentNode.removeChild(n),Math.round(o)}(e,n)}e.SetAbsoluteX=function(t,e){t.style.left=a(e,t,!0)+"px"},e.SetAbsoluteY=function(t,e){t.style.top=a(e,t,!1)+"px"};var s=function(){function t(){}return t.ArrayInsert=function(t,e,n){if(0<=n&&n<t.length){for(var i=t.length;i>n;i--)t[i]=t[i-1];t[n]=e}else t.push(e)},t.ArrayRemove=function(e,n){var i=t.ArrayIndexOf(e,n);i>-1&&t.ArrayRemoveAt(e,i)},t.ArrayRemoveAt=function(t,e){if(e>=0&&e<t.length){for(var n=e;n<t.length-1;n++)t[n]=t[n+1];t.pop()}},t.ArrayClear=function(t){for(;t.length>0;)t.pop()},t.ArrayIndexOf=function(t,e,n){if(n){for(i=0;i<t.length;i++)if(n(t[i],e))return i}else for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},t.ArrayContains=function(e,n){return t.ArrayIndexOf(e,n)>=0},t.ArrayEqual=function(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0},t.ArraySame=function(e,n){return e.length===n.length&&e.every(function(e){return t.ArrayContains(n,e)})},t.ArrayGetIntegerEdgeValues=function(e){var n=t.CollectionToArray(e);return t.ArrayIntegerAscendingSort(n),{start:n[0],end:n[n.length-1]}},t.ArrayIntegerAscendingSort=function(e){t.ArrayIntegerSort(e,!1)},t.ArrayIntegerSort=function(t,e){t.sort(function(t,n){var i=0;return t>n?i=1:t<n&&(i=-1),e&&(i*=-1),i})},t.CollectionsUnionToArray=function(t,e){for(var n=[],i=t.length,o=e.length,r=0;r<i+o;r++)r<i?n.push(t[r]):n.push(e[r-i]);return n},t.CollectionToArray=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e},t.CreateHashTableFromArray=function(t){for(var e=[],n=0;n<t.length;n++)e[t[n]]=1;return e},t.CreateIndexHashTableFromArray=function(t){for(var e=[],n=0;n<t.length;n++)e[t[n]]=n;return e},t.ArrayToHash=function(t,e,n){return t instanceof Array?t.reduce(function(t,i,o){var r=e(i,o),a=n(i,o);return t[r]=a,t},{}):{}},t.Sum=function(t,e){return t instanceof Array?t.reduce(function(t,n){var i=e?e(n):n;return r(i)||(i=0),t+i},0):0},t.Min=function(e,n){return t.CalculateArrayMinMax(e,n,!1)},t.Max=function(e,n){return t.CalculateArrayMinMax(e,n,!0)},t.NearestLeftBinarySearchComparer=function(t,e,n){var i=t[e],o=i<n;return o&&e===t.length-1||o&&t[e+1]>=n?0:i<n?-1:1},t.ArrayBinarySearch=function(e,n,i,r,a){i||(i=t.defaultBinarySearchComparer),o.isDefined(r)||(r=0),o.isDefined(a)||(a=e.length-r);for(var s=r+a-1;r<=s;){var l=r+(s-r>>1),c=i(e,l,n);if(0===c)return l;c<0?r=l+1:s=l-1}return-(r+1)},t.ArrayFlatten=function(t){var e=[];return t.forEach(function(t){e=e.concat(t)}),e},t.GetDistinctArray=function(e){for(var n=[],i=0;i<e.length;i++){var o=e[i];-1===t.ArrayIndexOf(n,o)&&n.push(o)}return n},t.ForEach=function(t,e){if(Array.prototype.forEach)Array.prototype.forEach.call(t,e);else for(var n=0,i=t.length;n<i;n++)e(t[n],n,t)},t.MergeHashTables=function(t,e){if(!e||"string"==typeof e)return t;for(var n in t||(t={}),e)!n||n in t||(t[n]=e[n]);return t},t.Range=function(t,e){return(t=parseInt(t)||0)<0&&(t=0),(e=parseInt(e)||0)<0&&(e=0),Array(t).map(function(t,n){return e+n})},t.CalculateArrayMinMax=function(t,e,n){if(!(t instanceof Array))return 0;var i=n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY;return t.reduce(function(t,o){var a=e?e(o):o;return r(a)||(a=i),(n?Math.max:Math.min)(a,t)},i)},t.byRange=function(t,e,n){return Math.min(Math.max(t,e),n)},t.defaultBinarySearchComparer=function(t,e,n){var i=t[e];return i===n?0:i<n?-1:1},t.cssTextToObject=function(t){return t?(t=t.replace(/\/\*(.|\s)*?\*\//g,"").replace(/\s+/g," ")).split(";").reduce(function(t,e){if(e){var n=/\s*([^:]+?)\s*:\s*([^;]*)\s*$/.exec(e);if(n){var i=n[1],o=n[2];i&&o&&(t[i.trim()]=o.trim())}return t}return t},{}):{}},t.objectToCssText=function(t){return t?Object.keys(t).reduce(function(e,n){var i=n.trim(),o=t[n];return i&&o&&e.push(i+": "+o.toString().trim()),e},[]).join("; "):""},t}();e.Data=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionPoint=void 0;var r=n(0),a=n(9),s=function(t){function e(e,n,i){void 0===i&&(i=a.ConnectionPointSide.Undefined);var o=t.call(this,e,n)||this;return o.side=i,o}return o(e,t),e.prototype.offset=function(e,n){return t.prototype.offset.call(this,e,n),this.side=a.ConnectionPointSide.Undefined,this},e.prototype.multiply=function(e,n){return t.prototype.multiply.call(this,e,n),this.side=a.ConnectionPointSide.Undefined,this},e.prototype.clone=function(){return new e(this.x,this.y,this.side)},e.prototype.toPoint=function(){return new r.Point(this.x,this.y)},e}(r.Point);e.ConnectionPoint=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageCache=e.CacheImageInfo=void 0;var i=n(83),o=n(51),r=n(3),a=function(){function t(t,e,n,o,r){this._base64=void 0!==t?i.Base64Utils.normalizeToDataUrl(t,"image/png"):void 0,this.actualId=e,this._referenceInfo=o,this._isLoaded=void 0!==r&&r,this.imageUrl=n}return Object.defineProperty(t.prototype,"isLoaded",{get:function(){return this._referenceInfo?this._referenceInfo._isLoaded:this._isLoaded},set:function(t){this._isLoaded=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"base64",{get:function(){return this._base64},set:function(t){this._base64=i.Base64Utils.normalizeToDataUrl(t,"image/png")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"referenceInfo",{get:function(){return this._referenceInfo},set:function(t){this._referenceInfo=t,this._base64=void 0,this._isLoaded=void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._referenceInfo?this.referenceInfo._isLoading:this._isLoading},enumerable:!1,configurable:!0}),t.prototype.startLoading=function(){this._referenceInfo?this._referenceInfo.startLoading():this._isLoading=!0},t.prototype.finalizeLoading=function(){this._referenceInfo?this._referenceInfo.finalizeLoading():this._isLoading=!1},t}();e.CacheImageInfo=a;var s=function(){function t(){this.emptyImageId=0,this.lastActualId=0,this.onReadyStateChanged=new r.EventDispatcher,this.cache=[],this.nonLoadedImages=[],this.createUnloadedInfoByBase64(o.ImageInfo.transparentOnePixelImage).isLoaded=!0}return t.prototype.reset=function(){this.cache.splice(1),this.nonLoadedImages=[],this.lastActualId=1},Object.defineProperty(t.prototype,"emptyImage",{get:function(){return this.cache[this.emptyImageId]},enumerable:!1,configurable:!0}),t.prototype.getImageData=function(t){return this.cache[t]},t.prototype.createUnloadedInfoByUrl=function(t){var e=this.findInfoByUrl(t);return e||this.registerImageData(new a(void 0,this.getNextActualId(),t))},t.prototype.createUnloadedInfoByBase64=function(t){var e=this.findInfoByBase64(t);return e||this.registerImageData(new a(t,this.getNextActualId()))},t.prototype.createUnloadedInfoByShapeImageInfo=function(t){var e=t.exportUrl;return i.Base64Utils.checkPrependDataUrl(e)?this.createUnloadedInfoByBase64(e):this.createUnloadedInfoByUrl(e)},t.prototype.registerImageData=function(t){var e=this.cache[t.actualId];return e||(e=t),void 0!==t.actualId&&(this.cache[t.actualId]=e),0!==t.actualId&&(this.nonLoadedImages.push(t),1===this.nonLoadedImages.length&&this.raiseReadyStateChanged(!1)),e},t.prototype.loadAllImages=function(t){var e=this;this.cache.forEach(function(n){e.emptyImageId===n.actualId||n.isLoaded||n.isLoading||t.load(n)})},t.prototype.finalizeLoading=function(t,e){t.finalizeLoading(),t.isLoaded=!0;var n=this.nonLoadedImages.indexOf(t);if(this.nonLoadedImages.splice(n,1),0===this.nonLoadedImages.length&&this.raiseReadyStateChanged(!0),!t.referenceInfo&&e.base64){var o=i.Base64Utils.normalizeToDataUrl(e.base64,"image/png");this.cache.forEach(function(e){var n=e.base64===o&&e!==t&&e.isLoaded;return n&&(t.referenceInfo=e.referenceInfo?e.referenceInfo:e),n}),t.base64=o}},t.prototype.hasNonLoadedImages=function(){return 0!==this.nonLoadedImages.length},t.prototype.getNextActualId=function(){return this.lastActualId++},t.prototype.findInfoByBase64=function(t){return t=i.Base64Utils.normalizeToDataUrl(t,"image/png"),this.findInfoCore(function(e){return e.base64===t})},t.prototype.findInfoByUrl=function(t){return this.findInfoCore(function(e){return e.imageUrl===t})},t.prototype.findInfoCore=function(t){var e;return this.cache.forEach(function(n){t(n)&&(e=n)}),e},t.prototype.raiseReadyStateChanged=function(t){this.onReadyStateChanged.raise1(function(e){return e.notifyImageCacheReadyStateChanged(t)})},t.instance=new t,t}();e.ImageCache=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PageOrientation=e.DiagramUnit=void 0,function(t){t[t.In=0]="In",t[t.Cm=1]="Cm",t[t.Px=2]="Px"}(e.DiagramUnit||(e.DiagramUnit={})),function(t){t[t.Portrait=0]="Portrait",t[t.Landscape=1]="Landscape"}(e.PageOrientation||(e.PageOrientation={}))},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SetConnectionPointIndexHistoryItem=e.AddConnectionHistoryItem=void 0;var r=n(8),a=n(6),s=function(t){function e(e,n,i,o){var r=t.call(this)||this;return r.connectorKey=e.key,r.itemKey=n.key,r.connectionPointIndex=i,r.position=o,r}return o(e,t),e.prototype.redo=function(t){var e=t.model.findConnector(this.connectorKey),n=t.model.findItem(this.itemKey);t.addConnection(e,n,this.connectionPointIndex,this.position)},e.prototype.undo=function(t){var e=t.model.findConnector(this.connectorKey);t.deleteConnection(e,this.position)},e}(r.HistoryItem);e.AddConnectionHistoryItem=s;var l=function(t){function e(e,n,i){var o=t.call(this)||this;return o.connectorKey=e.key,o.connectionPointIndex=n,o.position=i,o}return o(e,t),e.prototype.redo=function(t){var e=t.model.findConnector(this.connectorKey);this.oldConnectionPointIndex=this.position===a.ConnectorPosition.Begin?e.beginConnectionPointIndex:e.endConnectionPointIndex,t.setConnectionPointIndex(e,this.connectionPointIndex,this.position)},e.prototype.undo=function(t){var e=t.model.findConnector(this.connectorKey);t.setConnectionPointIndex(e,this.oldConnectionPointIndex,this.position)},e}(r.HistoryItem);e.SetConnectionPointIndexHistoryItem=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.isAlpha=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"},t.isDigit=function(t){return t>="0"&&t<="9"},t.stringHashCode=function(t){var e=0;if(0===t.length)return e;for(var n=t.length,i=0;i<n;i++)e=(e<<5)-e+t.charCodeAt(i),e|=0;return e},t.endsAt=function(t,e){var n=t.length-1,i=e.length-1,o=n-i;if(o<0)return!1;for(;n>=o;n--,i--)if(t[n]!==e[i])return!1;return!0},t.startsAt=function(t,e){return t.substr(0,e.length)===e},t.stringInLowerCase=function(t){return t.toLowerCase()===t},t.stringInUpperCase=function(t){return t.toUpperCase()===t},t.atLeastOneSymbolInUpperCase=function(e){for(var n=0,i=void 0;i=e[n];n++)if(t.stringInUpperCase(i)&&!t.stringInLowerCase(i))return!0;return!1},t.getSymbolFromEnd=function(t,e){return t[t.length-e]},t.trim=function(e,n){if(void 0===n)return t.trimInternal(e,!0,!0);var i=n.join("");return e.replace(new RegExp("(^["+i+"]*)|(["+i+"]*$)","g"),"")},t.trimStart=function(e,n){if(void 0===n)return t.trimInternal(e,!0,!1);var i=n.join("");return e.replace(new RegExp("^["+i+"]*","g"),"")},t.trimEnd=function(e,n){if(void 0===n)return t.trimInternal(e,!1,!0);var i=n.join("");return e.replace(new RegExp("["+i+"]*$","g"),"")},t.getDecimalSeparator=function(){return 1.1.toLocaleString().substr(1,1)},t.repeat=function(t,e){return new Array(e<=0?0:e+1).join(t)},t.isNullOrEmpty=function(t){return!t||!t.length},t.padLeft=function(e,n,i){return t.repeat(i,Math.max(0,n-e.length))+e},t.trimInternal=function(t,e,n){var i=t.length;if(!i)return t;if(i<764833){var o=t;return e&&(o=o.replace(/^\s+/,"")),n&&(o=o.replace(/\s+$/,"")),o}var r=0;if(n)for(;i>0&&/\s/.test(t[i-1]);)i--;if(e&&i>0)for(;r<i&&/\s/.test(t[r]);)r++;return t.substring(r,i)},t}();e.StringUtils=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(49);e.isDefined=function(t){return null!=t},e.boolToInt=function(t){return t?1:0},e.boolToString=function(t){return t?"1":"0"},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isNonNullString=function(t){return!!t},e.isEven=function(t){return t%2!=0},e.isOdd=function(t){return t%2==0},e.numberToStringBin=function(t,e){return void 0===e&&(e=0),i.StringUtils.padLeft(t.toString(2),e,"0")},e.numberToStringHex=function(t,e){return void 0===e&&(e=0),i.StringUtils.padLeft(t.toString(16),e,"0")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageInfo=void 0;var i=n(83),o=function(){function t(t){this.url=void 0,this.base64=void 0,t&&(i.Base64Utils.checkPrependDataUrl(t)?this.base64=t:this.url=t),this.loadFailed=!1}return t.prototype.clone=function(){var e=new t;return e.url=this.url,e.base64=this.base64,e},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return void 0===this.url&&void 0===this.base64},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unableToLoad",{get:function(){return this.loadFailed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderUrl",{get:function(){return this.base64||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exportUrl",{get:function(){return this.base64?this.base64:this.url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actualUrl",{get:function(){return this.url?this.url:this.base64},enumerable:!1,configurable:!0}),Object.defineProperty(t,"transparentOnePixelImage",{get:function(){return this.transparentWhiteImage1_1},enumerable:!1,configurable:!0}),t.prototype.loadBase64Content=function(t){this.base64=i.Base64Utils.normalizeToDataUrl(t,"image/png")},t.prototype.setUnableToLoadFlag=function(){this.loadFailed=!0},t.transparentWhiteImage1_1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAANSURBVBhXY/j///9/AAn7A/0FQ0XKAAAAAElFTkSuQmCC",t}();e.ImageInfo=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectorPointsOrthogonalSideCalculatorBase=void 0;var i=n(13),o=n(9),r=n(6),a=function(){function t(t){this.parent=t}return Object.defineProperty(t.prototype,"connector",{get:function(){return this.parent.connector},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"beginRect",{get:function(){return this.parent.beginRect},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endRect",{get:function(){return this.parent.endRect},enumerable:!1,configurable:!0}),t.prototype.getBeginOffsetPoints=function(t,e,n,i){if(e=this.getCorrectOriginPoint(e,i),t!==o.ConnectionPointSide.Undefined){if(this.isBeginEndSame())return this.getSameShapeOffsetPoints(t,e,n,i);if(this.isBeginEndOverlappedPoints(e,n))return this.getOverlappedPointsOffsetPoints(t,e,n,i);if(this.isBeginEndOverlapped())return this.getBeginOverlappedShapeOffsetPoints(t,e,n,i)}else if(this.isOriginRectContainsTargetPoint(i,n))return this.getOverlappedPointsOffsetPoints(t,e,n,i);return this.isOnSidePoint(e,n)?this.getBeginOnSideOffsetPoints(t,e,n,i):this.getBeginOffSideOffsetPoints(t,e,n,i)},t.prototype.getEndOffsetPoints=function(t,e,n,i){if(e=this.getCorrectOriginPoint(e,i),t!==o.ConnectionPointSide.Undefined){if(this.isBeginEndSame())return this.getSameShapeOffsetPoints(t,e,n,i);if(this.isBeginEndOverlappedPoints(n,e))return this.getOverlappedPointsOffsetPoints(t,e,n,i);if(this.isBeginEndOverlapped())return this.getEndOverlappedShapeOffsetPoints(t,e,n,i)}else if(this.isOriginRectContainsTargetPoint(i,n))return this.getOverlappedPointsOffsetPoints(t,e,n,i);return this.isOnSidePoint(e,n)?this.getEndOnSideOffsetPoints(t,e,n,i):this.getEndOffSideOffsetPoints(t,e,n,i)},t.prototype.getSide=function(t,e){return Math.abs(e.x-t.x)>Math.abs(e.y-t.y)?e.x>t.x?o.ConnectionPointSide.East:o.ConnectionPointSide.West:e.y>t.y?o.ConnectionPointSide.South:o.ConnectionPointSide.North},t.prototype.getSideCalculator=function(t,e){return this.parent.getSideCalculator(this.getSide(t,e))},t.prototype.getMinOffset=function(){return r.Connector.minOffset},t.prototype.isBeginEndSame=function(){return this.connector.beginItem===this.connector.endItem},t.prototype.isBeginEndOverlapped=function(){return this.beginRect&&this.endRect&&i.Rectangle.areIntersected(this.beginRect,this.endRect)},t.prototype.isBeginEndOverlappedX=function(){return this.beginRect&&this.endRect&&!!i.Rectangle.getHorizIntersection(this.beginRect,this.endRect)},t.prototype.isBeginEndOverlappedY=function(){return this.beginRect&&this.endRect&&!!i.Rectangle.getVertIntersection(this.beginRect,this.endRect)},t.prototype.isBeginEndOverlappedPoints=function(t,e){return this.beginRect&&this.endRect&&(this.beginRect.containsPoint(e)||this.endRect.containsPoint(t))},t.prototype.isOriginRectContainsTargetPoint=function(t,e){return t&&e&&t.containsPoint(e)},t}();e.ConnectorPointsOrthogonalSideCalculatorBase=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AddShapeHistoryItem=void 0;var r=n(8),a=n(14),s=function(t){function e(e,n,i,o){var r=t.call(this)||this;return r.shapeDescription=e,r.position=n,r.text=i,r.dataKey=o,r}return o(e,t),e.prototype.redo=function(t){var e=new a.Shape(this.shapeDescription,this.position);"string"==typeof this.text&&(e.text=this.text),void 0!==this.dataKey&&(e.dataKey=this.dataKey),t.addShape(e,this.shapeKey),this.shapeKey=e.key},e.prototype.undo=function(t){t.deleteShape(t.model.findShape(this.shapeKey),!0)},e}(r.HistoryItem);e.AddShapeHistoryItem=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GraphIterator=e.FastGraph=e.Graph=void 0;var r=n(38),a=n(14),s=n(41),l=n(90),c=function(){function t(t,e){this.nodeMap={},this.edgeMap={},this.nodes=[],this.edges=[],this.onInit(),t.forEach(this.addNode.bind(this)),e.forEach(this.addEdge.bind(this))}return Object.defineProperty(t.prototype,"items",{get:function(){return this.nodes.map(this.getNode.bind(this))},enumerable:!1,configurable:!0}),t.prototype.onInit=function(){},t.prototype.addEdge=function(t){this.edgeMap[t.key]=t,this.edges.push(t)},t.prototype.addNode=function(t){this.nodeMap[t.key]=t,this.nodes.push(t.key)},t.prototype.getNode=function(t){return this.nodeMap[t]},t.prototype.getEdge=function(t){return this.edgeMap[t]},t.prototype.isEmpty=function(){return!this.nodes.length&&!this.edges.length},t.prototype.getAdjacentEdges=function(t,e){return void 0===e&&(e=r.ConnectionMode.OutgoingAndIncoming),this.edges.filter(function(n){return e&r.ConnectionMode.Incoming&&n.to===t||e&r.ConnectionMode.Outgoing&&n.from===t})},t}(),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.cast=function(t,n){var i=this;return new e(this.nodes.map(function(e){return t(i.getNode(e))}),this.edges.map(function(t){return n?n(t):t}))},e.prototype.getConnectedComponents=function(){var t=this.createIterator(r.ConnectionMode.OutgoingAndIncoming);t.visitEachEdgeOnce=!0;for(var n=[],i=function(i){var r=[],a=[];t.onNode=function(t){return r.push(t)},t.onEdge=function(t){return a.push(t)},t.iterate(o.nodes[i]),r.length&&n.push(new e(r,a))},o=this,a=0;a<this.nodes.length;a++)i(a);return n},e.prototype.createIterator=function(t){var e=new d(this,t);return e.comparer=function(t,e){return t.weight-e.weight},e},e.prototype.getSpanningGraph=function(t,n,i){var o=this;if(void 0===i&&(i=void 0),!this.nodes.length)return new e([],[]);i||(i=function(t){return t.weight});var r=[],a=new l.HashSet,s=new l.HashSet([],function(t){return t.getHashKey()});for(this.addNodeToSpanningGraph(t,n,r,a,s,i);r.length&&a.length!==this.nodes.length;){var c=r.shift();s.tryPush(c);var u=a.contains(c.from)?c.to:c.from;this.addNodeToSpanningGraph(u,n,r,a,s,i),r=r.filter(function(t){return!a.contains(t.from)||!a.contains(t.to)})}return new e(a.list().map(function(t){return o.getNode(t)}),s.list())},e.prototype.addNodeToSpanningGraph=function(t,e,n,i,o,a){i.tryPush(t),this.getAdjacentEdges(t,e).filter(function(t){return!o.contains(t)}).forEach(function(t){var e=a(t),i=s.SearchUtils.binaryIndexOf(n,function(t){return t.weight-e});for(i=i<0?~i:i;i<n.length&&a(n[i])===e;)i++;n.splice(i,0,new r.Edge(t.key,t.from,t.to,e))})},e.create=function(t,n){return new e(t,n.filter(function(t){return t.beginItem&&t.endItem instanceof a.Shape&&t.endItem&&t.endItem instanceof a.Shape&&t.beginItem!==t.endItem}).map(function(t){return new r.Edge(t.key,t.beginItem&&t.beginItem.key,t.endItem&&t.endItem.key)}))},e}(c);e.Graph=u;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onInit=function(){this.parentToChildren={},this.childToParents={}},e.prototype.addEdge=function(e){t.prototype.addEdge.call(this,e),(this.parentToChildren[e.from]||(this.parentToChildren[e.from]=[])).push(e.to),(this.childToParents[e.to]||(this.childToParents[e.to]=[])).push(e.from)},e.prototype.getChildren=function(t){return this.parentToChildren[t]||[]},e.prototype.getParents=function(t){return this.childToParents[t]||[]},e.prototype.createIterator=function(t){return new d(this,t)},e}(c);e.FastGraph=h;var d=function(){function t(t,e){void 0===e&&(e=r.ConnectionMode.OutgoingAndIncoming),this.graph=t,this.connectionMode=e,this.visitEachEdgeOnce=!0,this.visitEachNodeOnce=!0,this.visitedNodes={},this.visitedEdges={}}return t.prototype.iterate=function(t){if(!this.visitEachNodeOnce&&!this.visitEachEdgeOnce&&!this.skipNode)throw"skipNode or visitEachNodeOnce or visitEachEdgeOnce must be set to avoid SOF";this.iterateCore(t)},t.prototype.iterateCore=function(t){var e=this,n=this.graph.getNode(t);if(!(!n||this.skipNode&&this.skipNode(n)||this.visitEachNodeOnce&&this.isNodeVisited(t))){this.visitedNodes[t]=!0,this.onNode&&this.onNode(n);var i=this.graph.getAdjacentEdges(t,this.connectionMode);if(this.skipEdge&&(i=i.filter(function(t){return!e.skipEdge(t)})),this.connectionMode&r.ConnectionMode.Outgoing){var o=i.filter(function(e){return e.from===t});this.comparer&&o.sort(this.comparer),o.forEach(function(t){e.visitEachEdgeOnce&&e.visitedEdges[t.key]||(e.visitedEdges[t.key]=!0,e.onEdge&&e.onEdge(t,!0),e.iterateCore(t.to),e.onAfterEdge&&e.onAfterEdge(t,!0))})}if(this.onAllEdges&&this.onAllEdges(n,!0),this.connectionMode&r.ConnectionMode.Incoming){var a=i.filter(function(e){return e.to===t});this.comparer&&a.sort(this.comparer),a.forEach(function(t){e.visitEachEdgeOnce&&e.visitedEdges[t.key]||(e.visitedEdges[t.key]=!0,e.onEdge&&e.onEdge(t,!1),e.iterateCore(t.from),e.onAfterEdge&&e.onAfterEdge(t,!1))})}this.onAllEdges&&this.onAllEdges(n,!1)}},t.prototype.isNodeVisited=function(t){return!!this.visitedNodes[t]},t.prototype.isEdgeVisited=function(t){return!!this.visitedEdges[t]},t}();e.GraphIterator=d},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.EllipsePrimitive=void 0;var r=n(15),a=function(t){function e(e,n,i,o,r,a,s){var l=t.call(this,r,a,void 0,s)||this;return l.cx=e,l.cy=n,l.rx=i,l.ry=o,l}return o(e,t),e.prototype.createMainElement=function(){return document.createElementNS(r.svgNS,"ellipse")},e.prototype.applyElementProperties=function(e,n){this.setUnitAttribute(e,"cx",this.cx),this.setUnitAttribute(e,"cy",this.cy),this.setUnitAttribute(e,"rx",this.rx),this.setUnitAttribute(e,"ry",this.ry),this.setPositionCorrectionAttribute(e),t.prototype.applyElementProperties.call(this,e,n)},e}(n(24).SvgPrimitive);e.EllipsePrimitive=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ClipPathPrimitive=void 0;var r=n(15),a=function(t){function e(e,n){var i=t.call(this)||this;return i.id=e,i.children=n,i}return o(e,t),e.prototype.createMainElement=function(){var t=document.createElementNS(r.svgNS,"clipPath");return t.setAttribute("id",this.id),t},e.prototype.applyElementProperties=function(e,n){this.id&&e.setAttribute("id",this.id),t.prototype.applyElementProperties.call(this,e,n)},e}(n(24).SvgPrimitive);e.ClipPathPrimitive=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ExportImportCommandBase=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabledInReadOnlyMode=function(){return!0},e}(n(10).SimpleCommandBase);e.ExportImportCommandBase=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagramModelOperation=e.Diagnostics=e.RenderHelper=e.DiagramLocalizationService=e.NativeConnector=e.NativeShape=e.ShapeType=e.ColorUtils=e.PageOrientation=e.ConnectorPosition=e.ConnectorLineOption=e.ConnectorLineEnding=e.AutoZoomMode=e.Browser=e.UnitConverter=e.EventDispatcher=e.DataLayoutOrientation=e.DataLayoutType=e.ShapeCategories=e.ShapeTypes=e.DiagramUnit=e.default=e.DiagramControl=e.DiagramCommand=e.Point=e.Size=void 0;var i=n(82);Object.defineProperty(e,"DiagramCommand",{enumerable:!0,get:function(){return i.DiagramCommand}});var o=n(301);Object.defineProperty(e,"DiagramControl",{enumerable:!0,get:function(){return o.DiagramControl}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o.DiagramControl}});var r=n(2);Object.defineProperty(e,"Size",{enumerable:!0,get:function(){return r.Size}});var a=n(0);Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return a.Point}});var s=n(3);Object.defineProperty(e,"EventDispatcher",{enumerable:!0,get:function(){return s.EventDispatcher}});var l=n(1);Object.defineProperty(e,"ShapeTypes",{enumerable:!0,get:function(){return l.ShapeTypes}}),Object.defineProperty(e,"ShapeCategories",{enumerable:!0,get:function(){return l.ShapeCategories}}),Object.defineProperty(e,"ShapeType",{enumerable:!0,get:function(){return l.ShapeType}});var c=n(12);Object.defineProperty(e,"UnitConverter",{enumerable:!0,get:function(){return c.UnitConverter}});var u=n(18);Object.defineProperty(e,"Browser",{enumerable:!0,get:function(){return u.Browser}});var h=n(28);Object.defineProperty(e,"AutoZoomMode",{enumerable:!0,get:function(){return h.AutoZoomMode}});var d=n(103);Object.defineProperty(e,"DataLayoutType",{enumerable:!0,get:function(){return d.DataLayoutType}});var p=n(20);Object.defineProperty(e,"DataLayoutOrientation",{enumerable:!0,get:function(){return p.DataLayoutOrientation}}),n(380);var f=n(32);Object.defineProperty(e,"ConnectorLineEnding",{enumerable:!0,get:function(){return f.ConnectorLineEnding}}),Object.defineProperty(e,"ConnectorLineOption",{enumerable:!0,get:function(){return f.ConnectorLineOption}});var m=n(22);Object.defineProperty(e,"ColorUtils",{enumerable:!0,get:function(){return m.ColorUtils}});var g=n(61);Object.defineProperty(e,"Diagnostics",{enumerable:!0,get:function(){return g.Diagnostics}});var v=n(84);Object.defineProperty(e,"NativeShape",{enumerable:!0,get:function(){return v.NativeShape}}),Object.defineProperty(e,"NativeConnector",{enumerable:!0,get:function(){return v.NativeConnector}});var y=n(36);Object.defineProperty(e,"DiagramLocalizationService",{enumerable:!0,get:function(){return y.DiagramLocalizationService}});var _=n(15);Object.defineProperty(e,"RenderHelper",{enumerable:!0,get:function(){return _.RenderHelper}});var b=n(47);Object.defineProperty(e,"DiagramUnit",{enumerable:!0,get:function(){return b.DiagramUnit}}),Object.defineProperty(e,"PageOrientation",{enumerable:!0,get:function(){return b.PageOrientation}});var C=n(16);Object.defineProperty(e,"DiagramModelOperation",{enumerable:!0,get:function(){return C.DiagramModelOperation}});var O=n(6);Object.defineProperty(e,"ConnectorPosition",{enumerable:!0,get:function(){return O.ConnectorPosition}})},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return o}),n.d(e,"__assign",function(){return r}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return l}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return u}),n.d(e,"__generator",function(){return h}),n.d(e,"__createBinding",function(){return d}),n.d(e,"__exportStar",function(){return p}),n.d(e,"__values",function(){return f}),n.d(e,"__read",function(){return m}),n.d(e,"__spread",function(){return g}),n.d(e,"__spreadArrays",function(){return v}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return _}),n.d(e,"__asyncDelegator",function(){return b}),n.d(e,"__asyncValues",function(){return C}),n.d(e,"__makeTemplateObject",function(){return O}),n.d(e,"__importStar",function(){return S}),n.d(e,"__importDefault",function(){return w}),n.d(e,"__classPrivateFieldGet",function(){return P}),n.d(e,"__classPrivateFieldSet",function(){return k});var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var r=function(){return(r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}function s(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a}function l(t,e){return function(n,i){e(n,i,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,i){return new(n||(n=Promise))(function(o,r){function a(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((i=i.apply(t,e||[])).next())})}function h(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}var d=Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]};function p(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||d(e,t,n)}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(m(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)i[o]=r[a];return i}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function _(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,o=n.apply(t,e||[]),r=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(t){o[t]&&(i[t]=function(e){return new Promise(function(n,i){r.push([t,e,n,i])>1||s(t,e)})})}function s(t,e){try{(n=o[t](e)).value instanceof y?Promise.resolve(n.value.v).then(l,c):u(r[0][2],n)}catch(t){u(r[0][3],t)}var n}function l(t){s("next",t)}function c(t){s("throw",t)}function u(t,e){t(e),r.shift(),r.length&&s(r[0][0],r[0][1])}}function b(t){var e,n;return e={},i("next"),i("throw",function(t){throw t}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,o){e[i]=t[i]?function(e){return(n=!n)?{value:y(t[i](e)),done:"return"===i}:o?o(e):e}:o}}function C(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise(function(i,o){!function(t,e,n,i){Promise.resolve(i).then(function(e){t({value:e,done:n})},e)}(i,o,(e=t[n](e)).done,e.value)})}}}function O(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var x=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&d(e,t,n);return x(e,t),e}function w(t){return t&&t.__esModule?t:{default:t}}function P(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function k(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return Object.defineProperty(t.prototype,"length",{get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},enumerable:!0,configurable:!0}),t.fromPoints=function(e,n){return new t(n.x-e.x,n.y-e.y)},t.fromSegment=function(e){return new t(e.endPoint.x-e.startPoint.x,e.endPoint.y-e.startPoint.y)},t.prototype.normalize=function(){var t=this.length;return 0!==t&&(this.x/=t,this.y/=t),this},t.prototype.negative=function(){return this.x*=-1,this.y*=-1,this},Object.defineProperty(t,"axisX",{get:function(){return new t(1,0)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"axisY",{get:function(){return new t(0,1)},enumerable:!0,configurable:!0}),t.angleBetween=function(e,n){var i=t.scalarProduct(e,n)/(e.length*n.length);return Math.acos(i)},t.scalarProduct=function(t,e){return t.x*e.x+t.y*e.y},t}();e.Vector=i},function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.Diagnostics=void 0,function(t){t[t.Disabled=0]="Disabled",t[t.Console=1]="Console",t[t.Document=2]="Document"}(i||(i={}));var o=function(){function t(){}return t.beginAverage=function(t){this.enableLogsAndTimers&&(this.lastAverageGroupName=t)},t.endAverage=function(){this.enableLogsAndTimers&&(this.lastAverageGroupName=null)},t.tryLogAverage=function(t){var e=this;if(this.lastAverageGroupName!==t){var n=Object.keys(this.timers).map(function(t){return e.timers[t]}).filter(function(e){return e.groupName===t});if(!n.filter(function(t){return!t.endTime}).length){var i=n.reduce(function(t,e){return t+(e.endTime-e.startTime)},0)/n.length;this.log("average: "+i)}}},t.timer=function(t){this.enableLogsAndTimers&&(this.lastCreatedTimer={message:t,startTime:performance.now(),groupName:this.lastAverageGroupName})},t.endTimer=function(){var t=this;if(this.enableLogsAndTimers){var e=this.lastCreatedTimer,n=setTimeout(function(){e.endTime=performance.now(),t.showMessage('timer "'+e.message+'": '+(e.endTime-e.startTime)),e.groupName&&t.tryLogAverage(e.groupName)},0);this.timers[n]=e,this.lastCreatedTimer=null}},t.logPerfInfo=function(){var t=document.querySelector(".dxdi-control > svg").querySelectorAll("*").length,e=performance.memory;this.log("nodes: "+t.toLocaleString()+(e?" memory: ":"")+(e?e.usedJSHeapSize.toLocaleString():""))},t.log=function(t){this.showMessage(t)},t.showMessage=function(e){switch(t.mode){case i.Console:console.log(e);break;case i.Document:var n=this.getElement().value;if(this.lastMessage===e){var o=n.indexOf("\r\n");o<0&&(o=n.indexOf("\n"));var r=n.substr(0,o);/( \()([0-9]+)(\))$/.test(r)?r=r.replace(/( \()([0-9]+)(\))$/,function(t,e,n,i){return e+ ++n+i}):r+=" (1)",this.getElement().value=r+n.substr(o)}else this.getElement().value=e+"\r\n"+n,this.lastMessage=e}},t.getElement=function(){var t=this;if(!this.el){this.el=document.createElement("textarea"),this.el.style.top="0px",this.el.style.right="0px",this.el.style.position="fixed",this.el.style.background="transparent",this.el.style.fontSize="11px",this.el.style.fontFamily="monospace",this.el.style.overflow="auto",this.el.style.width="400px",document.body.appendChild(this.el);var e=document.createElement("button");e.innerHTML="x",e.addEventListener("click",function(){t.el.value="",t.lastMessage=""}),e.style.top="0px",e.style.right="400px",e.style.position="fixed",e.style.opacity="0.1",document.body.appendChild(e)}return this.el},t.mode=i.Document,t.optimizeUsingRAF=!0,t.optimizeLayers=!0,t.timers={},t.enableLogsAndTimers=!1,t}();e.Diagnostics=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagramModel=void 0;var i=n(14),o=n(6),r=n(3),a=n(13),s=n(2),l=n(0),c=n(46),u=n(22),h=n(47),d=n(4),p=function(){function t(e){void 0===e&&(e=new s.Size(8391,11906)),this.items=[],this.itemIndexByKey={},this.keyCounter=0,this.pageSize=new s.Size(8391,11906),this.pageLandscape=!1,this.pageColor=t.defaultPageColor,this.units=h.DiagramUnit.In,this.snapStartPoint=new l.Point(0,0),this.pageSize=e,this.size=this.pageSize.clone(),this.rectangle=a.Rectangle.fromGeometry(new l.Point(0,0),new s.Size(0,0)),this.initializeKeyCounter()}return Object.defineProperty(t.prototype,"pageWidth",{get:function(){return this.pageLandscape?this.pageSize.height:this.pageSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageHeight",{get:function(){return this.pageLandscape?this.pageSize.width:this.pageSize.height},enumerable:!1,configurable:!0}),t.prototype.getRectangle=function(t){return t&&(this.rectangle=d.ModelUtils.createRectangle(this.items)),this.rectangle},t.prototype.pushItem=function(t){var e=this.items.push(t);this.itemIndexByKey[t.key]=e-1,t instanceof i.Shape&&!t.image.isEmpty&&this.cacheShapeImage(t)},t.prototype.removeItem=function(t){var e=this.getItemIndex(t);delete this.itemIndexByKey[t.key],this.items.splice(e,1),this.updateIndicesHash(e)},t.prototype.updateIndicesHash=function(t){for(var e=t;e<this.items.length;e++)this.itemIndexByKey[this.items[e].key]=e},t.prototype.getItemIndex=function(t){return this.itemIndexByKey[t.key]},t.prototype.findShape=function(t){var e=this.findItem(t);return e instanceof i.Shape?e:void 0},t.prototype.findShapesCore=function(t){var e=[];return this.items.forEach(function(n){n instanceof i.Shape&&t(n)&&e.push(n)}),e},t.prototype.findShapeCore=function(t){for(var e=0;e<this.items.length;e++){var n=this.items[e];if(n instanceof i.Shape&&t(n))return n}},t.prototype.findShapeAtPosition=function(t){return this.findShapeCore(function(e){return e.position.equals(t)})},t.prototype.findShapeByDataKey=function(t){return this.findShapeCore(function(e){return e.dataKey===t})},t.prototype.findShapesByImageUrl=function(t){return this.findShapesCore(function(e){return e.image.url===t})},t.prototype.findShapesByDescription=function(t){return this.findShapesCore(function(e){return e.description.key===t.key})},t.prototype.cacheShapeImage=function(t){var e=c.ImageCache.instance.createUnloadedInfoByShapeImageInfo(t.image);e.isLoaded&&t.image.loadBase64Content(e.base64)},t.prototype.loadAllImages=function(t){c.ImageCache.instance.loadAllImages(t)},t.prototype.findContainer=function(t){var e=this.findShape(t);return e&&e.enableChildren?e:void 0},t.prototype.findNearestContainer=function(t){var e=this.findShape(t);return e?e.enableChildren?e:e.container:void 0},t.prototype.getChildren=function(t){var e=this;return t.children.map(function(t){return e.findItem(t.key)}).filter(function(t){return t})},t.prototype.findChild=function(t,e,n){var o,r=this;return void 0===n&&(n=!0),t.children.forEach(function(t){o||(t.key!==e?n&&t instanceof i.Shape&&(o=r.findChild(t,e,n)):o=t)}),o},t.prototype.findItemContainerCore=function(t,e){for(var n=t.container;n&&e&&!e(n);)n=n.container;return n},t.prototype.findItemContainer=function(t){return this.findItemContainerCore(t)},t.prototype.findItemCollapsedContainer=function(t){return this.findItemContainerCore(t,function(t){return!t.expanded})},t.prototype.findItemTopCollapsedContainer=function(t){for(var e,n=t.container;n;)n.expanded||(e=n),n=n.container;return e},t.prototype.isContainerItem=function(t,e){return void 0!==this.findItemContainerCore(e,function(e){return e.key===t.key})},t.prototype.findConnector=function(t){var e=this.findItem(t);return e instanceof o.Connector?e:void 0},t.prototype.findConnectorCore=function(t){for(var e=0;e<this.items.length;e++){var n=this.items[e];if(n instanceof o.Connector&&t(n))return n}},t.prototype.findConnectorAtPoints=function(t){return this.findConnectorCore(function(e){return r.GeometryUtils.arePointsEqual(e.points,t)})},t.prototype.findConnectorByDataKey=function(t){return this.findConnectorCore(function(e){return e.dataKey===t})},t.prototype.findConnectorByBeginEndDataKeys=function(t,e){return this.findConnectorCore(function(n){return n.beginItem&&n.beginItem.dataKey===t&&n.endItem&&n.endItem.dataKey===e})},t.prototype.findConnectorsCore=function(t){var e=[];return this.items.forEach(function(n){n instanceof o.Connector&&t(n)&&e.push(n)}),e},t.prototype.findConnectorsWithoutBeginItem=function(){return this.findConnectorsCore(function(t){return!t.beginItem})},t.prototype.findConnectorsWithoutEndItem=function(){return this.findConnectorsCore(function(t){return!t.endItem})},t.prototype.findItem=function(t){return this.items[this.itemIndexByKey[t]]},t.prototype.findItemByDataKey=function(t){return this.findItemCore(function(e){return e.dataKey===t})},t.prototype.findItemCore=function(t){for(var e=0;e<this.items.length;e++)if(t(this.items[e]))return this.items[e]},t.isIntersectedItems=function(t,e){var n=!1;return t instanceof i.Shape?n=e.intersectedByRect(t.rectangle):t instanceof o.Connector&&t.getSegments().forEach(function(t){e instanceof i.Shape?n=n||t.isIntersectedByRect(e.rectangle):e instanceof o.Connector&&e.getSegments().forEach(function(e){n=n||t.isIntersected(e)})}),n},t.prototype.getIntersectItems=function(e){var n=[];return this.items.forEach(function(i){i.container===e.container&&(e===i||i instanceof o.Connector&&-1!==e.attachedConnectors.indexOf(i)||!t.isIntersectedItems(i,e)||n.push(i))}),n},t.prototype.getIntersectItemsMinZIndex=function(t){return this.getIntersectItems(t).map(function(t){return t.zIndex}).reduce(function(t,e){return Math.min(t,e)},Number.MAX_VALUE)},t.prototype.getIntersectItemsMaxZIndex=function(t){return this.getIntersectItems(t).map(function(t){return t.zIndex}).reduce(function(t,e){return Math.max(t,e)},-Number.MAX_VALUE)},t.prototype.iterateItems=function(t){this.items.forEach(t)},t.prototype.getNextKey=function(){return(this.keyCounter++).toString()},t.prototype.initializeKeyCounter=function(){this.keyCounter=this.items.reduce(function(t,e){var n=parseInt(e.key);return Math.max(t,isNaN(n)?0:n+1)},this.items.length)},t.defaultPageColor=u.ColorUtils.LIGHT_COLOR,t}();e.DiagramModel=p},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.TextPrimitive270degRenderHelper=e.TextPrimitive180degRenderHelper=e.TextPrimitive90degRenderHelper=e.TextPrimitiveRenderHelper=e.TextPrimitive=e.TextAngle=void 0;var r,a=n(12),s=n(15),l=n(24),c=n(17),u=n(64);!function(t){t[t.Angle0deg=0]="Angle0deg",t[t.Angle90deg=90]="Angle90deg",t[t.Angle180deg=180]="Angle180deg",t[t.Angle270deg=270]="Angle270deg"}(r=e.TextAngle||(e.TextAngle={}));var h=function(t){function e(e,n,i,o,r,a,s,l,c,h,d,p,f){var m=t.call(this,l,"",h,f)||this;return m.x=e,m.y=n,m.text=i,m.owner=o,m.textWidth=r,m.textHeight=a,m.textSpacing=s,m.reverseTextAhchor=c,m.angle=p,m.filterId=d,m.textSegmens=u.textToParagraphs(m.text),m.renderHelper=m.createRenderHelper(),void 0!==m.textWidth&&void 0!==m.textWidth&&(m.x=m.renderHelper.getTextX(m.x),m.y=m.renderHelper.getTextY(m.y)),m}return o(e,t),e.prototype.createMainElement=function(){return document.createElementNS(s.svgNS,"text")},e.prototype.applyElementProperties=function(e,n){this.setUnitAttribute(e,"x",this.x),this.setUnitAttribute(e,"y",this.y),this.filterId&&e.setAttribute("filter",c.RenderUtils.getUrlPathById(this.filterId)),t.prototype.applyElementProperties.call(this,e,n),e.getAttribute("appliedText")!==this.text||e.getAttribute("appliedSize")!==(this.fitToSize&&this.fitToSize.toString())?(this.createTSpanElements(e,n),e.setAttribute("appliedText",this.text),e.setAttribute("appliedSize",this.fitToSize&&this.fitToSize.toString())):this.prepareTSpanElements(e),this.renderHelper.prepareMainElement(e,this.x,this.y)},e.prototype.createTSpanElements=function(t,e){var n=this;c.RenderUtils.removeContent(t),this.textSegmens.forEach(function(i,o){if(!i&&n.textSegmens.length>1)n.createTSpanElement(t).textContent=" ";else if(n.fitToSize){var r=u.textToWords(i),s=u.wordsByLines(a.UnitConverter.twipsToPixels(n.fitToSize),r,function(){return e.measureWords(r,n.style,n.owner)});s.forEach(function(e){n.createTSpanElement(t).textContent=e}),s.length||(n.createTSpanElement(t).textContent=" ")}else n.createTSpanElement(t).textContent=i});var i=t.firstChild;i&&this.prepareFirstTSpanElement(i,t.childNodes.length)},e.prototype.createTSpanElement=function(t){var e=document.createElementNS(s.svgNS,"tspan");return t.appendChild(e),this.prepareTSpanElement(e),e},e.prototype.prepareTSpanElements=function(t){for(var e=0;e<t.childNodes.length;e++){var n=t.childNodes[e];this.prepareTSpanElement(n)}var i=t.firstChild;i&&this.prepareFirstTSpanElement(i,t.childNodes.length)},e.prototype.prepareTSpanElement=function(t){this.renderHelper.prepareTSpanElement(t,this.x,this.y)},e.prototype.prepareFirstTSpanElement=function(t,e){this.renderHelper.prepareFirstTSpanElement(t,e)},e.prototype.applyElementStyleProperties=function(t){this.applyElementStylePropertiesCore(t,this.reverseTextAhchor)},Object.defineProperty(e.prototype,"fitToSize",{get:function(){return this.renderHelper.fitToSize},enumerable:!1,configurable:!0}),e.prototype.createRenderHelper=function(){switch(this.angle){case r.Angle90deg:return new p(this);case r.Angle180deg:return new f(this);case r.Angle270deg:return new m(this);default:return new d(this)}},e.baselineCorrection=.35,e}(l.SvgPrimitive);e.TextPrimitive=h;var d=function(){function t(t){this.primitive=t}return Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.primitive.textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.primitive.textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fitToSize",{get:function(){return this.textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textAnchor",{get:function(){return this.primitive.style["text-anchor"]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textSpacing",{get:function(){return this.primitive.textSpacing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"needRotation",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.prepareMainElement=function(t,e,n){this.needRotation&&t.setAttribute("transform","rotate("+this.angle+", "+a.UnitConverter.twipsToPixels(e)+", "+a.UnitConverter.twipsToPixels(n)+")")},t.prototype.prepareTSpanElement=function(t,e,n){this.primitive.setUnitAttribute(t,"x",e),t.setAttribute("dy",u.LINE_HEIGHT+"em")},t.prototype.prepareFirstTSpanElement=function(t,e){var n=-(e-1)/2+h.baselineCorrection;t.setAttribute("dy",n.toFixed(2)+"em")},t.prototype.getTextX=function(t){return this.textAnchor&&"middle"!==this.textAnchor?"end"===this.textAnchor?t+this.textWidth-this.textSpacing:"start"===this.textAnchor?t+this.textSpacing:t:t+this.textWidth/2},t.prototype.getTextY=function(t){return t+this.textHeight/2},t.prototype.setUnitAttribute=function(t,e,n){this.primitive.setUnitAttribute(t,e,n)},t}();e.TextPrimitiveRenderHelper=d;var p=function(t){function e(e){return t.call(this,e)||this}return o(e,t),Object.defineProperty(e.prototype,"fitToSize",{get:function(){return this.textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return 90},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"needRotation",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.getTextX=function(t){return t+this.textWidth/2},e.prototype.getTextY=function(t){return this.textAnchor&&"middle"!==this.textAnchor?"end"===this.textAnchor?t+this.textHeight-this.textSpacing:"start"===this.textAnchor?t+this.textSpacing:t:t+this.textHeight/2},e}(d);e.TextPrimitive90degRenderHelper=p;var f=function(t){function e(e){return t.call(this,e)||this}return o(e,t),Object.defineProperty(e.prototype,"angle",{get:function(){return 180},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"needRotation",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.getTextX=function(t){return this.textAnchor&&"middle"!==this.textAnchor?"start"===this.textAnchor?t+this.textWidth-this.textSpacing:"end"===this.textAnchor?t+this.textSpacing:t:t+this.textWidth/2},e}(d);e.TextPrimitive180degRenderHelper=f;var m=function(t){function e(e){return t.call(this,e)||this}return o(e,t),Object.defineProperty(e.prototype,"angle",{get:function(){return 270},enumerable:!1,configurable:!0}),e.prototype.getTextY=function(t){return this.textAnchor&&"middle"!==this.textAnchor?"start"===this.textAnchor?t+this.textHeight-this.textSpacing:"end"===this.textAnchor?t+this.textSpacing:t:t+this.textHeight/2},e}(p);e.TextPrimitive270degRenderHelper=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLineHeight=e.getTextHeight=e.getTextLineSize=e.getOptimalTextRectangle=e.TEXTRECT_RATIO_EPS=e.textToParagraphs=e.textToWords=e.wordsByLines=e.LINE_HEIGHT=void 0;var i=n(3),o=n(2),r=n(44),a=/\s/gm;function s(t,e,n){if(1===e.length)return e;for(var i=n(),o=i.words[" "].width,r=[],a=0,s=-1,l=0;l<e.length;l++){var c=e[l],u=i.words[c].width;-1===s||a+o+u>t?(s=r.push(c)-1,a=u):(a+=o+u,r[s]+=" "+c)}return r}function l(t){return t.split(a).filter(function(t){return t.length})}function c(t){return t.split("\n")}function u(t,e,n){var i=t<1?1/t:t,o=e<1?1/e:e,r=i/o;return(r<1?1/r:r)<=n?0:o>i?1:-1}function h(t,e,n,i){return d(f(t,e,n,!1),i)}function d(t,e){return[r.Data.byRange(t,e.from,e.to),t<=e.to]}function p(t,e){return l(t).reduce(function(t,n,i){var o=e.words[n];return t.width+=o.width,t.height=Math.max(t.height,o.height),i>0&&(t.width+=e.words[" "].width),t},new o.Size(0,0))}function f(t,e,n,i){var o=Array.isArray(t)?t:c(t);return!i||o.length&&(1!==o.length||o[0].length)?o.reduce(function(t,i){return t+s(e,l(i),function(){return n}).length},0)*m(n):m(n)}function m(t){return t.fontSize*e.LINE_HEIGHT}e.LINE_HEIGHT=1.05,e.wordsByLines=s,e.textToWords=l,e.textToParagraphs=c,e.TEXTRECT_RATIO_EPS=1.2,e.getOptimalTextRectangle=function(t,n,a,s,l,m,g,v,y,_){if(void 0===g&&(g=0),void 0===v&&(v=Number.MAX_SAFE_INTEGER||Number.MAX_VALUE),void 0===y&&(y=0),void 0===_&&(_=Number.MAX_SAFE_INTEGER||Number.MAX_VALUE),!t)return new o.Size(r.Data.byRange(l.width,g,v),r.Data.byRange(l.height,y,_));if(g>v||y>_)throw new Error("Min size cannot exceed max size");if(g===v&&y===_)return new o.Size(g,y);var b=s.measureWords(t,n,a),C=c(t),O=Object.keys(b.words).reduce(function(t,e){return Math.max(t,b.words[e].width)},0),x=new i.Range(r.Data.byRange(Math.max(l.width,O),g,v),v),S=new i.Range(r.Data.byRange(l.height,y,_),_);if(O<=l.width&&f(C,l.width,b,!1)<=l.height&&x.includes(l.width)&&S.includes(l.height))return l;var w=l.width/l.height;return function(t,n,i,a,s,l){for(var c,f,m=t.reduce(function(t,e){return Math.max(t,p(e,n).width)},0),g=new o.Size(0,0),v=new o.Size(0,0),y=0,_=0,b=0;b<5;b++){if(0===b)v.width=d(m,a)[0];else{if(!(Math.abs(y)>1))break;v.width=d(g.width+y,a)[0]}if(c=h(t,v.width,n,s),v.height=c[0],f=c[1],0===b&&(g=v.clone(),_=g.width/g.height/i),0===b&&!f)break;var C=v.width/v.height,O=C/i;if(0===b)y=(v.width/O-v.width)/2;else if(f){if(!u(i,C,e.TEXTRECT_RATIO_EPS)){g=v.clone(),_=O;break}if(!(u(_,O,1)<0))break;g=v.clone(),_=O,y=(v.width/O-v.width)/2,O<1&&(y/=2)}else y/=2}return l&&(g.height=r.Data.byRange(g.width/i,g.height,s.to)),g}(C,b,w,x,S,m)},e.getTextLineSize=p,e.getTextHeight=f,e.getLineHeight=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(18),o=n(50),r=n(27),a=n(176),s=function(){function t(){}return t.preventEvent=function(t){t.cancelable&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},t.getEventSource=function(e){return o.isDefined(e)?t.getEventSourceCore(e):null},t.getEventSourceByPosition=function(e){if(!o.isDefined(e))return null;if(!document.elementFromPoint)return t.getEventSourceCore(e);var n=t.getEventX(e)-(t.clientEventRequiresDocScrollCorrection()?r.DomUtils.getDocumentScrollLeft():0),i=t.getEventY(e)-(t.clientEventRequiresDocScrollCorrection()?r.DomUtils.getDocumentScrollTop():0);return void 0===n||void 0===i?t.getEventSourceCore(e):document.elementFromPoint(n,i)},t.getEventSourceCore=function(t){return t.srcElement?t.srcElement:t.target},t.getMouseWheelEventName=function(){return i.Browser.Safari?"mousewheel":i.Browser.NetscapeFamily&&i.Browser.MajorVersion<17?"DOMMouseScroll":"wheel"},t.isLeftButtonPressed=function(e){return!!a.TouchUtils.isTouchEvent(e)||!!(e=i.Browser.IE&&o.isDefined(event)?event:e)&&(i.Browser.IE&&i.Browser.Version<11?!!i.Browser.MSTouchUI||e.button%2==1:i.Browser.WebKitFamily?"pointermove"===e.type||"pointerenter"===e.type||"pointerleave"===e.type?1===e.buttons:1===e.which:i.Browser.NetscapeFamily||i.Browser.Edge||i.Browser.IE&&i.Browser.Version>=11?t.isMoveEventName(e.type)?1===e.buttons:1===e.which:!i.Browser.Opera||0===e.button)},t.isMoveEventName=function(e){return e===a.TouchUtils.touchMouseMoveEventName||e===t.getMoveEventName()},t.getMoveEventName=function(){return window.PointerEvent?"pointermove":i.Browser.TouchUI?"touchmove":"mousemove"},t.preventEventAndBubble=function(e){t.preventEvent(e),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},t.clientEventRequiresDocScrollCorrection=function(){var t=i.Browser.Safari&&i.Browser.Version<3,e=i.Browser.MacOSMobilePlatform&&i.Browser.Version<5.1;return i.Browser.AndroidDefaultBrowser||i.Browser.AndroidChromeBrowser||!(t||e)},t.getEventX=function(e){return a.TouchUtils.isTouchEvent(e)?a.TouchUtils.getEventX(e):e.clientX+(t.clientEventRequiresDocScrollCorrection()?r.DomUtils.getDocumentScrollLeft():0)},t.getEventY=function(e){return a.TouchUtils.isTouchEvent(e)?a.TouchUtils.getEventY(e):e.clientY+(t.clientEventRequiresDocScrollCorrection()?r.DomUtils.getDocumentScrollTop():0)},t.cancelBubble=function(t){t.cancelBubble=!0},t.getWheelDelta=function(t){var e;return e=i.Browser.NetscapeFamily&&i.Browser.MajorVersion<17?-t.detail:i.Browser.Safari?t.wheelDelta:-t.deltaY,i.Browser.Opera&&i.Browser.Version<9&&(e=-e),e},t}();e.EvtUtils=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AddConnectorHistoryItem=void 0;var r=n(8),a=n(6),s=function(t){function e(e,n,i){var o=t.call(this)||this;return o.points=e,o.dataKey=n,o.renderPointsContext=i,o}return o(e,t),e.prototype.redo=function(t){var e=new a.Connector(this.points);void 0!==this.dataKey&&(e.dataKey=this.dataKey),void 0!==this.renderPointsContext&&e.replaceRenderPoints(this.renderPointsContext),t.addConnector(e,this.connectorKey),this.connectorKey=e.key},e.prototype.undo=function(t){var e=t.model.findConnector(this.connectorKey);t.deleteConnector(e)},e}(r.HistoryItem);e.AddConnectorHistoryItem=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteConnectionHistoryItem=void 0;var r=n(8),a=n(6),s=function(t){function e(e,n){var i=t.call(this)||this;return i.connectorKey=e.key,i.position=n,i.itemKey=e.getExtremeItem(i.position).key,i}return o(e,t),e.prototype.redo=function(t){var e=t.model.findConnector(this.connectorKey);this.oldConnectionPointIndex=this.position===a.ConnectorPosition.Begin?e.beginConnectionPointIndex:e.endConnectionPointIndex,t.deleteConnection(e,this.position)},e.prototype.undo=function(t){var e=t.model.findConnector(this.connectorKey),n=t.model.findItem(this.itemKey);t.addConnection(e,n,this.oldConnectionPointIndex,this.position)},e}(r.HistoryItem);e.DeleteConnectionHistoryItem=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SetSelectionHistoryItem=void 0;var r=function(t){function e(e,n,i){var o=t.call(this)||this;return o.selectedKeys=n,o.selection=e,o.forceChange=i,o}return o(e,t),e.prototype.redo=function(){this.oldSelection=this.selection.getKeys().slice(0),this.selection.set(this.selectedKeys,this.forceChange)},e.prototype.undo=function(){this.selection.set(this.oldSelection,this.forceChange)},e}(n(8).HistoryItem);e.SetSelectionHistoryItem=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeConnectorTextHistoryItem=void 0;var r=function(t){function e(e,n,i){var o=t.call(this)||this;return o.connectorKey=e.key,o.text=i,o.position=n,o}return o(e,t),e.prototype.redo=function(t){var e=t.model.findConnector(this.connectorKey);this.oldText=e.getText(this.position),t.changeConnectorText(e,this.text,this.position)},e.prototype.undo=function(t){var e=t.model.findConnector(this.connectorKey);t.changeConnectorText(e,this.oldText,this.position)},e}(n(8).HistoryItem);e.ChangeConnectorTextHistoryItem=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeStyleTextHistoryItem=void 0;var r=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return o(e,t),e.prototype.redo=function(t){var e=t.model.findItem(this.itemKey);this.oldStyleValue=e.styleText[this.styleProperty],t.changeStyleText(e,this.styleProperty,this.styleValue)},e.prototype.undo=function(t){var e=t.model.findItem(this.itemKey);t.changeStyleText(e,this.styleProperty,this.oldStyleValue)},e}(n(118).ChangeStyleHistoryItemBase);e.ChangeStyleTextHistoryItem=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=e.EdgeLayout=e.NodeLayout=e.NodeInfo=void 0;var i=n(13),o=function(t,e,n,i){void 0===i&&(i=[]),this.key=t,this.margin=e,this.size=n,this.connectionPoints=i};e.NodeInfo=o;var r=function(){function t(t,e){this.info=t,this.position=e}return Object.defineProperty(t.prototype,"key",{get:function(){return this.info.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rectangle",{get:function(){return i.Rectangle.fromGeometry(this.position,this.info.size)},enumerable:!1,configurable:!0}),t}();e.NodeLayout=r;var a=function(t,e,n){this.key=t,this.beginIndex=e,this.endIndex=n};e.EdgeLayout=a;var s=function(){function t(t,e,n,i){void 0===e&&(e=t),void 0===n&&(n=t),void 0===i&&(i=t),this.top=t,this.right=e,this.bottom=n,this.left=i}return t.empty=function(){return new t(0)},t}();e.Margin=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.EllipseShapeDescription=void 0;var r=n(7),a=n(2),s=n(55),l=n(1),c=n(3),u=n(13),h=function(t){function e(e){return t.call(this,new a.Size(r.ShapeDefaultDimension,.75*r.ShapeDefaultDimension),e)||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return l.ShapeTypes.Ellipse},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepRatioOnAutoSize",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.getTextRectangle=function(t){var e=c.GeometryUtils.getMaxRectangleEnscribedInEllipse(t.size);return u.Rectangle.fromGeometry(t.position.clone().offset((t.size.width-e.width)/2,(t.size.height-e.height)/2),e)},e.prototype.getSizeByText=function(t,e){return c.GeometryUtils.getEllipseByEnscribedRectangle(t)},e.prototype.createShapePrimitives=function(t){var e=t.rectangle,n=e.width,i=e.height,o=e.center,r=o.x,a=o.y;return[new s.EllipsePrimitive(r,a,n/2,i/2,t.style)]},e}(r.ShapeDescription);e.EllipseShapeDescription=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Exporter=void 0;var i=n(14),o=n(6),r=n(3),a=function(){function t(){}return t.prototype.export=function(t){var e={page:{},connectors:[],shapes:[]};return e.page={width:t.size.width,height:t.size.height,pageColor:t.pageColor,pageWidth:t.pageSize.width,pageHeight:t.pageSize.height,pageLandscape:t.pageLandscape},this.exportItemsCore(t.items,e),JSON.stringify(e)},t.prototype.exportItems=function(t){var e={connectors:[],shapes:[]};return this.exportItemsCore(t,e),JSON.stringify(e)},t.prototype.exportItemsCore=function(t,e){var n=this;t.forEach(function(t){if(t instanceof i.Shape)e.shapes.push(n.exportShape(t));else if(t instanceof o.Connector){var r=n.exportConnector(t);t.beginItem&&(r.beginItemKey=t.beginItem.key,r.beginConnectionPointIndex=t.beginConnectionPointIndex),t.endItem&&(r.endItemKey=t.endItem.key,r.endConnectionPointIndex=t.endConnectionPointIndex),e.connectors.push(r)}})},t.prototype.exportItem=function(t){return{key:t.key,dataKey:t.dataKey,customData:r.ObjectUtils.cloneObject(t.customData),locked:t.locked,zIndex:t.zIndex}},t.prototype.exportShape=function(t){var e=this.exportItem(t);e.type=t.description.key,e.text=t.text,t.image.isEmpty||(e.imageUrl=t.image.exportUrl),e.x=t.position.x,e.y=t.position.y,e.width=t.size.width,e.height=t.size.height;var n=t.parameters.toObject();n&&(e.parameters=n);var i=t.style.toObject();i&&(e.style=i);var o=t.styleText.toObject();return o&&(e.styleText=o),t.children.length&&(e.childKeys=t.children.map(function(t){return t.key})),t.expanded||(e.expanded=!1),t.expandedSize&&(e.expandedWidth=t.expandedSize.width,e.expandedHeight=t.expandedSize.height),e},t.prototype.exportConnector=function(t){var e=this.exportItem(t);e.points=t.points.map(function(t){return{x:t.x,y:t.y}});var n=t.texts.toObject();n&&(e.texts=n);var i=t.properties.toObject();i&&(e.properties=i);var o=t.style.toObject();o&&(e.style=o);var r=t.styleText.toObject();return r&&(e.styleText=r),e},t.prototype.exportSvg=function(t,e,n,i){n.exportSvgImage(t,e,i)},t.prototype.exportPng=function(t,e,n,i,o){n.exportPngImage(t,e,i,o)},t.prototype.exportJpg=function(t,e,n,i,o){n.exportJpgImage(t,e,i,o)},t}();e.Exporter=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleStyleTextPropertyCommand=void 0;var r=n(134),a=n(70),s=n(26),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getValue=function(){return this.control.selection.inputPosition.getCurrentTextStylePropertyValue(this.getStyleProperty())===this.getStylePropertyValue()},e.prototype.executeCore=function(t){var e=this;this.control.history.beginTransaction();var n=this.getStyleProperty(),i=t.value?s.TextStyle.defaultInstance[n]:this.getStylePropertyValue();return this.control.selection.getSelectedItems().forEach(function(t){e.control.history.addAndRedo(new a.ChangeStyleTextHistoryItem(t.key,n,i))}),this.control.selection.inputPosition.setTextStylePropertyValue(this.getStyleProperty(),i),this.control.history.endTransaction(),!0},e.prototype.getStyleObj=function(t){return t.styleText},e.prototype.getDefaultStyleObj=function(){return new s.TextStyle},e}(r.StylePropertyCommandBase);e.ToggleStyleTextPropertyCommand=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeStylePropertyCommand=void 0;var r=n(135),a=n(89),s=n(26),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getValue=function(){return this.control.selection.inputPosition.getCurrentStylePropertyValue(this.getStyleProperty())},e.prototype.getStyleObj=function(t){return t.style},e.prototype.getDefaultStyleObj=function(){return new s.Style},e.prototype.createHistoryItem=function(t,e,n){return new a.ChangeStyleHistoryItem(t.key,e,n)},e.prototype.updateInputPosition=function(t){this.control.selection.inputPosition.setStylePropertyValue(this.getStyleProperty(),t)},e}(r.ChangeStylePropertyCommandBase);e.ChangeStylePropertyCommand=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AutoLayoutCommandBase=void 0;var r=n(4),a=n(10),s=n(14),l=n(6),c=n(3),u=n(13),h=n(251),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.executeCore=function(t,e){var n=this;this.control.history.beginTransaction();var i=this.getAffectedShapes(),o=this.getAffectedConnectors(),a=this.createLayoutSettings(),s=r.ModelUtils.getGraphInfoByItems(this.control.model,i,o,!1);if(s.length){var l,d=this.control.model,p=c.GeometryUtils.getCommonRectangle(c.Utils.flatten(s.map(function(t){return t.graph.items.map(function(t){return d.findItem(t.key)})})).concat(s.map(function(t){return t.container})).filter(function(t){return t}).map(function(t){return t.rectangle}));this.control.history.addAndRedo(new h.ScrollIntoViewOnUndoHistoryItem(this.control.view,p)),s.forEach(function(t){var e=n.createLayout(a,t.graph),s=r.ModelUtils.getNonGraphItems(n.control.model,t.container,e.nodeToLayout,i,o),c=r.ModelUtils.applyLayout(n.control.history,n.control.model,t.container,t.graph,e,s,a,n.control.settings.snapToGrid,n.control.settings.gridSize,!1);l=l&&u.Rectangle.union(l,c)||c}),r.ModelUtils.tryUpdateModelRectangle(this.control.history),this.control.history.addAndRedo(new h.ScrollIntoViewOnRedoHistoryItem(this.control.view,l))}return this.control.history.endTransaction(),!0},e.prototype.getAffectedShapes=function(){return this.control.selection.isEmpty()?this.control.model.items.filter(function(t){return t instanceof s.Shape&&!t.locked}):this.control.selection.getSelectedShapes(!1,!0)},e.prototype.getAffectedConnectors=function(){return this.control.selection.isEmpty()?this.control.model.items.filter(function(t){return t instanceof l.Connector&&!t.locked}):this.control.selection.getSelectedConnectors(!1,!0)},e}(a.SimpleCommandBase);e.AutoLayoutCommandBase=d},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangePagePropertyCommand=void 0;var r=n(4),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.executeCore=function(t,e){var n=this;return this.control.history.beginTransaction(),this.createHistoryItems(e).forEach(function(t){n.control.history.addAndRedo(t)}),r.ModelUtils.tryUpdateModelRectangle(this.control.history),this.control.history.endTransaction(),!0},e.prototype.getItems=function(){return null},e}(n(10).SimpleCommandBase);e.ChangePagePropertyCommand=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasItemsManager=e.CONNECTOR_CAN_MOVE=e.NOT_VALID_CSSCLASS=void 0;var r=n(99),a=n(11),s=n(39),l=n(17),c=n(14),u=n(6),h=n(27),d=n(140),p=n(4);e.NOT_VALID_CSSCLASS="not-valid",e.CONNECTOR_CAN_MOVE="can-move";var f=function(t){function n(e,n,i){var o=t.call(this,n,i)||this;return o.itemSelectorGroupContainers={},o.itemSelectorElements={},o.itemGroupContainers={},o.itemElements={},o.itemChildElements={},o.primitives={},o.selectorPrimitives={},o.selectedItems={},o.initializeContainerElements(e),o}return o(n,t),n.prototype.initializeContainerElements=function(t){this.itemSelectorsContainer=this.createAndChangePrimitiveElement(new s.GroupPrimitive([],null),t),this.itemsContainer=this.createAndChangePrimitiveElement(new s.GroupPrimitive([],null),t)},n.prototype.clear=function(){this.primitives={},this.selectorPrimitives={},l.RenderUtils.removeContent(this.itemSelectorsContainer),l.RenderUtils.removeContent(this.itemsContainer),this.itemSelectorGroupContainers={},this.itemSelectorElements={},this.itemGroupContainers={},this.itemElements={},this.itemChildElements={},this.selectedItems={}},n.prototype.applyChange=function(t){var e=t.item;return!!this.getItemParent(e.zIndex,e.container&&e.container.key)&&(e instanceof c.Shape?this.applyShapeChange(e,t.type,t.isValid):e instanceof u.Connector&&this.applyConnectorChange(e,t.type,t.isValid),!0)},n.prototype.setPointerEventsNone=function(t,e){var n=t.style;void 0!==n&&void 0!==n.pointerEvents&&(n.pointerEvents=e?"none":"");for(var i=t.childNodes,o=0;o<i.length;o++)this.setPointerEventsNone(i[o],e)},n.prototype.notifyDragStart=function(t){var e=this;t.forEach(function(t){e.itemElements[t]&&e.setPointerEventsNone(e.itemElements[t],!0),e.itemChildElements[t]&&e.setPointerEventsNone(e.itemChildElements[t],!0),e.itemSelectorElements[t]&&e.setPointerEventsNone(e.itemSelectorElements[t],!0)})},n.prototype.notifyDragEnd=function(t){var e=this;t.forEach(function(t){e.itemElements[t]&&e.setPointerEventsNone(e.itemElements[t],!1),e.itemChildElements[t]&&e.setPointerEventsNone(e.itemChildElements[t],!1),e.itemSelectorElements[t]&&e.setPointerEventsNone(e.itemSelectorElements[t],!1)})},n.prototype.notifyDragScrollStart=function(){},n.prototype.notifyDragScrollEnd=function(){},n.prototype.notifyTextInputStart=function(t,e,n,i){var o=this.itemElements[t.key];h.DomUtils.addClassName(o,"text-input")},n.prototype.notifyTextInputEnd=function(t,e){var n=this.itemElements[t.key];h.DomUtils.removeClassName(n,"text-input")},n.prototype.notifyTextInputPermissionsCheck=function(t,n){var i=this.itemElements[t.key];n?h.DomUtils.removeClassName(i,e.NOT_VALID_CSSCLASS):h.DomUtils.addClassName(i,e.NOT_VALID_CSSCLASS)},n.prototype.notifyActualZoomChanged=function(t){var e="scale("+t+")";this.dom.changeByFunc(this.itemsContainer,function(t){return t.setAttribute("transform",e)}),this.dom.changeByFunc(this.itemSelectorsContainer,function(t){return t.setAttribute("transform",e)}),this.actualZoom=t},n.prototype.notifyViewAdjusted=function(t){},n.prototype.invalidatePrimitives=function(t){this.primitives[t.key]&&(this.primitives[t.key].forEach(function(t){t.dispose()}),delete this.primitives[t.key]),this.selectorPrimitives[t.key]&&(this.selectorPrimitives[t.key].forEach(function(t){t.dispose()}),delete this.selectorPrimitives[t.key])},n.prototype.getPrimitives=function(t){return this.primitives[t.key]||(this.primitives[t.key]=t.createPrimitives()),this.primitives[t.key]},n.prototype.getSelectorPrimitives=function(t){return this.selectorPrimitives[t.key]||(this.selectorPrimitives[t.key]=t.createSelectorPrimitives()),this.selectorPrimitives[t.key]},n.prototype.getShapeSelectorClassName=function(t){var e="shape";return t.enableChildren&&(e+=" container"),t.isLocked&&(e+=" locked"),e},n.prototype.getShapeClassName=function(t,n){var i=this.getShapeSelectorClassName(t);return n?i:i+" "+e.NOT_VALID_CSSCLASS},n.prototype.applyShapeChange=function(t,e,n){var i=t.key,o=t.container&&t.container.key,s=this.getItemSelectorGroupContainer(t.zIndex,o),l=this.getItemGroupContainer(t.zIndex,o),c=this.getShapeClassName(t,n);switch(e){case r.ItemChangeType.Create:this.itemSelectorElements[i]=this.createItemElements(i,this.getSelectorPrimitives(t),s,this.getShapeSelectorClassName(t),a.MouseEventElementType.Shape),this.itemElements[i]=this.createItemElements(i,this.getPrimitives(t),l,c,a.MouseEventElementType.Shape),t.enableChildren&&(this.itemChildElements[i]=this.createItemElements(i,[],l,"container-children",a.MouseEventElementType.Undefined),this.changeItemChildrenVisibility(this.itemChildElements[i],t.expanded));break;case r.ItemChangeType.Remove:this.removeItemCustomContent(this.itemSelectorElements[i],this.getSelectorPrimitives(t)),this.removeItemCustomContent(this.itemElements[i],this.getPrimitives(t)),this.invalidatePrimitives(t),this.removeItemElements(this.itemSelectorElements[i]),delete this.itemSelectorElements[i],this.removeItemElements(this.itemElements[i]),delete this.itemElements[i],this.itemChildElements[i]&&(this.removeItemElements(this.itemChildElements[i]),delete this.itemChildElements[i],delete this.itemGroupContainers[i],delete this.itemSelectorGroupContainers[i]);break;case r.ItemChangeType.UpdateStructure:case r.ItemChangeType.UpdateProperties:case r.ItemChangeType.Update:e!==r.ItemChangeType.Update&&(e===r.ItemChangeType.UpdateStructure&&(this.removeItemCustomContent(this.itemSelectorElements[i],this.getSelectorPrimitives(t)),this.removeItemCustomContent(this.itemElements[i],this.getPrimitives(t))),this.invalidatePrimitives(t)),this.changeItemElements(this.getSelectorPrimitives(t),this.itemSelectorElements[i],e===r.ItemChangeType.UpdateStructure),this.changeItemElements(this.getPrimitives(t),this.itemElements[i],e===r.ItemChangeType.UpdateStructure),this.changeItemClassName(this.itemElements[i],c),this.itemChildElements[i]&&this.changeItemChildrenVisibility(this.itemChildElements[i],t.expanded),s!==(this.itemSelectorElements[i]&&this.itemSelectorElements[i].parentNode)&&this.moveItemElements(s,this.itemSelectorElements[i]),l!==(this.itemElements[i]&&this.itemElements[i].parentNode)&&this.moveItemElements(l,this.itemElements[i]),this.itemChildElements[i]&&l!==this.itemChildElements[i].parentNode&&this.moveItemElements(l,this.itemChildElements[i]);break;case r.ItemChangeType.UpdateClassName:this.changeItemClassName(this.itemElements[i],c)}},n.prototype.getConnectorSelectorClassName=function(t){return p.ModelUtils.canMoveConnector(this.selectedItems,t)?"connector "+e.CONNECTOR_CAN_MOVE:"connector"},n.prototype.getConnectorClassName=function(t,n){var i=this.getConnectorSelectorClassName(t);return n?i:i+" "+e.NOT_VALID_CSSCLASS},n.prototype.applyConnectorChange=function(t,e,n){var i=t.key,o=t.container&&t.container.key,s=this.getItemSelectorGroupContainer(t.zIndex,o),l=this.getItemGroupContainer(t.zIndex,o),c=this.getConnectorClassName(t,n);switch(e){case r.ItemChangeType.Create:this.itemSelectorElements[i]=this.createItemElements(i,this.getSelectorPrimitives(t),s,this.getConnectorSelectorClassName(t),a.MouseEventElementType.Connector),this.itemElements[i]=this.createItemElements(i,this.getPrimitives(t),l,c,a.MouseEventElementType.Connector);break;case r.ItemChangeType.Remove:this.removeItemCustomContent(this.itemSelectorElements[i],this.getSelectorPrimitives(t)),this.removeItemCustomContent(this.itemElements[i],this.getPrimitives(t)),this.invalidatePrimitives(t),this.removeItemElements(this.itemSelectorElements[i]),delete this.itemSelectorElements[i],this.removeItemElements(this.itemElements[i]),delete this.itemElements[i];break;case r.ItemChangeType.UpdateStructure:case r.ItemChangeType.UpdateProperties:case r.ItemChangeType.Update:e!==r.ItemChangeType.Update&&(e===r.ItemChangeType.UpdateStructure&&(this.removeItemCustomContent(this.itemSelectorElements[i],this.getSelectorPrimitives(t)),this.removeItemCustomContent(this.itemElements[i],this.getPrimitives(t))),this.invalidatePrimitives(t)),this.changeItemElements(this.getSelectorPrimitives(t),this.itemSelectorElements[i],e===r.ItemChangeType.UpdateStructure),this.changeItemClassName(this.itemSelectorElements[i],this.getConnectorSelectorClassName(t)),this.changeItemElements(this.getPrimitives(t),this.itemElements[i],e===r.ItemChangeType.UpdateStructure),this.changeItemClassName(this.itemElements[i],c),s!==(this.itemSelectorElements[i]&&this.itemSelectorElements[i].parentNode)&&this.moveItemElements(s,this.itemSelectorElements[i]),l!==(this.itemElements[i]&&this.itemElements[i].parentNode)&&this.moveItemElements(l,this.itemElements[i]);break;case r.ItemChangeType.UpdateClassName:this.changeItemClassName(this.itemSelectorElements[i],this.getConnectorSelectorClassName(t)),this.changeItemClassName(this.itemElements[i],c)}},n.prototype.createItemElements=function(t,e,n,i,o){var r=this.createAndChangePrimitiveElement(new s.GroupPrimitive([],i,void 0,void 0,function(e){return l.RenderUtils.setElementEventData(e,o,t)}),n);return this.createAndChangePrimitivesElements(e,r),r},n.prototype.changeItemElements=function(t,e,n){n||t.length!==e.childNodes.length?(l.RenderUtils.removeContent(e),this.createAndChangePrimitivesElements(t,e)):this.dom.changeChildrenByPrimitives(t,e)},n.prototype.changeItemClassName=function(t,e){e&&t&&this.changePrimitiveElement(new s.GroupPrimitive([],e),t)},n.prototype.removeItemElements=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},n.prototype.removeItemCustomContent=function(t,e){t&&e&&e.length===t.childNodes.length&&e.forEach(function(e,n){e.destroyCustomContent(t.childNodes[n])})},n.prototype.moveItemElements=function(t,e,n){e&&t&&(n?t.insertBefore(e,n):t.appendChild(e))},n.prototype.changeItemChildrenVisibility=function(t,e){t.style.display=e?"":"none"},n.prototype.getItemGroupContainerKey=function(t,e){return void 0!==e?t+"_"+e:t.toString()},n.prototype.getItemGroupContainer=function(t,e){var n=void 0!==e?this.getItemParent(t,e):this.itemsContainer,i=e||"Main";if(void 0===this.itemGroupContainers[i]||void 0===this.itemGroupContainers[i][t]){void 0===this.itemGroupContainers[i]&&(this.itemGroupContainers[i]=[]);var o=Object.keys(this.itemGroupContainers[i]).map(function(t){return+t}).sort().filter(function(e){return e>t})[0];this.itemGroupContainers[i][t]=this.createAndChangePrimitiveElement(new s.GroupPrimitive([],null,t),n,this.itemGroupContainers[i][o])}return this.itemGroupContainers[i][t]},n.prototype.getItemSelectorGroupContainer=function(t,e){var n=void 0!==e?this.getItemSelectorParent(t,e):this.itemSelectorsContainer,i=e||"Main";if(void 0===this.itemSelectorGroupContainers[i]||void 0===this.itemSelectorGroupContainers[i][t]){void 0===this.itemSelectorGroupContainers[i]&&(this.itemSelectorGroupContainers[i]=[]);var o=Object.keys(this.itemSelectorGroupContainers[i]).map(function(t){return+t}).sort().filter(function(e){return e>t})[0];this.itemSelectorGroupContainers[i][t]=this.createAndChangePrimitiveElement(new s.GroupPrimitive([],null,t),n,this.itemSelectorGroupContainers[i][o])}return this.itemSelectorGroupContainers[i][t]},n.prototype.getItemParent=function(t,e){return void 0!==e?this.itemChildElements[e]:this.getItemGroupContainer(t)},n.prototype.getItemSelectorParent=function(t,e){return void 0!==e?this.itemChildElements[e]:this.getItemSelectorGroupContainer(t)},n.prototype.notifySelectionChanged=function(t){var e=this,n=p.ModelUtils.createSelectedItems(t),i=[];this.populateItems(i,n,this.selectedItems),this.populateItems(i,this.selectedItems,n),this.selectedItems=n,i.forEach(function(t){t instanceof u.Connector&&e.applyOrPostponeChanges([new r.ItemChange(t,r.ItemChangeType.UpdateClassName,!0)])})},n.prototype.populateItems=function(t,e,n){Object.keys(e).forEach(function(i){n[i]||t.push(e[i])})},n}(d.CanvasManager);e.CanvasItemsManager=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextMeasurer=void 0;var i=n(2),o=n(17),r=n(14),a=n(6),s=n(43),l=n(15),c=n(64),u=function(){function t(t){this.cache={},this.fontSizeCache={},this.containers={},this.parent=t,this.createNodes()}return t.prototype.measureWords=function(t,e,n){var i=this,o={words:{},fontSize:-1},r="string"==typeof t?this.splitToWords(t,!1):t.reduce(function(t,e){return t.concat(i.splitToWords(e,!1))},[]);r.push(" ");var a=this.getStyleHash(e,n),s=this.tryLoadWordsToMeasurer(r,e,a,n,void 0,void 0,void 0,void 0,o);if(s){var l=this.containers[n];this.putElementsInDOM(l,s),this.beforeMeasureInDOM(),this.measureElementsInDOM(s,o),this.afterMeasureInDOM()}return o},t.prototype.measureTextLine=function(t,e,n){var i=this.measureWords(t,e,n);return c.getTextLineSize(t,i)},t.prototype.onNewModel=function(t,e){var n=this;e.changeByFunc(null,function(){return n.onNewModelCore(t)})},t.prototype.onNewModelCore=function(t){var e=t.filter(function(t){return t instanceof r.Shape}),n=t.filter(function(t){return t instanceof a.Connector}),i=this.tryLoadShapeTexts(e),o=this.tryLoadConnectorTexts(n);(i||o)&&(i&&this.putElementsInDOM(this.containers[s.TextOwner.Shape],i),o&&this.putElementsInDOM(this.containers[s.TextOwner.Connector],o),this.beforeMeasureInDOM(),i&&this.measureElementsInDOM(i),o&&this.measureElementsInDOM(o),this.afterMeasureInDOM())},t.prototype.replaceParent=function(t){this.parent!==t&&(this.mainElement.parentNode&&t.appendChild(this.mainElement),this.parent=t)},t.prototype.clean=function(){o.RenderUtils.removeElement(this.mainElement)},t.prototype.tryLoadShapeTexts=function(t){var e=this,n={},i=[],o=[],r=[];return t.forEach(function(t){var a=e.getStyleHash(t.styleText,s.TextOwner.Shape);e.tryLoadWordsToMeasurer(e.splitToWords(t.text,!0),t.styleText,a,s.TextOwner.Shape,n,i,o,r)}),i.length?{elements:i,hashes:o,styleHashes:r}:null},t.prototype.tryLoadConnectorTexts=function(t){var e=this,n={},i=[],o=[],r=[];return t.forEach(function(t){var a=t.texts.map(function(t){return t.value}).reduce(function(t,n){return t.concat(e.splitToWords(n,!1))},[]);if(a.length){a.push(" ");var l=e.getStyleHash(t.styleText,s.TextOwner.Connector);e.tryLoadWordsToMeasurer(a,t.styleText,l,s.TextOwner.Connector,n,i,o,r)}}),i.length?{elements:i,hashes:o,styleHashes:r}:null},t.prototype.tryLoadWordsToMeasurer=function(t,e,n,i,o,r,a,s,l){var c=this,u=[];return r=r||[],a=a||[],s=s||[],o=o||{},t.forEach(function(t){return c.tryLoadWordToMeasurer(t,e,n,i,o,r,a,s,u,l)}),r.length?{elements:r,hashes:a,styleHashes:s,newWords:u}:null},t.prototype.putElementsInDOM=function(t,e){for(t.parentNode&&t.parentNode.removeChild(t);t.firstChild;)t.removeChild(t.firstChild);e.elements.forEach(function(e){return t.appendChild(e)}),this.svgElement.appendChild(t)},t.prototype.measureElementsInDOM=function(t,e){for(var n=t.hashes,i=t.elements,o=t.newWords,r=n.length,a=0;a<r;a++){var s=this.getDomElementSize(i[a]);s&&(s.isEmpty()||(this.cache[n[a]]=s),e&&(e.words[o[a]]=s));var l=t.styleHashes[a];void 0===this.fontSizeCache[l]&&(this.fontSizeCache[l]=this.getDomFontSize(i[a])),e&&e.fontSize<0&&(e.fontSize=this.fontSizeCache[l])}},t.prototype.beforeMeasureInDOM=function(){this.parent.appendChild(this.mainElement)},t.prototype.afterMeasureInDOM=function(){this.mainElement.parentNode&&this.mainElement.parentNode.removeChild(this.mainElement)},t.prototype.tryLoadWordToMeasurer=function(t,e,n,i,o,r,a,s,l,c){var u=this.getHash(t,e,i),h=this.cache[u];h||o[u]?h&&c&&(c.words[t]=h,c.fontSize=this.fontSizeCache[n]):(o[u]=!0,a.push(u),r.push(this.createElement(t,e)),s.push(n),l.push(t))},t.prototype.getHash=function(t,e,n){return n+"|"+(e&&e.toHash())+"|"+t},t.prototype.getStyleHash=function(t,e){return this.getHash(" ",t,e)},t.prototype.createElement=function(t,e){var n=document.createElementNS(l.svgNS,"text");return" "===t&&n.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),n.textContent=t,e&&o.RenderUtils.applyStyleToElement(e,n),n},t.prototype.splitToWords=function(t,e){var n=c.textToWords(t);return e&&n.push(" "),n},t.prototype.getDomFontSize=function(t){return parseFloat(window.getComputedStyle(t).fontSize)},t.prototype.getDomElementSize=function(t){var e;try{e=t.getBBox()}catch(t){}return e?new i.Size(e.width,e.height):new i.Size(0,0)},t.prototype.createNodes=function(){this.mainElement=l.RenderHelper.createMainElement(void 0,!0),this.svgElement=l.RenderHelper.createSvgElement(this.mainElement,!1),this.createContainer(s.TextOwner.Shape,"shape"),this.createContainer(s.TextOwner.Connector,"connector"),this.createContainer(s.TextOwner.ExtensionLine,"extension-line"),this.createContainer(s.TextOwner.Resize,"resize-info")},t.prototype.createContainer=function(t,e){var n=document.createElementNS(l.svgNS,"g");n.setAttribute("class",e),this.containers[t]=n},t}();e.TextMeasurer=u},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.EdgeOnLayer=e.NodeOnLayer=e.SugiyamaNodesOrderer=e.SugiyamaLayerDistributor=e.SugiyamaLayoutBuilder=void 0;var r=n(139),a=n(54),s=n(71),l=n(38),c=n(90),u=n(41),h=n(0),d=n(20),p=n(138),f=n(6),m=n(270),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.build=function(){var t=this,e=0,n=new p.GraphLayout,i=new y;return this.graph.getConnectedComponents().forEach(function(o){var r=m.CycleRemover.removeCycles(o),a=v.getLayers(r.graph),s=i.orderNodes(r.graph,a),l=Object.keys(r.removedEdges).map(function(t){return o.getEdge(t)}),c=i.assignAbsCoordinates(s),u=t.createInfoGraphLayout(c,r.reversedEdges,l);n.extend(t.setComponentOffset(u,e)),e+=t.getComponentOffset(u)}),n},e.prototype.createInfoGraphLayout=function(t,e,n){for(var i=this,o=new h.Point(0,0),r=t.items,a=new c.HashSet(r.map(function(t){return t.layer}).sort(function(t,e){return t-e})),s=this.getAbsOffsetInfo(t.items),l={},u=0,f=Number.MAX_SAFE_INTEGER||Number.MAX_VALUE,m=Number.MIN_SAFE_INTEGER||Number.MAX_VALUE,g=function(t){var e=a.item(t),n=0;r.filter(function(t){return t.layer===e}).sort(function(t,e){return t.position-e.position}).forEach(function(t){var e=i.getDepthNodeSize(t),r=i.chooseDirectionValue(0,e),a=i.getAbsPosition(t.position,i.getBreadthNodeSize(t),s);o=i.setBreadth(o,a);var c=i.setDepthOffset(o,-r);if(l[t.key]=c,!t.isDummy){var u=i.settings.orientation===d.DataLayoutOrientation.Horizontal?c.y:c.x;f=Math.min(f,u),m=Math.max(m,u+i.getBreadthNodeSize(t)),n=Math.max(n,i.getDepthNodeSize(t))}}),u+=n,o=v.setBreadth(o,0),o=v.setDepthOffset(o,v.getDirectionValue(n+v.settings.layerSpacing))},v=this,y=0;y<a.length;y++)g(y);u+=(a.length-1)*this.settings.layerSpacing;var _=new p.GraphLayout;return this.createNodesLayout(t,_,f,u,l),this.createEdgesLayout(t,_,e,n),_},e.prototype.createNodesLayout=function(t,e,n,i,o){var r=this,a=this.settings.orientation===d.DataLayoutOrientation.Vertical?new h.Point(-n,this.chooseDirectionValue(0,i)):new h.Point(this.chooseDirectionValue(0,i),-n);t.items.forEach(function(t){if(!t.isDummy){var n=r.graph.getNode(t.key);e.addNode(new s.NodeLayout(n,o[t.key].clone().offset(a.x,a.y)))}})},e.prototype.createEdgesLayout=function(t,e,n,i){var o=this.getDirectEdgeLayout(),r=this.getDiffLevelEdgeLayout(!0),a=this.getDiffLevelEdgeLayout(!1),l=this.getSameLevelEdgeLayout(!0),c=this.getSameLevelEdgeLayout(!1),u={};t.edges.filter(function(t){return!t.isDummy}).concat(i.map(function(t){return new C(t.key,!1,t.from,t.to)})).sort(function(e,n){return t.getNode(e.originFrom).layer-t.getNode(n.originFrom).layer||t.getNode(e.to).layer-t.getNode(n.to).layer}).forEach(function(i){var h=n[i.key],d=t.getNode(h?i.to:i.originFrom),p=t.getNode(h?i.originFrom:i.to);if(p.layer-d.layer==1)e.addEdge(new s.EdgeLayout(i.key,o.from,o.to));else{var m=[];if(p.position-d.position>=1)m.push(r),m.push({from:o.from,to:r.to}),m.push({from:r.from,to:o.to});else if(p.position-d.position<=-1)m.push(a),m.push({from:o.from,to:a.to}),m.push({from:a.from,to:o.to});else{var g=d.position===p.position&&0===p.position?[l,c]:[c,l];g.forEach(function(t){return m.push(t)}),g.forEach(function(t){m.push({from:t.from,to:o.to}),m.push({from:o.from,to:t.to})})}m.push(o);for(var v=0,y=void 0;y=m[v];v++){var _=d.key+"_"+y.from,b=p.key+"_"+y.to;if(u[_]!==f.ConnectorPosition.End&&u[b]!==f.ConnectorPosition.Begin){e.addEdge(new s.EdgeLayout(i.key,y.from,y.to)),u[_]=f.ConnectorPosition.Begin,u[b]=f.ConnectorPosition.End;break}}}})},e.prototype.getDirectEdgeLayout=function(){return this.settings.orientation===d.DataLayoutOrientation.Horizontal?this.settings.direction===d.LogicalDirectionKind.Forward?{from:1,to:3}:{from:3,to:1}:this.settings.direction===d.LogicalDirectionKind.Forward?{from:2,to:0}:{from:0,to:2}},e.prototype.getDiffLevelEdgeLayout=function(t){return this.settings.orientation===d.DataLayoutOrientation.Horizontal?t?{from:2,to:0}:{from:0,to:2}:t?{from:3,to:1}:{from:1,to:3}},e.prototype.getSameLevelEdgeLayout=function(t){return this.settings.orientation===d.DataLayoutOrientation.Horizontal?t?{from:0,to:0}:{from:2,to:2}:t?{from:3,to:3}:{from:1,to:1}},e.prototype.getAbsOffsetInfo=function(t){var e=this,n={},i=function(t,i){void 0===n[i]&&(n[i]=e.getBreadthNodeSize(t)),n[i]=Math.max(n[i],e.getBreadthNodeSize(t))};t.forEach(function(t){var e=O(t.position);i(t,e),n[e]%1!=0&&i(t,e+1)});var o={},r=0;return Object.keys(n).sort(function(t,e){return parseFloat(t)-parseFloat(e)}).forEach(function(t){o[t]={leftOffset:r,width:n[t]},r+=n[t]+e.settings.columnSpacing}),o},e.prototype.setBreadth=function(t,e){return this.settings.orientation===d.DataLayoutOrientation.Vertical?new h.Point(e,t.y):new h.Point(t.x,e)},e.prototype.setDepthOffset=function(t,e){return this.settings.orientation===d.DataLayoutOrientation.Horizontal?new h.Point(t.x+e,t.y):new h.Point(t.x,t.y+e)},e.prototype.getAbsPosition=function(t,e,n){var i=O(t),o=n[i].leftOffset,r=n[i].width;return t%1==0?o+(r-e)/2:o+r-(e-this.settings.columnSpacing)/2},e.prototype.getBreadthNodeSize=function(t){return t.isDummy?0:this.getBreadthNodeSizeCore(this.graph.getNode(t.key))},e.prototype.getDepthNodeSize=function(t){return t.isDummy?0:this.getDepthNodeSizeCore(this.graph.getNode(t.key))},e}(r.LayoutBuilder);e.SugiyamaLayoutBuilder=g;var v=function(){function t(){}return t.getLayers=function(t){var e=this.getFeasibleTree(t);return this.calcNodesLayers(e)},t.getFeasibleTree=function(t){var e=this.initLayerAssignment(t);return t.getSpanningGraph(t.nodes[0],l.ConnectionMode.OutgoingAndIncoming,function(t){return e[t.to]-e[t.from]})},t.initLayerAssignment=function(t){for(var e={},n=0,i={},o=t.nodes.filter(function(e){return!t.getAdjacentEdges(e,l.ConnectionMode.Incoming).length}),r=function(){o.forEach(function(t){e[t]=n,i[t]=!0}),Object.keys(i).forEach(function(n){0===t.getAdjacentEdges(n,l.ConnectionMode.Outgoing).filter(function(t){return void 0===e[t.to]}).length&&delete i[n]});var r={};Object.keys(i).forEach(function(n){t.getAdjacentEdges(n,l.ConnectionMode.Outgoing).map(function(t){return t.to}).filter(function(n){return void 0===e[n]&&t.getAdjacentEdges(n,l.ConnectionMode.Incoming).reduce(function(t,n){return t&&void 0!==e[n.from]},!0)}).forEach(function(t){return r[t]=!0})}),o=Object.keys(r),n++};o.length;)r();return e},t.calcNodesLayers=function(t){var e={},n=Number.MAX_SAFE_INTEGER||Number.MAX_VALUE,i=0,o=t.createIterator(l.ConnectionMode.OutgoingAndIncoming);for(var r in o.visitEachEdgeOnce=!1,o.onNode=function(t){e[t.key]=i,n=Math.min(n,i)},o.skipNode=function(t){return void 0!==e[t.key]},o.skipEdge=function(t){return void 0!==e[t.from]&&void 0!==e[t.to]},o.onEdge=function(t,n){i=n?e[t.from]+1:e[t.to]-1},o.iterate(t.nodes[0]),e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]-=n);return e},t}();e.SugiyamaLayerDistributor=v;var y=function(){function t(){this.idCounter=-1e4}return t.prototype.orderNodes=function(t,e){for(var n=1,i=this.initGraphInfo(t,e),o=i.items,r=this.initOrder(o),a=this.getNodeToPositionMap(o),s=this.getCrossCount(r,i),l=!0;n<14&&0!==s;){r=this.getNodesOrder(r,i,l);var c=this.getCrossCount(r,i);c<s&&(a=this.getNodeToPositionMap(i.items),s=c),l=!l,n++}return i.items.forEach(function(t){return t.position=a[t.key]}),i},t.prototype.getNodesOrder=function(t,e,n){var i=this,o={},r=function(r){if(!Object.prototype.hasOwnProperty.call(t,r))return"continue";var s={},l=[];t[r].forEach(function(t){var o=(n?e.getChildren(t.key):e.getParents(t.key)).map(function(t){return e.getNode(t).position});l.push(t.key),s[t.key]=i.getNodePosition(o)}),o[r]=a.sortNodes(l,s,e)},a=this;for(var s in t)r(s);return o},t.prototype.sortNodes=function(t,e,n){return t.sort(function(t,n){return e[t]-e[n]}).map(function(t,e){var i=n.getNode(t);return i.position=e,i})},t.prototype.getNodePosition=function(t){if(!(t=t.sort(function(t,e){return t-e})).length)return 0;var e=Math.floor(t.length/2);if(2===t.length||t.length%2==1)return t[e];var n=t[e-1]-t[0],i=t[t.length-1]-t[e];return Math.floor((t[e-1]*i+t[e]*n)/(n+i))},t.prototype.initOrder=function(t){var e={};return t.forEach(function(t){return(e[t.layer]||(e[t.layer]=[])).push(t)}),e},t.prototype.getCrossCount=function(t,e){var n=0,i=function(i){if(!Object.prototype.hasOwnProperty.call(t,i))return"continue";var o=[];t[i].forEach(function(t){var i=e.getChildren(t.key).map(function(t){return e.getNode(t).position});i.forEach(function(t){n+=o.filter(function(e){return t<e}).length}),o=o.concat(i)})};for(var o in t)i(o);return n},t.prototype.initGraphInfo=function(t,e){var n=this,i={},o={},r=[],s=[];return t.nodes.forEach(function(t){var n=e[t];void 0===i[n]&&(i[n]=0);var a=new _(t,!1,n,i[n]++);o[t]=a,r.push(a)}),t.edges.forEach(function(t){var a=e[t.to]-e[t.from];if(a>1){for(var l=o[t.from],c=1;c<a;c++){var u=new _(n.createDummyID(),!0,e[t.from]+c,i[e[t.from]+c]++);s.push(new C(n.createDummyID(),!0,l.key,u.key)),r.push(u),l=u}s.push(new C(t.key,!1,l.key,o[t.to].key,o[t.from].key))}else s.push(new C(t.key,!1,o[t.from].key,o[t.to].key))}),new a.FastGraph(r,s)},t.prototype.createDummyID=function(){return"dummy_"+--this.idCounter},t.prototype.getNodeToPositionMap=function(t){return t.reduce(function(t,e){return t[e.key]=e.position,t},{})},t.prototype.assignAbsCoordinates=function(t){var e=this.getAbsCoodinate(t);return new a.FastGraph(t.items.map(function(t){return new _(t.key,t.isDummy,t.layer,e[t.key])}),t.edges.slice(0))},t.prototype.getAbsCoodinate=function(t){var e=this,n=t.items.reduce(function(t,e){t[e.layer]=t[e.layer]||[];var n=u.SearchUtils.binaryIndexOf(t[e.layer],function(t){return t.position-e.position});return t[e.layer].splice(n<0?~n:n,0,e),t},{}),i=[b.TopLeft,b.TopRight,b.BottomLeft,b.BottomRight].map(function(i){return e.getPositionByMedian(t,i,n)}),o={};return t.items.forEach(function(t){var e=i.map(function(e){return e[t.key]}).sort(function(t,e){return t-e});o[t.key]=(e[1]+e[2])/2}),o},t.prototype.getPositionByMedian=function(t,e,n){var i=t.items,o=this.getNodeToPositionMap(i),r=this.getMedians(t,i,e);return r=this.resolveMedianConflicts(t,n,r,e),this.getSortedBlocks(t,i,r,e).forEach(function(t){var e=t.reduce(function(t,e){return o[e.key]>t?o[e.key]:t},-2);t.forEach(function(t){var i=e-o[t.key];i>0&&n[t.layer].filter(function(e){return e.position>t.position}).forEach(function(t){return o[t.key]+=i}),o[t.key]=e})}),o},t.prototype.getSortedBlocks=function(t,e,n,i){for(var o=[],r=i===b.BottomLeft||i===b.BottomRight,a=new c.HashSet(e.slice(0).sort(function(t,e){return r?t.layer-e.layer:e.layer-t.layer}),function(t){return t.key});a.length;){var s=a.item(0),l=this.getBlock(t,s,n,i);o.push(l),l.forEach(function(t){return a.remove(t)})}return o.sort(function(t,e){var n=t.reduce(function(t,e){return e.position<t.position?e:t},t[0]),i=e.filter(function(t){return t.layer===n.layer})[0];if(i)return n.position>i.position?1:-1;var o=e.reduce(function(t,e){return e.position<t.position?e:t},e[0]),r=t.filter(function(t){return t.layer===o.layer})[0];return r?r.position>o.position?1:-1:n.layer>o.layer?1:-1}),o},t.prototype.getBlock=function(t,e,n,i){var o=[],r=null;do{r&&(e=i===b.TopLeft||i===b.TopRight?t.getNode(r.from):t.getNode(r.to)),o.push(e),r=n[e.key]}while(r);return o},t.prototype.resolveMedianConflicts=function(t,e,n,i){var o=this,r={},a=function(a){if(!Object.prototype.hasOwnProperty.call(e,a))return"continue";var s,l,c=e[a];i!==b.TopRight&&i!==b.BottomRight||(c=c.slice(0).sort(function(t,e){return e.position-t.position})),c.forEach(function(e){var a=n[e.key];if(a){var c=i===b.TopLeft||i===b.TopRight?a.from:a.to,u=t.getNode(c).position;o.checkMedianConfict(s,l,u,i)?r[e.key]=null:(s=void 0===s?u:Math.min(s,u),l=void 0===l?u:Math.max(l,u),r[e.key]=a)}else r[e.key]=null})};for(var s in e)a(s);return r},t.prototype.checkMedianConfict=function(t,e,n,i){return void 0!==t&&void 0!==e&&(i===b.TopLeft||i===b.BottomLeft?e>=n:t<=n)},t.prototype.getMedians=function(t,e,n){var i=this,o={};return e.forEach(function(e){var r=i.getActualAdjacentEdges(t,e,n),a=i.getMedianPosition(r.length,n);o[e.key]=r[a]}),o},t.prototype.getMedianPosition=function(t,e){if(0===t)return-1;if(t%2!=0)return Math.floor(t/2);if(e===b.TopLeft||e===b.BottomLeft)return Math.floor(t/2)-1;if(e===b.TopRight||e===b.BottomRight)return Math.floor(t/2);throw new Error("Invalid Operation")},t.prototype.getActualAdjacentEdges=function(t,e,n){return n===b.TopLeft||n===b.TopRight?t.getAdjacentEdges(e.key,l.ConnectionMode.Incoming).sort(function(e,n){return t.getNode(e.from).position-t.getNode(n.from).position}):t.getAdjacentEdges(e.key,l.ConnectionMode.Outgoing).sort(function(e,n){return t.getNode(e.to).position-t.getNode(n.to).position})},t}();e.SugiyamaNodesOrderer=y;var _=function(){function t(t,e,n,i){this.key=t,this.isDummy=e,this.layer=n,this.position=i}return t.prototype.getHashCode=function(){return this.key.toString()},t}();e.NodeOnLayer=_;var b,C=function(){function t(t,e,n,i,o){this.key=t,this.isDummy=e,this.from=n,this.to=i,this._originFrom=o}return t.prototype.getHashCode=function(){return this.from+"-"+this.to},Object.defineProperty(t.prototype,"originFrom",{get:function(){return void 0!==this._originFrom?this._originFrom:this.from},enumerable:!1,configurable:!0}),t}();function O(t){return Math.trunc?Math.trunc(t):isFinite(t)?t-t%1||(t<0?-0:0===t?t:0):t}e.EdgeOnLayer=C,function(t){t[t.TopLeft=0]="TopLeft",t[t.TopRight=1]="TopRight",t[t.BottomLeft=2]="BottomLeft",t[t.BottomRight=3]="BottomRight"}(b||(b={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.suspendUpdateCount=0,this.occurredEvents=0}return t.prototype.beginUpdate=function(){0===this.suspendUpdateCount&&this.onUpdateLocked(),this.suspendUpdateCount<0?this.suspendUpdateCount--:this.suspendUpdateCount++},t.prototype.endUpdate=function(){if(this.suspendUpdateCount<0?this.suspendUpdateCount++:this.suspendUpdateCount>0&&this.suspendUpdateCount--,!this.isUpdateLocked()){var t=this.occurredEvents;this.occurredEvents=0,this.onUpdateUnlocked(t)}},t.prototype.suspendUpdate=function(){if(this.suspendUpdateCount>0){this.suspendUpdateCount*=-1;var t=this.occurredEvents;this.occurredEvents=0,this.onUpdateUnlocked(t)}},t.prototype.continueUpdate=function(){this.suspendUpdateCount<0&&(this.suspendUpdateCount*=-1)},t.prototype.isUpdateLocked=function(){return this.suspendUpdateCount>0},t.prototype.onUpdateLocked=function(){},t.prototype.registerOccurredEvent=function(t){this.occurredEvents|=t},t.prototype.resetOccurredEvents=function(){this.occurredEvents=0},t.prototype.isLocked=function(){return 0!==this.suspendUpdateCount},t}();e.BatchUpdatableObject=i;var o=function(){function t(){}return t.prototype.beginUpdate=function(){},t.prototype.endUpdate=function(){},t}();e.EmptyBatchUpdatableObject=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandManager=e.DiagramCommand=void 0;var i,o=n(162),r=n(199),a=n(200),s=n(201),l=n(238),c=n(239),u=n(240),h=n(241),d=n(242),p=n(243),f=n(244),m=n(245),g=n(246),v=n(247),y=n(248),_=n(249),b=n(250),C=n(25),O=n(137),x=n(253),S=n(254),w=n(255),P=n(257),k=n(259),E=n(261),T=n(262),I=n(263),j=n(264),M=n(265),D=n(268),A=n(271),R=n(272),B=n(142),L=n(273),N=n(274),z=n(275),F=n(276),H=n(143),V=n(144),U=n(277),W=n(278),K=n(279),$=n(280),G=n(282),q=n(284),Z=n(285),Y=n(286),X=n(287),Q=n(288),J=n(289),tt=n(290),et=n(292),nt=n(293),it=n(294),ot=n(295),rt=n(296),at=n(297),st=n(298),lt=n(299),ct=n(300);!function(t){t[t.Undo=0]="Undo",t[t.Redo=1]="Redo",t[t.Cut=2]="Cut",t[t.Copy=3]="Copy",t[t.Paste=4]="Paste",t[t.PasteInPosition=5]="PasteInPosition",t[t.SelectAll=6]="SelectAll",t[t.Delete=7]="Delete",t[t.Import=8]="Import",t[t.ImportBPMN=9]="ImportBPMN",t[t.Export=10]="Export",t[t.ExportSvg=11]="ExportSvg",t[t.ExportPng=12]="ExportPng",t[t.ExportJpg=13]="ExportJpg",t[t.BindDocument=14]="BindDocument",t[t.UnbindDocument=15]="UnbindDocument",t[t.Bold=16]="Bold",t[t.Italic=17]="Italic",t[t.Underline=18]="Underline",t[t.FontName=19]="FontName",t[t.FontSize=20]="FontSize",t[t.FontColor=21]="FontColor",t[t.FillColor=22]="FillColor",t[t.StrokeColor=23]="StrokeColor",t[t.TextLeftAlign=24]="TextLeftAlign",t[t.TextCenterAlign=25]="TextCenterAlign",t[t.TextRightAlign=26]="TextRightAlign",t[t.ConnectorLineOption=27]="ConnectorLineOption",t[t.ConnectorStartLineEnding=28]="ConnectorStartLineEnding",t[t.ConnectorEndLineEnding=29]="ConnectorEndLineEnding",t[t.BringToFront=30]="BringToFront",t[t.SendToBack=31]="SendToBack",t[t.MoveLeft=32]="MoveLeft",t[t.MoveStepLeft=33]="MoveStepLeft",t[t.MoveRight=34]="MoveRight",t[t.MoveStepRight=35]="MoveStepRight",t[t.MoveUp=36]="MoveUp",t[t.MoveStepUp=37]="MoveStepUp",t[t.MoveDown=38]="MoveDown",t[t.MoveStepDown=39]="MoveStepDown",t[t.CloneLeft=40]="CloneLeft",t[t.CloneRight=41]="CloneRight",t[t.CloneUp=42]="CloneUp",t[t.CloneDown=43]="CloneDown",t[t.AutoLayoutTree=44]="AutoLayoutTree",t[t.AutoLayoutFlow=45]="AutoLayoutFlow",t[t.AutoLayoutTreeVertical=46]="AutoLayoutTreeVertical",t[t.AutoLayoutTreeHorizontal=47]="AutoLayoutTreeHorizontal",t[t.AutoLayoutLayeredVertical=48]="AutoLayoutLayeredVertical",t[t.AutoLayoutLayeredHorizontal=49]="AutoLayoutLayeredHorizontal",t[t.Lock=50]="Lock",t[t.Unlock=51]="Unlock",t[t.Units=52]="Units",t[t.ViewUnits=53]="ViewUnits",t[t.PageSize=54]="PageSize",t[t.PageLandscape=55]="PageLandscape",t[t.PageColor=56]="PageColor",t[t.GridSize=57]="GridSize",t[t.ShowGrid=58]="ShowGrid",t[t.SnapToGrid=59]="SnapToGrid",t[t.ZoomLevel=60]="ZoomLevel",t[t.Fullscreen=61]="Fullscreen",t[t.ToggleSimpleView=62]="ToggleSimpleView",t[t.ToggleReadOnly=63]="ToggleReadOnly",t[t.EditShapeImage=64]="EditShapeImage",t[t.FitToScreen=65]="FitToScreen",t[t.SwitchAutoZoom=66]="SwitchAutoZoom",t[t.ToggleAutoZoom=67]="ToggleAutoZoom",t[t.FitToWidth=68]="FitToWidth",t[t.ZoomLevelItems=69]="ZoomLevelItems",t[t.GridSizeItems=70]="GridSizeItems",t[t.PageSizeItems=71]="PageSizeItems",t[t.ImportXML=72]="ImportXML",t[t.InsertShapeImage=73]="InsertShapeImage",t[t.DeleteShapeImage=74]="DeleteShapeImage",t[t.StrokeStyle=75]="StrokeStyle",t[t.StrokeWidth=76]="StrokeWidth",t[t.AutoLayoutTreeVerticalBottomToTop=77]="AutoLayoutTreeVerticalBottomToTop",t[t.AutoLayoutTreeHorizontalRightToLeft=78]="AutoLayoutTreeHorizontalRightToLeft",t[t.AutoLayoutLayeredVerticalBottomToTop=79]="AutoLayoutLayeredVerticalBottomToTop",t[t.AutoLayoutLayeredHorizontalRightToLeft=80]="AutoLayoutLayeredHorizontalRightToLeft",t[t.Zoom25=81]="Zoom25",t[t.Zoom50=82]="Zoom50",t[t.Zoom75=83]="Zoom75",t[t.Zoom100=84]="Zoom100",t[t.Zoom125=85]="Zoom125",t[t.Zoom150=86]="Zoom150",t[t.Zoom200=87]="Zoom200",t[t.AutoZoomToContent=88]="AutoZoomToContent",t[t.AutoZoomToWidth=89]="AutoZoomToWidth",t[t.ZoomLevelInPercentage=90]="ZoomLevelInPercentage",t[t.ConnectorRoutingMode=91]="ConnectorRoutingMode"}(i=e.DiagramCommand||(e.DiagramCommand={}));var ut=function(){function t(t){this.commands={},this.shortcutsToCommand={},this.lastCommandsChain=[],this.executingCommandsChain=[],this.executingCommandCounter=0,this.isPublicApiCall=!1,this.createCommand(t,i.Undo,r.UndoCommand,C.ModifierKey.Ctrl|C.KeyCode.Key_z,C.ModifierKey.Meta|C.KeyCode.Key_z),this.createCommand(t,i.Redo,a.RedoCommand,C.ModifierKey.Ctrl|C.KeyCode.Key_y,C.ModifierKey.Ctrl|C.ModifierKey.Shift|C.KeyCode.Key_z,C.ModifierKey.Meta|C.ModifierKey.Shift|C.KeyCode.Key_z),this.createCommand(t,i.Cut,j.CutSelectionCommand,C.KeyCode.Key_x|C.ModifierKey.Ctrl,C.KeyCode.Key_x|C.ModifierKey.Meta,C.KeyCode.Delete|C.ModifierKey.Shift),this.createCommand(t,i.Copy,I.CopySelectionCommand,C.KeyCode.Key_c|C.ModifierKey.Ctrl,C.KeyCode.Key_c|C.ModifierKey.Meta,C.KeyCode.Insert|C.ModifierKey.Ctrl),this.createCommand(t,i.Paste,M.PasteSelectionCommand),this.createCommand(t,i.PasteInPosition,J.PasteSelectionInPositionCommand),this.createCommand(t,i.SelectAll,b.SelectAllCommand,C.KeyCode.Key_a|C.ModifierKey.Ctrl,C.KeyCode.Key_a|C.ModifierKey.Meta),this.createCommand(t,i.Delete,o.DeleteCommand,C.KeyCode.Delete,C.KeyCode.Backspace),this.createCommand(t,i.Import,s.ImportCommand),this.createCommand(t,i.ImportBPMN,D.ImportBPMNCommand),this.createCommand(t,i.ImportXML,tt.ImportXMLCommand),this.createCommand(t,i.Export,l.ExportCommand),this.createCommand(t,i.ExportSvg,E.ExportSvgCommand),this.createCommand(t,i.ExportPng,k.ExportPngCommand),this.createCommand(t,i.ExportJpg,T.ExportJpgCommand),this.createCommand(t,i.BindDocument,z.BindDocumentCommand),this.createCommand(t,i.UnbindDocument,F.UnbindDocumentCommand),this.createCommand(t,i.Bold,c.ToggleFontBoldCommand,C.ModifierKey.Ctrl|C.KeyCode.Key_b,C.ModifierKey.Meta|C.KeyCode.Key_b),this.createCommand(t,i.Italic,u.ToggleFontItalicCommand,C.ModifierKey.Ctrl|C.KeyCode.Key_i,C.ModifierKey.Meta|C.KeyCode.Key_i),this.createCommand(t,i.Underline,h.ToggleFontUnderlineCommand,C.ModifierKey.Ctrl|C.KeyCode.Key_u,C.ModifierKey.Meta|C.KeyCode.Key_u),this.createCommand(t,i.FontName,d.ChangeFontNameCommand),this.createCommand(t,i.FontSize,p.ChangeFontSizeCommand),this.createCommand(t,i.FontColor,f.ChangeFontColorCommand),this.createCommand(t,i.FillColor,m.ChangeFillColorCommand),this.createCommand(t,i.StrokeColor,g.ChangeStrokeColorCommand),this.createCommand(t,i.StrokeStyle,it.ChangeStrokeStyleCommand),this.createCommand(t,i.StrokeWidth,ot.ChangeStrokeWidthCommand),this.createCommand(t,i.TextLeftAlign,v.TextLeftAlignCommand),this.createCommand(t,i.TextCenterAlign,v.TextCenterAlignCommand),this.createCommand(t,i.TextRightAlign,v.TextRightAlignCommand),this.createCommand(t,i.ConnectorLineOption,_.ChangeConnectorLineOptionCommand),this.createCommand(t,i.ConnectorStartLineEnding,y.ChangeConnectorStartLineEndingCommand),this.createCommand(t,i.ConnectorEndLineEnding,y.ChangeConnectorEndLineEndingCommand),this.createCommand(t,i.BringToFront,R.BringToFrontCommand),this.createCommand(t,i.SendToBack,A.SendToBackCommand),this.createCommand(t,i.MoveLeft,L.MoveLeftCommand,C.ModifierKey.Ctrl|C.KeyCode.Left,C.ModifierKey.Ctrl|C.ModifierKey.Shift|C.KeyCode.Left),this.createCommand(t,i.MoveRight,L.MoveRightCommand,C.ModifierKey.Ctrl|C.KeyCode.Right,C.ModifierKey.Ctrl|C.ModifierKey.Shift|C.KeyCode.Right),this.createCommand(t,i.MoveUp,L.MoveUpCommand,C.ModifierKey.Ctrl|C.KeyCode.Up,C.ModifierKey.Ctrl|C.ModifierKey.Shift|C.KeyCode.Up),this.createCommand(t,i.MoveDown,L.MoveDownCommand,C.ModifierKey.Ctrl|C.KeyCode.Down,C.ModifierKey.Ctrl|C.ModifierKey.Shift|C.KeyCode.Down),this.createCommand(t,i.MoveStepLeft,L.MoveStepLeftCommand,C.KeyCode.Left,C.ModifierKey.Shift|C.KeyCode.Left),this.createCommand(t,i.MoveStepRight,L.MoveStepRightCommand,C.KeyCode.Right,C.ModifierKey.Shift|C.KeyCode.Right),this.createCommand(t,i.MoveStepUp,L.MoveStepUpCommand,C.KeyCode.Up,C.ModifierKey.Shift|C.KeyCode.Up),this.createCommand(t,i.MoveStepDown,L.MoveStepDownCommand,C.KeyCode.Down,C.ModifierKey.Shift|C.KeyCode.Down),this.createCommand(t,i.CloneLeft,K.CloneLeftCommand,C.ModifierKey.Alt|C.KeyCode.Left,C.ModifierKey.Alt|C.ModifierKey.Shift|C.KeyCode.Left),this.createCommand(t,i.CloneRight,K.CloneRightCommand,C.ModifierKey.Alt|C.KeyCode.Right,C.ModifierKey.Alt|C.ModifierKey.Shift|C.KeyCode.Right),this.createCommand(t,i.CloneUp,K.CloneUpCommand,C.ModifierKey.Alt|C.KeyCode.Up,C.ModifierKey.Alt|C.ModifierKey.Shift|C.KeyCode.Up),this.createCommand(t,i.CloneDown,K.CloneDownCommand,C.ModifierKey.Alt|C.KeyCode.Down,C.ModifierKey.Alt|C.ModifierKey.Shift|C.KeyCode.Down),this.createCommand(t,i.Lock,U.LockCommand),this.createCommand(t,i.Unlock,W.UnLockCommand),this.createCommand(t,i.AutoLayoutTree,O.AutoLayoutTreeVerticalCommand),this.createCommand(t,i.AutoLayoutFlow,B.AutoLayoutLayeredHorizontalCommand),this.createCommand(t,i.Units,$.ChangeUnitsCommand),this.createCommand(t,i.ViewUnits,$.ChangeViewUnitsCommand),this.createCommand(t,i.PageSize,P.ChangePageSizeCommand),this.createCommand(t,i.PageLandscape,w.ChangePageLandscapeCommand),this.createCommand(t,i.PageColor,G.ChangePageColorCommand),this.createCommand(t,i.GridSize,S.ChangeGridSizeCommand),this.createCommand(t,i.ShowGrid,q.ChangeShowGridCommand),this.createCommand(t,i.SnapToGrid,x.ChangeSnapToGridCommand),this.createCommand(t,i.ZoomLevel,N.ChangeZoomLevelCommand),this.createCommand(t,i.ZoomLevelInPercentage,N.ChangeZoomLevelInPercentageCommand),this.createCommand(t,i.AutoLayoutTreeVertical,O.AutoLayoutTreeVerticalCommand),this.createCommand(t,i.AutoLayoutTreeVerticalBottomToTop,rt.AutoLayoutTreeVerticalBottomToTopCommand),this.createCommand(t,i.AutoLayoutTreeHorizontal,H.AutoLayoutTreeHorizontalCommand),this.createCommand(t,i.AutoLayoutTreeHorizontalRightToLeft,at.AutoLayoutTreeHorizontalRightToLeftCommand),this.createCommand(t,i.AutoLayoutLayeredVertical,V.AutoLayoutLayeredVerticalCommand),this.createCommand(t,i.AutoLayoutLayeredVerticalBottomToTop,st.AutoLayoutLayeredVerticalBottomToTopCommand),this.createCommand(t,i.AutoLayoutLayeredHorizontal,B.AutoLayoutLayeredHorizontalCommand),this.createCommand(t,i.AutoLayoutLayeredHorizontalRightToLeft,lt.AutoLayoutLayeredHorizontalRightToLeftCommand),this.createCommand(t,i.Fullscreen,Z.ToggleFullscreenCommand,C.KeyCode.F11),this.createCommand(t,i.ToggleSimpleView,Y.ToggleSimpleViewCommand),this.createCommand(t,i.ToggleReadOnly,X.ToggleReadOnlyCommand),this.createCommand(t,i.InsertShapeImage,et.InsertShapeImageCommand),this.createCommand(t,i.EditShapeImage,Q.EditShapeImageCommand),this.createCommand(t,i.DeleteShapeImage,nt.DeleteShapeImageCommand),this.createCommand(t,i.FitToScreen,N.FitToScreenCommand),this.createCommand(t,i.FitToWidth,N.FitToWidthCommand),this.createCommand(t,i.SwitchAutoZoom,N.SwitchAutoZoomCommand),this.createCommand(t,i.ToggleAutoZoom,N.ToggleAutoZoomCommand),this.createCommand(t,i.ZoomLevelItems,N.ChangeZoomLevelItemsCommand),this.createCommand(t,i.GridSizeItems,S.ChangeGridSizeItemsCommand),this.createCommand(t,i.PageSizeItems,P.ChangePageSizeItemsCommand),this.createCommand(t,i.Zoom25,N.ChangeZoomLevelTo25Command),this.createCommand(t,i.Zoom50,N.ChangeZoomLevelTo50Command),this.createCommand(t,i.Zoom75,N.ChangeZoomLevelTo75Command),this.createCommand(t,i.Zoom100,N.ChangeZoomLevelTo100Command),this.createCommand(t,i.Zoom125,N.ChangeZoomLevelTo125Command),this.createCommand(t,i.Zoom150,N.ChangeZoomLevelTo150Command),this.createCommand(t,i.Zoom200,N.ChangeZoomLevelTo200Command),this.createCommand(t,i.AutoZoomToContent,N.ToggleAutoZoomToContentCommand),this.createCommand(t,i.AutoZoomToWidth,N.ToggleAutoZoomToWidthCommand),this.createCommand(t,i.ConnectorRoutingMode,ct.ChangeConnectorRoutingModeCommand)}return t.prototype.getCommand=function(t){return this.commands[t]},t.prototype.beforeExecuting=function(t){this.executingCommandsChain.push(t),this.executingCommandCounter++},t.prototype.afterExecuting=function(){this.executingCommandCounter--,0===this.executingCommandCounter&&(this.lastCommandsChain=this.executingCommandsChain,this.executingCommandsChain=[])},t.prototype.processShortcut=function(t){var e=this.shortcutsToCommand[t];return!!e&&e.execute()},t.prototype.processPaste=function(t){var e=this.getCommand(i.Paste);return e&&e.isEnabled()&&e.execute(t),!0},t.prototype.notifySelectionChanged=function(t){this.lastCommandsChain=[]},t.prototype.notifyScrollPositionChanged=function(){},t.prototype.createCommand=function(t,e,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this.commands[e]=new n(t);for(var r=0;r<i.length;r++){var a=i[r];"number"==typeof a&&(this.shortcutsToCommand[a]=this.commands[e])}},t}();e.CommandManager=ut},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(177),o=n(178),r=function(){function t(){}return t.normalizeToDataUrl=function(e,n){return t.checkPrependDataUrl(e)||(e=t.prependByDataUrl(e,n)),e},t.prependByDataUrl=function(t,e){return"data:"+e+";base64,"+t},t.checkPrependDataUrl=function(e){return t.dataUrl.test(e)},t.deleteDataUrlPrefix=function(e){return e.replace(t.dataUrl,"")},t.getUint8Array=function(t){for(var e=(t=atob(t)).length,n=new Uint8Array(e);e--;)n[e]=t.charCodeAt(e);return n},t.fromArrayBuffer=function(t){for(var e=[],n=new Uint8Array(t),i=n.byteLength,o=0;o<i;o++)e.push(String.fromCharCode(n[o]));return window.btoa(e.join(""))},t.getFileFromBase64=function(e,n,o){void 0===n&&(n="");var r=t.getUint8Array(e);return i.FileUtils.createFile([r],n,o)},t.getMimeTypeAsString=function(e){var n=e.match(t.dataUrl);return n?n[1]:null},t.getKnownMimeType=function(e){var n=e.match(t.dataUrl);return n?o.MimeTypeUtils.stringTypeToType(n[1]):o.DxMimeType.Unknown},t.fromBlobAsArrayBuffer=function(e,n){var i=new FileReader;i.onloadend=function(){return n(t.fromArrayBuffer(i.result))},i.readAsArrayBuffer(e)},t.fromBlobAsDataUrl=function(t,e){var n=new FileReader;n.onloadend=function(){return e(n.result)},n.readAsDataURL(t)},t.dataUrl=/^data:(.*?)(;(.*?))??(;base64)?,/,t}();e.Base64Utils=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.NativeConnector=e.NativeShape=e.NativeItem=void 0;var r=n(4),a=function(){function t(t,e){this.id=t,this.key=e,this.unitsApplied=!1}return t.prototype.applyUnits=function(t){this.unitsApplied||void 0===t||(this.applyUnitsCore(t),this.unitsApplied=!0)},t}();e.NativeItem=a;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.applyUnitsCore=function(t){this.position.x=r.ModelUtils.getlUnitValue(t,this.position.x),this.position.y=r.ModelUtils.getlUnitValue(t,this.position.y),this.size.width=r.ModelUtils.getlUnitValue(t,this.size.width),this.size.height=r.ModelUtils.getlUnitValue(t,this.size.height)},e}(a);e.NativeShape=s;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.applyUnitsCore=function(t){this.points.forEach(function(e){e.x=r.ModelUtils.getlUnitValue(t,e.x),e.y=r.ModelUtils.getlUnitValue(t,e.y)})},e}(a);e.NativeConnector=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectorRenderPointsContext=void 0;var i=function(t,e,n){this.renderPoints=t,this.lockCreateRenderPoints=e,this.actualRoutingMode=n};e.ConnectorRenderPointsContext=i},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceConnectorPointsHistoryItem=e.ChangeConnectorPointsHistoryItem=e.UpdateConnectorPointsHistoryItem=void 0;var r=function(t){function e(e,n){var i=t.call(this)||this;return i.connectorKey=e,i.newPoints=n,i}return o(e,t),e.prototype.redo=function(t){var e=this,n=t.model.findConnector(this.connectorKey);this.oldRenderContext=n.tryCreateRenderPointsContext(),this.oldPoints=n.points.map(function(t){return t.clone()}),t.changeConnectorPoints(n,function(t){t.points=e.newPoints,e.updateRenderPoints(t)})},e.prototype.undo=function(t){var e=this,n=t.model.findConnector(this.connectorKey);t.changeConnectorPoints(n,function(t){t.points=e.oldPoints,t.replaceRenderPoints(e.oldRenderContext)})},e}(n(8).HistoryItem);e.UpdateConnectorPointsHistoryItem=r;var a=function(t){function e(e,n,i){var o=t.call(this,e,n)||this;return o.connectorKey=e,o.newPoints=n,o.newRenderContext=i,o}return o(e,t),e.prototype.updateRenderPoints=function(t){t.replaceRenderPoints(this.newRenderContext)},e}(r);e.ChangeConnectorPointsHistoryItem=a;var s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.connectorKey=e,i.newPoints=n,i}return o(e,t),e.prototype.updateRenderPoints=function(t){t.clearRenderPoints()},e}(r);e.ReplaceConnectorPointsHistoryItem=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,n,i){this.left=t,this.right=e,this.top=n,this.bottom=i}return t.empty=function(){return new t(0,0,0,0)},Object.defineProperty(t.prototype,"horizontal",{get:function(){return this.left+this.right},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"vertical",{get:function(){return this.top+this.bottom},enumerable:!0,configurable:!0}),t.fromNumber=function(e){return new t(e,e,e,e)},t.fromOffsets=function(e){return new t(e.left,e.right,e.top,e.bottom)},t.fromSide=function(e,n){return new t(e,e,n,n)},t.prototype.normalize=function(){return this.left=Math.max(0,this.left),this.right=Math.max(0,this.right),this.top=Math.max(0,this.top),this.bottom=Math.max(0,this.bottom),this},t.prototype.toString=function(){return JSON.stringify(this)},t.prototype.isEmpty=function(){return 0===this.left&&0===this.right&&0===this.top&&0===this.bottom},t.prototype.offset=function(t){return this.left+=t.left,this.right+=t.right,this.top+=t.top,this.bottom+=t.bottom,this},t.prototype.multiply=function(t,e,n,i){switch(arguments.length){case 1:return this.left*=t,this.right*=t,this.top*=t,this.bottom*=t,this;case 2:return this.left*=t,this.right*=t,this.top*=e,this.bottom*=e,this;case 4:return this.left*=t,this.right*=e,this.top*=n,this.bottom*=i,this}return this},t.prototype.clone=function(){return new t(this.left,this.right,this.top,this.bottom)},t.prototype.copyFrom=function(t){this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom},t.prototype.equals=function(t){return this.top===t.top&&this.bottom===t.bottom&&this.right===t.right&&this.left===t.left},t.prototype.applyConverter=function(t){return this.left=t(this.left),this.right=t(this.right),this.top=t(this.top),this.bottom=t(this.bottom),this},t}();e.Offsets=i},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeConnectorPropertyHistoryItem=void 0;var r=function(t){function e(e,n,i){var o=t.call(this)||this;return o.connectorKey=e,o.propertyName=n,o.value=i,o}return o(e,t),e.prototype.redo=function(t){var e=t.model.findConnector(this.connectorKey);this.oldValue=e.properties[this.propertyName],t.changeConnectorProperty(e,this.propertyName,this.value)},e.prototype.undo=function(t){var e=t.model.findConnector(this.connectorKey);t.changeConnectorProperty(e,this.propertyName,this.oldValue)},e}(n(8).HistoryItem);e.ChangeConnectorPropertyHistoryItem=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeStyleHistoryItem=void 0;var r=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return o(e,t),e.prototype.redo=function(t){var e=t.model.findItem(this.itemKey);this.oldStyleValue=e.style[this.styleProperty],t.changeStyle(e,this.styleProperty,this.styleValue)},e.prototype.undo=function(t){var e=t.model.findItem(this.itemKey);t.changeStyle(e,this.styleProperty,this.oldStyleValue)},e}(n(118).ChangeStyleHistoryItemBase);e.ChangeStyleHistoryItem=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HashSet=void 0;var i=function(){function t(t,e){var n=this;void 0===t&&(t=[]),void 0===e&&(e=function(t){return t.toString()}),this.items=[],this.map={},this.getHashCode=e,t.forEach(function(t){return n.tryPush(t)})}return t.prototype.tryPush=function(t){var e=this.getHashCode(t);return void 0===this.map[e]&&(this.map[e]=this.items.push(t)-1,!0)},t.prototype.contains=function(t){return void 0!==this.map[this.getHashCode(t)]},t.prototype.forEach=function(t){this.items.forEach(t)},t.prototype.filter=function(t){return this.items.filter(t)},t.prototype.list=function(){return this.items.slice(0)},t.prototype.item=function(t){return this.items[t]},t.prototype.first=function(){return this.items[0]},t.prototype.remove=function(t){var e=this.getHashCode(t),n=this.map[e];if("number"!=typeof n)throw"Item not found";delete this.map[e],this.items.splice(n,1);for(var i=n;i<this.items.length;i++)this.map[this.getHashCode(this.items[i])]--},Object.defineProperty(t.prototype,"length",{get:function(){return this.items.length},enumerable:!1,configurable:!0}),t}();e.HashSet=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeDescriptionManager=void 0;var i=n(202),o=n(203),r=n(204),a=n(205),s=n(206),l=n(207),c=n(208),u=n(209),h=n(210),d=n(211),p=n(120),f=n(72),m=n(212),g=n(19),v=n(121),y=n(122),_=n(123),b=n(213),C=n(214),O=n(215),x=n(216),S=n(217),w=n(124),P=n(125),k=n(218),E=n(219),T=n(220),I=n(221),j=n(222),M=n(223),D=n(224),A=n(225),R=n(226),B=n(227),L=n(228),N=n(229),z=n(230),F=n(126),H=n(232),V=n(233),U=n(234),W=n(1),K=n(236),$=n(3),G=n(237),q=function(){function t(){this.descriptions={},this.descriptionTypes={},this.descriptionCategories={},this.onShapeDecriptionChanged=new $.EventDispatcher,this.register(new v.TextShapeDescription,W.ShapeCategories.General),this.register(new g.RectangleShapeDescription,W.ShapeCategories.General),this.register(new f.EllipseShapeDescription,W.ShapeCategories.General),this.register(new d.CrossShapeDescription,W.ShapeCategories.General),this.register(new w.TriangleShapeDescription,W.ShapeCategories.General),this.register(new p.DiamondShapeDescription,W.ShapeCategories.General),this.register(new m.HeartShapeDescription,W.ShapeCategories.General),this.register(new y.PentagonShapeDescription,W.ShapeCategories.General),this.register(new _.HexagonShapeDescription,W.ShapeCategories.General),this.register(new b.OctagonShapeDescription,W.ShapeCategories.General),this.register(new C.StarShapeDescription,W.ShapeCategories.General),this.register(new h.ArrowUpShapeDescription,W.ShapeCategories.General),this.register(new O.ArrowDownShapeDescription,W.ShapeCategories.General),this.register(new S.ArrowLeftShapeDescription,W.ShapeCategories.General),this.register(new u.ArrowRightShapeDescription,W.ShapeCategories.General),this.register(new c.ArrowUpDownShapeDescription,W.ShapeCategories.General),this.register(new x.ArrowLeftRightShapeDescription,W.ShapeCategories.General),this.register(new i.ProcessShapeDescription,W.ShapeCategories.Flowchart),this.register(new o.DecisionShapeDescription,W.ShapeCategories.Flowchart),this.register(new s.TerminatorShapeDescription,W.ShapeCategories.Flowchart),this.register(new l.PredefinedProcessShapeDescription,W.ShapeCategories.Flowchart),this.register(new P.DocumentShapeDescription,W.ShapeCategories.Flowchart),this.register(new k.MultipleDocumentsShapeDescription,W.ShapeCategories.Flowchart),this.register(new r.ManualInputShapeDescription,W.ShapeCategories.Flowchart),this.register(new E.PreparationShapeDescription,W.ShapeCategories.Flowchart),this.register(new a.DataShapeDescription,W.ShapeCategories.Flowchart),this.register(new I.DatabaseShapeDescription,W.ShapeCategories.Flowchart),this.register(new T.HardDiskShapeDescription,W.ShapeCategories.Flowchart),this.register(new j.InternalStorageShapeDescription,W.ShapeCategories.Flowchart),this.register(new M.PaperTapeShapeDescription,W.ShapeCategories.Flowchart),this.register(new D.ManualOperationShapeDescription,W.ShapeCategories.Flowchart),this.register(new A.DelayShapeDescription,W.ShapeCategories.Flowchart),this.register(new R.StoredDataShapeDescription,W.ShapeCategories.Flowchart),this.register(new L.DisplayShapeDescription,W.ShapeCategories.Flowchart),this.register(new B.MergeShapeDescription,W.ShapeCategories.Flowchart),this.register(new K.ConnectorShapeDescription,W.ShapeCategories.Flowchart),this.register(new N.OrShapeDescription,W.ShapeCategories.Flowchart),this.register(new z.SummingJunctionShapeDescription,W.ShapeCategories.Flowchart),this.register(new G.CardWithImageOnLeftDescription,W.ShapeCategories.OrgChart),this.register(new G.CardWithImageOnRightDescription,W.ShapeCategories.OrgChart),this.register(new U.CardWithImageOnTopDescription,W.ShapeCategories.OrgChart),this.register(new H.VerticalContainerDescription,W.ShapeCategories.Containers),this.register(new V.HorizontalContainerDescription,W.ShapeCategories.Containers)}return Object.defineProperty(t,"default",{get:function(){return t.defaultInstance},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultContainer",{get:function(){return t.defaultContainerInstance},enumerable:!1,configurable:!0}),t.prototype.get=function(t){return this.descriptions[t]},t.prototype.getTypesByCategory=function(t){return this.descriptionTypes[t]||[]},t.prototype.getCategoryByType=function(t){return this.descriptionCategories[t]},t.prototype.getCategoryByDescription=function(t){return this.getCategoryByType(t.key)},t.prototype.register=function(t,e,n){if(void 0===n&&(n=t.key),void 0!==this.descriptions[n])throw Error("Description key is duplicated");this.descriptions[n]=t,this.descriptionTypes[e]||(this.descriptionTypes[e]=[]),this.descriptionTypes[e].push(n),this.descriptionCategories[n]=e,t.onChanged.add(this)},t.prototype.registerCustomShape=function(t){if(void 0===t.type)throw Error("Custom shape type is not defined");if(void 0!==this.descriptions[t.type])throw Error("Custom shape type is duplicated");var e=t.baseType&&this.descriptions[t.baseType];t.minWidth>t.maxWidth&&(t.maxWidth=t.minWidth),t.minHeight>t.maxHeight&&(t.maxHeight=t.minHeight),this.register(new F.CustomShapeDescription(t,e),t.category||W.ShapeCategories.Custom)},t.prototype.unregisterCustomShape=function(t){var e=this.descriptions[t];if(e instanceof F.CustomShapeDescription){e.onChanged.remove(this);var n=this.descriptionCategories[t];delete this.descriptions[t],delete this.descriptionCategories[t];var i=this.descriptionTypes[n].indexOf(t);this.descriptionTypes[n].splice(i,1),0===this.descriptionTypes[n].length&&delete this.descriptionTypes[n]}},t.prototype.unregisterAllCustomShapes=function(){var t=this;Object.keys(this.descriptions).forEach(function(e){t.unregisterCustomShape(e)})},t.prototype.notifyShapeDescriptionChanged=function(t){this.onShapeDecriptionChanged.raise1(function(e){return e.notifyShapeDescriptionChanged(t)})},t.defaultInstance=new g.RectangleShapeDescription,t.defaultContainerInstance=new H.VerticalContainerDescription,t}();e.ShapeDescriptionManager=q},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ArrowVerticalShapeDescription=e.ArrowVerticalLineWidthParameterName=e.ArrowVerticalTriangleHeightParameterName=void 0;var r=n(7),a=n(2),s=n(37),l=n(9);e.ArrowVerticalTriangleHeightParameterName="th",e.ArrowVerticalLineWidthParameterName="lw";var c=function(t){function n(){return t.call(this,new a.Size(.375*r.ShapeDefaultDimension,r.ShapeDefaultDimension))||this}return o(n,t),Object.defineProperty(n.prototype,"keepRatioOnAutoSize",{get:function(){return!1},enumerable:!1,configurable:!0}),n.prototype.createParameters=function(t){t.addRange([new s.ShapeParameter(e.ArrowVerticalTriangleHeightParameterName,Math.sqrt(Math.pow(this.defaultSize.width,2)-Math.pow(this.defaultSize.width/2,2))),new s.ShapeParameter(e.ArrowVerticalLineWidthParameterName,this.defaultSize.width/3)])},n.prototype.normalizeParameters=function(t,n){this.changeParameterValue(n,e.ArrowVerticalTriangleHeightParameterName,function(e){return Math.max(0,Math.min(t.size.height,e.value))}),this.changeParameterValue(n,e.ArrowVerticalLineWidthParameterName,function(e){return Math.max(0,Math.min(t.size.width,e.value))})},n.prototype.processConnectionPoint=function(t,n){var i=(t.size.width-t.parameters.get(e.ArrowVerticalLineWidthParameterName).value)/2,o=t.getConnectionPointSide(n);o===l.ConnectionPointSide.East?n.x-=i:o===l.ConnectionPointSide.West&&(n.x+=i)},n.prototype.getTextRectangle=function(t){return t.rectangle.clone().inflate(-r.ShapeTextPadding,-r.ShapeTextPadding)},n.prototype.getSizeByText=function(t,e){return t.clone().offset(2*r.ShapeTextPadding,2*r.ShapeTextPadding)},n}(r.ShapeDescription);e.ArrowVerticalShapeDescription=c},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ArrowHorizontalShapeDescription=e.ArrowVerticalLineHeightParameterName=e.ArrowVerticalTriangleWidthParameterName=void 0;var r=n(7),a=n(2),s=n(37),l=n(9);e.ArrowVerticalTriangleWidthParameterName="tw",e.ArrowVerticalLineHeightParameterName="lh";var c=function(t){function n(){return t.call(this,new a.Size(r.ShapeDefaultDimension,.375*r.ShapeDefaultDimension))||this}return o(n,t),Object.defineProperty(n.prototype,"keepRatioOnAutoSize",{get:function(){return!1},enumerable:!1,configurable:!0}),n.prototype.createParameters=function(t){t.addRange([new s.ShapeParameter(e.ArrowVerticalTriangleWidthParameterName,Math.sqrt(Math.pow(this.defaultSize.height,2)-Math.pow(this.defaultSize.height/2,2))),new s.ShapeParameter(e.ArrowVerticalLineHeightParameterName,this.defaultSize.height/3)])},n.prototype.normalizeParameters=function(t,n){this.changeParameterValue(n,e.ArrowVerticalTriangleWidthParameterName,function(e){return Math.max(0,Math.min(t.size.width,e.value))}),this.changeParameterValue(n,e.ArrowVerticalLineHeightParameterName,function(e){return Math.max(0,Math.min(t.size.height,e.value))})},n.prototype.processConnectionPoint=function(t,n){var i=(t.size.height-t.parameters.get(e.ArrowVerticalLineHeightParameterName).value)/2,o=t.getConnectionPointSide(n);o===l.ConnectionPointSide.North?n.y+=i:o===l.ConnectionPointSide.South&&(n.y-=i)},n.prototype.getTextRectangle=function(t){return t.rectangle.clone().inflate(-r.ShapeTextPadding,-r.ShapeTextPadding)},n.prototype.getSizeByText=function(t,e){return t.clone().offset(2*r.ShapeTextPadding,2*r.ShapeTextPadding)},n}(r.ShapeDescription);e.ArrowHorizontalShapeDescription=c},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PolygonShapeDescription=void 0;var r=n(7),a=function(t){function e(e){var n=t.call(this,void 0,e)||this;return n.defaultSize.height=n.calculateHeight(r.ShapeDefaultDimension),n}return o(e,t),Object.defineProperty(e.prototype,"keepRatioOnAutoSize",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return Math.PI*(this.angleCount-2)/this.angleCount},enumerable:!1,configurable:!0}),e}(r.ShapeDescription);e.PolygonShapeDescription=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImportUtils=void 0;var i=function(){function t(){}return t.parseJSON=function(t){if(!t||""===t)return{};try{return JSON.parse(t)}catch(t){return{}}},t.createDocument=function(t){return(new DOMParser).parseFromString(t,"application/xml")},t}();e.ImportUtils=i},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeStyleTextPropertyCommand=void 0;var r=n(135),a=n(70),s=n(26),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getValue=function(){return this.control.selection.inputPosition.getCurrentTextStylePropertyValue(this.getStyleProperty())},e.prototype.getStyleObj=function(t){return t.styleText},e.prototype.getDefaultStyleObj=function(){return new s.TextStyle},e.prototype.createHistoryItem=function(t,e,n){return new a.ChangeStyleTextHistoryItem(t.key,e,n)},e.prototype.updateInputPosition=function(t){this.control.selection.inputPosition.setTextStylePropertyValue(this.getStyleProperty(),t)},e}(r.ChangeStylePropertyCommandBase);e.ChangeStyleTextPropertyCommand=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.TreeLayoutBuilder=void 0;var r=n(138),a=n(252),s=n(71),l=n(3),c=n(0),u=n(139),h=n(38),d=n(9),p=n(20),f=n(54),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeToLevel={},e.levelDepthSize={},e}return o(e,t),e.prototype.build=function(){var t=this,e=new r.GraphLayout,n=0;return this.graph.getConnectedComponents().forEach(function(i){for(var o=a.Tree.createSpanningTree(i),r=t.processTree(o),s=t.getComponentOffset(r);r.nodeKeys.length<i.nodes.length;){var l=new f.Graph(i.nodes.filter(function(t){return!r.nodeToLayout[t]}).map(function(t){return i.getNode(t)}),i.edges.filter(function(t){return!r.edgeToPosition[t.key]})),c=a.Tree.createSpanningTree(l),u=t.processTree(c);r.extend(t.setComponentOffset(u,s)),s+=t.getComponentOffset(u)}e.extend(t.setComponentOffset(r,n)),n+=t.getComponentOffset(r)}),e},e.prototype.preProcessTree=function(t,e,n){var i=this;if((e=e.filter(function(t){return(void 0===i.nodeToLevel[t.key]?i.nodeToLevel[t.key]=n:-1)>=0})).length){var o=this.getMaxDepthSize(e);this.levelDepthSize[n]=o,this.preProcessTree(t,[].concat.apply([],e.map(function(e){return t.getChildren(e)})),n+1)}},e.prototype.loadNodes=function(t,e,n){return n?t.getChildren(n.info).map(function(t){return e.hasNode(t.key)?void 0:e.addNode(new s.NodeLayout(t,c.Point.zero()))}).filter(function(t){return t}):[e.addNode(new s.NodeLayout(t.root,c.Point.zero()))]},e.prototype.processTree=function(t){var e=this,n=new r.GraphLayout;if(this.preProcessTree(t,[t.root],0),this.processLevel(t,n,0,new l.Range(0),0),this.settings.direction===p.LogicalDirectionKind.Backward){var i=Object.keys(this.levelDepthSize).map(function(t){return e.levelDepthSize[t]}),o=i.reduce(function(t,e){return t+e},0)+(i.length-1)*this.settings.layerSpacing;n.forEachNode(function(t){return e.setDepthPos(t,e.getDepthPos(t)+o)})}return n},e.prototype.processLevel=function(t,e,n,i,o,r){var a,s=this,c=this.addNodes(t,e,o,r),u=r?this.graph.getAdjacentEdges(r.key,h.ConnectionMode.Outgoing):[],d=this.getDirectionValue(this.levelDepthSize[o]),p=this.getDirectionValue(this.settings.layerSpacing);if(c.forEach(function(r){var c=l.Range.fromLength(a?a.to+s.settings.columnSpacing:i.from,s.getBreadthNodeSizeCore(r.info));r.position=s.getNodePosition(c.from,n,d).clone().offset(r.info.margin.left,r.info.margin.top),s.processLevel(t,e,n+d+p,c,o+1,r),s.updateEdgeConnections(e,u,r),i.extend(c),a=c}),r&&c.length){var f=c[c.length-1],m=new l.Range(this.getBreadthPos(c[0]),this.getBreadthPos(f)+this.getBreadthNodeSizeCore(f.info,!0));this.alignParent(r,m,i)}},e.prototype.addNodes=function(t,e,n,i){var o=this;return 0===n?[e.addNode(new s.NodeLayout(t.root,c.Point.zero()))]:t.getChildren(i.info).reduce(function(t,i){return o.nodeToLevel[i.key]!==n||e.hasNode(i.key)||t.push(e.addNode(new s.NodeLayout(i,c.Point.zero()))),t},[])},e.prototype.getMaxDepthSize=function(t){var e=this;return t.reduce(function(t,n){return Math.max(t,e.getDepthNodeSizeCore(n))},0)},e.prototype.getNodePosition=function(t,e,n){return this.settings.direction===p.LogicalDirectionKind.Forward?this.settings.orientation===p.DataLayoutOrientation.Vertical?new c.Point(t,e):new c.Point(e,t):this.settings.orientation===p.DataLayoutOrientation.Vertical?new c.Point(t,e+n):new c.Point(e+n,t)},e.prototype.updateEdgeConnections=function(t,e,n){var i=this;e.filter(function(t){return t.to===n.key}).forEach(function(e){var n=i.getBeginEdgeIndex(),o=i.getEndEdgeIndex();t.addEdge(new s.EdgeLayout(e.key,n,o))})},e.prototype.getBeginEdgeIndex=function(){return this.settings.direction===p.LogicalDirectionKind.Forward?this.isVertical()?d.ConnectionPointSide.South:d.ConnectionPointSide.East:this.isVertical()?d.ConnectionPointSide.North:d.ConnectionPointSide.West},e.prototype.getEndEdgeIndex=function(){return this.settings.direction===p.LogicalDirectionKind.Forward?this.isVertical()?d.ConnectionPointSide.North:d.ConnectionPointSide.West:this.isVertical()?d.ConnectionPointSide.South:d.ConnectionPointSide.East},e.prototype.alignParent=function(t,e,n){if(this.settings.alignment===p.Alignment.Center){var i=e.from+e.length/2-this.getBreadthNodeSizeCore(t.info,!0)/2;this.settings.orientation===p.DataLayoutOrientation.Vertical?(t.position.x=Math.max(n.from+t.info.margin.left,i),t.position.x=Math.min(n.to-t.info.size.width-t.info.margin.right,t.position.x)):(t.position.y=Math.max(n.from+t.info.margin.top,i),t.position.y=Math.min(n.to-t.info.size.height-t.info.margin.bottom,t.position.y))}},e.prototype.getDepthPos=function(t){return this.settings.orientation===p.DataLayoutOrientation.Vertical?t.position.y:t.position.x},e.prototype.getBreadthPos=function(t){return this.settings.orientation===p.DataLayoutOrientation.Vertical?t.position.x:t.position.y},e.prototype.setDepthPos=function(t,e){this.settings.orientation===p.DataLayoutOrientation.Vertical?t.position.y=e:t.position.x=e},e.prototype.isVertical=function(){return this.settings.orientation===p.DataLayoutOrientation.Vertical},e}(u.LayoutBuilder);e.TreeLayoutBuilder=m},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ExportImageCommand=void 0;var r=n(78),a=n(260),s=n(57),l=n(73),c=n(15),u=n(79),h=n(100),d=n(46),p=function(t){function e(e){var n=t.call(this,e)||this;return n.exporter=new l.Exporter,n}return o(e,t),e.prototype.isEnabled=function(){return!d.ImageCache.instance.hasNonLoadedImages()},e.prototype.executeCore=function(t,e){var n=this;try{var i=this.getExportManager();this.getExportFunc()(this.control.model.size.clone(),this.control.model.pageColor,i,function(t){e(t,n.getExtension()),n.tryDispose()},this.control.settings.useCanvgForExportToImage)}catch(t){throw this.tryDispose(),t}return!0},e.prototype.getExportManager=function(){var t=this.getOrCreateMeasurer(),e=this.control.render&&this.control.render.items||this.createItemsManager(t);return this.exportManager||(this.exportManager=new a.CanvasExportManager(e.itemsContainer,t))},e.prototype.createItemsManager=function(t){this.svgElement=c.RenderHelper.createSvgElement(document.body,!0);var e=new r.CanvasItemsManager(this.svgElement,1,new h.ExportDOMManipulator(t));return this.control.modelManipulator.onModelChanged.add(e),this.control.modelManipulator.commitItemsCreateChanges(),e},e.prototype.tryDispose=function(){this.svgElement&&(document.body.removeChild(this.svgElement),delete this.svgElement),this.tempMeasurer&&(this.tempMeasurer.clean(),this.tempMeasurer=void 0),this.exportManager=void 0},e.prototype.getOrCreateMeasurer=function(){return this.control.measurer||(this.tempMeasurer=new u.TextMeasurer(document.body))},e}(s.ExportImportCommandBase);e.ExportImageCommand=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ItemChange=e.ItemChangeType=void 0,function(t){t[t.Create=0]="Create",t[t.UpdateProperties=1]="UpdateProperties",t[t.UpdateStructure=2]="UpdateStructure",t[t.Update=3]="Update",t[t.Remove=4]="Remove",t[t.UpdateClassName=5]="UpdateClassName"}(e.ItemChangeType||(e.ItemChangeType={}));var i=function(){function t(t,e,n){void 0===n&&(n=!0),this.item=t,this.type=e,this.isValid=n}return Object.defineProperty(t.prototype,"key",{get:function(){return this.item.key},enumerable:!1,configurable:!0}),t}();e.ItemChange=i},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ExportDOMManipulator=e.DOMManipulator=void 0;var r=n(61),a=function(){function t(t){this.measurer=t,this.queue=[]}return t.prototype.createElement=function(t,e,n){return t.createElement(function(t){null!=e&&(void 0!==n?e.insertBefore(t,n):e.appendChild(t))})},t.prototype.changeChildrenByPrimitives=function(t,e){var n=this;t.forEach(function(t,i){var o=e.childNodes[i];n.changeByPrimitive(o,t)})},t.prototype.changeByFunc=function(t,e){this.doChange(t,e)},t.prototype.changeByPrimitive=function(t,e){this.doChange(t,e)},t.prototype.cancelAnimation=function(){void 0!==this.rafId&&(cancelAnimationFrame(this.rafId),this.queue=[])},t.prototype.doChange=function(t,e){r.Diagnostics.optimizeUsingRAF?(this.queue.push([t,e]),this.requestAnimation()):this.doChangeSync(t,e)},t.prototype.doChangeSync=function(t,e){"function"==typeof e?e(t):e.applyElementProperties(t,this.measurer)},t.prototype.requestAnimation=function(){var t=this;this.rafRequested||(this.rafRequested=!0,this.rafId=requestAnimationFrame(function e(){t.queue.splice(0,2e3).forEach(function(e){return t.doChangeSync(e[0],e[1])}),t.queue.length?t.rafId=requestAnimationFrame(e):(t.rafRequested=!1,t.rafId=void 0)}))},t}();e.DOMManipulator=a;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.doChange=function(t,e){this.doChangeSync(t,e)},e}(a);e.ExportDOMManipulator=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ClipboardCommand=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.setClipboardData=function(t){this.control.render&&this.control.render.input.setClipboardData(t),e.clipboardData=t},e.prototype.getClipboardData=function(t){this.control.render&&this.isPasteSupportedByBrowser()?this.control.render.input.getClipboardData(t):t(e.clipboardData)},e.prototype.isPasteSupportedByBrowser=function(){return this.control.render&&this.control.render.input.isPasteSupportedByBrowser()},e}(n(10).SimpleCommandBase);e.ClipboardCommand=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeZindexHistoryItem=void 0;var r=function(t){function e(e,n){var i=t.call(this)||this;return i.itemKey=e.key,i.zIndex=n,i}return o(e,t),e.prototype.redo=function(t){var e=t.model.findItem(this.itemKey);this.oldZIndex=e.zIndex,t.changeZIndex(e,this.zIndex)},e.prototype.undo=function(t){var e=t.model.findItem(this.itemKey);t.changeZIndex(e,this.oldZIndex)},e}(n(8).HistoryItem);e.ChangeZindexHistoryItem=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataLayoutParameters=e.DataLayoutType=void 0;var i,o=n(20),r=n(97),a=n(80);!function(t){t[t.Tree=0]="Tree",t[t.Sugiyama=1]="Sugiyama"}(i=e.DataLayoutType||(e.DataLayoutType={}));var s=function(){function t(t,e){this.sizeSettings=t,e&&(void 0!==e.type&&(this.layoutType=e.type,this.layoutSettings=this.layoutType===i.Sugiyama?new o.LayoutSettings:new o.TreeLayoutSettings),void 0!==e.orientation&&(this.layoutSettings.orientation=e.orientation),this.skipPointIndices=e.skipPointIndices,this.autoSizeEnabled=e.autoSizeEnabled)}return Object.defineProperty(t.prototype,"needAutoLayout",{get:function(){return void 0!==this.layoutType},enumerable:!1,configurable:!0}),t.prototype.getLayoutBuilder=function(t){return this.layoutType===i.Tree?new r.TreeLayoutBuilder(this.layoutSettings,t):new a.SugiyamaLayoutBuilder(this.layoutSettings,t)},t}();e.DataLayoutParameters=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.EditShapeImageCommandBase=void 0;var r=n(146),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabled=function(){var e=this.getSelectedShape();return t.prototype.isEnabled.call(this)&&!!e&&!e.locked&&e.enableImage&&e.allowEditImage},e.prototype.getValue=function(){var t=this.getSelectedShape();return t?t.image.exportUrl:void 0},e.prototype.getSelectedShape=function(){var t=this.control.selection.getSelectedShapes(!0);return 1===t.length?t[0]:void 0},e.prototype.executeCore=function(t,e){this.control.history.beginTransaction();var n=this.control.selection.getSelectedShapes(!1);return this.control.history.addAndRedo(new r.ChangeShapeImageHistoryItem(n[0],e)),this.control.history.endTransaction(),!0},e}(n(10).SimpleCommandBase);e.EditShapeImageCommandBase=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(165),o=n(166),r=function(){function t(){}return t.remove=function(t,e){var n=t.indexOf(e,0);n>=0&&t.splice(n,1)},t.removeBy=function(t,e){for(var n=t.length,i=0;i<n;i++)if(e(t[i],i))return t.splice(i,1)[0];return null},t.shallowCopy=function(t){return t.slice()},t.deepCopy=function(e){return t.map(e,function(t){return t.clone()})},t.initByValue=function(t,e){for(var n=[];t>0;t--)n.push(e);return n},t.initByCallback=function(t,e){for(var n=[],i=0;i<t;i++)n.push(e(i));return n},t.forEachOnInterval=function(t,e){for(var n=t.end,i=t.start;i<n;i++)e(i)},t.reverseForEachOnInterval=function(t,e){for(var n=t.start,i=t.end-1;i>=n;i--)e(i)},t.reducedMap=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=t.length);for(var o=[],r=n;r<i;r++){var a=e(t[r],r);null!==a&&o.push(a)}return o},t.filter=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=t.length);for(var o=[],r=n;r<i;r++){var a=t[r];e(a,r)&&o.push(a)}return o},t.map=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=t.length);for(var o=[],r=n;r<i;r++)o.push(e(t[r],r));return o},t.indexBy=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=t.length);for(var o=n;o<i;o++)if(e(t[o],o))return o;return-1},t.reverseIndexBy=function(t,e,n,i){void 0===n&&(n=t.length-1),void 0===i&&(i=0);for(var o=n;o>=i;o--)if(e(t[o],o))return o;return-1},t.elementBy=function(e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=e.length);var r=t.indexBy(e,n,i,o);return r<0?null:e[r]},t.reverseElementBy=function(e,n,i,o){void 0===i&&(i=e.length-1),void 0===o&&(o=0);var r=t.reverseIndexBy(e,n,i,o);return r<0?null:e[r]},t.last=function(t){return t[t.length-1]},t.setLast=function(t,e){return t[t.length-1]=e},t.incLast=function(t){return++t[t.length-1]},t.decLast=function(t){return--t[t.length-1]},t.equals=function(e,n){return e.length===n.length&&t.allOf2(e,n,function(t,e){return t.equals(e)})},t.equalsByReference=function(t,e){var n=t.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0},t.unique=function(e,n,i,o){void 0===i&&(i=n),void 0===o&&(o=function(){});var r=e.length;if(0===r)return[];var a=(e=e.sort(n))[0],s=t.reducedMap(e,function(t){return 0!==i(a,t)?(a=t,t):(o(t),null)},1,r);return s.unshift(e[0]),s},t.uniqueNumber=function(t){t=t.sort(o.Comparers.number);for(var e=Number.NaN,n=t.length-1;n>=0;n--)e===t[n]?t.splice(n,1):e=t[n];return t},t.forEach=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=t.length);for(var o=n;o<i;o++)e(t[o],o)},t.forEach2=function(t,e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=t.length);for(var r=i;r<o;r++)n(t[r],e[r],r)},t.reverseForEach=function(t,e,n,i){void 0===n&&(n=t.length-1),void 0===i&&(i=0);for(var o=n;o>=i;o--)e(t[o],o)},t.reverseIndexOf=function(t,e,n,i){void 0===n&&(n=t.length-1),void 0===i&&(i=0);for(var o=n;o>=i;o--)if(t[o]===e)return o;return-1},t.accumulate=function(t,e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=t.length);for(var r=e,a=i;a<o;a++)r=n(r,t[a],a);return r},t.accumulateNumber=function(t,e,n,i,o){void 0===n&&(n=0),void 0===i&&(i=0),void 0===o&&(o=t.length);for(var r=n,a=i;a<o;a++)r+=e(t[a],a,r);return r},t.anyOf=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=t.length);for(var o=n;o<i;o++)if(e(t[o],o))return!0;return!1},t.unsafeAnyOf=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=t.length);for(var o=n;o<i;o++){var r=e(t[o],o);if(r)return r}return null},t.reverseAnyOf=function(t,e,n,i){void 0===n&&(n=t.length-1),void 0===i&&(i=0);for(var o=n;o>=i;o--)if(e(t[o],o))return!0;return!1},t.unsafeReverseAnyOf=function(t,e,n,i){void 0===n&&(n=t.length-1),void 0===i&&(i=0);for(var o=n;o>=i;o--){var r=e(t[o],o);if(r)return r}return null},t.anyOf2=function(t,e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=t.length);for(var r=i;r<o;r++)if(n(t[r],e[r],r))return!0;return!1},t.allOf=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=t.length);for(var o=n;o<i;o++)if(!e(t[o],o))return!1;return!0},t.allOf2=function(t,e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=t.length);for(var r=i;r<o;r++)if(!n(t[r],e[r],r))return!1;return!0},t.allOfOnInterval=function(t,e){for(var n=t.end,i=t.start;i<n;i++)if(!e(i))return!1;return!0},t.addListOnTail=function(t,e){for(var n=0,i=void 0;i=e[n];n++)t.push(i);return t},t.joinLists=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return t.accumulate(n,[],function(n,i){return t.addListOnTail(n,e(i)),n})},t.push=function(t,e){return t.push(e),t},t.countIf=function(e,n){return t.accumulateNumber(e,function(t,e){return n(t,e)?1:0})},t.clear=function(t){t.splice(0)},t.merge=function(t,e,n,i,o,r){if(void 0===o&&(o=0),void 0===r&&(r=t.length),t=t.slice(o,r),r-o<2)return t;for(var a=(t=t.sort(e))[o],s=[a],l=o+1;l<r;l++){var c=t[l];n(a,c)?i(a,c):(a=c,s.push(a))}return s},t.min=function(e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=e.length);var r=t.minExtended(e,n,i,o);return r?r.minElement:null},t.max=function(e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=e.length);var r=t.maxExtended(e,n,i,o);return r?r.maxElement:null},t.minMax=function(e,n,o,r){void 0===o&&(o=0),void 0===r&&(r=e.length);var a=t.minMaxExtended(e,n,o,r);return a?new i.MinMax(a.minElement,a.maxElement):null},t.minExtended=function(t,e,n,o){if(void 0===n&&(n=0),void 0===o&&(o=t.length),0===t.length)return null;for(var r=t[n],a=e(r),s=n+1;s<o;s++){var l=t[s],c=e(l);c<a&&(a=c,r=l)}return new i.ExtendedMin(r,a)},t.maxExtended=function(t,e,n,o){if(void 0===n&&(n=0),void 0===o&&(o=t.length),0===t.length)return null;for(var r=t[n],a=e(r),s=n+1;s<o;s++){var l=t[s],c=e(l);c>a&&(a=c,r=l)}return new i.ExtendedMax(r,a)},t.minMaxExtended=function(t,e,n,o){if(void 0===n&&(n=0),void 0===o&&(o=t.length),0===t.length)return null;for(var r=t[n],a=r,s=e(r),l=s,c=n+1;c<o;c++){var u=t[c],h=e(u);h<s?(s=h,r=u):h>l&&(l=h,a=u)}return new i.ExtendedMinMax(r,s,a,l)},t.minByCmp=function(t,e,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),0===t.length)return null;for(var o=t[n],r=n+1;r<i;r++){var a=t[r];e(a,o)<0&&(o=a)}return o},t.maxByCmp=function(t,e,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),0===t.length)return null;for(var o=t[n],r=n+1;r<i;r++){var a=t[r];e(a,o)>0&&(o=a)}return o},t.minMaxByCmp=function(t,e,n,o){if(void 0===n&&(n=0),void 0===o&&(o=t.length),0===t.length)return null;for(var r=t[n],a=r,s=n+1;s<o;s++){var l=t[s],c=e(l,r);c>0?a=l:c<0&&(r=l)}return new i.MinMax(r,a)},t}();e.ListUtils=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(59),o=function(t){function e(e,n){var i=t.call(this)||this;return i.start=e,i.length=n,i}return i.__extends(e,t),Object.defineProperty(e.prototype,"end",{get:function(){return this.start+this.length},set:function(t){this.length=t-this.start},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.start+this.length/2},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(t){this.start=t.start,this.length=t.length},e.prototype.equals=function(t){return t&&this.start===t.start&&this.length===t.length},e.prototype.clone=function(){return new e(this.start,this.length)},e.prototype.makeByStartEnd=function(t,n){return new e(t,n-t)},e.prototype.makeByStartLength=function(t,n){return new e(t,n)},e.prototype.makeByLengthEnd=function(t,n){return new e(n-t,t)},e.fromPositions=function(t,n){return new e(t,n-t)},e.makeByConstInterval=function(t){return new e(t.start,t.length)},e.prototype.expand=function(t){var e=Math.max(t.end,this.end);return this.start=Math.min(t.start,this.start),this.end=e,this},e}(n(167).MutableInterval);e.FixedInterval=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.sparseIntervals=t,this.intervalIndex=-1}return Object.defineProperty(t.prototype,"isStarted",{get:function(){return!!this.curr},enumerable:!0,configurable:!0}),t.prototype.moveNext=function(){return this.curr&&this.posInInterval+1<this.curr.length?(this.posInInterval++,this.index++,this.initObject(),!0):this.intervalIndex+1<this.sparseIntervals.numIntervals&&(this.intervalIndex++,this.curr=this.sparseIntervals.getInterval(this.intervalIndex),this.curr.length?(this.posInInterval=0,this.index=this.curr.start,this.initObject(),!0):this.moveNext())},t.prototype.movePrev=function(){return this.curr&&this.posInInterval-1>=this.curr.start?(this.posInInterval--,this.index--,this.initObject(),!0):(this.isStarted||(this.intervalIndex=this.sparseIntervals.numIntervals),this.intervalIndex-1>=0&&(this.intervalIndex--,this.curr=this.sparseIntervals.getInterval(this.intervalIndex),this.posInInterval=Math.max(this.curr.length-1,this.curr.start),this.index=this.curr.start,this.initObject(),!0))},t.prototype.initObject=function(){},t}();e.SparseIntervalsIterator=i},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FilterPrimitive=void 0;var r=n(15),a=function(t){function e(e,n,i,o,r){var a=t.call(this)||this;return a.id=e,a.x=n,a.y=i,a.width=o,a.height=r,a}return o(e,t),e.prototype.createMainElement=function(){var t=document.createElementNS(r.svgNS,"filter");return t.setAttribute("id",this.id),t},e.prototype.applyElementProperties=function(e,n){this.id&&e.setAttribute("id",this.id),this.setUnitAttribute(e,"x",this.x),this.setUnitAttribute(e,"y",this.y),this.setUnitAttribute(e,"width",this.width),this.setUnitAttribute(e,"height",this.height),this.setPositionCorrectionAttribute(e),t.prototype.applyElementProperties.call(this,e,n)},e}(n(24).SvgPrimitive);e.FilterPrimitive=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrimitiveObject=void 0;var i=n(12),o=function(){function t(t){this.style=t}return Object.defineProperty(t.prototype,"strokeWidthPx",{get:function(){return this.style?this.style.strokeWidthPx:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeOffset",{get:function(){return this.style?this.style.strokeOffset:0},enumerable:!1,configurable:!0}),t.prototype.getUnitVaue=function(t){return"number"==typeof t?i.UnitConverter.twipsToPixels(t).toString():t},t.prototype.setUnitAttribute=function(t,e,n){null!=n&&t.setAttribute(e,this.getUnitVaue(n))},t.prototype.setPositionCorrectionAttribute=function(t){var e=this.strokeWidthPx%2==1?"translate("+this.strokeOffset+", "+this.strokeOffset+")":"";t.setAttribute("transform",e)},t}();e.PrimitiveObject=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isColorProperty=void 0;var i={stroke:!0,fill:!0};e.isColorProperty=function(t){return i[t]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectorPointsCalculatorBase=void 0;var i=function(t){this.connector=t};e.ConnectorPointsCalculatorBase=i},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeShapeParametersHistoryItem=void 0;var r=function(t){function e(e,n){var i=t.call(this)||this;return i.shapeKey=e,i.parameters=n,i}return o(e,t),e.prototype.redo=function(t){var e=t.model.findShape(this.shapeKey);this.oldParameters=e.parameters.clone(),t.changeShapeParameters(e,this.parameters)},e.prototype.undo=function(t){var e=t.model.findShape(this.shapeKey);t.changeShapeParameters(e,this.oldParameters)},e}(n(8).HistoryItem);e.ChangeShapeParametersHistoryItem=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteConnectorHistoryItem=void 0;var r=function(t){function e(e){var n=t.call(this)||this;return n.connectorKey=e,n}return o(e,t),e.prototype.redo=function(t){var e=t.model.findConnector(this.connectorKey);this.connector=e.clone(),t.deleteConnector(e)},e.prototype.undo=function(t){t.addConnector(this.connector,this.connector.key)},e}(n(8).HistoryItem);e.DeleteConnectorHistoryItem=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteShapeHistoryItem=void 0;var r=function(t){function e(e,n){void 0===n&&(n=!0);var i=t.call(this)||this;return i.shapeKey=e,i.allowed=n,i}return o(e,t),e.prototype.redo=function(t){var e=t.model.findShape(this.shapeKey);this.shape=e.clone(),t.deleteShape(e,this.allowed)},e.prototype.undo=function(t){t.addShape(this.shape,this.shape.key)},e}(n(8).HistoryItem);e.DeleteShapeHistoryItem=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ResizeShapeHistoryItem=void 0;var r=function(t){function e(e,n,i){var o=t.call(this)||this;return o.shapeKey=e,o.position=n,o.size=i,o}return o(e,t),e.prototype.redo=function(t){var e=t.model.findShape(this.shapeKey);this.oldPosition=e.position.clone(),this.oldSize=e.size.clone(),t.resizeShape(e,this.position,this.size)},e.prototype.undo=function(t){var e=t.model.findShape(this.shapeKey);t.resizeShape(e,this.oldPosition,this.oldSize)},e}(n(8).HistoryItem);e.ResizeShapeHistoryItem=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeCustomDataHistoryItem=void 0;var r=n(8),a=n(3),s=function(t){function e(e,n){var i=t.call(this)||this;return i.itemKey=e,i.customData=a.ObjectUtils.cloneObject(n),i}return o(e,t),e.prototype.redo=function(t){var e=t.model.findItem(this.itemKey);this.oldCustomData=a.ObjectUtils.cloneObject(e.customData),t.changeCustomData(e,this.customData)},e.prototype.undo=function(t){var e=t.model.findItem(this.itemKey);t.changeCustomData(e,this.oldCustomData)},e}(r.HistoryItem);e.ChangeCustomDataHistoryItem=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeLockedHistoryItem=void 0;var r=function(t){function e(e,n){var i=t.call(this)||this;return i.itemKey=e.key,i.locked=n,i}return o(e,t),e.prototype.redo=function(t){var e=t.model.findItem(this.itemKey);this.oldLocked=e.locked,t.changeLocked(e,this.locked)},e.prototype.undo=function(t){var e=t.model.findItem(this.itemKey);t.changeLocked(e,this.oldLocked)},e}(n(8).HistoryItem);e.ChangeLockedHistoryItem=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeStyleHistoryItemBase=void 0;var r=function(t){function e(e,n,i){var o=t.call(this)||this;return o.itemKey=e,o.styleProperty=n,o.styleValue=i,o}return o(e,t),e.prototype.redo=function(t){var e=t.model.findItem(this.itemKey);this.oldStyleValue=e.style[this.styleProperty],t.changeStyle(e,this.styleProperty,this.styleValue)},e.prototype.undo=function(t){var e=t.model.findItem(this.itemKey);t.changeStyle(e,this.styleProperty,this.oldStyleValue)},e}(n(8).HistoryItem);e.ChangeStyleHistoryItemBase=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Importer=void 0;var r=n(14),a=n(3),s=n(2),l=n(0),c=n(91),u=n(6),h=n(51),d=n(133),p=n(95),f=n(22),m=function(t){function e(e,n){var i=t.call(this,e)||this;return i.obj=p.ImportUtils.parseJSON(n),i}return o(e,t),e.prototype.getObject=function(){return this.obj},e.prototype.getPageObject=function(t){return t.page},e.prototype.getShapeObjects=function(t){return t.shapes},e.prototype.getConnectorObjects=function(t){return t.connectors},e.prototype.importPageSettings=function(t,e){e&&(this.assert(e.width,"number"),this.assert(e.height,"number"),"number"==typeof e.width&&(t.size.width=e.width),"number"==typeof e.height&&(t.size.height=e.height),"number"==typeof e.pageColor?t.pageColor=e.pageColor:"string"==typeof e.pageColor&&(t.pageColor=f.ColorUtils.fromString(e.pageColor)),"number"==typeof e.pageWidth&&(t.pageSize.width=e.pageWidth),"number"==typeof e.pageHeight&&(t.pageSize.height=e.pageHeight),"boolean"==typeof e.pageLandscape&&(t.pageLandscape=e.pageLandscape))},e.prototype.importShape=function(t){this.assert(t.key,"string"),this.assert(t.x,"number"),this.assert(t.y,"number"),this.assert(t.type,"string");var e=t.type,n=this.shapeDescriptionManager.get(e),i=new l.Point(t.x,t.y),o=new r.Shape(n||c.ShapeDescriptionManager.default,i);return o.key=t.key,"string"!=typeof t.dataKey&&"number"!=typeof t.dataKey||(o.dataKey=t.dataKey),"object"==typeof t.customData&&(o.customData=a.ObjectUtils.cloneObject(t.customData)),"boolean"==typeof t.locked&&(o.locked=t.locked),"number"==typeof t.width&&(o.size.width=t.width),"number"==typeof t.height&&(o.size.height=t.height),"string"==typeof t.text&&(o.text=t.text),"string"==typeof t.imageUrl&&(o.image=new h.ImageInfo(t.imageUrl)),t.parameters&&(o.parameters.fromObject(t.parameters),o.description.normalizeParameters(o,o.parameters)),t.style&&o.style.fromObject(t.style),t.styleText&&o.styleText.fromObject(t.styleText),"number"==typeof t.zIndex&&(o.zIndex=t.zIndex),Array.isArray(t.childKeys)&&(o.childKeys=t.childKeys.slice()),"boolean"==typeof t.expanded&&(o.expanded=t.expanded),"number"==typeof t.expandedWidth&&"number"==typeof t.expandedHeight&&(o.expandedSize=new s.Size(t.expandedWidth,t.expandedHeight)),o},e.prototype.importShapeChildren=function(t,e){return[]},e.prototype.importConnector=function(t){var e=this;if(this.assert(t.key,"string"),!Array.isArray(t.points))throw Error("Invalid Format");var n=t.points.map(function(t){return e.assert(t.x,"number"),e.assert(t.y,"number"),new l.Point(t.x,t.y)}),i=new u.Connector(n);return i.key=t.key,"string"!=typeof t.dataKey&&"number"!=typeof t.dataKey||(i.dataKey=t.dataKey),"object"==typeof t.customData&&(i.customData=a.ObjectUtils.cloneObject(t.customData)),"boolean"==typeof t.locked&&(i.locked=t.locked),i.endConnectionPointIndex="number"==typeof t.endConnectionPointIndex?t.endConnectionPointIndex:-1,i.beginConnectionPointIndex="number"==typeof t.beginConnectionPointIndex?t.beginConnectionPointIndex:-1,void 0!==t.endItemKey&&this.assert(t.endItemKey,"string"),void 0!==t.beginItemKey&&this.assert(t.beginItemKey,"string"),i.endItemKey=t.endItemKey,i.beginItemKey=t.beginItemKey,t.texts&&i.texts.fromObject(t.texts),t.properties&&i.properties.fromObject(t.properties),t.style&&i.style.fromObject(t.style),t.styleText&&i.styleText.fromObject(t.styleText),"number"==typeof t.zIndex&&(i.zIndex=t.zIndex),i},e}(d.ImporterBase);e.Importer=m},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DiamondShapeDescription=void 0;var r=n(7),a=n(5),s=n(1),l=function(t){function e(e,n){return void 0===e&&(e=r.ShapeDefaultSize.clone()),t.call(this,e,n)||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return s.ShapeTypes.Diamond},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepRatioOnAutoSize",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(t){var e=t.rectangle,n=e.x,i=e.y,o=e.right,r=e.bottom,s=e.center,l=s.x,c=s.y;return[new a.PathPrimitive([new a.PathPrimitiveMoveToCommand(l,i),new a.PathPrimitiveLineToCommand(o,c),new a.PathPrimitiveLineToCommand(l,r),new a.PathPrimitiveLineToCommand(n,c),new a.PathPrimitiveClosePathCommand],t.style)]},e.prototype.getTextRectangle=function(t){return t.rectangle.clone().inflate(-t.size.width/4,-t.size.height/4)},e.prototype.getSizeByText=function(t,e){return t.clone().multiply(2,2)},e}(r.ShapeDescription);e.DiamondShapeDescription=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.TextShapeDescription=void 0;var r=n(7),a=n(2),s=n(1),l=n(56),c=n(21),u=n(17),h=function(t){function e(){var e=t.call(this,new a.Size(r.ShapeDefaultDimension,.5*r.ShapeDefaultDimension),!0)||this;return e.textClipPathId=u.RenderUtils.generateSvgElementId("clipRect"),e}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return s.ShapeTypes.Text},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepRatioOnAutoSize",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(t,e){if(e){var n=t.rectangle,i=n.x,o=n.y,r=n.width,a=n.height;return[new l.ClipPathPrimitive(this.getTextClipPathId(e),[new c.RectanglePrimitive(i,o,r,a)])]}return[]},e.prototype.getTextClipPathId=function(t){return t?this.textClipPathId:void 0},e.prototype.getSizeByTextRectangle=function(t){return t},e.prototype.getSizeByText=function(t,e){return t.clone()},e.prototype.getTextRectangle=function(t){return t.rectangle},e}(r.ShapeDescription);e.TextShapeDescription=h},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PentagonShapeDescription=void 0;var r=n(5),a=n(1),s=n(94),l=n(9),c=n(3),u=n(13),h=function(t){function e(e){var n=t.call(this,e)||this;return n.defaultRatio=n.defaultSize.height/n.defaultSize.width,n}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return a.ShapeTypes.Pentagon},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angleCount",{get:function(){return 5},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(t){var e=t.rectangle,n=e.x,i=e.y,o=e.right,a=e.bottom,s=e.width,l=e.height,c=e.center.x,u=l/s/this.defaultRatio,h=Math.PI-this.angle,d=s/2*Math.tan(h/2)*u,p=i+d,f=(l-d)/Math.tan(h)/u,m=n+f,g=o-f;return[new r.PathPrimitive([new r.PathPrimitiveMoveToCommand(c,i),new r.PathPrimitiveLineToCommand(o,p),new r.PathPrimitiveLineToCommand(g,a),new r.PathPrimitiveLineToCommand(m,a),new r.PathPrimitiveLineToCommand(n,p),new r.PathPrimitiveClosePathCommand],t.style)]},e.prototype.processConnectionPoint=function(t,e){var n=t.getConnectionPointSide(e);if(n===l.ConnectionPointSide.East||n===l.ConnectionPointSide.West){var i=t.rectangle,o=i.y,r=i.width,a=i.height/r/this.defaultRatio,s=Math.PI-this.angle,c=o+r/2*Math.tan(s/2)*a;n===l.ConnectionPointSide.East?e.y=c:n===l.ConnectionPointSide.West&&(e.y=c)}},e.prototype.calculateHeight=function(t){var e=Math.PI-this.angle;return t/2*Math.tan(e/2)+t/2/Math.cos(e/2)*Math.sin(e)},e.prototype.getTextRectangle=function(t){var e=c.GeometryUtils.getMaxRectangleEnscribedInEllipse(t.size);return u.Rectangle.fromGeometry(t.position.clone().offset((t.size.width-e.width)/2,(t.size.height-e.height)/2),e)},e.prototype.getSizeByText=function(t,e){return c.GeometryUtils.getEllipseByEnscribedRectangle(t)},e}(s.PolygonShapeDescription);e.PentagonShapeDescription=h},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.HexagonShapeDescription=void 0;var r=n(5),a=n(1),s=n(94),l=n(3),c=n(13),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return a.ShapeTypes.Hexagon},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angleCount",{get:function(){return 6},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(t){var e=t.rectangle,n=e.x,i=e.y,o=e.right,a=e.bottom,s=e.width,l=e.center.y,c=Math.PI-this.angle,u=s/(1+2*Math.cos(c)),h=n+(s-u)/2,d=h+u;return[new r.PathPrimitive([new r.PathPrimitiveMoveToCommand(h,i),new r.PathPrimitiveLineToCommand(d,i),new r.PathPrimitiveLineToCommand(o,l),new r.PathPrimitiveLineToCommand(d,a),new r.PathPrimitiveLineToCommand(h,a),new r.PathPrimitiveLineToCommand(n,l),new r.PathPrimitiveClosePathCommand],t.style)]},e.prototype.calculateHeight=function(t){var e=Math.PI-this.angle;return t/(1+2*Math.cos(e))*2*Math.sin(e)},e.prototype.getTextRectangle=function(t){var e=l.GeometryUtils.getMaxRectangleEnscribedInEllipse(t.size);return c.Rectangle.fromGeometry(t.position.clone().offset((t.size.width-e.width)/2,(t.size.height-e.height)/2),e)},e.prototype.getSizeByText=function(t,e){return l.GeometryUtils.getEllipseByEnscribedRectangle(t)},e}(s.PolygonShapeDescription);e.HexagonShapeDescription=u},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.TriangleShapeDescription=void 0;var r=n(7),a=n(5),s=n(1),l=n(45),c=n(9),u=n(13),h=n(2),d=function(t){function e(e){var n=t.call(this,void 0,e)||this;return n.defaultSize.height=n.calculateHeight(r.ShapeDefaultDimension),n}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return s.ShapeTypes.Triangle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepRatioOnAutoSize",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.createConnectionPoints=function(){return[new l.ConnectionPoint(.5,0,c.ConnectionPointSide.North),new l.ConnectionPoint(.75,.5,c.ConnectionPointSide.East),new l.ConnectionPoint(.5,1,c.ConnectionPointSide.South),new l.ConnectionPoint(.25,.5,c.ConnectionPointSide.West)]},e.prototype.createShapePrimitives=function(t){var e=t.rectangle,n=e.x,i=e.y,o=e.right,r=e.bottom;return[new a.PathPrimitive([new a.PathPrimitiveMoveToCommand(e.center.x,i),new a.PathPrimitiveLineToCommand(o,r),new a.PathPrimitiveLineToCommand(n,r),new a.PathPrimitiveClosePathCommand],t.style)]},e.prototype.calculateHeight=function(t){return Math.sqrt(Math.pow(t,2)-Math.pow(t/2,2))},e.prototype.getTextRectangle=function(t){return new u.Rectangle(t.position.x+t.size.width/4,t.position.y+t.size.height/2,t.size.width/2,t.size.height/2-r.ShapeTextPadding).nonNegativeSize()},e.prototype.getSizeByText=function(t,e){return new h.Size(2*t.width,2*t.height+r.ShapeTextPadding)},e}(r.ShapeDescription);e.TriangleShapeDescription=d},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentShapeDescription=void 0;var r=n(19),a=n(1),s=n(5),l=n(9),c=function(t){function e(){return t.call(this,void 0,!0)||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return a.ShapeTypes.Document},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepRatioOnAutoSize",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(t){return this.createDocumentPrimitives(t.rectangle,t.style)},e.prototype.createDocumentPrimitives=function(t,n){var i=t.x,o=t.y,r=t.right,a=t.bottom,l=t.width,c=t.height,u=t.center.x,h=c*e.curveOffsetRatio;return[].concat([new s.PathPrimitive([new s.PathPrimitiveMoveToCommand(i,o),new s.PathPrimitiveLineToCommand(r,o),new s.PathPrimitiveLineToCommand(r,a),new s.PathPrimitiveQuadraticCurveToCommand(r-.25*l,a-2*h,u,a-h),new s.PathPrimitiveQuadraticCurveToCommand(i+.25*l,a+h,i,a-h),new s.PathPrimitiveClosePathCommand],n)])},e.prototype.processConnectionPoint=function(t,n){t.getConnectionPointSide(n)===l.ConnectionPointSide.South&&(n.y-=t.size.height*e.curveOffsetRatio)},e.prototype.getTextRectangle=function(t){var n=t.rectangle;return n.clone().resize(0,-n.height*e.curveOffsetRatio)},e.curveOffsetRatio=.1,e}(r.RectangleShapeDescription);e.DocumentShapeDescription=c},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomShapeDescription=void 0;var r=n(127),a=n(13),s=n(2),l=n(0),c=n(45),u=n(9),h=n(128),d=n(7),p=n(51),f=n(46),m=n(130),g=n(231),v=function(t){function e(e,n){var i=t.call(this,new s.Size(e.defaultWidth||n&&n.defaultSize.width||d.ShapeDefaultDimension,e.defaultHeight||n&&n.defaultSize.height||d.ShapeDefaultDimension))||this;if(i.properties=e,i.baseDescription=n,i.imageLoader=new m.ImageLoader(i.updateSvgImage.bind(i)),i.defaultText=void 0!==e.defaultText?e.defaultText:n&&n.getDefaultText(),i.defaultImageUrl=e.defaultImageUrl||n&&n.getDefaultImageUrl(),i.title=e.title||n&&n.getTitle()||i.defaultText||"",i.connectionPoints=i.createConnectionPoints(),e.svgUrl){i.svgImage=new p.ImageInfo(e.svgUrl);var o=f.ImageCache.instance.createUnloadedInfoByShapeImageInfo(i.svgImage);i.imageLoader.load(o)}return e.svgToolboxUrl&&(i.svgToolboxImage=new p.ImageInfo(e.svgToolboxUrl),o=f.ImageCache.instance.createUnloadedInfoByShapeImageInfo(i.svgToolboxImage),i.imageLoader.load(o)),i}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return this.properties.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allowEditText",{get:function(){return!1!==this.properties.allowEditText},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allowEditImage",{get:function(){return this.baseDescription?this.baseDescription.allowEditImage:!0===this.properties.allowEditImage},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enableChildren",{get:function(){return this.baseDescription&&this.baseDescription.enableChildren},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasTemplate",{get:function(){return!!this.properties.createTemplate},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minWidth",{get:function(){return this.properties.minWidth||this.baseDescription&&this.baseDescription.minWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minHeight",{get:function(){return this.properties.minHeight||this.baseDescription&&this.baseDescription.minHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this.properties.maxWidth||this.baseDescription&&this.baseDescription.maxWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxHeight",{get:function(){return this.properties.maxHeight||this.baseDescription&&this.baseDescription.maxHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepRatioOnAutoSize",{get:function(){return this.properties.keepRatioOnAutoSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"toolboxSize",{get:function(){return this.properties.toolboxWidthToHeightRatio?new s.Size(this.defaultSize.width,this.defaultSize.width/this.properties.toolboxWidthToHeightRatio):this.defaultSize},enumerable:!1,configurable:!0}),e.prototype.getTextAngle=function(){return this.baseDescription&&this.baseDescription.getTextAngle()||t.prototype.getTextAngle.call(this)},e.prototype.getTitle=function(){return void 0!==this.title?this.title:t.prototype.getTitle.call(this)},e.prototype.getDefaultText=function(){return void 0!==this.defaultText?this.defaultText:t.prototype.getDefaultText.call(this)},e.prototype.getDefaultImageUrl=function(){return void 0!==this.defaultImageUrl?this.defaultImageUrl:t.prototype.getDefaultImageUrl.call(this)},e.prototype.allowResizeHorizontally=function(e){return!1!==this.properties.allowResize&&(this.baseDescription?this.baseDescription.allowResizeHorizontally(e):t.prototype.allowResizeHorizontally.call(this,e))},e.prototype.allowResizeVertically=function(e){return!1!==this.properties.allowResize&&(this.baseDescription?this.baseDescription.allowResizeVertically(e):t.prototype.allowResizeVertically.call(this,e))},e.prototype.createConnectionPoints=function(){return this.properties&&this.properties.connectionPoints&&this.properties.connectionPoints.length?this.properties.connectionPoints.map(function(t){if(t&&"number"==typeof t.x&&"number"==typeof t.y){var e="number"==typeof t.side?t.side:u.ConnectionPointSide.Undefined;return new c.ConnectionPoint(t.x,t.y,e)}}).filter(function(t){return t}):t.prototype.createConnectionPoints.call(this)},e.prototype.getConnectionPointSides=function(){for(var t={},e=0;e<this.connectionPoints.length;e++){var n=d.ShapeDescription.getConnectionPointSideByGeometry(this.connectionPoints[e]);t[n]||(t[n]=[]),t[n].push(e)}return t},e.prototype.getConnectionPointIndexForSide=function(t){var e=this.getConnectionPointSides(),n=e[t];if(n){var i=Math.floor(n.length/2);return n.length%2==0&&i--,n[i]}return(n=e[(t+1)%4])?n[0]:(n=e[(t+3)%4])?n[n.length-1]:(n=e[(t+2)%4])?n[0]:t},e.prototype.createImagePrimitives=function(e,n){return this.baseDescription?this.baseDescription.createImagePrimitives(e,n):t.prototype.createImagePrimitives.call(this,e,n)},e.prototype.createShapePrimitives=function(t,e){var n=[],i=t.rectangle,o=i.x,a=i.y,s=i.width,l=i.height;if(this.baseDescription)n=this.baseDescription.createShapePrimitives(t,e);else{var c=e&&this.svgToolboxImage?this.svgToolboxImage:this.svgImage;if(c){var u=o+(this.properties.svgLeft&&!e?this.properties.svgLeft*s:0),h=a+(this.properties.svgTop&&!e?this.properties.svgTop*l:0),d=this.properties.svgWidth&&!e?this.properties.svgWidth*s:s,p=this.properties.svgHeight&&!e?this.properties.svgHeight*l:l;n=n.concat([new r.ImagePrimitive(u,h,d,p,c.exportUrl)])}}var f=e&&this.properties.createToolboxTemplate||this.properties.createTemplate;if(f){var m=o+(this.properties.templateLeft&&!e?this.properties.templateLeft*s:0),v=a+(this.properties.templateTop&&!e?this.properties.templateTop*l:0),y=this.properties.templateWidth&&!e?this.properties.templateWidth*s:s,_=this.properties.templateHeight&&!e?this.properties.templateHeight*l:l,b=this.properties.apiController?this.properties.apiController.createNativeShape(t):t.toNative();n=n.concat([new g.SvgElementPrimitive(m,v,y,_,f,this.properties.destroyTemplate,b)])}return n},e.prototype.createParameters=function(e){return this.baseDescription?this.baseDescription.createParameters(e):t.prototype.createParameters.call(this,e)},e.prototype.normalizeParameters=function(e,n){this.baseDescription?this.baseDescription.normalizeParameters(e,n):t.prototype.normalizeParameters.call(this,e,n)},e.prototype.modifyParameters=function(e,n,i,o){this.baseDescription?this.baseDescription.modifyParameters(e,n,i,o):t.prototype.modifyParameters.call(this,e,n,i,o)},e.prototype.getParameterPoints=function(e){return this.baseDescription?this.baseDescription.getParameterPoints(e):t.prototype.getParameterPoints.call(this,e)},e.prototype.getTextRectangle=function(t){if(this.baseDescription)return this.baseDescription.getTextRectangle(t);var e=t.rectangle,n=e.x,i=e.y,o=e.width,r=e.height;return new a.Rectangle(n+(this.properties.textLeft?this.properties.textLeft*o:0),i+(this.properties.textTop?this.properties.textTop*r:0),this.properties.textWidth?this.properties.textWidth*o:o,this.properties.textHeight?this.properties.textHeight*r:r)},e.prototype.getSizeByText=function(t,e){if(this.baseDescription)return this.baseDescription.getSizeByText(t,e);var n=this.properties.textWidth;n||(n=1);var i=this.properties.textHeight;return i||(i=1),new s.Size(t.width/n,t.height/i)},e.prototype.getImageSize=function(t,e,n){return this.baseDescription?this.baseDescription instanceof h.ShapeWithImageDescription?this.baseDescription.getImageSize(t,e,n):s.Size.empty():new s.Size(this.properties.imageWidth?this.properties.imageWidth*t.width:t.width,this.properties.imageHeight?this.properties.imageHeight*t.height:t.height).nonNegativeSize()},e.prototype.getImagePlacementRectangle=function(t,e){if(this.baseDescription)return this.baseDescription instanceof h.ShapeWithImageDescription?this.baseDescription.getImagePlacementRectangle(t,e):a.Rectangle.fromGeometry(l.Point.zero(),s.Size.empty());var n=t.x,i=t.y,o=t.width,r=t.height;return new a.Rectangle(n+(this.properties.imageLeft&&!e?this.properties.imageLeft*o:0),i+(this.properties.imageTop&&!e?this.properties.imageTop*r:0),this.properties.imageWidth&&!e?this.properties.imageWidth*o:o,this.properties.imageHeight&&!e?this.properties.imageHeight*r:r)},e.prototype.updateSvgImage=function(t){var e=t.imageUrl&&t.imageUrl===this.properties.svgToolboxUrl,n=e?this.svgToolboxImage:this.svgImage;t.base64?n.loadBase64Content(t.base64):n.setUnableToLoadFlag(),e||this.raiseShapeDescriptionChanged(this)},e}(h.ShapeWithImageDescription);e.CustomShapeDescription=v},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ImagePrimitive=void 0;var r=n(15),a=function(t){function e(e,n,i,o,r,a,s,l){void 0===a&&(a="none");var c=t.call(this,s,l)||this;return c.x=e,c.y=n,c.width=i,c.height=o,c.url=r,c.preserveAspectRatio=a,c}return o(e,t),e.prototype.createMainElement=function(){return document.createElementNS(r.svgNS,"image")},e.prototype.applyElementProperties=function(e,n){this.setUnitAttribute(e,"x",this.x),this.setUnitAttribute(e,"y",this.y),this.setUnitAttribute(e,"width",this.width),this.setUnitAttribute(e,"height",this.height),this.setPositionCorrectionAttribute(e),e.setAttribute("href",this.url),e.setAttribute("preserveAspectRatio",this.preserveAspectRatio),t.prototype.applyElementProperties.call(this,e,n)},e}(n(24).SvgPrimitive);e.ImagePrimitive=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeWithImageDescription=e.SHAPE_IMAGE_CLASSNAMES=e.ShapeDefaultSize=e.ShapeDefaultDimension=void 0;var r=n(7),a=n(13),s=n(2),l=n(0),c=n(12),u=n(127),h=n(21),d=n(39),p=n(17),f=n(56),m=n(129);e.ShapeDefaultDimension=1440,e.ShapeDefaultSize=new s.Size(e.ShapeDefaultDimension,e.ShapeDefaultDimension),e.SHAPE_IMAGE_CLASSNAMES={IMAGE:"dxdi-image",IMAGE_PLACEHOLDER:"dxdi-image-placeholder",LOADING_INDICATOR:"dxdi-spinner",USER_PIC:"dxdi-user",WARNING_MARK:"dxdi-warning"};var g=function(t){function n(n,i){void 0===n&&(n=e.ShapeDefaultSize.clone());var o=t.call(this,n,i)||this;return o.hasDefaultText=i,o.defaultIconSize=480,o}return o(n,t),Object.defineProperty(n.prototype,"enableImage",{get:function(){return!0},enumerable:!1,configurable:!0}),n.prototype.getImageMargin=function(t){return t?c.UnitConverter.pixelsToTwips(2):c.UnitConverter.pixelsToTwips(3)},n.prototype.createImagePrimitives=function(t,n){if(!this.enableImage)return[];var i=this.getImagePlacementRectangle(t.rectangle,n);if(n)return this.createImagePlaceholder(i);var o=[];if(o=t.image.isEmpty||t.image.unableToLoad?o.concat(this.createEmptyImagePrimitives(i,t.image.unableToLoad)):""===t.image.renderUrl?o.concat(this.createLoadingImagePrimitives(i)):o.concat(this.createLoadedImagePrimitives(i,t.image.renderUrl)),""===t.image.renderUrl){var r=p.RenderUtils.generateSvgElementId("clipImage");return[].concat([new d.GroupPrimitive(o,e.SHAPE_IMAGE_CLASSNAMES.IMAGE,void 0,r),new f.ClipPathPrimitive(r,[new h.RectanglePrimitive(i.x,i.y,i.width,i.height)])])}return o},n.prototype.createImagePlaceholder=function(t){return[]},n.prototype.createLoadedImagePrimitives=function(t,i){return[new u.ImagePrimitive(t.x,t.y,t.width,t.height,i,n.imageScalingRule,void 0,e.SHAPE_IMAGE_CLASSNAMES.IMAGE)]},n.prototype.createLoadingImagePrimitives=function(t){var n=this.getIconPlacementRectangle(t);return[m.ShapeImageIndicator.createLoadingIndicatorPrimitives(n.x,n.y,this.defaultIconSize,c.UnitConverter.pixelsToTwips(5),e.SHAPE_IMAGE_CLASSNAMES.LOADING_INDICATOR)]},n.prototype.createEmptyImagePrimitives=function(t,e){var n=this.getIconPlacementRectangle(t),i=[];return i=i.concat(this.createEmptyImagePrimitive(n)),e&&(i=i.concat(this.createWarningPrimitive(n))),i},n.prototype.createEmptyImagePrimitive=function(t){return new d.GroupPrimitive([])},n.prototype.createWarningPrimitive=function(t){return new d.GroupPrimitive([])},n.prototype.getIconPlacementRectangle=function(t){var e=a.Rectangle.fromGeometry(new l.Point(t.x,t.y),new s.Size(this.defaultIconSize,this.defaultIconSize));return e.width<t.width&&(e.x=t.x+(t.width-e.width)/2),e.height<t.height&&(e.y=t.y+(t.height-e.height)/2),e},n.imageScalingRule="xMidYMid meet",n}(r.ShapeDescription);e.ShapeWithImageDescription=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeImageIndicator=void 0;var i=n(55),o=n(5),r=n(39),a=n(18),s=n(21),l=n(12),c=function(){function t(t,e,n,i,o){this.x=t,this.y=e,this.size=n,this.borderThickness=i,this.className=o,this.animationStarted=!1}return t.createLoadingIndicatorPrimitives=function(e,n,i,o,r){return new t(e,n,i,o,r).createLoadingIndicatorPrimitive()},t.createUserIconPrimitives=function(e,n,i,o,r){return new t(e,n,i,o,r).createUserIconPrimitive()},t.createWarningIconPrimitives=function(e,n,i,o){return new t(e,n,i,void 0,o).createWarningIconPrimitive()},t.prototype.rotate=function(t,e,n,i){if(this.animationStarted){var o="rotate("+Math.round(i)%1080/3+" "+e+" "+n+")";t.setAttribute("transform",o),this.animationRequestId=requestAnimationFrame(function(i){this.rotate(t,e,n,i)}.bind(this))}},t.prototype.onApplyLoadingIndicatorElementProperties=function(t){var e=[l.UnitConverter.twipsToPixelsF(this.x+this.size/2),l.UnitConverter.twipsToPixelsF(this.y+this.size/2)],n=e[0],i=e[1];a.Browser.IE?(this.animationRequestId=requestAnimationFrame(function(e){this.rotate(t,n,i,e)}.bind(this)),this.animationStarted=!0):t.style.setProperty("transform-origin",n+"px "+i+"px")},t.prototype.center=function(){return[l.UnitConverter.twipsToPixelsF(this.x+this.size/2),l.UnitConverter.twipsToPixelsF(this.y+this.size/2)]},t.prototype.createLoadingIndicatorPrimitive=function(){var t=this.center(),e=t[0],n=t[1],a=l.UnitConverter.twipsToPixelsF(this.size/2-this.borderThickness/2);return new r.GroupPrimitive([new i.EllipsePrimitive(e+"",n+"",a+"",a+""),new o.PathPrimitive([new o.PathPrimitiveMoveToCommand(e+a+"",n+""),new o.PathPrimitiveArcToCommand(a+"",a+"",0,!1,!1,e+"",n-a+"")])],this.className,void 0,void 0,this.onApplyLoadingIndicatorElementProperties.bind(this),this.onBeforeDispose.bind(this))},t.prototype.createUserIconPrimitive=function(){var t=this.center(),e=t[0],n=t[1],a=l.UnitConverter.twipsToPixelsF(this.size/2-this.borderThickness/2),s=l.UnitConverter.twipsToPixelsF(this.size);return new r.GroupPrimitive([new i.EllipsePrimitive(e+"",n+"",a+"",a+"",void 0,"dxdi-background"),new i.EllipsePrimitive(e+"",n-s/8+"",s/8+"",s/8+""),new o.PathPrimitive([new o.PathPrimitiveMoveToCommand(e+"",n+s/16+""),new o.PathPrimitiveCubicCurveToCommand(e+.1375*s+"",n+s/16+"",e+s/4+"",n+.11875*s+"",e+s/4+"",n+.1875*s+""),new o.PathPrimitiveLineToCommand(e+s/4+"",n+s/4+""),new o.PathPrimitiveLineToCommand(e-s/4+"",n+s/4+""),new o.PathPrimitiveLineToCommand(e-s/4+"",n+.1875*s+""),new o.PathPrimitiveCubicCurveToCommand(e-s/4+"",n+.11875*s+"",e-.1375*s+"",n+s/16+"",e+"",n+s/16+""),new o.PathPrimitiveClosePathCommand])],this.className)},t.prototype.createWarningIconPrimitive=function(){var t=this.center(),e=t[0],n=t[1],o=l.UnitConverter.twipsToPixelsF(this.size/2)-1,a=l.UnitConverter.twipsToPixelsF(this.size/8);return new r.GroupPrimitive([new i.EllipsePrimitive(e+"",n+"",o+"",o+""),new s.RectanglePrimitive(e-a/2+.5+"",n+o-l.UnitConverter.twipsToPixelsF(this.size/4)+"",a+"",a+""),new s.RectanglePrimitive(e-a/2+.5+"",n-o+l.UnitConverter.twipsToPixelsF(this.size/4)-a+"",a+"",o+"")],this.className)},t.prototype.onBeforeDispose=function(){this.animationRequestId&&cancelAnimationFrame(this.animationRequestId),this.animationStarted=!1},t}();e.ShapeImageIndicator=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageLoader=void 0;var i=n(46),o=function(){function t(t){this.loadedCallback=t}return t.prototype.load=function(t){t.isLoaded?this.loadedCallback(t):t.isLoading||this.loadInner(t)},t.prototype.loadInner=function(t){var e=this;return t.imageUrl?this.loadPictureByUrl(t,function(){return e.finalizeLoading(t,t)}):t.base64&&this.loadPictureByBase64(t,function(){return e.finalizeLoading(t,t)}),t},t.prototype.finalizeLoading=function(t,e){e||(e=i.ImageCache.instance.getImageData(t.actualId)),e.isLoaded||i.ImageCache.instance.finalizeLoading(e,t),this.loadedCallback(e)},t.prototype.loadPictureByBase64=function(t,e){var n=new Image;n.onload=function(){e(t)},n.src=t.base64},t.prototype.loadPictureByUrl=function(t,e){var n=this,i=new XMLHttpRequest;try{i.onload=function(){var o=new FileReader;o.onloadend=function(){t.base64=o.result,n.loadPictureByBase64(t,function(t){return e(t)})},o.readAsDataURL(i.response)},i.onerror=function(){return e(t)},i.onloadend=function(){404===i.status&&e(t)},i.open("GET",t.imageUrl,!0),i.responseType="blob",t.startLoading(),i.send()}catch(t){}},t}();e.ImageLoader=o},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerDescription=e.CONTAINER_EXPAND_BUTTON_SIGN_RATIO=e.CONTAINER_EXPAND_BUTTON_RECT_RATIO=e.CONTAINER_HEADER_TOOLBOX_SIZE_RATIO=e.CONTAINER_HEADER_SIZE=void 0;var r=n(7),a=n(2),s=n(1),l=n(21),c=n(5),u=n(17),h=n(11),d=n(39),p=n(45),f=n(9),m=n(36);e.CONTAINER_HEADER_SIZE=360,e.CONTAINER_HEADER_TOOLBOX_SIZE_RATIO=.2,e.CONTAINER_EXPAND_BUTTON_RECT_RATIO=.5,e.CONTAINER_EXPAND_BUTTON_SIGN_RATIO=.3;var g=function(t){function n(e){return void 0===e&&(e=new a.Size(2*r.ShapeDefaultDimension,1.5*r.ShapeDefaultDimension)),t.call(this,e,!0)||this}return o(n,t),Object.defineProperty(n.prototype,"enableChildren",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"keepRatioOnAutoSize",{get:function(){return!1},enumerable:!1,configurable:!0}),n.prototype.getDefaultText=function(){return m.DiagramLocalizationService.shapeTexts[s.ShapeTypes.Container]},n.prototype.createConnectionPoints=function(){return[new p.ConnectionPoint(.25,0,f.ConnectionPointSide.North),new p.ConnectionPoint(.5,0,f.ConnectionPointSide.North),new p.ConnectionPoint(.75,0,f.ConnectionPointSide.North),new p.ConnectionPoint(1,.25,f.ConnectionPointSide.East),new p.ConnectionPoint(1,.5,f.ConnectionPointSide.East),new p.ConnectionPoint(1,.75,f.ConnectionPointSide.East),new p.ConnectionPoint(.75,1,f.ConnectionPointSide.South),new p.ConnectionPoint(.5,1,f.ConnectionPointSide.South),new p.ConnectionPoint(.25,1,f.ConnectionPointSide.South),new p.ConnectionPoint(0,.75,f.ConnectionPointSide.West),new p.ConnectionPoint(0,.5,f.ConnectionPointSide.West),new p.ConnectionPoint(0,.25,f.ConnectionPointSide.West)]},n.prototype.getConnectionPointIndexForItem=function(t,e){return 4===(t&&t.getConnectionPoints()).length?3*e+1:e},n.prototype.getConnectionPointIndexForSide=function(t){return 3*t+1},n.prototype.createShapePrimitives=function(t,e){var n=t.rectangle,i=n.x,o=n.y,r=n.width,a=n.height,s=[];return t.expanded&&(s=s.concat([new l.RectanglePrimitive(i,o,r,a,t.style)])),s.concat(this.createHeaderPrimitives(t,e))},n.prototype.createExpandButtonPrimitives=function(t,n){var i=[new c.PathPrimitiveMoveToCommand(n.x+n.width*((1-e.CONTAINER_EXPAND_BUTTON_SIGN_RATIO)/2),n.center.y),new c.PathPrimitiveLineToCommand(n.x+n.width*((1-e.CONTAINER_EXPAND_BUTTON_SIGN_RATIO)/2+e.CONTAINER_EXPAND_BUTTON_SIGN_RATIO),n.center.y)];t.expanded||(i=i.concat([new c.PathPrimitiveMoveToCommand(n.center.x,n.y+n.height*((1-e.CONTAINER_EXPAND_BUTTON_SIGN_RATIO)/2)),new c.PathPrimitiveLineToCommand(n.center.x,n.y+n.height*((1-e.CONTAINER_EXPAND_BUTTON_SIGN_RATIO)/2+e.CONTAINER_EXPAND_BUTTON_SIGN_RATIO))]));var o=n.clone().inflate(-n.width*(1-e.CONTAINER_EXPAND_BUTTON_RECT_RATIO)/2,-n.height*(1-e.CONTAINER_EXPAND_BUTTON_RECT_RATIO)/2);return[new d.GroupPrimitive([new l.RectanglePrimitive(o.x,o.y,o.width,o.height,t.style),new c.PathPrimitive(i,t.style)],"shape-expand-btn",null,null,function(e){u.RenderUtils.setElementEventData(e,h.MouseEventElementType.ShapeExpandButton,t.key)})]},n}(r.ShapeDescription);e.ContainerDescription=g},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CardBaseDescription=void 0;var r=n(7),a=n(13),s=n(2),l=n(128),c=n(235),u=n(5),h=n(39),d=n(129),p=n(1),f=n(36),m=n(12),g=n(0),v=function(t){function e(e){return void 0===e&&(e=new s.Size(r.ShapeDefaultDimension,26/46*r.ShapeDefaultDimension)),t.call(this,e,!0)||this}return o(e,t),Object.defineProperty(e.prototype,"keepRatioOnAutoSize",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.getDefaultText=function(){return f.DiagramLocalizationService.shapeTexts[p.ShapeTypes.Card]},e.prototype.createShapePrimitives=function(t,e){var n=t.rectangle,i=n.x,o=n.y,r=n.width,a=n.height;return[new c.RoundedRectanglePrimitive(i,o,r,a,e?30:60,e?30:60,t.style)]},e.prototype.createImagePlaceholder=function(t){return[new c.RoundedRectanglePrimitive(t.x,t.y,t.width,t.height,m.UnitConverter.pixelsToTwips(2),m.UnitConverter.pixelsToTwips(2),void 0,l.SHAPE_IMAGE_CLASSNAMES.IMAGE_PLACEHOLDER)]},e.prototype.createEmptyImagePrimitive=function(t){return d.ShapeImageIndicator.createUserIconPrimitives(t.x,t.y,this.defaultIconSize,m.UnitConverter.pixelsToTwips(1),l.SHAPE_IMAGE_CLASSNAMES.USER_PIC)},e.prototype.createWarningPrimitive=function(t){return d.ShapeImageIndicator.createWarningIconPrimitives(t.x+this.defaultIconSize/2,t.y+this.defaultIconSize/2,this.defaultIconSize/2,l.SHAPE_IMAGE_CLASSNAMES.WARNING_MARK)},e.prototype.getTextRectangle=function(t){var e=t.rectangle,n=e.clone().inflate(-r.ShapeTextPadding,-r.ShapeTextPadding),i=this.getImageSize(e.createSize(),!0);return this.isTextAfterImage&&n.moveRectangle(this.isHorizontal?i.width:0,this.isHorizontal?0:i.height),n.resize(this.isHorizontal?-i.width:0,this.isHorizontal?0:-i.height),n.nonNegativeSize()},e.prototype.getSizeByText=function(t,e){var n=t.clone().offset(2*r.ShapeTextPadding,2*r.ShapeTextPadding),i=this.getImageSizeByTextBlockSize(n);return this.isHorizontal?n.width+=i.width:n.height+=i.height,n},e.prototype.createTextPrimitives=function(e,n){return n?this.createGraphicalTextRepresentation(e.rectangle):t.prototype.createTextPrimitives.call(this,e,n)},e.prototype.createGraphicalTextRepresentation=function(t){var e=new a.Rectangle(0,0,0,0),n=this.getImageSize(t.createSize(),!0,!0);if(this.isHorizontal){var i=this.isTextAfterImage?t.width/2-m.UnitConverter.pixelsToTwips(2):0;e.x=t.x+i+m.UnitConverter.pixelsToTwips(4),e.y=t.y+m.UnitConverter.pixelsToTwips(5),e.width=n.width-m.UnitConverter.pixelsToTwips(4),e.height=t.height-m.UnitConverter.pixelsToTwips(6)}else{var o=this.isTextAfterImage?t.height/2-m.UnitConverter.pixelsToTwips(2):0;e.x=t.x+t.width/4,e.y=t.y+o+m.UnitConverter.pixelsToTwips(4),e.width=t.width/2,e.height=n.height-m.UnitConverter.pixelsToTwips(2)}return this.createTextRepresentationPrimitives(e)},e.prototype.getImagePlacementRectangle=function(t,e){var n=this.getImageSize(t.createSize(),!1,e),i=a.Rectangle.fromGeometry(new g.Point(t.x,t.y),n),o=this.getImageSize(t.createSize(),!0,e);return this.isHorizontal&&this.isTextAfterImage?i.x+=this.getImageMargin(e):this.isHorizontal&&(i.x=t.right-o.width-this.getImageMargin(e)),this.isHorizontal||this.isTextAfterImage?i.y+=this.getImageMargin(e):i.y=t.bottom-o.height-this.getImageMargin(e),this.isHorizontal||(i.x+=(t.width-i.width)/2),i},e.prototype.createTextRepresentationPrimitives=function(t){var e=m.UnitConverter.pixelsToTwips(m.UnitConverter.twipsToPixels(t.height/3));return[new h.GroupPrimitive([new u.PathPrimitive([new u.PathPrimitiveMoveToCommand(t.x,t.y),new u.PathPrimitiveLineToCommand(t.x+t.width,t.y)]),new u.PathPrimitive([new u.PathPrimitiveMoveToCommand(t.x,t.y+e),new u.PathPrimitiveLineToCommand(t.x+t.width,t.y+e)]),new u.PathPrimitive([new u.PathPrimitiveMoveToCommand(t.x,t.y+2*e),new u.PathPrimitiveLineToCommand(t.x+.66*t.width,t.y+2*e)])],"dxdi-shape-text")]},e}(l.ShapeWithImageDescription);e.CardBaseDescription=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImporterBase=void 0;var i=n(62),o=n(14),r=function(){function t(t){this.shapeDescriptionManager=t}return t.prototype.import=function(){var t=new i.DiagramModel,e=this.getObject();this.importPageSettings(t,this.getPageObject(e));for(var n=this.importShapes(this.getShapeObjects(e)),o=0;o<n.length;o++){var r=n[o];if(t.findItem(r.key))throw Error("Item key is duplicated");t.pushItem(r)}var a=this.importConnectors(this.getConnectorObjects(e));for(o=0;o<a.length;o++){var s=a[o];if(s.endItem=t.findItem(s.endItemKey)||void 0,delete s.endItemKey,s.beginItem=t.findItem(s.beginItemKey)||void 0,delete s.beginItemKey,t.findItem(s.key))throw Error("Item key is duplicated");t.pushItem(s),this.updateConnections(s)}return this.updateChildren(t.items,function(e){return t.findItem(e)}),t},t.prototype.importItems=function(t){for(var e,n=[],i=this.getObject(),o={},r=this.importShapes(this.getShapeObjects(i)),a=0;a<r.length;a++){var s=r[a],l=s.key;e=t.getNextKey(),s.key=e,o[l]=s,void 0!==s.dataKey&&(s.dataKey=void 0),n.push(s)}var c=this.importConnectors(this.getConnectorObjects(i));for(a=0;a<c.length;a++){var u=c[a];l=u.key,e=t.getNextKey(),u.key=e,o[l]=u,void 0!==u.dataKey&&(u.dataKey=void 0);var h=u.endItemKey;u.endItem=o[h],delete u.endItemKey;var d=u.beginItemKey;u.beginItem=o[d],delete u.beginItemKey,n.push(u),this.updateConnections(u)}return this.updateChildren(n,function(t){return o[t]}),n},t.prototype.importItemsData=function(t){for(var e=this.getObject(),n=this.importShapes(this.getShapeObjects(e)),i={},o=0;o<n.length;o++){var r=n[o],a=void 0;void 0!==r.dataKey&&(a=t.findShapeByDataKey(r.dataKey)),a&&(a.dataKey=r.dataKey,i[r.key]=r.dataKey,a.locked=r.locked,a.position=r.position.clone(),a.expanded=r.expanded,r.expandedSize&&(a.expandedSize=r.expandedSize.clone()),a.size=r.size.clone(),a.parameters=r.parameters.clone(),a.style=r.style.clone(),a.styleText=r.styleText.clone(),a.zIndex=r.zIndex,a.text=r.text,a.description=r.description,a.image=r.image.clone())}var s=this.importConnectors(this.getConnectorObjects(e));for(o=0;o<s.length;o++){var l=s[o],c=void 0;void 0!==l.dataKey&&(c=t.findConnectorByDataKey(l.dataKey)),c||(c=t.findConnectorByBeginEndDataKeys(i[l.beginItemKey],i[l.endItemKey])),c&&(c.dataKey=l.dataKey,c.locked=l.locked,c.points=l.points.slice(),c.properties=l.properties.clone(),c.style=l.style.clone(),c.endConnectionPointIndex=l.endConnectionPointIndex,c.beginConnectionPointIndex=l.beginConnectionPointIndex,c.texts=l.texts.clone(),c.styleText=l.styleText.clone(),c.zIndex=l.zIndex)}},t.prototype.importShapes=function(t){var e=[];if(!t)return e;if(!Array.isArray(t))throw Error("Invalid Format");for(var n=0;n<t.length;n++){var i=t[n],o=this.importShape(i);e.push(o),e=e.concat(this.importShapeChildren(i,o))}return e},t.prototype.importConnectors=function(t){var e=[];if(!t)return e;if(!Array.isArray(t))throw Error("Invalid Format");for(var n=0;n<t.length;n++){var i=t[n];e.push(this.importConnector(i))}return e},t.prototype.updateChildren=function(t,e){t.forEach(function(t){t instanceof o.Shape&&t.childKeys&&(t.childKeys.forEach(function(n){var i=e(n);i&&(-1===t.children.indexOf(i)&&t.children.push(i),i.container=t)}),delete t.childKeys)})},t.prototype.updateConnections=function(t){t.endItem&&(t.endItem instanceof o.Shape?(t.endItem.attachedConnectors.push(t),t.points[t.points.length-1]=t.endItem.getConnectionPointPosition(t.endConnectionPointIndex,t.points[t.points.length-2])):(t.endItem=void 0,t.endConnectionPointIndex=-1)),t.beginItem&&(t.beginItem instanceof o.Shape?(t.beginItem.attachedConnectors.push(t),t.points[0]=t.beginItem.getConnectionPointPosition(t.beginConnectionPointIndex,t.points[1])):(t.beginItem=void 0,t.beginConnectionPointIndex=-1))},t.prototype.assert=function(t,e){if(void 0===t)throw Error("Invalid Format");if(void 0!==e&&typeof t!==e)throw Error("Invalid Format")},t}();e.ImporterBase=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.StylePropertyCommandBase=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.lockInputPositionUpdating=function(){return!0},e}(n(10).SimpleCommandBase);e.StylePropertyCommandBase=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeStylePropertyCommandBase=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.executeCore=function(t,e){var n=this;this.control.history.beginTransaction();var i=this.control.selection.getSelectedItems();return e=this.processParameter(e),i.forEach(function(t){var i=n.getStyleProperty();n.control.history.addAndRedo(n.createHistoryItem(t,i,e))}),this.updateInputPosition(e),this.control.history.endTransaction(),!0},e.prototype.getDefaultValue=function(){return this.getDefaultStyleObj()[this.getStyleProperty()]},e.prototype.processParameter=function(t){return t},e}(n(134).StylePropertyCommandBase);e.ChangeStylePropertyCommandBase=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeConnectorPropertyCommand=void 0;var r=n(88),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getValue=function(){return this.control.selection.inputPosition.getCurrentConnectorPropertyValue(this.getPropertyName())},e.prototype.getDefaultValue=function(){return this.getPropertyDefaultValue()},e.prototype.executeCore=function(t,e){var n=this;return this.control.history.beginTransaction(),this.control.selection.getSelectedConnectors().forEach(function(t){var i=n.getPropertyName();n.control.history.addAndRedo(new r.ChangeConnectorPropertyHistoryItem(t.key,i,e))}),this.control.selection.inputPosition.setConnectorPropertyValue(this.getPropertyName(),e),this.control.history.endTransaction(),!0},e.prototype.lockInputPositionUpdating=function(){return!0},e.prototype.isEnabled=function(){var e=this.control.selection.getSelectedConnectors();return t.prototype.isEnabled.call(this)&&e.length>0},e}(n(10).SimpleCommandBase);e.ChangeConnectorPropertyCommand=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AutoLayoutTreeVerticalCommand=void 0;var r=n(76),a=n(97),s=n(20),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.createLayoutSettings=function(){var t=this.control.settings.snapToGrid?this.control.settings.gridSize:void 0,e=new s.TreeLayoutSettings(t);return e.orientation=s.DataLayoutOrientation.Vertical,e},e.prototype.createLayout=function(t,e){return new a.TreeLayoutBuilder(t,e).build()},e}(r.AutoLayoutCommandBase);e.AutoLayoutTreeVerticalCommand=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GraphLayout=void 0;var i=n(3),o=n(71),r=function(){function t(){this.nodeKeys=[],this.nodeToLayout={},this.edgeToPosition={}}return t.prototype.forEachNode=function(t){var e=this;this.nodeKeys.forEach(function(n){return t(e.nodeToLayout[n],n)})},t.prototype.reduce=function(t,e){var n=this;return this.nodeKeys.reduce(function(e,i,o){return t(e,n.nodeToLayout[i],o)},e)},t.prototype.addNode=function(t){if(this.nodeToLayout[t.key])throw Error("Node layout is already registered");return this.nodeKeys.push(t.key),this.nodeToLayout[t.key]=t,t},t.prototype.hasNode=function(t){return!!this.nodeToLayout[t]},t.prototype.addEdge=function(t){if(this.edgeToPosition[t.key])throw Error("Edge layout is already registered");this.edgeToPosition[t.key]=t},t.prototype.getRectangle=function(t){var e=this;return i.GeometryUtils.getCommonRectangle(this.nodeKeys.map(function(t){return e.nodeToLayout[t].rectangle}))},t.prototype.offsetNodes=function(e,n){var i=this;void 0===e&&(e=0),void 0===n&&(n=0);var r=new t;return this.nodeKeys.forEach(function(t){var a=i.nodeToLayout[t];r.addNode(new o.NodeLayout(a.info,a.position.clone().offset(e,n)))}),r.copyEdges(this),r},t.prototype.extend=function(t){var e=this;t.forEachNode(function(t){return e.addNode(t)}),this.copyEdges(t)},t.prototype.copyEdges=function(t){var e=this;Object.keys(t.edgeToPosition).forEach(function(n){var i=t.edgeToPosition[n];e.addEdge(new o.EdgeLayout(i.key,i.beginIndex,i.endIndex))})},t}();e.GraphLayout=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutBuilder=void 0;var i=n(20),o=function(){function t(t,e){this.settings=t,this.graph=e}return t.prototype.getBreadthNodeSizeCore=function(t,e){var n=this.settings.orientation===i.DataLayoutOrientation.Vertical?t.size.width:t.size.height;return e||(n+=this.settings.orientation===i.DataLayoutOrientation.Vertical?t.margin.left+t.margin.right:t.margin.top+t.margin.bottom),n},t.prototype.getDepthNodeSizeCore=function(t){return this.settings.orientation===i.DataLayoutOrientation.Horizontal?t.size.width+t.margin.left+t.margin.right:t.size.height+t.margin.top+t.margin.bottom},t.prototype.chooseDirectionValue=function(t,e){return this.settings.direction===i.LogicalDirectionKind.Forward?t:e},t.prototype.getDirectionValue=function(t){return this.settings.direction===i.LogicalDirectionKind.Forward?t:-t},t.prototype.getComponentOffset=function(t){var e=t.getRectangle(!0);return(this.settings.orientation===i.DataLayoutOrientation.Vertical?e.width:e.height)+this.settings.componentSpacing},t.prototype.setComponentOffset=function(t,e){return this.settings.orientation===i.DataLayoutOrientation.Vertical?t.offsetNodes(e):t.offsetNodes(0,e)},t}();e.LayoutBuilder=o},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasManager=void 0;var r=n(99),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pendingChanges={},e.pendingRemoveChanges={},e.updatesLock=0,e}return o(e,t),e.prototype.beginUpdate=function(){this.updatesLock++},e.prototype.endUpdate=function(){this.updatesLock--,0===this.updatesLock&&this.applyPendingChanges()},e.prototype.getPendingChanges=function(){var t=this;return Object.keys(this.pendingChanges).map(function(e){return t.pendingChanges[e]})},e.prototype.getPendingRemoveChanges=function(){var t=this;return Object.keys(this.pendingRemoveChanges).map(function(e){return t.pendingRemoveChanges[e]})},e.prototype.applyPendingChanges=function(){var t=this.getPendingRemoveChanges();t.length&&(this.applyChangesCore(t),this.pendingRemoveChanges={});var e=this.getPendingChanges();e.length&&(this.applyChangesCore(e),this.pendingChanges={})},e.prototype.applyChangesCore=function(t){var e=this,n=[];t.forEach(function(t){e.applyChange(t)||n.push(t)}),n.length&&n.length!==t.length&&this.applyChangesCore(n)},e.prototype.postponeChanges=function(t){var e=this;t.forEach(function(t){if(t.type===r.ItemChangeType.Remove)e.pendingRemoveChanges[t.key]=t,delete e.pendingChanges[t.key];else if(e.pendingChanges[t.key])t.type===r.ItemChangeType.Create?e.pendingChanges[t.key]=t:t.type===r.ItemChangeType.UpdateStructure?e.pendingChanges[t.key].type===r.ItemChangeType.UpdateProperties&&(e.pendingChanges[t.key]=t):t.type===r.ItemChangeType.UpdateProperties?e.pendingChanges[t.key].type===r.ItemChangeType.Update&&(e.pendingChanges[t.key]=t):t.type===r.ItemChangeType.UpdateClassName&&e.pendingChanges[t.key].type===r.ItemChangeType.UpdateClassName&&(e.pendingChanges[t.key]=t);else{if(e.pendingRemoveChanges[t.key]&&t.type!==r.ItemChangeType.Create)throw new Error("Incorrect model changes sequence.");e.pendingChanges[t.key]=t}})},e.prototype.applyOrPostponeChanges=function(t){0===this.updatesLock?this.applyChangesCore(t):this.postponeChanges(t)},e.prototype.notifyModelChanged=function(t){this.applyOrPostponeChanges(t)},e.prototype.notifyPageColorChanged=function(t){},e.prototype.notifyPageSizeChanged=function(t,e){},e}(n(42).CanvasManagerBase);e.CanvasManager=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PasteSelectionCommandBase=void 0;var r=n(101),a=n(119),s=n(14),l=n(266),c=n(6),u=n(267),h=n(4),d=n(68),p=n(0),f=n(12),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&(this.isPasteSupportedByBrowser()||void 0!==r.ClipboardCommand.clipboardData)},e.prototype.isVisible=function(){return this.isPasteSupportedByBrowser()||void 0!==r.ClipboardCommand.clipboardData},e.prototype.parseClipboardData=function(t){var e;e=new a.Importer(this.control.shapeDescriptionManager,t).importItems(this.control.model);var n=this.getEventPositionOffset(e,this.control.contextMenuPosition);n=this.getCorrectedOffsetByModel(e,n);for(var i=0;i<e.length;i++){var o=e[i];o instanceof s.Shape?o.position.offsetByPoint(n):o instanceof c.Connector&&o.points.forEach(function(t){return t.offsetByPoint(n)})}return e},e.prototype.getCorrectedOffsetByModel=function(t,e){var n=t.reduce(function(t,e){var n=e instanceof s.Shape?e.position.x:e instanceof c.Connector?e.getMinX():Number.MAX_VALUE,i=e instanceof s.Shape?e.position.y:e instanceof c.Connector?e.getMinY():Number.MAX_VALUE;return(i<t.y||i===t.y&&n<t.x)&&(t.topLeftItem=e,t.x=n,t.y=i),t},{topLeftItem:t[0],x:Number.MAX_VALUE,y:Number.MAX_VALUE}).topLeftItem;if(n instanceof s.Shape){var i=this.getShapeCorrectedPosition(this.control.model,n,e);return new p.Point(i.x-n.position.x,i.y-n.position.y)}if(n instanceof c.Connector){var o=this.getConnectorCorrectedPoints(this.control.model,n,e);return new p.Point(n.points[0].x-o[0].x,n.points[0].y-o[0].y)}},e.prototype.executeCore=function(t,e){var n=this,i=!0;return e?this.performPaste(e):this.getClipboardData(function(t){i=n.execute(t)}),i},e.prototype.addItemForSortingRecursive=function(t,e){if(t[e.key])return t[e.key];if(e instanceof c.Connector)return e.endItem?t[e.key]=this.addItemForSortingRecursive(t,e.endItem)-.5:e.beginItem?t[e.key]=this.addItemForSortingRecursive(t,e.beginItem)+.5:t[e.key]=-1,t[e.key];if(0===e.attachedConnectors.length)return t[e.key]=0;for(var n=0;n<e.attachedConnectors.length;n++){var i=e.attachedConnectors[n].beginItem;return e.attachedConnectors[n].endItem===e&&i&&i!==e.attachedConnectors[n].endItem?t[e.key]=this.addItemForSortingRecursive(t,i)+1:t[e.key]=0}},e.prototype.getSortedPasteItems=function(t){for(var e=[],n=[],i={},o=0;o<t.length;o++){var r=t[o];r instanceof s.Shape?e.push(r):r instanceof c.Connector&&(n.push(r),this.addItemForSortingRecursive(i,r))}return n.sort(function(t,e){return i[e.key]-i[t.key]}),e.concat(n)},e.prototype.performPaste=function(t){this.control.beginUpdateCanvas(),this.control.history.beginTransaction();var e={},n=this.parseClipboardData(t);n=this.getSortedPasteItems(n);for(var i=0;i<n.length;i++){var o=n[i];o instanceof s.Shape?this.control.history.addAndRedo(new l.ImportShapeHistoryItem(o)):o instanceof c.Connector&&this.control.history.addAndRedo(new u.ImportConnectorHistoryItem(o));var r=o.container&&o.container.key;r&&void 0!==e[r]?r&&void 0!==e[r]&&(e[o.key]=!1):e[o.key]=!0}h.ModelUtils.tryUpdateModelRectangle(this.control.history),this.control.history.addAndRedo(new d.SetSelectionHistoryItem(this.control.selection,Object.keys(e).filter(function(t){return e[t]}))),this.control.history.endTransaction(),this.control.endUpdateCanvas(),this.control.barManager.updateItemsState()},e.prototype.getShapeCorrectedPosition=function(t,n,i){for(var o=n.position.clone().offsetByPoint(i);t.findShapeAtPosition(o);)o.offset(e.positionOffset,e.positionOffset);return o},e.prototype.getConnectorCorrectedPoints=function(t,n,i){for(var o=n.points.map(function(t){return t.clone().offsetByPoint(i)});t.findConnectorAtPoints(o);)o.forEach(function(t){t.x+=e.positionOffset,t.y+=e.positionOffset});return o},Object.defineProperty(e.prototype,"isPermissionsRequired",{get:function(){return!0},enumerable:!1,configurable:!0}),e.positionOffset=f.UnitConverter.pixelsToTwips(10),e}(r.ClipboardCommand);e.PasteSelectionCommandBase=m},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AutoLayoutLayeredHorizontalCommand=void 0;var r=n(76),a=n(80),s=n(20),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.createLayoutSettings=function(){var t=new s.LayoutSettings;return t.orientation=s.DataLayoutOrientation.Horizontal,t},e.prototype.createLayout=function(t,e){return new a.SugiyamaLayoutBuilder(t,e).build()},e}(r.AutoLayoutCommandBase);e.AutoLayoutLayeredHorizontalCommand=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AutoLayoutTreeHorizontalCommand=void 0;var r=n(76),a=n(97),s=n(20),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.createLayoutSettings=function(){var t=this.control.settings.snapToGrid?this.control.settings.gridSize:void 0,e=new s.TreeLayoutSettings(t);return e.orientation=s.DataLayoutOrientation.Horizontal,e},e.prototype.createLayout=function(t,e){return new a.TreeLayoutBuilder(t,e).build()},e}(r.AutoLayoutCommandBase);e.AutoLayoutTreeHorizontalCommand=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AutoLayoutLayeredVerticalCommand=void 0;var r=n(76),a=n(80),s=n(20),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.createLayoutSettings=function(){var t=new s.LayoutSettings;return t.orientation=s.DataLayoutOrientation.Vertical,t},e.prototype.createLayout=function(t,e){return new a.SugiyamaLayoutBuilder(t,e).build()},e}(r.AutoLayoutCommandBase);e.AutoLayoutLayeredVerticalCommand=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeLockedCommand=void 0;var r=n(4),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabled=function(){var e=this,n=this.control.selection.getSelectedItems(!0),i=!1;return n.forEach(function(t){t.locked!==e.getLockState()&&(i=!0)}),t.prototype.isEnabled.call(this)&&i},e.prototype.executeCore=function(t,e){return r.ModelUtils.changeSelectionLocked(this.control.history,this.control.model,this.control.selection,this.getLockState()),!0},e}(n(10).SimpleCommandBase);e.ChangeLockedCommand=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeShapeImageHistoryItem=void 0;var r=n(8),a=n(51),s=function(t){function e(e,n){var i=t.call(this)||this;return i.shapeKey=e.key,i.imageUrl=n,i}return o(e,t),e.prototype.redo=function(t){var e=t.model.findShape(this.shapeKey);this.oldImage=e.image,t.changeShapeImage(e,new a.ImageInfo(this.imageUrl))},e.prototype.undo=function(t){var e=t.model.findShape(this.shapeKey);t.changeShapeImage(e,this.oldImage)},e}(r.HistoryItem);e.ChangeShapeImageHistoryItem=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandlerDefaultState=void 0;var r=n(11),a=n(305),s=n(306),l=n(307),c=n(308),u=n(309),h=n(310),d=n(311),p=n(312),f=n(149),m=n(319),g=n(6),v=n(320),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.finish=function(){this.visualizerManager.resetConnectionPoints(),t.prototype.finish.call(this)},e.prototype.onMouseDownCore=function(e){this.handler.canScrollPage(e)?this.startScrolling(e):e.button===r.MouseButton.Left&&e.source.type===r.MouseEventElementType.ConnectorText?(this.handler.changeSingleSelection(e.source.key),this.handler.switchState(new p.MouseHandlerMoveConnectorTextState(this.handler,this.history,this.model))):e.button===r.MouseButton.Left&&e.source.type===r.MouseEventElementType.ShapeResizeBox?this.handler.switchState(new s.MouseHandlerResizeShapeState(this.handler,this.history,this.model,this.selection,this.visualizerManager,this.settings)):e.button===r.MouseButton.Left&&e.source.type===r.MouseEventElementType.ShapeParameterBox?this.handler.switchState(new c.MouseHandlerDragParameterPointState(this.handler,this.history,this.model)):e.button===r.MouseButton.Left&&e.source.type===r.MouseEventElementType.ConnectorPoint?this.handler.switchState(new a.MouseHandlerMoveConnectorPointState(this.handler,this.history,this.model,this.visualizerManager)):e.button===r.MouseButton.Left&&e.source.type===r.MouseEventElementType.ConnectorSide?this.handler.switchState(new l.MouseHandlerMoveConnectorSideState(this.handler,this.history,this.model)):e.button===r.MouseButton.Left&&e.source.type===r.MouseEventElementType.ConnectorOrthogonalSide?this.handler.switchState(new h.MouseHandlerMoveConnectorOrthogonalSideState(this.handler,this.history,this.model)):e.button===r.MouseButton.Left&&e.source.type===r.MouseEventElementType.ShapeConnectionPoint?this.handler.switchState(new u.MouseHandlerCreateConnectorState(this.handler,this.history,this.model,this.visualizerManager,this.shapeDescriptionManager,this.selection)):t.prototype.onMouseDownCore.call(this,e)},e.prototype.onDragDiagramItemOnMouseDown=function(e){this.handler.canAddDiagramItemToSelection(e)?e.source.type===r.MouseEventElementType.Shape?this.handler.switchState(new m.MouseHandlerMoveShapeState(this.handler,this.history,this.model,this.selection,this.visualizerManager)):e.source.type===r.MouseEventElementType.Connector&&this.handler.switchState(new v.MouseHandlerMoveConnectorState(this.handler,this.history,this.model,this.selection,this.visualizerManager)):t.prototype.onDragDiagramItemOnMouseDown.call(this,e)},e.prototype.onDragStart=function(t){this.handler.switchState(new d.MouseHandlerBeforeToolboxDraggingState(this.handler,this.history,this.model,this.selection,this.visualizerManager,this.shapeDescriptionManager)),this.handler.state.onDragStart(t)},e.prototype.onMouseMoveCore=function(e){this.updateConnectionsOnMouseMove(e),t.prototype.onMouseMoveCore.call(this,e)},e.prototype.onMouseUp=function(e){this.handler.canRemoveDiagramItemToSelection(e)?this.handler.removeDiagramItemFromSelection(e.button,e.source.key):t.prototype.onMouseUp.call(this,e)},e.prototype.updateConnectionsOnMouseMove=function(t){var e=this.model.findItem(t.source.key);this.visualizerManager.updateConnections(e,t.source.type,t.source.value)},e.prototype.canDragObjectOnMouseDown=function(t){return!0},e.prototype.canExpandContainerOnMouseDown=function(t){return!0},e.prototype.canClearSelectionOnMouseDown=function(){return!1},e.prototype.canSelectOnMouseUp=function(t){return!1},e.prototype.canClearSelectionOnMouseUp=function(){return!0},e.prototype.onConnectionPointsShow=function(t,e){var n=this,i=this.model.findShape(t);i&&e.forEach(function(t,e){t.allowed=n.handler.canPerformChangeConnectionOnUpdateUI(void 0,{item:i,position:g.ConnectorPosition.Begin,connectionPointIndex:e})})},e}(f.MouseHandlerDefaultStateBase);e.MouseHandlerDefaultState=y},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandlerMoveConnectorPointStateBase=void 0;var r=n(6),a=n(11),s=n(34),l=n(67),c=n(48),u=n(4),h=function(t){function e(e,n,i,o){var r=t.call(this,e,n)||this;return r.model=i,r.visualizerManager=o,r}return o(e,t),e.prototype.finish=function(){this.visualizerManager.resetConnectionTarget(),this.visualizerManager.resetConnectionPoints(),t.prototype.finish.call(this)},e.prototype.onMouseDown=function(e){t.prototype.onMouseDown.call(this,e),this.connector&&this.handler.addInteractingItem(this.connector)},e.prototype.onMouseMove=function(e){if(t.prototype.onMouseMove.call(this,e),this.allowAttachToObjects(e,!1,!1)){if(this.connector){var n=this.connector.getExtremeItem(this.pointPosition);this.visualizerManager.setConnectionTarget(n,e.source.type);var i=this.connector.getExtremeConnectionPointIndex(this.pointPosition);(n||-1===this.oppositeConnectionPointIndex)&&this.allowAttachToObjects(e,!0,!1)||(n=this.model.findItem(e.source.key)),this.visualizerManager.setConnectionPoints(n,e.source.type,i,!0)}}else this.visualizerManager.resetConnectionTarget(),this.visualizerManager.resetConnectionPoints()},e.prototype.onApplyChanges=function(t){var e=this.getSnappedPoint(t,t.modelPoint);if(void 0!==this.pointPosition){void 0===this.oppositePointPosition&&(this.oppositePointPosition=this.getOppositePointPosition(),this.oppositeItem=this.connector.getExtremeItem(this.oppositePointPosition),this.oppositeConnectionPointIndex=this.connector.getExtremeConnectionPointIndex(this.oppositePointPosition)),this.targetItem=this.model.findItem(t.source.key);var n=this.allowAttachToObjects(t,!0,!0)?this.targetItem:void 0,i=-1;t.source.type===a.MouseEventElementType.ShapeConnectionPoint&&(i=parseInt(t.source.value)),!n||t.source.type!==a.MouseEventElementType.Shape&&t.source.type!==a.MouseEventElementType.ShapeConnectionPoint||this.connector.getExtremeItem(this.oppositePointPosition)===n&&(-1===i||-1===this.oppositeConnectionPointIndex||i===this.oppositeConnectionPointIndex)?this.connector.getExtremeItem(this.pointPosition)&&(this.history.addAndRedo(new l.DeleteConnectionHistoryItem(this.connector,this.pointPosition)),this.oppositeItem&&this.updateOppositeItemConnectionPointIndex(this.oppositeConnectionPointIndex)):(this.connector.getExtremeItem(this.pointPosition)===n&&this.connector.getExtremeConnectionPointIndex(this.pointPosition)===i||(this.connector.getExtremeItem(this.pointPosition)&&this.history.addAndRedo(new l.DeleteConnectionHistoryItem(this.connector,this.pointPosition)),this.history.addAndRedo(new c.AddConnectionHistoryItem(this.connector,n,i,this.pointPosition)),this.oppositeItem&&this.updateOppositeItemConnectionPointIndex(i)),e=n.getConnectionPointPosition(i,this.connector.points[this.pointIndex+(this.pointPosition===r.ConnectorPosition.End?-1:1)]),this.visualizerManager.setConnectionPointIndex(i))}u.ModelUtils.moveConnectorPoint(this.history,this.connector,this.pointIndex,e),u.ModelUtils.updateConnectorAttachedPoints(this.history,this.model,this.connector),this.handler.tryUpdateModelSize()},e.prototype.updateOppositeItemConnectionPointIndex=function(t){var e=-1===t?-1:this.oppositeConnectionPointIndex;e!==this.connector.getExtremeConnectionPointIndex(this.oppositePointPosition)&&(this.history.addAndRedo(new l.DeleteConnectionHistoryItem(this.connector,this.oppositePointPosition)),this.history.addAndRedo(new c.AddConnectionHistoryItem(this.connector,this.oppositeItem,e,this.oppositePointPosition)))},e.prototype.onFinishWithChanges=function(){u.ModelUtils.updateConnectorContainer(this.history,this.model,this.connector),u.ModelUtils.deleteConnectorUnnecessaryPoints(this.history,this.connector),this.handler.tryUpdateModelSize()},e.prototype.getDraggingElementKeys=function(){return this.connector?[this.connector.key]:[]},e.prototype.getOppositePointPosition=function(){return this.pointPosition===r.ConnectorPosition.Begin?r.ConnectorPosition.End:r.ConnectorPosition.Begin},e.prototype.allowAttachToObjects=function(t,e,n){if(this.handler.canMultipleSelection(t))return!1;var i=this.connector;if(i&&t.source.type===a.MouseEventElementType.Shape){var o=this.model.findItem(t.source.key);if(e&&this.model.findItemContainerCore(i,function(t){return t===o}))return!1;if(e&&this.oppositeItem&&this.model.findItemContainerCore(this.oppositeItem,function(t){return t===o}))return!1;if(n&&this.oppositeItem===o&&-1===this.oppositeConnectionPointIndex)return!1}return!0},e.prototype.onConnectionPointsShow=function(t,e){var n=this;if(this.connector&&void 0!==this.pointPosition&&(this.connector.endItem&&this.connector.endItem.key===t||this.connector.beginItem&&this.connector.beginItem.key===t)){var i=this.connector.beginItem&&this.connector.beginItem.key===t?r.ConnectorPosition.Begin:r.ConnectorPosition.End;e.forEach(function(t,e){t.allowed=n.handler.canPerformChangeConnectionOnUpdateUI(n.connector,{item:n.connector.getExtremeItem(i),position:i,connectionPointIndex:e})})}},e.prototype.onConnectionTargetShow=function(t,e){if(this.connector&&void 0!==this.pointPosition&&(this.connector.endItem&&this.connector.endItem.key===t||this.connector.beginItem&&this.connector.beginItem.key===t)){var n=this.connector.beginItem&&this.connector.beginItem.key===t?r.ConnectorPosition.Begin:r.ConnectorPosition.End;e.allowed=this.handler.canPerformChangeConnectionOnUpdateUI(this.connector,{item:this.connector.getExtremeItem(n),position:n,connectionPointIndex:-1})}},e}(s.MouseHandlerDraggingState);e.MouseHandlerMoveConnectorPointStateBase=h},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandlerDefaultStateBase=void 0;var r=n(40),a=n(11),s=n(314),l=n(316),c=n(317),u=n(150),h=n(12),d=n(318),p=function(t){function e(e,n,i,o,r,a,s,l){var c=t.call(this,e)||this;return c.history=n,c.selection=i,c.model=o,c.view=r,c.visualizerManager=a,c.shapeDescriptionManager=s,c.settings=l,c}return o(e,t),e.prototype.onKeyDown=function(t){this.handler.onStartScrollPageByKeyboard(t)},e.prototype.onKeyUp=function(t){this.handler.onFinishScrollPageByKeyboard(t)},e.prototype.onMouseDown=function(t){this.handler.canFinishTextEditing()&&(this.onMouseDownCore(t),this.handler.state!==this&&this.handler.state.onMouseDown(t))},e.prototype.onMouseDownCore=function(t){this.handler.canScrollPage(t)?this.startScrolling(t):this.hasDiagramItem(t)&&this.canDragObjectOnMouseDown(t.source.key)?this.onDragDiagramItemOnMouseDown(t):t.button===a.MouseButton.Left&&t.source.type===a.MouseEventElementType.ShapeExpandButton&&this.canExpandContainerOnMouseDown(t.source.key)?this.onShapeExpandBtnMouseDown(t):(!this.hasDiagramItem(t)&&this.canClearSelectionOnMouseDown()&&this.clearSelection(),this.startPoint=t.modelPoint)},e.prototype.onDragDiagramItemOnMouseDown=function(t){this.replaceSelection(t)},e.prototype.onMouseMove=function(t){this.onMouseMoveCore(t),this.handler.state!==this&&(this.handler.state.onMouseDown(this.handler.mouseDownEvent),this.handler.state.onMouseMove(t))},e.prototype.onMouseMoveCore=function(t){this.startPoint&&(Math.abs(this.startPoint.x-t.modelPoint.x)>e.startLimit||Math.abs(this.startPoint.y-t.modelPoint.y)>e.startLimit)&&(this.processOnMouseMoveAfterLimit(t),this.startPoint=void 0)},e.prototype.processOnMouseMoveAfterLimit=function(t){t.isTouchMode?t.touches.length>1?this.startZooming(t):this.startScrolling(t):this.startSelection(t)},e.prototype.onMouseUp=function(t){this.onMouseUpCore(t),this.handler.state!==this&&this.handler.state.onMouseUp(t)},e.prototype.onMouseUpCore=function(t){t.source.type===a.MouseEventElementType.Shape&&this.canSelectOnMouseUp(t.source.key)?this.replaceSelection(t):t.source.type===a.MouseEventElementType.Connector&&this.canSelectOnMouseUp(t.source.key)?this.replaceSelection(t):t.source.type===a.MouseEventElementType.ShapeExpandButton&&this.canSelectOnMouseUp(t.source.key)?this.replaceSelection(t):this.startPoint&&this.canClearSelectionOnMouseUp()&&this.clearSelection(),this.startPoint=void 0},e.prototype.onMouseWheel=function(t){return!!this.handler.canStartZoomOnWheel(t)&&(this.handler.switchState(new c.MouseHandlerZoomOnWheelState(this.handler,this.settings,this.view)),this.handler.state.onMouseWheel(t),!0)},e.prototype.onLongTouch=function(t){this.replaceMultipleSelection(t.source.key)},e.prototype.finish=function(){this.startPoint=void 0},e.prototype.startSelection=function(t){t.button===a.MouseButton.Left&&this.handler.switchState(new l.MouseHandlerSelectionState(this.handler,this.selection,this.visualizerManager))},e.prototype.startScrolling=function(t){t.button===a.MouseButton.Left&&(this.handler.raiseDragScrollStart(),this.handler.switchState(new u.MouseHandlerScrollingState(this.handler,this.view,this.selection)))},e.prototype.startZooming=function(t){this.handler.switchState(new d.MouseHandlerZoomOnPinchState(this.handler,this.selection,this.settings,this.view))},e.prototype.inSelection=function(t){return this.selection.hasKey(t)},e.prototype.hasDiagramItem=function(t){return t.source.type===a.MouseEventElementType.Shape||t.source.type===a.MouseEventElementType.Connector},e.prototype.onShapeExpandBtnMouseDown=function(t){this.handler.addDiagramItemToSelection(t),this.handler.switchState(new s.MouseHandlerToggleShapeExpandedState(this.handler,this.history,this.model,this.selection))},e.prototype.replaceSelection=function(t){this.handler.canMultipleSelection(t)?this.replaceMultipleSelection(t.source.key):this.handler.changeSingleSelection(t.source.key)},e.prototype.replaceMultipleSelection=function(t){this.selection.hasKey(t)?this.selection.remove(t):this.selection.add(t)},e.prototype.clearSelection=function(){this.selection.set([])},e.startLimit=h.UnitConverter.pixelsToTwips(1),e}(r.MouseHandlerStateBase);e.MouseHandlerDefaultStateBase=p},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandlerScrollingState=void 0;var r=n(40),a=n(11),s=n(0),l=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.view=n,o.selection=i,o.lastOffset=new s.Point(0,0),o}return o(e,t),e.prototype.onKeyUp=function(t){this.handler.onFinishScrollPageByKeyboard(t)},e.prototype.onMouseDown=function(t){t.preventDefault=!0,this.startPoint=this.getPointByEvent(t)},e.prototype.onMouseMove=function(t){if(t.button===a.MouseButton.Left){var e=this.currentPoint||this.startPoint;t.preventDefault=!0;var n=this.getPointByEvent(t),i=this.view.scrollBy(new s.Point(n.x-e.x,n.y-e.y));this.lastOffset=this.lastOffset.clone().offset(i.x,i.y),this.currentPoint=n}else this.handler.onFinishScrollPageByMouse(t)},e.prototype.onMouseUp=function(t){t.button===a.MouseButton.Left&&this.handler.onFinishScrollPageByMouse(t),this.handler.switchToDefaultState()},e.prototype.cancelChanges=function(){this.currentPoint&&this.view.scrollBy(this.lastOffset.clone().multiply(-1,-1))},e.prototype.finish=function(){this.currentPoint&&this.startPoint&&!this.currentPoint.equals(this.startPoint)||this.selection.set([]),t.prototype.finish.call(this)},e.prototype.getPointByEvent=function(t){return t.offsetPoint},e}(r.MouseHandlerCancellableState);e.MouseHandlerScrollingState=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandlerDragDiagramItemStateBase=e.DraggingConnector=void 0;var r=n(60),a=n(86),s=n(29),l=n(85),c=n(4),u=n(16),h=n(11),d=n(34),p=function(t){this.connector=t,this.startPoints=t.points.map(function(t){return t.clone()}),this.startRenderContext=t.tryCreateRenderPointsContext()};e.DraggingConnector=p;var f=function(t){this.shape=t,this.startPosition=t.position.clone()},m=function(t){function e(e,n,i,o,r){var a=t.call(this,e,n)||this;return a.model=i,a.selection=o,a.visualizerManager=r,a.startScrollLeft=0,a.startScrollTop=0,a}return o(e,t),e.prototype.finish=function(){this.visualizerManager.resetExtensionLines(),this.visualizerManager.resetContainerTarget(),this.visualizerManager.resetConnectionTarget(),this.visualizerManager.resetConnectionPoints(),t.prototype.finish.call(this)},e.prototype.onMouseDown=function(e){var n=this;this.handler.addDiagramItemToSelection(e),this.shouldClone=this.handler.canCopySelectedItems(e),this.startPoint=e.modelPoint,this.initDrag(),this.lockInitDrag=!1,this.shouldClone||this.draggingShapes.forEach(function(t){return n.handler.addInteractingItem(t.shape,u.DiagramModelOperation.MoveShape)}),t.prototype.onMouseDown.call(this,e)},e.prototype.onMouseMove=function(t){this.mouseMoveEvent=t,t.button!==h.MouseButton.Left&&(this.cancelChanges(),this.handler.switchToDefaultState()),this.canApplyChangesOnMouseMove(this.startPoint,t.modelPoint)&&(this.handler.canCopySelectedItems(t)&&(this.lockInitDrag||(this.cancelChanges(),this.shouldClone=!0,this.copySelection(),this.initDrag(),this.lockInitDrag=!0)),this.onApplyChanges(t),this.onAfterApplyChanges(),this.updateContainers(t))},e.prototype.updateContainers=function(t){this.visualizerManager.setExtensionLines(this.selection.getSelectedShapes(!1,!0));var e=c.ModelUtils.findContainerByEventKey(this.model,this.selection,t.source.key);e&&this.allowInsertToContainer(t,e)?this.visualizerManager.setContainerTarget(e,t.source.type):this.visualizerManager.resetContainerTarget()},e.prototype.onMouseUp=function(e){t.prototype.onMouseUp.call(this,e),this.handler.canRemoveDiagramItemToSelection(e)&&this.handler.canMultipleSelection(e)&&this.handler.removeDiagramItemFromSelection(e.button,e.source.key)},e.prototype.onApplyChanges=function(t){var e=this;if(this.calculateFixedPosition(t),this.draggingShapes.length){var n=this.draggingShapes.map(function(t){return t.shape});this.draggingShapes.forEach(function(i){for(var o=i.shape;o.container;){if(-1!==n.indexOf(o.container))return!1;o=o.container}e.moveShape(i,t)});var i=this.draggingShapes[0],o=r.Vector.fromPoints(i.startPosition.clone(),i.shape.position.clone());(o.x||o.y)&&this.draggingConnectors.forEach(function(t){return e.moveConnectorCore(t.connector,t.startPoints,t.startRenderContext,o)})}else this.draggingConnectors.forEach(function(n){return e.moveConnector(n,t)});var a=c.ModelUtils.findContainerByEventKey(this.model,this.selection,t.source.key);a&&this.allowInsertToContainer(t,a)?c.ModelUtils.insertSelectionToContainer(this.history,this.model,this.selection,a):c.ModelUtils.removeSelectionFromContainer(this.history,this.model,this.selection),this.handler.tryUpdateModelSize(function(t,n){e.modelConnectorsWithoutBeginItemInfo.forEach(function(e){e.point.x+=t,e.point.y+=n}),e.modelConnectorsWithoutEndItemInfo.forEach(function(e){e.point.x+=t,e.point.y+=n})})},e.prototype.getDraggingElementKeys=function(){return this.draggingShapes.map(function(t){return t.shape.key}).concat(this.draggingConnectors.map(function(t){return t.connector.key}))},e.prototype.getSnappedPoint=function(t,e){return this.handler.getSnappedPointOnDragDiagramItem(t,e,this.fixedX,this.fixedY,this.startPoint)},e.prototype.initDrag=function(){this.selectedItems=c.ModelUtils.createSelectedItems(this.selection),this.initDraggingShapes(),this.areValidDraggingShapes?(this.initDraggingConnectors(),this.areValidDraggingConnectors?(this.modelConnectorsWithoutBeginItemInfo=this.createModelConnectorsWithoutBeginItemInfo(),this.modelConnectorsWithoutEndItemInfo=this.createModelConnectorsWithoutEndItemInfo()):this.handler.switchToDefaultState()):this.handler.switchToDefaultState()},e.prototype.initDraggingShapes=function(){this.draggingShapes=this.selection.getSelectedShapes(!1,!0).map(function(t){return new f(t)})},e.prototype.initDraggingConnectors=function(){var t=this;this.draggingConnectors=[],this.draggingConnectorsIndexByKey={},this.selection.getSelectedConnectors(!1,!0).forEach(function(e){return t.registerConnector(e)}),this.shouldClone||this.draggingShapes.forEach(function(e){var n=e.shape.attachedConnectors;n&&n.forEach(function(e){t.containsDraggingConnectorByKey(e.key)||t.registerConnector(e)})})},e.prototype.copySelection=function(){var t=this;c.ModelUtils.cloneSelectionToOffset(this.history,this.model,function(e){var n=t.model.findItem(e);n&&t.handler.addInteractingItem(n,u.DiagramModelOperation.AddShape)},this.selection,0,0)},e.prototype.calculateFixedPosition=function(t){this.fixedX=!1,this.fixedY=!1,this.handler.canCalculateFixedPosition(t)&&(Math.abs(this.startPoint.x-t.modelPoint.x)<Math.abs(this.startPoint.y-t.modelPoint.y)?this.fixedX=!0:this.fixedY=!0)},e.prototype.containsDraggingConnectorByKey=function(t){return void 0!==this.draggingConnectorsIndexByKey[t]},e.prototype.allowInsertToContainer=function(t,e){return!this.handler.canMultipleSelection(t)&&e&&e.expanded&&c.ModelUtils.canInsertSelectionToContainer(this.model,this.selection,e)},e.prototype.registerConnector=function(t){this.draggingConnectorsIndexByKey[t.key]=this.draggingConnectors.push(new p(t))-1},e.prototype.createModelConnectorsWithoutBeginItemInfo=function(){var t=this;return this.model.findConnectorsCore(function(e){return!e.beginItem&&!t.containsDraggingConnectorByKey(e.key)}).map(function(t){return{connector:t,point:t.points[0].clone()}})},e.prototype.createModelConnectorsWithoutEndItemInfo=function(){var t=this;return this.model.findConnectorsCore(function(e){return!e.endItem&&!t.containsDraggingConnectorByKey(e.key)}).map(function(t){return{connector:t,point:t.points[t.points.length-1].clone()}})},e.prototype.moveConnector=function(t,e){var n=t.startPoints,i=r.Vector.fromPoints(n[0].clone(),this.getSnappedPoint(e,n[0]).clone());(i.x||i.y)&&this.moveConnectorCore(t.connector,n,t.startRenderContext,i)},e.prototype.moveConnectorCore=function(t,e,n,i){this.shouldClone||c.ModelUtils.canMoveConnector(this.selectedItems,t)?this.offsetConnector(t,e,n,i):this.changeConnector(t)},e.prototype.moveShape=function(t,e){var n=this,i=t.shape,o=this.getSnappedPoint(e,t.startPosition);c.ModelUtils.setShapePosition(this.history,this.model,i,o),c.ModelUtils.updateMovingShapeConnections(this.history,i,this.modelConnectorsWithoutBeginItemInfo,this.modelConnectorsWithoutEndItemInfo,function(){n.visualizerManager.resetConnectionTarget(),n.visualizerManager.resetConnectionPoints()},function(t,e){n.visualizerManager.setConnectionTarget(t,h.MouseEventElementType.Shape),n.visualizerManager.setConnectionPoints(t,h.MouseEventElementType.Shape,e,!0)},function(t){return n.handler.addInteractingItem(t)}),this.draggingConnectors.filter(function(t){return!!n.selectedItems[t.connector.key]}).length||c.ModelUtils.updateShapeAttachedConnectors(this.history,this.model,i)},e.prototype.offsetConnector=function(t,e,n,i){var o=this,r=e.map(function(t){return o.offsetPoint(t,i)});r[0].equals(t.points[0])||this.history.addAndRedo(new a.ChangeConnectorPointsHistoryItem(t.key,r,this.offsetRenderContext(n,i)))},e.prototype.offsetRenderContext=function(t,e){var n=this;if(void 0!==t)return new l.ConnectorRenderPointsContext(t.renderPoints.map(function(t){var i=n.offsetPoint(t,e);return new s.ConnectorRenderPoint(i.x,i.y,t.pointIndex,t.skipped)}),!0,t.actualRoutingMode)},e.prototype.offsetPoint=function(t,e){var n=r.Vector.fromPoints(t,this.startPoint);return this.startPoint.clone().offset(e.x-n.x,e.y-n.y)},e.prototype.changeConnector=function(t){c.ModelUtils.tryRemoveConnectorIntermediatePoints(this.history,t),c.ModelUtils.updateConnectorAttachedPoints(this.history,this.model,t)},e}(d.MouseHandlerDraggingState);e.MouseHandlerDragDiagramItemStateBase=m},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandlerDefaultReadOnlyState=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.canDragObjectOnMouseDown=function(t){return!1},e.prototype.canExpandContainerOnMouseDown=function(t){return!1},e.prototype.canClearSelectionOnMouseDown=function(){return!1},e.prototype.canSelectOnMouseUp=function(t){return!0},e.prototype.canClearSelectionOnMouseUp=function(){return!0},e.prototype.updateConnectionsOnMouseMove=function(t){},e}(n(149).MouseHandlerDefaultStateBase);e.MouseHandlerDefaultReadOnlyState=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeShapeTextHistoryItem=void 0;var r=function(t){function e(e,n){var i=t.call(this)||this;return i.shapeKey=e.key,i.text=n,i}return o(e,t),e.prototype.redo=function(t){var e=t.model.findShape(this.shapeKey);this.oldText=e.text,t.changeShapeText(e,this.text)},e.prototype.undo=function(t){var e=t.model.findShape(this.shapeKey);t.changeShapeText(e,this.oldText)},e}(n(8).HistoryItem);e.ChangeShapeTextHistoryItem=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;var r=n(3),a=n(11),s=n(25),l=n(81),c=n(18),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contextMenuVisible=!1,e.textInputStarted=!1,e.canHideContextMenu=!0,e.onVisibilityChanged=new r.EventDispatcher,e}return o(e,t),e.prototype.onMouseDown=function(t){t.button===a.MouseButton.Left&&t.source.type!==a.MouseEventElementType.Undefined&&this.hideContextMenu()},e.prototype.onMouseUp=function(t){(!c.Browser.MacOSPlatform||c.Browser.MacOSPlatform&&this.canHideContextMenu)&&this.hideContextMenu(),this.canHideContextMenu=!0},e.prototype.onContextMenu=function(t){c.Browser.MacOSPlatform&&(this.canHideContextMenu=!1),this.showContextMenu(t.eventPoint,t.modelPoint)},e.prototype.onFocus=function(t){},e.prototype.onBlur=function(t){},e.prototype.onTextInputFocus=function(t){},e.prototype.onTextInputBlur=function(t){},e.prototype.onLongTouch=function(t){},e.prototype.onKeyDown=function(t){t.keyCode===s.KeyCode.Esc&&this.hideContextMenu()},e.prototype.onShortcut=function(t){this.hideContextMenu()},e.prototype.showContextMenu=function(t,e){var n=this;this.textInputStarted||window.setTimeout(function(){n.onVisibilityChanged.raise1(function(n){return n.notifyShowContextMenu(t,e)}),n.contextMenuVisible=!0},0)},e.prototype.hideContextMenu=function(){var t=this;this.contextMenuVisible&&window.setTimeout(function(){t.onVisibilityChanged.raise1(function(t){return t.notifyHideContextMenu()}),t.contextMenuVisible=!1},0)},e.prototype.notifyDragStart=function(t){},e.prototype.notifyDragEnd=function(t){},e.prototype.notifyDragScrollStart=function(){},e.prototype.notifyDragScrollEnd=function(){},e.prototype.notifyShowContextToolbox=function(t,e,n,i,o){},e.prototype.notifyHideContextToolbox=function(){},e.prototype.notifyTextInputStart=function(t,e,n,i){this.textInputStarted=!0},e.prototype.notifyTextInputEnd=function(t,e){this.textInputStarted=!1},e.prototype.notifyTextInputPermissionsCheck=function(t,e){},e.prototype.onUpdateUnlocked=function(t){},e}(l.BatchUpdatableObject);e.ContextMenuHandler=u},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.VisualizerManager=void 0;var r=n(325),a=n(326),s=n(157),l=n(11),c=n(327),u=n(14),h=n(3),d=n(33),p=n(0),f=n(158),m=n(4),g=n(328),v=n(329),y=n(81),_=n(36),b=function(t){function e(e,n,i,o,l){void 0===l&&(l=o.readOnly);var u=t.call(this)||this;return u.selection=e,u.model=n,u.eventManager=i,u.settings=o,u.readOnly=l,u.onVisualizersUpdate=new h.EventDispatcher,u.connectionPointsVisualizer=new c.ConnectionPointsVisualizer(u.onVisualizersUpdate),u.connectionPointsVisualizer=new c.ConnectionPointsVisualizer(u.onVisualizersUpdate),u.connectionTargetVisualizer=new r.ConnectionTargetVisualizer(u.onVisualizersUpdate),u.containerTargetVisualizer=new a.ContainerTargetVisualizer(u.onVisualizersUpdate),u.extensionLinesVisualizer=new s.ExtensionLinesVisualizer(u.onVisualizersUpdate),u.resizeInfoVisualizer=new g.ResizeInfoVisualizer(u.onVisualizersUpdate),u.selectionRectangleVisualizer=new v.SelectionRectVisualizer(u.onVisualizersUpdate),u}return o(e,t),e.prototype.initialize=function(t){this.model=t},e.prototype.onMouseDown=function(t){},e.prototype.onMouseUp=function(t){},e.prototype.onMouseEnter=function(t){},e.prototype.onMouseLeave=function(t){this.resetConnectionPoints(),this.resetConnectionTarget(),this.resetExtensionLines(),this.resetContainerTarget(),this.resetResizeInfo(),this.resetSelectionRectangle()},e.prototype.onBlur=function(t){},e.prototype.onFocus=function(t){},e.prototype.updateConnections=function(t,e,n){var i=-1;n&&e===l.MouseEventElementType.ShapeConnectionPoint&&(i=parseInt(n));var o=t&&(!t.allowResizeHorizontally&&!t.allowResizeVertically||t.isLocked);this.setConnectionPoints(t,e,i,o)},e.prototype.setConnectionPoints=function(t,e,n,i){if(this.eventManager.isFocused())if(!t||e!==l.MouseEventElementType.Shape&&e!==l.MouseEventElementType.ShapeResizeBox&&e!==l.MouseEventElementType.ShapeConnectionPoint||void 0===t)this.connectionPointsVisualizer.reset();else{var o=t.key,r=this.selection.hasKey(o),a=t.getConnectionPoints();this.connectionPointsVisualizer.setPoints(o,a.map(function(e){return new c.ConnectionPointInfo(e,t.getConnectionPointSide(e))}),n,r&&!i&&t.rectangle)}},e.prototype.setConnectionPointIndex=function(t){this.connectionPointsVisualizer.setPointIndex(t)},e.prototype.updateConnectionPoints=function(){void 0!==this.model.findItem(this.connectionPointsVisualizer.getKey())?this.connectionPointsVisualizer.update():this.connectionPointsVisualizer.reset()},e.prototype.resetConnectionPoints=function(){this.connectionPointsVisualizer.reset()},e.prototype.setConnectionTarget=function(t,e){!t||e!==l.MouseEventElementType.Shape&&e!==l.MouseEventElementType.ShapeConnectionPoint?this.connectionTargetVisualizer.reset():this.connectionTargetVisualizer.setTargetRect(t.key,t.rectangle,t.strokeWidth)},e.prototype.resetConnectionTarget=function(){this.connectionTargetVisualizer.reset()},e.prototype.setContainerTarget=function(t,e){t&&!t.isLocked&&e===l.MouseEventElementType.Shape&&t.enableChildren?this.containerTargetVisualizer.setTargetRect(t.key,t.rectangle,t.strokeWidth):this.containerTargetVisualizer.reset()},e.prototype.resetContainerTarget=function(){this.containerTargetVisualizer.reset()},e.prototype.setExtensionLines=function(t){var e=this;if(this.eventManager.isFocused()){this.extensionLinesVisualizer.reset();var n=m.ModelUtils.createRectangle(t.filter(function(t){return t}));this.addPageExtensionLines(n),this.model.items.forEach(function(i){t.indexOf(i)>-1||i instanceof u.Shape&&e.addShapeExtensionLines(i,n)})}},e.prototype.addPageExtensionLines=function(t){for(var e=Math.round(this.model.size.width/this.model.pageWidth),n=Math.round(this.model.size.height/this.model.pageHeight),i=0;i<e;i++)for(var o=0;o<n;o++){var r=new p.Point(i*this.model.pageWidth+this.model.pageWidth/2,o*this.model.pageHeight+this.model.pageHeight/2);if(Math.abs(t.center.x-r.x)<this.settings.gridSize/2){var a=new d.Segment(new p.Point(t.center.x,0),new p.Point(t.center.x,this.model.size.height));this.extensionLinesVisualizer.addSegment(s.ExtensionLineType.HorizontalCenterToPageCenter,a,"")}Math.abs(t.center.y-r.y)<this.settings.gridSize/2&&(a=new d.Segment(new p.Point(0,t.center.y),new p.Point(this.model.size.width,t.center.y)),this.extensionLinesVisualizer.addSegment(s.ExtensionLineType.VerticalCenterToPageCenter,a,"")),Math.abs(t.x-r.x)<this.settings.gridSize/2&&(a=new d.Segment(new p.Point(t.x,0),new p.Point(t.x,this.model.size.height)),this.extensionLinesVisualizer.addSegment(s.ExtensionLineType.LeftToPageCenter,a,"")),Math.abs(t.y-r.y)<this.settings.gridSize/2&&(a=new d.Segment(new p.Point(0,t.y),new p.Point(this.model.size.width,t.y)),this.extensionLinesVisualizer.addSegment(s.ExtensionLineType.TopToPageCenter,a,"")),Math.abs(t.right-r.x)<this.settings.gridSize/2&&(a=new d.Segment(new p.Point(t.right,0),new p.Point(t.right,this.model.size.height)),this.extensionLinesVisualizer.addSegment(s.ExtensionLineType.RightToPageCenter,a,"")),Math.abs(t.bottom-r.y)<this.settings.gridSize/2&&(a=new d.Segment(new p.Point(0,t.bottom),new p.Point(this.model.size.width,t.bottom)),this.extensionLinesVisualizer.addSegment(s.ExtensionLineType.BottomToPageCenter,a,""))}},e.prototype.addShapeExtensionLines=function(t,e){var n,i,o,r,a,l,c,u,h=t.rectangle,m=t.strokeWidth-f.CanvasSelectionManager.extensionLineWidth,g=!0;if(e.right<h.x?(n=e.right,o=h.x,a=n+m+f.CanvasSelectionManager.extensionLineOffset,c=o-f.CanvasSelectionManager.extensionLineOffset):e.x>h.right&&(n=e.x,o=h.right,a=n-f.CanvasSelectionManager.extensionLineOffset,c=o+m+f.CanvasSelectionManager.extensionLineOffset),e.bottom<h.y?(i=e.bottom,r=h.y,l=i+m+f.CanvasSelectionManager.extensionLineOffset,u=r-f.CanvasSelectionManager.extensionLineOffset):e.y>h.bottom&&(i=e.y,r=h.bottom,l=i-f.CanvasSelectionManager.extensionLineOffset,u=r+m+f.CanvasSelectionManager.extensionLineOffset),void 0!==a&&void 0!==c){var v=this.getViewUnitText(Math.abs(n-o));if(e.center.y===h.center.y){var y=new d.Segment(new p.Point(a,e.center.y),new p.Point(c,h.center.y));this.extensionLinesVisualizer.addSegment(a>c?s.ExtensionLineType.VerticalCenterAfter:s.ExtensionLineType.VerticalCenterBefore,y,g?v:""),g=!1}e.y===h.y&&(y=new d.Segment(new p.Point(a,e.y),new p.Point(c,h.y)),this.extensionLinesVisualizer.addSegment(a>c?s.ExtensionLineType.TopToTopAfter:s.ExtensionLineType.TopToTopBefore,y,g?v:"")),e.bottom===h.bottom&&(y=new d.Segment(new p.Point(a,e.bottom+m),new p.Point(c,h.bottom+m)),this.extensionLinesVisualizer.addSegment(a>c?s.ExtensionLineType.BottomToBottomAfter:s.ExtensionLineType.BottomToBottomBefore,y,g?v:"")),e.y===h.bottom&&(y=new d.Segment(new p.Point(a,e.y),new p.Point(c,h.bottom+m)),this.extensionLinesVisualizer.addSegment(a>c?s.ExtensionLineType.TopToBottomAfter:s.ExtensionLineType.TopToBottomBefore,y,g?v:"")),e.bottom===h.y&&(y=new d.Segment(new p.Point(a,e.bottom+m),new p.Point(c,h.y)),this.extensionLinesVisualizer.addSegment(a>c?s.ExtensionLineType.BottomToTopAfter:s.ExtensionLineType.BottomToTopBefore,y,g?v:""))}void 0!==l&&void 0!==u&&(v=this.getViewUnitText(Math.abs(i-r)),e.center.x===h.center.x&&(y=new d.Segment(new p.Point(e.center.x,l),new p.Point(h.center.x,u)),this.extensionLinesVisualizer.addSegment(l>u?s.ExtensionLineType.HorizontalCenterBelow:s.ExtensionLineType.HorizontalCenterAbove,y,g?v:""),g=!1),e.x===h.x&&(y=new d.Segment(new p.Point(e.x,l),new p.Point(h.x,u)),this.extensionLinesVisualizer.addSegment(l>u?s.ExtensionLineType.LeftToLeftBelow:s.ExtensionLineType.LeftToLeftAbove,y,g?v:"")),e.right===h.right&&(y=new d.Segment(new p.Point(e.right+m,l),new p.Point(h.right+m,u)),this.extensionLinesVisualizer.addSegment(l>u?s.ExtensionLineType.RightToRightBelow:s.ExtensionLineType.RightToRightAbove,y,g?v:"")),e.x===h.right&&(y=new d.Segment(new p.Point(e.x,l),new p.Point(h.right+m,u)),this.extensionLinesVisualizer.addSegment(l>u?s.ExtensionLineType.LeftToRightBelow:s.ExtensionLineType.LeftToRightAbove,y,g?v:"")),e.right===h.x&&(y=new d.Segment(new p.Point(e.right+m,l),new p.Point(h.x,u)),this.extensionLinesVisualizer.addSegment(l>u?s.ExtensionLineType.RightToLeftBelow:s.ExtensionLineType.RightToLeftAbove,y,g?v:"")))},e.prototype.resetExtensionLines=function(){this.extensionLinesVisualizer.reset()},e.prototype.setResizeInfo=function(t){var e=m.ModelUtils.createRectangle(t),n=new p.Point(e.center.x,e.bottom+f.CanvasSelectionManager.resizeInfoOffset),i=this.getViewUnitText(e.width)+" x "+this.getViewUnitText(e.height);this.resizeInfoVisualizer.set(n,i)},e.prototype.resetResizeInfo=function(){this.resizeInfoVisualizer.reset()},e.prototype.setSelectionRectangle=function(t){this.selectionRectangleVisualizer.setRectangle(t)},e.prototype.resetSelectionRectangle=function(){this.selectionRectangleVisualizer.reset()},e.prototype.getViewUnitText=function(t){return m.ModelUtils.getUnitText(this.settings.viewUnits,_.DiagramLocalizationService.unitItems,_.DiagramLocalizationService.formatUnit,t)},e.prototype.notifyReadOnlyChanged=function(t){this.readOnly=t,this.readOnly&&(this.resetConnectionPoints(),this.resetConnectionTarget(),this.resetExtensionLines(),this.resetContainerTarget(),this.resetResizeInfo(),this.resetSelectionRectangle())},e.prototype.notifyDragStart=function(t){},e.prototype.notifyDragEnd=function(t){},e.prototype.notifyDragScrollStart=function(){},e.prototype.notifyDragScrollEnd=function(){},e.prototype.onUpdateUnlocked=function(t){},e}(y.BatchUpdatableObject);e.VisualizerManager=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TargetVisualizerBase=void 0;var i=function(){function t(t){this.dispatcher=t}return t.prototype.getKey=function(){return this.key},t.prototype.setTargetRect=function(t,e,n){this.key!==t&&(this.key=t,this.targetRect=e,this.targetStrokeWidth=n,this.raiseShow())},t.prototype.reset=function(){"-1"!==this.key&&(this.key="-1",this.targetRect=void 0,this.targetStrokeWidth=0,this.raiseHide())},t}();e.TargetVisualizerBase=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionLinesVisualizer=e.ExtensionLine=e.ExtensionLineType=void 0,function(t){t[t.LeftToLeftAbove=0]="LeftToLeftAbove",t[t.LeftToLeftBelow=1]="LeftToLeftBelow",t[t.RightToRightAbove=2]="RightToRightAbove",t[t.RightToRightBelow=3]="RightToRightBelow",t[t.LeftToRightAbove=4]="LeftToRightAbove",t[t.LeftToRightBelow=5]="LeftToRightBelow",t[t.RightToLeftAbove=6]="RightToLeftAbove",t[t.RightToLeftBelow=7]="RightToLeftBelow",t[t.TopToTopBefore=8]="TopToTopBefore",t[t.TopToTopAfter=9]="TopToTopAfter",t[t.BottomToBottomBefore=10]="BottomToBottomBefore",t[t.BottomToBottomAfter=11]="BottomToBottomAfter",t[t.TopToBottomBefore=12]="TopToBottomBefore",t[t.TopToBottomAfter=13]="TopToBottomAfter",t[t.BottomToTopBefore=14]="BottomToTopBefore",t[t.BottomToTopAfter=15]="BottomToTopAfter",t[t.HorizontalCenterAbove=16]="HorizontalCenterAbove",t[t.HorizontalCenterBelow=17]="HorizontalCenterBelow",t[t.VerticalCenterBefore=18]="VerticalCenterBefore",t[t.VerticalCenterAfter=19]="VerticalCenterAfter",t[t.VerticalCenterToPageCenter=20]="VerticalCenterToPageCenter",t[t.HorizontalCenterToPageCenter=21]="HorizontalCenterToPageCenter",t[t.LeftToPageCenter=22]="LeftToPageCenter",t[t.RightToPageCenter=23]="RightToPageCenter",t[t.TopToPageCenter=24]="TopToPageCenter",t[t.BottomToPageCenter=25]="BottomToPageCenter"}(e.ExtensionLineType||(e.ExtensionLineType={}));var i=function(t,e,n){this.type=t,this.segment=e,this.text=n};e.ExtensionLine=i;var o=function(){function t(t){this.dispatcher=t,this.lines=[],this.lineIndexByType={}}return t.prototype.addSegment=function(t,e,n){var o=this.lineIndexByType[t];if(void 0===o){var r=new i(t,e,n),a=this.lines.push(r);this.lineIndexByType[r.type]=a-1,this.raiseShow()}else e.length<this.lines[o].segment.length&&(r=new i(t,e,n),this.lines.splice(o,1,r),this.raiseShow())},t.prototype.update=function(){this.raiseShow()},t.prototype.reset=function(){this.lines.length&&(this.lines=[],this.lineIndexByType={},this.raiseHide())},t.prototype.raiseShow=function(){var t=this;this.dispatcher.raise1(function(e){return e.notifyExtensionLinesShow(t.lines)})},t.prototype.raiseHide=function(){this.dispatcher.raise1(function(t){return t.notifyExtensionLinesHide()})},t}();e.ExtensionLinesVisualizer=o},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasSelectionManager=e.ACTIVE_SELECTION_CSSCLASS=e.SELECTION_ELEMENT_CLASSNAMES=void 0;var r=n(42),a=n(39),s=n(17),l=n(11),c=n(9),u=n(3),h=n(0),d=n(157),p=n(14),f=n(6),m=n(32),g=n(21),v=n(5),y=n(63),_=n(55),b=n(26),C=n(12),O=n(43),x=n(18),S=n(27),w=n(78),P=n(140),k=n(35),E=n(31),T=n(4);e.SELECTION_ELEMENT_CLASSNAMES={SELECTION_RECTANGLE:"selection-rect",CONNECTION_POINT:"connection-point",ACTIVE:"active",CONTAINER_TARGET:"container-target",CONNECTION_TARGET:"connection-target",EXTENSION_LINE:"extension-line",CONNECTION_MARK:"connection-mark",SELECTION_MARK:"selection-mark",LOCKED_SELECTION_MARK:"locked-selection-mark",ITEMS_SELECTION_RECT:"items-selection-rect",CONNECTOR_MULTI_SELECTION:"connector-multi-selection",CONNECTOR_SELECTION:"connector-selection",CONNECTOR_POINT_MARK:"connector-point-mark",CONNECTOR_SELECTION_MASK:"connector-selection-mask",CONNECTOR_SIDE_MARK:"connector-side-mark",ITEM_SELECTION_RECT:"item-selection-rect",ITEM_MULTI_SELECTION:"item-multi-selection-rect"},e.ACTIVE_SELECTION_CSSCLASS="dxdi-active-selection";var I=function(t){function n(e,n,i,o){var r=t.call(this,n,o)||this;return r.readOnly=i,r.connectionPointElements=[],r.extensionLineElements=[],r.selectionMap={},r.parentContainer=e,r.initializeContainerElements(e),r}return o(n,t),n.prototype.initializeContainerElements=function(t){this.itemSelectionContainer=this.createAndChangePrimitiveElement(new a.GroupPrimitive([],null),t),this.visualizersContainer=this.createAndChangePrimitiveElement(new a.GroupPrimitive([],null),t),this.selectionMarksContainer=this.createAndChangePrimitiveElement(new a.GroupPrimitive([],null),t)},n.prototype.clear=function(){s.RenderUtils.removeContent(this.itemSelectionContainer),s.RenderUtils.removeContent(this.selectionMarksContainer),s.RenderUtils.removeContent(this.visualizersContainer),this.selectionRectElement=void 0,this.resizeInfoElement=void 0,this.connectionPointElements=[],this.connectionTargetElement=void 0,this.containerTargetElement=void 0,this.extensionLineElements=[],this.selectionMap={}},n.prototype.showSelectionRect=function(t){S.DomUtils.addClassName(this.parentContainer,e.ACTIVE_SELECTION_CSSCLASS);var n=new g.RectanglePrimitive(t.x,t.y,t.width,t.height,b.StrokeStyle.default1pxInstance,e.SELECTION_ELEMENT_CLASSNAMES.SELECTION_RECTANGLE),i=this.getSelectionRectElement(n);this.changePrimitiveElement(n,i)},n.prototype.hideSelectionRect=function(){S.DomUtils.removeClassName(this.parentContainer,e.ACTIVE_SELECTION_CSSCLASS),void 0!==this.selectionRectElement&&this.dom.changeByFunc(this.selectionRectElement,function(t){return t.style.display="none"})},n.prototype.getSelectionRectElement=function(t){return void 0!==this.selectionRectElement?this.dom.changeByFunc(this.selectionRectElement,function(t){return t.style.display=""}):this.selectionRectElement=this.createPrimitiveElement(t,this.visualizersContainer),this.selectionRectElement},n.prototype.showResizeInfo=function(t,e){var i=new g.RectanglePrimitive(t.x,t.y,0,0,b.StrokeStyle.default1pxInstance),o=new a.GroupPrimitive([i,new y.TextPrimitive(t.x,t.y,e,O.TextOwner.Resize)],"resize-info"),r=this.getResizeInfoElement(o);this.changePrimitiveElement(o,r);var s=this.dom.measurer.measureTextLine(e,null,O.TextOwner.Resize).applyConverter(C.UnitConverter.pixelsToTwips);i.width=s.width+2*n.resizeInfoTextOffset,i.height=s.height+2*n.resizeInfoTextOffset,i.x=t.x-s.width/2-n.resizeInfoTextOffset,i.y=t.y-s.height/2-n.resizeInfoTextOffset,this.changePrimitiveElement(o,r)},n.prototype.hideResizeInfo=function(){void 0!==this.resizeInfoElement&&this.dom.changeByFunc(this.resizeInfoElement,function(t){return t.style.display="none"})},n.prototype.getResizeInfoElement=function(t){return void 0!==this.resizeInfoElement?this.dom.changeByFunc(this.resizeInfoElement,function(t){return t.style.display=""}):this.resizeInfoElement=this.createPrimitiveElement(t,this.visualizersContainer),this.resizeInfoElement},n.prototype.getConnectionPointClassName=function(t,n){var i=e.SELECTION_ELEMENT_CLASSNAMES.CONNECTION_POINT;return t&&(i+=" "+e.SELECTION_ELEMENT_CLASSNAMES.ACTIVE),n||(i+=" "+w.NOT_VALID_CSSCLASS),i},n.prototype.showConnectionPoint=function(t,i,o,r,a,s){this.showConnectionPointCore(2*t,i.x,i.y,n.connectionPointLargeSize,n.connectionPointLargeSize,l.MouseEventElementType.ShapeConnectionPoint,o,r,e.SELECTION_ELEMENT_CLASSNAMES.CONNECTION_POINT+" selector"+(s?"":" "+w.NOT_VALID_CSSCLASS)),this.showConnectionPointCore(2*t+1,i.x,i.y,n.connectionPointSmallSize,n.connectionPointSmallSize,l.MouseEventElementType.ShapeConnectionPoint,o,r,this.getConnectionPointClassName(a,s))},n.prototype.showConnectionPointCore=function(t,e,n,i,o,r,a,l,c){var u=new _.EllipsePrimitive(e,n,i,o,null,c,function(t){return s.RenderUtils.setElementEventData(t,r,a,l)}),h=this.getConnectionPointElement(u,t);this.changePrimitiveElement(u,h)},n.prototype.hideConnectionPoints=function(){for(var t=0;t<this.connectionPointElements.length;t++)this.dom.changeByFunc(this.connectionPointElements[t],function(t){return t.style.display="none"})},n.prototype.getConnectionPointElement=function(t,e){var n=this.connectionPointElements[e];return void 0!==n?this.dom.changeByFunc(n,function(t){return t.style.display=""}):(n=this.createPrimitiveElement(t,this.visualizersContainer),this.connectionPointElements[e]=n),n},n.prototype.showContainerTarget=function(t,n){var i=new g.RectanglePrimitive(n.x,n.y,n.width,n.height,null,e.SELECTION_ELEMENT_CLASSNAMES.CONTAINER_TARGET),o=this.getContainerTargetElement(i);this.changePrimitiveElement(i,o)},n.prototype.hideContainerTarget=function(){this.containerTargetElement&&this.dom.changeByFunc(this.containerTargetElement,function(t){return t.style.display="none"})},n.prototype.getContainerTargetElement=function(t){return void 0!==this.containerTargetElement?this.dom.changeByFunc(this.containerTargetElement,function(t){return t.style.display=""}):this.containerTargetElement=this.createPrimitiveElement(t,this.itemSelectionContainer),this.containerTargetElement},n.prototype.showConnectionTarget=function(t,n){var i=new g.RectanglePrimitive(n.x,n.y,n.width,n.height,null,e.SELECTION_ELEMENT_CLASSNAMES.CONNECTION_TARGET),o=this.getConnectionTargetElement(i);this.changePrimitiveElement(i,o)},n.prototype.hideConnectionTarget=function(){this.connectionTargetElement&&this.dom.changeByFunc(this.connectionTargetElement,function(t){return t.style.display="none"})},n.prototype.getConnectionTargetElement=function(t){return void 0!==this.connectionTargetElement?this.dom.changeByFunc(this.connectionTargetElement,function(t){return t.style.display=""}):this.connectionTargetElement=this.createPrimitiveElement(t,this.itemSelectionContainer),this.connectionTargetElement},n.prototype.showExtensionLine=function(t,i,o,s,l){var c=e.SELECTION_ELEMENT_CLASSNAMES.EXTENSION_LINE;i!==d.ExtensionLineType.VerticalCenterAfter&&i!==d.ExtensionLineType.VerticalCenterBefore&&i!==d.ExtensionLineType.HorizontalCenterAbove&&i!==d.ExtensionLineType.HorizontalCenterBelow||(c+=" center"),i!==d.ExtensionLineType.VerticalCenterToPageCenter&&i!==d.ExtensionLineType.HorizontalCenterToPageCenter&&i!==d.ExtensionLineType.LeftToPageCenter&&i!==d.ExtensionLineType.RightToPageCenter&&i!==d.ExtensionLineType.TopToPageCenter&&i!==d.ExtensionLineType.BottomToPageCenter||(c+=" page");var u=0,h=0,p=0,f=0,m=0,g=0,_=0,C=0;o.y===s.y?(u=o.x-n.extensionLineWidth,h=o.y-n.extensionLineEndingSize,p=o.x-n.extensionLineWidth,f=o.y+n.extensionLineEndingSize,m=s.x-n.extensionLineWidth,g=o.y-n.extensionLineEndingSize,_=s.x-n.extensionLineWidth,C=o.y+n.extensionLineEndingSize):o.x===s.x&&(u=o.x-n.extensionLineEndingSize,h=o.y-n.extensionLineWidth,p=o.x+n.extensionLineEndingSize,f=o.y-n.extensionLineWidth,m=o.x-n.extensionLineEndingSize,g=s.y-n.extensionLineWidth,_=o.x+n.extensionLineEndingSize,C=s.y-n.extensionLineWidth);var x=0,S=0;i!==d.ExtensionLineType.RightToRightAbove&&i!==d.ExtensionLineType.RightToRightBelow||(x-=n.extensionLineWidth),i!==d.ExtensionLineType.BottomToBottomAfter&&i!==d.ExtensionLineType.BottomToBottomBefore||(S-=n.extensionLineWidth);var w=[new v.PathPrimitive([v.PathPrimitiveMoveToCommand.fromPoint(o.clone().offset(x,S)),v.PathPrimitiveLineToCommand.fromPoint(s.clone().offset(x,S))],b.StrokeStyle.default1pxInstance,"size-line"),new v.PathPrimitive([new v.PathPrimitiveMoveToCommand(u,h),new v.PathPrimitiveLineToCommand(p,f),new v.PathPrimitiveMoveToCommand(m,g),new v.PathPrimitiveLineToCommand(_,C)],b.StrokeStyle.default1pxInstance),new y.TextPrimitive((s.x+o.x)/2,(s.y+o.y)/2,l,O.TextOwner.ExtensionLine,void 0,void 0,void 0,null,void 0,null,r.PAGE_BG_TEXTFLOOR_FILTER_ID)],P=new a.GroupPrimitive(w,c),k=this.getExtensionLineElement(P,t);this.changePrimitiveElement(P,k)},n.prototype.hideExtensionLines=function(){for(var t=0;t<this.extensionLineElements.length;t++)this.extensionLineElements[t]&&this.dom.changeByFunc(this.extensionLineElements[t],function(t){return t.style.display="none"})},n.prototype.getExtensionLineElement=function(t,e){var n=this.extensionLineElements[e];return void 0!==n?this.dom.changeByFunc(n,function(t){return t.style.display=""}):(n=this.createPrimitiveElement(t,this.visualizersContainer),this.extensionLineElements[e]=n),n},n.prototype.getOrCreateShapeSelection=function(t,e){var n=this.selectionMap[t.key];return n||(n=new A(this.itemSelectionContainer,this.selectionMarksContainer,this.actualZoom,this.readOnly,this.dom,t.key,t.isLocked,t.rectangle,t.style,t.allowResizeHorizontally,t.allowResizeVertically,t.description.getParameterPoints(t)),this.selectionMap[t.key]=n),e&&(e[t.key]=!0),n},n.prototype.getOrCreateConnectorSelection=function(t,e){var n=this.selectionMap[t.key],i=t.getRenderPoints();return n||(n=new R(this.itemSelectionContainer,this.selectionMarksContainer,this.actualZoom,this.readOnly,this.dom,t.key,t.isLocked,t.rectangle,i,t.style,t.styleText,t.enableText,t.texts.map(function(e){var n=u.GeometryUtils.getPathPointByPosition(i,e.position);return{text:t.getText(e.position),point:n[0],pointIndex:n[1],pos:e.position}}).sort(function(t,e){return t.pos-e.pos}),t.points,t.properties.lineOption),this.selectionMap[t.key]=n),e&&(e[t.key]=!0),n},n.prototype.getOrCreateMultipleSelection=function(t){var e=this.selectionMap[-1];return e||(e=new D(this.itemSelectionContainer,this.selectionMarksContainer,this.actualZoom,this.readOnly,this.dom),this.selectionMap[-1]=e),t[-1]=!0,e},n.prototype.getMultipleSelection=function(){return this.selectionMap[-1]},n.prototype.updateShapeSelection=function(t,e){t.key in this.selectionMap&&(this.getOrCreateShapeSelection(t).onModelChanged(t.isLocked,t.rectangle,t.style,t.allowResizeHorizontally,t.allowResizeVertically,t.description.getParameterPoints(t)),e&&e.onModelItemChanged(t.key,t.rectangle))},n.prototype.updateConnectorSelection=function(t,e){if(t.key in this.selectionMap){var n=t.getRenderPoints();this.getOrCreateConnectorSelection(t).onModelChanged(t.isLocked,t.rectangle,n,t.style,t.styleText,t.enableText,t.texts.map(function(e){var i=u.GeometryUtils.getPathPointByPosition(n,e.position);return{text:t.getText(e.position),pointIndex:i[1],pos:e.position,point:i[0]}}).sort(function(t,e){return t.pos-e.pos}),t.points,t.properties.lineOption),e&&e.onModelItemChanged(t.key,t.rectangle)}},n.prototype.hideOutdatedSelection=function(t){var e=this;Object.keys(this.selectionMap).filter(function(e){return!t[e]}).forEach(function(t){e.selectionMap[t].destroy(),delete e.selectionMap[t]})},n.prototype.selectionCanBeDrawn=function(t){return!t.container||t.container.expanded&&this.selectionCanBeDrawn(t.container)},n.prototype.notifySelectionChanged=function(t){var e=this,n=t.getSelectedItems(!0).filter(function(t){return e.selectionCanBeDrawn(t)}),i={},o=n.length>1,r=t.getSelectedShapes(!0).filter(function(t){return e.selectionCanBeDrawn(t)}),a=t.getSelectedConnectors(!0).filter(function(t){return e.selectionCanBeDrawn(t)});if(r.forEach(function(t){return e.getOrCreateShapeSelection(t,i).onSelectionChanged(o)}),a.forEach(function(t){return e.getOrCreateConnectorSelection(t,i).onSelectionChanged(o)}),o){var s=n.length>0?n[0].strokeWidth:0,l={};n.filter(function(t){return!t.isLocked}).forEach(function(t){return l[t.key]=t.rectangle}),this.getOrCreateMultipleSelection(i).onSelectionChanged(!!r.filter(function(t){return!t.isLocked}).length,s,l)}this.hideOutdatedSelection(i)},n.prototype.applyChangesCore=function(e){t.prototype.applyChangesCore.call(this,e);var n=this.getMultipleSelection();n&&n.onModelChanged()},n.prototype.applyChange=function(t){var e=this.getMultipleSelection();t.item instanceof p.Shape?this.updateShapeSelection(t.item,e):t.item instanceof f.Connector&&this.updateConnectorSelection(t.item,e)},n.prototype.notifyPageColorChanged=function(t){},n.prototype.notifyPageSizeChanged=function(t,e){},n.prototype.notifyActualZoomChanged=function(t){var e=this;Object.keys(this.selectionMap).forEach(function(n){return e.selectionMap[n].notifyZoomChanged(t)}),this.actualZoom=t},n.prototype.notifyViewAdjusted=function(t){},n.prototype.notifyReadOnlyChanged=function(t){var e=this;this.readOnly=t,Object.keys(this.selectionMap).forEach(function(n){return e.selectionMap[n].notifyReadOnlyChanged(t)})},n.prototype.notifySelectionRectShow=function(t){this.showSelectionRect(t.clone().multiply(this.actualZoom,this.actualZoom))},n.prototype.notifySelectionRectHide=function(){this.hideSelectionRect()},n.prototype.notifyResizeInfoShow=function(t,e){this.showResizeInfo(t.clone().multiply(this.actualZoom,this.actualZoom),e)},n.prototype.notifyResizeInfoHide=function(){this.hideResizeInfo()},n.prototype.notifyConnectionPointsShow=function(t,e,i,o){var r=this;this.hideConnectionPoints(),e.forEach(function(e,a){var s=e.point.clone().multiply(r.actualZoom,r.actualZoom);if(o)switch(e.side){case c.ConnectionPointSide.North:s.y=o.y*r.actualZoom-n.connectionPointShift;break;case c.ConnectionPointSide.South:s.y=o.bottom*r.actualZoom+n.connectionPointShift;break;case c.ConnectionPointSide.West:s.x=o.x*r.actualZoom-n.connectionPointShift;break;case c.ConnectionPointSide.East:s.x=o.right*r.actualZoom+n.connectionPointShift}r.showConnectionPoint(a,s,t,a,a===i,e.allowed)})},n.prototype.notifyConnectionPointsHide=function(){this.hideConnectionPoints()},n.prototype.notifyConnectionTargetShow=function(t,e){if(e.allowed){var i=n.correctSelectionRect(e.rect.clone().multiply(this.actualZoom,this.actualZoom),e.strokeWidth,n.connectionTargetBorderWidth,this.actualZoom,0);this.showConnectionTarget(0,i)}},n.prototype.notifyConnectionTargetHide=function(){this.hideConnectionTarget()},n.prototype.notifyContainerTargetShow=function(t,e){var i=n.correctSelectionRect(e.rect.clone().multiply(this.actualZoom,this.actualZoom),e.strokeWidth,n.connectionTargetBorderWidth,this.actualZoom,0);this.showContainerTarget(0,i)},n.prototype.notifyContainerTargetHide=function(){this.hideContainerTarget()},n.prototype.notifyExtensionLinesShow=function(t){var e=this;this.hideExtensionLines(),t.forEach(function(t,n){e.showExtensionLine(n,t.type,t.segment.startPoint.clone().multiply(e.actualZoom,e.actualZoom),t.segment.endPoint.clone().multiply(e.actualZoom,e.actualZoom),t.text)})},n.prototype.notifyExtensionLinesHide=function(){this.hideExtensionLines()},n.prototype.notifyDragStart=function(t){this.dom.changeByFunc(this.selectionMarksContainer,function(t){return t.style.display="none"})},n.prototype.notifyDragEnd=function(t){this.dom.changeByFunc(this.selectionMarksContainer,function(t){return t.style.display=""})},n.prototype.notifyDragScrollStart=function(){},n.prototype.notifyDragScrollEnd=function(){},n.prototype.notifyTextInputStart=function(t,e,n,i){this.dom.changeByFunc(this.visualizersContainer,function(t){return t.style.display="none"})},n.prototype.notifyTextInputEnd=function(t,e){this.dom.changeByFunc(this.visualizersContainer,function(t){return t.style.display=""})},n.prototype.notifyTextInputPermissionsCheck=function(t,e){},n.correctSelectionRect=function(t,e,i,o,r){void 0===r&&(r=n.selectionOffset);var a=C.UnitConverter.twipsToPixels(e)%2!=C.UnitConverter.twipsToPixels(i)%2,s=Math.ceil(e/2*o);t=t.clone().inflate(s,s);var l=Math.floor(i/2);if(t.x-=l,t.y-=l,t.width+=i,t.height+=i,a){var c=n.evenOddSelectionCorrection*(C.UnitConverter.twipsToPixels(i)%2==1?-1:1);t=t.clone().moveRectangle(c,c)}return t.clone().inflate(r,r)},n.selectionMarkSize=C.UnitConverter.pixelsToTwips(10),n.lockedSelectionMarkSize=C.UnitConverter.pixelsToTwips(8),n.selectionOffset=C.UnitConverter.pixelsToTwips(2),n.selectionRectLineWidth=C.UnitConverter.pixelsToTwips(1),n.multiSelectionRectLineWidth=C.UnitConverter.pixelsToTwips(1),n.connectionPointSmallSize=C.UnitConverter.pixelsToTwips(5),n.connectionPointLargeSize=C.UnitConverter.pixelsToTwips(12),n.connectionPointShift=C.UnitConverter.pixelsToTwips(16),n.connectionTargetBorderWidth=C.UnitConverter.pixelsToTwips(2),n.geomertyMarkSize=C.UnitConverter.pixelsToTwips(8),n.connectorPointMarkSize=C.UnitConverter.pixelsToTwips(6),n.connectorSideMarkSize=C.UnitConverter.pixelsToTwips(6),n.extensionLineWidth=C.UnitConverter.pixelsToTwips(1),n.extensionLineOffset=C.UnitConverter.pixelsToTwips(1),n.extensionLineEndingSize=C.UnitConverter.pixelsToTwips(6),n.resizeInfoOffset=C.UnitConverter.pixelsToTwips(16),n.resizeInfoTextOffset=C.UnitConverter.pixelsToTwips(2),n.resizeInfoLineWidth=C.UnitConverter.pixelsToTwips(1),n.evenOddSelectionCorrection=C.UnitConverter.pixelsToTwips(1),n}(P.CanvasManager);e.CanvasSelectionManager=I;var j=function(){function t(t,e,n,i,o,r){this.rectsContainer=t,this.marksContainer=e,this.key=n,this.zoomLevel=i,this.readOnly=o,this.dom=r,this.elements={},this.updatedElements={}}return t.prototype.notifyZoomChanged=function(t){this.zoomLevel!==t&&(this.zoomLevel=t,this.redraw())},t.prototype.notifyReadOnlyChanged=function(t){this.readOnly=t,this.redraw()},t.prototype.destroy=function(){var t=this;Object.keys(this.elements).forEach(function(e){t.elements[e].parentNode.removeChild(t.elements[e]),delete t.elements[e]})},t.prototype.redraw=function(){var t=this;this.updatedElements={},this.redrawCore(),Object.keys(this.elements).filter(function(e){return!t.updatedElements[e]}).forEach(function(e){t.elements[e].parentNode.removeChild(t.elements[e]),delete t.elements[e]}),this.updatedElements={}},t.prototype.drawSelectionMarks=function(t,n,i){if(!this.readOnly){var o=n&&t.height>3*I.selectionMarkSize,r=i&&t.width>3*I.selectionMarkSize,a=n||i;a&&this.drawSelectionMark(0,new h.Point(t.x,t.y),I.selectionMarkSize,l.MouseEventElementType.ShapeResizeBox,l.ResizeEventSource.ResizeBox_NW,e.SELECTION_ELEMENT_CLASSNAMES.SELECTION_MARK),r&&!x.Browser.TouchUI&&this.drawSelectionMark(1,new h.Point(t.x+t.width/2,t.y),I.selectionMarkSize,l.MouseEventElementType.ShapeResizeBox,l.ResizeEventSource.ResizeBox_N,e.SELECTION_ELEMENT_CLASSNAMES.SELECTION_MARK),a&&this.drawSelectionMark(2,new h.Point(t.right,t.y),I.selectionMarkSize,l.MouseEventElementType.ShapeResizeBox,l.ResizeEventSource.ResizeBox_NE,e.SELECTION_ELEMENT_CLASSNAMES.SELECTION_MARK),o&&!x.Browser.TouchUI&&this.drawSelectionMark(3,new h.Point(t.right,t.y+t.height/2),I.selectionMarkSize,l.MouseEventElementType.ShapeResizeBox,l.ResizeEventSource.ResizeBox_E,e.SELECTION_ELEMENT_CLASSNAMES.SELECTION_MARK),a&&this.drawSelectionMark(4,new h.Point(t.right,t.bottom),I.selectionMarkSize,l.MouseEventElementType.ShapeResizeBox,l.ResizeEventSource.ResizeBox_SE,e.SELECTION_ELEMENT_CLASSNAMES.SELECTION_MARK),r&&!x.Browser.TouchUI&&this.drawSelectionMark(5,new h.Point(t.x+t.width/2,t.bottom),I.selectionMarkSize,l.MouseEventElementType.ShapeResizeBox,l.ResizeEventSource.ResizeBox_S,e.SELECTION_ELEMENT_CLASSNAMES.SELECTION_MARK),a&&this.drawSelectionMark(6,new h.Point(t.x,t.bottom),I.selectionMarkSize,l.MouseEventElementType.ShapeResizeBox,l.ResizeEventSource.ResizeBox_SW,e.SELECTION_ELEMENT_CLASSNAMES.SELECTION_MARK),o&&!x.Browser.TouchUI&&this.drawSelectionMark(7,new h.Point(t.x,t.y+t.height/2),I.selectionMarkSize,l.MouseEventElementType.ShapeResizeBox,l.ResizeEventSource.ResizeBox_W,e.SELECTION_ELEMENT_CLASSNAMES.SELECTION_MARK)}},t.prototype.drawSelectionMark=function(t,e,n,i,o,r){var a=this;this.getOrCreateElement("SM"+t,new g.RectanglePrimitive(e.x-n/2,e.y-n/2,n,n,null,r,void 0,function(t){s.RenderUtils.setElementEventData(t,i,a.key,o)}),this.marksContainer)},t.prototype.drawSelectionRect=function(t,e,n){var i=new g.RectanglePrimitive(t.x,t.y,t.width,t.height,b.StrokeStyle.default1pxInstance,n,void 0,function(t){s.RenderUtils.setElementEventData(t,e,"-1",-1)});this.getOrCreateElement("shapeSelection",i,this.rectsContainer)},t.prototype.getOrCreateElement=function(t,e,n){var i=this.elements[t];return i||(i=e.createElement(function(t){return n.appendChild(t)}),this.elements[t]=i),this.updatedElements[t]=!0,this.dom.changeByPrimitive(i,e),i},t}(),M=function(t){function e(e,n,i,o,r,a,s,l){var c=t.call(this,e,n,i,o,r,a)||this;return c.isLocked=s,c.rectangle=l,c}return o(e,t),e.prototype.onSelectionChanged=function(t){this.isMultipleSelection!==t&&(this.isMultipleSelection=t,this.redraw())},e.prototype.isLockedRender=function(){return this.isLocked&&!this.readOnly},e.prototype.drawLockedSelectionMark=function(t,e,n,i){var o=new v.PathPrimitive([new v.PathPrimitiveMoveToCommand(e.x-n/2,e.y-n/2),new v.PathPrimitiveLineToCommand(e.x+n/2,e.y+n/2),new v.PathPrimitiveMoveToCommand(e.x+n/2,e.y-n/2),new v.PathPrimitiveLineToCommand(e.x-n/2,e.y+n/2)],null,i);this.getOrCreateElement("LSM"+t,o,this.marksContainer)},e}(j),D=function(t){function n(e,n,i,o,r){var a=t.call(this,e,n,"-1",i,o,r)||this;return a.rectangles={},a}return o(n,t),n.prototype.onModelItemChanged=function(t,e){t in this.rectangles&&(this.rectangles[t]=e)},n.prototype.onModelChanged=function(){this.redraw()},n.prototype.onSelectionChanged=function(t,e,n){this.needDrawSelectionMarks=t,this.strokeWidth=e,this.rectangles=n,this.redraw()},n.prototype.redrawCore=function(){var t=this,n=Object.keys(this.rectangles);if(n.length){var i=u.GeometryUtils.getCommonRectangle(n.map(function(e){return t.rectangles[e]})).clone().multiply(this.zoomLevel,this.zoomLevel),o=I.correctSelectionRect(i,this.strokeWidth,I.selectionRectLineWidth,this.zoomLevel);this.drawSelectionRect(o,l.MouseEventElementType.SelectionRect,e.SELECTION_ELEMENT_CLASSNAMES.ITEMS_SELECTION_RECT),this.needDrawSelectionMarks&&this.drawSelectionMarks(i,!0,!0)}},n}(j),A=function(t){function n(e,n,i,o,r,a,s,l,c,u,h,d){var p=t.call(this,e,n,a,i,o,r,s,l)||this;return p.style=c,p.allowResizeHorizontally=u,p.allowResizeVertically=h,p.shapeParameterPoints=d,p}return o(n,t),n.prototype.onModelChanged=function(t,e,n,i,o,r){this.isLocked=t,this.rectangle=e,this.style=n,this.allowResizeHorizontally=i,this.allowResizeVertically=o,this.shapeParameterPoints=r,this.redraw()},n.prototype.redrawCore=function(){var t=this.rectangle.clone().multiply(this.zoomLevel,this.zoomLevel);this.isLockedRender()?this.drawLockedSelection(t):this.drawUnlockedSelection(t)},n.prototype.drawLockedSelection=function(t){this.drawLockedSelectionMark(0,new h.Point(t.x,t.y),I.lockedSelectionMarkSize,e.SELECTION_ELEMENT_CLASSNAMES.LOCKED_SELECTION_MARK),this.drawLockedSelectionMark(1,new h.Point(t.right,t.y),I.lockedSelectionMarkSize,e.SELECTION_ELEMENT_CLASSNAMES.LOCKED_SELECTION_MARK),this.drawLockedSelectionMark(2,new h.Point(t.right,t.bottom),I.lockedSelectionMarkSize,e.SELECTION_ELEMENT_CLASSNAMES.LOCKED_SELECTION_MARK),this.drawLockedSelectionMark(3,new h.Point(t.x,t.bottom),I.lockedSelectionMarkSize,e.SELECTION_ELEMENT_CLASSNAMES.LOCKED_SELECTION_MARK)},n.prototype.drawUnlockedSelection=function(t){var n=I.correctSelectionRect(t,this.style.strokeWidth,I.selectionRectLineWidth,this.zoomLevel);this.drawSelectionRect(n,l.MouseEventElementType.SelectionRect,this.isMultipleSelection?e.SELECTION_ELEMENT_CLASSNAMES.ITEM_MULTI_SELECTION:e.SELECTION_ELEMENT_CLASSNAMES.ITEM_SELECTION_RECT),this.isMultipleSelection||this.drawSelectionMarks(t,this.allowResizeHorizontally,this.allowResizeVertically),this.drawShapeParameterPoints()},n.prototype.drawShapeParameterPoints=function(){var t=this;this.readOnly||this.shapeParameterPoints.forEach(function(e,n){var i=e.point.clone().multiply(t.zoomLevel,t.zoomLevel);t.drawShapeParameterPoint(i,n,e.key)})},n.prototype.drawShapeParameterPoint=function(t,e,n){var i=this,o=I.geomertyMarkSize,r=new g.RectanglePrimitive(t.x-o/2,t.y-o/2,o,o,null,"geometry-mark",void 0,function(t){s.RenderUtils.setElementEventData(t,l.MouseEventElementType.ShapeParameterBox,i.key,n)});this.getOrCreateElement("pp"+e.toString(),r,this.marksContainer)},n}(M),R=function(t){function n(e,n,i,o,r,a,s,l,c,u,h,d,p,f,m){var g=t.call(this,e,n,a,i,o,r,s,l)||this;return g.renderPoints=c,g.style=u,g.styleText=h,g.enableText=d,g.texts=p,g.points=f,g.lineType=m,g}return o(n,t),n.prototype.onModelChanged=function(t,e,n,i,o,r,a,s,l){this.isLocked=t,this.rectangle=e,this.renderPoints=n,this.style=i,this.styleText=o,this.enableText=r,this.texts=a,this.points=s,this.lineType=l,this.redraw()},n.prototype.redrawCore=function(){this.isLockedRender()?this.drawLockedSelection():this.drawUnlockedSelection()},n.prototype.drawLockedSelection=function(){var t=this;this.renderPoints.forEach(function(n,i){t.drawLockedSelectionMark(i,n,I.lockedSelectionMarkSize,e.SELECTION_ELEMENT_CLASSNAMES.LOCKED_SELECTION_MARK)})},n.prototype.drawUnlockedSelection=function(){this.drawConnectorSelection(),this.isMultipleSelection||this.readOnly||this.drawConnectorSelectionMarks()},n.prototype.drawConnectorSelection=function(){var t=[],n=[],i=this.isMultipleSelection?e.SELECTION_ELEMENT_CLASSNAMES.CONNECTOR_MULTI_SELECTION:e.SELECTION_ELEMENT_CLASSNAMES.CONNECTOR_SELECTION;this.populateSelectionPrimitiveCommands(t,n);var o=new v.PathPrimitive(t.concat(n.reverse()),b.StrokeStyle.default1pxInstance,i);this.getOrCreateElement("CS",o,this.rectsContainer)},n.prototype.populateSelectionPrimitiveCommands=function(t,e){for(var n,i,o,r,a=this.texts,s=this.styleText.getAlignment(),l=this.createNotSkippedRenderPoints(),c=this.zoomLevel,h=this.style.strokeWidthPx,d=this.getSelectionOffset(h),p=h%2==0,f=l[0],m=0,g=1,y=void 0;y=l[g];g++){var _=l[g+1];if(void 0===n){if(i=k.Metrics.euclideanDistance(f,y),E.MathUtils.numberCloseTo(i,0))continue;n=u.GeometryUtils.getSelectionOffsetPoint(f,y,i).multiply(d,d)}if(_){if(r=k.Metrics.euclideanDistance(y,_),E.MathUtils.numberCloseTo(r,0))continue;o=u.GeometryUtils.getSelectionOffsetPoint(y,_,r).multiply(d,d)}var b=n.x,C=n.y,O=-b,x=-C,S=o&&o.x,w=o&&o.y,P=o&&-o.x,T=o&&-o.y;for(p&&(O>0?O-=I.evenOddSelectionCorrection:b>0&&(b-=I.evenOddSelectionCorrection),x>0?x-=I.evenOddSelectionCorrection:C>0&&(C-=I.evenOddSelectionCorrection),P>0?P-=I.evenOddSelectionCorrection:S>0&&(S-=I.evenOddSelectionCorrection),T>0?T-=I.evenOddSelectionCorrection:w>0&&(w-=I.evenOddSelectionCorrection));a[m]&&a[m].pointIndex<=g;){var j=a[m],M=this.getConnectorSelectionTextSize(j.text,d),D=u.GeometryUtils.getSelectionTextStartEndPoints(f,y,i,j.point,M,s);a[m].pointIndex<g?(f=D[1],t.push(v.PathPrimitiveMoveToCommand.fromPoint(f.clone().offset(b,C).multiply(c,c))),e.push(v.PathPrimitiveLineToCommand.fromPoint(f.clone().offset(O,x).multiply(c,c)))):(t.length||(t.push(v.PathPrimitiveMoveToCommand.fromPoint(f.clone().offset(b,C).multiply(c,c))),e.push(v.PathPrimitiveLineToCommand.fromPoint(f.clone().offset(O,x).multiply(c,c)))),t.push(v.PathPrimitiveLineToCommand.fromPoint(D[0].clone().offset(b,C).multiply(c,c))),t.push(v.PathPrimitiveMoveToCommand.fromPoint(D[1].clone().offset(b,C).multiply(c,c))),e.push(v.PathPrimitiveMoveToCommand.fromPoint(D[0].clone().offset(O,x).multiply(c,c))),e.push(v.PathPrimitiveLineToCommand.fromPoint(D[1].clone().offset(O,x).multiply(c,c))),f=D[1]),m++}t.length||(t.push(v.PathPrimitiveMoveToCommand.fromPoint(f.clone().offset(b,C).multiply(c,c))),e.push(v.PathPrimitiveLineToCommand.fromPoint(f.clone().offset(O,x).multiply(c,c)))),_?(u.GeometryUtils.addSelectedLinesTo(f,y,_,b,C,O,x,S,w,P,T,function(e,n){return t.push(new v.PathPrimitiveLineToCommand(e*c,n*c))},function(t,n){return e.push(new v.PathPrimitiveLineToCommand(t*c,n*c))}),n=o,i=r):(t.push(v.PathPrimitiveLineToCommand.fromPoint(y.clone().offset(b,C).multiply(c,c))),e.push(v.PathPrimitiveMoveToCommand.fromPoint(y.clone().offset(O,x).multiply(c,c)))),f=y}},n.prototype.createNotSkippedRenderPoints=function(){var t=this.renderPoints.map(function(t){return t.clone()});return this.lineType===m.ConnectorLineOption.Straight?(T.ModelUtils.removeUnnecessaryRenderPoints(t),t.filter(function(t){return!t.skipped})):(T.ModelUtils.removeUnnecessaryRightAngleRenderPoints(t),t.filter(function(t){return!t.skipped}))},n.prototype.getSelectionOffset=function(t){return I.selectionOffset+C.UnitConverter.pixelsToTwips(Math.round(t/2)+(t+1)%2)},n.prototype.getConnectorSelectionTextSize=function(t,e){return this.dom.measurer.measureTextLine(t,this.styleText,O.TextOwner.Connector).applyConverter(C.UnitConverter.pixelsToTwips).clone().offset(e,e).nonNegativeSize()},n.prototype.drawConnectorSelectionMarks=function(){var t=this,n=this.points.length-1;this.points.forEach(function(i,o){var r=0===o||o===n,a=r?e.SELECTION_ELEMENT_CLASSNAMES.SELECTION_MARK:e.SELECTION_ELEMENT_CLASSNAMES.CONNECTOR_POINT_MARK,s=r?I.selectionMarkSize:I.connectorPointMarkSize;r||t.lineType===m.ConnectorLineOption.Straight?t.drawSelectionMark(o,i.clone().multiply(t.zoomLevel,t.zoomLevel),s,l.MouseEventElementType.ConnectorPoint,o,a):t.drawSelectionMark(o,i.clone().multiply(t.zoomLevel,t.zoomLevel),s,l.MouseEventElementType.Undefined,-1,a+" disabled")}),this.drawConnectorSideMarks()},n.prototype.drawConnectorSideMarks=function(){var t,n,i=this,o=this.lineType===m.ConnectorLineOption.Straight?l.MouseEventElementType.ConnectorSide:l.MouseEventElementType.ConnectorOrthogonalSide;this.renderPoints.forEach(function(r,a){if(!r.skipped){if(void 0!==t&&i.canDrawConnectorSideMark(r,t)){var s=i.lineType===m.ConnectorLineOption.Orthogonal?r.x-t.x==0?"vertical":"horizontal":"";i.drawSelectionMark(i.points.length+a-1,new h.Point(t.x+(r.x-t.x)/2,t.y+(r.y-t.y)/2).clone().multiply(i.zoomLevel,i.zoomLevel),I.connectorSideMarkSize,o,n+"_"+a,e.SELECTION_ELEMENT_CLASSNAMES.CONNECTOR_SIDE_MARK+" "+s)}t=r,n=a}})},n.prototype.canDrawConnectorSideMark=function(t,e){if(this.lineType===m.ConnectorLineOption.Straight){var n=I.selectionMarkSize+I.connectorSideMarkSize;return k.Metrics.euclideanDistance(t,e)>n}if(this.lineType===m.ConnectorLineOption.Orthogonal){var i=0===e.pointIndex,o=u.GeometryUtils.areDuplicatedPoints(this.points[this.points.length-1],t);return i&&o?k.Metrics.euclideanDistance(t,e)>2*f.Connector.minOffset:!i&&o||i&&!o?k.Metrics.euclideanDistance(t,e)>f.Connector.minOffset:(n=I.selectionMarkSize+I.connectorSideMarkSize,k.Metrics.euclideanDistance(t,e)>n)}return!1},n}(M)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagramDraggingEvent=e.ToolboxDraggingObject=e.Toolbox=void 0;var i,o=n(3),r=n(0),a=n(65),s=n(44),l=n(27),c=n(18),u=n(15),h=n(78),d=function(){function t(t,e,n,r,a,s){this.readOnly=e,this.allowDragging=n,this.shapeDescriptionManager=r,this.shapeTypes=a,this.getAllowedShapeTypes=s,this.dragPrepareTimeout=-1,this.dragState=i.None,this.emulateDragEvents=c.Browser.WebKitTouchUI,this.onDragOperation=new o.EventDispatcher,this.onClickOperation=new o.EventDispatcher,t&&(this.mainElement=this.createMainElement(t),this.attachHandlers(this.mainElement))}return t.prototype.clean=function(t){this.detachHandlers(this.mainElement),t&&t(this.mainElement)},t.prototype.createMainElement=function(t){var e=document.createElement("div");return e.setAttribute("class","dxdi-toolbox"),e.draggable=!0,this.emulateDragEvents&&(e.tabIndex=0),t.appendChild(e),e},t.prototype.attachHandlers=function(t){this.onElementMouseDownHandler=this.onElementMouseDown.bind(this),this.onElementMouseUpHandler=this.onElementMouseUp.bind(this),this.onMouseDownHandler=this.onMouseDown.bind(this),this.onMouseMoveHandler=this.onMouseMove.bind(this),this.onMouseUpHandler=this.onMouseUp.bind(this),this.onDragStartHandler=this.onDragStart.bind(this),this.onTouchMoveHandler=this.onTouchMove.bind(this),this.emulateDragEvents||u.RenderHelper.addEventListener(t,"dragstart",this.onDragStartHandler),o.EventUtils.isPointerEvents()?(this.mouseDownEventName="pointerdown",this.mouseMoveEventName="pointermove",this.mouseUpEventName="pointerup"):(this.mouseDownEventName=c.Browser.TouchUI?"touchstart":"mousedown",this.mouseMoveEventName=c.Browser.TouchUI?"touchmove":"mousemove",this.mouseUpEventName=c.Browser.TouchUI?"touchend":"mouseup"),u.RenderHelper.addEventListener(t,"touchmove",this.onTouchMoveHandler),u.RenderHelper.addEventListener(t,this.mouseDownEventName,this.onElementMouseDownHandler),u.RenderHelper.addEventListener(t,this.mouseUpEventName,this.onElementMouseUpHandler),u.RenderHelper.addEventListener(t,this.mouseDownEventName,this.onMouseDownHandler),u.RenderHelper.addEventListener(document,this.mouseMoveEventName,this.onMouseMoveHandler),u.RenderHelper.addEventListener(document,this.mouseUpEventName,this.onMouseUpHandler)},t.prototype.detachHandlers=function(t){this.emulateDragEvents||u.RenderHelper.removeEventListener(t,"dragstart",this.onDragStartHandler),u.RenderHelper.removeEventListener(t,"touchmove",this.onTouchMoveHandler),u.RenderHelper.removeEventListener(t,this.mouseDownEventName,this.onElementMouseDownHandler),u.RenderHelper.removeEventListener(t,this.mouseUpEventName,this.onElementMouseUpHandler),u.RenderHelper.removeEventListener(t,this.mouseDownEventName,this.onMouseDownHandler),u.RenderHelper.removeEventListener(document,this.mouseMoveEventName,this.onMouseMoveHandler),u.RenderHelper.removeEventListener(document,this.mouseUpEventName,this.onMouseUpHandler)},t.prototype.render=function(t){this.mainElement.childNodes&&(this.mainElement.innerHTML="");var e=this.shapeTypes;return e=this.getAllowedShapeTypes?this.getAllowedShapeTypes(e):e,(e=t?e.filter(t):e).length&&this.createElements(this.mainElement,e),!!e.length},t.prototype.createDraggingObject=function(t){var e=new f;return e.data=t,e.onFinishDragging=this.resetDragState.bind(this),e.onCaptured=this.capture.bind(this),new p(e)},t.prototype.getDragShapeType=function(t){for(;t&&!l.DomUtils.hasClassName(t,"dxdi-toolbox");){if(t.getAttribute&&t.getAttribute("data-tb-type"))return t.getAttribute("data-tb-type");t=t.parentNode}},t.prototype.getTouchPointFromEvent=function(t){var e,n=t.touches;return n&&n.length>0?e=new r.Point(n[0].clientX,n[0].clientY):t.clientX&&t.clientY&&(e=new r.Point(t.clientX,t.clientY)),e},t.prototype.onElementMouseDown=function(t){this.mouseDownShapeType=this.getDragShapeType(a.EvtUtils.getEventSource(t)),this.touchDownPoint=this.getTouchPointFromEvent(t)},t.prototype.onElementMouseUp=function(t){var e=this.getDragShapeType(a.EvtUtils.getEventSource(t));e&&e===this.mouseDownShapeType&&this.onClickOperation.raise("notifyToolboxClick",e),this.mouseDownShapeType=void 0,this.touchDownPoint=void 0},t.prototype.onMouseDown=function(t){this.setDragState(i.Prepare,t),c.Browser.TouchUI&&o.EventUtils.isMousePointer(t)&&this.setDragState(i.Start,t)},t.prototype.onDragStart=function(t){this.setDragState(i.Start,t),t.preventDefault()},t.prototype.onTouchMove=function(t){this.draggingObject&&t.preventDefault()},t.prototype.isLeftButtonPressed=function(t){return a.EvtUtils.isLeftButtonPressed(t)||"pointermove"===t.type&&c.Browser.TouchUI&&c.Browser.MacOSMobilePlatform&&o.EventUtils.isMousePointer(t)},t.prototype.onMouseMove=function(t){if(c.Browser.TouchUI&&c.Browser.MacOSMobilePlatform){var e=this.getTouchPointFromEvent(t);if(this.touchDownPoint&&e&&this.touchDownPoint.x===e.x&&this.touchDownPoint.y===e.y)return}this.setDragState(this.isLeftButtonPressed(t)?i.Dragging:i.None,t),o.EventUtils.isPointerEvents()&&this.raiseDraggingMouseMove(t)},t.prototype.onMouseUp=function(t){this.setDragState(i.None,t)},t.prototype.updateDraggingElementPosition=function(t,e){var n=this.draggingObject.element,i=t-n.offsetWidth/2,o=e-n.offsetHeight/2;s.SetAbsoluteX(n,i),s.SetAbsoluteY(n,o)},t.prototype.setDragState=function(t,e){if(!this.readOnly&&this.allowDragging&&!(t===i.None&&t===this.dragState||(this.dragPrepareTimeout>-1&&(clearTimeout(this.dragPrepareTimeout),this.dragPrepareTimeout=-1,this.dragPrepareEvent=void 0),t-this.dragState>1||t!==i.None&&t<this.dragState)))switch(this.dragState=t,t){case i.Prepare:this.prepareDragging(e)||this.setDragState(i.None,e),!this.emulateDragEvents&&o.EventUtils.isMousePointer(e)||(this.dragPrepareTimeout=setTimeout(this.onDragPrepareTimeout.bind(this),800),this.dragPrepareEvent=e);break;case i.Start:l.DomUtils.addClassName(document.body,"dxdi-dragging"),this.startDragging(e);break;case i.Dragging:this.doDragging(e);break;case i.None:this.finishDragging(e)}},t.prototype.resetDragState=function(){this.setDragState(i.None,void 0)},t.prototype.onDragPrepareTimeout=function(){this.dragPrepareTimeout=-1,this.dragState===i.Prepare&&this.setDragState(i.Start,this.dragPrepareEvent),this.dragPrepareEvent=void 0},t.prototype.prepareDragging=function(t){return this.dragStartPoint=new r.Point(a.EvtUtils.getEventX(t),a.EvtUtils.getEventY(t)),this.dragStartShapeType=this.getDragShapeType(a.EvtUtils.getEventSource(t)),o.EventUtils.isMousePointer(t)&&l.DomUtils.addClassName(this.mainElement,"dxdi-tb-start-drag-flag"),!this.emulateDragEvents&&o.EventUtils.isMousePointer(t)||o.HtmlFocusUtils.focusWithPreventScroll(this.mainElement),!!this.dragStartShapeType},t.prototype.startDragging=function(t){this.draggingObject=this.createDraggingObject(this.dragStartShapeType),this.dragStartShapeType?(this.raiseDragStart(t),this.draggingObject.element=this.createDraggingElement(this.draggingObject),void 0!==this.draggingObject.captured&&this.capture(this.draggingObject.captured,!0),this.updateDraggingElementPosition(this.dragStartPoint.x,this.dragStartPoint.y)):l.DomUtils.addClassName(document.body,h.NOT_VALID_CSSCLASS)},t.prototype.doDragging=function(t){this.draggingObject.element&&this.updateDraggingElementPosition(a.EvtUtils.getEventX(t),a.EvtUtils.getEventY(t))},t.prototype.finishDragging=function(t){if(this.draggingObject){this.raiseDragEnd(t);var e=this.draggingObject.element;e&&e.parentNode.removeChild(e),delete this.draggingObject}this.dragStartPoint=void 0,this.dragStartShapeType=void 0,l.DomUtils.removeClassName(this.mainElement,"dxdi-tb-start-drag-flag"),l.DomUtils.removeClassName(document.body,h.NOT_VALID_CSSCLASS),setTimeout(function(){return l.DomUtils.removeClassName(document.body,"dxdi-dragging")},500)},t.prototype.capture=function(t,e){this.draggingObject&&(this.draggingObject.captured!==t||e)&&(this.draggingObject.captured=t,this.draggingObject.element&&l.DomUtils.toggleClassName(this.draggingObject.element,"dxdi-tb-drag-captured",t))},t.prototype.raiseDragStart=function(t){this.onDragOperation.raise("notifyToolboxDragStart",t)},t.prototype.raiseDragEnd=function(t){this.onDragOperation.raise("notifyToolboxDragEnd",t)},t.prototype.raiseDraggingMouseMove=function(t){this.onDragOperation.raise("notifyToolboxDraggingMouseMove",t)},t.prototype.notifyReadOnlyChanged=function(t){this.readOnly=t},t}();e.Toolbox=d,function(t){t[t.None=-1]="None",t[t.Prepare=0]="Prepare",t[t.Start=1]="Start",t[t.Dragging=2]="Dragging"}(i||(i={}));var p=function(t){this.evt=t};e.ToolboxDraggingObject=p;var f=function(){};e.DiagramDraggingEvent=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RightAngleConnectorRoutingMathOperations=void 0;var i=n(33),o=n(31),r=n(161),a=n(3),s=n(9),l=function(){function t(){}return t.createUnionSegments=function(t,e){for(var n=[],o=t[0].startPoint,r=t[0].endPoint,a=1;a<t.length;a++){var s=t[a];e(r,s.startPoint)&&(n.push(new i.Segment(o.clone(),r.clone())),o=s.startPoint),r=s.endPoint}return n.push(new i.Segment(o,r)),n},t.unionPoints=function(t){for(var e=0;e<t.length-2;)a.GeometryUtils.isCorner(t[e],t[e+1],t[e+2])?e++:(t.splice(e+1,1),e=Math.max(0,e-1))},t.getTurnDirection=function(t){return o.MathUtils.numberCloseTo(t,0)?r.RightAngleTurnDirection.Straight:o.MathUtils.numberCloseTo(t,Math.PI)?r.RightAngleTurnDirection.Backwards:t<Math.PI?r.RightAngleTurnDirection.Left:r.RightAngleTurnDirection.Right},t.isSegmentNormal=function(t,e){return e?o.MathUtils.numberCloseTo(t.startPoint.y,t.endPoint.y):o.MathUtils.numberCloseTo(t.startPoint.x,t.endPoint.x)},t.isConnectionRectanleLineIntersected=function(t,e,n,i,o,r){switch(n){case s.ConnectionPointSide.North:return a.GeometryUtils.isLineIntersected(r(t.x,t.y),r(t.right,t.y),e,i,o);case s.ConnectionPointSide.South:return a.GeometryUtils.isLineIntersected(r(t.right,t.bottom),r(t.x,t.bottom),e,i,o);case s.ConnectionPointSide.West:return a.GeometryUtils.isLineIntersected(r(t.x,t.y),r(t.x,t.bottom),e,i,o);case s.ConnectionPointSide.East:return a.GeometryUtils.isLineIntersected(r(t.right,t.y),r(t.right,t.bottom),e,i,o);default:return!1}},t.createBeginConnectionSegment=function(t,e,n,o){switch(t){case s.ConnectionPointSide.North:return new i.Segment(e,o(e.x,e.y-n));case s.ConnectionPointSide.South:return new i.Segment(e,o(e.x,e.y+n));case s.ConnectionPointSide.West:return new i.Segment(e,o(e.x-n,e.y));case s.ConnectionPointSide.East:return new i.Segment(e,o(e.x+n,e.y));default:return e}},t.createEndConnectionSegment=function(t,e,n,o){switch(t){case s.ConnectionPointSide.North:return new i.Segment(o(e.x,e.y-n),e);case s.ConnectionPointSide.South:return new i.Segment(o(e.x,e.y+n),e);case s.ConnectionPointSide.West:return new i.Segment(o(e.x-n,e.y),e);case s.ConnectionPointSide.East:return new i.Segment(o(e.x+n,e.y),e);default:return e}},t}();e.RightAngleConnectorRoutingMathOperations=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IntersectedShapeZone=e.AStarMetrics=e.IntersectedShapesMetrics=e.TurnDirectionMetrics=e.IntersectedShapeMetrics=e.RightAngleTurnDirection=void 0;var i,o=n(0),r=n(35);!function(t){t[t.Straight=0]="Straight",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Backwards=3]="Backwards"}(i=e.RightAngleTurnDirection||(e.RightAngleTurnDirection={}));var a=function(){function t(t,e){this.description=t,this.shapeMargin=e}return t.prototype.penalty=function(t,e,n,i){var o=i.rectangle;if(o.containsPoint(n))return t+this.description.shape*e;var r=this.createRelativeMarginPenalty(n,o,this.shapeMargin);return r>0?t+this.description.margin*r*e:t},t.prototype.createRelativeMarginPenalty=function(t,e,n){var i=this.isTopPosition(t,e,n),a=this.isLeftPosition(t,e,n),s=this.isBottomPosition(t,e,n),l=this.isRightPosition(t,e,n);if(i){if(a){var c=(d=e.clone().inflate(n)).createPosition(),u=e.createPosition(),h=r.Metrics.euclideanDistance(u,c);return 1-r.Metrics.euclideanDistance(u,t)/h}if(l){var d=e.clone().inflate(n),p=new o.Point(d.right,d.y),f=new o.Point(e.right,e.y),m=r.Metrics.euclideanDistance(f,p);return 1-r.Metrics.euclideanDistance(f,t)/m}return 1-(e.y-t.y)/n}if(s){if(a){d=e.clone().inflate(n);var g=new o.Point(d.x,d.bottom),v=new o.Point(e.x,e.bottom),y=r.Metrics.euclideanDistance(v,g);return 1-r.Metrics.euclideanDistance(v,t)/y}if(l){d=e.clone().inflate(n);var _=new o.Point(d.right,d.bottom),b=new o.Point(e.right,e.bottom),C=r.Metrics.euclideanDistance(b,_);return 1-r.Metrics.euclideanDistance(b,t)/C}return 1-(t.y-e.bottom)/n}return a?1-(e.x-t.x)/n:l?1-(t.x-e.right)/n:0},t.prototype.isTopPosition=function(t,e,n){return t.x>e.x-n&&t.x<e.right+n&&t.y>e.y-n&&t.y<e.y},t.prototype.isBottomPosition=function(t,e,n){return t.x>e.x-n&&t.x<e.right+n&&t.y>e.bottom&&t.y<e.bottom+n},t.prototype.isLeftPosition=function(t,e,n){return t.x>e.x-n&&t.x<e.x&&t.y>e.y-n&&t.y<e.bottom+n},t.prototype.isRightPosition=function(t,e,n){return t.x>e.right&&t.x<e.right+n&&t.y>e.y-n&&t.y<e.bottom+n},t}();e.IntersectedShapeMetrics=a;var s=function(){function t(t){this.description=t}return t.prototype.penalty=function(t,e){switch(e){case i.Backwards:return t*this.description.turnBack;case i.Left:return t*this.description.turnLeft;case i.Right:return t*this.description.turnRight}return t},t}();e.TurnDirectionMetrics=s;var l=function(){function t(t){this.shapeMetrics=t}return t.prototype.penalty=function(t,e,n,i){var o=this;if(!i||!i.length)return t;var r=t;return i.forEach(function(t){return r=o.shapeMetrics.penalty(r,e,n,t)}),r},t}();e.IntersectedShapesMetrics=l;var c=function(){function t(t,e){this.turnDirectionMetrics=t,this.shapesMetrics=e}return t.prototype.distance=function(t,e){return r.Metrics.manhattanDistance(t,e)},t.prototype.penalty=function(t,e,n,i){var o=t;return o=this.shapesMetrics.penalty(o,t,e,i),o=this.turnDirectionMetrics.penalty(o,n)},t}();e.AStarMetrics=c,function(t){t[t.None=0]="None",t[t.Shape=1]="Shape",t[t.Margin=2]="Margin"}(e.IntersectedShapeZone||(e.IntersectedShapeZone={}))},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteCommand=void 0;var r=n(4),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabled=function(){var e=this.control.selection.getSelectedItems();return t.prototype.isEnabled.call(this)&&e.length&&(e.length>1||this.permissionsProvider.canDeleteItems(e))},e.prototype.executeCore=function(t){var e=this.control.selection.getSelectedItems(!0,!0);return this.permissionsProvider.beginDeleteItems(e),r.ModelUtils.deleteSelection(this.control.history,this.control.model,this.control.selection),this.permissionsProvider.endDeleteItems(),!0},Object.defineProperty(e.prototype,"isPermissionsRequired",{get:function(){return!0},enumerable:!1,configurable:!0}),e}(n(10).SimpleCommandBase);e.DeleteCommand=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){void 0===t&&(t=0),this.value=t}return t.prototype.get=function(t){return(this.value&t)===t},t.prototype.set=function(t,e){return(this.value&t)===t!==e&&(e?this.value|=t:this.value^=t),this},t.prototype.add=function(t){this.value|=t},t.prototype.anyOf=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,i=t;n<i.length;n++){var o=i[n];if((this.value&o)===o)return!0}return!1},t.prototype.getValue=function(){return this.value},t.prototype.clone=function(){return new t(this.value)},t}();e.Flag=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(105),o=n(41),r=n(106),a=n(169),s=function(){function t(){}return t.oneConstainsOtherArraysOfInterval=function(t,e){for(var n=i.ListUtils.deepCopy(e),o=n.pop();o;){if(!i.ListUtils.unsafeAnyOf(t,function(t){return t.containsInterval(o)}))return!1;o=n.pop()}return!0},t.getIntersection=function(e,n){return t.getIntersectionTemplate(e,n,e)},t.getIntersectionTemplate=function(t,e,n){var i=Math.max(t.start,e.start),o=Math.min(t.end,e.end);return i>o?null:n.makeByStartEnd(i,o)},t.getIntersectionNonNullLength=function(e,n){return t.getIntersectionNonNullLengthTemplate(e,n,e)},t.getIntersectionNonNullLengthTemplate=function(e,n,i){var o=t.getIntersectionTemplate(e,n,i);return o&&o.length?o:null},t.getIntersectionsTwoArraysOfInterval=function(e,n){return t.getIntersectionsTwoArraysOfIntervalTemplate(e,n,e[0])},t.getIntersectionsTwoArraysOfIntervalTemplate=function(e,n,i){for(var o=[],r=e.length,a=n.length,s=0,l=0,c=e[s],u=n[l],h=null;s<r&&l<a;){var d=t.getIntersectionTemplate(c,u,i);d&&(h&&h.end===d.start?h.length+=d.length:(h=d,o.push(h))),c.end<u.end?c=e[++s]:u=n[++l]}return o},t.getAffectedObjects=function(e,n,i,r){return void 0===i&&(i=function(t){return o.SearchUtils.normedInterpolationIndexOf(e,function(t){return t.interval.start},t)}),void 0===r&&(r=function(t,e,n){return t.start===n&&0===e}),t.getAffectedObjectsTemplate(e,n,n[0],i,r)},t.getAffectedObjectsTemplate=function(e,n,i,r,s){void 0===r&&(r=function(t){return o.SearchUtils.normedInterpolationIndexOf(e,function(t){return t.interval.start},t)}),void 0===s&&(s=function(t,e,n){return t.start===n&&0===e});for(var l=new a.SparseIntervalsCollector(i),c=0,u=n;c<u.length;c++)for(var h=u[c],d=Math.max(0,r(h.start,e)),p=void 0;p=e[d];d++){var f=p.interval;if(f.start>h.end)break;var m=t.getIntersectionTemplate(f,h,i);m&&(m.length||s(f,h.length,m.start))&&l.add(d)}return l.getIntervals()},t.handleAffectedObjects=function(e,n,i,a){void 0===a&&(a=function(t){return o.SearchUtils.normedInterpolationIndexOf(e,function(t){return t.interval.start},t)});for(var s=new r.FixedInterval(0,0),l=0,c=n;l<c.length;l++)for(var u=c[l],h=Math.max(0,a(u.start,e)),d=void 0;d=e[h];h++){var p=d.interval;if(p.start>u.end)break;var f=t.getIntersectionTemplate(p,u,s);f&&i(d,h,u,f)}},t.getMergedIntervals=function(e,n){return t.getMergedIntervalsTemplate(e,n,e[0])},t.getMergedIntervalsTemplate=function(t,e,n){if(t.length<2)return t.length>0?[n.makeByStartLength(t[0].start,t[0].length)]:[];for(var i=e?[].concat(t).sort(function(t,e){return t.start-e.start}):t,o=[],r=0,a=void 0;a=i[r];){var s=a.start,l=a.end;for(++r;void 0!==(a=i[r])&&a.start<=l;r++)a.end>l&&(l=a.end);o.push(n.makeByStartEnd(s,l))}return o},t.reflectIntervals=function(e,n){return t.reflectIntervalsTemplate(e,n,n)},t.reflectIntervalsTemplate=function(e,n,o){if(!e.length)return[o.makeByStartLength(n.start,n.length)];var r=i.ListUtils.last(e).end,a=i.ListUtils.reducedMap(e,function(i,r){return t.getIntersectionNonNullLengthTemplate(o.makeByStartEnd(e[r-1].end,i.start),n,o)},1);return n.start<e[0].start&&a.unshift(o.makeByStartEnd(n.start,e[0].start)),n.end>r&&a.push(o.makeByStartEnd(r,n.end)),a},t.reflectionOfPointOnInterval=function(t,e,n){return(t-e.start)/e.length*n.length+n.start},t}();e.IntervalAlgorithms=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(59),o=function(t,e){this.minElement=t,this.maxElement=e};e.MinMax=o;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),Object.defineProperty(e.prototype,"length",{get:function(){return this.maxElement-this.minElement},enumerable:!0,configurable:!0}),e}(o);e.MinMaxNumber=r;var a=function(t,e){this.minElement=t,this.minValue=e};e.ExtendedMin=a;var s=function(t,e){this.maxElement=t,this.maxValue=e};e.ExtendedMax=s;var l=function(t){function e(e,n,i,o){var r=t.call(this,e,i)||this;return r.minValue=n,r.maxValue=o,r}return i.__extends(e,t),e}(o);e.ExtendedMinMax=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.number=function(t,e){return t-e},t.string=function(t,e){return t===e?0:t>e?1:-1},t.stringIgnoreCase=function(t,e){return(t=t.toLowerCase())===(e=e.toLowerCase())?0:t>e?1:-1},t}();e.Comparers=i;var o=function(){function t(){}return t.simpleType=function(t,e){return t===e},t.object=function(t,e){return t&&e&&(t===e||t.equals(e))},t}();e.Equals=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(59),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.normalizeLength=function(){return this.length<0&&(this.length=0),this},e}(n(168).ConstInterval);e.MutableInterval=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return Object.defineProperty(t.prototype,"center",{get:function(){return this.start+this.length/2},enumerable:!0,configurable:!0}),t.prototype.isNormalized=function(){return this.end>=this.start},t.prototype.isCollapsed=function(){return 0===this.length},t.prototype.equals=function(t){return this.start===t.start&&this.end===t.end},t.isCollapsed=function(t){return!t[1]&&t[0].isCollapsed()},t.prototype.containsInterval=function(t){return this.start<=t.start&&this.end>=t.end},t.prototype.containsIntervalWithoutEnd=function(t){return this.start<=t.start&&this.end>t.end},t.prototype.contains=function(t){return this.start<=t&&t<this.end},t.prototype.containsWithIntervalEnd=function(t){return this.start<=t&&t<=this.end},t.prototype.containsWithoutIntervalEndAndStart=function(t){return this.start<t&&t<this.end},t}();e.ConstInterval=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(170),o=function(){function t(t){this.intervals=[],this.template=t}return t.prototype.add=function(t){this.curr&&this.curr.end===t?this.curr.length++:(this.curr=this.template.makeByStartLength(t,1),this.intervals.push(this.curr))},t.prototype.getIntervals=function(){return new i.SparseIntervals(this.intervals)},t}();e.SparseIntervalsCollector=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(107),o=n(171),r=function(){function t(t){void 0===t&&(t=[]),this.list=t,this._count=0,this._numIntervals=0;for(var e=0,n=t;e<n.length;e++){var i=n[e];this._count+=i.length,this._numIntervals++}}return Object.defineProperty(t.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numIntervals",{get:function(){return this._numIntervals},enumerable:!0,configurable:!0}),t.prototype.getInterval=function(t){return this.list[t]},t.prototype.getNativeIterator=function(){return new i.SparseIntervalsIterator(this)},t.prototype.getObjectsIterator=function(t){return new o.SparseObjectsIterator(this,t)},t}();e.SparseIntervals=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(59),o=function(t){function e(e,n){var i=t.call(this,e)||this;return i.objects=n,i}return i.__extends(e,t),e.prototype.initObject=function(){this.obj=this.objects[this.index]},e}(n(107).SparseIntervalsIterator);e.SparseObjectsIterator=o},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.TextFloodFilterPrimitive=e.TextFilterPrimitive=void 0;var r=n(15),a=n(108),s=n(62),l=n(22),c=function(t){function e(e,n,i,o,r){void 0===n&&(n="-0.05"),void 0===i&&(i="-0.05"),void 0===o&&(o="1.1"),void 0===r&&(r="1.1");var a=t.call(this,e,n,i,o,r)||this;return a.id=e,a.x=n,a.y=i,a.width=o,a.height=r,a}return o(e,t),e.prototype.createChildElements=function(t){var e=document.createElementNS(r.svgNS,"feFlood");t.appendChild(e);var n=document.createElementNS(r.svgNS,"feComposite");n.setAttribute("in","SourceGraphic"),n.setAttribute("operator","atop"),t.appendChild(n)},e}(a.FilterPrimitive);e.TextFilterPrimitive=c;var u=function(t){function e(e,n,i,o,r,a){void 0===i&&(i="-0.05"),void 0===o&&(o="-0.05"),void 0===r&&(r="1.1"),void 0===a&&(a="1.1");var s=t.call(this,e,i,o,r,a)||this;return s.id=e,s.floodColor=n,s.x=i,s.y=o,s.width=r,s.height=a,s}return o(e,t),e.prototype.applyChildrenProperties=function(t){for(var e=void 0,n=0;e=t.childNodes[n];n++)if(e.nodeName&&"FEFLOOD"===e.nodeName.toUpperCase()){this.prepareFEFloodNode(e);break}},e.prototype.prepareFEFloodNode=function(t){var e=l.ColorUtils.colorToHash(this.floodColor);t.setAttribute("flood-color",e),t.setAttribute("class","text-filter-flood"),this.floodColor!==s.DiagramModel.defaultPageColor?t.style.setProperty("flood-color",e):t.style.setProperty("flood-color","")},e}(c);e.TextFloodFilterPrimitive=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.encodeHtml=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},t.decodeHtml=function(t){return t.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")},t.prepareTextForRequest=function(t){return t.replace(/%/g,"%25").replace(/&/g,"%26amp;").replace(/\+/g,"%2B").replace(/</g,"%26lt;").replace(/>/g,"%26gt;").replace(/"/g,"%26quot;")},t.prepareTextForCallBackRequest=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},t.decodeViaTextArea=function(t){var e=document.createElement("TEXTAREA");return e.innerHTML=t,e.value},t}();e.EncodeUtils=i},function(t,e,n){"use strict";n(175).polyfill()},function(t,e,n){"use strict";function i(t,e){if(null==t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var r=Object.keys(Object(o)),a=0,s=r.length;a<s;a++){var l=r[a],c=Object.getOwnPropertyDescriptor(o,l);void 0!==c&&c.enumerable&&(n[l]=o[l])}}return n}t.exports={assign:i,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:i})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(18),o=n(50),r=function(){function t(){}return t.onEventAttachingToDocument=function(e,n){return!i.Browser.MacOSMobilePlatform||!t.isTouchEventName(e)||(t.documentTouchHandlers[e]||(t.documentTouchHandlers[e]=[]),t.documentTouchHandlers[e].push(n),t.documentEventAttachingAllowed)},t.isTouchEventName=function(t){return i.Browser.WebKitTouchUI&&(t.indexOf("touch")>-1||t.indexOf("gesture")>-1)},t.isTouchEvent=function(t){return i.Browser.WebKitTouchUI&&o.isDefined(t.changedTouches)},t.getEventX=function(t){return i.Browser.IE?t.pageX:t.changedTouches[0].pageX},t.getEventY=function(t){return i.Browser.IE?t.pageY:t.changedTouches[0].pageY},t.touchMouseDownEventName=i.Browser.WebKitTouchUI?"touchstart":i.Browser.Edge&&i.Browser.MSTouchUI&&window.PointerEvent?"pointerdown":"mousedown",t.touchMouseUpEventName=i.Browser.WebKitTouchUI?"touchend":i.Browser.Edge&&i.Browser.MSTouchUI&&window.PointerEvent?"pointerup":"mouseup",t.touchMouseMoveEventName=i.Browser.WebKitTouchUI?"touchmove":i.Browser.Edge&&i.Browser.MSTouchUI&&window.PointerEvent?"pointermove":"mousemove",t.msTouchDraggableClassName="dxMSTouchDraggable",t.documentTouchHandlers={},t.documentEventAttachingAllowed=!0,t}();e.TouchUtils=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(18),o=n(83),r=n(50),a=function(){function t(){}return t.loadJavascriptFile=function(t,e){var n,i=document.getElementsByTagName("head")[0];if(!i){i=document.createElement("head");var o=document.getElementsByTagName("body")[0];null===(n=o.parentNode)||void 0===n||n.insertBefore(i,o)}var r=document.createElement("script");return r.onload=e,r.src=t,i.appendChild(r),{htmlScriptElement:r}},t.startDownloadFileLocal=function(t,e){if(t instanceof ArrayBuffer&&(t=o.Base64Utils.fromArrayBuffer(t)),r.isString(t)&&(t=o.Base64Utils.getFileFromBase64(t)),window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(t,e);else{var n=document.createElement("a"),i=URL.createObjectURL(t);n.href=i,n.download=e,document.body.appendChild(n),n.click(),setTimeout(function(){document.body.removeChild(n),window.URL.revokeObjectURL(i)},0)}},t.createFile=function(t,e,n){var o;if(i.Browser.IE||i.Browser.Edge&&i.Browser.MajorVersion<86){var r=new Blob(t,n);return r.lastModifiedDate=null!==(o=null==n?void 0:n.lastModified)&&void 0!==o?o:Date.now(),r.name=e,r}return new File(t,e,n)},t.isFile=function(t){return i.Browser.IE||i.Browser.Edge&&i.Browser.MajorVersion<86?t instanceof File||t instanceof Blob&&r.isDefined(t.name):t instanceof File},t}();e.FileUtils=a},function(t,e,n){"use strict";var i,o,r,a;Object.defineProperty(e,"__esModule",{value:!0}),e.OpenXmlMimeType="application/vnd.openxmlformats-officedocument.wordprocessingml.document",e.RtfMimeType="application/rtf",e.PlainTextMimeType="text/plain",e.DocmMimeType="application/vnd.ms-word.document.macroEnabled.12",e.ImagePngMimeType="image/png",e.ImageGifMimeType="image/gif",e.ImageJpegMimeType="image/jpeg",e.ImagePjpegMimeType="image/pjpeg",e.ImageSvgMimeType="image/svg+xml",e.ImageTiffMimeType="image/tiff",e.ImageIcoMimeType="image/vnd.microsoft.icon",e.ImageWbmpMimeType="image/vnd.wap.wbmp",e.ImageWebpMimeType="image/webp",function(t){t[t.Unknown=0]="Unknown",t[t.OpenXml=1]="OpenXml",t[t.Rtf=2]="Rtf",t[t.PlainText=3]="PlainText",t[t.Docm=4]="Docm",t[t.Png=5]="Png",t[t.Gif=6]="Gif",t[t.Jpeg=7]="Jpeg",t[t.Pjpeg=8]="Pjpeg",t[t.Svg=9]="Svg",t[t.Tiff=10]="Tiff",t[t.Ico=11]="Ico",t[t.Wbmp=12]="Wbmp",t[t.Webp=13]="Webp"}(a=e.DxMimeType||(e.DxMimeType={}));var s=function(){function t(){}return t.stringTypeToExtension=function(e){var n=t.stringTypeToTypeMap[e];return void 0===n?"":t.typeToExtensionMap[n]},t.typeToExtension=function(e){var n=t.typeToExtensionMap[e];return null!=n?n:""},t.extensionToType=function(e){"."!==(e=e.toLowerCase())[0]&&(e+=".");var n=t.extensionToTypeMap[e];return null!=n?n:a.Unknown},t.typeToStringType=function(e){var n=t.typeToStringTypeMap[e];return null!=n?n:""},t.stringTypeToType=function(e){var n=t.stringTypeToTypeMap[e];return void 0===n?a.Unknown:n},t.stringTypeToTypeMap=((i={})[e.OpenXmlMimeType]=a.OpenXml,i[e.RtfMimeType]=a.Rtf,i[e.PlainTextMimeType]=a.PlainText,i[e.DocmMimeType]=a.Docm,i[e.ImagePngMimeType]=a.Png,i[e.ImageGifMimeType]=a.Gif,i[e.ImageJpegMimeType]=a.Jpeg,i[e.ImagePjpegMimeType]=a.Pjpeg,i[e.ImageSvgMimeType]=a.Svg,i[e.ImageTiffMimeType]=a.Tiff,i[e.ImageIcoMimeType]=a.Ico,i[e.ImageWbmpMimeType]=a.Wbmp,i[e.ImageWebpMimeType]=a.Webp,i),t.typeToStringTypeMap=((o={})[a.Unknown]=void 0,o[a.OpenXml]=e.OpenXmlMimeType,o[a.Rtf]=e.RtfMimeType,o[a.PlainText]=e.PlainTextMimeType,o[a.Docm]=e.DocmMimeType,o[a.Png]=e.ImagePngMimeType,o[a.Gif]=e.ImageGifMimeType,o[a.Jpeg]=e.ImageJpegMimeType,o[a.Pjpeg]=e.ImagePjpegMimeType,o[a.Svg]=e.ImageSvgMimeType,o[a.Tiff]=e.ImageTiffMimeType,o[a.Ico]=e.ImageIcoMimeType,o[a.Wbmp]=e.ImageWbmpMimeType,o[a.Webp]=e.ImageWebpMimeType,o),t.typeToExtensionMap=((r={})[a.Unknown]=void 0,r[a.OpenXml]=".docx",r[a.Rtf]=".rtf",r[a.PlainText]=".txt",r[a.Docm]=".docm",r[a.Png]=".png",r[a.Gif]=".gif",r[a.Jpeg]=".jpeg",r[a.Pjpeg]=".pjpeg",r[a.Svg]=".svg",r[a.Tiff]=".tiff",r[a.Ico]=".ico",r[a.Wbmp]=".wbmp",r[a.Webp]=".webp",r),t.extensionToTypeMap={".docx":a.OpenXml,".rtf":a.Rtf,".txt":a.PlainText,".docm":a.Docm,".png":a.Png,".gif":a.Gif,".jpeg":a.Jpeg,".pjpeg":a.Pjpeg,".svg":a.Svg,".tiff":a.Tiff,".ico":a.Ico,".wbmp":a.Wbmp,".webp":a.Webp},t}();e.MimeTypeUtils=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectorPointsCalculator=void 0;var r=n(111),a=n(29),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getPoints=function(){return this.connector.points.map(function(t,e){return new a.ConnectorRenderPoint(t.x,t.y,e)})},e}(r.ConnectorPointsCalculatorBase);e.ConnectorPointsCalculator=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectorPointsOrthogonalCalculator=void 0;var r=n(13),a=n(9),s=n(111),l=n(181),c=n(182),u=n(183),h=n(184),d=n(185),p=n(29),f=n(4),m=function(t){function e(e){var n=t.call(this,e)||this;return n.sideCalculators={},n.sideCalculators[a.ConnectionPointSide.Undefined]=new l.ConnectorPointsOrthogonalUndefinedSideCalculator(n),n.sideCalculators[a.ConnectionPointSide.South]=new c.ConnectorPointsOrthogonalSouthSideCalculator(n),n.sideCalculators[a.ConnectionPointSide.North]=new u.ConnectorPointsOrthogonalNorthSideCalculator(n),n.sideCalculators[a.ConnectionPointSide.East]=new h.ConnectorPointsOrthogonalEastSideCalculator(n),n.sideCalculators[a.ConnectionPointSide.West]=new d.ConnectorPointsOrthogonalWestSideCalculator(n),n}return o(e,t),Object.defineProperty(e.prototype,"beginRect",{get:function(){return this.connector.beginItem?this.connector.beginItem.rectangle:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endRect",{get:function(){return this.connector.endItem?this.connector.endItem.rectangle:void 0},enumerable:!1,configurable:!0}),e.prototype.getPoints=function(){var t=this.connector.points.map(function(t,e){return new p.ConnectorRenderPoint(t.x,t.y,e)});f.ModelUtils.removeUnnecessaryRenderPoints(t);var e=0,n=t.length-1,i=this.getPointSide(t,0),o=this.getPointSide(t,1),r=this.getPointSide(t,t.length-1),a=this.getPointSide(t,t.length-1-1),s=this.getSideCalculator(i),l=this.getSideCalculator(r),c=this.beginRect,u=s.getCorrectOriginPoint(t[e],c),h=t[e+1];if(2===t.length&&s.isOnSidePoint(u,h)&&s.isDirectConnectionAllowed(o,u,h))s.getDirectConnectionPoints(u,h).forEach(function(i){t.splice(e+1,0,i),e++,n++});else{var d=s.getBeginOffsetPoints(o,t[e],t[e+1],this.beginRect);d.forEach(function(n){t.splice(e+1,0,n)}),e+=d.length,n+=d.length,l.getEndOffsetPoints(a,t[n],t[n-1],this.endRect).forEach(function(e,i){t.splice(n+i,0,e)}),this.addMiddlePoints(t,e,n)}return f.ModelUtils.removeUnnecessaryRenderPoints(t),t},e.prototype.getSideCalculator=function(t){return this.sideCalculators[t]},e.prototype.getPointSide=function(t,e){if(0===e&&this.connector.beginItem){var n=this.connector.beginConnectionPointIndex;return this.connector.beginItem.getConnectionPointSideByIndex(n,t[1])}return e===t.length-1&&this.connector.endItem?(n=this.connector.endConnectionPointIndex,this.connector.endItem.getConnectionPointSideByIndex(n,t[t.length-2])):a.ConnectionPointSide.Undefined},e.prototype.addMiddlePoints=function(t,e,n){for(var i=e;i<n;i++){var o=i+1,r=this.getMiddlePoint(t[i],t[i-1],i-1==0,t[o],t[o+1],o+1===t.length-1);void 0!==r&&(t.splice(i+1,0,r),i++,n++)}},e.prototype.getMiddlePoints=function(t,e){return t.x===e.x||t.y===e.y?[]:[new p.ConnectorRenderPoint(t.x,e.y),new p.ConnectorRenderPoint(e.x,t.y)]},e.prototype.getMiddlePoint=function(t,e,n,i,o,a){var s,l=this,c=this.getMiddlePoints(t,i);return c.forEach(function(n){var a=l.createPointsRect(t,n),c=l.createPointsRect(n,i),u=l.connector.beginItem?l.connector.beginItem.rectangle:void 0,h=l.connector.endItem?l.connector.endItem.rectangle:void 0;u&&(r.Rectangle.areIntersected(u,a)||r.Rectangle.areIntersected(u,c))||h&&(r.Rectangle.areIntersected(h,a)||r.Rectangle.areIntersected(h,c))||l.isReturnPoint(n,t,e)&&!l.isIntermediatePoints(t,e)||l.isReturnPoint(n,i,o)&&!l.isIntermediatePoints(i,o)||(void 0===s?s=n:l.isPriorMiddlePoint(n,t,e,i,o)&&(s=n))}),void 0===s&&c.length>0&&(s=c[0]),s},e.prototype.createPointsRect=function(t,e){var n=r.Rectangle.fromPoints(t,e);return n.width>0&&(n=n.clone().inflate(-1,0)),n.height>0&&(n=n.clone().inflate(0,-1)),n},e.prototype.isPriorMiddlePoint=function(t,e,n,i,o){return!(!n||t.x!==n.x&&t.y!==n.y)||!(!o||t.x!==o.x&&t.y!==o.y)},e.prototype.isReturnPoint=function(t,e,n){if(void 0!==e&&void 0!==n){if(t.x===n.x&&(e.y<t.y&&t.y<n.y||e.y>t.y&&t.y>n.y))return!0;if(t.y===n.y&&(e.x<t.x&&t.x<n.x||e.x>t.x&&t.x>n.x))return!0}return!1},e.prototype.isIntermediatePoints=function(t,e){return 0<t.pointIndex&&t.pointIndex<this.connector.points.length-1&&0<e.pointIndex&&e.pointIndex<this.connector.points.length-1},e}(s.ConnectorPointsCalculatorBase);e.ConnectorPointsOrthogonalCalculator=m},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectorPointsOrthogonalUndefinedSideCalculator=void 0;var r=n(52),a=n(29),s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.getCorrectOriginPoint=function(t,e){return t},e.prototype.getSameShapeOffsetPoints=function(t,e,n,i){return[]},e.prototype.getOverlappedPointsOffsetPoints=function(t,e,n,i){return[]},e.prototype.getBeginOverlappedShapeOffsetPoints=function(t,e,n,i){return[]},e.prototype.getEndOverlappedShapeOffsetPoints=function(t,e,n,i){return[]},e.prototype.getBeginOnSideOffsetPoints=function(t,e,n,i){return[]},e.prototype.getEndOnSideOffsetPoints=function(t,e,n,i){return[]},e.prototype.getBeginOffSideOffsetPoints=function(t,e,n,i){return[]},e.prototype.getEndOffSideOffsetPoints=function(t,e,n,i){return[]},e.prototype.isOnSidePoint=function(t,e){return!0},e.prototype.isDirectConnectionAllowed=function(t,e,n){var i=this.getSideCalculator(e,n);return void 0===i||i.isDirectConnectionAllowed(t,e,n)},e.prototype.getDirectConnectionPoints=function(t,e){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);if(n>i){var o=Math.min(t.x,e.x)+n/2;return[new a.ConnectorRenderPoint(o,t.y),new a.ConnectorRenderPoint(o,e.y)]}var r=Math.min(t.y,e.y)+i/2;return[new a.ConnectorRenderPoint(t.x,r),new a.ConnectorRenderPoint(e.x,r)]},e}(r.ConnectorPointsOrthogonalSideCalculatorBase);e.ConnectorPointsOrthogonalUndefinedSideCalculator=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectorPointsOrthogonalSouthSideCalculator=void 0;var r=n(9),a=n(52),s=n(29),l=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.getCorrectOriginPoint=function(t,e){return t.y<e.bottom&&(t=t.clone().offset(0,e.bottom-t.y)),t},e.prototype.getSameShapeOffsetPoints=function(t,e,n,i){switch(t){case r.ConnectionPointSide.East:case r.ConnectionPointSide.West:case r.ConnectionPointSide.South:return[e.clone().offset(0,this.getMinOffset())];case r.ConnectionPointSide.North:return this.getAsideOffsetPoints(e,n,i,this.getMinOffset(),this.getMinOffset())}},e.prototype.getOverlappedPointsOffsetPoints=function(t,e,n,i){switch(t){case r.ConnectionPointSide.South:return[e.clone().offset(0,this.getMinOffset())];case r.ConnectionPointSide.North:return[e.clone().offset(0,-this.getMinOffset())]}return[]},e.prototype.getBeginOverlappedShapeOffsetPoints=function(t,e,n,i){switch(t){case r.ConnectionPointSide.East:return e.y<n.y?e.x>n.x?[]:[e.clone().offset(0,this.getMinOffset())]:e.y>this.endRect.bottom?this.getAsideOffsetPoints(e,n,i,this.getMinOffset(),this.getMinOffset(),!1):[e.clone().offset(0,this.getMinOffset())];case r.ConnectionPointSide.West:return e.y<n.y?e.x<n.x?[]:[e.clone().offset(0,this.getMinOffset())]:e.y>this.endRect.bottom?this.getAsideOffsetPoints(e,n,i,this.getMinOffset(),this.getMinOffset(),!0):[e.clone().offset(0,this.getMinOffset())];case r.ConnectionPointSide.South:return[e.clone().offset(0,this.getMinOffset())];case r.ConnectionPointSide.North:return this.getAsideOffsetPoints(e,n,i,this.getMinOffset(),this.getMinOffset(),e.x<n.x)}},e.prototype.getEndOverlappedShapeOffsetPoints=function(t,e,n,i){switch(t){case r.ConnectionPointSide.East:return n.y<e.y?this.getAsideOffsetPoints(e,n,i,this.getMinOffset(),this.getMinOffset(),!1):e.x<n.x?[e.clone().offset(0,this.getMinOffset())]:[];case r.ConnectionPointSide.West:return n.y<e.y?this.getAsideOffsetPoints(e,n,i,this.getMinOffset(),this.getMinOffset(),!0):e.x>n.x?[e.clone().offset(0,this.getMinOffset())]:[];case r.ConnectionPointSide.South:return[e.clone().offset(0,this.getMinOffset())];case r.ConnectionPointSide.North:var o=this.getMinOffset();return this.beginRect.bottom>e.y&&(o+=this.beginRect.bottom-e.y),[e.clone().offset(0,o)]}},e.prototype.getBeginOnSideOffsetPoints=function(t,e,n,i){return[e.clone().offset(0,this.getScaleableOffsetY(e,n,!1))]},e.prototype.getEndOnSideOffsetPoints=function(t,e,n,i){return[e.clone().offset(0,this.getScaleableOffsetY(e,n,!0))]},e.prototype.getBeginOffSideOffsetPoints=function(t,e,n,i){switch(t){case r.ConnectionPointSide.East:if(this.isBeginEndOverlappedX())return this.getScaleableAsideOffsetPoints(e,n,i,!1,!1);break;case r.ConnectionPointSide.West:if(this.isBeginEndOverlappedX())return this.getScaleableAsideOffsetPoints(e,n,i,!1,!0);break;case r.ConnectionPointSide.South:if(this.isBeginEndOverlappedX())return this.getScaleableAsideOffsetPoints(e,n,i,!1);break;case r.ConnectionPointSide.Undefined:case r.ConnectionPointSide.North:return this.getScaleableAsideOffsetPoints(e,n,i,!1)}return[e.clone().offset(0,this.getScaleableOffsetY(e,n,!1))]},e.prototype.getEndOffSideOffsetPoints=function(t,e,n,i){if(t===r.ConnectionPointSide.Undefined)return this.getScaleableAsideOffsetPoints(e,n,i,!0);if(this.isBeginEndOverlappedX()){var o=this.beginRect.center.x>this.endRect.center.x;return this.getScaleableAsideOffsetPoints(e,n,i,!0,o)}return[e.clone().offset(0,this.getScaleableOffsetY(e,n,!0))]},e.prototype.getAsideOffsetPoints=function(t,e,n,i,o,r){var a=[];return void 0!==n&&(void 0===r&&(r=e.x<t.x),r?a.push(t.clone().offset(-(t.x-n.x+o),i)):a.push(t.clone().offset(n.right-t.x+o,i))),a.push(t.clone().offset(0,i)),a},e.prototype.getScaleableAsideOffsetPoints=function(t,e,n,i,o){var r=this.getScaleableOffsetY(t,e,i),a=this.getScaleableOffsetX(t,e,i);return this.getAsideOffsetPoints(t,e,n,r,a,o)},e.prototype.getScaleableOffsetX=function(t,e,n){if(this.beginRect&&this.endRect&&!n&&!this.isBeginEndOverlappedX()){var i=void 0;if((i=e.x<t.x?this.beginRect.x-this.endRect.right:this.endRect.x-this.beginRect.right)<2*this.getMinOffset())return i/2}return this.getMinOffset()},e.prototype.getScaleableOffsetY=function(t,e,n){if(this.beginRect&&this.endRect){var i=n?this.beginRect.y-t.y:this.endRect.y-t.y;if(i>0&&i<2*this.getMinOffset())return i/2}return this.getMinOffset()},e.prototype.isOnSidePoint=function(t,e){return e.y>t.y},e.prototype.isDirectConnectionAllowed=function(t,e,n){return t===r.ConnectionPointSide.North||t===r.ConnectionPointSide.Undefined},e.prototype.getDirectConnectionPoints=function(t,e){var n=t.y+(e.y-t.y)/2;return[new s.ConnectorRenderPoint(t.x,n),new s.ConnectorRenderPoint(e.x,n)]},e}(a.ConnectorPointsOrthogonalSideCalculatorBase);e.ConnectorPointsOrthogonalSouthSideCalculator=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectorPointsOrthogonalNorthSideCalculator=void 0;var r=n(9),a=n(52),s=n(29),l=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.getCorrectOriginPoint=function(t,e){return t.y>e.y&&(t=t.clone().offset(0,e.y-t.y)),t},e.prototype.getSameShapeOffsetPoints=function(t,e,n,i){switch(t){case r.ConnectionPointSide.East:case r.ConnectionPointSide.West:case r.ConnectionPointSide.North:return[e.clone().offset(0,-this.getMinOffset())];case r.ConnectionPointSide.South:return this.getAsideOffsetPoints(e,n,i,this.getMinOffset(),this.getMinOffset())}},e.prototype.getOverlappedPointsOffsetPoints=function(t,e,n,i){switch(t){case r.ConnectionPointSide.South:return[e.clone().offset(0,this.getMinOffset())];case r.ConnectionPointSide.North:return[e.clone().offset(0,-this.getMinOffset())]}return[]},e.prototype.getBeginOverlappedShapeOffsetPoints=function(t,e,n,i){switch(t){case r.ConnectionPointSide.East:return e.y>n.y?e.x>n.x?[]:[e.clone().offset(0,-this.getMinOffset())]:e.y<this.endRect.y?this.getAsideOffsetPoints(e,n,i,this.getMinOffset(),this.getMinOffset(),!1):[e.clone().offset(0,-this.getMinOffset())];case r.ConnectionPointSide.West:return e.y>n.y?e.x<n.x?[]:[e.clone().offset(0,-this.getMinOffset())]:e.y<this.endRect.y?this.getAsideOffsetPoints(e,n,i,this.getMinOffset(),this.getMinOffset(),!0):[e.clone().offset(0,-this.getMinOffset())];case r.ConnectionPointSide.North:return[e.clone().offset(0,-this.getMinOffset())];case r.ConnectionPointSide.South:return this.getAsideOffsetPoints(e,n,i,this.getMinOffset(),this.getMinOffset(),e.x<n.x)}},e.prototype.getEndOverlappedShapeOffsetPoints=function(t,e,n,i){switch(t){case r.ConnectionPointSide.East:return n.y>e.y?this.getAsideOffsetPoints(e,n,i,this.getMinOffset(),this.getMinOffset(),!1):e.x<n.x?[e.clone().offset(0,-this.getMinOffset())]:[];case r.ConnectionPointSide.West:return n.y>e.y?this.getAsideOffsetPoints(e,n,i,this.getMinOffset(),this.getMinOffset(),!0):e.x>n.x?[e.clone().offset(0,-this.getMinOffset())]:[];case r.ConnectionPointSide.North:return[e.clone().offset(0,-this.getMinOffset())];case r.ConnectionPointSide.South:var o=-this.getMinOffset();return this.beginRect.y<e.y&&(o-=e.y-this.beginRect.y),[e.clone().offset(0,o)]}},e.prototype.getBeginOnSideOffsetPoints=function(t,e,n,i){return[e.clone().offset(0,-this.getScaleableOffsetY(e,n,!1))]},e.prototype.getEndOnSideOffsetPoints=function(t,e,n,i){return[e.clone().offset(0,-this.getScaleableOffsetY(e,n,!0))]},e.prototype.getBeginOffSideOffsetPoints=function(t,e,n,i){switch(t){case r.ConnectionPointSide.East:if(this.isBeginEndOverlappedX())return this.getScaleableAsideOffsetPoints(e,n,i,!1,!1);break;case r.ConnectionPointSide.West:if(this.isBeginEndOverlappedX())return this.getScaleableAsideOffsetPoints(e,n,i,!1,!0);break;case r.ConnectionPointSide.North:if(this.isBeginEndOverlappedX())return this.getScaleableAsideOffsetPoints(e,n,i,!1);break;case r.ConnectionPointSide.Undefined:case r.ConnectionPointSide.South:return this.getScaleableAsideOffsetPoints(e,n,i,!1)}return[e.clone().offset(0,-this.getScaleableOffsetY(e,n,!1))]},e.prototype.getEndOffSideOffsetPoints=function(t,e,n,i){if(t===r.ConnectionPointSide.Undefined)return this.getScaleableAsideOffsetPoints(e,n,i,!0);if(this.isBeginEndOverlappedX()){var o=this.beginRect.center.x>this.endRect.center.x;return this.getScaleableAsideOffsetPoints(e,n,i,!0,o)}return[e.clone().offset(0,-this.getScaleableOffsetY(e,n,!0))]},e.prototype.getAsideOffsetPoints=function(t,e,n,i,o,r){var a=[];return void 0!==n&&(void 0===r&&(r=e.x<t.x),r?a.push(t.clone().offset(-(t.x-n.x+o),-i)):a.push(t.clone().offset(n.right-t.x+o,-i))),a.push(t.clone().offset(0,-i)),a},e.prototype.getScaleableAsideOffsetPoints=function(t,e,n,i,o){var r=this.getScaleableOffsetY(t,e,i),a=this.getScaleableOffsetX(t,e,i);return this.getAsideOffsetPoints(t,e,n,r,a,o)},e.prototype.getScaleableOffsetX=function(t,e,n){if(this.beginRect&&this.endRect&&!n&&!this.isBeginEndOverlappedX()){var i=void 0;if((i=e.x<t.x?this.beginRect.x-this.endRect.right:this.endRect.x-this.beginRect.right)<2*this.getMinOffset())return i/2}return this.getMinOffset()},e.prototype.getScaleableOffsetY=function(t,e,n){if(this.beginRect&&this.endRect){var i=n?t.y-this.beginRect.bottom:t.y-this.endRect.bottom;if(i>0&&i<2*this.getMinOffset())return i/2}return this.getMinOffset()},e.prototype.isOnSidePoint=function(t,e){return e.y<t.y},e.prototype.isDirectConnectionAllowed=function(t,e,n){return t===r.ConnectionPointSide.South||t===r.ConnectionPointSide.Undefined},e.prototype.getDirectConnectionPoints=function(t,e){var n=e.y+(t.y-e.y)/2;return[new s.ConnectorRenderPoint(t.x,n),new s.ConnectorRenderPoint(e.x,n)]},e}(a.ConnectorPointsOrthogonalSideCalculatorBase);e.ConnectorPointsOrthogonalNorthSideCalculator=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectorPointsOrthogonalEastSideCalculator=void 0;var r=n(9),a=n(52),s=n(29),l=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.getCorrectOriginPoint=function(t,e){return t.x<e.right&&(t=t.clone().offset(e.right-t.x,0)),t},e.prototype.getSameShapeOffsetPoints=function(t,e,n,i){switch(t){case r.ConnectionPointSide.North:case r.ConnectionPointSide.South:case r.ConnectionPointSide.East:return[e.clone().offset(this.getMinOffset(),0)];case r.ConnectionPointSide.West:return this.getAsideOffsetPoints(e,n,i,this.getMinOffset(),this.getMinOffset())}},e.prototype.getOverlappedPointsOffsetPoints=function(t,e,n,i){switch(t){case r.ConnectionPointSide.East:return[e.clone().offset(this.getMinOffset(),0)];case r.ConnectionPointSide.West:return[e.clone().offset(-this.getMinOffset(),0)]}return[]},e.prototype.getBeginOverlappedShapeOffsetPoints=function(t,e,n,i){switch(t){case r.ConnectionPointSide.North:return e.x<n.x?e.y<n.y?[]:[e.clone().offset(this.getMinOffset(),0)]:e.x>this.endRect.right?this.getAsideOffsetPoints(e,n,i,this.getMinOffset(),this.getMinOffset(),!0):[e.clone().offset(this.getMinOffset(),0)];case r.ConnectionPointSide.South:return e.x<n.x?e.y>n.y?[]:[e.clone().offset(this.getMinOffset(),0)]:e.x>this.endRect.right?this.getAsideOffsetPoints(e,n,i,this.getMinOffset(),this.getMinOffset(),!1):[e.clone().offset(this.getMinOffset(),0)];case r.ConnectionPointSide.East:return[e.clone().offset(this.getMinOffset(),0)];case r.ConnectionPointSide.West:return this.getAsideOffsetPoints(e,n,i,this.getMinOffset(),this.getMinOffset(),e.y<n.y)}},e.prototype.getEndOverlappedShapeOffsetPoints=function(t,e,n,i){switch(t){case r.ConnectionPointSide.East:return[e.clone().offset(this.getMinOffset(),0)];case r.ConnectionPointSide.West:var o=this.getMinOffset();return this.beginRect.right>e.x&&(o+=this.beginRect.right-e.x),[e.clone().offset(o,0)];case r.ConnectionPointSide.North:return n.x<e.x?this.getAsideOffsetPoints(e,n,i,this.getMinOffset(),this.getMinOffset(),!0):e.y>n.y?[e.clone().offset(this.getMinOffset(),0)]:[];case r.ConnectionPointSide.South:return n.x<e.x?this.getAsideOffsetPoints(e,n,i,this.getMinOffset(),this.getMinOffset(),!1):e.y<n.y?[e.clone().offset(this.getMinOffset(),0)]:[]}},e.prototype.getBeginOnSideOffsetPoints=function(t,e,n,i){return[e.clone().offset(this.getScaleableOffsetX(e,n,!1),0)]},e.prototype.getEndOnSideOffsetPoints=function(t,e,n,i){return[e.clone().offset(this.getScaleableOffsetX(e,n,!0),0)]},e.prototype.getBeginOffSideOffsetPoints=function(t,e,n,i){switch(t){case r.ConnectionPointSide.South:if(this.isBeginEndOverlappedY())return this.getScaleableAsideOffsetPoints(e,n,i,!1,!1);break;case r.ConnectionPointSide.North:if(this.isBeginEndOverlappedY())return this.getScaleableAsideOffsetPoints(e,n,i,!1,!0);break;case r.ConnectionPointSide.East:if(this.isBeginEndOverlappedY())return this.getScaleableAsideOffsetPoints(e,n,i,!1);break;case r.ConnectionPointSide.Undefined:case r.ConnectionPointSide.West:return this.getScaleableAsideOffsetPoints(e,n,i,!1)}return[e.clone().offset(this.getScaleableOffsetX(e,n,!1),0)]},e.prototype.getEndOffSideOffsetPoints=function(t,e,n,i){if(t===r.ConnectionPointSide.Undefined)return this.getScaleableAsideOffsetPoints(e,n,i,!0);if(this.isBeginEndOverlappedY()){var o=this.beginRect.center.y>this.endRect.center.y;return this.getScaleableAsideOffsetPoints(e,n,i,!0,o)}return[e.clone().offset(this.getScaleableOffsetX(e,n,!0),0)]},e.prototype.getAsideOffsetPoints=function(t,e,n,i,o,r){var a=[];return void 0!==n&&(void 0===r&&(r=e.y<t.y),r?a.push(t.clone().offset(i,-(t.y-n.y+o))):a.push(t.clone().offset(i,n.bottom-t.y+o))),a.push(t.clone().offset(i,0)),a},e.prototype.getScaleableAsideOffsetPoints=function(t,e,n,i,o){var r=this.getScaleableOffsetX(t,e,i),a=this.getScaleableOffsetY(t,e,i);return this.getAsideOffsetPoints(t,e,n,r,a,o)},e.prototype.getScaleableOffsetX=function(t,e,n){if(this.beginRect&&this.endRect){var i=n?this.beginRect.x-t.x:this.endRect.x-t.x;if(i>0&&i<2*this.getMinOffset())return i/2}return this.getMinOffset()},e.prototype.getScaleableOffsetY=function(t,e,n){if(this.beginRect&&this.endRect&&!n&&!this.isBeginEndOverlappedY()){var i=void 0;if((i=e.y<t.y?this.beginRect.y-this.endRect.bottom:this.endRect.y-this.beginRect.bottom)<2*this.getMinOffset())return i/2}return this.getMinOffset()},e.prototype.isOnSidePoint=function(t,e){return e.x>t.x},e.prototype.isDirectConnectionAllowed=function(t,e,n){return t===r.ConnectionPointSide.West||t===r.ConnectionPointSide.Undefined},e.prototype.getDirectConnectionPoints=function(t,e){var n=t.x+(e.x-t.x)/2;return[new s.ConnectorRenderPoint(n,t.y),new s.ConnectorRenderPoint(n,e.y)]},e}(a.ConnectorPointsOrthogonalSideCalculatorBase);e.ConnectorPointsOrthogonalEastSideCalculator=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectorPointsOrthogonalWestSideCalculator=void 0;var r=n(9),a=n(52),s=n(29),l=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.getCorrectOriginPoint=function(t,e){return t.x>e.x&&(t=t.clone().offset(e.x-t.x,0)),t},e.prototype.getSameShapeOffsetPoints=function(t,e,n,i){switch(t){case r.ConnectionPointSide.North:case r.ConnectionPointSide.South:case r.ConnectionPointSide.West:return[e.clone().offset(-this.getMinOffset(),0)];case r.ConnectionPointSide.East:return this.getAsideOffsetPoints(e,n,i,this.getMinOffset(),this.getMinOffset())}},e.prototype.getOverlappedPointsOffsetPoints=function(t,e,n,i){switch(t){case r.ConnectionPointSide.East:return[e.clone().offset(this.getMinOffset(),0)];case r.ConnectionPointSide.West:return[e.clone().offset(-this.getMinOffset(),0)]}return[]},e.prototype.getBeginOverlappedShapeOffsetPoints=function(t,e,n,i){switch(t){case r.ConnectionPointSide.North:return e.x>n.x?e.y<n.y?[]:[e.clone().offset(-this.getMinOffset(),0)]:e.x<this.endRect.x?this.getAsideOffsetPoints(e,n,i,this.getMinOffset(),this.getMinOffset(),!0):[e.clone().offset(-this.getMinOffset(),0)];case r.ConnectionPointSide.South:return e.x>n.x?e.y>n.y?[]:[e.clone().offset(-this.getMinOffset(),0)]:e.x<this.endRect.x?this.getAsideOffsetPoints(e,n,i,this.getMinOffset(),this.getMinOffset(),!1):[e.clone().offset(-this.getMinOffset(),0)];case r.ConnectionPointSide.West:return[e.clone().offset(-this.getMinOffset(),0)];case r.ConnectionPointSide.East:return this.getAsideOffsetPoints(e,n,i,this.getMinOffset(),this.getMinOffset(),e.y<n.y)}},e.prototype.getEndOverlappedShapeOffsetPoints=function(t,e,n,i){switch(t){case r.ConnectionPointSide.East:var o=-this.getMinOffset();return this.beginRect.x<e.x&&(o-=e.x-this.beginRect.x),[e.clone().offset(o,0)];case r.ConnectionPointSide.West:return[e.clone().offset(-this.getMinOffset(),0)];case r.ConnectionPointSide.North:return n.x>e.x?this.getAsideOffsetPoints(e,n,i,this.getMinOffset(),this.getMinOffset(),!0):e.y>n.y?[e.clone().offset(-this.getMinOffset(),0)]:[];case r.ConnectionPointSide.South:return n.x>e.x?this.getAsideOffsetPoints(e,n,i,this.getMinOffset(),this.getMinOffset(),!1):e.y<n.y?[e.clone().offset(-this.getMinOffset(),0)]:[]}},e.prototype.getBeginOnSideOffsetPoints=function(t,e,n,i){return[e.clone().offset(-this.getScaleableOffsetX(e,!1),0)]},e.prototype.getEndOnSideOffsetPoints=function(t,e,n,i){return[e.clone().offset(-this.getScaleableOffsetX(e,!0),0)]},e.prototype.getBeginOffSideOffsetPoints=function(t,e,n,i){switch(t){case r.ConnectionPointSide.South:if(this.isBeginEndOverlappedY())return this.getScaleableAsideOffsetPoints(e,n,i,!1,!1);break;case r.ConnectionPointSide.North:if(this.isBeginEndOverlappedY())return this.getScaleableAsideOffsetPoints(e,n,i,!1,!0);break;case r.ConnectionPointSide.West:if(this.isBeginEndOverlappedY())return this.getScaleableAsideOffsetPoints(e,n,i,!1);break;case r.ConnectionPointSide.Undefined:case r.ConnectionPointSide.East:return this.getScaleableAsideOffsetPoints(e,n,i,!1)}return[e.clone().offset(-this.getScaleableOffsetX(e,!1),0)]},e.prototype.getEndOffSideOffsetPoints=function(t,e,n,i){if(t===r.ConnectionPointSide.Undefined)return this.getScaleableAsideOffsetPoints(e,n,i,!0);if(this.isBeginEndOverlappedY()){var o=this.beginRect.center.y>this.endRect.center.y;return this.getScaleableAsideOffsetPoints(e,n,i,!0,o)}return[e.clone().offset(-this.getScaleableOffsetX(e,!0),0)]},e.prototype.getAsideOffsetPoints=function(t,e,n,i,o,r){var a=[];return void 0!==n&&(void 0===r&&(r=e.y<t.y),r?a.push(t.clone().offset(-i,-(t.y-n.y+o))):a.push(t.clone().offset(-i,n.bottom-t.y+o))),a.push(t.clone().offset(-i,0)),a},e.prototype.getScaleableAsideOffsetPoints=function(t,e,n,i,o){var r=this.getScaleableOffsetX(t,i),a=this.getScaleableOffsetY(t,e,i);return this.getAsideOffsetPoints(t,e,n,r,a,o)},e.prototype.getScaleableOffsetX=function(t,e){if(this.beginRect&&this.endRect){var n=e?t.x-this.beginRect.right:t.x-this.endRect.right;if(n>0&&n<2*this.getMinOffset())return n/2}return this.getMinOffset()},e.prototype.getScaleableOffsetY=function(t,e,n){if(this.beginRect&&this.endRect&&!n&&!this.isBeginEndOverlappedY()){var i=void 0;if((i=e.y<t.y?this.beginRect.y-this.endRect.bottom:this.endRect.y-this.beginRect.bottom)<2*this.getMinOffset())return i/2}return this.getMinOffset()},e.prototype.isOnSidePoint=function(t,e){return e.x<t.x},e.prototype.isDirectConnectionAllowed=function(t,e,n){return t===r.ConnectionPointSide.East||t===r.ConnectionPointSide.Undefined},e.prototype.getDirectConnectionPoints=function(t,e){var n=e.x+(t.x-e.x)/2;return[new s.ConnectorRenderPoint(n,t.y),new s.ConnectorRenderPoint(n,e.y)]},e}(a.ConnectorPointsOrthogonalSideCalculatorBase);e.ConnectorPointsOrthogonalWestSideCalculator=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectorLineEndingFilledTriangleStrategy=e.ConnectorLineEndingOutlinedTriangleStrategy=e.ConnectorLineEndingArrowStrategy=e.ConnectorLineEndingNoneStrategy=e.ConnectorLineEndingStrategy=void 0;var r=n(3),a=n(5),s=function(){function t(t){this.style=t}return t.prototype.hasCommands=function(){return!0},t.prototype.needCreateSeparatePrimitive=function(){return!1},t.prototype.createPrimitive=function(){return new a.PathPrimitive([],this.getStyle(),this.getCssClass())},t.prototype.createCommands=function(t,e){return[]},t.prototype.getStyle=function(){var t=this.style.clone();return t.resetStrokeDashArray(),t},t.prototype.getCssClass=function(){},t}();e.ConnectorLineEndingStrategy=s;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.hasCommands=function(){return!1},e}(s);e.ConnectorLineEndingNoneStrategy=l;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"arrowHeight",{get:function(){return 6*this.style.strokeWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arrowWidth",{get:function(){return 2*this.style.strokeWidth},enumerable:!1,configurable:!0}),e.prototype.needCreateSeparatePrimitive=function(){return!this.style.isDefaultStrokeDashArray()},e.prototype.createCommands=function(t,e){var n=this.getArrowPoints(t,e),i=[new a.PathPrimitiveMoveToCommand(n.point1.x,n.point1.y),new a.PathPrimitiveLineToCommand(t.x,t.y),new a.PathPrimitiveLineToCommand(n.point2.x,n.point2.y)];return this.style.isDefaultStrokeDashArray()||(i=i.concat([new a.PathPrimitiveMoveToCommand(t.x,t.y),new a.PathPrimitiveLineToCommand(n.point3.x,n.point3.y)])),i},e.prototype.getArrowPoints=function(t,e){var n,i=this.arrowHeight;return t.x===e.x&&(n=Math.abs(t.y-e.y))<i&&(i=n),t.y===e.y&&(n=Math.abs(t.x-e.x))<i&&(i=n),r.GeometryUtils.getArrowPoints(t,e,i,this.arrowWidth)},e}(s);e.ConnectorLineEndingArrowStrategy=c;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.needCreateSeparatePrimitive=function(){return!0},e.prototype.createCommands=function(t,e){var n=this.getArrowPoints(t,e);return[new a.PathPrimitiveMoveToCommand(n.point1.x,n.point1.y),new a.PathPrimitiveLineToCommand(t.x,t.y),new a.PathPrimitiveLineToCommand(n.point2.x,n.point2.y),new a.PathPrimitiveClosePathCommand]},e.prototype.getCssClass=function(){return"outlined-line-ending"},e}(c);e.ConnectorLineEndingOutlinedTriangleStrategy=u;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getStyle=function(){var e=t.prototype.getStyle.call(this);return e.fill=e.stroke,e},e.prototype.getCssClass=function(){return"filled-line-ending"},e}(u);e.ConnectorLineEndingFilledTriangleStrategy=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectorTexts=e.ConnectorText=void 0;var i=function(t,e){this.position=t,this.value=e};e.ConnectorText=i;var o=function(){function t(){this.items={}}return t.prototype.get=function(t){return this.items[t]},t.prototype.set=function(t,e){this.items[t]=e},t.prototype.remove=function(t){delete this.items[t]},t.prototype.map=function(t){var e=[];return this.forEach(function(n){return e.push(t(n))}),e},t.prototype.forEach=function(t){for(var e in this.items)Object.prototype.hasOwnProperty.call(this.items,e)&&t(this.items[e])},t.prototype.count=function(){return Object.keys(this.items).length},t.prototype.clone=function(){var e=new t;return this.forEach(function(t){e.set(t.position,new i(t.position,t.value))}),e},t.prototype.toObject=function(){var t={},e=!1;return this.forEach(function(n){t[n.position]=n.value,e=!0}),e?t:null},t.prototype.fromObject=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var n=parseFloat(e);isNaN(n)||"string"!=typeof t[e]||this.set(n,new i(n,t[e]))}},t}();e.ConnectorTexts=o},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AddConnectorPointHistoryItem=void 0;var r=function(t){function e(e,n,i){var o=t.call(this)||this;return o.connectorKey=e,o.pointIndex=n,o.point=i,o}return o(e,t),e.prototype.redo=function(t){var e=this,n=t.model.findConnector(this.connectorKey);this.renderContext=n.tryCreateRenderPointsContext(),t.addDeleteConnectorPoint(n,function(t){t.addPoint(e.pointIndex,e.point),t.onAddPoint(e.pointIndex,e.point)})},e.prototype.undo=function(t){var e=this,n=t.model.findConnector(this.connectorKey);t.addDeleteConnectorPoint(n,function(t){t.deletePoint(e.pointIndex),t.replaceRenderPoints(e.renderContext)})},e}(n(8).HistoryItem);e.AddConnectorPointHistoryItem=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.InsertToContainerHistoryItem=void 0;var r=function(t){function e(e,n){var i=t.call(this)||this;return i.containerKey=n.key,i.itemKey=e.key,i}return o(e,t),e.prototype.redo=function(t){var e=t.model.findItem(this.itemKey),n=t.model.findShape(this.containerKey);t.insertToContainer(e,n)},e.prototype.undo=function(t){var e=t.model.findItem(this.itemKey);t.removeFromContainer(e)},e}(n(8).HistoryItem);e.InsertToContainerHistoryItem=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MoveConnectorRightAnglePointsHistoryItem=e.MoveConnectorPointHistoryItem=void 0;var r=n(8),a=function(t){function e(e,n,i){var o=t.call(this)||this;return o.connectorKey=e,o.pointIndex=n,o.newPoint=i,o}return o(e,t),e.prototype.redo=function(t){var e=this,n=t.model.findConnector(this.connectorKey);this.oldPoint=n.points[this.pointIndex].clone(),this.renderContext=n.tryCreateRenderPointsContext(),t.moveConnectorPoint(n,this.pointIndex,function(t){t.movePoint(e.pointIndex,e.newPoint),t.onMovePoint(e.pointIndex,e.newPoint)})},e.prototype.undo=function(t){var e=this,n=t.model.findConnector(this.connectorKey);t.moveConnectorPoint(n,this.pointIndex,function(t){t.movePoint(e.pointIndex,e.oldPoint),t.replaceRenderPoints(e.renderContext)})},e}(r.HistoryItem);e.MoveConnectorPointHistoryItem=a;var s=function(t){function e(e,n,i,o,r){var a=t.call(this)||this;return a.connectorKey=e,a.beginPointIndex=n,a.newBeginPoint=i,a.lastPointIndex=o,a.newLastPoint=r,a}return o(e,t),e.prototype.redo=function(t){var e=this,n=t.model.findConnector(this.connectorKey);this.oldBeginPoint=n.points[this.beginPointIndex].clone(),this.oldLastPoint=n.points[this.lastPointIndex].clone(),this.renderContext=n.tryCreateRenderPointsContext(),t.changeConnectorPoints(n,function(t){t.movePoint(e.beginPointIndex,e.newBeginPoint),t.movePoint(e.lastPointIndex,e.newLastPoint),t.onMovePoints(e.beginPointIndex,e.newBeginPoint,e.lastPointIndex,e.newLastPoint)})},e.prototype.undo=function(t){var e=this,n=t.model.findConnector(this.connectorKey);t.changeConnectorPoints(n,function(t){t.movePoint(e.beginPointIndex,e.oldBeginPoint),t.movePoint(e.lastPointIndex,e.oldLastPoint),t.replaceRenderPoints(e.renderContext)})},e}(r.HistoryItem);e.MoveConnectorRightAnglePointsHistoryItem=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MoveShapeHistoryItem=void 0;var r=function(t){function e(e,n){var i=t.call(this)||this;return i.shapeKey=e,i.position=n,i}return o(e,t),e.prototype.redo=function(t){var e=t.model.findShape(this.shapeKey);this.oldPosition=e.position.clone(),t.moveShape(e,this.position)},e.prototype.undo=function(t){var e=t.model.findShape(this.shapeKey);t.moveShape(e,this.oldPosition)},e}(n(8).HistoryItem);e.MoveShapeHistoryItem=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.RemoveFromContainerHistoryItem=void 0;var r=function(t){function e(e){var n=t.call(this)||this;return n.itemKey=e.key,n}return o(e,t),e.prototype.redo=function(t){var e=t.model.findItem(this.itemKey);this.containerKey=e.container&&e.container.key,t.removeFromContainer(e)},e.prototype.undo=function(t){var e=t.model.findContainer(this.containerKey),n=t.model.findItem(this.itemKey);t.insertToContainer(n,e)},e}(n(8).HistoryItem);e.RemoveFromContainerHistoryItem=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ModelResizeHistoryItem=void 0;var r=n(8),a=n(87),s=n(2),l=function(t){function e(e){var n=t.call(this)||this;return n.offset=e,n}return o(e,t),e.prototype.redo=function(t){this.oldSize=t.model.size.clone(),this.backOffset=new a.Offsets(-this.offset.left,-this.offset.right,-this.offset.top,-this.offset.bottom);var e=Math.max(this.oldSize.width+this.offset.left+this.offset.right,t.model.pageWidth),n=Math.max(this.oldSize.height+this.offset.top+this.offset.bottom,t.model.pageHeight);t.changeModelSize(new s.Size(e,n),this.offset)},e.prototype.undo=function(t){t.changeModelSize(this.oldSize,this.backOffset)},e}(r.HistoryItem);e.ModelResizeHistoryItem=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.UpdatePositionsOnPageResizeHistoryItem=void 0;var r=n(6),a=n(14),s=function(t){function e(e){var n=t.call(this)||this;return n.offset=e,n}return o(e,t),e.prototype.redo=function(t){var e=this;t.model.iterateItems(function(n){n instanceof a.Shape&&t.moveShape(n,e.applyOffset(n.position,e.offset.x,e.offset.y)),n instanceof r.Connector&&t.changeConnectorPoints(n,function(t){return t.updatePointsOnPageResize(e.offset.x,e.offset.y)})})},e.prototype.undo=function(t){var e=this;t.model.iterateItems(function(n){n instanceof a.Shape&&t.moveShape(n,e.applyOffset(n.position,-e.offset.x,-e.offset.y)),n instanceof r.Connector&&t.changeConnectorPoints(n,function(t){return t.updatePointsOnPageResize(-e.offset.x,-e.offset.y)})})},e.prototype.applyOffset=function(t,e,n){return t.clone().offset(e,n)},e}(n(8).HistoryItem);e.UpdatePositionsOnPageResizeHistoryItem=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GraphInfo=void 0;var i=n(196),o=function(){function t(t,e){this.container=t,this.sourceGraph=e}return Object.defineProperty(t.prototype,"graph",{get:function(){return this._graph||(this._graph=this.getNodeInfoGraph())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return void 0!==this._level?this._level:this._level=this.getLevel()},enumerable:!1,configurable:!0}),t.prototype.getNodeInfoGraph=function(){return this.sourceGraph.cast(i.LayoutUtils.shapeToLayout)},t.prototype.getLevel=function(){var t=0;return this.container&&(t=this.getContainerLevel(this.container)),t},t.prototype.getContainerLevel=function(t){var e=1,n=t.container;return n&&(e+=this.getContainerLevel(n)),e},t}();e.GraphInfo=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutUtils=void 0;var i=n(71),o=function(){function t(){}return t.shapeToLayout=function(t){var e=new i.Margin(0),n=t.rectangle;t.attachedConnectors.filter(function(t){return!t.beginItem||!t.endItem}).forEach(function(t){var i=t.rectangle;e.left=Math.max(e.left,n.x-i.x),e.right=Math.max(e.right,i.right-n.right),e.top=Math.max(e.top,n.y-i.y),e.bottom=Math.max(e.bottom,i.bottom-n.bottom)});var o=new i.NodeInfo(t.key,e,t.size.clone());return o.connectionPoints=t.description.getConnectionPoints(),o},t}();e.LayoutUtils=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandBase=void 0;var i=function(){function t(t){this.control=t}return t.prototype.execute=function(t){this.isPermissionsRequired&&this.permissionsProvider.lockPermissions();var e=this.getState();if(this.isPermissionsRequired&&this.permissionsProvider.unlockPermissions(),!e.enabled)return!1;this.control.beginUpdate();var n=!1;return n=this.isPermissionsRequired?this.executeWithPermissions(e,t):this.executeCore(e,t),this.control.endUpdate(),n&&this.updateControlState(),n},t.prototype.executeWithPermissions=function(t,e){var n=!1;return this.permissionsProvider.beginStorePermissions(),this.control.history.beginTransaction(),n=this.executeCore(t,e),this.permissionsProvider.isStoredPermissionsGranted()||(this.permissionsProvider.lockPermissions(),this.control.history.undoTransaction(),this.permissionsProvider.unlockPermissions(),n=!1),this.control.history.endTransaction(),this.permissionsProvider.endStorePermissions(),n},t.prototype.updateControlState=function(){this.lockInputPositionUpdating()||this.control.selection.inputPosition.reset(),this.lockUIUpdating()||this.control.barManager.updateItemsState()},Object.defineProperty(t.prototype,"permissionsProvider",{get:function(){return this.control&&this.control.permissionsProvider},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPermissionsRequired",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.lockUIUpdating=function(){return!1},t.prototype.lockInputPositionUpdating=function(){return!1},t}();e.CommandBase=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleCommandState=void 0;var i=function(t,e,n,i,o){this.visible=!0,this.denyUpdateValue=!1,this.enabled=t,this.value=e,this.items=i,this.visible=o,this.defaultValue=n};e.SimpleCommandState=i},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.UndoCommand=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.executeCore=function(t){return this.control.beginUpdateCanvas(),this.permissionsProvider.lockPermissions(),this.control.history.undo(),this.permissionsProvider.unlockPermissions(),this.control.endUpdateCanvas(),!0},e.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&this.control.history.canUndo()},e}(n(10).SimpleCommandBase);e.UndoCommand=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.RedoCommand=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.executeCore=function(t){return this.control.beginUpdateCanvas(),this.permissionsProvider.lockPermissions(),this.control.history.redo(),this.permissionsProvider.unlockPermissions(),this.control.endUpdateCanvas(),!0},e.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&this.control.history.canRedo()},e}(n(10).SimpleCommandBase);e.RedoCommand=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ImportCommand=void 0;var r=n(119),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.executeCore=function(t,e){this.permissionsProvider.lockPermissions();var n=e.data?e.data:e,i=new r.Importer(this.control.shapeDescriptionManager,n);if(!0===e.keepExistingItems)i.importItemsData(this.control.model),this.control.importItemsData();else{var o=i.import();this.control.importModel(o)}return this.permissionsProvider.unlockPermissions(),!0},e}(n(57).ExportImportCommandBase);e.ImportCommand=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ProcessShapeDescription=void 0;var r=n(19),a=n(1),s=function(t){function e(){return t.call(this,void 0,!0)||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return a.ShapeTypes.Process},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepRatioOnAutoSize",{get:function(){return!1},enumerable:!1,configurable:!0}),e}(r.RectangleShapeDescription);e.ProcessShapeDescription=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DecisionShapeDescription=void 0;var r=n(120),a=n(1),s=n(2),l=n(7),c=function(t){function e(){return t.call(this,new s.Size(l.ShapeDefaultDimension,.75*l.ShapeDefaultDimension),!0)||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return a.ShapeTypes.Decision},enumerable:!1,configurable:!0}),e}(r.DiamondShapeDescription);e.DecisionShapeDescription=c},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ManualInputShapeDescription=void 0;var r=n(19),a=n(1),s=n(5),l=n(9),c=n(7),u=function(t){function e(){return t.call(this,void 0,!0)||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return a.ShapeTypes.ManualInput},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepRatioOnAutoSize",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(t){var n=t.rectangle,i=n.x,o=n.y,r=n.right,a=n.bottom,l=o+n.height*e.slopeHeightRatio;return[new s.PathPrimitive([new s.PathPrimitiveMoveToCommand(i,l),new s.PathPrimitiveLineToCommand(r,o),new s.PathPrimitiveLineToCommand(r,a),new s.PathPrimitiveLineToCommand(i,a),new s.PathPrimitiveClosePathCommand],t.style)]},e.prototype.processConnectionPoint=function(t,n){t.getConnectionPointSide(n)===l.ConnectionPointSide.North&&(n.y+=e.slopeHeightRatio/2*t.size.height)},e.prototype.getTextRectangle=function(t){var n=t.size.height*e.slopeHeightRatio;return t.rectangle.clone().moveRectangle(c.ShapeTextPadding,n).resize(2*-c.ShapeTextPadding,-n-c.ShapeTextPadding).nonNegativeSize()},e.slopeHeightRatio=.1,e}(r.RectangleShapeDescription);e.ManualInputShapeDescription=u},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DataShapeDescription=void 0;var r=n(19),a=n(1),s=n(5),l=n(9),c=n(7),u=function(t){function e(){return t.call(this,void 0,!0)||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return a.ShapeTypes.Data},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepRatioOnAutoSize",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(t){var n=t.rectangle,i=n.x,o=n.y,r=n.right,a=n.bottom,l=n.width,c=n.height,u=Math.min(Math.max(0,c/Math.tan(e.slopeAngle)),l),h=i+u,d=r-u;return[new s.PathPrimitive([new s.PathPrimitiveMoveToCommand(h,o),new s.PathPrimitiveLineToCommand(r,o),new s.PathPrimitiveLineToCommand(d,a),new s.PathPrimitiveLineToCommand(i,a),new s.PathPrimitiveClosePathCommand],t.style)]},e.prototype.processConnectionPoint=function(t,n){var i=t.size.height/Math.tan(e.slopeAngle),o=t.getConnectionPointSide(n);o===l.ConnectionPointSide.East?n.x-=i/2:o===l.ConnectionPointSide.West&&(n.x+=i/2)},e.prototype.getTextRectangle=function(t){var n=Math.min(Math.max(0,t.size.height/Math.tan(e.slopeAngle)),t.size.width);return t.rectangle.clone().moveRectangle(n,c.ShapeTextPadding).resize(2*-n,2*-c.ShapeTextPadding)},e.slopeAngle=81*Math.PI/180,e}(r.RectangleShapeDescription);e.DataShapeDescription=u},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.TerminatorShapeDescription=void 0;var r=n(19),a=n(1),s=n(5),l=n(2),c=n(7),u=n(13),h=n(3),d=function(t){function e(){return t.call(this,new l.Size(c.ShapeDefaultDimension,.5*c.ShapeDefaultDimension),!0)||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return a.ShapeTypes.Terminator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepRatioOnAutoSize",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(t){var n=t.rectangle,i=n.x,o=n.y,r=n.right,a=n.bottom,l=n.width,c=n.center.y,u=i+l*e.curveWidthRatio,h=i+l*(1-e.curveWidthRatio);return[new s.PathPrimitive([new s.PathPrimitiveMoveToCommand(u,o),new s.PathPrimitiveLineToCommand(h,o),new s.PathPrimitiveQuadraticCurveToCommand(r,o,r,c),new s.PathPrimitiveQuadraticCurveToCommand(r,a,h,a),new s.PathPrimitiveLineToCommand(u,a),new s.PathPrimitiveQuadraticCurveToCommand(i,a,i,c),new s.PathPrimitiveQuadraticCurveToCommand(i,o,u,o),new s.PathPrimitiveClosePathCommand],t.style)]},e.prototype.getTextRectangle=function(t){var e=h.GeometryUtils.getMaxRectangleEnscribedInEllipse(t.size);return u.Rectangle.fromGeometry(t.position.clone().offset((t.size.width-e.width)/2,(t.size.height-e.height)/2),e)},e.prototype.getSizeByText=function(t,e){return h.GeometryUtils.getEllipseByEnscribedRectangle(t)},e.curveWidthRatio=.3,e}(r.RectangleShapeDescription);e.TerminatorShapeDescription=d},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PredefinedProcessShapeDescription=e.PredefinedProcessEdgeParameterName=void 0;var r=n(19),a=n(1),s=n(37),l=n(30),c=n(0),u=n(5);e.PredefinedProcessEdgeParameterName="e";var h=function(t){function n(){return t.call(this,void 0,!0)||this}return o(n,t),Object.defineProperty(n.prototype,"key",{get:function(){return a.ShapeTypes.PredefinedProcess},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"keepRatioOnAutoSize",{get:function(){return!1},enumerable:!1,configurable:!0}),n.prototype.createShapePrimitives=function(n){var i=n.rectangle,o=i.x,r=i.y,a=i.right,s=i.bottom,l=o+n.parameters.get(e.PredefinedProcessEdgeParameterName).value,c=a-n.parameters.get(e.PredefinedProcessEdgeParameterName).value;return t.prototype.createShapePrimitives.call(this,n).concat([new u.PathPrimitive([new u.PathPrimitiveMoveToCommand(l,r),new u.PathPrimitiveLineToCommand(l,s),new u.PathPrimitiveMoveToCommand(c,r),new u.PathPrimitiveLineToCommand(c,s)],n.style)])},n.prototype.createParameters=function(t){t.add(new s.ShapeParameter(e.PredefinedProcessEdgeParameterName,.1*this.defaultSize.width))},n.prototype.normalizeParameters=function(t,i){this.changeParameterValue(i,e.PredefinedProcessEdgeParameterName,function(e){return Math.max(n.minEdge,Math.min(.3*t.size.width,e.value))})},n.prototype.modifyParameters=function(t,n,i,o){this.changeParameterValue(n,e.PredefinedProcessEdgeParameterName,function(t){return t.value+i}),this.normalizeParameters(t,n)},n.prototype.getParameterPoints=function(t){return[new l.ShapeParameterPoint("c",new c.Point(t.normalizeX(t.position.x+t.parameters.get(e.PredefinedProcessEdgeParameterName).value),t.position.y))]},n.prototype.getTextRectangle=function(t){var n=t.rectangle,i=t.parameters.get(e.PredefinedProcessEdgeParameterName).value;return n.clone().resize(-2*i,0).clone().moveRectangle(i,0)},n.minEdge=72,n}(r.RectangleShapeDescription);e.PredefinedProcessShapeDescription=h},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ArrowUpDownShapeDescription=void 0;var r=n(5),a=n(30),s=n(0),l=n(92),c=n(1),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return c.ShapeTypes.ArrowUpDown},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(t){var e=t.rectangle,n=e.x,i=e.y,o=e.right,a=e.bottom,s=e.width,c=e.center.x,u=(s-t.parameters.get(l.ArrowVerticalLineWidthParameterName).value)/2,h=t.parameters.get(l.ArrowVerticalTriangleHeightParameterName).value,d=t.normalizeX(n+u),p=t.normalizeY(i+h),f=t.normalizeX(o-u),m=t.normalizeY(a-h);return[new r.PathPrimitive([new r.PathPrimitiveMoveToCommand(c,i),new r.PathPrimitiveLineToCommand(o,p),new r.PathPrimitiveLineToCommand(f,p),new r.PathPrimitiveLineToCommand(f,m),new r.PathPrimitiveLineToCommand(o,m),new r.PathPrimitiveLineToCommand(c,a),new r.PathPrimitiveLineToCommand(n,m),new r.PathPrimitiveLineToCommand(d,m),new r.PathPrimitiveLineToCommand(d,p),new r.PathPrimitiveLineToCommand(n,p),new r.PathPrimitiveClosePathCommand],t.style)]},e.prototype.normalizeParameters=function(t,e){this.changeParameterValue(e,l.ArrowVerticalTriangleHeightParameterName,function(e){return Math.max(0,Math.min(t.size.height/2-2*t.strokeWidth,e.value))}),this.changeParameterValue(e,l.ArrowVerticalLineWidthParameterName,function(e){return Math.max(0,Math.min(t.size.width,e.value))})},e.prototype.modifyParameters=function(t,e,n,i){this.changeParameterValue(e,l.ArrowVerticalTriangleHeightParameterName,function(t){return t.value+i}),this.changeParameterValue(e,l.ArrowVerticalLineWidthParameterName,function(t){return t.value-2*n}),this.normalizeParameters(t,e)},e.prototype.getParameterPoints=function(t){return[new a.ShapeParameterPoint("c",new s.Point(t.normalizeX(t.position.x+(t.size.width-t.parameters.get(l.ArrowVerticalLineWidthParameterName).value)/2),t.normalizeY(t.position.y+t.parameters.get(l.ArrowVerticalTriangleHeightParameterName).value)))]},e}(l.ArrowVerticalShapeDescription);e.ArrowUpDownShapeDescription=u},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ArrowRightShapeDescription=void 0;var r=n(5),a=n(93),s=n(30),l=n(0),c=n(1),u=n(9),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return c.ShapeTypes.ArrowRight},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(t){var e=t.rectangle,n=e.x,i=e.y,o=e.right,s=e.bottom,l=e.width,c=e.height,u=e.center.y,h=l-t.parameters.get(a.ArrowVerticalTriangleWidthParameterName).value,d=(c-t.parameters.get(a.ArrowVerticalLineHeightParameterName).value)/2,p=t.normalizeX(n+h),f=t.normalizeY(i+d),m=t.normalizeY(s-d);return[new r.PathPrimitive([new r.PathPrimitiveMoveToCommand(n,f),new r.PathPrimitiveLineToCommand(p,f),new r.PathPrimitiveLineToCommand(p,i),new r.PathPrimitiveLineToCommand(o,u),new r.PathPrimitiveLineToCommand(p,s),new r.PathPrimitiveLineToCommand(p,m),new r.PathPrimitiveLineToCommand(n,m),new r.PathPrimitiveClosePathCommand],t.style)]},e.prototype.modifyParameters=function(t,e,n,i){this.changeParameterValue(e,a.ArrowVerticalTriangleWidthParameterName,function(t){return t.value-n}),this.changeParameterValue(e,a.ArrowVerticalLineHeightParameterName,function(t){return t.value-2*i}),this.normalizeParameters(t,e)},e.prototype.getParameterPoints=function(t){return[new s.ShapeParameterPoint("c",new l.Point(t.normalizeX(t.position.x+t.size.width-t.parameters.get(a.ArrowVerticalTriangleWidthParameterName).value),t.normalizeY(t.position.y+(t.size.height-t.parameters.get(a.ArrowVerticalLineHeightParameterName).value)/2)))]},e.prototype.processConnectionPoint=function(e,n){var i=e.parameters.get(a.ArrowVerticalTriangleWidthParameterName).value;if(n.x>e.position.x+e.size.width-i){var o=e.size.height/2/i,r=(n.x-(e.position.x+e.size.width-i))*o,s=e.getConnectionPointSide(n);s===u.ConnectionPointSide.North?n.y+=r:s===u.ConnectionPointSide.South&&(n.y-=r)}else t.prototype.processConnectionPoint.call(this,e,n)},e}(a.ArrowHorizontalShapeDescription);e.ArrowRightShapeDescription=h},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ArrowUpShapeDescription=void 0;var r=n(5),a=n(30),s=n(0),l=n(92),c=n(1),u=n(9),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return c.ShapeTypes.ArrowUp},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(t){var e=t.rectangle,n=e.x,i=e.y,o=e.right,a=e.bottom,s=e.width,c=e.center.x,u=(s-t.parameters.get(l.ArrowVerticalLineWidthParameterName).value)/2,h=t.parameters.get(l.ArrowVerticalTriangleHeightParameterName).value,d=t.normalizeX(n+u),p=t.normalizeY(i+h),f=t.normalizeX(o-u);return[new r.PathPrimitive([new r.PathPrimitiveMoveToCommand(c,i),new r.PathPrimitiveLineToCommand(o,p),new r.PathPrimitiveLineToCommand(f,p),new r.PathPrimitiveLineToCommand(f,a),new r.PathPrimitiveLineToCommand(d,a),new r.PathPrimitiveLineToCommand(d,p),new r.PathPrimitiveLineToCommand(n,p),new r.PathPrimitiveClosePathCommand],t.style)]},e.prototype.modifyParameters=function(t,e,n,i){this.changeParameterValue(e,l.ArrowVerticalTriangleHeightParameterName,function(t){return t.value+i}),this.changeParameterValue(e,l.ArrowVerticalLineWidthParameterName,function(t){return t.value-2*n}),this.normalizeParameters(t,e)},e.prototype.getParameterPoints=function(t){return[new a.ShapeParameterPoint("c",new s.Point(t.normalizeX(t.position.x+(t.size.width-t.parameters.get(l.ArrowVerticalLineWidthParameterName).value)/2),t.normalizeY(t.position.y+t.parameters.get(l.ArrowVerticalTriangleHeightParameterName).value)))]},e.prototype.processConnectionPoint=function(e,n){var i=e.parameters.get(l.ArrowVerticalTriangleHeightParameterName).value;if(n.y<e.position.y+i){var o=e.size.width/2/i,r=(e.position.y+i-n.y)*o,a=e.getConnectionPointSide(n);a===u.ConnectionPointSide.East?n.x-=r:a===u.ConnectionPointSide.West&&(n.x+=r)}else t.prototype.processConnectionPoint.call(this,e,n)},e}(l.ArrowVerticalShapeDescription);e.ArrowUpShapeDescription=h},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CrossShapeDescription=e.CrossVerticalWidthParameterName=e.CrossHorizontalWidthParameterName=void 0;var r=n(7),a=n(0),s=n(37),l=n(30),c=n(5),u=n(1);e.CrossHorizontalWidthParameterName="chw",e.CrossVerticalWidthParameterName="cvw";var h=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),Object.defineProperty(n.prototype,"key",{get:function(){return u.ShapeTypes.Cross},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"keepRatioOnAutoSize",{get:function(){return!0},enumerable:!1,configurable:!0}),n.prototype.createShapePrimitives=function(t){var n=t.rectangle,i=n.x,o=n.y,r=n.right,a=n.bottom,s=n.width,l=n.height,u=(s-t.parameters.get(e.CrossHorizontalWidthParameterName).value)/2,h=(l-t.parameters.get(e.CrossVerticalWidthParameterName).value)/2,d=t.normalizeX(i+u),p=t.normalizeY(o+h),f=t.normalizeX(r-u),m=t.normalizeY(a-h);return[new c.PathPrimitive([new c.PathPrimitiveMoveToCommand(i,p),new c.PathPrimitiveLineToCommand(d,p),new c.PathPrimitiveLineToCommand(d,o),new c.PathPrimitiveLineToCommand(f,o),new c.PathPrimitiveLineToCommand(f,p),new c.PathPrimitiveLineToCommand(r,p),new c.PathPrimitiveLineToCommand(r,m),new c.PathPrimitiveLineToCommand(f,m),new c.PathPrimitiveLineToCommand(f,a),new c.PathPrimitiveLineToCommand(d,a),new c.PathPrimitiveLineToCommand(d,m),new c.PathPrimitiveLineToCommand(i,m),new c.PathPrimitiveClosePathCommand],t.style)]},n.prototype.createParameters=function(t){t.addRange([new s.ShapeParameter(e.CrossHorizontalWidthParameterName,.2*this.defaultSize.width),new s.ShapeParameter(e.CrossVerticalWidthParameterName,.2*this.defaultSize.height)])},n.prototype.normalizeParameters=function(t,n){this.changeParameterValue(n,e.CrossHorizontalWidthParameterName,function(e){return Math.max(0,Math.min(t.size.width,e.value))}),this.changeParameterValue(n,e.CrossVerticalWidthParameterName,function(e){return Math.max(0,Math.min(t.size.height,e.value))})},n.prototype.modifyParameters=function(t,n,i,o){this.changeParameterValue(n,e.CrossHorizontalWidthParameterName,function(t){return t.value-2*i}),this.changeParameterValue(n,e.CrossVerticalWidthParameterName,function(t){return t.value-2*o}),this.normalizeParameters(t,n)},n.prototype.getParameterPoints=function(t){return[new l.ShapeParameterPoint("c",new a.Point(t.normalizeX(t.position.x+(t.size.width-t.parameters.get(e.CrossHorizontalWidthParameterName).value)/2),t.normalizeY(t.position.y+(t.size.height-t.parameters.get(e.CrossVerticalWidthParameterName).value)/2)))]},n.prototype.getTextRectangle=function(t){return t.rectangle.clone().inflate(-r.ShapeTextPadding,-r.ShapeTextPadding)},n.prototype.getSizeByText=function(t,e){return t.clone().offset(2*r.ShapeTextPadding,2*r.ShapeTextPadding)},n}(r.ShapeDescription);e.CrossShapeDescription=h},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.HeartShapeDescription=void 0;var r=n(7),a=n(5),s=n(1),l=n(45),c=n(9),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return s.ShapeTypes.Heart},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepRatioOnAutoSize",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.createConnectionPoints=function(){return[new l.ConnectionPoint(.5,.15,c.ConnectionPointSide.North),new l.ConnectionPoint(1,.25,c.ConnectionPointSide.East),new l.ConnectionPoint(.5,1,c.ConnectionPointSide.South),new l.ConnectionPoint(0,.25,c.ConnectionPointSide.West)]},e.prototype.createShapePrimitives=function(t){var e=t.rectangle,n=e.x,i=e.y,o=e.right,r=e.bottom,s=e.width,l=e.height;return[new a.PathPrimitive([new a.PathPrimitiveMoveToCommand(o-.25*s,i),new a.PathPrimitiveCubicCurveToCommand(o-.15*s,i,o,i+.1*l,o,i+.25*l),new a.PathPrimitiveCubicCurveToCommand(o,i+.3*l,o-.02*s,i+.35*l,o-.05*s,i+.4*l),new a.PathPrimitiveLineToCommand(e.center.x,r),new a.PathPrimitiveLineToCommand(n+.05*s,i+.4*l),new a.PathPrimitiveCubicCurveToCommand(n+.02*s,i+.35*l,n,i+.3*l,n,i+.25*l),new a.PathPrimitiveCubicCurveToCommand(n,i+.1*l,n+.15*s,i,n+.25*s,i),new a.PathPrimitiveCubicCurveToCommand(n+.3*s,i,n+.45*s,i+.03*l,n+.5*s,i+.15*l),new a.PathPrimitiveCubicCurveToCommand(o-.45*s,i+.03*l,o-.3*s,i,o-.25*s,i),new a.PathPrimitiveClosePathCommand],t.style)]},e.prototype.getTextRectangle=function(t){return t.rectangle.clone().inflate(-r.ShapeTextPadding,-r.ShapeTextPadding)},e.prototype.getSizeByText=function(t,e){return e.size.clone().offset(2*r.ShapeTextPadding,2*r.ShapeTextPadding)},e}(r.ShapeDescription);e.HeartShapeDescription=u},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.OctagonShapeDescription=void 0;var r=n(5),a=n(1),s=n(94),l=n(3),c=n(13),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return a.ShapeTypes.Octagon},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angleCount",{get:function(){return 8},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(t){var e=t.rectangle,n=e.x,i=e.y,o=e.right,a=e.bottom,s=e.width,l=e.height,c=Math.PI-this.angle,u=s/(1+2*Math.cos(c)),h=l/(1+2*Math.cos(c)),d=n+(s-u)/2,p=d+u,f=i+(l-h)/2,m=f+h;return[new r.PathPrimitive([new r.PathPrimitiveMoveToCommand(d,i),new r.PathPrimitiveLineToCommand(p,i),new r.PathPrimitiveLineToCommand(o,f),new r.PathPrimitiveLineToCommand(o,m),new r.PathPrimitiveLineToCommand(p,a),new r.PathPrimitiveLineToCommand(d,a),new r.PathPrimitiveLineToCommand(n,m),new r.PathPrimitiveLineToCommand(n,f),new r.PathPrimitiveClosePathCommand],t.style)]},e.prototype.calculateHeight=function(t){return t},e.prototype.getTextRectangle=function(t){var e=l.GeometryUtils.getMaxRectangleEnscribedInEllipse(t.size);return c.Rectangle.fromGeometry(t.position.clone().offset((t.size.width-e.width)/2,(t.size.height-e.height)/2),e)},e.prototype.getSizeByText=function(t,e){return l.GeometryUtils.getEllipseByEnscribedRectangle(t)},e}(s.PolygonShapeDescription);e.OctagonShapeDescription=u},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.StarShapeDescription=e.StarConvexParameterName=void 0;var r=n(5),a=n(1),s=n(122),l=n(37),c=n(30),u=n(0),h=n(9);e.StarConvexParameterName="sc";var d=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),Object.defineProperty(n.prototype,"key",{get:function(){return a.ShapeTypes.Star},enumerable:!1,configurable:!0}),n.prototype.createShapePrimitives=function(t){var n=t.rectangle,i=n.x,o=n.y,a=n.right,s=n.width,l=n.height,c=this.getActualBottom(o,n.bottom,s,l),u=n.center.x,h=o+(c-o)/2,d=l/s,p=Math.PI-this.angle,f=s/2*Math.tan(p/2)*d,m=o+f,g=(l-f)/Math.tan(p)/d,v=i+g,y=a-g,_=t.parameters.get(e.StarConvexParameterName).value,b=this.getInnerPointDistance(u,u,a,h,o,m);return[new r.PathPrimitive([new r.PathPrimitiveMoveToCommand(u,o),new r.PathPrimitiveLineToCommand(this.getInnerPointPos(u,u,a,_,b),this.getInnerPointPos(h,o,m,_,b)),new r.PathPrimitiveLineToCommand(a,m),new r.PathPrimitiveLineToCommand(this.getInnerPointPos(u,a,y,_,b),this.getInnerPointPos(h,m,c,_,b)),new r.PathPrimitiveLineToCommand(y,c),new r.PathPrimitiveLineToCommand(this.getInnerPointPos(u,y,v,_,b),this.getInnerPointPos(h,c,c,_,b)),new r.PathPrimitiveLineToCommand(v,c),new r.PathPrimitiveLineToCommand(this.getInnerPointPos(u,v,i,_,b),this.getInnerPointPos(h,c,m,_,b)),new r.PathPrimitiveLineToCommand(i,m),new r.PathPrimitiveLineToCommand(this.getInnerPointPos(u,i,u,_,b),this.getInnerPointPos(h,m,o,_,b)),new r.PathPrimitiveClosePathCommand],t.style)]},n.prototype.createParameters=function(t){t.addRange([new l.ShapeParameter(e.StarConvexParameterName,300)])},n.prototype.normalizeParameters=function(t,n){var i=t.rectangle,o=i.y,r=i.right,a=i.width,s=i.height,l=this.getActualBottom(o,i.bottom,a,s),c=i.center.x,u=o+(l-o)/2,h=s/a,d=Math.PI-this.angle,p=o+a/2*Math.tan(d/2)*h,f=this.getInnerPointDistance(c,c,r,u,o,p);this.changeParameterValue(n,e.StarConvexParameterName,function(t){return Math.max(0,Math.min(f,t.value))})},n.prototype.modifyParameters=function(t,n,i,o){var r=Math.sqrt(Math.pow(i,2)+Math.pow(o,2));(i<0||o>0)&&(r=-r),this.changeParameterValue(n,e.StarConvexParameterName,function(t){return t.value+r}),this.normalizeParameters(t,n)},n.prototype.getParameterPoints=function(t){var n=t.rectangle,i=n.y,o=n.right,r=n.width,a=n.height,s=this.getActualBottom(i,n.bottom,r,a),l=n.center.x,h=i+(s-i)/2,d=a/r,p=Math.PI-this.angle,f=i+r/2*Math.tan(p/2)*d,m=t.parameters.get(e.StarConvexParameterName).value,g=this.getInnerPointDistance(l,l,o,h,i,f),v=this.getInnerPointPos(l,l,o,m,g),y=this.getInnerPointPos(h,i,f,m,g);return[new c.ShapeParameterPoint("c",new u.Point(v,y))]},n.prototype.processConnectionPoint=function(n,i){if(t.prototype.processConnectionPoint.call(this,n,i),n.getConnectionPointSide(i)===h.ConnectionPointSide.South){var o=n.rectangle,r=o.y,a=o.right,s=o.width,l=o.height,c=this.getActualBottom(r,o.bottom,s,l),u=o.center.x,d=r+(c-r)/2,p=l/s,f=Math.PI-this.angle,m=r+s/2*Math.tan(f/2)*p,g=n.parameters.get(e.StarConvexParameterName).value,v=this.getInnerPointDistance(u,u,a,d,r,m);i.y=this.getInnerPointPos(d,c,c,g,v)}},n.prototype.getInnerPointDistanceByAxis=function(t,e,n){return Math.min(e,n)+Math.abs(e-n)/2-t},n.prototype.getInnerPointPos=function(t,e,n,i,o){var r=Math.min(1,i/o);return t+this.getInnerPointDistanceByAxis(t,e,n)*r},n.prototype.getInnerPointDistance=function(t,e,n,i,o,r){var a=this.getInnerPointDistanceByAxis(t,e,n),s=this.getInnerPointDistanceByAxis(i,o,r);return Math.sqrt(Math.pow(a,2)+Math.pow(s,2))},n.prototype.getActualBottom=function(e,n,i,o){var r=e+t.prototype.calculateHeight.call(this,i)*o/i;return r<n?r:n},n.prototype.calculateHeight=function(t){return t},n}(s.PentagonShapeDescription);e.StarShapeDescription=d},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ArrowDownShapeDescription=void 0;var r=n(5),a=n(30),s=n(0),l=n(92),c=n(1),u=n(9),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return c.ShapeTypes.ArrowDown},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(t){var e=t.rectangle,n=e.x,i=e.y,o=e.right,a=e.bottom,s=e.width,c=e.height,u=e.center.x,h=(s-t.parameters.get(l.ArrowVerticalLineWidthParameterName).value)/2,d=c-t.parameters.get(l.ArrowVerticalTriangleHeightParameterName).value,p=t.normalizeX(n+h),f=t.normalizeY(i+d),m=t.normalizeX(o-h);return[new r.PathPrimitive([new r.PathPrimitiveMoveToCommand(p,i),new r.PathPrimitiveLineToCommand(m,i),new r.PathPrimitiveLineToCommand(m,f),new r.PathPrimitiveLineToCommand(o,f),new r.PathPrimitiveLineToCommand(u,a),new r.PathPrimitiveLineToCommand(n,f),new r.PathPrimitiveLineToCommand(p,f),new r.PathPrimitiveClosePathCommand],t.style)]},e.prototype.modifyParameters=function(t,e,n,i){this.changeParameterValue(e,l.ArrowVerticalTriangleHeightParameterName,function(t){return t.value-i}),this.changeParameterValue(e,l.ArrowVerticalLineWidthParameterName,function(t){return t.value-2*n}),this.normalizeParameters(t,e)},e.prototype.getParameterPoints=function(t){return[new a.ShapeParameterPoint("c",new s.Point(t.normalizeX(t.position.x+(t.size.width-t.parameters.get(l.ArrowVerticalLineWidthParameterName).value)/2),t.normalizeY(t.position.y+t.size.height-t.parameters.get(l.ArrowVerticalTriangleHeightParameterName).value)))]},e.prototype.processConnectionPoint=function(e,n){var i=e.parameters.get(l.ArrowVerticalTriangleHeightParameterName).value;if(n.y>e.position.y+e.size.height-i){var o=e.size.width/2/i,r=(n.y-(e.position.y+e.size.height-i))*o,a=e.getConnectionPointSide(n);a===u.ConnectionPointSide.East?n.x-=r:a===u.ConnectionPointSide.West&&(n.x+=r)}else t.prototype.processConnectionPoint.call(this,e,n)},e}(l.ArrowVerticalShapeDescription);e.ArrowDownShapeDescription=h},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ArrowLeftRightShapeDescription=void 0;var r=n(5),a=n(93),s=n(30),l=n(0),c=n(1),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return c.ShapeTypes.ArrowLeftRight},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(t){var e=t.rectangle,n=e.x,i=e.y,o=e.right,s=e.bottom,l=e.height,c=e.center.y,u=t.parameters.get(a.ArrowVerticalTriangleWidthParameterName).value,h=(l-t.parameters.get(a.ArrowVerticalLineHeightParameterName).value)/2,d=t.normalizeX(n+u),p=t.normalizeY(i+h),f=t.normalizeX(o-u),m=t.normalizeY(s-h);return[new r.PathPrimitive([new r.PathPrimitiveMoveToCommand(n,c),new r.PathPrimitiveLineToCommand(d,i),new r.PathPrimitiveLineToCommand(d,p),new r.PathPrimitiveLineToCommand(f,p),new r.PathPrimitiveLineToCommand(f,i),new r.PathPrimitiveLineToCommand(o,c),new r.PathPrimitiveLineToCommand(f,s),new r.PathPrimitiveLineToCommand(f,m),new r.PathPrimitiveLineToCommand(d,m),new r.PathPrimitiveLineToCommand(d,s),new r.PathPrimitiveClosePathCommand],t.style)]},e.prototype.normalizeParameters=function(t,e){this.changeParameterValue(e,a.ArrowVerticalTriangleWidthParameterName,function(e){return Math.max(0,Math.min(t.size.width/2-2*t.strokeWidth,e.value))}),this.changeParameterValue(e,a.ArrowVerticalLineHeightParameterName,function(e){return Math.max(0,Math.min(t.size.height,e.value))})},e.prototype.modifyParameters=function(t,e,n,i){this.changeParameterValue(e,a.ArrowVerticalTriangleWidthParameterName,function(t){return t.value+n}),this.changeParameterValue(e,a.ArrowVerticalLineHeightParameterName,function(t){return t.value-2*i}),this.normalizeParameters(t,e)},e.prototype.getParameterPoints=function(t){return[new s.ShapeParameterPoint("c",new l.Point(t.normalizeX(t.position.x+t.parameters.get(a.ArrowVerticalTriangleWidthParameterName).value),t.normalizeY(t.position.y+(t.size.height-t.parameters.get(a.ArrowVerticalLineHeightParameterName).value)/2)))]},e}(a.ArrowHorizontalShapeDescription);e.ArrowLeftRightShapeDescription=u},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ArrowLeftShapeDescription=void 0;var r=n(5),a=n(93),s=n(30),l=n(0),c=n(1),u=n(9),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return c.ShapeTypes.ArrowLeft},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(t){var e=t.rectangle,n=e.x,i=e.y,o=e.right,s=e.bottom,l=e.height,c=e.center.y,u=t.parameters.get(a.ArrowVerticalTriangleWidthParameterName).value,h=(l-t.parameters.get(a.ArrowVerticalLineHeightParameterName).value)/2,d=t.normalizeX(n+u),p=t.normalizeY(i+h),f=t.normalizeY(s-h);return[new r.PathPrimitive([new r.PathPrimitiveMoveToCommand(n,c),new r.PathPrimitiveLineToCommand(d,i),new r.PathPrimitiveLineToCommand(d,p),new r.PathPrimitiveLineToCommand(o,p),new r.PathPrimitiveLineToCommand(o,f),new r.PathPrimitiveLineToCommand(d,f),new r.PathPrimitiveLineToCommand(d,s),new r.PathPrimitiveClosePathCommand],t.style)]},e.prototype.modifyParameters=function(t,e,n,i){this.changeParameterValue(e,a.ArrowVerticalTriangleWidthParameterName,function(t){return t.value+n}),this.changeParameterValue(e,a.ArrowVerticalLineHeightParameterName,function(t){return t.value-2*i}),this.normalizeParameters(t,e)},e.prototype.getParameterPoints=function(t){return[new s.ShapeParameterPoint("c",new l.Point(t.normalizeX(t.position.x+t.parameters.get(a.ArrowVerticalTriangleWidthParameterName).value),t.normalizeY(t.position.y+(t.size.height-t.parameters.get(a.ArrowVerticalLineHeightParameterName).value)/2)))]},e.prototype.processConnectionPoint=function(e,n){var i=e.parameters.get(a.ArrowVerticalTriangleWidthParameterName).value;if(n.x<e.position.x+i){var o=e.size.height/2/i,r=(e.position.x+i-n.x)*o,s=e.getConnectionPointSide(n);s===u.ConnectionPointSide.North?n.y+=r:s===u.ConnectionPointSide.South&&(n.y-=r)}else t.prototype.processConnectionPoint.call(this,e,n)},e}(a.ArrowHorizontalShapeDescription);e.ArrowLeftShapeDescription=h},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MultipleDocumentsShapeDescription=void 0;var r=n(1),a=n(5),s=n(125),l=n(56),c=n(17),u=n(7),h=n(2),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return r.ShapeTypes.MultipleDocuments},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepRatioOnAutoSize",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(t,n){var i=t.rectangle,o=t.rectangle,r=o.width,a=o.height,s=n?e.documentsOffsetRatioForToolbox:e.documentsOffsetRatio,l=Math.ceil(r*s),u=Math.ceil(a*s),h=(i=i.clone().inflate(-l,-u).clone().moveRectangle(-l,-u)).clone().moveRectangle(l,u),d=h.clone().moveRectangle(l,u),p=c.RenderUtils.generateSvgElementId("clipRect");return[].concat(this.createDocumentPrimitives(i,t.style,p+"1",h)).concat(this.createDocumentPrimitives(h,t.style,p+"2",d)).concat(this.createDocumentPrimitives(d,t.style))},e.prototype.createDocumentPrimitives=function(t,e,n,i){var o=t.x,r=t.y,c=t.right,u=t.bottom,h=t.width,d=t.height,p=t.center.x,f=d*s.DocumentShapeDescription.curveOffsetRatio,m=[];return m=m.concat([new a.PathPrimitive([new a.PathPrimitiveMoveToCommand(o,r),new a.PathPrimitiveLineToCommand(c,r),new a.PathPrimitiveLineToCommand(c,u),new a.PathPrimitiveQuadraticCurveToCommand(c-.25*h,u-2*f,p,u-f),new a.PathPrimitiveQuadraticCurveToCommand(o+.25*h,u+f,o,u-f),new a.PathPrimitiveClosePathCommand],e,void 0,i&&n)]),i&&n&&(m=m.concat([new l.ClipPathPrimitive(n,[new a.PathPrimitive([new a.PathPrimitiveMoveToCommand(o-e.strokeWidth,r-e.strokeWidth),new a.PathPrimitiveLineToCommand(c+e.strokeWidth,r-e.strokeWidth),new a.PathPrimitiveLineToCommand(c+e.strokeWidth,i.y),new a.PathPrimitiveLineToCommand(i.x,i.y),new a.PathPrimitiveLineToCommand(i.x,u+e.strokeWidth),new a.PathPrimitiveLineToCommand(o-e.strokeWidth,u+e.strokeWidth),new a.PathPrimitiveClosePathCommand])])])),m},e.prototype.getTextRectangle=function(t){var n=t.rectangle,i=n.width*e.documentsOffsetRatio,o=n.height*e.documentsOffsetRatio;return(n=n.clone().inflate(-i,-o).clone().moveRectangle(-i,-o)).clone().moveRectangle(2*i+u.ShapeTextPadding,2*o+u.ShapeTextPadding).clone().resize(-2*u.ShapeTextPadding,-n.height*s.DocumentShapeDescription.curveOffsetRatio-2*u.ShapeTextPadding)},e.prototype.getSizeByText=function(t,n){return new h.Size((t.width+2*u.ShapeTextPadding)/(1-2*e.documentsOffsetRatio),(t.height+2*u.ShapeTextPadding)/((1-s.DocumentShapeDescription.curveOffsetRatio)*(1-e.documentsOffsetRatio))).nonNegativeSize()},e.documentsOffsetRatio=.1,e.documentsOffsetRatioForToolbox=.16,e}(s.DocumentShapeDescription);e.MultipleDocumentsShapeDescription=d},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PreparationShapeDescription=void 0;var r=n(1),a=n(2),s=n(7),l=function(t){function e(){var e=t.call(this,!0)||this;return e.defaultSize=new a.Size(s.ShapeDefaultDimension,.75*s.ShapeDefaultDimension),e}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return r.ShapeTypes.Preparation},enumerable:!1,configurable:!0}),e}(n(123).HexagonShapeDescription);e.PreparationShapeDescription=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.HardDiskShapeDescription=void 0;var r=n(19),a=n(1),s=n(5),l=n(55),c=n(7),u=n(2),h=function(t){function e(){return t.call(this,void 0,!0)||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return a.ShapeTypes.HardDisk},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepRatioOnAutoSize",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(t){var n=t.rectangle,i=n.x,o=n.y,r=n.right,a=n.bottom,c=n.width,u=n.center.y,h=c*e.arcWidthRatio;return[new s.PathPrimitive([new s.PathPrimitiveMoveToCommand(r-h/2,o),new s.PathPrimitiveLineToCommand(i+h/2,o),new s.PathPrimitiveArcToCommand(h/2,(a-o)/2,0,!1,!1,i+h/2,a),new s.PathPrimitiveLineToCommand(r-h/2,a)],t.style),new l.EllipsePrimitive(r-h/2,u,h/2,(a-o)/2,t.style)]},e.prototype.getTextRectangle=function(t){var n=t.rectangle,i=n.width*e.arcWidthRatio*1.5;return n.clone().resize(-i-2*c.ShapeTextPadding,-2*c.ShapeTextPadding).moveRectangle(c.ShapeTextPadding,c.ShapeTextPadding).nonNegativeSize()},e.prototype.getSizeByText=function(t,n){return new u.Size((t.width+2*c.ShapeTextPadding)/(1-1.5*e.arcWidthRatio),n.size.height+c.ShapeTextPadding)},e.arcWidthRatio=.2,e}(r.RectangleShapeDescription);e.HardDiskShapeDescription=h},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DatabaseShapeDescription=void 0;var r=n(19),a=n(1),s=n(5),l=n(55),c=function(t){function e(){var e=t.call(this,void 0,!0)||this;return e.defaultSize.width=e.defaultSize.height,e}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return a.ShapeTypes.Database},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepRatioOnAutoSize",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(t){var n=t.rectangle,i=n.x,o=n.y,r=n.right,a=n.bottom,c=n.height,u=n.center.x,h=c*e.arcWidthRatio;return[new s.PathPrimitive([new s.PathPrimitiveMoveToCommand(r,o+h/2),new s.PathPrimitiveLineToCommand(r,a-h/2),new s.PathPrimitiveArcToCommand((r-i)/2,h/2,0,!1,!0,i,a-h/2),new s.PathPrimitiveLineToCommand(i,o+h/2)],t.style),new l.EllipsePrimitive(u,o+h/2,(r-i)/2,h/2,t.style)]},e.prototype.getTextRectangle=function(t){var n=t.rectangle,i=n.height*e.arcWidthRatio;return n.clone().resize(0,-i).clone().moveRectangle(0,i)},e.arcWidthRatio=.2,e}(r.RectangleShapeDescription);e.DatabaseShapeDescription=c},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.InternalStorageShapeDescription=e.InternalStorageVerticalEdgeParameterName=e.InternalStorageHorizontalEdgeParameterName=void 0;var r=n(19),a=n(1),s=n(37),l=n(30),c=n(0),u=n(5);e.InternalStorageHorizontalEdgeParameterName="he",e.InternalStorageVerticalEdgeParameterName="ve";var h=function(t){function n(){return t.call(this,void 0,!0)||this}return o(n,t),Object.defineProperty(n.prototype,"key",{get:function(){return a.ShapeTypes.InternalStorage},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"keepRatioOnAutoSize",{get:function(){return!1},enumerable:!1,configurable:!0}),n.prototype.createShapePrimitives=function(n){var i=n.rectangle,o=i.x,r=i.y,a=i.right,s=i.bottom,l=o+n.parameters.get(e.InternalStorageHorizontalEdgeParameterName).value,c=r+n.parameters.get(e.InternalStorageVerticalEdgeParameterName).value;return t.prototype.createShapePrimitives.call(this,n).concat([new u.PathPrimitive([new u.PathPrimitiveMoveToCommand(l,r),new u.PathPrimitiveLineToCommand(l,s),new u.PathPrimitiveMoveToCommand(o,c),new u.PathPrimitiveLineToCommand(a,c)],n.style)])},n.prototype.createParameters=function(t){t.addRange([new s.ShapeParameter(e.InternalStorageHorizontalEdgeParameterName,.1*this.defaultSize.width),new s.ShapeParameter(e.InternalStorageVerticalEdgeParameterName,.1*this.defaultSize.width)])},n.prototype.normalizeParameters=function(t,i){this.changeParameterValue(i,e.InternalStorageHorizontalEdgeParameterName,function(e){return Math.max(n.minEdge,Math.min(.3*t.size.width,e.value))}),this.changeParameterValue(i,e.InternalStorageVerticalEdgeParameterName,function(e){return Math.max(n.minEdge,Math.min(.3*t.size.height,e.value))})},n.prototype.modifyParameters=function(t,n,i,o){this.changeParameterValue(n,e.InternalStorageHorizontalEdgeParameterName,function(t){return t.value+i}),this.changeParameterValue(n,e.InternalStorageVerticalEdgeParameterName,function(t){return t.value+o}),this.normalizeParameters(t,n)},n.prototype.getParameterPoints=function(t){return[new l.ShapeParameterPoint("c",new c.Point(t.normalizeX(t.position.x+t.parameters.get(e.InternalStorageHorizontalEdgeParameterName).value),t.normalizeY(t.position.y+t.parameters.get(e.InternalStorageVerticalEdgeParameterName).value)))]},n.prototype.getTextRectangle=function(t){var n=t.rectangle,i=t.parameters.get(e.InternalStorageHorizontalEdgeParameterName).value;return n.clone().resize(-i,0).clone().moveRectangle(i,0)},n.minEdge=72,n}(r.RectangleShapeDescription);e.InternalStorageShapeDescription=h},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PaperTapeShapeDescription=void 0;var r=n(19),a=n(1),s=n(5),l=n(9),c=n(7),u=n(2),h=function(t){function e(){return t.call(this,void 0,!0)||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return a.ShapeTypes.PaperTape},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepRatioOnAutoSize",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(t){return this.createDocumentPrimitives(t.rectangle,t.style)},e.prototype.createDocumentPrimitives=function(t,n){var i=t.x,o=t.y,r=t.right,a=t.bottom,l=t.width,c=t.height,u=t.center.x,h=c*e.curveOffsetRatio;return[].concat([new s.PathPrimitive([new s.PathPrimitiveMoveToCommand(i,o),new s.PathPrimitiveQuadraticCurveToCommand(i+.25*l,o+2*h,u,o+h),new s.PathPrimitiveQuadraticCurveToCommand(r-.25*l,o-h,r,o+h),new s.PathPrimitiveLineToCommand(r,a),new s.PathPrimitiveQuadraticCurveToCommand(r-.25*l,a-2*h,u,a-h),new s.PathPrimitiveQuadraticCurveToCommand(i+.25*l,a+h,i,a-h),new s.PathPrimitiveClosePathCommand],n)])},e.prototype.processConnectionPoint=function(t,n){var i=t.getConnectionPointSide(n);i===l.ConnectionPointSide.North&&(n.y+=t.size.height*e.curveOffsetRatio),i===l.ConnectionPointSide.South&&(n.y-=t.size.height*e.curveOffsetRatio)},e.prototype.getTextRectangle=function(t){var n=t.rectangle;return n.clone().inflate(c.ShapeTextPadding,-n.height*e.curveOffsetRatio)},e.prototype.getSizeByText=function(t,n){return new u.Size(t.width+2*c.ShapeTextPadding,t.height/(1-2*e.curveOffsetRatio))},e.curveOffsetRatio=.1,e}(r.RectangleShapeDescription);e.PaperTapeShapeDescription=h},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ManualOperationShapeDescription=void 0;var r=n(19),a=n(1),s=n(5),l=n(9),c=n(7),u=function(t){function e(){return t.call(this,void 0,!0)||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return a.ShapeTypes.ManualOperation},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepRatioOnAutoSize",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(t){var n=t.rectangle,i=t.rectangle,o=i.x,r=i.y,a=i.right,l=i.bottom,c=i.width,u=i.height,h=Math.min(Math.max(0,u/Math.tan(e.slopeAngle)),c),d=n.center.x,p=Math.min(o+h,d),f=Math.max(a-h,d);return[new s.PathPrimitive([new s.PathPrimitiveMoveToCommand(o,r),new s.PathPrimitiveLineToCommand(a,r),new s.PathPrimitiveLineToCommand(f,l),new s.PathPrimitiveLineToCommand(p,l),new s.PathPrimitiveClosePathCommand],t.style)]},e.prototype.processConnectionPoint=function(t,n){var i=t.size.height/Math.tan(e.slopeAngle),o=t.getConnectionPointSide(n);o===l.ConnectionPointSide.East?n.x-=i/2:o===l.ConnectionPointSide.West&&(n.x+=i/2)},e.prototype.getTextRectangle=function(t){var n=Math.min(Math.max(0,t.size.height/Math.tan(e.slopeAngle)),t.size.width);return t.rectangle.clone().moveRectangle(n,c.ShapeTextPadding).resize(2*-n,2*-c.ShapeTextPadding).nonNegativeSize()},e.slopeAngle=81*Math.PI/180,e}(r.RectangleShapeDescription);e.ManualOperationShapeDescription=u},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DelayShapeDescription=void 0;var r=n(19),a=n(1),s=n(5),l=n(3),c=n(7),u=n(2),h=function(t){function e(){var e=t.call(this,void 0,!0)||this;return e.defaultSize.width=e.defaultSize.height,e}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return a.ShapeTypes.Delay},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepRatioOnAutoSize",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(t){var e=t.rectangle,n=e.x,i=e.y,o=e.right,r=e.bottom,a=e.center.x;return[new s.PathPrimitive([new s.PathPrimitiveMoveToCommand(n,i),new s.PathPrimitiveLineToCommand(a,i),new s.PathPrimitiveArcToCommand((o-n)/2,(r-i)/2,0,!1,!0,a,r),new s.PathPrimitiveLineToCommand(n,r),new s.PathPrimitiveClosePathCommand],t.style)]},e.prototype.getTextRectangle=function(t){var e=l.GeometryUtils.getMaxRectangleEnscribedInEllipse(t.size);return t.rectangle.clone().moveRectangle(c.ShapeTextPadding,c.ShapeTextPadding).setSize({width:e.width/2+t.size.width/2-c.ShapeTextPadding,height:e.height/2+t.size.height/2-c.ShapeTextPadding}).nonNegativeSize()},e.prototype.getSizeByText=function(t,e){var n=l.GeometryUtils.getEllipseByEnscribedRectangle(t);return new u.Size(n.width/2+t.width/2+c.ShapeTextPadding,n.height/2+t.height/2+c.ShapeTextPadding)},e.arcWidthRatio=.2,e}(r.RectangleShapeDescription);e.DelayShapeDescription=h},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.StoredDataShapeDescription=void 0;var r=n(19),a=n(1),s=n(5),l=n(7),c=n(2),u=function(t){function e(){return t.call(this,void 0,!0)||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return a.ShapeTypes.StoredData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepRatioOnAutoSize",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(t){var n=t.rectangle,i=n.x,o=n.y,r=n.right,a=n.bottom,l=n.width*e.arcWidthRatio;return[new s.PathPrimitive([new s.PathPrimitiveMoveToCommand(r,o),new s.PathPrimitiveLineToCommand(i+l/2,o),new s.PathPrimitiveArcToCommand(l/2,(a-o)/2,0,!1,!1,i+l/2,a),new s.PathPrimitiveLineToCommand(r,a),new s.PathPrimitiveArcToCommand(l/2,(a-o)/2,0,!1,!0,r,o)],t.style)]},e.prototype.getTextRectangle=function(t){var n=t.rectangle,i=n.width*e.arcWidthRatio/2;return n.clone().resize(-i-2*l.ShapeTextPadding,-2*l.ShapeTextPadding).moveRectangle(l.ShapeTextPadding,l.ShapeTextPadding).nonNegativeSize()},e.prototype.getSizeByText=function(t,n){return new c.Size((t.width+2*l.ShapeTextPadding)/(1-e.arcWidthRatio/2),t.height+2*l.ShapeTextPadding)},e.arcWidthRatio=.2,e}(r.RectangleShapeDescription);e.StoredDataShapeDescription=u},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MergeShapeDescription=void 0;var r=n(1),a=n(13),s=n(124),l=n(5),c=n(7),u=n(2),h=function(t){function e(){return t.call(this,!0)||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return r.ShapeTypes.Merge},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(t){var e=t.rectangle,n=e.x,i=e.y,o=e.right,r=e.bottom;return[new l.PathPrimitive([new l.PathPrimitiveMoveToCommand(n,i),new l.PathPrimitiveLineToCommand(o,i),new l.PathPrimitiveLineToCommand(e.center.x,r),new l.PathPrimitiveClosePathCommand],t.style)]},e.prototype.calculateHeight=function(t){return.75*t},e.prototype.getTextRectangle=function(t){return a.Rectangle.fromGeometry(t.position.clone().offset(t.size.width/4,c.ShapeTextPadding),new u.Size(t.size.width/2,t.size.height/2-c.ShapeTextPadding))},e.prototype.getSizeByText=function(t,e){return new u.Size(2*t.width,2*(t.height+c.ShapeTextPadding))},e}(s.TriangleShapeDescription);e.MergeShapeDescription=h},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DisplayShapeDescription=void 0;var r=n(19),a=n(1),s=n(5),l=n(7),c=function(t){function e(){return t.call(this,void 0,!0)||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return a.ShapeTypes.Display},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepRatioOnAutoSize",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(t){var n=t.rectangle,i=n.x,o=n.y,r=n.right,a=n.bottom,l=n.width,c=n.center.y,u=l*e.arcWidthRatio;return[new s.PathPrimitive([new s.PathPrimitiveMoveToCommand(r-u/2,o),new s.PathPrimitiveLineToCommand(i+u/2,o),new s.PathPrimitiveLineToCommand(i,c),new s.PathPrimitiveLineToCommand(i+u/2,a),new s.PathPrimitiveLineToCommand(r-u/2,a),new s.PathPrimitiveArcToCommand(u/2,(a-o)/2,0,!1,!1,r-u/2,o)],t.style)]},e.prototype.getTextRectangle=function(t){var n=t.size.width*e.arcWidthRatio;return t.rectangle.clone().moveRectangle(n/2,l.ShapeTextPadding).resize(-n,2*-l.ShapeTextPadding).nonNegativeSize()},e.arcWidthRatio=.2,e}(r.RectangleShapeDescription);e.DisplayShapeDescription=c},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.OrShapeDescription=void 0;var r=n(1),a=n(2),s=n(7),l=n(72),c=n(5),u=function(t){function e(){var e=t.call(this,!0)||this;return e.defaultSize=new a.Size(.5*s.ShapeDefaultDimension,.5*s.ShapeDefaultDimension),e}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return r.ShapeTypes.Or},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepRatioOnAutoSize",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enableText",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(e){var n=e.rectangle,i=n.x,o=n.y,r=n.right,a=n.bottom,s=n.center,l=s.x,u=s.y;return[].concat(t.prototype.createShapePrimitives.call(this,e)).concat([new c.PathPrimitive([new c.PathPrimitiveMoveToCommand(l,o),new c.PathPrimitiveLineToCommand(l,a),new c.PathPrimitiveMoveToCommand(i,u),new c.PathPrimitiveLineToCommand(r,u)],e.style)])},e}(l.EllipseShapeDescription);e.OrShapeDescription=u},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SummingJunctionShapeDescription=void 0;var r=n(1),a=n(2),s=n(7),l=n(72),c=n(5),u=function(t){function e(){var e=t.call(this,!0)||this;return e.defaultSize=new a.Size(.5*s.ShapeDefaultDimension,.5*s.ShapeDefaultDimension),e}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return r.ShapeTypes.SummingJunction},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepRatioOnAutoSize",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enableText",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.createShapePrimitives=function(e){var n=e.rectangle,i=n.width,o=n.height,r=n.center,a=r.x,s=r.y,l=i/2,u=o/2,h=Math.atan(u/l),d=1/Math.sqrt(1/Math.pow(l,2)+Math.pow(Math.tan(h),2)/Math.pow(u,2)),p=d*Math.tan(h);return[].concat(t.prototype.createShapePrimitives.call(this,e)).concat([new c.PathPrimitive([new c.PathPrimitiveMoveToCommand(a-d,s-p),new c.PathPrimitiveLineToCommand(a+d,s+p),new c.PathPrimitiveMoveToCommand(a-d,s+p),new c.PathPrimitiveLineToCommand(a+d,s-p)],e.style)])},e}(l.EllipseShapeDescription);e.SummingJunctionShapeDescription=u},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SvgElementPrimitive=void 0;var r=n(15),a=function(t){function e(e,n,i,o,r,a,s,l,c){var u=t.call(this,null,l,void 0,c)||this;return u.x=e,u.y=n,u.width=i,u.height=o,u.createContent=r,u.destroyContent=a,u.data=s,u}return o(e,t),e.prototype.createMainElement=function(){return document.createElementNS(r.svgNS,"svg")},e.prototype.applyElementProperties=function(e,n){this.setUnitAttribute(e,"x",this.x),this.setUnitAttribute(e,"y",this.y),this.setUnitAttribute(e,"width",this.width),this.setUnitAttribute(e,"height",this.height),this.setPositionCorrectionAttribute(e),t.prototype.applyElementProperties.call(this,e,n)},e.prototype.createCustomContent=function(t){this.createContent&&this.createContent(t,this.data)},e.prototype.destroyCustomContent=function(t){this.destroyContent&&this.destroyContent(t)},e}(n(24).SvgPrimitive);e.SvgElementPrimitive=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalContainerDescription=void 0;var r=n(0),a=n(2),s=n(21),l=n(13),c=n(1),u=n(7),h=n(131),d=function(t){function e(){return t.call(this,new a.Size(2*u.ShapeDefaultDimension,1.5*u.ShapeDefaultDimension))||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return c.ShapeTypes.VerticalContainer},enumerable:!1,configurable:!0}),e.prototype.getExpandedSize=function(t){return new a.Size(t.size.width,t.expandedSize.height)},e.prototype.getCollapsedSize=function(t){return new a.Size(t.size.width,h.CONTAINER_HEADER_SIZE+2*t.strokeWidth)},e.prototype.allowResizeVertically=function(t){return t.expanded},e.prototype.createHeaderPrimitives=function(t,e){var n=t.rectangle,i=n.x,o=n.y,r=n.width,a=this.getHeaderSize(t,e),c=[];return c=c.concat([new s.RectanglePrimitive(i,o,r,a,t.style)]),e||(c=c.concat(this.createExpandButtonPrimitives(t,new l.Rectangle(i,o,a,a)))),c},e.prototype.getClientRectangle=function(t){var e=t.rectangle,n=this.getHeaderSize(t);return l.Rectangle.fromGeometry(new r.Point(e.x,e.y+n),new a.Size(e.width,e.height-n))},e.prototype.getTextRectangle=function(t){var e=t.rectangle,n=this.getHeaderSize(t);return l.Rectangle.fromGeometry(new r.Point(e.x+n,e.y),new a.Size(e.width-n,n))},e.prototype.getSizeByText=function(t,e){var n=this.getHeaderSize(e);return new a.Size(Math.max(e.size.width,t.width+n),e.size.height)},e.prototype.getHeaderSize=function(t,e){var n=t.rectangle;return e?n.height*h.CONTAINER_HEADER_TOOLBOX_SIZE_RATIO:h.CONTAINER_HEADER_SIZE+2*t.strokeWidth},e}(h.ContainerDescription);e.VerticalContainerDescription=d},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalContainerDescription=void 0;var r=n(7),a=n(13),s=n(2),l=n(0),c=n(1),u=n(131),h=n(21),d=n(63),p=function(t){function e(){return t.call(this,new s.Size(2*r.ShapeDefaultDimension,1.5*r.ShapeDefaultDimension))||this}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return c.ShapeTypes.HorizontalContainer},enumerable:!1,configurable:!0}),e.prototype.getExpandedSize=function(t){return new s.Size(t.expandedSize.width,t.size.height)},e.prototype.getCollapsedSize=function(t){return new s.Size(u.CONTAINER_HEADER_SIZE+2*t.strokeWidth,t.size.height)},e.prototype.allowResizeHorizontally=function(t){return t.expanded},e.prototype.createHeaderPrimitives=function(t,e){var n=t.rectangle,i=n.x,o=n.y,r=n.height,s=this.getHeaderSize(t,e),l=[];return l=l.concat([new h.RectanglePrimitive(i,o,s,r,t.style)]),e||(l=l.concat(this.createExpandButtonPrimitives(t,new a.Rectangle(i,o,s,s)))),l},e.prototype.getClientRectangle=function(t){var e=t.rectangle,n=this.getHeaderSize(t);return a.Rectangle.fromGeometry(new l.Point(e.x+n,e.y),new s.Size(e.width-n,e.height))},e.prototype.getTextRectangle=function(t){var e=t.rectangle,n=this.getHeaderSize(t);return a.Rectangle.fromGeometry(new l.Point(e.x,e.y+n),new s.Size(n,e.height-n)).nonNegativeSize()},e.prototype.getSizeByText=function(t,e){var n=this.getHeaderSize(e);return new s.Size(e.size.width,Math.max(e.size.height,Math.max(t.width+n,e.size.height)))},e.prototype.getTextEditRectangle=function(t){var e=this.getTextRectangle(t);return a.Rectangle.fromGeometry(new l.Point(e.x,e.y+e.height),new s.Size(e.height,e.width))},e.prototype.getTextAngle=function(){return d.TextAngle.Angle270deg},e.prototype.getHeaderSize=function(t,e){var n=t.rectangle;return e?n.height*u.CONTAINER_HEADER_TOOLBOX_SIZE_RATIO:u.CONTAINER_HEADER_SIZE+2*t.strokeWidth},e}(u.ContainerDescription);e.HorizontalContainerDescription=p},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CardWithImageOnTopDescription=void 0;var r=n(7),a=n(2),s=n(1),l=n(132),c=n(12),u=function(t){function e(){var e=t.call(this,new a.Size(.8*r.ShapeDefaultDimension,r.ShapeDefaultDimension))||this;return e.isTextAfterImage=!0,e.isHorizontal=!1,e}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return s.ShapeTypes.CardWithImageOnTop},enumerable:!1,configurable:!0}),e.prototype.getImageSize=function(t,e,n){var i=t.width/2;c.UnitConverter.twipsToPixels(i)%2==1&&(i-=c.UnitConverter.pixelsToTwips(1));var o=Math.max(0,t.height-(e?0:2*this.getImageMargin(n)));return o=Math.min(i,o),new a.Size(o,o)},e.prototype.getImageSizeByTextBlockSize=function(t){return this.getImageSize(new a.Size(t.width,Number.MAX_VALUE),!0)},e}(l.CardBaseDescription);e.CardWithImageOnTopDescription=u},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.RoundedRectanglePrimitive=void 0;var r=n(15),a=function(t){function e(e,n,i,o,r,a,s,l,c,u){void 0===r&&(r=0),void 0===a&&(a=0);var h=t.call(this,e,n,i,o,s,l,c,u)||this;return h.x=e,h.y=n,h.width=i,h.height=o,h.rx=r,h.ry=a,h}return o(e,t),e.prototype.createMainElement=function(){return document.createElementNS(r.svgNS,"rect")},e.prototype.applyElementProperties=function(e,n){this.setUnitAttribute(e,"rx",this.rx),this.setUnitAttribute(e,"ry",this.ry),t.prototype.applyElementProperties.call(this,e,n)},e}(n(21).RectanglePrimitive);e.RoundedRectanglePrimitive=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectorShapeDescription=void 0;var r=n(1),a=n(2),s=n(7),l=function(t){function e(){var e=t.call(this,!1)||this;return e.defaultSize=new a.Size(.5*s.ShapeDefaultDimension,.5*s.ShapeDefaultDimension),e}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return r.ShapeTypes.Connector},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepRatioOnAutoSize",{get:function(){return!0},enumerable:!1,configurable:!0}),e}(n(72).EllipseShapeDescription);e.ConnectorShapeDescription=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CardWithImageOnRightDescription=e.CardWithImageOnLeftDescription=void 0;var r=n(7),a=n(1),s=n(132),l=n(2),c=function(t){function e(){var e=t.call(this,new l.Size(1.5*r.ShapeDefaultDimension,.5*r.ShapeDefaultDimension))||this;return e.isHorizontal=!0,e}return o(e,t),e.prototype.getToolboxHeightToWidthRatio=function(t,e){return 26/46},e.prototype.getImageSize=function(t,e,n){var i=Math.min(t.height,t.width);return e||(i=Math.max(0,i-2*this.getImageMargin(n))),new l.Size(i,i)},e.prototype.getImageSizeByTextBlockSize=function(t){return this.getImageSize(new l.Size(Number.MAX_VALUE,t.height),!0)},e}(s.CardBaseDescription),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isTextAfterImage=!0,e}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return a.ShapeTypes.CardWithImageOnLeft},enumerable:!1,configurable:!0}),e}(c);e.CardWithImageOnLeftDescription=u;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isTextAfterImage=!1,e}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return a.ShapeTypes.CardWithImageOnRight},enumerable:!1,configurable:!0}),e}(c);e.CardWithImageOnRightDescription=h},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ExportCommand=void 0;var r=n(73),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.executeCore=function(t,e){return e((new r.Exporter).export(this.control.model)),!0},e}(n(57).ExportImportCommandBase);e.ExportCommand=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleFontBoldCommand=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getStyleProperty=function(){return"font-weight"},e.prototype.getStylePropertyValue=function(){return"bold"},e}(n(74).ToggleStyleTextPropertyCommand);e.ToggleFontBoldCommand=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleFontItalicCommand=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getStyleProperty=function(){return"font-style"},e.prototype.getStylePropertyValue=function(){return"italic"},e}(n(74).ToggleStyleTextPropertyCommand);e.ToggleFontItalicCommand=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleFontUnderlineCommand=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getStyleProperty=function(){return"text-decoration"},e.prototype.getStylePropertyValue=function(){return"underline"},e}(n(74).ToggleStyleTextPropertyCommand);e.ToggleFontUnderlineCommand=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeFontNameCommand=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getStyleProperty=function(){return"font-family"},e}(n(96).ChangeStyleTextPropertyCommand);e.ChangeFontNameCommand=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeFontSizeCommand=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getStyleProperty=function(){return"font-size"},e}(n(96).ChangeStyleTextPropertyCommand);e.ChangeFontSizeCommand=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeFontColorCommand=void 0;var r=n(96),a=n(22),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.processParameter=function(t){return a.ColorUtils.stringToHash(t)},e.prototype.getStyleProperty=function(){return"fill"},e}(r.ChangeStyleTextPropertyCommand);e.ChangeFontColorCommand=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeFillColorCommand=void 0;var r=n(75),a=n(22),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.processParameter=function(t){return a.ColorUtils.stringToHash(t)},e.prototype.getStyleProperty=function(){return"fill"},e}(r.ChangeStylePropertyCommand);e.ChangeFillColorCommand=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeStrokeColorCommand=void 0;var r=n(75),a=n(22),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.processParameter=function(t){return a.ColorUtils.stringToHash(t)},e.prototype.getStyleProperty=function(){return"stroke"},e}(r.ChangeStylePropertyCommand);e.ChangeStrokeColorCommand=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.TextRightAlignCommand=e.TextCenterAlignCommand=e.TextLeftAlignCommand=e.ChangeTextAlignCommand=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getStyleProperty=function(){return"text-anchor"},e}(n(74).ToggleStyleTextPropertyCommand);e.ChangeTextAlignCommand=r;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getStylePropertyValue=function(){return"start"},e}(r);e.TextLeftAlignCommand=a;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getStylePropertyValue=function(){return"middle"},e}(r);e.TextCenterAlignCommand=s;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getStylePropertyValue=function(){return"end"},e}(r);e.TextRightAlignCommand=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeConnectorEndLineEndingCommand=e.ChangeConnectorStartLineEndingCommand=void 0;var r=n(136),a=n(32),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getPropertyName=function(){return"startLineEnding"},e.prototype.getPropertyDefaultValue=function(){return a.ConnectorLineEnding.None},e}(r.ChangeConnectorPropertyCommand);e.ChangeConnectorStartLineEndingCommand=s;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getPropertyName=function(){return"endLineEnding"},e.prototype.getPropertyDefaultValue=function(){return a.ConnectorLineEnding.Arrow},e}(r.ChangeConnectorPropertyCommand);e.ChangeConnectorEndLineEndingCommand=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeConnectorLineOptionCommand=void 0;var r=n(136),a=n(32),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getPropertyName=function(){return"lineOption"},e.prototype.getPropertyDefaultValue=function(){return a.ConnectorLineOption.Straight},e}(r.ChangeConnectorPropertyCommand);e.ChangeConnectorLineOptionCommand=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabledInReadOnlyMode=function(){return!0},e.prototype.executeCore=function(t,e){var n=[];return this.control.model.iterateItems(function(t){return n.push(t.key)}),this.control.selection.set(n),!0},e}(n(10).SimpleCommandBase);e.SelectAllCommand=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollIntoViewOnUndoHistoryItem=e.ScrollIntoViewOnRedoHistoryItem=void 0;var r=n(8),a=function(t){function e(e,n){var i=t.call(this)||this;return i.view=e,i.rectangle=n,i.view=e,i.rectangle=n.clone(),i}return o(e,t),e.prototype.redo=function(t){this.view.scrollIntoView(this.rectangle)},e.prototype.undo=function(t){},e}(r.HistoryItem);e.ScrollIntoViewOnRedoHistoryItem=a;var s=function(t){function e(e,n){var i=t.call(this)||this;return i.view=e,i.rectangle=n,i.view=e,i.rectangle=n.clone(),i}return o(e,t),e.prototype.redo=function(t){},e.prototype.undo=function(t){this.view.scrollIntoView(this.rectangle)},e}(r.HistoryItem);e.ScrollIntoViewOnUndoHistoryItem=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tree=void 0;var i=n(38),o=function(){function t(t,e){var n=this;this.childToParent={},this.root=t,this.parentToChildren=e;var i=function(t){if(!Object.prototype.hasOwnProperty.call(e,t))return"continue";e[t].forEach(function(e){return n.childToParent[e.key]=t})};for(var o in e)i(o)}return t.prototype.getChildren=function(t){return t&&this.parentToChildren[t.key]?this.parentToChildren[t.key]:[]},t.prototype.hasChildren=function(t){return this.parentToChildren[t.key]&&this.parentToChildren[t.key].length>0},t.prototype.iterate=function(t){this.iterateCore(this.root,0,t)},t.createSpanningTree=function(e){var n=t.findRoot(e),o=e.createIterator(i.ConnectionMode.Outgoing),r={};return o.skipEdge=function(t){return void 0===t.to||o.isNodeVisited(t.to)},o.onNode=function(t){return r[t.key]=[]},o.onEdge=function(t){var n=e.getNode(t.to);n&&r[t.from].push(n)},o.iterate(n),new t(e.getNode(n),r)},t.prototype.iterateCore=function(t,e,n){var i=this;n(t,e),this.getChildren(t).forEach(function(t){return i.iterateCore(t,e+1,n)})},t.findRoot=function(t){return t.nodes.reduce(function(e,n){var i=t.getAdjacentEdges(n),o=i.filter(function(t){return t.to===n}).length,r=i.filter(function(t){return t.from===n}).length;return(void 0===e.candidate||0===o&&e.inc>0||0!==e.inc&&e.out-e.inc<r-o)&&(e.candidate=n,e.inc=o,e.out=r),e},{inc:-1,out:-1,candidate:void 0}).candidate},t}();e.Tree=o},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeSnapToGridCommand=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.executeCore=function(t,e){var n=void 0===e?!this.control.settings.snapToGrid:!!e;return this.control.settings.snapToGrid!==n&&(this.control.settings.snapToGrid=n,!0)},e.prototype.getValue=function(){return this.control.settings.snapToGrid},e}(n(10).SimpleCommandBase);e.ChangeSnapToGridCommand=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeGridSizeItemsCommand=e.ChangeGridSizeCommand=void 0;var r=n(10),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabledInReadOnlyMode=function(){return!0},e.prototype.getValue=function(){return this.getModelUnit(this.control.settings.gridSize)},e.prototype.executeCore=function(t,e){return this.control.settings.gridSize=this.getModelUnitTwipsValue(e),!0},e.prototype.getItems=function(){var t=this;return this.control.settings.gridSizeItems.map(function(e){return{value:t.getModelUnit(e),text:t.getViewUnitText(e)}})},e}(r.SimpleCommandBase);e.ChangeGridSizeCommand=a;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabledInReadOnlyMode=function(){return!0},e.prototype.getValue=function(){var t=this;return this.control.settings.gridSizeItems.map(function(e){return t.getModelUnit(e)})},e.prototype.executeCore=function(t,e){var n=this;return this.control.settings.gridSizeItems=e.map(function(t){return n.getModelUnitTwipsValue(t)}),!0},e}(r.SimpleCommandBase);e.ChangeGridSizeItemsCommand=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangePageLandscapeCommand=void 0;var r=n(77),a=n(256),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getValue=function(){return this.control.model.pageLandscape},e.prototype.createHistoryItems=function(t){return[new a.ChangePageLandscapeHistoryItem(t)]},e}(r.ChangePagePropertyCommand);e.ChangePageLandscapeCommand=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangePageLandscapeHistoryItem=void 0;var r=function(t){function e(e){var n=t.call(this)||this;return n.value=e,n}return o(e,t),e.prototype.redo=function(t){this.oldValue=t.model.pageLandscape,t.changePageLandscape(this.value)},e.prototype.undo=function(t){t.changePageLandscape(this.oldValue)},e}(n(8).HistoryItem);e.ChangePageLandscapeHistoryItem=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangePageSizeItemsCommand=e.ChangePageSizeCommand=void 0;var r=n(77),a=n(2),s=n(258),l=n(10),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getValue=function(){return this.getModelUnitSize(this.control.model.pageSize)},e.prototype.createHistoryItems=function(t){return[new s.ChangePageSizeHistoryItem(new a.Size(this.getModelUnitTwipsValue(t.width),this.getModelUnitTwipsValue(t.height)))]},e.prototype.getItems=function(){var t=this;return this.control.settings.pageSizeItems.map(function(e){return{value:t.getModelUnitSize(e.size),text:e.text.replace("{width}",t.getViewUnitText(e.size.width)).replace("{height}",t.getViewUnitText(e.size.height))}})},e.prototype.getModelUnitSize=function(t){return new a.Size(this.getModelUnit(t.width),this.getModelUnit(t.height))},e}(r.ChangePagePropertyCommand);e.ChangePageSizeCommand=c;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabled=function(){return!0},e.prototype.getValue=function(){var t=this;return this.control.settings.pageSizeItems.map(function(e){return{size:new a.Size(t.getModelUnit(e.width),t.getModelUnit(e.height)),text:e.text}})},e.prototype.executeCore=function(t,e){var n=this;return this.control.settings.pageSizeItems=e.map(function(t){return{size:new a.Size(n.getModelUnitTwipsValue(t.width),n.getModelUnitTwipsValue(t.height)),text:t.text}}),!0},e}(l.SimpleCommandBase);e.ChangePageSizeItemsCommand=u},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangePageSizeHistoryItem=void 0;var r=function(t){function e(e){var n=t.call(this)||this;return n.size=e,n}return o(e,t),e.prototype.redo=function(t){this.oldSize=t.model.pageSize,t.changePageSize(this.size)},e.prototype.undo=function(t){t.changePageSize(this.oldSize)},e}(n(8).HistoryItem);e.ChangePageSizeHistoryItem=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ExportPngCommand=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getExtension=function(){return"png"},e.prototype.getExportFunc=function(){return this.exporter.exportPng},e}(n(98).ExportImageCommand);e.ExportPngCommand=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function a(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((i=i.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasExportManager=void 0;var s=n(12),l=n(18),c=n(17),u=n(42),h=n(15),d=n(100),p=n(22),f=function(t){function e(e,n){var i=t.call(this,1,new d.ExportDOMManipulator(n))||this;return i.itemsContainer=e,i}return o(e,t),e.prototype.getSvgImage=function(t,e,n,i){var o=h.RenderHelper.createSvgElement(void 0,!0),r=t.clone().applyConverter(s.UnitConverter.twipsToPixelsF).clone().applyConverter(Math.ceil);c.RenderUtils.updateSvgElementSize(o,r.width,r.height,!0),o.style.backgroundColor=p.ColorUtils.colorToHash(e),this.createTextFloodFilter(void 0,o,e);var a=!n&&!l.Browser.IE&&this.getExportCssRules();if(a){var u=document.createElementNS(h.svgNS,"style");u.innerHTML=a,o.appendChild(u)}if(i){var d=document.createElementNS(h.svgNS,"rect");d.setAttributeNS(null,"x","0"),d.setAttributeNS(null,"y","0"),d.setAttributeNS(null,"height",r.height.toString()),d.setAttributeNS(null,"width",r.width.toString()),d.setAttributeNS(null,"fill",o.style.backgroundColor),o.appendChild(d)}for(var f=0;f<this.itemsContainer.childNodes.length;f++){var m=this.itemsContainer.childNodes[f].cloneNode(!0);a||this.inlineStyle(m,this.itemsContainer.childNodes[f]),o.appendChild(m)}return o},e.prototype.getSvgImageUrl=function(t,e,n){var i=this.getSvgImage(t,e,n,!1);return this.getSvgBase64String(i)},e.prototype.getSvgString=function(t){return(new XMLSerializer).serializeToString(t)},e.prototype.getSvgBase64String=function(t){var n=this.getSvgString(t);return e.base64Start+this.getBase64EncodeUnicode(n)},e.prototype.getBase64EncodeUnicode=function(t){return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode(parseInt("0x"+e,16))}))},e.prototype.getExportCssRules=function(){for(var t=0;t<document.styleSheets.length;t++){var e=this.getRules(document.styleSheets[t]);if(e){for(var n="",i=0;i<e.length;i++){var o=e[i],r=this.isCSSStyleRule(o)?o.selectorText:null;r&&this.checkSelector(r)&&(n+=o.cssText+"\n")}if(n.length>0)return"\n"+n}}},e.prototype.checkSelector=function(t){for(var n=0;n<e.exportStyleRules.length;n++)if(0===t.indexOf(e.exportStyleRules[n]))return!0;return!1},e.prototype.getRules=function(t){try{return this.isCSSStyleSheet(t)?t.rules||t.cssRules:null}catch(t){}},e.prototype.isCSSStyleSheet=function(t){return void 0!==t.rules},e.prototype.isCSSStyleRule=function(t){return void 0!==t.selectorText},e.prototype.inlineStyle=function(t,n){for(var i=0;i<t.childNodes.length;i++){var o=t.childNodes[i];if(o.tagName)if("g"===o.tagName)this.inlineStyle(o,n.childNodes[i]);else if(o.style){var r=window.getComputedStyle(n.childNodes[i]);if(void 0!==r)for(var a=0;a<e.exportStyleAttributes.length;a++){var s=e.exportStyleAttributes[a];o.style.setProperty(s,r.getPropertyValue(s))}this.inlineStyle(o,n.childNodes[i])}}},e.prototype.exportSvgImage=function(t,e,n){n(this.getSvgImageUrl(t,e,!0))},e.prototype.exportBinaryImage=function(t,e,n,i,o){var r=this.getAbsoluteSize(t).clone().applyConverter(Math.ceil),a=document.createElement("canvas");a.width=r.width,a.height=r.height;var s=a.getContext("2d");if(s.fillStyle=p.ColorUtils.colorToHash(e),s.fillRect(0,0,r.width,r.height),(o||l.Browser.IE)&&"object"==typeof canvg)this.exportBinaryImageCanvgAsync(t,e,a,s,n).then(function(t){return i(t)});else if(l.Browser.IE&&"function"==typeof canvg)this.exportBinaryImageCanvgOld(t,e,a,s,n,i);else{var c=new Image;c.width=r.width,c.height=r.height,c.setAttribute("crossOrigin","anonymous"),c.onload=function(){s.drawImage(c,0,0),i(a.toDataURL(n,1))},c.src=this.getSvgImageUrl(t,e,!0)}},e.prototype.exportBinaryImageCanvgOld=function(t,e,n,i,o,r){var a=this.getSvgImage(t,e,!0,!1),s=this.getSvgString(a);i.drawSvg(s,0,0,null,null,{renderCallback:function(){r(n.toDataURL(o,1))}})},e.prototype.exportBinaryImageCanvgAsync=function(t,e,n,i,o){return r(this,void 0,void 0,function(){var r,s;return a(this,function(a){switch(a.label){case 0:return r=this.getSvgImage(t,e,!0,!0),s=this.getSvgString(r),[4,canvg.Canvg.fromString(i,s).render()];case 1:return a.sent(),[2,n.toDataURL(o,1)]}})})},e.prototype.exportPngImage=function(t,e,n,i){this.exportBinaryImage(t,e,"image/png",n,i)},e.prototype.exportJpgImage=function(t,e,n,i){this.exportBinaryImage(t,e,"image/jpeg",n,i)},e.prototype.notifyModelChanged=function(t){},e.prototype.notifyPageColorChanged=function(t){},e.prototype.notifyPageSizeChanged=function(t,e){},e.base64Start="data:image/svg+xml;base64,",e.exportStyleRules=[".dxdi-canvas .shape ",".dxdi-canvas .connector ",".dxdi-canvas text",".dxdi-canvas.export"],e.exportStyleAttributes=["fill","stroke","stroke-width","stroke-linejoin","font-family","font-size","font-weight","font-style","text-decoration","text-anchor"],e}(u.CanvasManagerBase);e.CanvasExportManager=f},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ExportSvgCommand=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getExtension=function(){return"svg"},e.prototype.getExportFunc=function(){return this.exporter.exportSvg},e}(n(98).ExportImageCommand);e.ExportSvgCommand=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ExportJpgCommand=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getExtension=function(){return"jpg"},e.prototype.getExportFunc=function(){return this.exporter.exportJpg},e}(n(98).ExportImageCommand);e.ExportJpgCommand=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CopySelectionCommand=void 0;var r=n(73),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&!this.control.selection.isEmpty(!0)},e.prototype.isEnabledInReadOnlyMode=function(){return!0},e.prototype.executeCore=function(t){var e=(new r.Exporter).exportItems(this.control.selection.getSelectedItems(!0,!0));return this.setClipboardData(e),!0},e}(n(101).ClipboardCommand);e.CopySelectionCommand=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CutSelectionCommand=void 0;var r=n(73),a=n(4),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabled=function(){var e=this.control.selection.getSelectedItems();return t.prototype.isEnabled.call(this)&&e.length&&(e.length>1||this.permissionsProvider.canDeleteItems(e))},e.prototype.executeCore=function(t){var e=new r.Exporter,n=this.control.selection.getSelectedItems(!0,!0),i=e.exportItems(n);return this.permissionsProvider.beginDeleteItems(n),this.setClipboardData(i),a.ModelUtils.deleteSelection(this.control.history,this.control.model,this.control.selection),this.permissionsProvider.endDeleteItems(),!0},Object.defineProperty(e.prototype,"isPermissionsRequired",{get:function(){return!0},enumerable:!1,configurable:!0}),e}(n(101).ClipboardCommand);e.CutSelectionCommand=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PasteSelectionCommand=void 0;var r=n(0),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getEventPositionOffset=function(t,e){return new r.Point(0,0)},e}(n(141).PasteSelectionCommandBase);e.PasteSelectionCommand=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ImportShapeHistoryItem=void 0;var r=function(t){function e(e){var n=t.call(this)||this;return n.shape=e,n}return o(e,t),e.prototype.redo=function(t){this.shapeKey=this.shape.key,t.insertShape(this.shape)},e.prototype.undo=function(t){t.removeShape(t.model.findShape(this.shapeKey),!0)},e}(n(8).HistoryItem);e.ImportShapeHistoryItem=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ImportConnectorHistoryItem=void 0;var r=function(t){function e(e){var n=t.call(this)||this;return n.connector=e,n}return o(e,t),e.prototype.redo=function(t){this.connectorKey=this.connector.key,t.insertConnector(this.connector)},e.prototype.undo=function(t){var e=t.model.findConnector(this.connectorKey);t.removeConnector(e)},e}(n(8).HistoryItem);e.ImportConnectorHistoryItem=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ImportBPMNCommand=void 0;var r=n(269),a=n(4),s=n(53),l=n(0),c=n(6),u=n(66),h=n(48),d=n(80),p=n(20),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.executeCore=function(t,e){var n=new r.BPMNImporter(e).import();return this.updateModel(n),!0},e.prototype.updateModel=function(t){var e=this,n={},i=[],o=[];this.control.history.beginTransaction(),t.items.forEach(function(t){var o=new s.AddShapeHistoryItem(e.getShapeDescription(t.type),new l.Point(0,0),t.text,t.key);e.control.history.addAndRedo(o),n[t.key]=o.shapeKey;var r=e.control.model.findShape(o.shapeKey);i.push(r)}),t.edges.forEach(function(t){var i=e.control.model.findShape(n[t.from]),r=e.control.model.findShape(n[t.to]),a=new u.AddConnectorHistoryItem([i.getConnectionPointPosition(0),r.getConnectionPointPosition(0)]);e.control.history.addAndRedo(a);var s=e.control.model.findConnector(a.connectorKey);e.control.history.addAndRedo(new h.AddConnectionHistoryItem(s,i,0,c.ConnectorPosition.Begin)),e.control.history.addAndRedo(new h.AddConnectionHistoryItem(s,r,0,c.ConnectorPosition.End)),o.push(s)});var r=new p.LayoutSettings;a.ModelUtils.getGraphInfoByItems(this.control.model,i,o).forEach(function(t){var n=new d.SugiyamaLayoutBuilder(r,t.graph).build(),s=a.ModelUtils.getNonGraphItems(e.control.model,t.container,n.nodeToLayout,i,o);a.ModelUtils.applyLayout(e.control.history,e.control.model,void 0,t.graph,n,s,r,e.control.settings.snapToGrid,e.control.settings.gridSize,!1)}),a.ModelUtils.tryUpdateModelRectangle(this.control.history),this.control.history.endTransaction()},e.prototype.getShapeDescription=function(t){return this.control.shapeDescriptionManager.get(t)},e}(n(57).ExportImportCommandBase);e.ImportBPMNCommand=f},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BPMNNode=e.BPMNImporter=void 0;var r=n(54),a=n(1),s=n(38),l=n(95),c=function(){function t(t){this.doc=l.ImportUtils.createDocument(t),this.graph=new r.Graph([],[])}return t.prototype.import=function(){for(var t=void 0,e=0;t=this.doc.children[e];e++)"DEFINITIONS"===t.nodeName.toUpperCase()&&this.onDefinitionsElement(t);return this.validate(),this.graph},t.prototype.validate=function(){var t={};this.graph.nodes.forEach(function(e){return t[e]=!0});for(var e=0,n=void 0;n=this.graph.edges[e];e++)t[n.from]&&t[n.to]||(this.graph.edges.splice(e,1),e--)},t.prototype.onDefinitionsElement=function(t){this.dataSourceKey=t.getAttribute("id");for(var e=void 0,n=0;e=t.children[n];n++)"PROCESS"===e.nodeName.toUpperCase()&&this.onProcessElement(e)},t.prototype.onProcessElement=function(t){for(var e=void 0,n=0;e=t.children[n];n++)switch(e.nodeName.toUpperCase()){case"STARTEVENT":this.onStartEventElement(e);break;case"SEQUENCEFLOW":this.onSequenceFlowElement(e);break;case"SCRIPTTASK":this.onScriptTaskElement(e);break;case"USERTASK":this.onUserTaskElement(e);break;case"SERVICETASK":this.onServiceTaskElement(e);break;case"SENDTASK":this.onSendTaskElement(e);break;case"EXCLUSIVEGATEWAY":this.onExclusiveGateway(e);break;case"ENDEVENT":this.onEndEventGateway(e)}},t.prototype.onStartEventElement=function(t){var e=this.createNode(t);e.type=a.ShapeTypes.Ellipse,e.text=t.getAttribute("name"),this.graph.addNode(e)},t.prototype.onSequenceFlowElement=function(t){var e=t.getAttribute("sourceRef"),n=t.getAttribute("targetRef"),i=this.createEdge(t,e,n);t.hasAttribute("name")&&(i.text=t.getAttribute("name")),this.graph.addEdge(i)},t.prototype.onScriptTaskElement=function(t){var e=this.createNode(t);e.text=t.getAttribute("name"),this.graph.addNode(e)},t.prototype.onUserTaskElement=function(t){var e=this.createNode(t);e.text=t.getAttribute("name"),this.graph.addNode(e)},t.prototype.onServiceTaskElement=function(t){var e=this.createNode(t);e.text=t.getAttribute("name"),this.graph.addNode(e)},t.prototype.onSendTaskElement=function(t){var e=this.createNode(t);e.text=t.getAttribute("name"),this.graph.addNode(e)},t.prototype.onExclusiveGateway=function(t){var e=this.createNode(t);e.text=t.getAttribute("name"),e.type=a.ShapeTypes.Decision,this.graph.addNode(e)},t.prototype.onEndEventGateway=function(t){var e=this.createNode(t);e.text=t.getAttribute("name"),e.type=a.ShapeTypes.Ellipse,this.graph.addNode(e)},t.prototype.createNode=function(t){return new u(this.dataSourceKey,t.getAttribute("id"))},t.prototype.createEdge=function(t,e,n){return new h(this.dataSourceKey,t.getAttribute("id"),e,n)},t}();e.BPMNImporter=c;var u=function(t,e){this.sourceKey=t,this.key=e,this.type=a.ShapeTypes.Rectangle};e.BPMNNode=u;var h=function(t){function e(e,n,i,o){var r=t.call(this,n,i,o)||this;return r.sourceKey=e,r}return o(e,t),e}(s.Edge)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CycleRemover=void 0;var i=n(54),o=n(38),r=n(90),a=function(){function t(){}return t.removeCycles=function(t){var e=this.getFeedbackSet(t);return this.reverseEdges(t,e)},t.getFeedbackSet=function(t){for(var e=this,n={},i=this.getNonTrivialStronglyConnectedComponents(t);i.length;)i.forEach(function(t){var i=e.getMaxCyclicEdges(t);i.forEach(function(t){return delete n[t.reverse().getHashKey()]}),i.forEach(function(t){return n[t.getHashKey()]=!0})}),i=this.getNonTrivialStronglyConnectedComponents(this.reverseEdges(t,n).graph);return n},t.getMaxCyclicEdges=function(t){var e={},n={},i={},a=[],s=[],l=t.createIterator(o.ConnectionMode.Outgoing);l.visitEachEdgeOnce=!1,l.onNode=function(t){n[t.key]=!0},l.skipNode=function(t){if(n[t.key]){for(var o=[],r=0;r<a.length;r++){var l=a[r];if(void 0===i[l.key]&&(i[l.key]=0),i[l.key]++,o.push(l),l.from===t.key)break}s.push(o)}return n[t.key]||e[t.key]},l.skipEdge=function(t){return!1},l.onEdge=function(t){a.splice(0,0,t)},l.onAfterEdge=function(t){a.splice(0,1)},l.onAllEdges=function(t){e[t.key]=!0,n[t.key]=!1},l.iterate(t.nodes[0]);var c=new r.HashSet([],function(t){return t.key});return s.forEach(function(t){c.tryPush(t.reduce(function(t,e){return i[e.key]>i[t.key]?e:t},t[0]))}),c.list()},t.reverseEdges=function(t,e){var n=new r.HashSet([],function(t){return t.getHashKey()}),o={},a={};return t.edges.forEach(function(t){e[t.getHashKey()]&&(t=t.reverse(),o[t.key]=!0),n.tryPush(t)||(a[t.key]=!0,delete o[t.key])}),{graph:new i.Graph(t.nodes.map(function(e){return t.getNode(e)}),n.list()),reversedEdges:o,removedEdges:a}},t.getNonTrivialStronglyConnectedComponents=function(t){return this.getStronglyConnectedComponents(t).filter(function(t){return t.edges.length})},t.getStronglyConnectedComponents=function(t){for(var e=this,n=[],i=0,r={},a={},s={},l=[],c={},u=0;u<t.nodes.length;u++){var h=t.nodes[u],d=t.createIterator(o.ConnectionMode.Outgoing);d.visitEachEdgeOnce=!1,d.visitEachNodeOnce=!1,d.onNode=function(t){c[t.key]=!0,n.push(t),s[t.key]=!0,a[t.key]=i,r[t.key]=i,i++},d.skipNode=function(t){return c[t.key]},d.skipEdge=function(t){var e=c[t.to];return e&&s[t.to]&&(a[t.from]=Math.min(a[t.from],r[t.to])),e},d.onAfterEdge=function(t){a[t.from]=Math.min(a[t.from],a[t.to])},d.onAllEdges=function(i,o){o&&a[i.key]===r[i.key]&&l.push(e.getStronglyConnectedComponent(t,i,n,s))},d.iterate(h)}return l},t.getStronglyConnectedComponent=function(t,e,n,r){var a,s={},l=[],c=[];do{a=n.pop(),s[a.key]||l.push(a),s[a.key]=!0,r[a.key]=!1}while(a!==e);return l.forEach(function(e){var n=t.getAdjacentEdges(e.key,o.ConnectionMode.Outgoing);c=c.concat(n.filter(function(t){return!s[t.key]&&s[t.to]})),n.forEach(function(t){return s[t.key]=!0})}),new i.Graph(l,c)},t}();e.CycleRemover=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SendToBackCommand=void 0;var r=n(102),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabled=function(){var e=this.control.selection.getSelectedItems();return t.prototype.isEnabled.call(this)&&e.length>0&&this.needSendToBack(e)},e.prototype.executeCore=function(t,e){var n=this;return this.control.history.beginTransaction(),this.control.selection.getSelectedItems().forEach(function(t){var e=n.control.model.getIntersectItemsMinZIndex(t)-1;n.control.history.addAndRedo(new r.ChangeZindexHistoryItem(t,e))}),this.control.history.endTransaction(),!0},e.prototype.needSendToBack=function(t){for(var e=this,n=function(n){var o=i.control.model.getIntersectItemsMinZIndex(t[n]);if(o<t[n].zIndex)return{value:!0};if(o===t[n].zIndex){var r=!1;return i.control.model.getIntersectItems(t[n]).filter(function(e){return e.zIndex===t[n].zIndex}).forEach(function(i){e.control.model.getItemIndex(i)<e.control.model.getItemIndex(t[n])&&(r=!0)}),{value:r}}},i=this,o=0;o<t.length;o++){var r=n(o);if("object"==typeof r)return r.value}return!1},e}(n(10).SimpleCommandBase);e.SendToBackCommand=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BringToFrontCommand=void 0;var r=n(102),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabled=function(){var e=this.control.selection.getSelectedItems();return t.prototype.isEnabled.call(this)&&e.length>0&&this.needBringToFront(e)},e.prototype.executeCore=function(t,e){var n=this;return this.control.history.beginTransaction(),this.control.selection.getSelectedItems().forEach(function(t){var e=n.control.model.getIntersectItemsMaxZIndex(t)+1;n.control.history.addAndRedo(new r.ChangeZindexHistoryItem(t,e))}),this.control.history.endTransaction(),!0},e.prototype.needBringToFront=function(t){for(var e=this,n=function(n){var o=i.control.model.getIntersectItemsMaxZIndex(t[n]);if(o>t[n].zIndex)return{value:!0};if(o===t[n].zIndex){var r=!1;return i.control.model.getIntersectItems(t[n]).filter(function(e){return e.zIndex===t[n].zIndex}).forEach(function(i){e.control.model.getItemIndex(i)>e.control.model.getItemIndex(t[n])&&(r=!0)}),{value:r}}},i=this,o=0;o<t.length;o++){var r=n(o);if("object"==typeof r)return r.value}return!1},e}(n(10).SimpleCommandBase);e.BringToFrontCommand=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MoveStepDownCommand=e.MoveDownCommand=e.MoveStepUpCommand=e.MoveUpCommand=e.MoveStepRightCommand=e.MoveRightCommand=e.MoveStepLeftCommand=e.MoveLeftCommand=e.MoveCommand=void 0;var r=n(0),a=n(4),s=n(12),l=n(10),c=n(58),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&!this.control.selection.isEmpty()},e.prototype.executeCore=function(t,e){var n=this;this.control.history.beginTransaction();var i=this.control.selection,o=i.getSelectedShapes();o.filter(function(t){for(;t.container;){if(-1!==o.indexOf(t.container))return!1;t=t.container}return!0}).forEach(function(t){n.permissionsProvider.addInteractingItem(t,c.DiagramModelOperation.MoveShape);var e=n.getPosition(t.position);a.ModelUtils.setShapePosition(n.control.history,n.control.model,t,e),a.ModelUtils.updateShapeAttachedConnectors(n.control.history,n.control.model,t),n.permissionsProvider.clearInteractingItems()});var r=a.ModelUtils.createSelectedItems(i);return i.getSelectedConnectors().forEach(function(t){if(a.ModelUtils.canMoveConnector(r,t))for(var e=t.beginItem?1:0,i=t.endItem?t.points.length-2:t.points.length-1,o=e;o<=i;o++){var s=n.getPosition(t.points[o]);a.ModelUtils.moveConnectorPoint(n.control.history,t,o,s)}}),a.ModelUtils.tryUpdateModelRectangle(this.control.history),this.control.history.endTransaction(),!0},Object.defineProperty(e.prototype,"isPermissionsRequired",{get:function(){return!0},enumerable:!1,configurable:!0}),e}(l.SimpleCommandBase);e.MoveCommand=u;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getPosition=function(t){return t.clone().offset(-s.UnitConverter.pixelsToTwips(1),0)},e}(u);e.MoveLeftCommand=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getPosition=function(t){return this.control.settings.snapToGrid?new r.Point(a.ModelUtils.getSnappedPos(this.control.model,this.control.settings.gridSize,t.x-(this.control.settings.gridSize/2+2),!0),t.y):t.clone().offset(-this.control.settings.gridSize,0)},e}(u);e.MoveStepLeftCommand=d;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getPosition=function(t){return t.clone().offset(s.UnitConverter.pixelsToTwips(1),0)},e}(u);e.MoveRightCommand=p;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getPosition=function(t){return this.control.settings.snapToGrid?new r.Point(a.ModelUtils.getSnappedPos(this.control.model,this.control.settings.gridSize,t.x+(this.control.settings.gridSize/2+2),!0),t.y):t.clone().offset(this.control.settings.gridSize,0)},e}(u);e.MoveStepRightCommand=f;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getPosition=function(t){return t.clone().offset(0,-s.UnitConverter.pixelsToTwips(1))},e}(u);e.MoveUpCommand=m;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getPosition=function(t){return this.control.settings.snapToGrid?new r.Point(t.x,a.ModelUtils.getSnappedPos(this.control.model,this.control.settings.gridSize,t.y-(this.control.settings.gridSize/2+2),!1)):t.clone().offset(0,-this.control.settings.gridSize)},e}(u);e.MoveStepUpCommand=g;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getPosition=function(t){return t.clone().offset(0,s.UnitConverter.pixelsToTwips(1))},e}(u);e.MoveDownCommand=v;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getPosition=function(t){return this.control.settings.snapToGrid?new r.Point(t.x,a.ModelUtils.getSnappedPos(this.control.model,this.control.settings.gridSize,t.y+(this.control.settings.gridSize/2+2),!1)):t.clone().offset(0,this.control.settings.gridSize)},e}(u);e.MoveStepDownCommand=y},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleAutoZoomCommand=e.ToggleAutoZoomToWidthCommand=e.ToggleAutoZoomToContentCommand=e.SwitchAutoZoomCommand=e.FitToWidthCommand=e.FitToScreenCommand=e.ChangeZoomLevelItemsCommand=e.ChangeZoomLevelTo200Command=e.ChangeZoomLevelTo150Command=e.ChangeZoomLevelTo125Command=e.ChangeZoomLevelTo100Command=e.ChangeZoomLevelTo75Command=e.ChangeZoomLevelTo50Command=e.ChangeZoomLevelTo25Command=e.ChangeZoomLevelInPercentageCommand=e.ChangeZoomLevelCommand=void 0;var r=n(10),a=n(28),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabledInReadOnlyMode=function(){return!0},e.prototype.getValue=function(){return this.control.view.getZoom()},e.prototype.executeCore=function(t,e){return this.control.settings.zoomLevel=e,this.control.settings.autoZoom=a.AutoZoomMode.Disabled,this.control.updateLayout(!0),!0},e.prototype.getItems=function(){return this.control.settings.zoomLevelItems.map(function(t){return{value:t,text:100*t+"%"}})},e}(r.SimpleCommandBase);e.ChangeZoomLevelCommand=s;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.executeCore=function(e,n){return t.prototype.executeCore.call(this,e,n/100)},e.prototype.getValue=function(){return 100*this.control.view.getZoom()},e}(s);e.ChangeZoomLevelInPercentageCommand=l;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getValue=function(){return this.control.view.getZoom()===this.exactValue},e.prototype.executeCore=function(e,n){return t.prototype.executeCore.call(this,e,this.exactValue),!0},e.prototype.getItems=function(){},e}(s),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.exactValue=.25,e}return o(e,t),e}(c);e.ChangeZoomLevelTo25Command=u;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.exactValue=.5,e}return o(e,t),e}(c);e.ChangeZoomLevelTo50Command=h;var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.exactValue=.75,e}return o(e,t),e}(c);e.ChangeZoomLevelTo75Command=d;var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.exactValue=1,e}return o(e,t),e}(c);e.ChangeZoomLevelTo100Command=p;var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.exactValue=1.25,e}return o(e,t),e}(c);e.ChangeZoomLevelTo125Command=f;var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.exactValue=1.5,e}return o(e,t),e}(c);e.ChangeZoomLevelTo150Command=m;var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.exactValue=2,e}return o(e,t),e}(c);e.ChangeZoomLevelTo200Command=g;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabledInReadOnlyMode=function(){return!0},e.prototype.getValue=function(){return this.control.settings.zoomLevelItems},e.prototype.executeCore=function(t,e){return this.control.settings.zoomLevelItems=e,!0},e}(r.SimpleCommandBase);e.ChangeZoomLevelItemsCommand=v;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&!!this.control.render},e.prototype.isEnabledInReadOnlyMode=function(){return!0},e.prototype.executeCore=function(t){var e=this.getZoomLevel();return this.control.settings.zoomLevel=e,this.control.settings.autoZoom=a.AutoZoomMode.Disabled,this.control.updateLayout(!0),!0},e}(r.SimpleCommandBase),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getZoomLevel=function(){return this.control.render.view.getActualAutoZoomLevel(a.AutoZoomMode.FitContent)},e}(y);e.FitToScreenCommand=_;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getZoomLevel=function(){return this.control.render.view.getActualAutoZoomLevel(a.AutoZoomMode.FitToWidth)},e}(y);e.FitToWidthCommand=b;var C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabledInReadOnlyMode=function(){return!0},e.prototype.getValue=function(){return this.control.settings.autoZoom},e.prototype.executeCore=function(t,e){return e=parseInt(e),this.control.settings.autoZoom!==e&&(e===a.AutoZoomMode.Disabled&&(this.control.settings.zoomLevel=this.control.view.getZoom()),this.control.settings.autoZoom=e,this.control.updateLayout(!0),!0)},e}(r.SimpleCommandBase);e.SwitchAutoZoomCommand=C;var O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getValue=function(){return this.control.settings.autoZoom===a.AutoZoomMode.FitContent},e.prototype.executeCore=function(e,n){return t.prototype.executeCore.call(this,e,a.AutoZoomMode.FitContent)},e}(C);e.ToggleAutoZoomToContentCommand=O;var x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getValue=function(){return this.control.settings.autoZoom===a.AutoZoomMode.FitToWidth},e.prototype.executeCore=function(e,n){return t.prototype.executeCore.call(this,e,a.AutoZoomMode.FitToWidth)},e}(C);e.ToggleAutoZoomToWidthCommand=x;var S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&!!this.control.render},e.prototype.isEnabledInReadOnlyMode=function(){return!0},e.prototype.getValue=function(){return this.control.settings.autoZoom},e.prototype.executeCore=function(t,e){var n;return n=void 0===e?this.control.settings.autoZoom===a.AutoZoomMode.Disabled?a.AutoZoomMode.FitContent:a.AutoZoomMode.Disabled:e?a.AutoZoomMode.FitContent:a.AutoZoomMode.Disabled,this.control.settings.autoZoom!==n&&(n||(this.control.settings.zoomLevel=this.control.view.getZoom()),this.control.settings.autoZoom=n,this.control.updateLayout(!0),!0)},e}(r.SimpleCommandBase);e.ToggleAutoZoomCommand=S},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BindDocumentCommand=void 0;var r=n(103),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabledInReadOnlyMode=function(){return!0},e.prototype.executeCore=function(t,e){if(!e||!Array.isArray(e.nodeDataSource))throw Error("Format exception");return this.performImportData(e),this.control.updateLayout(!0),!0},e.prototype.performImportData=function(t){var e=this.control.createDocumentDataSource(t.nodeDataSource,t.edgeDataSource,t.dataParameters,t.nodeDataImporter,t.edgeDataImporter);this.control.beginUpdateCanvas(),this.permissionsProvider.lockPermissions();var n=new r.DataLayoutParameters(this.control.settings,t.layoutParameters);e.createModelItems(this.control.history,this.control.model,this.control.shapeDescriptionManager,this.control.selection,n,this.control.settings.snapToGrid,this.control.settings.gridSize,this.control.measurer),this.permissionsProvider.unlockPermissions(),this.control.endUpdateCanvas()},e}(n(10).SimpleCommandBase);e.BindDocumentCommand=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.UnbindDocumentCommand=void 0;var r=n(4),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabledInReadOnlyMode=function(){return!0},e.prototype.executeCore=function(t){return this.permissionsProvider.lockPermissions(),this.control.deleteDocumentDataSource(),r.ModelUtils.deleteAllItems(this.control.history,this.control.model,this.control.selection),this.control.history.clear(),this.permissionsProvider.unlockPermissions(),!0},e}(n(10).SimpleCommandBase);e.UnbindDocumentCommand=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LockCommand=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getLockState=function(){return!0},e}(n(145).ChangeLockedCommand);e.LockCommand=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.UnLockCommand=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getLockState=function(){return!1},e}(n(145).ChangeLockedCommand);e.UnLockCommand=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CloneDownCommand=e.CloneUpCommand=e.CloneRightCommand=e.CloneLeftCommand=e.CloneCommand=void 0;var r=n(4),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabled=function(){var e=this.control.selection.getSelectedItems();return t.prototype.isEnabled.call(this)&&e.length&&e.length>0&&this.permissionsProvider.canAddItems(e)},e.prototype.executeCore=function(t,e){var n=r.ModelUtils.createRectangle(this.control.selection.getSelectedItems());return r.ModelUtils.cloneSelectionToOffset(this.control.history,this.control.model,void 0,this.control.selection,this.getOffsetX(n),this.getOffsetY(n)),!0},Object.defineProperty(e.prototype,"isPermissionsRequired",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.getOffsetX=function(t){return 0},e.prototype.getOffsetY=function(t){return 0},e}(n(10).SimpleCommandBase);e.CloneCommand=a;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getOffsetX=function(t){return-t.width},e}(a);e.CloneLeftCommand=s;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getOffsetX=function(t){return t.width},e}(a);e.CloneRightCommand=l;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getOffsetY=function(t){return-t.height},e}(a);e.CloneUpCommand=c;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getOffsetY=function(t){return t.height},e}(a);e.CloneDownCommand=u},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeViewUnitsCommand=e.ChangeUnitsCommand=void 0;var r=n(77),a=n(281),s=n(10),l=n(36),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabledInReadOnlyMode=function(){return!0},e.prototype.getValue=function(){return this.control.model.units},e.prototype.createHistoryItems=function(t){return[new a.ChangeUnitsHistoryItem(t)]},e.prototype.getItems=function(){return Object.keys(l.DiagramLocalizationService.unitItems).map(function(t){return{value:parseInt(t),text:l.DiagramLocalizationService.unitItems[t]}})},e}(r.ChangePagePropertyCommand);e.ChangeUnitsCommand=c;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabledInReadOnlyMode=function(){return!0},e.prototype.getValue=function(){return this.control.settings.viewUnits},e.prototype.executeCore=function(t,e){return this.control.settings.viewUnits=e,!0},e.prototype.getItems=function(){return Object.keys(l.DiagramLocalizationService.unitItems).map(function(t){return{value:parseInt(t),text:l.DiagramLocalizationService.unitItems[t]}})},e}(s.SimpleCommandBase);e.ChangeViewUnitsCommand=u},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeUnitsHistoryItem=void 0;var r=function(t){function e(e){var n=t.call(this)||this;return n.units=e,n}return o(e,t),e.prototype.redo=function(t){this.oldUnits=t.model.units,t.model.units=this.units},e.prototype.undo=function(t){t.model.units=this.oldUnits},e}(n(8).HistoryItem);e.ChangeUnitsHistoryItem=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangePageColorCommand=void 0;var r=n(77),a=n(283),s=n(62),l=n(22),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getValue=function(){return l.ColorUtils.colorToHash(this.control.model.pageColor)},e.prototype.getDefaultValue=function(){return l.ColorUtils.colorToHash(s.DiagramModel.defaultPageColor)},e.prototype.createHistoryItems=function(t){return[new a.ChangePageColorHistoryItem(l.ColorUtils.fromString(t))]},e}(r.ChangePagePropertyCommand);e.ChangePageColorCommand=c},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangePageColorHistoryItem=void 0;var r=function(t){function e(e){var n=t.call(this)||this;return n.value=e,n}return o(e,t),e.prototype.redo=function(t){this.oldValue=t.model.pageColor,t.changePageColor(this.value)},e.prototype.undo=function(t){t.changePageColor(this.oldValue)},e}(n(8).HistoryItem);e.ChangePageColorHistoryItem=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeShowGridCommand=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabledInReadOnlyMode=function(){return!0},e.prototype.executeCore=function(t,e){var n=void 0===e?!this.control.settings.showGrid:!!e;return this.control.settings.showGrid!==n&&(this.control.settings.showGrid=n,!0)},e.prototype.getValue=function(){return this.control.settings.showGrid},e}(n(10).SimpleCommandBase);e.ChangeShowGridCommand=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleFullscreenCommand=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabledInReadOnlyMode=function(){return!0},e.prototype.getValue=function(){return this.control.settings.fullscreen},e.prototype.executeCore=function(t,e){var n="boolean"==typeof e?e:!t.value;return this.control.settings.fullscreen!==n&&(this.control.settings.fullscreen=!t.value,this.control.notifyToggleFullscreen(this.control.settings.fullscreen)),!0},e}(n(10).SimpleCommandBase);e.ToggleFullscreenCommand=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleSimpleViewCommand=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabledInReadOnlyMode=function(){return!0},e.prototype.getValue=function(){return this.control.settings.simpleView},e.prototype.executeCore=function(t,e){return"boolean"==typeof e?this.control.settings.simpleView=e:void 0===e&&(this.control.settings.simpleView=!t.value),this.control.updateLayout(!0),!0},e}(n(10).SimpleCommandBase);e.ToggleSimpleViewCommand=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleReadOnlyCommand=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabledInReadOnlyMode=function(){return!0},e.prototype.getValue=function(){return this.control.settings.readOnly},e.prototype.executeCore=function(t,e){return"boolean"==typeof e?this.control.settings.readOnly=e:void 0===e&&(this.control.settings.readOnly=!t.value),!0},e}(n(10).SimpleCommandBase);e.ToggleReadOnlyCommand=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.EditShapeImageCommand=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabled=function(){var e=this.getSelectedShape();return t.prototype.isEnabled.call(this)&&!e.image.isEmpty},e}(n(104).EditShapeImageCommandBase);e.EditShapeImageCommand=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PasteSelectionInPositionCommand=void 0;var r=n(141),a=n(14),s=n(6),l=n(0),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getEventPositionOffset=function(t,e){var n=t.reduce(function(t,e){return{x:Math.min(t.x,e instanceof a.Shape?e.position.x:e instanceof s.Connector?e.getMinX():Number.MAX_VALUE),y:Math.min(t.y,e instanceof a.Shape?e.position.y:e instanceof s.Connector?e.getMinY():Number.MAX_VALUE)}},{x:Number.MAX_VALUE,y:Number.MAX_VALUE}),i=this.control.render.getModelPointByEventPoint(e.x,e.y);return new l.Point(i.x-n.x,i.y-n.y)},e}(r.PasteSelectionCommandBase);e.PasteSelectionInPositionCommand=c},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ImportXMLCommand=void 0;var r=n(291),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.executeCore=function(t,e){var n=new r.XmlImporter(this.control.shapeDescriptionManager,e).import();return this.control.importModel(n),!0},e}(n(57).ExportImportCommandBase);e.ImportXMLCommand=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.XmlImporter=void 0;var r=n(6),a=n(14),s=n(133),l=n(1),c=n(91),u=n(2),h=n(0),d=n(95),p=n(22),f=n(12),m=function(t){function e(e,n){var i=t.call(this,e)||this;return i.doc=d.ImportUtils.createDocument(n),i}return o(e,t),e.prototype.getObject=function(){return this.doc},e.prototype.getPageObject=function(t){var e=this.doc.querySelectorAll("[ItemKind='DiagramRoot']");return e&&e[0]},e.prototype.getShapeObjects=function(t){var e=[];return this.doc.querySelectorAll("[ItemKind='DiagramRoot'] > Children > [ItemKind='DiagramShape']").forEach(function(t){e.push(t)}),this.doc.querySelectorAll("[ItemKind='DiagramRoot'] > Children > [ItemKind='DiagramContainer']").forEach(function(t){e.push(t)}),e},e.prototype.getConnectorObjects=function(t){var e=[];return this.doc.querySelectorAll("[ItemKind='DiagramRoot'] > Children > [ItemKind='DiagramConnector']").forEach(function(t){e.push(t)}),e},e.prototype.importPageSettings=function(t,e){if(e){var n=e.getAttribute("PageSize"),i=this.getSize(n);i&&(t.size=i.clone(),t.pageSize=i.clone())}},e.prototype.importShape=function(t){var e=t.getAttribute("Position"),n=this.getPoint(e),i=t.getAttribute("Shape"),o=this.getShapeType(i),r=this.shapeDescriptionManager.get(o),s=new a.Shape(r||c.ShapeDescriptionManager.default,n);s.key=this.getItemKey(t);var l=t.getAttribute("Size"),u=this.getSize(l);u&&(s.size=u);var h=t.getAttribute("Content");if("string"==typeof h)s.text=h;else{var d=t.getAttribute("Header");"string"==typeof d&&(s.text=d)}return this.importStyle(t,s),s},e.prototype.importShapeChildren=function(t,e){var n=[];t.setAttribute("dxDiagram",""),this.doc.querySelectorAll("[dxDiagram] > Children > [ItemKind='DiagramShape']").forEach(function(t){n.push(t)}),this.doc.querySelectorAll("[dxDiagram] > Children > [ItemKind='DiagramContainer']").forEach(function(t){n.push(t)}),t.removeAttribute("dxDiagram");var i=[];if(!n)return i;for(var o=0;o<n.length;o++){var r=n[o],a=this.importShape(r);a.key=e.key+","+a.key;var s=e.clientRectangle;a.position=a.position.clone().offset(s.x,s.y),e.childKeys||(e.childKeys=[]),e.childKeys.push(a.key),i.push(a),i=i.concat(this.importShapeChildren(r,a))}return i},e.prototype.importConnector=function(t){var e=this,n=[],i=t.getAttribute("BeginPoint"),o=this.getPoint(i);o&&n.push(o),t.getAttribute("Points").split(" ").forEach(function(t){var i=e.getPoint(t);i&&n.push(i)});var a=t.getAttribute("EndPoint"),s=this.getPoint(a);s&&n.push(s);var l=new r.Connector(n);l.key=this.getItemKey(t);var c=t.getAttribute("EndItemPointIndex"),u=parseInt(c);l.endConnectionPointIndex=isNaN(u)?-1:u;var h=t.getAttribute("BeginItemPointIndex"),d=parseInt(h);l.beginConnectionPointIndex=isNaN(d)?-1:d;var p=t.getAttribute("EndItem");void 0!==p&&this.assert(p,"string");var f=t.getAttribute("BeginItem");void 0!==f&&this.assert(f,"string"),l.endItemKey=p,l.beginItemKey=f;var m=t.getAttribute("Content");return"string"==typeof m&&l.setText(m),this.importStyle(t,l),l},e.prototype.importStyle=function(t,e){var n=t.getAttribute("Background");"string"==typeof n&&(e.style.fill=this.getColor(n));var i=t.getAttribute("Stroke");"string"==typeof i&&(e.style.stroke=this.getColor(i));var o=t.getAttribute("Foreground");"string"==typeof o&&(e.styleText.fill=this.getColor(o));var r=t.getAttribute("FontFamily");"string"==typeof r&&(e.styleText["font-family"]=r);var a=t.getAttribute("FontSize");"string"==typeof a&&(e.styleText["font-size"]=a),"Bold"===t.getAttribute("FontWeight")&&(e.styleText["font-weight"]="bold"),"Italic"===t.getAttribute("FontStyle")&&(e.styleText["font-style"]="italic"),"Underline"===t.getAttribute("TextDecorations")&&(e.styleText["text-decoration"]="underline");var s=t.getAttribute("TextAlignment");"Left"===s?e.styleText["text-anchor"]="start":"Right"===s?e.styleText["text-anchor"]="end":"Center"===s&&(e.styleText["text-anchor"]="middle")},e.prototype.getShapeType=function(t){return e.shapeTypes[t]?e.shapeTypes[t]:t&&t.toLowerCase().indexOf("container")>-1?l.ShapeTypes.VerticalContainer:l.ShapeTypes.Rectangle},e.prototype.getItemKey=function(t){return(parseInt(t.tagName.replace("Item",""))-1).toString()},e.prototype.getNumbers=function(t){var e=t.split(",");return e&&e.length?e.map(function(t){return+t}):[]},e.prototype.getSize=function(t){if(t){var e=this.getNumbers(t);if(e.length>=2)return this.assert(e[0],"number"),this.assert(e[1],"number"),new u.Size(f.UnitConverter.pixelsToTwips(e[0]),f.UnitConverter.pixelsToTwips(e[1]))}},e.prototype.getPoint=function(t){if(t){var e=this.getNumbers(t);if(e.length>=2)return this.assert(e[0],"number"),this.assert(e[1],"number"),new h.Point(f.UnitConverter.pixelsToTwips(e[0]),f.UnitConverter.pixelsToTwips(e[1]))}},e.prototype.getColor=function(t){t="#"===t.charAt(0)?t.substr(1):t;var e=parseInt(t,16);return isNaN(e)?void 0:p.ColorUtils.colorToHash(e)},e.shapeTypes={"BasicShapes.Rectangle":l.ShapeTypes.Rectangle,"BasicShapes.Ellipse":l.ShapeTypes.Ellipse,"BasicShapes.Triangle":l.ShapeTypes.Triangle,"BasicShapes.Pentagon":l.ShapeTypes.Pentagon,"BasicShapes.Hexagon":l.ShapeTypes.Hexagon,"BasicShapes.Octagon":l.ShapeTypes.Octagon,"BasicShapes.Diamond":l.ShapeTypes.Diamond,"BasicShapes.Cross":l.ShapeTypes.Cross,"BasicShapes.Star5":l.ShapeTypes.Star,"BasicFlowchartShapes.StartEnd":l.ShapeTypes.Terminator,"BasicFlowchartShapes.Data":l.ShapeTypes.Data,"BasicFlowchartShapes.Database":l.ShapeTypes.Database,"BasicFlowchartShapes.ExternalData":l.ShapeTypes.StoredData,"BasicFlowchartShapes.Process":l.ShapeTypes.Process,"BasicFlowchartShapes.Decision":l.ShapeTypes.Decision,"BasicFlowchartShapes.Subprocess":l.ShapeTypes.PredefinedProcess,"BasicFlowchartShapes.Document":l.ShapeTypes.Document,"BasicFlowchartShapes.Custom1":l.ShapeTypes.ManualInput,"BasicFlowchartShapes.Custom2":l.ShapeTypes.ManualOperation,"ArrowShapes.SimpleArrow":l.ShapeTypes.ArrowLeft,"ArrowShapes.SimpleDoubleArrow":l.ShapeTypes.ArrowLeftRight},e}(s.ImporterBase);e.XmlImporter=m},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.InsertShapeImageCommand=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabled=function(){var e=this.getSelectedShape();return t.prototype.isEnabled.call(this)&&e.image.isEmpty},e}(n(104).EditShapeImageCommandBase);e.InsertShapeImageCommand=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteShapeImageCommand=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isEnabled=function(){var e=this.getSelectedShape();return t.prototype.isEnabled.call(this)&&!e.image.isEmpty},e.prototype.executeCore=function(e,n){return t.prototype.executeCore.call(this,e,void 0)},e}(n(104).EditShapeImageCommandBase);e.DeleteShapeImageCommand=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeStrokeStyleCommand=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getStyleProperty=function(){return"stroke-dasharray"},e}(n(75).ChangeStylePropertyCommand);e.ChangeStrokeStyleCommand=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeStrokeWidthCommand=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getStyleProperty=function(){return"stroke-width"},e}(n(75).ChangeStylePropertyCommand);e.ChangeStrokeWidthCommand=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AutoLayoutTreeVerticalBottomToTopCommand=void 0;var r=n(20),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.createLayoutSettings=function(){var e=t.prototype.createLayoutSettings.call(this);return e.direction=r.LogicalDirectionKind.Backward,e},e}(n(137).AutoLayoutTreeVerticalCommand);e.AutoLayoutTreeVerticalBottomToTopCommand=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AutoLayoutTreeHorizontalRightToLeftCommand=void 0;var r=n(20),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.createLayoutSettings=function(){var e=t.prototype.createLayoutSettings.call(this);return e.direction=r.LogicalDirectionKind.Backward,e},e}(n(143).AutoLayoutTreeHorizontalCommand);e.AutoLayoutTreeHorizontalRightToLeftCommand=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AutoLayoutLayeredVerticalBottomToTopCommand=void 0;var r=n(20),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.createLayoutSettings=function(){var e=t.prototype.createLayoutSettings.call(this);return e.direction=r.LogicalDirectionKind.Backward,e},e}(n(144).AutoLayoutLayeredVerticalCommand);e.AutoLayoutLayeredVerticalBottomToTopCommand=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AutoLayoutLayeredHorizontalRightToLeftCommand=void 0;var r=n(20),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.createLayoutSettings=function(){var e=t.prototype.createLayoutSettings.call(this);return e.direction=r.LogicalDirectionKind.Backward,e},e}(n(142).AutoLayoutLayeredHorizontalCommand);e.AutoLayoutLayeredHorizontalRightToLeftCommand=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeConnectorRoutingModeCommand=void 0;var r=n(10),a=n(28),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getValue=function(){return this.control.settings.connectorRoutingMode},e.prototype.executeCore=function(t,e){var n=void 0!==e?e:a.ConnectorRoutingMode.None;return this.control.settings.connectorRoutingMode=n,!0},e}(r.SimpleCommandBase);e.ChangeConnectorRoutingModeCommand=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagramControl=void 0;var i=n(0),o=n(302),r=n(82),a=n(303),s=n(62),l=n(332),c=n(335),u=n(336),h=n(337),d=n(91),p=n(345),f=n(28),m=n(16),g=n(349),v=n(4),y=n(350),_=n(3),b=n(353),C=n(46),O=n(354),x=n(368),S=n(79),w=n(6),P=n(103),k=n(379),E=n(17),T=n(58),I=function(){function t(){this.updateLockCount=0,this.shouldUpdateItemsByModel=!1,this.reloadContentNeeded=!1,this.reloadContentParameters=new k.ReloadContentParameters,this.reloadContentByExternalChangesParameters=new k.ReloadContentParameters,this.settings=new f.DiagramSettings,this.shapeDescriptionManager=new d.ShapeDescriptionManager,this.shapeDescriptionManager.onShapeDecriptionChanged.add(this),this.model=new s.DiagramModel,this.selection=new l.Selection(this.model),this.onNativeAction=new _.EventDispatcher,this.apiController=new b.ApiController(this.onNativeAction,this.selection,this.model),this.permissionsProvider=new O.PermissionsProvider(this.apiController),this.permissionsProvider.onRequestOperation.add(this),this.routingModel=new x.ConnectorRoutingModel,this.modelManipulator=new o.ModelManipulator(this.model,this.routingModel,this.permissionsProvider),this.modelManipulator.onModelChanged.add(this.permissionsProvider),this.history=new c.History(this.modelManipulator,this),this.barManager=new u.BarManager(this),this.view=new g.ViewController(this.settings,this.barManager),this.commandManager=new r.CommandManager(this),this.eventManager=new a.EventManager(this),this.settings.onReadOnlyChanged.add(this.eventManager.mouseHandler),this.settings.onReadOnlyChanged.add(this.eventManager.visualizersManager),this.selection.onChanged.add(this.barManager),this.selection.onChanged.add(this.apiController),this.selection.onChanged.add(this.permissionsProvider),this.modelManipulator.commitItemsCreateChanges(),this.history.onChanged.add(this),this.toolboxManager=new y.ToolboxManager(this.shapeDescriptionManager),this.settings.onConnectorRoutingModeChanged.add(this.routingModel),C.ImageCache.instance.onReadyStateChanged.add(this)}return Object.defineProperty(t.prototype,"operationSettings",{get:function(){return this.permissionsProvider.operationSettings},enumerable:!1,configurable:!0}),t.prototype.cleanMarkup=function(t){t=t||function(t){E.RenderUtils.removeElement(t)},this.toolboxManager.clean(t),this.barManager.clean(),this.render&&(this.settings.onZoomChanged.remove(this.render.view),this.settings.onViewChanged.remove(this.render.page),this.settings.onViewChanged.remove(this.render.view),this.settings.onReadOnlyChanged.remove(this.render),this.settings.onReadOnlyChanged.remove(this.render.selection),this.eventManager.cleanToolboxes(this.settings.onReadOnlyChanged),this.eventManager.onTextInputOperation.remove(this.render.input),this.eventManager.onTextInputOperation.remove(this.render.items),this.eventManager.onTextInputOperation.remove(this.render.selection),this.eventManager.onMouseOperation.remove(this.render.items),this.eventManager.onMouseOperation.remove(this.render.selection),this.eventManager.onMouseOperation.remove(this.render.view),this.eventManager.onMouseOperation.remove(this.render),this.eventManager.onVisualizersUpdate.remove(this.render.selection),this.modelManipulator.onModelSizeChanged.remove(this.render.view),this.modelManipulator.onModelSizeChanged.remove(this.render.page),this.modelManipulator.onModelChanged.remove(this.render.items),this.modelManipulator.onModelChanged.remove(this.render.page),this.modelManipulator.onModelChanged.remove(this.render.selection),this.selection.onChanged.remove(this.render.selection),this.selection.onChanged.remove(this.render.items),this.render.clean(t),this.render=void 0),this.measurer&&this.measurer instanceof S.TextMeasurer&&this.measurer.clean()},t.prototype.dispose=function(){C.ImageCache.instance.onReadyStateChanged.remove(this)},t.prototype.createDocument=function(t,e,n){this.measurer||this.initMeasurer(t),this.render?this.render.replaceParent(t,e):(this.render=new h.RenderManager(t,this.eventManager,this.measurer,{pageColor:this.model.pageColor,modelSize:this.model.size,pageLandscape:this.model.pageLandscape,pageSize:this.model.pageSize,simpleView:this.settings.simpleView,readOnly:this.settings.readOnly,contextMenuEnabled:this.settings.contextMenuEnabled,gridSize:this.settings.gridSize,gridVisible:this.settings.showGrid,zoomLevel:this.settings.zoomLevel,autoZoom:this.settings.autoZoom,rectangle:this.model.getRectangle(!0)},e,n),this.settings.onZoomChanged.add(this.render.view),this.settings.onViewChanged.add(this.render.page),this.settings.onViewChanged.add(this.render.view),this.settings.onReadOnlyChanged.add(this.render),this.settings.onReadOnlyChanged.add(this.render.selection),this.eventManager.onTextInputOperation.add(this.render.input),this.eventManager.onTextInputOperation.add(this.render.items),this.eventManager.onTextInputOperation.add(this.render.selection),this.eventManager.onTextInputOperation.add(this),this.eventManager.onMouseOperation.add(this.render.items),this.eventManager.onMouseOperation.add(this.render.selection),this.eventManager.onMouseOperation.add(this.render.view),this.eventManager.onMouseOperation.add(this.render),this.eventManager.onVisualizersUpdate.add(this.render.selection),this.modelManipulator.onModelSizeChanged.add(this.render.view),this.modelManipulator.onModelSizeChanged.add(this.render.page),this.modelManipulator.onModelChanged.add(this.render.items),this.modelManipulator.onModelChanged.add(this.render.page),this.modelManipulator.onModelChanged.add(this.render.selection),this.selection.onChanged.add(this.render.selection),this.selection.onChanged.add(this.render.items),this.render.update(!1),this.render.onNewModel(this.model.items),this.modelManipulator.commitItemsCreateChanges(),this.view.initialize(this.render.view),this.settings.zoomLevelWasChanged&&this.raiseCanvasViewActualZoomChanged(),this.selection.raiseSelectionChanged())},t.prototype.createToolbox=function(t,e,n,i){var o=this.toolboxManager.create(t,this.settings.readOnly,!0,e,n,this.getToolboxAllowedShapeTypes.bind(this),i);this.settings.onReadOnlyChanged.add(o),o.onDragOperation.add(this),o.onDragOperation.add(this.apiController),this.eventManager.registerToolbox(o)},t.prototype.createContextToolbox=function(t,e,n,i,o){this.cleanContextToolbox(),this.contextToolbox=this.toolboxManager.create(t,this.settings.readOnly,!1,e,n,this.getToolboxAllowedShapeTypes.bind(this),i),this.contextToolbox.onClickOperation.add(this),this.contextToolboxOnClick=o},t.prototype.getToolboxAllowedShapeTypes=function(t){var e=this,n=[];return this.permissionsProvider.beginUpdateUI(),t.forEach(function(t){e.permissionsProvider.canAddShapeFromToolbox(t)&&n.push(t)}),this.permissionsProvider.endUpdateUI(),n},t.prototype.cleanContextToolbox=function(){this.contextToolbox&&(this.toolboxManager.clean(void 0,this.contextToolbox),this.contextToolbox=void 0,this.contextToolboxOnClick=void 0)},t.prototype.refreshToolbox=function(t){this.permissionsProvider.clearCache(m.DiagramModelOperation.AddShapeFromToolbox),this.toolboxManager.refresh(t)},t.prototype.applyToolboxFilter=function(t,e){return this.toolboxManager.applyFilter(t,e)},t.prototype.notifyToolboxClick=function(t){this.contextToolboxOnClick&&this.contextToolboxOnClick(t)},t.prototype.initMeasurer=function(t){this.measurer=new S.TextMeasurer(t)},t.prototype.onDimensionChanged=function(){T.Browser.TouchUI||this.updateLayout(!0)},t.prototype.updateLayout=function(t){void 0===t&&(t=!1),this.render&&this.render.update(!t)},t.prototype.captureFocus=function(){this.render&&this.render.input.captureFocus()},t.prototype.isFocused=function(){return!this.render||this.render.input.isFocused()},t.prototype.registerBar=function(t){this.barManager.registerBar(t)},t.prototype.updateBarItemsState=function(t,e){this.barManager.updateBarItemsState(t,e)},t.prototype.getCommand=function(t){return this.commandManager.getCommand(t)},t.prototype.getNativeItemByKey=function(t){var e=this.model.findItem(t);return e&&this.apiController.createNativeItem(e)},t.prototype.getNativeItemByDataKey=function(t){var e=this.model.findItemByDataKey(t);return e&&this.apiController.createNativeItem(e)},t.prototype.getNativeItems=function(){var t=this;return this.model.items.map(function(e){return t.apiController.createNativeItem(e)})},t.prototype.getNativeSelectedItems=function(){var t=this;return this.selection.getKeys().map(function(e){return t.apiController.createNativeItem(t.model.findItem(e))})},t.prototype.setSelectedItems=function(t){this.selection.set(t)},t.prototype.scrollToItems=function(t){var e=this,n=_.GeometryUtils.getCommonRectangle(t.map(function(t){return e.model.findItem(t).rectangle}));this.view.scrollIntoView(n)},t.prototype.setInitialStyleProperties=function(t){this.selection.inputPosition.setInitialStyleProperties(t)},t.prototype.setInitialTextStyleProperties=function(t){this.selection.inputPosition.setInitialTextStyleProperties(t)},t.prototype.setInitialConnectorProperties=function(t){this.selection.inputPosition.setInitialConnectorProperties(t)},t.prototype.addCustomShapes=function(t){var e=this;t.forEach(function(t){t.apiController=e.apiController,t.defaultWidth&&(t.defaultWidth=v.ModelUtils.getTwipsValue(e.model.units,t.defaultWidth)),t.defaultHeight&&(t.defaultHeight=v.ModelUtils.getTwipsValue(e.model.units,t.defaultHeight)),t.minWidth&&(t.minWidth=v.ModelUtils.getTwipsValue(e.model.units,t.minWidth)),t.minHeight&&(t.minHeight=v.ModelUtils.getTwipsValue(e.model.units,t.minHeight)),t.maxWidth&&(t.maxWidth=v.ModelUtils.getTwipsValue(e.model.units,t.maxWidth)),t.maxHeight&&(t.maxHeight=v.ModelUtils.getTwipsValue(e.model.units,t.maxHeight)),e.shapeDescriptionManager.registerCustomShape(t)})},t.prototype.removeCustomShapes=function(t){var e=this;t.forEach(function(t){e.shapeDescriptionManager.unregisterCustomShape(t)})},t.prototype.removeAllCustomShapes=function(){this.shapeDescriptionManager.unregisterAllCustomShapes()},t.prototype.importModel=function(t){t.units=this.model.units,this.model=t,this.model.initializeKeyCounter(),this.apiController.model=t,this.onImportData()},t.prototype.importItemsData=function(){this.onImportData()},t.prototype.onImportData=function(){this.render&&(this.render.clear(),this.render.onNewModel(this.model.items)),this.permissionsProvider.clearCache(),this.selection.initialize(this.model),this.modelManipulator.initialize(this.model,this.routingModel),this.history.clear(),this.eventManager.initialize(),this.modelManipulator.commitPageChanges(),this.modelManipulator.commitItemsCreateChanges(),this.notifyViewChanged(),this.notifyHistoryChanged()},t.prototype.createDocumentDataSource=function(t,e,n,i,o){return this.documentDataSource=new p.DocumentDataSource(this,t,e,n,i,o),this.apiController.setDataSource(this.documentDataSource),this.documentDataSource},t.prototype.deleteDocumentDataSource=function(){this.apiController.setDataSource(null),delete this.documentDataSource},t.prototype.applyShapeSizeSettings=function(t){this.settings.applyShapeSizeSettings(t,this.model.units)},t.prototype.applyOperationSettings=function(t){this.permissionsProvider.operationSettings.applySettings(t)},t.prototype.beginUpdateCanvas=function(){this.render&&(this.render.items.beginUpdate(),this.render.selection.beginUpdate())},t.prototype.endUpdateCanvas=function(){this.render&&(this.render.items.endUpdate(),this.render.selection.endUpdate())},t.prototype.beginUpdate=function(){this.barManager.beginUpdate(),this.apiController.beginUpdate(),this.eventManager.beginUpdate()},t.prototype.endUpdate=function(){this.barManager.endUpdate(),this.apiController.endUpdate(),this.eventManager.endUpdate()},t.prototype.notifyEdgeInserted=function(t,e,n){this.onEdgeInserted?this.onEdgeInserted(t,e,n):e(t)},t.prototype.notifyEdgeUpdated=function(t,e,n,i){this.onEdgeUpdated?this.onEdgeUpdated(t,e,n,i):n(t,e)},t.prototype.notifyEdgeRemoved=function(t,e,n,i){this.onEdgeUpdated?this.onEdgeRemoved(t,e,n,i):n(t,e)},t.prototype.notifyNodeInserted=function(t,e,n){this.onNodeInserted?this.onNodeInserted(t,e,n):e(t)},t.prototype.notifyNodeUpdated=function(t,e,n,i){this.onNodeUpdated?this.onNodeUpdated(t,e,n,i):n(t,e)},t.prototype.notifyNodeRemoved=function(t,e,n,i){this.onNodeRemoved?this.onNodeRemoved(t,e,n,i):n(t,e)},t.prototype.reloadInsertedItem=function(t){this.settings.reloadInsertedItemRequired&&this.reloadContent(t)},t.prototype.reloadContent=function(t,e,n,i){if(this.documentDataSource){this.isChangesLocked()&&(this.reloadContentNeeded=!0);var o=!0===i||void 0===i&&!this.reloadContentNeeded,r=o?this.reloadContentByExternalChangesParameters:this.reloadContentParameters;r.add(t,e,n),this.isChangesLocked()||(this.reloadContentCore(r,o),this.barManager.updateItemsState())}},t.prototype.reloadContentCore=function(t,e){var n=this,i=t.getData&&t.getData(),o=this.documentDataSource.refetchData(i&&i.nodeDataSource,i&&i.edgeDataSource);this.beginUpdateCanvas(),this.permissionsProvider.lockPermissions(),this.documentDataSource.updateModelItems(this.history,this.model,this.shapeDescriptionManager,this.selection,new P.DataLayoutParameters(this.settings,t.layoutParameters),e,t.dataKeys,function(t){n.modelManipulator.commitItemUpdateChanges(t)},o,this.settings.snapToGrid,this.settings.gridSize,this.measurer),this.permissionsProvider.unlockPermissions(),this.endUpdateCanvas(),t.clear()},t.prototype.notifyHistoryChanged=function(){this.documentDataSource?(this.shouldUpdateItemsByModel=!0,this.settings.readOnly||this.notifyDataChanges()):this.raiseOnChanged()},t.prototype.notifyViewChanged=function(){this.settings.notifyViewChanged()},t.prototype.notifyToolboxDragStart=function(t){this.render.notifyToolboxDragStart(t),this.onToolboxDragStart&&this.onToolboxDragStart()},t.prototype.notifyToolboxDragEnd=function(t){this.render.notifyToolboxDragEnd(t),this.onToolboxDragEnd&&this.onToolboxDragEnd()},t.prototype.notifyToolboxDraggingMouseMove=function(t){this.render&&this.render.notifyToolboxDraggingMouseMove(t)},t.prototype.notifyTextInputStart=function(t,e,n,i){this.onTextInputStart&&this.onTextInputStart()},t.prototype.notifyTextInputEnd=function(t,e){this.onTextInputEnd&&this.onTextInputEnd()},t.prototype.notifyTextInputPermissionsCheck=function(t,e){},t.prototype.notifyToggleFullscreen=function(t){this.onToggleFullscreen&&this.onToggleFullscreen(t)},t.prototype.notifyShowContextMenu=function(t,e){if(this.onShowContextMenu&&this.render){var n=void 0;if(this.selection.getSelectedItems(!0).length>0){var o=v.ModelUtils.createRectangle(this.selection.getSelectedItems(!0)),r=this.render.getEventPointByModelPoint(o.createPosition()),a=this.render.view.getAbsoluteSize(o.createSize());n={x:r.x,y:r.y,width:a.width,height:a.height}}if(t)this.contextMenuPosition=new i.Point(t.x,t.y),this.onShowContextMenu(t.x,t.y,n);else if(e){var s=this.render.getEventPointByModelPoint(e);this.contextMenuPosition=s.clone(),this.onShowContextMenu(s.x,s.y,n)}}},t.prototype.notifyHideContextMenu=function(){this.onHideContextMenu&&this.render&&this.onHideContextMenu()},t.prototype.notifyShowContextToolbox=function(t,e,n,i,o){if(this.onShowContextToolbox&&this.render){var r=this.render.getEventPointByModelPoint(t);this.onShowContextToolbox(r.x,r.y,n,i,o),this.render.view.notifyShowContextToolbox()}},t.prototype.notifyHideContextToolbox=function(){this.onHideContextToolbox&&this.render&&(this.onHideContextToolbox(),this.render.view.notifyHideContextToolbox()),this.cleanContextToolbox()},t.prototype.notifyShapeDescriptionChanged=function(t){this.modelManipulator.updateShapeDescription(t)},t.prototype.notifyImageCacheReadyStateChanged=function(t){this.barManager.updateItemsState()},t.prototype.raiseCanvasViewActualZoomChanged=function(){this.render.view.raiseActualZoomChanged()},t.prototype.notifyRequestOperation=function(t,e){this.requestOperationByDataSource(t,e)||this.onRequestOperation&&this.onRequestOperation(t,e)},t.prototype.requestOperationByDataSource=function(t,e){if(!this.documentDataSource||!this.documentDataSource.IsNodeParentIdMode()&&!this.documentDataSource.IsNodeItemsMode())return!1;if(t===m.DiagramModelOperation.ChangeConnection){var n=e,i=n.shape&&this.model.findItem(n.shape.id),o=n.connector&&this.model.findItem(n.connector.id);if(!i||!o)return;if(n.position===w.ConnectorPosition.End)for(var r=0;r<i.attachedConnectors.length;r++){var a=i.attachedConnectors[r];if(a!==o&&a.endItem&&a.endItem===i){n.allowed=!1;break}}n.allowed&&o.beginItem&&o.endItem&&this.isShapeParent(o.endItem,o.beginItem)&&(n.allowed=!1)}return!e.allowed},t.prototype.isShapeParent=function(t,e){if(t===e)return!0;for(var n=0;n<t.attachedConnectors.length;n++){var i=t.attachedConnectors[n];if(i.beginItem===t&&i.endItem){var o=i.endItem;if(o===e||this.isShapeParent(o,e))return!0}}return!1},t.prototype.isChangesLocked=function(){return this.updateLockCount>0},t.prototype.beginChangesNotification=function(){this.isChangesLocked()||this.changesLockChanged&&this.changesLockChanged(!0),this.updateLockCount++},t.prototype.endChangesNotification=function(t){var e=this;this.updateLockCount--,this.isChangesLocked()||(this.changesLockChanged(!1),t||setTimeout(function(){e.notifyReloadContent(),e.notifyDataChanges()},0))},t.prototype.changesLockChanged=function(t){t?this.lockedReadOnly=this.settings.readOnly:t=this.lockedReadOnly,this.commandManager.getCommand(r.DiagramCommand.ToggleReadOnly).execute(t)},t.prototype.notifyDataChanges=function(){this.isChangesLocked()||(this.shouldUpdateItemsByModel&&(this.documentDataSource.updateItemsByModel(this.model),this.shouldUpdateItemsByModel=!1),this.raiseOnChanged())},t.prototype.notifyReloadContent=function(){this.reloadContentNeeded&&(this.reloadContentParameters.empty||this.reloadContentCore(this.reloadContentParameters,!1),this.reloadContentByExternalChangesParameters.empty||this.reloadContentCore(this.reloadContentByExternalChangesParameters,!0),this.reloadContentNeeded=!1)},t.prototype.raiseOnChanged=function(){this.onChanged&&this.onChanged()},t}();e.DiagramControl=I},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelManipulator=void 0;var i=n(87),o=n(2),r=n(61),a=n(46),s=n(130),l=n(16),c=n(3),u=n(6),h=n(99),d=n(4),p=function(){function t(t,e,n){this.onModelChanged=new c.EventDispatcher,this.onModelSizeChanged=new c.EventDispatcher,this.initializeCore(t,e),this.permissionsProvider=n,this.imageLoader=new s.ImageLoader(this.updateShapeImage.bind(this))}return t.prototype.initialize=function(t,e){this.initializeCore(t,e),this.model.loadAllImages(this.imageLoader),this.updateModelSize()},t.prototype.initializeCore=function(t,e){var n=this;this.model=t,this.routingModel=e,this.routingModel&&(this.routingModel.initialize(t),t.iterateItems(function(t){if(t instanceof u.Connector){var e=n.routingModel.createStrategy(t.properties.lineOption);e?t.changeRoutingStrategy(e):t.invalidateRenderPoints()}}))},t.prototype.commitPageChanges=function(){this.raisePageSizeChanged(this.model.pageSize.clone(),this.model.pageLandscape),this.raiseModelSizeChanged(this.model.size.clone()),this.raisePageColorChanged(this.model.pageColor),this.raiseModelRectangleChanged(d.ModelUtils.createRectangle(this.model.items))},t.prototype.commitItemsCreateChanges=function(){r.Diagnostics.timer("new model: model changes"),this.commitItemsChangesCore(h.ItemChangeType.Create,this.model.items),r.Diagnostics.endTimer()},t.prototype.commitItemUpdateChanges=function(t){this.commitItemsChangesCore(h.ItemChangeType.UpdateStructure,[t])},t.prototype.commitItemsChangesCore=function(t,e){var n=[];e.forEach(function(e){n.push(new h.ItemChange(e,t))}),n.length&&this.raiseModelChanged(n)},t.prototype.insertToContainer=function(t,e){if(t.container&&e&&t.container.key!==e.key)throw Error("To insert an item to a container it's necessary to remove it from the current container.");e&&(-1===e.children.indexOf(t)&&e.children.push(t),t.container=e,this.raiseModelChanged([new h.ItemChange(t,h.ItemChangeType.Update)]))},t.prototype.removeFromContainer=function(t){if(t.container){var e=t.container.children.indexOf(t);t.container.children.splice(e,1),t.container=void 0,this.raiseModelChanged([new h.ItemChange(t,h.ItemChangeType.Update)])}},t.prototype.changeStyle=function(t,e,n){this.changeStyleCore(t,t.style,e,n)},t.prototype.changeStyleText=function(t,e,n){this.changeStyleCore(t,t.styleText,e,n)},t.prototype.changeStyleCore=function(t,e,n,i){void 0!==i?e[n]=i:delete e[n],this.raiseModelChanged([new h.ItemChange(t,h.ItemChangeType.UpdateProperties)])},t.prototype.changeZIndex=function(t,e){t.zIndex=e,this.raiseModelChanged([new h.ItemChange(t,h.ItemChangeType.Update)])},t.prototype.changeLocked=function(t,e){t.locked=e,this.raiseModelChanged([new h.ItemChange(t,h.ItemChangeType.UpdateClassName)])},t.prototype.changeCustomData=function(t,e){t.customData=c.ObjectUtils.cloneObject(e),this.raiseModelChanged([new h.ItemChange(t,h.ItemChangeType.UpdateStructure)])},t.prototype.addShape=function(t,e){if(t.attachedConnectors.length)throw Error("A creating shape should not contain existing connectors.");return t.key=void 0!==e?e:this.model.getNextKey(),this.insertShape(t)},t.prototype.insertShape=function(t){this.model.pushItem(t);var e=this.permissionsProvider.canAddItems([t]);return this.raiseModelChanged([new h.ItemChange(t,h.ItemChangeType.Create,e)]),this.model.loadAllImages(this.imageLoader),t},t.prototype.resizeShape=function(t,e,n){t.position=e,t.size=n;var i=this.permissionsProvider.isStoredPermissionsGranted(),o=this.getInteractingItem(t,l.DiagramModelOperation.ResizeShape);if(o){var r=o.size.clone(),a=t.size.clone();a.equals(r)||(i=this.permissionsProvider.canResizeShapes([{shape:t,size:a,oldSize:r}]))}var s=this.getInteractingItem(t,l.DiagramModelOperation.MoveShape);if(s){var c=s.position.clone(),u=t.position.clone();u.equals(c)||(i=this.permissionsProvider.canMoveShapes([{shape:t,position:u,oldPosition:c}]))}this.raiseModelChanged([new h.ItemChange(t,h.ItemChangeType.UpdateProperties,i)])},t.prototype.moveShape=function(t,e){t.position=e;var n=this.permissionsProvider.isStoredPermissionsGranted();this.getInteractingItem(t,l.DiagramModelOperation.AddShape)&&(n=this.permissionsProvider.canAddItems([t]));var i=this.getInteractingItem(t,l.DiagramModelOperation.MoveShape);if(i){var o=i.position.clone(),r=t.position.clone();r.equals(o)||(n=this.permissionsProvider.canMoveShapes([{shape:t,position:r,oldPosition:o}]))}this.raiseModelChanged([new h.ItemChange(t,h.ItemChangeType.UpdateProperties,n)])},t.prototype.changeShapeParameters=function(t,e){t.parameters.forEach(function(t){var n=e.get(t.key);n&&(t.value=n.value)}),this.raiseModelChanged([new h.ItemChange(t,h.ItemChangeType.UpdateProperties)])},t.prototype.changeShapeText=function(t,e){t.text=e,this.raiseModelChanged([new h.ItemChange(t,h.ItemChangeType.UpdateStructure)])},t.prototype.changeShapeImage=function(t,e){t.image=e;var n=a.ImageCache.instance.createUnloadedInfoByShapeImageInfo(e);this.imageLoader.load(n),this.raiseModelChanged([new h.ItemChange(t,h.ItemChangeType.UpdateStructure)])},t.prototype.changeShapeExpanded=function(t,e){t.expanded=e,t.toggleExpandedSize(),this.raiseModelChanged([new h.ItemChange(t,h.ItemChangeType.UpdateStructure)])},t.prototype.deleteShape=function(t,e){if(t.attachedConnectors.length)throw Error("A removing shape should not contain existing connectors.");this.removeShape(t,e)},t.prototype.removeShape=function(t,e){this.model.removeItem(t),this.raiseModelChanged([new h.ItemChange(t,h.ItemChangeType.Remove,e)])},t.prototype.updateShapeImage=function(t){if(t.imageUrl){var e=this.model.findShapesByImageUrl(t.imageUrl);e.forEach(function(e){t.base64?e.image.loadBase64Content(t.base64):e.image.setUnableToLoadFlag()}),this.commitItemsChangesCore(h.ItemChangeType.UpdateStructure,e)}},t.prototype.updateShapeDescription=function(t){var e=this.model.findShapesByDescription(t);this.commitItemsChangesCore(h.ItemChangeType.UpdateProperties,e)},t.prototype.addConnector=function(t,e){if(t.beginItem||t.endItem)throw Error("Creating connector should not contain begin/end items");return t.key=void 0!==e?e:this.model.getNextKey(),this.insertConnector(t)},t.prototype.insertConnector=function(t){this.model.pushItem(t);var e=this.routingModel.createStrategy(t.properties.lineOption);e?t.changeRoutingStrategy(e):t.clearRoutingStrategy();var n=this.permissionsProvider.canAddItems([t]);return this.raiseModelChanged([new h.ItemChange(t,h.ItemChangeType.Create,n)]),t},t.prototype.deleteConnector=function(t){if(t.beginItem||t.endItem)throw Error("Creating connector should not contain begin/end items");this.removeConnector(t)},t.prototype.removeConnector=function(t){this.model.removeItem(t);var e=this.permissionsProvider.canDeleteItems([t]);this.raiseModelChanged([new h.ItemChange(t,h.ItemChangeType.Remove,e)])},t.prototype.addDeleteConnectorPoint=function(t,e){var n=this.getConnectorInteractingPoints(t);e(t),this.addDeleteConnectorPointCore(t,n)},t.prototype.moveConnectorPoint=function(t,e,n){n(t),this.moveConnectorPointCore(t,e)},t.prototype.changeConnectorPoints=function(t,e){var n=this;e(t),t.points.forEach(function(e,i){return n.moveConnectorPointCore(t,i)})},t.prototype.moveConnectorPointCore=function(t,e){var n=this.getInteractingItem(t),i=this.permissionsProvider.isStoredPermissionsGranted();if(n){var o=0<e&&e<t.points.length-1;if(o=(o=o||0===e&&!t.beginItem)||e===t.points.length-1&&!t.endItem){var r=n.points.map(function(t){return t.clone()}),a=t.points.map(function(t){return t.clone()});c.GeometryUtils.arePointsEqual(r,a)||(i=this.permissionsProvider.canChangeConnectorPoints(t,r,a))}}this.raiseModelChanged([new h.ItemChange(t,h.ItemChangeType.UpdateProperties,i)])},t.prototype.getConnectorInteractingPoints=function(t){var e=this.getInteractingItem(t);return e?e.points.map(function(t){return t.clone()}):t.points.map(function(t){return t.clone()})},t.prototype.addDeleteConnectorPointCore=function(t,e){var n=this.permissionsProvider.isStoredPermissionsGranted(),i=t.points.map(function(t){return t.clone()});c.GeometryUtils.arePointsEqual(e,i)||(n=this.permissionsProvider.canChangeConnectorPoints(t,e,i)),this.raiseModelChanged([new h.ItemChange(t,h.ItemChangeType.UpdateProperties,n)])},t.prototype.addConnection=function(t,e,n,i){var o=t.getExtremeItem(i),r=t.getExtremeConnectionPointIndex(i);if(o!==e||r!==n){if(o)throw Error("Connector is already connected");e.attachedConnectors.push(t),i===u.ConnectorPosition.Begin?(t.beginItem=e,t.beginConnectionPointIndex=n):(t.endItem=e,t.endConnectionPointIndex=n),t.invalidateRenderPoints();var a=this.permissionsProvider.canChangeConnection(t,e,void 0,i,n);this.raiseModelChanged([new h.ItemChange(t,h.ItemChangeType.UpdateProperties,a)])}},t.prototype.setConnectionPointIndex=function(t,e,n){if(!t.getExtremeItem(n))throw Error("Connection should be connected");n===u.ConnectorPosition.Begin?t.beginConnectionPointIndex=e:t.endConnectionPointIndex=e,t.invalidateRenderPoints();var i=t.getExtremeItem(n),o=this.permissionsProvider.canChangeConnection(t,i,i,n,e);this.raiseModelChanged([new h.ItemChange(t,h.ItemChangeType.UpdateProperties,o)])},t.prototype.deleteConnection=function(t,e){var n=t.getExtremeItem(e);if(n){n.attachedConnectors.splice(n.attachedConnectors.indexOf(t),1),e===u.ConnectorPosition.Begin?(t.beginItem=null,t.beginConnectionPointIndex=-1):(t.endItem=null,t.endConnectionPointIndex=-1),t.invalidateRenderPoints();var i=this.permissionsProvider.canChangeConnection(t,void 0,n,e,-1);this.raiseModelChanged([new h.ItemChange(t,h.ItemChangeType.UpdateProperties,i)])}},t.prototype.changeConnectorProperty=function(t,e,n){if(t.properties[e]=n,"lineOption"===e){var i=this.routingModel?this.routingModel.createStrategy(t.properties.lineOption):void 0;i?t.changeRoutingStrategy(i):t.clearRoutingStrategy()}else t.invalidateRenderPoints();this.raiseModelChanged([new h.ItemChange(t,h.ItemChangeType.UpdateProperties)])},t.prototype.changeConnectorText=function(t,e,n){t.setText(e,n),this.raiseModelChanged([new h.ItemChange(t,h.ItemChangeType.UpdateStructure)])},t.prototype.changeConnectorTextPosition=function(t,e,n){var i=t.getText(e);t.setText(null,e),t.setText(i,n),this.raiseModelChanged([new h.ItemChange(t,h.ItemChangeType.UpdateProperties)])},t.prototype.changeModelSize=function(t,e){this.model.size.width=t.width,this.model.size.height=t.height,this.raiseModelSizeChanged(this.model.size.clone(),e),(e.left||e.top)&&(this.model.snapStartPoint=this.model.snapStartPoint.clone().offset(e.left,e.top),this.raiseSnapPointChange(this.model.snapStartPoint))},t.prototype.changePageSize=function(t){this.model.pageSize.equals(t)||(this.model.pageSize=t,this.model.size=new o.Size(this.model.pageWidth,this.model.pageHeight),this.raiseModelSizeChanged(this.model.size.clone()),this.raisePageSizeChanged(this.model.pageSize,this.model.pageLandscape))},t.prototype.changePageLandscape=function(t){this.model.pageLandscape!==t&&(this.model.pageLandscape=t,this.model.pageSize.width!==this.model.pageSize.height&&(this.model.size=new o.Size(this.model.pageWidth,this.model.pageHeight),this.raiseModelSizeChanged(this.model.size.clone()),this.raisePageSizeChanged(this.model.pageSize,this.model.pageLandscape)))},t.prototype.changePageColor=function(t){this.model.pageColor!==t&&(this.model.pageColor=t,this.raisePageColorChanged(t))},t.prototype.updateModelSize=function(){var t=this.getModelSizeUpdateOffset();if(!t.isEmpty()){var e=Math.max(this.model.size.width+t.left+t.right,this.model.pageWidth),n=Math.max(this.model.size.height+t.top+t.bottom,this.model.pageHeight);this.model.size=new o.Size(e,n)}},t.prototype.getModelSizeUpdateOffset=function(){var t=this.model.getRectangle(!1),e=this.model.getRectangle(!0);return e.equals(t)||this.raiseModelRectangleChanged(e),this.createModelRectangleOffset(e)},t.prototype.createModelRectangleOffset=function(t){var e=this.model.pageWidth,n=this.model.pageHeight,o=this.model.size;return new i.Offsets(-Math.floor(t.x/e)*e,-Math.floor((o.width-t.right)/e)*e,-Math.floor(t.y/n)*this.model.pageHeight,-Math.floor((o.height-t.bottom)/n)*n)},t.prototype.raiseModelChanged=function(t){this.onModelChanged.raise1(function(e){return e.notifyModelChanged(t)})},t.prototype.raisePageColorChanged=function(t){this.onModelChanged.raise1(function(e){return e.notifyPageColorChanged(t)})},t.prototype.raisePageSizeChanged=function(t,e){this.onModelChanged.raise1(function(n){return n.notifyPageSizeChanged(t,e)})},t.prototype.raiseModelSizeChanged=function(t,e){this.onModelSizeChanged.raise1(function(n){return n.notifyModelSizeChanged(t,e)})},t.prototype.raiseModelRectangleChanged=function(t){this.onModelSizeChanged.raise1(function(e){return e.notifyModelRectangleChanged(t)})},t.prototype.raiseSnapPointChange=function(t){this.onModelSizeChanged.raise1(function(e){return e.notifySnapPointPositionChanged(t)})},t.prototype.getInteractingItem=function(t,e){return this.permissionsProvider.getInteractingItem(t,e)},t}();e.ModelManipulator=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EventManager=void 0;var i=n(304),o=n(3),r=n(323),a=n(154),s=n(324),l=n(155),c=n(330),u=n(331),h=n(18),d=n(25),p=function(){function t(t){this.onMouseOperation=new o.EventDispatcher,this.onTextInputOperation=new o.EventDispatcher,this.toolboxes=[],this.control=t,this.visualizersManager=o.EventUtils.isTouchMode()?new c.VisualizerTouchManager(t.selection,t.model,this,t.settings):new l.VisualizerManager(t.selection,t.model,this,t.settings),this.onMouseOperation.add(this.visualizersManager),this.contextMenuHandler=h.Browser.TouchUI?new s.ContextMenuTouchHandler(t.selection):new a.ContextMenuHandler,this.contextMenuHandler.onVisibilityChanged.add(t),this.onMouseOperation.add(this.contextMenuHandler),this.onTextInputOperation.add(this.contextMenuHandler),this.contextToolboxHandler=new u.ContextToolboxHandler,this.contextToolboxHandler.onVisibilityChanged.add(t),this.contextToolboxHandler.onVisibilityChanged.add(this.contextMenuHandler),this.mouseHandler=new i.MouseHandler(t.history,t.selection,t.model,this,t.settings.readOnly,t.view,this.visualizersManager,this.contextToolboxHandler,t.shapeDescriptionManager,t.settings,t.permissionsProvider),this.textInputHandler=new r.TextInputHandler(t),this.visualizersManager.onVisualizersUpdate.add(this.mouseHandler)}return Object.defineProperty(t.prototype,"onVisualizersUpdate",{get:function(){return this.visualizersManager.onVisualizersUpdate},enumerable:!1,configurable:!0}),t.prototype.registerToolbox=function(t){this.toolboxes.push(t)},t.prototype.cleanToolboxes=function(t){this.toolboxes.forEach(function(e){t.remove(e)}),this.toolboxes=[]},t.prototype.initialize=function(){this.visualizersManager.initialize(this.control.model),this.mouseHandler.initialize(this.control.model)},t.prototype.beginUpdate=function(t){this.contextMenuHandler.beginUpdate(),this.visualizersManager.beginUpdate()},t.prototype.endUpdate=function(){this.contextMenuHandler.endUpdate(),this.visualizersManager.endUpdate()},t.prototype.onMouseDown=function(t){this.mouseHandler.onMouseDown(t),this.contextMenuHandler.onMouseDown(t),this.visualizersManager.onMouseDown(t),this.contextToolboxHandler.onMouseDown(t)},t.prototype.onMouseMove=function(t){this.processDragging(t),this.mouseHandler.onMouseMove(t)},t.prototype.onMouseUp=function(t){this.contextToolboxHandler.onMouseUp(t),this.mouseHandler.onMouseUp(t),this.contextMenuHandler.onMouseUp(t),this.visualizersManager.onMouseUp(t),this.processDragging(t)},t.prototype.onMouseEnter=function(t){this.visualizersManager.onMouseEnter(t)},t.prototype.onMouseLeave=function(t){this.visualizersManager.onMouseLeave(t)},t.prototype.onDblClick=function(t){this.mouseHandler.onMouseDblClick(t),this.textInputHandler.onDblClick(t),this.control.apiController.notifyDblClick(t)},t.prototype.onClick=function(t){this.mouseHandler.onMouseClick(t),this.control.apiController.notifyClick(t)},t.prototype.onContextMenu=function(t){this.contextMenuHandler.onContextMenu(t)},t.prototype.onLongTouch=function(t){this.mouseHandler.onLongTouch(t),this.contextMenuHandler.onLongTouch(t)},t.prototype.onBlur=function(t){this.contextMenuHandler.onBlur(t),this.contextToolboxHandler.onBlur(t),this.visualizersManager.onBlur(t)},t.prototype.onFocus=function(t){this.contextMenuHandler.onFocus(t),this.contextToolboxHandler.onFocus(t),this.visualizersManager.onFocus(t)},t.prototype.onKeyDown=function(t){var e=t.getShortcutCode();this.onShortcut(e)?(this.visualizersManager.updateConnectionPoints(),this.contextMenuHandler.onShortcut(t),this.contextToolboxHandler.onShortcut(t),t.preventDefault=!0):this.isShortcutForFocusInput(e)&&(t.preventDefault=!0),this.contextMenuHandler.onKeyDown(t),this.contextToolboxHandler.onKeyDown(t),this.mouseHandler.onKeyDown(t)},t.prototype.onKeyUp=function(t){this.mouseHandler.onKeyUp(t)},t.prototype.onTextInputBlur=function(t){this.textInputHandler.onBlur(t),this.contextMenuHandler.onTextInputBlur(t)},t.prototype.onTextInputFocus=function(t){this.textInputHandler.onFocus(t),this.contextMenuHandler.onTextInputFocus(t)},t.prototype.onTextInputKeyDown=function(t){this.textInputHandler.onKeyDown(t)},t.prototype.onShortcut=function(t){return!!this.control.commandManager.processShortcut(t)||!!this.mouseHandler.onShortcut(t)||void 0},t.prototype.isShortcutForFocusInput=function(t){return t===d.KeyCode.Delete||t===(d.KeyCode.Delete|d.ModifierKey.Ctrl)||t===(d.KeyCode.Delete|d.ModifierKey.Meta)||t===d.KeyCode.Backspace||t===(d.KeyCode.Backspace|d.ModifierKey.Ctrl)||t===(d.KeyCode.Backspace|d.ModifierKey.Shift)||t===(d.KeyCode.Backspace|d.ModifierKey.Meta)||t===d.KeyCode.Home||t===d.KeyCode.End||t===d.KeyCode.Up||t===(d.KeyCode.Up|d.ModifierKey.Ctrl)||t===(d.KeyCode.Up|d.ModifierKey.Meta)||t===d.KeyCode.Down||t===(d.KeyCode.Down|d.ModifierKey.Ctrl)||t===(d.KeyCode.Down|d.ModifierKey.Meta)||t===d.KeyCode.Left||t===(d.KeyCode.Left|d.ModifierKey.Ctrl)||t===(d.KeyCode.Left|d.ModifierKey.Meta)||t===d.KeyCode.Right||t===(d.KeyCode.Right|d.ModifierKey.Ctrl)||t===(d.KeyCode.Right|d.ModifierKey.Meta)},t.prototype.onPaste=function(t){!this.textInputHandler.isTextInputActive()&&this.control.commandManager.processPaste(t.clipboardData)&&(this.visualizersManager.updateConnectionPoints(),t.preventDefault=!0)},t.prototype.onMouseWheel=function(t){this.mouseHandler.onWheel(t)&&(t.preventDefault=!0)},t.prototype.isFocused=function(){return this.control.isFocused()},t.prototype.processDragging=function(t){var e=this.getDraggingEvent();e&&this.draggingEvent!==e?(this.draggingEvent=e,this.mouseHandler.onDragStart(this.draggingEvent),this.control.captureFocus()):!e&&this.draggingEvent&&(delete this.draggingEvent,this.mouseHandler.onDragEnd(t))},t.prototype.getDraggingEvent=function(){return this.toolboxes.filter(function(t){return t.draggingObject}).map(function(t){return t.draggingObject.evt})[0]},t.prototype.onDocumentDragStart=function(t){this.control.beginUpdate(),this.control.captureFocus(),this.onMouseOperation.raise("notifyDragStart",t)},t.prototype.onDocumentDragEnd=function(t){this.onMouseOperation.raise("notifyDragEnd",t),this.control.endUpdate(),this.control.barManager.updateItemsState()},t.prototype.onDocumentDragScrollStart=function(){this.onMouseOperation.raise1(function(t){return t.notifyDragScrollStart()})},t.prototype.onDocumentDragScrollEnd=function(){this.onMouseOperation.raise1(function(t){return t.notifyDragScrollEnd()})},t.prototype.onDocumentClick=function(t){this.control.beginUpdate(),this.control.endUpdate(),this.control.barManager.updateItemsState()},t.prototype.raiseTextInputStart=function(t,e,n,i){this.onTextInputOperation.raise("notifyTextInputStart",t,e,n,i)},t.prototype.raiseTextInputEnd=function(t,e){this.onTextInputOperation.raise("notifyTextInputEnd",t,e)},t.prototype.raiseTextInputPermissionsCheck=function(t,e){this.onTextInputOperation.raise("notifyTextInputPermissionsCheck",t,e)},t.prototype.canFinishTextEditing=function(){return this.textInputHandler.canFinishTextEditing()},t}();e.EventManager=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=void 0;var i=n(147),o=n(11),r=n(0),a=n(4),s=n(321),l=n(152),c=n(322),u=n(25),h=n(3),d=function(){function t(t,e,n,i,o,r,a,s,l,c,u){this.history=t,this.selection=e,this.model=n,this.eventManager=i,this.readOnly=o,this.view=r,this.visualizerManager=a,this.contextToolboxHandler=s,this.shapeDescriptionManager=l,this.settings=c,this.permissionsProvider=u,this.finishStateLock=0,this.initialize(n),this.selection.onChanged.add(this)}return t.prototype.initialize=function(t){this.model=t,this.allowMultipleSelection=!0,this.allowCopyDiagramItems=!0,this.allowSnapToCellOnDragDiagramItem=!0,this.allowSnapToCellOnDragPoint=!0,this.allowSnapToCellOnResizeShape=!0,this.allowFixedDrag=!0,this.allowZoomOnWheel=!0,this.allowScrollPage=!0,this.shouldScrollPage=!1,this.copyDiagramItemsByCtrlAndShift=!1,this.startScrollingPageByCtrl=!1,this.initializeDefaultState()},t.prototype.initializeDefaultState=function(){this.defaultState=this.readOnly?h.EventUtils.isTouchMode()?new s.MouseHandlerDefaultReadOnlyTouchState(this,this.history,this.selection,this.model,this.view,this.visualizerManager,this.shapeDescriptionManager,this.settings):new l.MouseHandlerDefaultReadOnlyState(this,this.history,this.selection,this.model,this.view,this.visualizerManager,this.shapeDescriptionManager,this.settings):h.EventUtils.isTouchMode()?new c.MouseHandlerDefaultTouchState(this,this.history,this.selection,this.model,this.view,this.visualizerManager,this.shapeDescriptionManager,this.settings):new i.MouseHandlerDefaultState(this,this.history,this.selection,this.model,this.view,this.visualizerManager,this.shapeDescriptionManager,this.settings),this.switchToDefaultState()},t.prototype.onMouseDown=function(t){this.mouseDownEvent=t,this.state.onMouseDown(t)},t.prototype.onMouseMove=function(t){this.state.onMouseMove(t)},t.prototype.onMouseUp=function(t){this.state.onMouseUp(t)},t.prototype.onMouseDblClick=function(t){this.state.onMouseDblClick(t)},t.prototype.onMouseClick=function(t){this.state.onMouseClick(t)},t.prototype.onLongTouch=function(t){if(t.touches&&!(t.touches.length>1)){var e=t.source.key;void 0===e?this.selection.clear():this.selection.hasKey(e)?this.selection.remove(e):this.selection.add(e)}},t.prototype.onShortcut=function(t){return this.state.onShortcut(t)},t.prototype.onWheel=function(t){return this.state.onMouseWheel(t)},t.prototype.onDragStart=function(t){this.state.onDragStart(t)},t.prototype.onDragEnd=function(t){this.state.onDragEnd(t)},t.prototype.onKeyDown=function(t){this.state.onKeyDown(t)},t.prototype.onKeyUp=function(t){this.state.onKeyUp(t)},t.prototype.showContextToolbox=function(t,e,n,i,o,r){this.contextToolboxHandler.showContextToolbox(t,e,n,i,o,r)},t.prototype.hideContextToolbox=function(t){this.contextToolboxHandler.hideContextToolbox(t)},t.prototype.canScrollPage=function(t){return this.startScrollingPageByCtrl?!!this.hasCtrlModifier(t.modifiers)&&(!this.copyDiagramItemsByCtrlAndShift||t.source.type!==o.MouseEventElementType.Shape&&t.source.type!==o.MouseEventElementType.Connector):this.allowScrollPage&&this.shouldScrollPage},t.prototype.canMultipleSelection=function(t){return this.allowMultipleSelection&&this.hasCtrlOrShiftModifier(t.modifiers)},t.prototype.canCopySelectedItems=function(t){return!!this.allowCopyDiagramItems&&(this.copyDiagramItemsByCtrlAndShift?this.hasCtrlAndShiftModifier(t.modifiers):this.hasAltModifier(t.modifiers))},t.prototype.canCalculateFixedPosition=function(t){return!(!this.allowFixedDrag||!this.hasShiftModifier(t.modifiers))&&(!this.copyDiagramItemsByCtrlAndShift||!this.hasCtrlModifier(t.modifiers))},t.prototype.canStartZoomOnWheel=function(t){return this.allowZoomOnWheel&&this.hasCtrlModifier(t.modifiers)},t.prototype.canFinishZoomOnWheel=function(t){return this.allowZoomOnWheel&&!this.hasCtrlModifier(t.modifiers)},t.prototype.onStartScrollPageByKeyboard=function(t){this.canStartScrollingPageByKeyboard(t)&&(this.raiseDragScrollStart(),this.shouldScrollPage=!0)},t.prototype.onFinishScrollPageByKeyboard=function(t){this.canEndScrollingPageByKeyboard(t)&&this.finishScrollingPage()},t.prototype.onFinishScrollPageByMouse=function(t){this.canEndScrollingPage(t)&&this.finishScrollingPage()},t.prototype.finishScrollingPage=function(){this.shouldScrollPage=!1,this.raiseDragScrollEnd(),this.switchToDefaultState()},t.prototype.hasCtrlOrShiftModifier=function(t){return this.hasCtrlModifier(t)||this.hasShiftModifier(t)},t.prototype.hasCtrlAndShiftModifier=function(t){return this.hasCtrlModifier(t)&&this.hasShiftModifier(t)},t.prototype.hasCtrlModifier=function(t){return(t&u.ModifierKey.Ctrl)>0},t.prototype.hasAltModifier=function(t){return(t&u.ModifierKey.Alt)>0},t.prototype.hasShiftModifier=function(t){return(t&u.ModifierKey.Shift)>0},t.prototype.canStartScrollingPageByKeyboard=function(t){return!this.startScrollingPageByCtrl&&!this.shouldScrollPage&&t.keyCode===u.KeyCode.Space},t.prototype.canEndScrollingPageByKeyboard=function(t){return!this.startScrollingPageByCtrl&&t.keyCode===u.KeyCode.Space},t.prototype.canEndScrollingPage=function(t){return!this.startScrollingPageByCtrl||this.hasCtrlModifier(t.modifiers)},t.prototype.getSnappedPointOnDragDiagramItem=function(t,e,n,i,o){var a=this.getSnapToCellOnDragDiagramItem(t);return new r.Point(this.getSnappedPos(this.getFixedXPosition(t,e,n,o),!0,a),this.getSnappedPos(this.getFixedYPosition(t,e,i,o),!1,a))},t.prototype.getSnappedPointOnDragPoint=function(t,e,n){var i=this.getSnapToCellOnDragPoint(t),o=this.getSnappedPos(e.x,!0,i),a=this.getSnappedPos(e.y,!1,i);return void 0===n?new r.Point(o,a):Math.pow(e.x-o,2)+Math.pow(e.y-a,2)<Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2)?new r.Point(o,a):n},t.prototype.getSnappedOffsetOnDragPoint=function(t,e){var n=this.getSnapToCellOnDragPoint(t);return new r.Point(this.getSnappedPos(t.modelPoint.x-e.x,!0,n),this.getSnappedPos(t.modelPoint.y-e.y,!1,n))},t.prototype.lockAspectRatioOnShapeResize=function(t){return this.hasShiftModifier(t.modifiers)},t.prototype.getSnappedPositionOnResizeShape=function(t,e,n){return this.getSnapToCellOnResizeShape(t)?a.ModelUtils.getSnappedPos(this.model,this.settings.gridSize,e,n):e},t.prototype.getSnappedPos=function(t,e,n){return n?a.ModelUtils.getSnappedPos(this.model,this.settings.gridSize,t,e):t},t.prototype.getFixedXPosition=function(t,e,n,i){return n?e.x:e.x+t.modelPoint.x-i.x},t.prototype.getFixedYPosition=function(t,e,n,i){return n?e.y:e.y+t.modelPoint.y-i.y},t.prototype.getSnapToCellOnDragDiagramItem=function(t){return this.allowSnapToCellOnDragDiagramItem&&this.settings.snapToGrid&&!this.hasCtrlModifier(t.modifiers)},t.prototype.getSnapToCellOnDragPoint=function(t){return this.allowSnapToCellOnDragPoint&&this.settings.snapToGrid&&!this.hasCtrlModifier(t.modifiers)},t.prototype.getSnapToCellOnResizeShape=function(t){return this.allowSnapToCellOnResizeShape&&this.settings.snapToGrid&&!this.hasCtrlModifier(t.modifiers)},t.prototype.tryUpdateModelSize=function(t){this.lockPermissions(),a.ModelUtils.tryUpdateModelRectangle(this.history,t),this.unlockPermissions()},t.prototype.canAddDiagramItemToSelection=function(t){return t.source.key&&(t.button===o.MouseButton.Left||t.button===o.MouseButton.Right)},t.prototype.addDiagramItemToSelection=function(t){this.pressedDiagramItemKey=t.source.key,this.pressedDiagramItemInSelection=this.selection.hasKey(this.pressedDiagramItemKey),this.canMultipleSelection(t)?this.selection.add(t.source.key):this.changeSingleSelection(t.source.key)},t.prototype.canRemoveDiagramItemToSelection=function(t){return this.pressedDiagramItemKey&&t.source.key&&this.pressedDiagramItemKey===t.source.key&&(t.button===o.MouseButton.Left||t.button===o.MouseButton.Right)},t.prototype.removeDiagramItemFromSelection=function(t,e){this.pressedDiagramItemInSelection&&this.selection.getKeys().length>1&&t===o.MouseButton.Left&&this.selection.remove(e)},t.prototype.changeSingleSelection=function(t){this.selection.hasKey(t)||this.selection.set([t])},t.prototype.notifySelectionChanged=function(t){this.pressedDiagramItemKey&&!this.selection.hasKey(this.pressedDiagramItemKey)&&(this.pressedDiagramItemKey=void 0,this.pressedDiagramItemInSelection=!1)},t.prototype.raiseDragStart=function(t){this.eventManager.onDocumentDragStart(t)},t.prototype.raiseDragEnd=function(t){this.eventManager.onDocumentDragEnd(t)},t.prototype.raiseDragScrollStart=function(){this.eventManager.onDocumentDragScrollStart()},t.prototype.raiseDragScrollEnd=function(){this.eventManager.onDocumentDragScrollEnd()},t.prototype.raiseClick=function(t){this.eventManager.onDocumentClick(t)},t.prototype.beginStorePermissions=function(){this.permissionsProvider.beginStorePermissions()},t.prototype.endStorePermissions=function(){this.permissionsProvider.endStorePermissions()},t.prototype.isStoredPermissionsGranted=function(){return this.permissionsProvider.isStoredPermissionsGranted()},t.prototype.lockPermissions=function(){this.permissionsProvider.lockPermissions()},t.prototype.unlockPermissions=function(){this.permissionsProvider.unlockPermissions()},t.prototype.canPerformChangeConnection=function(t,e){var n=!0;return t?n=this.permissionsProvider.canChangeConnection(t,e.item,e.oldItem,e.position,e.connectionPointIndex):e.item&&(n=this.permissionsProvider.canChangeConnection(void 0,e.item,e.oldItem,e.position,e.connectionPointIndex)),n},t.prototype.canPerformChangeConnectionOnUpdateUI=function(t,e){this.permissionsProvider.beginUpdateUI();var n=this.canPerformChangeConnection(t,e);return this.permissionsProvider.endUpdateUI(),n},t.prototype.canFinishTextEditing=function(){return this.eventManager.canFinishTextEditing()},t.prototype.restartState=function(){this.state&&!this.finishStateLock&&(this.finishStateLock++,this.state.finish(),this.finishStateLock--),this.state.start()},t.prototype.switchToDefaultState=function(){this.switchState(this.defaultState)},t.prototype.switchState=function(t){this.newState=t,this.state&&!this.finishStateLock&&(this.finishStateLock++,this.state.finish(),this.finishStateLock--),this.newState&&(this.state=this.newState,this.state.start(),this.newState=void 0)},t.prototype.addInteractingItem=function(t,e){this.permissionsProvider.addInteractingItem(t,e)},t.prototype.clearInteractingItems=function(){this.permissionsProvider.clearInteractingItems()},t.prototype.notifyReadOnlyChanged=function(t){this.readOnly=t,this.initializeDefaultState()},t.prototype.notifySelectionRectShow=function(t){},t.prototype.notifySelectionRectHide=function(){},t.prototype.notifyResizeInfoShow=function(t,e){},t.prototype.notifyResizeInfoHide=function(){},t.prototype.notifyConnectionPointsShow=function(t,e,n,i){this.state.onConnectionPointsShow(t,e)},t.prototype.notifyConnectionPointsHide=function(){},t.prototype.notifyConnectionTargetShow=function(t,e){this.state.onConnectionTargetShow(t,e)},t.prototype.notifyConnectionTargetHide=function(){},t.prototype.notifyContainerTargetShow=function(t,e){},t.prototype.notifyContainerTargetHide=function(){},t.prototype.notifyExtensionLinesShow=function(t){},t.prototype.notifyExtensionLinesHide=function(){},t}();e.MouseHandler=d},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandlerMoveConnectorPointState=void 0;var r=n(0),a=n(148),s=n(6),l=n(4),c=n(32),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onMouseDown=function(e){this.connector=this.model.findConnector(e.source.key),this.pointIndex=parseInt(e.source.value),0===this.pointIndex?this.pointPosition=s.ConnectorPosition.Begin:this.pointIndex===this.connector.points.length-1&&(this.pointPosition=s.ConnectorPosition.End),this.handler.addInteractingItem(this.connector),t.prototype.onMouseDown.call(this,e)},e.prototype.onApplyChanges=function(e){this.connector.properties.lineOption===c.ConnectorLineOption.Orthogonal&&0!==this.pointIndex&&this.pointIndex!==this.connector.points.length-1||t.prototype.onApplyChanges.call(this,e)},e.prototype.onFinishWithChanges=function(){t.prototype.onFinishWithChanges.call(this),l.ModelUtils.deleteConnectorUnnecessaryPoints(this.history,this.connector),this.handler.tryUpdateModelSize()},e.prototype.getSnappedPoint=function(t,e){var n=this.connector.points,i=this.pointIndex;if(0<i&&i<n.length-1){var o=(n[i+1].y-n[i-1].y)/(n[i+1].x-n[i-1].x),a=e.x,s=n[i+1].y-(n[i+1].x-a)*o;return this.handler.getSnappedPointOnDragPoint(t,e,new r.Point(a,s))}return this.handler.getSnappedPointOnDragPoint(t,e)},e}(a.MouseHandlerMoveConnectorPointStateBase);e.MouseHandlerMoveConnectorPointState=u},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandlerResizeShapeState=void 0;var r=n(2),a=n(0),s=n(11),l=n(34),c=n(4),u=n(7),h=n(16),d=function(t){function e(e,n,i,o,r,a){var s=t.call(this,e,n)||this;return s.model=i,s.selection=o,s.visualizerManager=r,s.settings=a,s.startScrollLeft=0,s.startScrollTop=0,s.rotation=0,s}return o(e,t),e.prototype.finish=function(){this.visualizerManager.resetResizeInfo(),this.visualizerManager.resetExtensionLines(),t.prototype.finish.call(this)},e.prototype.onMouseDown=function(e){var n=this,i=parseInt(e.source.value);this.resizeEventSource=i,this.startPoint=e.modelPoint,this.lockH=i===s.ResizeEventSource.ResizeBox_S||i===s.ResizeEventSource.ResizeBox_N,this.lockV=i===s.ResizeEventSource.ResizeBox_E||i===s.ResizeEventSource.ResizeBox_W,this.sideH=i===s.ResizeEventSource.ResizeBox_E||i===s.ResizeEventSource.ResizeBox_NE||i===s.ResizeEventSource.ResizeBox_SE,this.sideV=i===s.ResizeEventSource.ResizeBox_SE||i===s.ResizeEventSource.ResizeBox_S||i===s.ResizeEventSource.ResizeBox_SW,this.shapes=this.selection.getSelectedShapes(),0!==this.shapes.length?(this.shapes.forEach(function(t){n.handler.addInteractingItem(t,h.DiagramModelOperation.ResizeShape),n.handler.addInteractingItem(t,h.DiagramModelOperation.MoveShape)}),this.connectors=this.selection.getSelectedConnectors(),this.startRectangle=c.ModelUtils.createRectangle(this.shapes),this.startShapeSizes=this.shapes.map(function(t){return t.size.clone()}),this.startShapePositions=this.shapes.map(function(t){return t.position.clone()}),this.startConnectorPoints=this.connectors.map(function(t){return t.points.map(function(t){return t.clone()})}),t.prototype.onMouseDown.call(this,e)):this.handler.switchToDefaultState()},e.prototype.onMouseMove=function(e){t.prototype.onMouseMove.call(this,e);var n=this.selection.getSelectedShapes();this.visualizerManager.setExtensionLines(n)},e.prototype.onApplyChanges=function(t){var e=this,n=c.ModelUtils.createRectangle(this.shapes),i=1===this.shapes.length?this.shapes[0].getMinWidth(this.settings.shapeMinWidth):u.ShapeMinDimension,o=1===this.shapes.length?this.shapes[0].getMinHeight(this.settings.shapeMinHeight):u.ShapeMinDimension,s=1===this.shapes.length?this.shapes[0].getMaxWidth(this.settings.shapeMaxWidth):void 0,l=1===this.shapes.length?this.shapes[0].getMaxHeight(this.settings.shapeMaxHeight):void 0,h=this.getSize(t,n.createPosition(),this.startRectangle.createSize(),i,o,s,l,this.handler.lockAspectRatioOnShapeResize(t)),d=this.getPosition(t,h,this.startRectangle.createSize(),this.startRectangle.createPosition()),p=h.width/this.startRectangle.width,f=h.height/this.startRectangle.height;this.shapes.forEach(function(t,n){var i=e.startShapeSizes[n].width*(t.allowResizeHorizontally?p:1);i=e.getNormalizedSize(i,t.getMinWidth(e.settings.shapeMinWidth),t.getMaxWidth(e.settings.shapeMaxWidth));var o=e.startShapeSizes[n].height*(t.allowResizeVertically?f:1);o=e.getNormalizedSize(o,t.getMinHeight(e.settings.shapeMinHeight),t.getMaxHeight(e.settings.shapeMaxHeight));var s=t.allowResizeHorizontally?d.x+(e.startShapePositions[n].x-e.startRectangle.x)*p:e.startShapePositions[n].x,l=t.allowResizeVertically?d.y+(e.startShapePositions[n].y-e.startRectangle.y)*f:e.startShapePositions[n].y;c.ModelUtils.setShapeSize(e.history,e.model,t,new a.Point(s,l),new r.Size(i,o))}),this.connectors.forEach(function(t,n){for(var i=t.beginItem?1:0,o=t.endItem?t.points.length-2:t.points.length-1,r=i;r<=o;r++){var s=new a.Point(d.x+(e.startConnectorPoints[n][r].x-e.startRectangle.x)*p,d.y+(e.startConnectorPoints[n][r].y-e.startRectangle.y)*f);c.ModelUtils.moveConnectorPoint(e.history,t,r,s)}}),this.selection.getSelectedShapes(!1,!0).forEach(function(t){c.ModelUtils.updateShapeAttachedConnectors(e.history,e.model,t)}),this.tryUpdateModelSize(),this.visualizerManager.setResizeInfo(this.shapes)},e.prototype.tryUpdateModelSize=function(){var t=this;this.handler.tryUpdateModelSize(function(e,n){t.startShapePositions.forEach(function(t){t.x+=e,t.y+=n}),t.startConnectorPoints.forEach(function(t){t.forEach(function(t){t.x+=e,t.y+=n})}),t.startRectangle.x+=e,t.startRectangle.y+=n,t.startPoint.x+=e,t.startPoint.y+=n})},e.prototype.getDraggingElementKeys=function(){return this.shapes.map(function(t){return t.key})},e.prototype.getNormalizedSize=function(t,e,n){return void 0!==e&&(t=Math.max(t,e)),void 0!==n&&(t=Math.min(t,n)),t},e.prototype.getSize=function(t,e,n,i,o,a,s,l){var c,u,h=t.modelPoint.x-(this.startScrollLeft-t.scrollX)-this.startPoint.x,d=t.modelPoint.y-(this.startScrollTop-t.scrollY)-this.startPoint.y,p=h*Math.cos(this.rotation)- -d*Math.sin(this.rotation),f=-(h*Math.sin(this.rotation)+-d*Math.cos(this.rotation));return f=!this.sideV&&f>0?Math.min(n.height+1,f):f,p=!this.sideH&&p>0?Math.min(n.width+1,p):p,this.lockH||this.lockV||!l?(p=this.lockH?0:p,f=this.lockV?0:f,c=this.getNormalizedSize(this.sideH?n.width+p:n.width-p,i,a),u=this.getNormalizedSize(this.sideV?n.height+f:n.height-f,o,s)):Math.abs(p)>Math.abs(f)?(c=this.getNormalizedSize(this.sideH?n.width+p:n.width-p,i,a),u=n.height*(c/n.width)):(u=this.getNormalizedSize(this.sideV?n.height+f:n.height-f,o,s),c=n.width*(u/n.height)),this.lockH||(c=this.getSnappedPosition(t,e.x+c,!0)-e.x),this.lockV||(u=this.getSnappedPosition(t,e.y+u,!1)-e.y),new r.Size(c,u)},e.prototype.getPosition=function(t,e,n,i){var o=i.x,r=i.y;if(this.resizeEventSource===s.ResizeEventSource.ResizeBox_N||this.resizeEventSource===s.ResizeEventSource.ResizeBox_NE||this.resizeEventSource===s.ResizeEventSource.ResizeBox_NW){r+=n.height-e.height;var l=this.getSnappedPosition(t,r,!1);e.height+=r-l,r=l}if(this.resizeEventSource===s.ResizeEventSource.ResizeBox_W||this.resizeEventSource===s.ResizeEventSource.ResizeBox_NW||this.resizeEventSource===s.ResizeEventSource.ResizeBox_SW){o+=n.width-e.width;var c=this.getSnappedPosition(t,o,!0);e.width+=o-c,o=c}return new a.Point(o,r)},e.prototype.getSnappedPosition=function(t,e,n){return this.handler.getSnappedPositionOnResizeShape(t,e,n)},e}(l.MouseHandlerDraggingState);e.MouseHandlerResizeShapeState=d},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandlerMoveConnectorSideState=void 0;var r=n(34),a=n(4),s=function(t){function e(e,n,i){var o=t.call(this,e,n)||this;return o.model=i,o}return o(e,t),e.prototype.onMouseDown=function(e){this.startPoint=e.modelPoint,this.connectorKey=e.source.key,this.pointIndex=parseInt(e.source.value)+1,t.prototype.onMouseDown.call(this,e)},e.prototype.onApplyChanges=function(t){var e=this.getSnappedPoint(t,t.modelPoint),n=this.model.findConnector(this.connectorKey);this.pointCreated?a.ModelUtils.moveConnectorPoint(this.history,n,this.pointIndex,e):(this.handler.addInteractingItem(n),a.ModelUtils.addConnectorPoint(this.history,this.connectorKey,this.pointIndex,e.clone()),this.pointCreated=!0),this.handler.tryUpdateModelSize()},e.prototype.onFinishWithChanges=function(){var t=this.model.findConnector(this.connectorKey);a.ModelUtils.deleteConnectorUnnecessaryPoints(this.history,t),a.ModelUtils.fixConnectorBeginEndConnectionIndex(this.history,t),this.handler.tryUpdateModelSize()},e.prototype.getDraggingElementKeys=function(){return[this.connectorKey]},e}(r.MouseHandlerDraggingState);e.MouseHandlerMoveConnectorSideState=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandlerDragParameterPointState=void 0;var r=n(34),a=n(112),s=function(t){function e(e,n,i){var o=t.call(this,e,n)||this;return o.model=i,o.startScrollLeft=0,o.startScrollTop=0,o}return o(e,t),e.prototype.onMouseDown=function(e){this.startPoint=e.modelPoint,this.shape=this.model.findShape(e.source.key),this.parameterPointKey=e.source.value,this.startParameters=this.shape.parameters.clone(),t.prototype.onMouseDown.call(this,e)},e.prototype.onApplyChanges=function(t){var e=this.handler.getSnappedOffsetOnDragPoint(t,this.startPoint),n=this.startParameters.clone();this.shape.description.modifyParameters(this.shape,n,e.x,e.y),this.history.addAndRedo(new a.ChangeShapeParametersHistoryItem(this.shape.key,n))},e.prototype.getDraggingElementKeys=function(){return[this.shape.key]},e}(r.MouseHandlerDraggingState);e.MouseHandlerDragParameterPointState=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandlerCreateConnectorState=void 0;var r=n(6),a=n(48),s=n(66),l=n(9),c=n(148),u=n(68),h=n(53),d=n(4),p=n(67),f=n(113),m=function(t){function e(e,n,i,o,r,a,s){var l=t.call(this,e,n,i,o)||this;return l.shapeDescriptionManager=r,l.selection=a,l.connectionPointIndex=s,l}return o(e,t),e.prototype.onMouseDown=function(e){void 0===this.connectionPointIndex&&(this.connectionPointIndex=parseInt(e.source.value)),this.connectedItem=this.model.findItem(e.source.key),this.pointIndex=1,this.pointPosition=r.ConnectorPosition.End,t.prototype.onMouseDown.call(this,e)},e.prototype.onMouseUp=function(e){this.connector&&!this.connector.endItem&&this.createNewShapeAtConnectorEnd(e),t.prototype.onMouseUp.call(this,e)},e.prototype.onApplyChanges=function(e){var n=this.getSnappedPoint(e,e.modelPoint);if(this.connector)t.prototype.onApplyChanges.call(this,e);else{var i=new s.AddConnectorHistoryItem([this.connectedItem.getConnectionPointPosition(this.connectionPointIndex,n),n]);this.history.addAndRedo(i),this.connector=this.model.findConnector(i.connectorKey),this.handler.addInteractingItem(this.connector),this.history.addAndRedo(new a.AddConnectionHistoryItem(this.connector,this.connectedItem,this.connectionPointIndex,r.ConnectorPosition.Begin)),d.ModelUtils.updateNewConnectorProperties(this.history,this.selection,this.connector.key)}},e.prototype.checkStoredPermissionsOnFinish=function(){this.connector&&this.connector.endItem&&t.prototype.checkStoredPermissionsOnFinish.call(this)},e.prototype.onFinishWithChanges=function(){t.prototype.onFinishWithChanges.call(this),this.history.addAndRedo(new u.SetSelectionHistoryItem(this.selection,[this.connector.key]))},e.prototype.createNewShapeAtConnectorEnd=function(t){var e=this,n=this.connector&&this.connector.beginItem;if(n)if(!this.connector||this.handler.canPerformChangeConnection(this.connector,{position:r.ConnectorPosition.End,connectionPointIndex:-1})){var i=this.getNewShapeSide(this.connector),o=this.getSnappedPoint(t,t.modelPoint),s=this.shapeDescriptionManager.getCategoryByDescription(n.description);this.handler.showContextToolbox(o,function(n){var r=n.clone();r.position=o.clone();var a=e.getNewShapePosition(r,i);return e.handler.getSnappedPointOnDragPoint(t,a)},i,s,function(n){if(n){e.handler.beginStorePermissions(),e.history.beginTransaction();var s=new h.AddShapeHistoryItem(e.shapeDescriptionManager.get(n),o);e.history.addAndRedo(s);var l=e.model.findShape(s.shapeKey),c=e.targetItem&&e.model.findNearestContainer(e.targetItem.key);c&&d.ModelUtils.insertToContainer(e.history,e.model,l,c);var p=e.getNewShapePosition(l,i);d.ModelUtils.setShapePosition(e.history,e.model,l,e.getSnappedPoint(t,p)),d.ModelUtils.updateNewShapeProperties(e.history,e.selection,l.key),e.history.addAndRedo(new a.AddConnectionHistoryItem(e.connector,l,l.getConnectionPointIndexForSide(i),r.ConnectorPosition.End)),c&&d.ModelUtils.updateConnectorContainer(e.history,e.model,e.connector),d.ModelUtils.updateShapeAttachedConnectors(e.history,e.model,l),e.handler.isStoredPermissionsGranted()?(e.handler.tryUpdateModelSize(),e.history.addAndRedo(new u.SetSelectionHistoryItem(e.selection,[l.key]))):(e.handler.lockPermissions(),e.history.undoTransaction(),e.handler.unlockPermissions(),e.checkNewConnectorPermissions()),e.history.endTransaction(),e.handler.endStorePermissions(),e.handler.hideContextToolbox(!0)}},function(){e.checkNewConnectorPermissions()})}else this.cancelChanges()},e.prototype.checkNewConnectorPermissions=function(){this.connector&&!this.handler.canPerformChangeConnection(this.connector,{position:r.ConnectorPosition.End,connectionPointIndex:-1})&&(this.handler.lockPermissions(),this.history.beginTransaction(),this.history.addAndRedo(new u.SetSelectionHistoryItem(this.selection,[])),this.connector.beginItem&&this.history.addAndRedo(new p.DeleteConnectionHistoryItem(this.connector,r.ConnectorPosition.Begin)),this.connector.endItem&&this.history.addAndRedo(new p.DeleteConnectionHistoryItem(this.connector,r.ConnectorPosition.End)),this.history.addAndRedo(new f.DeleteConnectorHistoryItem(this.connector.key)),this.history.endTransaction(),this.handler.unlockPermissions())},e.prototype.getNewShapePosition=function(t,e){switch(e){case l.ConnectionPointSide.North:return t.position.clone().offset(-t.size.width/2,0);case l.ConnectionPointSide.South:return t.position.clone().offset(-t.size.width/2,-t.size.height);case l.ConnectionPointSide.East:return t.position.clone().offset(-t.size.width,-t.size.height/2);case l.ConnectionPointSide.West:return t.position.clone().offset(0,-t.size.height/2)}},e.prototype.getNewShapeSide=function(t){var n=t.getRenderPoints();return e.getNewShapeSideByConnectorPoints(n[n.length-1],n[n.length-2])},e.prototype.getSourceItem=function(){return this.connectedItem},e.getNewShapeSideByConnectorPoints=function(t,e){return t.x===e.x?t.y>e.y?l.ConnectionPointSide.North:l.ConnectionPointSide.South:t.x>e.x?t.y===e.y?l.ConnectionPointSide.West:t.y>e.y?Math.abs(t.x-e.x)>Math.abs(t.y-e.y)?l.ConnectionPointSide.West:l.ConnectionPointSide.North:Math.abs(t.x-e.x)>Math.abs(t.y-e.y)?l.ConnectionPointSide.West:l.ConnectionPointSide.South:t.y===e.y?l.ConnectionPointSide.East:t.y>e.y?Math.abs(t.x-e.x)>Math.abs(t.y-e.y)?l.ConnectionPointSide.East:l.ConnectionPointSide.North:Math.abs(t.x-e.x)>Math.abs(t.y-e.y)?l.ConnectionPointSide.East:l.ConnectionPointSide.South},e}(c.MouseHandlerMoveConnectorPointStateBase);e.MouseHandlerCreateConnectorState=m},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandlerMoveConnectorOrthogonalSideState=void 0;var r=n(0),a=n(6),s=n(9),l=n(4),c=function(t){function e(e,n,i){var o=t.call(this,e,n)||this;return o.model=i,o}return o(e,t),e.prototype.onMouseDown=function(e){this.startPoint=e.modelPoint,this.connector=this.model.findConnector(e.source.key),this.handler.addInteractingItem(this.connector);var n=e.source.value.split("_"),i=parseInt(n[0]),o=parseInt(n[1]),r=this.connector.getRenderPoints(!0);this.renderPoint1=r[i].clone(),this.renderPoint2=r[o].clone(),this.isVerticalOrientation=this.renderPoint1.x===this.renderPoint2.x,-1!==this.renderPoint1.pointIndex?(this.pointIndex1=this.renderPoint1.pointIndex,0===this.pointIndex1?(this.pointIndex1++,this.correctEdgePoint(this.renderPoint1,this.renderPoint2,this.connector.beginItem,this.connector.beginConnectionPointIndex)):this.point1=this.connector.points[this.pointIndex1].clone()):this.pointIndex1=this.findPointIndex(r,i,!1)+1,-1!==this.renderPoint2.pointIndex?(this.pointIndex2=this.renderPoint2.pointIndex,this.pointIndex2===this.connector.points.length-1?this.correctEdgePoint(this.renderPoint2,this.renderPoint1,this.connector.endItem,this.connector.endConnectionPointIndex):this.point2=this.connector.points[this.pointIndex2].clone()):this.pointIndex2=this.findPointIndex(r,o,!0),t.prototype.onMouseDown.call(this,e)},e.prototype.onApplyChanges=function(t){var e=this;if(!this.pointCreated){var n=void 0,i=void 0;void 0===this.point1&&(this.point1=new r.Point(this.renderPoint1.x,this.renderPoint1.y),l.ModelUtils.addConnectorPoint(this.history,this.connector.key,this.pointIndex1,this.point1.clone()),n=this.point1.clone(),this.pointIndex2++),void 0===this.point2&&(this.point2=new r.Point(this.renderPoint2.x,this.renderPoint2.y),l.ModelUtils.addConnectorPoint(this.history,this.connector.key,this.pointIndex2,this.point2.clone()),i=this.point2.clone());var o=[];n&&o.push(n),i&&o.push(i);var a=this.createUnnecessaryPoints(this.connector,o);Object.keys(a).forEach(function(t){var n=parseInt(t);n<e.pointIndex1&&e.pointIndex1--,n<e.pointIndex2&&e.pointIndex2--}),this.pointCreated=!0}var s=this.getSnappedPoint(t,t.modelPoint);this.isVerticalOrientation?(this.point1.x=s.x,this.point2.x=s.x):(this.point1.y=s.y,this.point2.y=s.y),l.ModelUtils.moveConnectorRightAnglePoints(this.history,this.connector,this.point1.clone(),this.pointIndex1,this.point2.clone(),this.pointIndex2),this.handler.tryUpdateModelSize()},e.prototype.createUnnecessaryPoints=function(t,e){var n=t.getRenderPoints(!0).map(function(t){return t.clone()}),i=l.ModelUtils.createUnnecessaryRenderPoints(n.filter(function(t){return!t.skipped}).map(function(t){return t.clone()}),t.skippedRenderPoints,function(t){return l.ModelUtils.findFirstPointIndex(n,function(e){return e.equals(t)})},function(t){return!e.some(function(e){return e.equals(t)})}),o={};if(Object.keys(i).length){var r=t.points.map(function(t){return t.clone()}),a=r.length-1;r.forEach(function(t,e){0===e||e===a||l.ModelUtils.isNecessaryPoint(t,e,i)||(o[e]=t)})}return o},e.prototype.onFinishWithChanges=function(){l.ModelUtils.deleteConnectorUnnecessaryPoints(this.history,this.connector),l.ModelUtils.fixConnectorBeginEndConnectionIndex(this.history,this.connector),this.handler.tryUpdateModelSize()},e.prototype.findPointIndex=function(t,e,n){for(var i;i=t[e];){if(-1!==i.pointIndex)return i.pointIndex;e+=n?1:-1}},e.prototype.correctEdgePoint=function(t,e,n,i){var o=0;if(n){var r=n.getConnectionPointSideByIndex(i),l=n.rectangle;switch(o=a.Connector.minOffset,r){case s.ConnectionPointSide.South:o+=l.bottom-t.y;break;case s.ConnectionPointSide.North:o+=t.y-l.y;break;case s.ConnectionPointSide.East:o+=l.right-t.x;break;case s.ConnectionPointSide.West:o+=t.x-l.x}}this.isVerticalOrientation?t.y>e.y?t.y-=Math.min(o,t.y-e.y):t.y+=Math.min(o,e.y-t.y):t.x>e.x?t.x-=Math.min(o,t.x-e.x):t.x+=Math.min(o,e.x-t.x)},e.prototype.getDraggingElementKeys=function(){return[this.connector.key]},e}(n(34).MouseHandlerDraggingState);e.MouseHandlerMoveConnectorOrthogonalSideState=c},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandlerToolboxDraggingState=e.MouseHandlerBeforeToolboxDraggingState=void 0;var r=n(11),a=n(0),s=n(53),l=n(68),c=n(34),u=n(114),h=n(4),d=n(40),p=n(16),f=300,m=function(t){function e(e,n,i,o,r,a){var s=t.call(this,e)||this;return s.history=n,s.model=i,s.selection=o,s.visualizerManager=r,s.shapeDescriptionManager=a,s.isModelEmpty=0===i.items.length,s}return o(e,t),e.prototype.cancelChanges=function(){this.tryRemoveTimer()},e.prototype.onDragStart=function(t){this.dragging=t},e.prototype.onDragEnd=function(t){this.cancelChanges(),this.handler.switchToDefaultState()},e.prototype.onMouseMove=function(t){var e=this;t.source.type>r.MouseEventElementType.Background?(this.tryRemoveTimer(),this.switchToDraggingState(t,!1)):t.source.type!==r.MouseEventElementType.Background||this.isModelEmpty?void 0!==this.nonPageAreaTimer&&this.tryRemoveTimer():(this.savedEvt=t,void 0===this.nonPageAreaTimer&&(this.nonPageAreaTimer=setTimeout(function(){return e.switchToDraggingState(e.savedEvt,!0)},500)))},e.prototype.switchToDraggingState=function(t,e){this.handler.switchState(new g(this.handler,this.history,this.model,this.selection,this.visualizerManager,this.shapeDescriptionManager,e)),this.handler.state.onDragStart(this.dragging),this.handler.state.onMouseMove(t)},e.prototype.tryRemoveTimer=function(){void 0!==this.nonPageAreaTimer&&(clearTimeout(this.nonPageAreaTimer),delete this.nonPageAreaTimer)},e.prototype.finish=function(){this.tryRemoveTimer()},e}(d.MouseHandlerCancellableState);e.MouseHandlerBeforeToolboxDraggingState=m;var g=function(t){function e(e,n,i,o,r,a,s){var l=t.call(this,e,n)||this;return l.model=i,l.selection=o,l.visualizerManager=r,l.shapeDescriptionManager=a,s||(l.updatePageSizeTimer=setTimeout(function(){l.processAndRemoveUpdatePageSizeTimer()},f)),l}return o(e,t),e.prototype.cancelChanges=function(){this.tryRemoveUpdatePageSizeTimer(),t.prototype.cancelChanges.call(this)},e.prototype.tryRemoveUpdatePageSizeTimer=function(){void 0!==this.updatePageSizeTimer&&(clearTimeout(this.updatePageSizeTimer),delete this.updatePageSizeTimer)},e.prototype.processAndRemoveUpdatePageSizeTimer=function(){void 0!==this.updatePageSizeTimer&&(this.handler.tryUpdateModelSize(),delete this.updatePageSizeTimer)},e.prototype.onMouseMove=function(e){t.prototype.onMouseMove.call(this,e);var n=this.model.findShape(this.shapeKey);if(n){this.visualizerManager.setExtensionLines([n]);var i=h.ModelUtils.findContainerByEventKey(this.model,this.selection,e.source.key);i&&this.allowInsertToContainer(e,n,i)?this.visualizerManager.setContainerTarget(i,e.source.type):this.visualizerManager.resetContainerTarget()}},e.prototype.getDraggingElementKeys=function(){return void 0===this.shapeKey?[]:[this.shapeKey]},e.prototype.onApplyChanges=function(t){var e=this;if(t.source.type===r.MouseEventElementType.Undefined){if(this.dragging.onCaptured(!1),void 0!==this.shapeKey&&!this.deleteHistoryItem){var n=this.model.findShape(this.shapeKey);h.ModelUtils.detachConnectors(this.history,n),h.ModelUtils.removeFromContainer(this.history,this.model,n),this.deleteHistoryItem=new u.DeleteShapeHistoryItem(this.shapeKey,!0),this.history.addAndRedo(this.deleteHistoryItem)}}else{if(this.dragging.onCaptured(!0),void 0===this.shapeKey){this.startPoint=t.modelPoint,this.shapeKey=this.insertToolboxItem(t);var i=this.model.findShape(this.shapeKey);i&&this.handler.addInteractingItem(i,p.DiagramModelOperation.AddShape)}this.deleteHistoryItem&&(this.history.undoTransactionTo(this.deleteHistoryItem),delete this.deleteHistoryItem);var o=this.getPosition(t,this.startShapePosition);n=this.model.findShape(this.shapeKey),h.ModelUtils.setShapePosition(this.history,this.model,n,o),h.ModelUtils.updateMovingShapeConnections(this.history,n,this.connectorsWithoutBeginItemInfo,this.connectorsWithoutEndItemInfo,function(){e.visualizerManager.resetConnectionTarget(),e.visualizerManager.resetConnectionPoints()},function(t,n){e.visualizerManager.setConnectionTarget(t,r.MouseEventElementType.Shape),e.visualizerManager.setConnectionPoints(t,r.MouseEventElementType.Shape,n,!0)},function(t){return e.handler.addInteractingItem(t)}),h.ModelUtils.updateShapeAttachedConnectors(this.history,this.model,n);var a=h.ModelUtils.findContainerByEventKey(this.model,this.selection,t.source.key);n&&a&&this.allowInsertToContainer(t,n,a)?h.ModelUtils.insertToContainer(this.history,this.model,n,a):h.ModelUtils.removeFromContainer(this.history,this.model,n),void 0===this.updatePageSizeTimer&&this.handler.tryUpdateModelSize(function(t,n){e.connectorsWithoutBeginItemInfo.forEach(function(e){e.point.x+=t,e.point.y+=n}),e.connectorsWithoutEndItemInfo.forEach(function(e){e.point.x+=t,e.point.y+=n})})}},e.prototype.onFinishWithChanges=function(){this.deleteHistoryItem||this.history.addAndRedo(new l.SetSelectionHistoryItem(this.selection,[this.shapeKey]))},e.prototype.onDragStart=function(t){this.dragging=t,this.connectorsWithoutBeginItemInfo=h.ModelUtils.getConnectorsWithoutBeginItemInfo(this.model),this.connectorsWithoutEndItemInfo=h.ModelUtils.getConnectorsWithoutEndItemInfo(this.model)},e.prototype.onDragEnd=function(t){void 0!==this.shapeKey&&t.source.type===r.MouseEventElementType.Undefined&&this.cancelChanges(),this.handler.switchToDefaultState()},e.prototype.finish=function(){this.visualizerManager.resetExtensionLines(),this.visualizerManager.resetContainerTarget(),this.visualizerManager.resetConnectionTarget(),this.visualizerManager.resetConnectionPoints(),this.processAndRemoveUpdatePageSizeTimer(),this.dragging.onFinishDragging(),t.prototype.finish.call(this)},e.prototype.insertToolboxItem=function(t){var e=this.shapeDescriptionManager.get(this.dragging.data);this.startShapePosition=this.getSnappedPoint(t,new a.Point(t.modelPoint.x-e.defaultSize.width/2,t.modelPoint.y-e.defaultSize.height/2));var n=new s.AddShapeHistoryItem(e,this.startShapePosition);return this.history.addAndRedo(n),h.ModelUtils.updateNewShapeProperties(this.history,this.selection,n.shapeKey),n.shapeKey},e.prototype.allowInsertToContainer=function(t,e,n){return!this.handler.canMultipleSelection(t)&&n&&n.expanded&&h.ModelUtils.canInsertToContainer(this.model,e,n)},e.prototype.getPosition=function(t,e){return this.getSnappedPoint(t,new a.Point(e.x+t.modelPoint.x-this.startPoint.x,e.y+t.modelPoint.y-this.startPoint.y))},e}(c.MouseHandlerDraggingState);e.MouseHandlerToolboxDraggingState=g},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandlerMoveConnectorTextState=void 0;var r=n(34),a=n(313),s=n(69),l=function(t){function e(e,n,i){var o=t.call(this,e,n)||this;return o.model=i,o}return o(e,t),e.prototype.onMouseDown=function(e){this.connector=this.model.findConnector(e.source.key),this.position=parseFloat(e.source.value),this.text=this.connector.getText(this.position),this.savedText="",t.prototype.onMouseDown.call(this,e)},e.prototype.onApplyChanges=function(t){var e=this.connector.getTextPositionByPoint(t.modelPoint);if(e!==this.position){var n=this.connector.getText(e);""!==n&&n!==this.text&&(this.history.addAndRedo(new s.ChangeConnectorTextHistoryItem(this.connector,e,"")),this.savedText=n),this.history.addAndRedo(new a.ChangeConnectorTextPositionHistoryItem(this.connector,this.position,e)),""!==this.savedText&&this.savedText!==n&&(this.history.addAndRedo(new s.ChangeConnectorTextHistoryItem(this.connector,this.position,this.savedText)),this.savedText=""),this.position=e}},e.prototype.getDraggingElementKeys=function(){return[this.connector.key]},e}(r.MouseHandlerDraggingState);e.MouseHandlerMoveConnectorTextState=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeConnectorTextPositionHistoryItem=void 0;var r=function(t){function e(e,n,i){var o=t.call(this)||this;return o.connectorKey=e.key,o.position=n,o.newPosition=i,o}return o(e,t),e.prototype.redo=function(t){var e=t.model.findConnector(this.connectorKey);t.changeConnectorTextPosition(e,this.position,this.newPosition)},e.prototype.undo=function(t){var e=t.model.findConnector(this.connectorKey);t.changeConnectorTextPosition(e,this.newPosition,this.position)},e}(n(8).HistoryItem);e.ChangeConnectorTextPositionHistoryItem=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandlerToggleShapeExpandedState=void 0;var r=n(40),a=n(315),s=n(4),l=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;return r.history=n,r.model=i,r.selection=o,r}return o(e,t),e.prototype.onMouseUp=function(t){var e=this.model.findShape(t.source.key);e&&!e.isLocked&&(this.history.beginTransaction(),this.history.addAndRedo(new a.ToggleShapeExpandedHistoryItem(e)),s.ModelUtils.updateShapeAttachedConnectors(this.history,this.model,e),s.ModelUtils.updateContainerConnectorsAttachedPoints(this.history,this.model,e),s.ModelUtils.updateSelection(this.history,this.selection),this.handler.tryUpdateModelSize(),this.history.endTransaction(),this.handler.raiseClick([e.key])),this.handler.switchToDefaultState()},e}(r.MouseHandlerStateBase);e.MouseHandlerToggleShapeExpandedState=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleShapeExpandedHistoryItem=void 0;var r=function(t){function e(e){var n=t.call(this)||this;return n.shapeKey=e.key,n.expanded=e.expanded,n}return o(e,t),e.prototype.redo=function(t){var e=t.model.findShape(this.shapeKey);t.changeShapeExpanded(e,!this.expanded)},e.prototype.undo=function(t){var e=t.model.findShape(this.shapeKey);t.changeShapeExpanded(e,this.expanded)},e}(n(8).HistoryItem);e.ToggleShapeExpandedHistoryItem=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandlerSelectionState=void 0;var r=n(11),a=n(13),s=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.selection=n,o.visualizerManager=i,o}return o(e,t),e.prototype.finish=function(){this.handler.raiseDragEnd([]),this.visualizerManager.resetSelectionRectangle(),t.prototype.finish.call(this)},e.prototype.cancelChanges=function(){},e.prototype.onMouseDown=function(t){this.startPoint=t.modelPoint,this.handler.raiseDragStart([])},e.prototype.onMouseMove=function(t){t.button!==r.MouseButton.Left?this.handler.switchToDefaultState():(this.rectangle=a.Rectangle.fromPoints(this.startPoint,t.modelPoint),this.visualizerManager.setSelectionRectangle(this.rectangle))},e.prototype.onMouseUp=function(t){void 0!==this.rectangle?this.selection.selectRect(this.rectangle):this.selection.set([]),this.rectangle=void 0,this.handler.switchToDefaultState()},e}(n(40).MouseHandlerCancellableState);e.MouseHandlerSelectionState=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandlerZoomOnWheelState=void 0;var r=n(40),a=n(11),s=n(28),l=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.settings=n,o.view=i,o}return o(e,t),e.prototype.onMouseWheel=function(t){return this.trySwitchToDefault(t)?this.handler.state.onMouseWheel(t):(this.settings.zoomLevel=this.view.getNextStepZoom(t.deltaY<0),t.source.type===a.MouseEventElementType.Background?this.view.resetScroll():(this.view.scrollTo(t.modelPoint,t.offsetPoint),this.view.normalize()),t.preventDefault=!0,!0)},e.prototype.onMouseUp=function(t){this.handler.switchToDefaultState(),this.handler.state.onMouseUp(t)},e.prototype.onMouseDown=function(t){this.handler.switchToDefaultState(),this.handler.state.onMouseDown(t)},e.prototype.onMouseMove=function(t){this.trySwitchToDefault(t)&&this.handler.state.onMouseMove(t)},e.prototype.trySwitchToDefault=function(t){return!!this.handler.canFinishZoomOnWheel(t)&&(this.handler.switchToDefaultState(),!0)},e.prototype.start=function(){t.prototype.start.call(this),this.settings.zoomLevel=this.view.getZoom(),this.settings.autoZoom=s.AutoZoomMode.Disabled},e}(r.MouseHandlerStateBase);e.MouseHandlerZoomOnWheelState=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandlerZoomOnPinchState=void 0;var r=n(28),a=n(0),s=n(150),l=n(35),c=function(t){function e(e,n,i,o){var r=t.call(this,e,o,n)||this;return r.selection=n,r.settings=i,r.view=o,r}return o(e,t),e.prototype.onMouseDown=function(e){t.prototype.onMouseDown.call(this,e),e.touches.length>1&&(this.startDistance=this.getTouchDistance(e),this.startZoomLevel=this.settings.zoomLevel,this.prevDistance=this.startDistance)},e.prototype.onMouseMove=function(e){if(e.touches.length>1){var n=this.getTouchDistance(e);Math.abs(this.prevDistance-n)>1&&(this.settings.zoomLevel=this.startZoomLevel*(n/this.startDistance),this.view.scrollTo(this.getMiddleLayoutPoint(e),this.getMiddleAbsPoint(e)),this.view.normalize(),this.prevDistance=n)}t.prototype.onMouseMove.call(this,e)},e.prototype.onMouseUp=function(t){0===t.touches.length&&setTimeout(function(){this.handler.switchToDefaultState()}.bind(this),1)},e.prototype.start=function(){t.prototype.start.call(this),this.settings.zoomLevel=this.view.getZoom(),this.settings.autoZoom=r.AutoZoomMode.Disabled},e.prototype.getTouchDistance=function(t){var e=new a.Point(t.touches[0].offsetPoint.x,t.touches[0].offsetPoint.y),n=new a.Point(t.touches[1].offsetPoint.x,t.touches[1].offsetPoint.y);return l.Metrics.euclideanDistance(e,n)},e.prototype.getPointByEvent=function(t){return this.getMiddleAbsPoint(t)},e.prototype.getMiddleAbsPoint=function(t){return t.touches.length>1?e.getMiddlePointByEvent(t,function(t){return t.offsetPoint}):t.offsetPoint},e.prototype.getMiddleLayoutPoint=function(t){return t.touches.length>1?e.getMiddlePointByEvent(t,function(t){return t.modelPoint}):t.modelPoint},e.getMiddlePointByEvent=function(t,e){if(t.touches.length>1)return new a.Point((e(t.touches[0]).x+e(t.touches[1]).x)/2,(e(t.touches[0]).y+e(t.touches[1]).y)/2)},e}(s.MouseHandlerScrollingState);e.MouseHandlerZoomOnPinchState=c},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandlerMoveShapeState=void 0;var r=function(t){function e(e,n,i,o,r){var a=t.call(this,e,n,i,o,r)||this;return a.model=i,a.selection=o,a.visualizerManager=r,a}return o(e,t),Object.defineProperty(e.prototype,"areValidDraggingShapes",{get:function(){return this.shouldClone||this.draggingShapes.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"areValidDraggingConnectors",{get:function(){return!0},enumerable:!1,configurable:!0}),e}(n(151).MouseHandlerDragDiagramItemStateBase);e.MouseHandlerMoveShapeState=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandlerMoveConnectorState=void 0;var r=n(4),a=function(t){function e(e,n,i,o,r){var a=t.call(this,e,n,i,o,r)||this;return a.model=i,a.selection=o,a.visualizerManager=r,a}return o(e,t),Object.defineProperty(e.prototype,"areValidDraggingShapes",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"areValidDraggingConnectors",{get:function(){var t=this;return this.shouldClone?this.draggingShapes.length>0||this.draggingConnectors.length>0:!!this.draggingConnectors.length&&(this.draggingShapes.length?r.ModelUtils.canMoveConnector(this.selectedItems,this.draggingConnectors[this.draggingConnectorsIndexByKey[this.handler.mouseDownEvent.source.key]].connector):!this.draggingConnectors.some(function(e){return!r.ModelUtils.canMoveConnector(t.selectedItems,e.connector)}))},enumerable:!1,configurable:!0}),e}(n(151).MouseHandlerDragDiagramItemStateBase);e.MouseHandlerMoveConnectorState=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandlerDefaultReadOnlyTouchState=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.canDragObjectOnMouseDown=function(t){return!1},e.prototype.canExpandContainerOnMouseDown=function(t){return!1},e.prototype.canClearSelectionOnMouseDown=function(){return!0},e.prototype.canSelectOnMouseUp=function(t){return!this.inSelection(t)},e.prototype.canClearSelectionOnMouseUp=function(){return!1},e}(n(152).MouseHandlerDefaultReadOnlyState);e.MouseHandlerDefaultReadOnlyTouchState=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandlerDefaultTouchState=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.updateConnectionsOnMouseMove=function(t){},e.prototype.canDragObjectOnMouseDown=function(t){return this.inSelection(t)},e.prototype.canExpandContainerOnMouseDown=function(t){return!0},e.prototype.canClearSelectionOnMouseDown=function(){return!0},e.prototype.canSelectOnMouseUp=function(t){return!this.inSelection(t)},e.prototype.canClearSelectionOnMouseUp=function(){return!1},e}(n(147).MouseHandlerDefaultState);e.MouseHandlerDefaultTouchState=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextInputHandler=void 0;var i=n(153),o=n(11),r=n(25),a=n(14),s=n(6),l=n(69),c=function(){function t(t){this.control=t}return t.prototype.startTextInput=function(t,e){if(!t.isLocked&&t.enableText&&t.allowEditText&&!this.control.settings.readOnly&&this.canFinishTextEditing()){this.control.beginUpdate(),this.textInputItem=t;var n=!0;if(this.textInputItem instanceof a.Shape){var i=this.textInputItem.textEditRectangle;(n=this.control.permissionsProvider.canChangeShapeText(this.textInputItem))&&this.control.eventManager.raiseTextInputStart(this.textInputItem,this.textInputItem.text,i.createPosition(),i.createSize())}else this.textInputItem instanceof s.Connector&&(this.textInputPosition=e,(n=this.control.permissionsProvider.canChangeConnectorText(this.textInputItem,this.textInputPosition))&&this.control.eventManager.raiseTextInputStart(this.textInputItem,this.textInputItem.getText(this.textInputPosition),this.textInputItem.getTextPoint(this.textInputPosition)));n||(delete this.textInputItem,this.control.endUpdate())}},t.prototype.endTextInput=function(t){var e=this.textInputItem;delete this.textInputItem,this.control.eventManager.raiseTextInputEnd(e,t),this.control.endUpdate(),this.control.barManager.updateItemsState()},t.prototype.raiseTextInputPermissionsCheck=function(t){this.control.eventManager.raiseTextInputPermissionsCheck(this.textInputItem,t)},t.prototype.applyTextInput=function(t,e){if(this.canFinishTextEditing(t)){var n=this.textInputItem,o=this.textInputPosition;this.endTextInput(e),n instanceof a.Shape?n.text!==t&&this.control.history.addAndRedo(new i.ChangeShapeTextHistoryItem(n,t)):n instanceof s.Connector&&n.getText(o)!==t&&this.control.history.addAndRedo(new l.ChangeConnectorTextHistoryItem(n,o,t))}},t.prototype.canFinishTextEditing=function(t){var e=!0;if(this.isTextInputActive()){var n=t||this.getTextInputElementValue();this.textInputItem instanceof a.Shape?e=this.control.permissionsProvider.canApplyShapeTextChange(this.textInputItem,n):this.textInputItem instanceof s.Connector&&(e=this.control.permissionsProvider.canApplyConnectorTextChange(this.textInputItem,this.textInputPosition,n)),this.raiseTextInputPermissionsCheck(e)}return e},t.prototype.getTextInputElementValue=function(){return this.control.render?this.control.render.input.getTextInputElementValue():""},t.prototype.cancelTextInput=function(){this.raiseTextInputPermissionsCheck(!0),this.endTextInput(!0)},t.prototype.isTextInputActive=function(){return void 0!==this.textInputItem},t.prototype.processDblClick=function(t){if(t.source.type===o.MouseEventElementType.Shape){var e=this.control.model.findShape(t.source.key);this.startTextInput(e)}else if(t.source.type===o.MouseEventElementType.Connector){var n=(i=this.control.model.findConnector(t.source.key)).getTextPositionByPoint(t.modelPoint);this.startTextInput(i,n)}else if(t.source.type===o.MouseEventElementType.ConnectorText){var i=this.control.model.findConnector(t.source.key);n=parseFloat(t.source.value),this.startTextInput(i,n)}},t.prototype.onDblClick=function(t){var e=this;setTimeout(function(){e.processDblClick(t)},10)},t.prototype.onKeyDown=function(t){this.isTextInputActive()&&(13===t.keyCode&&this.hasCtrlModifier(t.modifiers)&&(t.preventDefault=!0,this.applyTextInput(t.inputText,!0)),27===t.keyCode&&this.cancelTextInput())},t.prototype.onBlur=function(t){this.isTextInputActive()&&this.applyTextInput(t.inputText)},t.prototype.onFocus=function(t){},t.prototype.hasCtrlModifier=function(t){return(t&r.ModifierKey.Ctrl)>0},t}();e.TextInputHandler=c},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuTouchHandler=void 0;var r=n(11),a=n(154),s=n(4),l=function(t){function e(e){var n=t.call(this)||this;return n.selection=e,n.contextToolboxVisible=!1,n.selection.onChanged.add(n),n}return o(e,t),e.prototype.onMouseDown=function(t){void 0===t.source.key&&this.hideContextMenu()},e.prototype.onMouseUp=function(t){},e.prototype.onFocus=function(t){var e=this;setTimeout(function(){e.showContextMenuAtSelection()},1)},e.prototype.onBlur=function(t){var e=this;setTimeout(function(){e.hideContextMenu()},1)},e.prototype.onTextInputFocus=function(t){var e=this;setTimeout(function(){e.hideContextMenu()},1)},e.prototype.onTextInputBlur=function(t){var e=this;setTimeout(function(){e.showContextMenuAtSelection()},1)},e.prototype.onLongTouch=function(t){t.source.type===r.MouseEventElementType.Document&&this.showContextMenuAtEmptySelection(t.modelPoint)},e.prototype.onKeyDown=function(t){},e.prototype.onShortcut=function(t){},e.prototype.getSelectedItems=function(){return this.selection.getSelectedItems(!0)},e.prototype.showContextMenuAtSelection=function(){if(!this.contextToolboxVisible){var t=this.getSelectedItems();0!==t.length&&this.showContextMenu(void 0,s.ModelUtils.createRectangle(t).createPosition())}},e.prototype.showContextMenuAtEmptySelection=function(t){this.contextToolboxVisible||0===this.getSelectedItems().length&&this.showContextMenu(void 0,t)},e.prototype.notifyDragStart=function(t){this.hideContextMenu()},e.prototype.notifyDragEnd=function(t){this.showContextMenuAtSelection()},e.prototype.notifySelectionChanged=function(t){this.isUpdateLocked()?this.registerOccurredEvent(1):this.raiseSelectionChanged()},e.prototype.raiseSelectionChanged=function(){0!==this.getSelectedItems().length?this.showContextMenuAtSelection():this.hideContextMenu()},e.prototype.onUpdateUnlocked=function(t){1&t&&this.raiseSelectionChanged()},e.prototype.notifyShowContextToolbox=function(t,e,n,i,o){this.contextToolboxVisible=!0,this.hideContextMenu()},e.prototype.notifyHideContextToolbox=function(){this.contextToolboxVisible=!1,this.showContextMenuAtSelection()},e}(a.ContextMenuHandler);e.ContextMenuTouchHandler=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionTargetVisualizer=e.ConnectionTargetInfo=void 0;var r=n(156),a=function(t,e){this.rect=t,this.strokeWidth=e,this.allowed=!0};e.ConnectionTargetInfo=a;var s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.raiseShow=function(){var t=this,e=new a(this.targetRect,this.targetStrokeWidth);this.dispatcher.raise1(function(n){return n.notifyConnectionTargetShow(t.key,e)})},e.prototype.raiseHide=function(){this.dispatcher.raise1(function(t){return t.notifyConnectionTargetHide()})},e}(r.TargetVisualizerBase);e.ConnectionTargetVisualizer=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerTargetVisualizer=e.ContainerTargetInfo=void 0;var r=n(156),a=function(t,e){this.rect=t,this.strokeWidth=e};e.ContainerTargetInfo=a;var s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.raiseShow=function(){var t=this,e=new a(this.targetRect,this.targetStrokeWidth);this.dispatcher.raise1(function(n){return n.notifyContainerTargetShow(t.key,e)})},e.prototype.raiseHide=function(){this.dispatcher.raise1(function(t){return t.notifyContainerTargetHide()})},e}(r.TargetVisualizerBase);e.ContainerTargetVisualizer=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionPointsVisualizer=e.ConnectionPointInfo=void 0;var i=function(t,e){this.point=t,this.side=e,this.allowed=!0};e.ConnectionPointInfo=i;var o=function(){function t(t){this.dispatcher=t}return t.prototype.getKey=function(){return this.key},t.prototype.setPoints=function(t,e,n,i){this.key===t&&this.pointIndex===n||(this.key=t,this.points=e,this.pointIndex=n,this.outsideRectangle=i,this.raiseShow())},t.prototype.setPointIndex=function(t){0<=t&&t<this.points.length&&this.pointIndex!==t&&(this.pointIndex=t,this.raiseShow())},t.prototype.update=function(){this.raiseShow()},t.prototype.reset=function(){"-1"!==this.key&&(this.key="-1",this.points=[],this.pointIndex=-1,this.outsideRectangle=void 0,this.raiseHide())},t.prototype.raiseShow=function(){var t=this;this.dispatcher.raise1(function(e){return e.notifyConnectionPointsShow(t.key,t.points,t.pointIndex,t.outsideRectangle)})},t.prototype.raiseHide=function(){this.dispatcher.raise1(function(t){return t.notifyConnectionPointsHide()})},t}();e.ConnectionPointsVisualizer=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizeInfoVisualizer=void 0;var i=function(){function t(t){this.dispatcher=t}return t.prototype.set=function(t,e){this.point=t,this.text=e,this.raiseShow()},t.prototype.reset=function(){void 0!==this.point&&(this.point=void 0,this.text=void 0,this.raiseHide())},t.prototype.raiseShow=function(){var t=this;this.dispatcher.raise1(function(e){return e.notifyResizeInfoShow(t.point,t.text)})},t.prototype.raiseHide=function(){this.dispatcher.raise1(function(t){return t.notifyResizeInfoHide()})},t}();e.ResizeInfoVisualizer=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionRectVisualizer=void 0;var i=function(){function t(t){this.dispatcher=t}return t.prototype.setRectangle=function(t){this.rect=t,this.raiseShow()},t.prototype.reset=function(){this.rect=void 0,this.raiseHide()},t.prototype.raiseShow=function(){var t=this;this.dispatcher.raise1(function(e){return e.notifySelectionRectShow(t.rect)})},t.prototype.raiseHide=function(){this.dispatcher.raise1(function(t){return t.notifySelectionRectHide()})},t}();e.SelectionRectVisualizer=i},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.VisualizerTouchManager=void 0;var r=n(155),a=n(11),s=function(t){function e(e,n,i,o,r){void 0===r&&(r=o.readOnly);var a=t.call(this,e,n,i,o,r)||this;return e.onChanged.add(a),a}return o(e,t),e.prototype.onBlur=function(t){var e=this;setTimeout(function(){e.hideConnections()},1)},e.prototype.onFocus=function(t){var e=this;setTimeout(function(){e.showConnections()},1)},e.prototype.hideConnections=function(){this.readOnly||this.resetConnectionPoints()},e.prototype.showConnections=function(){if(!this.readOnly&&this.needShowConnections()){var t=this.selection.getSelectedShapes();1===t.length&&this.setConnectionPoints(t[0],a.MouseEventElementType.ShapeConnectionPoint,-1,!t[0].allowResizeHorizontally&&!t[0].allowResizeVertically||t[0].isLocked)}},e.prototype.needShowConnections=function(){var t=this.selection.getSelectedItems(),e=this.selection.getSelectedShapes();return 1===t.length&&1===e.length},e.prototype.notifySelectionChanged=function(t){this.isUpdateLocked()?this.registerOccurredEvent(1):this.raiseSelectionChanged()},e.prototype.raiseSelectionChanged=function(){this.needShowConnections()?this.showConnections():this.hideConnections()},e.prototype.onUpdateUnlocked=function(t){1&t&&this.raiseSelectionChanged()},e.prototype.notifyDragStart=function(t){this.hideConnections()},e.prototype.notifyDragEnd=function(t){this.showConnections()},e}(r.VisualizerManager);e.VisualizerTouchManager=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextToolboxHandler=void 0;var i=n(11),o=n(3),r=n(25),a=n(18),s=function(){function t(){this.contextToolboxVisible=!1,this.onVisibilityChanged=new o.EventDispatcher}return t.prototype.onMouseDown=function(t){t.source.type!==i.MouseEventElementType.Undefined&&this.hideContextToolbox()},t.prototype.onMouseUp=function(t){t.source.type===i.MouseEventElementType.Undefined&&a.Browser.TouchUI||this.hideContextToolbox()},t.prototype.onFocus=function(t){},t.prototype.onBlur=function(t){},t.prototype.onKeyDown=function(t){t.keyCode===r.KeyCode.Esc&&this.hideContextToolbox()},t.prototype.onShortcut=function(t){this.hideContextToolbox()},t.prototype.showContextToolbox=function(t,e,n,i,o,r){this.onVisibilityChanged.raise1(function(r){return r.notifyShowContextToolbox(t,e,n,i,o)}),this.contextToolboxVisible=!0,this.contextToolboxCancelCallback=r},t.prototype.hideContextToolbox=function(t){this.contextToolboxVisible&&(this.onVisibilityChanged.raise1(function(t){return t.notifyHideContextToolbox()}),this.contextToolboxCancelCallback&&(t||this.contextToolboxCancelCallback(),this.contextToolboxCancelCallback=void 0),this.contextToolboxVisible=!1)},t}();e.ContextToolboxHandler=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;var i=n(3),o=n(333),r=n(14),a=n(6),s=n(44),l=function(){function t(t){this.onChanged=new i.EventDispatcher,this.inputPosition=new o.InputPosition(this),this.onChanged.add(this.inputPosition),this.initialize(t)}return t.prototype.initialize=function(t){this.model=t,this.keys=[],this.inputPosition.initialize()},t.prototype.add=function(t){this.keys.indexOf(t)<0&&(this.keys.push(t),this.raiseSelectionChanged())},t.prototype.remove=function(t){this.keys.indexOf(t)>=0&&(this.keys.splice(this.keys.indexOf(t),1),this.raiseSelectionChanged())},t.prototype.clear=function(){this.keys.length>0&&(this.keys=[],this.raiseSelectionChanged())},t.prototype.set=function(t,e){!e&&s.Data.ArrayEqual(t,this.keys)||(this.keys=t,this.raiseSelectionChanged())},t.prototype.getKeys=function(){return this.keys},t.prototype.getKey=function(t){return this.keys[t]},t.prototype.getSelectedItemsInsideContainers=function(t){var e=this,n=t.slice();return t.forEach(function(t){t instanceof r.Shape&&e.getSelectedItemsInsideContainers(e.model.getChildren(t)).forEach(function(t){-1!==n.indexOf(t)||e.hasKey(t.key)||n.push(t)})}),n},t.prototype.getSelectedItemsCore=function(t){var e=this;return this.keys.map(function(t){return e.model.findItem(t)}).filter(function(e){return e&&(t||!e.isLocked)})},t.prototype.getSelectedItems=function(t,e){return e?this.getSelectedItemsInsideContainers(this.getSelectedItemsCore(t)):this.getSelectedItemsCore(t)},t.prototype.getSelectedShapes=function(t,e){var n=this;if(e){var i=this.getSelectedItemsCore(t);return this.getSelectedItemsInsideContainers(i).map(function(t){return t instanceof r.Shape?t:void 0}).filter(function(t){return t})}return this.keys.map(function(t){return n.model.findShape(t)}).filter(function(e){return e&&(t||!e.isLocked)})},t.prototype.getSelectedConnectors=function(t,e){var n=this;if(e){var i=this.keys.map(function(t){return n.model.findItem(t)});return this.getSelectedItemsInsideContainers(i).map(function(t){return t instanceof a.Connector?t:void 0}).filter(function(e){return e&&(t||!e.isLocked)})}return this.keys.map(function(t){return n.model.findConnector(t)}).filter(function(e){return e&&(t||!e.isLocked)})},t.prototype.hasKey=function(t){return this.keys.indexOf(t)>=0},t.prototype.isEmpty=function(t){return!this.getSelectedItems(t).length},t.prototype.selectRect=function(t){var e=[];this.model.iterateItems(function(n){n.intersectedByRect(t)&&e.push(n.key)}),this.set(e)},t.prototype.raiseSelectionChanged=function(){this.onChanged.raise("notifySelectionChanged",this)},t}();e.Selection=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputPosition=void 0;var i=n(334),o=n(44),r=function(){function t(t){this.selection=t,this.initialProperties=new i.InputPositionProperties(this.selection),this.defaultProperties=new i.InputPositionProperties(this.selection,this.initialProperties,!0),this.currentProperties=new i.InputPositionProperties(this.selection,this.defaultProperties)}return t.prototype.initialize=function(){this.reset(),this.defaultProperties.reset()},t.prototype.reset=function(){this.currentProperties.reset()},t.prototype.getDefaultConnectorProperties=function(){return this.defaultProperties.getConnectorProperties()},t.prototype.getDefaultConnectorPropertyValue=function(t){return this.defaultProperties.getConnectorPropertyValue(t)},t.prototype.getCurrentConnectorPropertyValue=function(t){return this.currentProperties.getConnectorPropertyValue(t)},t.prototype.setConnectorPropertyValue=function(t,e){this.currentProperties.setConnectorPropertyValue(t,e),this.selection.isEmpty(!0)&&this.defaultProperties.setConnectorPropertyValue(t,e)},t.prototype.setInitialConnectorProperties=function(t){for(var e in this.defaultProperties.reset(),this.currentProperties.reset(),t)Object.prototype.hasOwnProperty.call(t,e)&&this.initialProperties.setConnectorPropertyValue(e,t[e])},t.prototype.getDefaultStyle=function(){return this.defaultProperties.getStyle()},t.prototype.getDefaultStylePropertyValue=function(t){return this.defaultProperties.getStylePropertyValue(t)},t.prototype.getDefaultTextStyle=function(){return this.defaultProperties.getTextStyle()},t.prototype.getDefaultTextStylePropertyValue=function(t){return this.defaultProperties.getTextStylePropertyValue(t)},t.prototype.getCurrentStylePropertyValue=function(t){return this.currentProperties.getStylePropertyValue(t)},t.prototype.getCurrentTextStylePropertyValue=function(t){return this.currentProperties.getTextStylePropertyValue(t)},t.prototype.setStylePropertyValue=function(t,e){this.currentProperties.setStylePropertyValue(t,e),this.selection.isEmpty(!0)&&this.defaultProperties.setStylePropertyValue(t,e)},t.prototype.setTextStylePropertyValue=function(t,e){this.currentProperties.setTextStylePropertyValue(t,e),this.selection.isEmpty(!0)&&this.defaultProperties.setTextStylePropertyValue(t,e)},t.prototype.setInitialStyleProperties=function(t){this.defaultProperties.reset(),this.currentProperties.reset();var e="string"==typeof t?o.Data.cssTextToObject(t):t;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.initialProperties.setStylePropertyValue(n,e[n])},t.prototype.setInitialTextStyleProperties=function(t){this.defaultProperties.reset(),this.currentProperties.reset();var e="string"==typeof t?o.Data.cssTextToObject(t):t;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.initialProperties.setTextStylePropertyValue(n,e[n])},t.prototype.notifySelectionChanged=function(t){this.reset()},t}();e.InputPosition=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputPositionProperties=void 0;var i=n(32),o=n(26),r=function(){function t(t,e,n){this.selection=t,this.baseProperties=e,this.disableMergingStyles=n,this.selection=t}return t.prototype.reset=function(){this.connectorProperties=null,this.style=null,this.textStyle=null},t.prototype.getConnectorProperties=function(){return this.connectorProperties||(this.connectorProperties=this.baseProperties?this.baseProperties.getConnectorProperties().clone():new i.ConnectorProperties,this.updateConnectorProperties(this.connectorProperties)),this.connectorProperties},t.prototype.getConnectorPropertyValue=function(t){return this.getConnectorProperties()[t]},t.prototype.setConnectorPropertyValue=function(t,e){this.getConnectorProperties()[t]=e},t.prototype.getStyle=function(){return this.style||(this.style=this.baseProperties?this.baseProperties.getStyle().clone():new o.Style,this.disableMergingStyles||this.updateStyle(this.style,"style")),this.style},t.prototype.getStylePropertyValue=function(t){return this.getStyle()[t]},t.prototype.setStylePropertyValue=function(t,e){this.getStyle()[t]=e},t.prototype.getTextStyle=function(){return this.textStyle||(this.textStyle=this.baseProperties?this.baseProperties.getTextStyle().clone():new o.TextStyle,this.disableMergingStyles||this.updateStyle(this.textStyle,"styleText")),this.textStyle},t.prototype.getTextStylePropertyValue=function(t){return this.getTextStyle()[t]},t.prototype.setTextStylePropertyValue=function(t,e){this.getTextStyle()[t]=e},t.prototype.updateConnectorProperties=function(t){var e=this,n=this.selection.getSelectedConnectors(!0);t.forEach(function(i){e.updatePropertyValue(t,n,function(t){return t.properties},i)})},t.prototype.updateStyle=function(t,e){var n=this,i=this.selection.getSelectedItems(!0);t.forEach(function(o){n.updatePropertyValue(t,i,function(t){return t[e]},o)})},t.prototype.updatePropertyValue=function(t,e,n,i){var o,r=!1;e.forEach(function(t){var e=n(t)[i];if(void 0===o&&void 0!==e)o=e,r=!0;else if(r&&o!==e)return void(o=void 0)}),r&&(t[i]=o)},t}();e.InputPositionProperties=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.History=void 0;var i=n(8),o=n(3),r=function(){function t(t,e){this.modelManipulator=t,this.diagram=e,this.historyItems=[],this.currentIndex=-1,this.incrementalId=-1,this.transactionLevel=-1,this.unmodifiedIndex=-1,this.currTransactionId=0,this.onChanged=new o.EventDispatcher}return t.prototype.isModified=function(){if(this.unmodifiedIndex===this.currentIndex)return!1;for(var t=Math.min(this.unmodifiedIndex,this.currentIndex),e=Math.max(this.unmodifiedIndex,this.currentIndex),n=t+1;n<=e;n++)if(this.historyItems[n].changeModified())return!0;return!1},t.prototype.undo=function(){this.canUndo()&&(this.historyItems[this.currentIndex].undo(this.modelManipulator),this.currentIndex--,this.raiseChanged())},t.prototype.redo=function(){this.canRedo()&&(this.startDataSyncItem&&(this.startDataSyncItem.undo(this.modelManipulator),this.startDataSyncItem=void 0),this.currentIndex++,this.historyItems[this.currentIndex].redo(this.modelManipulator),this.raiseChanged())},t.prototype.canUndo=function(){return this.currentIndex>=0},t.prototype.canRedo=function(){return this.currentIndex<this.historyItems.length-1},t.prototype.beginTransaction=function(){return this.transactionLevel++,0===this.transactionLevel&&(this.transaction=new i.CompositionHistoryItem),this.currTransactionId++},t.prototype.endTransaction=function(t){if(!(--this.transactionLevel>=0)){var e=this.transaction.historyItems.length;if(e>0){var n=e>1?this.transaction:this.transaction.historyItems.pop();t?this.addDataSyncItem(n):this.addInternal(n)}e>0&&!t&&this.raiseChanged(),delete this.transaction}},t.prototype.addAndRedo=function(t){this.add(t),t.redo(this.modelManipulator),this.raiseChanged()},t.prototype.add=function(t){this.transactionLevel>=0?this.transaction.add(t):this.addInternal(t)},t.prototype.addInternal=function(t){this.currentIndex<this.historyItems.length-1&&(this.historyItems.splice(this.currentIndex+1),this.unmodifiedIndex=Math.min(this.unmodifiedIndex,this.currentIndex)),this.historyItems.push(t),this.currentIndex++,this.deleteOldItems()},t.prototype.addDataSyncItem=function(t){var e=this.historyItems[this.currentIndex];if(e){var n=void 0;e instanceof i.CompositionHistoryItem?n=e:(this.historyItems.splice(this.currentIndex,1),n=new i.CompositionHistoryItem,this.historyItems.push(n),n.historyItems.push(e)),n.dataSyncItems.push(t)}else this.historyItems.length&&(this.startDataSyncItem=t)},t.prototype.deleteOldItems=function(){var e=this.historyItems.length-t.MAX_HISTORY_ITEM_COUNT;e>0&&this.currentIndex>e&&(this.historyItems.splice(0,e),this.currentIndex-=e)},t.prototype.getNextId=function(){return this.incrementalId++,this.incrementalId},t.prototype.clear=function(){this.currentIndex=-1,this.unmodifiedIndex=-1,this.incrementalId=-1,this.historyItems=[],delete this.transaction,this.transactionLevel=-1},t.prototype.resetModified=function(){this.unmodifiedIndex=this.currentIndex},t.prototype.getCurrentItemId=function(){if(-1===this.currentIndex)return-1;var t=this.historyItems[this.currentIndex];return-1===t.uniqueId&&(t.uniqueId=this.getNextId()),t.uniqueId},t.prototype.undoTransaction=function(){this.diagram.beginUpdateCanvas();for(var t=this.transaction.historyItems;t.length;)t.pop().undo(this.modelManipulator);this.diagram.endUpdateCanvas()},t.prototype.undoTransactionTo=function(t){this.diagram.beginUpdateCanvas();for(var e=this.transaction.historyItems;e.length;){var n=e.pop();if(n.undo(this.modelManipulator),n===t)return}this.diagram.endUpdateCanvas()},t.prototype.raiseChanged=function(){-1===this.transactionLevel&&this.onChanged.raise("notifyHistoryChanged")},t.MAX_HISTORY_ITEM_COUNT=100,t}();e.History=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BarManager=void 0;var r=function(t){function e(e){var n=t.call(this)||this;return n.bars=[],n.control=e,n}return o(e,t),e.prototype.clean=function(){var t=this;this.bars.forEach(function(e){return e.onChanged.remove(t)}),this.bars=[]},e.prototype.registerBar=function(t){this.bars.push(t),t.onChanged.add(this),this.updateBarItemsState(t)},e.prototype.updateItemsState=function(t){if(!this.isUpdateLocked())for(var e=0,n=void 0;n=this.bars[e];e++)this.updateBarItemsState(n,t)},e.prototype.updateBarItemsState=function(t,e){if(!this.isUpdateLocked()){if(this.control.permissionsProvider.beginUpdateUI(),t.isVisible()){var n=void 0;if(e){var i=t.getCommandKeys().reduce(function(t,e){return t[e]=!0,t},{});n=e.filter(function(t){return i[t]})}else n=t.getCommandKeys();for(var o=n.length,r=0;r<o;r++)this.updateBarItem(t,n[r])}this.control.permissionsProvider.endUpdateUI()}},e.prototype.updateBarItem=function(t,e){var n=this.control.commandManager.getCommand(e);if(n){var i=n.getState();if(t.setItemVisible(e,i.visible),i.visible&&(t.setItemEnabled(e,i.enabled),!i.denyUpdateValue)){var o=this.getItemValue(i.value);i.items&&t.setItemSubItems(e,i.items),t.setItemValue(e,o,this.getDefaultItemValue(i.defaultValue))}}},e.prototype.setEnabled=function(t){for(var e=0,n=void 0;n=this.bars[e];e++)n.setEnabled(t)},e.prototype.notifyBarCommandExecuted=function(t,e){this.control.commandManager.getCommand(t).execute(e)||this.updateItemsState([t])},e.prototype.notifyBarUpdateRequested=function(){this.updateItemsState()},e.prototype.notifySelectionChanged=function(t){this.updateItemsState()},e.prototype.onUpdateUnlocked=function(t){},e.prototype.getItemValue=function(t){return t},e.prototype.getDefaultItemValue=function(t){return t},e}(n(81).BatchUpdatableObject);e.BarManager=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenderManager=e.DBL_CLICK_TIMEOUT=e.LONG_TOUCH_TIMEOUT=void 0;var i=n(11),o=n(65),r=n(27),a=n(0),s=n(25),l=n(18),c=n(17),u=n(78),h=n(338),d=n(28),p=n(339),f=n(340),m=n(342),g=n(158),v=n(344),y=n(79),_=n(15),b=n(100),C=n(3);e.LONG_TOUCH_TIMEOUT=500,e.DBL_CLICK_TIMEOUT=500;var O=function(){function t(t,e,n,i,o,r){this.moveLocked=!1,this.lockMouseMoveTimer=-1,this.lastClickElement=void 0,this.longTouchTimer=void 0,this.dblTouchTimer=void 0,this.pointers={};var a=_.RenderHelper.createMainElement(t),s=_.RenderHelper.createSvgElement(a);this.scroll=o||new h.NativeScrollView(t),this.measurer=n,this.dom=new b.DOMManipulator(this.measurer),this.view=new m.CanvasViewManager(this.scroll,s,i.modelSize,i.zoomLevel,i.autoZoom,i.simpleView,i.rectangle,this.dom),this.input=new p.InputManager(a,this.view,e,this.measurer,i.zoomLevel,r),this.items=new u.CanvasItemsManager(this.view.canvasElement,i.zoomLevel,this.dom),this.page=new f.CanvasPageManager(this.view.pageElement,i,this.dom),this.selection=new g.CanvasSelectionManager(this.view.canvasElement,i.zoomLevel,i.readOnly,this.dom),this.contextMenuEnabled=i.contextMenuEnabled,this.view.onViewChanged.add(this.page),this.view.onViewChanged.add(this.items),this.view.onViewChanged.add(this.selection),this.view.onViewChanged.add(this.input),this.autoScroll=new v.AutoScrollController(this.scroll,s,this.view,this.dom),this.attachEvents(s),this.mainElement=a,this.svgElement=s,this.events=e,this.notifyReadOnlyChanged(i.readOnly)}return t.prototype.clean=function(t){this.killLockMouseMoveTimer(),this.clearLastMouseDownEvent(),this.detachEvents(this.svgElement),this.scroll.detachEvents(),this.input.detachEvents(),this.dom.cancelAnimation(),t&&t(this.mainElement)},t.prototype.replaceParent=function(t,e){this.mainElement&&this.mainElement.parentNode!==t&&t.appendChild(this.mainElement),e&&e!==this.scroll&&(this.scroll&&this.scroll.detachEvents(),this.scroll=e),this.measurer instanceof y.TextMeasurer&&this.measurer.replaceParent(t)},t.prototype.update=function(t){this.view.adjust({horizontal:!t,vertical:!t}),this.page.redraw()},t.prototype.onNewModel=function(t){this.measurer.onNewModel(t,this.dom)},t.prototype.clear=function(){this.items.clear(),this.selection.clear()},t.prototype.attachPointerEvents=function(t){r.DomUtils.addClassName(t,"dxdi-touch-action"),_.RenderHelper.addEventListener(t,"pointerdown",this.onPointerDownHandler),_.RenderHelper.addEventListener(l.Browser.TouchUI?t:document,"pointerup",this.onPointerUpHandler),_.RenderHelper.addEventListener(l.Browser.TouchUI?t:document,"pointermove",this.onPointerMoveHandler),_.RenderHelper.addEventListener(t,"pointercancel",this.onPointerCancelHandler),_.RenderHelper.addEventListener(t,"pointerleave",this.onPointerLeaveHandler)},t.prototype.detachPointerEvents=function(t){_.RenderHelper.removeEventListener(t,"pointerdown",this.onPointerDownHandler),_.RenderHelper.removeEventListener(l.Browser.TouchUI?t:document,"pointerup",this.onPointerUpHandler),_.RenderHelper.removeEventListener(l.Browser.TouchUI?t:document,"pointermove",this.onPointerMoveHandler),_.RenderHelper.removeEventListener(t,"pointercancel",this.onPointerCancelHandler),_.RenderHelper.removeEventListener(t,"pointerleave",this.onPointerLeaveHandler),r.DomUtils.removeClassName(t,"dxdi-touch-action")},t.prototype.attachMouseTouchEvents=function(t){_.RenderHelper.addEventListener(t,this.mouseDownEventName,this.onMouseDownHandler),_.RenderHelper.addEventListener(document,this.mouseMoveEventName,this.onMouseMoveHandler),_.RenderHelper.addEventListener(document,this.mouseUpEventName,this.onMouseUpHandler)},t.prototype.detachMouseTouchEvents=function(t){_.RenderHelper.removeEventListener(t,this.mouseDownEventName,this.onMouseDownHandler),_.RenderHelper.removeEventListener(document,this.mouseMoveEventName,this.onMouseMoveHandler),_.RenderHelper.removeEventListener(document,this.mouseUpEventName,this.onMouseUpHandler)},t.prototype.attachEvents=function(t){this.mouseDownEventName=l.Browser.TouchUI?"touchstart":"mousedown",this.mouseMoveEventName=l.Browser.TouchUI?"touchmove":"mousemove",this.mouseUpEventName=l.Browser.TouchUI?"touchend":"mouseup",this.onPointerDownHandler=this.onPointerDown.bind(this),this.onPointerUpHandler=this.onPointerUp.bind(this),this.onPointerMoveHandler=this.onPointerMove.bind(this),this.onPointerCancelHandler=this.onPointerCancel.bind(this),this.onPointerLeaveHandler=this.onPointerLeave.bind(this),this.onMouseDownHandler=this.onMouseDown.bind(this),this.onMouseEnterHandler=this.onMouseEnter.bind(this),this.onMouseLeaveHandler=this.onMouseLeave.bind(this),this.onMouseWheelHandler=this.onMouseWheel.bind(this),this.onMouseDblClickHandler=this.onMouseDblClick.bind(this),this.onContextMenuHandler=this.onContextMenu.bind(this),this.onMouseMoveHandler=this.onMouseMove.bind(this),this.onMouseUpHandler=this.onMouseUp.bind(this),this.onWindowResizelHandler=this.onWindowResize.bind(this),this.onOrientationChangeHandler=this.onOrientationChange.bind(this),this.onMouseClickHandler=this.onMouseClick.bind(this),C.EventUtils.isPointerEvents()?this.attachPointerEvents(t):(this.attachMouseTouchEvents(t),_.RenderHelper.addEventListener(t,"mouseenter",this.onMouseEnterHandler),_.RenderHelper.addEventListener(t,"mouseleave",this.onMouseLeaveHandler)),_.RenderHelper.addEventListener(t,"wheel",this.onMouseWheelHandler),_.RenderHelper.addEventListener(t,"dblclick",this.onMouseDblClickHandler),_.RenderHelper.addEventListener(t,"click",this.onMouseClickHandler),_.RenderHelper.addEventListener(t,"contextmenu",this.onContextMenuHandler),_.RenderHelper.addEventListener(window,"resize",this.onWindowResizelHandler),_.RenderHelper.addEventListener(window,"orientationchange",this.onOrientationChangeHandler),this.input.mouseWheelHandler=this.onMouseWheelHandler},t.prototype.detachEvents=function(t){C.EventUtils.isPointerEvents()?this.detachPointerEvents(t):(this.detachMouseTouchEvents(t),_.RenderHelper.removeEventListener(t,"mouseenter",this.onMouseEnterHandler),_.RenderHelper.removeEventListener(t,"mouseleave",this.onMouseLeaveHandler)),_.RenderHelper.removeEventListener(t,"wheel",this.onMouseWheelHandler),_.RenderHelper.removeEventListener(t,"dblclick",this.onMouseDblClickHandler),_.RenderHelper.removeEventListener(t,"contextmenu",this.onContextMenuHandler),_.RenderHelper.removeEventListener(t,"click",this.onMouseClickHandler),_.RenderHelper.removeEventListener(window,"resize",this.onWindowResizelHandler),_.RenderHelper.removeEventListener(window,"orientationchange",this.onOrientationChangeHandler)},t.prototype.setPointerPosition=function(t){this.pointers[t.pointerId]={clientX:t.clientX,clientY:t.clientY}},t.prototype.clearPointerPosition=function(t){delete this.pointers[t.pointerId]},t.prototype.onPointerDown=function(t){this.setPointerPosition(t),this.getPointerCount()>2&&(this.pointers={}),this.onMouseDown(t)},t.prototype.onPointerUp=function(t){this.clearPointerPosition(t),this.onMouseUp(t)},t.prototype.onPointerMove=function(t){(l.Browser.TouchUI&&!C.EventUtils.isMousePointer(t)||C.EventUtils.isLeftButtonPressed(t))&&this.setPointerPosition(t),this.onMouseMove(t)},t.prototype.onPointerCancel=function(t){this.clearPointerPosition(t)},t.prototype.onPointerLeave=function(t){C.EventUtils.isMousePointer(t)&&this.onMouseLeave(t),this.clearPointerPosition(t)},t.prototype.onMouseDown=function(t){var e=this;this.lockMouseMove(),this.input.lockFocus(),this.autoScroll.onMouseDown(t),this.lastDownMouseEvent=this.createDiagramMouseEvent(t),c.raiseEvent(t,this.lastDownMouseEvent,function(t){return e.events.onMouseDown(t)}),this.events.canFinishTextEditing()&&this.input.captureFocus(),C.EventUtils.isTouchEvent(t)&&this.processTouchDown(t);var n=o.EvtUtils.getEventSource(t),i=n&&n.tagName;if(l.Browser.TouchUI||"img"===i.toLowerCase()||"image"===i.toLowerCase())return o.EvtUtils.preventEventAndBubble(t),!1},t.prototype.onMouseMove=function(t){var e=this;this.moveLocked||(this.autoScroll.onMouseMove(t,function(){return e.onMouseMoveCore(t)}),this.onMouseMoveCore(t),l.Browser.IE&&this.lockMouseMove(),C.EventUtils.isTouchEvent(t)&&this.processTouchMove(t))},t.prototype.onMouseMoveCore=function(t){var e=this;c.raiseEvent(t,this.createDiagramMouseEvent(t),function(t){return e.events.onMouseMove(t)})},t.prototype.onMouseUp=function(t){var e=this;this.lockMouseMove();var n=this.createDiagramMouseEvent(t);c.raiseEvent(t,n,function(t){return e.events.onMouseUp(t)}),this.autoScroll.onMouseUp(t),n.source.type!==i.MouseEventElementType.Undefined&&this.input.captureFocus(!0),C.EventUtils.isTouchEvent(t)&&this.processTouchUp(t)},t.prototype.onMouseEnter=function(t){var e=this;this.autoScroll.onMouseEnter(t),c.raiseEvent(t,this.createDiagramMouseEvent(t),function(t){return e.events.onMouseEnter(t)})},t.prototype.onMouseLeave=function(t){var e=this;c.raiseEvent(t,this.createDiagramMouseEvent(t),function(t){return e.events.onMouseLeave(t)})},t.prototype.onMouseDblClick=function(t){var e=this;c.raiseEvent(t,this.createDiagramMouseEvent(t),function(t){return e.events.onDblClick(t)})},t.prototype.onMouseClick=function(t){var e=this;C.EventUtils.isTouchEvent(t)?C.EventUtils.isMousePointer(t)||this.input.captureFocus():c.raiseEvent(t,this.createActualMouseClickEvent(t),function(t){return e.events.onClick(t)})},t.prototype.createActualMouseClickEvent=function(t){return this.lastDownMouseEvent?new i.DiagramMouseEvent(this.lastDownMouseEvent.modifiers,this.lastDownMouseEvent.button,this.lastDownMouseEvent.offsetPoint.clone(),this.lastDownMouseEvent.modelPoint.clone(),this.lastDownMouseEvent.source,this.createDiagramMouseEventTouches(t)):this.createDiagramMouseEvent(t)},t.prototype.onContextMenu=function(t){var e=this;return c.raiseEvent(t,this.createDiagramContextMenuEvent(t),function(t){return e.events.onContextMenu(t)}),this.input.captureFocus(),o.EvtUtils.preventEventAndBubble(t)},t.prototype.processTouchDown=function(t){var n=this;this.touchDownPoint=this.getTouchPointFromEvent(t),this.resetLongTouch(),this.longTouchTimer=setTimeout(function(){c.raiseEvent(t,n.createDiagramMouseEvent(t),function(t){return n.events.onLongTouch(t)}),n.resetLongTouch(),n.resetDblClick()},e.LONG_TOUCH_TIMEOUT)},t.prototype.processTouchMove=function(e){var n=this.getTouchPointFromEvent(e);this.touchDownPoint&&n&&(Math.abs(this.touchDownPoint.x-n.x)>t.touchPositionLimit||Math.abs(this.touchDownPoint.y-n.y)>t.touchPositionLimit)&&(this.resetLongTouch(),this.resetDblClick())},t.prototype.getPointers=function(){var t=this;return Object.keys(this.pointers).map(function(e){return t.pointers[e]})},t.prototype.getPointerCount=function(){return Object.keys(this.pointers).length},t.prototype.getTouchPointFromEvent=function(t){var e,n=t.touches;if(n&&n.length>0)e=new a.Point(n[0].clientX,n[0].clientY);else{var i=this.getPointers();i.length&&(e=new a.Point(i[0].clientX,i[0].clientY))}return e},t.prototype.processTouchUp=function(t){var n=this;if(void 0!==this.longTouchTimer){c.raiseEvent(t,this.createDiagramMouseEvent(t),function(t){return n.events.onClick(t)});var i=o.EvtUtils.getEventSource(t);void 0!==this.dblTouchTimer&&this.lastClickElement===i?(c.raiseEvent(t,this.createDiagramMouseEvent(t),function(t){return n.events.onDblClick(t)}),this.resetDblClick()):(this.resetDblClick(),this.dblTouchTimer=setTimeout(function(){return n.dblTouchTimer=void 0},e.DBL_CLICK_TIMEOUT)),this.lastClickElement=i}this.resetLongTouch(),this.touchDownPoint=void 0},t.prototype.resetLongTouch=function(){void 0!==this.longTouchTimer&&clearTimeout(this.longTouchTimer),this.longTouchTimer=void 0},t.prototype.resetDblClick=function(){void 0!==this.dblTouchTimer&&clearTimeout(this.dblTouchTimer),this.dblTouchTimer=void 0},t.prototype.onOrientationChange=function(){var t=this;setTimeout(function(){return t.onWindowResize()},100)},t.prototype.onWindowResize=function(){var t={horizontal:!1,vertical:!1};if(this.view.autoZoom!==d.AutoZoomMode.Disabled)t.horizontal=!0,t.vertical=!0;else{var e=this.view.checkFitToCanvas(),n=this.view.checkFitToCanvas(this.scroll.getSize());t={horizontal:e.horizontal!==n.horizontal||n.horizontal,vertical:e.vertical!==n.vertical||n.vertical}}this.view.adjust(t)},t.prototype.onMouseWheel=function(t){var e=this;c.raiseEvent(t,this.createDiagramWheelEvent(t),function(t){return e.events.onMouseWheel(t)})},t.prototype.notifyModelSizeChanged=function(t,e){this.view.notifyModelSizeChanged(t,e)},t.prototype.notifyModelRectangleChanged=function(t){this.view.notifyModelRectangleChanged(t)},t.prototype.notifyReadOnlyChanged=function(t){r.DomUtils.toggleClassName(this.mainElement,"dxdi-read-only",t)},t.prototype.notifyDragStart=function(t){},t.prototype.notifyDragEnd=function(t){},t.prototype.notifyDragScrollStart=function(){this.autoScroll.onDragScrollStart()},t.prototype.notifyDragScrollEnd=function(){this.autoScroll.onDragScrollEnd()},t.prototype.notifyToolboxDragStart=function(t){this.onMouseEnter(t)},t.prototype.notifyToolboxDragEnd=function(t){t&&C.EventUtils.isPointerEvents()&&this.onMouseUp(t)},t.prototype.notifyToolboxDraggingMouseMove=function(t){this.onMouseMove(t)},t.prototype.createDiagramMouseEvent=function(t){var e=s.KeyUtils.getKeyModifiers(t),n=function(t){return l.Browser.MSTouchUI?2!==t.button:C.EventUtils.isLeftButtonPressed(t)}(t)?i.MouseButton.Left:i.MouseButton.Right,o=this.getOffsetPointByEvent(t),r=this.getModelPoint(o),a=C.EventUtils.isTouchEvent(t),c=this.getEventSource(t,a),u=this.createDiagramMouseEventTouches(t);return new i.DiagramMouseEvent(e,n,o,r,c,u,a)},t.prototype.createDiagramMouseEventTouches=function(t){var e=[];if(t.touches)for(var n=0;n<t.touches.length;n++){var o=t.touches[n].clientX,r=t.touches[n].clientY,a=this.getOffsetPointByEventPoint(o,r),s=this.getModelPoint(a);e.push(new i.DiagramMouseEventTouch(a,s))}else{var l=this.getPointers();for(n=0;n<l.length;n++)o=l[n].clientX,r=l[n].clientY,a=this.getOffsetPointByEventPoint(o,r),s=this.getModelPoint(a),e.push(new i.DiagramMouseEventTouch(a,s))}return e},t.prototype.createDiagramContextMenuEvent=function(t){var e=s.KeyUtils.getKeyModifiers(t),n=new a.Point(t.pageX,t.pageY),o=this.getOffsetPointByEvent(t),r=this.getModelPoint(o);return new i.DiagramContextMenuEvent(e,n,r)},t.prototype.createDiagramWheelEvent=function(t){var e=s.KeyUtils.getKeyModifiers(t),n=this.getOffsetPointByEvent(t),o=this.view.getModelPoint(n),r=this.getEventSource(t),a=t.deltaX||t.originalEvent&&t.originalEvent.deltaX,l=t.deltaY||t.originalEvent&&t.originalEvent.deltaY;return new i.DiagramWheelEvent(e,a,l,n,o,r)},t.prototype.getEventSource=function(t,e){var n=e?o.EvtUtils.getEventSourceByPosition(t):o.EvtUtils.getEventSource(t);if(this.isDiagramControl(n))for(;n&&!this.isDocumentContainer(n);){var r=c.RenderUtils.getElementEventData(n);if(void 0!==r)return r;if(this.input.isTextInputElement(n))return new i.MouseEventSource(i.MouseEventElementType.Document);n=n.parentNode}var a=new i.MouseEventSource(i.MouseEventElementType.Undefined);return n&&this.isDocumentContainer(n)&&(a.type=i.MouseEventElementType.Background),a},t.prototype.isDiagramControl=function(t){for(;t;){if(this.isDocumentContainer(t))return!0;t=t.parentNode}return!1},t.prototype.isDocumentContainer=function(t){return t===this.mainElement},t.prototype.lockMouseMove=function(){var t=this;this.moveLocked=!0,this.lockMouseMoveTimer=setTimeout(function(){t.moveLocked=!1,t.lockMouseMoveTimer=-1},10)},t.prototype.killLockMouseMoveTimer=function(){-1!==this.lockMouseMoveTimer&&(clearTimeout(this.lockMouseMoveTimer),this.lockMouseMoveTimer=-1)},t.prototype.clearLastMouseDownEvent=function(){this.lastDownMouseEvent=void 0},t.prototype.getModelPoint=function(t){return this.view.getModelPoint(t)},t.prototype.getOffsetPointByEvent=function(t){var e=o.EvtUtils.getEventX(t),n=o.EvtUtils.getEventY(t);return this.getOffsetPointByEventPoint(e,n)},t.prototype.getOffsetPointByEventPoint=function(t,e){var n=this.scroll.getScrollContainer(),i=r.DomUtils.getAbsolutePositionX(n),o=r.DomUtils.getAbsolutePositionY(n);return new a.Point(t-i,e-o)},t.prototype.getModelPointByEventPoint=function(t,e){var n=this.getOffsetPointByEventPoint(t,e);return this.view.getModelPoint(n)},t.prototype.getEventPointByModelPoint=function(t){var e=this.view.getAbsolutePoint(t),n=this.scroll.getScrollContainer();return new a.Point(r.DomUtils.getAbsolutePositionX(n)+e.x,r.DomUtils.getAbsolutePositionY(n)+e.y)},t.touchPositionLimit=4,t}();e.RenderManager=O},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NativeScrollView=void 0;var i=n(3),o=n(2),r=n(0),a=n(27),s=n(15),l=function(){function t(t){this.onScroll=new i.EventDispatcher,this.scrollBarWidth=a.DomUtils.getVerticalScrollBarWidth(),this.mainElement=t,this.attachEvents()}return t.prototype.attachEvents=function(){var t=this;this.onScrollHandler=function(){return t.onScroll.raise1(function(e){return e.notifyScrollChanged(function(){return t.getScroll()})})},s.RenderHelper.addEventListener(this.mainElement,"scroll",this.onScrollHandler)},t.prototype.detachEvents=function(){s.RenderHelper.removeEventListener(this.mainElement,"scroll",this.onScrollHandler)},t.prototype.getScrollContainer=function(){return this.mainElement},t.prototype.setScroll=function(t,e){var n=this;this.mainElement.style.overflow="scroll",this.mainElement.scrollLeft=t,this.mainElement.scrollTop=e,this.mainElement.style.overflow="",this.onScroll.raise1(function(t){return t.notifyScrollChanged(function(){return n.getScroll()})})},t.prototype.offsetScroll=function(t,e){var n=this;t&&(this.mainElement.scrollLeft+=t),e&&(this.mainElement.scrollTop+=e),this.onScroll.raise1(function(t){return t.notifyScrollChanged(function(){return n.getScroll()})})},t.prototype.getScroll=function(){return new r.Point(this.mainElement.scrollLeft,this.mainElement.scrollTop)},t.prototype.getSize=function(){var t=this.mainElement.getBoundingClientRect();return new o.Size(Math.floor(t.width),Math.floor(t.height))},t.prototype.getScrollBarWidth=function(){return this.scrollBarWidth},t}();e.NativeScrollView=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputManager=void 0;var i=n(25),o=n(27),r=n(17),a=n(11),s=n(14),l=n(6),c=n(65),u=n(43),h=n(18),d=n(12),p=n(15),f=n(64),m=n(3),g=function(){function t(t,e,n,i,o,r){this.mainElement=t,this.layoutPointResolver=e,this.eventManager=n,this.textMeasurer=i,this.actualZoom=o,this.focusElementsParent=r,this.focused=!1,this.focusLocked=!1,this.createInputElements(this.mainElement,this.focusElementsParent)}return t.prototype.detachEvents=function(){this.detachInputElementEvents(),this.detachTextInputElementEvents()},t.prototype.isFocused=function(){return this.focused},t.prototype.captureFocus=function(t){t&&document.activeElement===this.textInputElement?m.HtmlFocusUtils.focusWithPreventScroll(this.textInputElement||this.inputElement):m.HtmlFocusUtils.focusWithPreventScroll(this.inputElement)},t.prototype.setClipboardData=function(t){this.clipboardInputElement.value=t,m.HtmlFocusUtils.focusWithPreventScroll(this.clipboardInputElement),this.clipboardInputElement.select(),document.execCommand("copy"),this.captureFocus()},t.prototype.getClipboardData=function(t){var e=this;navigator&&navigator.clipboard?navigator.clipboard.readText().then(function(n){t(n),e.captureFocus()}).catch(function(){t(""),e.captureFocus()}):h.Browser.IE&&(this.clipboardInputElement.value="",m.HtmlFocusUtils.focusWithPreventScroll(this.clipboardInputElement),this.clipboardInputElement.select(),document.execCommand("Paste"),t(this.clipboardInputElement.value),this.captureFocus())},t.prototype.isPasteSupportedByBrowser=function(){return h.Browser.IE||h.Browser.WebKitFamily&&navigator&&void 0!==navigator.clipboard},t.prototype.createInputElements=function(t,e){this.createFocusInputElement(e||t),this.createTextInputElement(t),this.createClipboardInputElement(e||t),this.attachInputElementEvents()},t.prototype.setInputElementFocusHandlerMode=function(t){this.textInputElementContainer.setAttribute("class","dxdi-text-input-container"),t&&this.captureFocus()},t.prototype.setInputElementTextInputMode=function(t,e,n,i,o,r){this.textInputElementContainer.setAttribute("class","dxdi-text-input-container "+o),this.textInputElement.value=t,this.setTextInputElementBounds(e,n,r),this.setTextInputElementStyle(i),this.updateTextInputPadding();var a=this.textInputElement||this.inputElement;m.HtmlFocusUtils.focusWithPreventScroll(a),a.select&&a.select()},t.prototype.setTextInputElementBounds=function(t,e,n){this.savedTextInputPosition=t,this.savedTextInputSize=e,this.savedTextInputAngle=n;var i=this.layoutPointResolver.getAbsolutePoint(t,!0);this.textInputElementContainer.style.left=i.x+"px",this.textInputElementContainer.style.top=i.y+"px",this.textInputElementContainer.style.width=e&&e.width+"px"||"0px",this.textInputElementContainer.style.height=e&&e.height+"px"||"0px";var o=[];this.textInputElementContainer.style.transform="",1!==this.actualZoom&&o.push("scale("+this.actualZoom+")"),n&&o.push("rotate("+n+"deg)"),this.textInputElementContainer.style.transform=o.join(" "),this.textInputElement.style.width=e&&e.width+"px"||"",this.textInputElement.style.height=e&&e.height+"px"||"auto"},t.prototype.setTextInputElementStyle=function(t){this.savedTextInputStyle=t,r.RenderUtils.applyStyleToElement(t,this.textInputElement)},t.prototype.createFocusInputElement=function(t){this.inputElement=document.createElement("textarea"),this.inputElement.readOnly=h.Browser.TouchUI,this.inputElement.setAttribute("class","dxdi-focus-input"),t.appendChild(this.inputElement)},t.prototype.attachInputElementEvents=function(){this.onInputBlurHandler=this.onInputBlur.bind(this),this.onInputFocusHandler=this.onInputFocus.bind(this),this.onInputKeyDownHandler=this.onInputKeyDown.bind(this),this.onInputKeyPressHandler=this.onInputKeyPress.bind(this),this.onInputKeyUpHandler=this.onInputKeyUp.bind(this),this.onPasteHandler=this.onPaste.bind(this),p.RenderHelper.addEventListener(this.inputElement,"blur",this.onInputBlurHandler),p.RenderHelper.addEventListener(this.inputElement,"focus",this.onInputFocusHandler),p.RenderHelper.addEventListener(this.inputElement,"keydown",this.onInputKeyDownHandler),p.RenderHelper.addEventListener(this.inputElement,"keypress",this.onInputKeyPressHandler),p.RenderHelper.addEventListener(this.inputElement,"keyup",this.onInputKeyUpHandler),p.RenderHelper.addEventListener(this.inputElement,"paste",this.onPasteHandler)},t.prototype.detachInputElementEvents=function(){p.RenderHelper.removeEventListener(this.inputElement,"blur",this.onInputBlurHandler),p.RenderHelper.removeEventListener(this.inputElement,"focus",this.onInputFocusHandler),p.RenderHelper.removeEventListener(this.inputElement,"keydown",this.onInputKeyDownHandler),p.RenderHelper.removeEventListener(this.inputElement,"keypress",this.onInputKeyPressHandler),p.RenderHelper.removeEventListener(this.inputElement,"keyup",this.onInputKeyUpHandler),p.RenderHelper.removeEventListener(this.inputElement,"paste",this.onPasteHandler)},t.prototype.createTextInputElement=function(t){this.textInputElementContainer=document.createElement("div"),this.textInputElementContainer.setAttribute("class","dxdi-text-input-container"),t.appendChild(this.textInputElementContainer),this.textInputElement=document.createElement("textarea"),this.textInputElement.setAttribute("class","dxdi-text-input"),this.attachTextInputElementEvents(),this.textInputElementContainer.appendChild(this.textInputElement)},t.prototype.attachTextInputElementEvents=function(){this.onTextInputBlurHandler=this.onTextInputBlur.bind(this),this.onTextInputFocusHandler=this.onTextInputFocus.bind(this),this.onTextInputKeyDownHandler=this.onTextInputKeyDown.bind(this),this.onTextInputMouseWheelHandler=this.onTextInputMouseWheel.bind(this),this.onTextInputMouseUpHandler=this.onTextInputMouseUp.bind(this),this.onTextInputKeyUpHandler=this.onTextInputKeyUp.bind(this),this.onTextInputChangeHandler=this.onTextInputChange.bind(this),p.RenderHelper.addEventListener(this.textInputElement,"mousewheel",this.onTextInputMouseWheelHandler),p.RenderHelper.addEventListener(this.textInputElement,"mouseup",this.onTextInputMouseUpHandler),p.RenderHelper.addEventListener(this.textInputElement,"blur",this.onTextInputBlurHandler),p.RenderHelper.addEventListener(this.textInputElement,"focus",this.onTextInputFocusHandler),p.RenderHelper.addEventListener(this.textInputElement,"keydown",this.onTextInputKeyDownHandler),p.RenderHelper.addEventListener(this.textInputElement,"keyup",this.onTextInputKeyUpHandler),p.RenderHelper.addEventListener(this.textInputElement,"change",this.onTextInputChangeHandler)},t.prototype.detachTextInputElementEvents=function(){p.RenderHelper.removeEventListener(this.textInputElement,"mousewheel",this.onTextInputMouseWheelHandler),p.RenderHelper.removeEventListener(this.textInputElement,"mouseup",this.onTextInputMouseUpHandler),p.RenderHelper.removeEventListener(this.textInputElement,"blur",this.onTextInputBlurHandler),p.RenderHelper.removeEventListener(this.textInputElement,"focus",this.onTextInputFocusHandler),p.RenderHelper.removeEventListener(this.textInputElement,"keydown",this.onTextInputKeyDownHandler),p.RenderHelper.removeEventListener(this.textInputElement,"keyup",this.onTextInputKeyUpHandler),p.RenderHelper.removeEventListener(this.textInputElement,"change",this.onTextInputChangeHandler)},t.prototype.createClipboardInputElement=function(t){this.clipboardInputElement=document.createElement("textarea"),this.clipboardInputElement.setAttribute("class","dxdi-clipboard-input"),t.appendChild(this.clipboardInputElement)},t.prototype.blurControl=function(){this.focusLocked||(this.focused=!1,o.DomUtils.removeClassName(this.mainElement,"focused"))},t.prototype.focusControl=function(){this.focused=!0,this.focusLocked=!1,o.DomUtils.addClassName(this.mainElement,"focused")},t.prototype.updateTextInputPadding=function(){var t=this.textInputElement.value;if(this.savedTextInputSize){n=this.textMeasurer.measureWords(t,this.savedTextInputStyle,u.TextOwner.Shape),i=f.getTextHeight(t,this.savedTextInputSize.width,n,!0);var e=Math.max(0,.5*(this.savedTextInputSize.height-i));this.textInputElement.style.paddingTop=Math.ceil(e)+"px",this.textInputElement.style.height=Math.floor(this.savedTextInputSize.height)+"px"}else{var n=this.textMeasurer.measureWords(" ",this.savedTextInputStyle,u.TextOwner.Connector),i=f.getLineHeight(n)*((f.textToParagraphs(t).length||1)+1);this.textInputElement.style.height=Math.ceil(i)+"px"}},t.prototype.onInputBlur=function(t){var e=this;this.blurControl(),r.raiseEvent(t,this.getDiagramFocusEvent(t),function(t){return e.eventManager.onBlur(t)})},t.prototype.onInputFocus=function(t){var e=this;this.focusControl(),r.raiseEvent(t,this.getDiagramFocusEvent(t),function(t){return e.eventManager.onFocus(t)})},t.prototype.onInputKeyDown=function(t){var e=this;r.raiseEvent(t,this.getDiagramKeyboardEvent(t),function(t){return e.eventManager.onKeyDown(t)})},t.prototype.onInputKeyPress=function(t){!t.preventDefault||h.Browser.Safari&&"KeyV"===t.code||t.preventDefault()},t.prototype.onInputKeyUp=function(t){var e=this;r.raiseEvent(t,this.getDiagramKeyboardEvent(t),function(t){return e.eventManager.onKeyUp(t)})},t.prototype.onTextInputBlur=function(t){var e=this;if(this.eventManager.canFinishTextEditing())this.blurControl(),r.raiseEvent(t,this.getDiagramFocusEvent(t),function(t){return e.eventManager.onTextInputBlur(t)});else{var n=c.EvtUtils.getEventSource(t);document.activeElement!==n&&n.focus()}},t.prototype.onTextInputFocus=function(t){var e=this;this.focusControl(),r.raiseEvent(t,this.getDiagramFocusEvent(t),function(t){return e.eventManager.onTextInputFocus(t)})},t.prototype.onTextInputKeyDown=function(t){var e=this;r.raiseEvent(t,this.getDiagramKeyboardEvent(t),function(t){return e.eventManager.onTextInputKeyDown(t)})},t.prototype.onTextInputKeyUp=function(t){this.updateTextInputPadding()},t.prototype.onTextInputChange=function(t){this.updateTextInputPadding()},t.prototype.onPaste=function(t){var e=this;r.raiseEvent(t,this.getDiagramClipboardEvent(t),function(t){return e.eventManager.onPaste(t)})},t.prototype.onTextInputMouseWheel=function(t){this.mouseWheelHandler&&this.mouseWheelHandler(t)},t.prototype.onTextInputMouseUp=function(t){t.stopPropagation&&t.stopPropagation(),c.EvtUtils.cancelBubble(t)},t.prototype.getDiagramKeyboardEvent=function(t){return new a.DiagramKeyboardEvent(i.KeyUtils.getKeyModifiers(t),i.KeyUtils.getEventKeyCode(t),this.textInputElement.value)},t.prototype.getTextInputElementValue=function(){return this.textInputElement.value},t.prototype.getDiagramFocusEvent=function(t){return new a.DiagramFocusEvent(t.target.value)},t.prototype.getDiagramClipboardEvent=function(t){var e,n=t.clipboardData||t.originalEvent&&t.originalEvent.clipboardData;return e=void 0!==n?n.getData("text/plain"):window.clipboardData.getData("Text"),new a.DiagramClipboardEvent(e)},t.prototype.isTextInputElement=function(t){return"string"==typeof t.className&&t.className.indexOf("dxdi-text-input")>-1},t.prototype.lockFocus=function(){var t=this;this.focusLocked=!0,setTimeout(function(){return t.focusLocked=!1},10)},t.prototype.notifyViewAdjusted=function(t){},t.prototype.notifyActualZoomChanged=function(t){this.actualZoom=t,this.savedTextInputPosition&&this.savedTextInputSize&&this.setTextInputElementBounds(this.savedTextInputPosition,this.savedTextInputSize,this.savedTextInputAngle)},t.prototype.notifyTextInputStart=function(t,e,n,i){var o,r="";t instanceof s.Shape?(r="shape-text",o=t.textAngle):t instanceof l.Connector&&(r="connector-text"),i=i&&i.clone().applyConverter(d.UnitConverter.twipsToPixels),this.setInputElementTextInputMode(e,n,i,t.styleText,r,o)},t.prototype.notifyTextInputEnd=function(t,e){this.setInputElementFocusHandlerMode(e)},t.prototype.notifyTextInputPermissionsCheck=function(t,e){},t}();e.InputManager=g},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasPageManager=void 0;var r=n(26),a=n(21),s=n(5),l=n(341),c=n(56),u=n(42),h=n(2),d=n(0),p=n(17),f=n(22),m=n(12),g=function(t){function e(e,n,i){var o=t.call(this,n.zoomLevel,i)||this;return o.snapPoint=new d.Point(0,0),o.gridPatternId=p.RenderUtils.generateSvgElementId("gridPattern"),o.pagesGridPatternId=p.RenderUtils.generateSvgElementId("pagesGridPattern"),o.pagesGridClipId=p.RenderUtils.generateSvgElementId("pagesGridClip"),o.pageColor=n.pageColor,o.modelSize=n.modelSize,o.simpleView=n.simpleView,o.gridSize=n.gridSize,o.gridVisible=n.gridVisible,o.pageSize=n.pageLandscape?new h.Size(n.pageSize.height,n.pageSize.width):n.pageSize,o.canvasViewOffset=new d.Point(0,0),o.initContainers(e),o}return o(e,t),e.prototype.initContainers=function(t){this.backgroundContainer=t},e.prototype.redraw=function(){this.redrawPage(this.pageColor),this.redrawGrid()},e.prototype.redrawPage=function(t){var e=new r.Style;e.fill=f.ColorUtils.colorToHash(t),this.getOrCreateElement("page-bg",new a.RectanglePrimitive(0,0,"100%","100%",e,"page"),this.backgroundContainer),this.createTextFloodFilter("page-bg-textflood-filter",this.backgroundContainer,t)},e.prototype.redrawGrid=function(){this.updateGridElements(),this.updatePagesGridElements()},e.prototype.getGridRectElement=function(t){return void 0===this.gridRectElement&&(this.gridRectElement=this.createPrimitiveElement(t,this.backgroundContainer)),this.gridRectElement},e.prototype.getGridPatternElement=function(t){return void 0===this.gridPatternElement&&(this.gridPatternElement=this.createPrimitiveElement(t,this.backgroundContainer)),this.gridPatternElement},e.prototype.updateGridElements=function(){var t=this,e=new a.RectanglePrimitive("0","0","100%","100%",null,"grid",null,function(e){e.style.setProperty("fill",p.RenderUtils.getUrlPathById(t.gridPatternId))}),n=this.getGridRectElement(e);if(this.gridVisible){n.style.display="",this.changePrimitiveElement(e,n);for(var i=m.UnitConverter.twipsToPixelsF(this.gridSize)*this.actualZoom,o=[0,1,2,3,4].map(function(t){return Math.round(i*t)}),r=[new s.PathPrimitiveMoveToCommand(o[4].toString(),"0"),new s.PathPrimitiveLineToCommand(o[4].toString(),o[4].toString()),new s.PathPrimitiveLineToCommand("0",o[4].toString())],c=[],u=1;u<=3;u++)c.push(new s.PathPrimitiveMoveToCommand(o[u].toString(),"0")),c.push(new s.PathPrimitiveLineToCommand(o[u].toString(),o[4].toString()));for(u=1;u<=3;u++)c.push(new s.PathPrimitiveMoveToCommand("0",o[u].toString())),c.push(new s.PathPrimitiveLineToCommand(o[4].toString(),o[u].toString()));var h=4*i,f=this.simpleView?this.canvasViewOffset:d.Point.zero(),g=new l.PatternPrimitive(this.gridPatternId,[this.createGridPathPrimitive(r,"grid-outer-line"),this.createGridPathPrimitive(c,"grid-inner-line")],this.createGridPatternPrimitivePosition(f.x,this.snapPoint.x,h),this.createGridPatternPrimitivePosition(f.y,this.snapPoint.y,h),h.toString(),h.toString());this.changePrimitiveElement(g,this.getGridPatternElement(g))}else n.style.display="none"},e.prototype.createGridPatternPrimitivePosition=function(t,e,n){return(((t+e*this.actualZoom)%n-n)%n).toString()},e.prototype.createGridPathPrimitive=function(t,e){return new s.PathPrimitive(t,r.StrokeStyle.default1pxNegativeOffsetInstance,e)},e.prototype.getPagesGridRectElement=function(t){return this.getOrCreateElement("grid-pages-rect",t,this.backgroundContainer)},e.prototype.getPagesGridClipPathElement=function(t){return void 0===this.pagesGridClipPathElement&&(this.pagesGridClipPathElement=this.createPrimitiveElement(t,this.backgroundContainer)),this.pagesGridClipPathElement},e.prototype.getPagesGridPatternElement=function(t){return void 0===this.pagesGridPatternElement&&(this.pagesGridPatternElement=this.createPrimitiveElement(t,this.backgroundContainer)),this.pagesGridPatternElement},e.prototype.updatePagesGridElements=function(){var t=this,e=this.getAbsoluteSize(this.pageSize),n=new a.RectanglePrimitive("0","0","100%","100%",null,"grid-page",this.pagesGridClipId,function(e){e.style.setProperty("fill",p.RenderUtils.getUrlPathById(t.pagesGridPatternId)),e.style.setProperty("display",t.simpleView?"none":"")});if(this.getPagesGridRectElement(n),!this.simpleView){var i=this.modelSize.clone().multiply(this.actualZoom,this.actualZoom),o=[new s.PathPrimitiveMoveToCommand((e.width-1).toString(),"0"),new s.PathPrimitiveLineToCommand((e.width-1).toString(),(e.height-1).toString()),new s.PathPrimitiveLineToCommand("0",(e.height-1).toString())],r=new l.PatternPrimitive(this.pagesGridPatternId,[new s.PathPrimitive(o,null,"pages-grid-line")],0,0,e.width.toString(),e.height.toString());this.changePrimitiveElement(r,this.getPagesGridPatternElement(r));var u=new c.ClipPathPrimitive(this.pagesGridClipId,[new a.RectanglePrimitive(0,0,(m.UnitConverter.twipsToPixelsF(i.width)-4).toString(),(m.UnitConverter.twipsToPixelsF(i.height)-4).toString())]);this.changePrimitiveElement(u,this.getPagesGridClipPathElement(u))}},e.prototype.notifyModelSizeChanged=function(t,e){this.modelSize=t.clone(),this.redraw()},e.prototype.notifyModelRectangleChanged=function(t){},e.prototype.notifySnapPointPositionChanged=function(t){this.snapPoint=t.clone().applyConverter(m.UnitConverter.twipsToPixelsF),this.redrawGrid()},e.prototype.notifyPageColorChanged=function(t){this.pageColor=t,this.redrawPage(this.pageColor)},e.prototype.notifyModelChanged=function(t){},e.prototype.notifyPageSizeChanged=function(t,e){this.pageSize=e?new h.Size(t.height,t.width):t.clone(),this.redraw()},e.prototype.notifyActualZoomChanged=function(t){this.actualZoom=t,this.redraw()},e.prototype.notifyViewAdjusted=function(t){this.canvasViewOffset.equals(t)||(this.canvasViewOffset=t,this.simpleView&&this.redraw())},e.prototype.notifyViewChanged=function(t){this.simpleView=t,this.redraw()},e.prototype.notifyGridChanged=function(t,e){this.gridVisible=t,this.gridSize=e,this.redraw()},e}(u.CanvasManagerBase);e.CanvasPageManager=g},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PatternPrimitive=void 0;var r=n(15),a=function(t){function e(e,n,i,o,r,a,s){var l=t.call(this,s)||this;return l.id=e,l.x=i,l.y=o,l.width=r,l.height=a,l.children=n,l}return o(e,t),e.prototype.createMainElement=function(){var t=document.createElementNS(r.svgNS,"pattern");return t.setAttribute("patternUnits","userSpaceOnUse"),t.setAttribute("id",this.id),t},e.prototype.applyElementProperties=function(e,n){this.setUnitAttribute(e,"x",this.x),this.setUnitAttribute(e,"y",this.y),this.setUnitAttribute(e,"width",this.width),this.setUnitAttribute(e,"height",this.height),this.setPositionCorrectionAttribute(e),t.prototype.applyElementProperties.call(this,e,n)},e}(n(24).SvgPrimitive);e.PatternPrimitive=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasViewManager=e.CROP_OFFSET=e.CANVAS_SCROLL_PADDING=e.CANVAS_MIN_PADDING=void 0;var r=n(42),a=n(28),s=n(3),l=n(87),c=n(2),u=n(0),h=n(39),d=n(56),p=n(21),f=n(17),m=n(343),g=n(26),v=n(27),y=n(12);e.CANVAS_MIN_PADDING=8,e.CANVAS_SCROLL_PADDING=18,e.CROP_OFFSET=40;var _=function(t){function n(e,n,i,o,r,a,c,h){var d=t.call(this,o,h)||this;return d.svgElement=n,d.paddings=new l.Offsets(0,0,0,0),d.scroll=new u.Point(0,0),d.crop=l.Offsets.empty(),d.lockAutoZoom=!1,d.autoScrollLocker=0,d.pageClipPathId=f.RenderUtils.generateSvgElementId("page-clip"),d.pageShadowId=f.RenderUtils.generateSvgElementId("page-shadow"),d.onViewChanged=new s.EventDispatcher,e.onScroll.add(d),i=i.clone().applyConverter(y.UnitConverter.twipsToPixelsF),d.scrollView=e,d.modelSize=i,d.simpleView=a,d.fixedZoomLevel=o,d.autoZoom=r,d.crop=d.rectangleToCrop(c,i),d.updateElements(i.clone().multiply(o,o),u.Point.zero(),a),d.getOrCreateElement("shadow",new m.ShadowFilterPrimitive(d.pageShadowId),d.svgElement),d.containerSize=e.getSize(),d}return o(n,t),n.prototype.adjust=function(t,e){var n;t||(t={vertical:!1,horizontal:!1},n=l.Offsets.empty()),this.containerSize=this.scrollView.getSize(),this.adjustCore(this.modelSize,this.fixedZoomLevel,this.autoZoom,this.simpleView,this.crop,t,this.containerSize,n,e),this.tryNormalizePaddings()},n.prototype.notifyModelSizeChanged=function(t,e){t=t.clone().applyConverter(y.UnitConverter.twipsToPixelsF);var n={horizontal:!e,vertical:!e};this.adjustCore(t,this.fixedZoomLevel,this.autoZoom,this.simpleView,this.crop,n,this.containerSize,e&&e.clone().applyConverter(y.UnitConverter.twipsToPixelsF)),this.modelSize=t},n.prototype.notifyModelRectangleChanged=function(t){var e=this.rectangleToCrop(t,this.modelSize);this.crop&&this.crop.equals(e)||(this.simpleView&&this.adjustCore(this.modelSize,this.fixedZoomLevel,this.autoZoom,this.simpleView,e,{horizontal:!1,vertical:!1},this.containerSize,l.Offsets.empty()),this.crop=e)},n.prototype.notifySnapPointPositionChanged=function(t){},n.prototype.notifyZoomChanged=function(t,e){this.adjustCore(this.modelSize,t,e,this.simpleView,this.crop,{horizontal:!1,vertical:!1},this.containerSize),this.fixedZoomLevel=t,this.autoZoom=e},n.prototype.notifyViewChanged=function(t){this.adjustCore(this.modelSize,this.fixedZoomLevel,this.autoZoom,t,this.crop,{vertical:!0,horizontal:!0},this.containerSize),this.simpleView=t},n.prototype.notifyGridChanged=function(t,e){},n.prototype.notifyDragStart=function(t){this.lockAutoZoom=!0,v.DomUtils.addClassName(this.svgElement,"dxdi-drag-item")},n.prototype.notifyDragEnd=function(t){this.lockAutoZoom=!1,v.DomUtils.removeClassName(this.svgElement,"dxdi-drag-item"),this.adjustAfterDragEnd()},n.prototype.adjustAfterDragEnd=function(){this.autoZoom&&!this.autoZoomLocked&&this.adjust({horizontal:!0,vertical:this.autoZoom===a.AutoZoomMode.FitContent},this.autoZoom===a.AutoZoomMode.FitToWidth)},n.prototype.notifyShowContextToolbox=function(){this.autoZoomLocked=!0},n.prototype.notifyHideContextToolbox=function(){this.autoZoomLocked=!1,this.adjustAfterDragEnd()},n.prototype.notifyDragScrollStart=function(){v.DomUtils.addClassName(this.svgElement,"dxdi-drag-scroll")},n.prototype.notifyDragScrollEnd=function(){v.DomUtils.removeClassName(this.svgElement,"dxdi-drag-scroll")},n.prototype.notifyScrollChanged=function(t){this.scroll=t()},n.prototype.checkFitToCanvas=function(t){t=t||this.containerSize;var n=this.scrollView.getScrollBarWidth();t=t.clone().offset(2*-e.CANVAS_MIN_PADDING,2*-e.CANVAS_MIN_PADDING).nonNegativeSize();var i=this.getActualModelSizeWithoutZoom(this.modelSize,this.simpleView,this.crop).clone().multiply(this.actualZoom,this.actualZoom),o=this.checkScrollBars(t,n,i,l.Offsets.empty());return{vertical:(t=t.clone().offset(o.vertical?-n:0,o.horizontal?-n:0).nonNegativeSize()).height>=i.height,horizontal:t.width>=i.width}},n.prototype.rectangleToCrop=function(t,e){var n=t.clone().applyConverter(y.UnitConverter.twipsToPixelsF);return new l.Offsets(this.correctCrop(n.x),this.correctCrop(e.width-n.right),this.correctCrop(n.y),this.correctCrop(e.height-n.bottom))},n.prototype.correctCrop=function(t){return e.CROP_OFFSET*Math.floor(t/e.CROP_OFFSET)},n.prototype.setActualZoom=function(t){this.actualZoom!==t&&(this.actualZoom=t,this.raiseActualZoomChanged())},n.prototype.getActualAutoZoomLevel=function(t){if(t===a.AutoZoomMode.Disabled)return this.actualZoom;var e=this.containerSize,n=this.scrollView.getScrollBarWidth(),i=this.getActualModelSizeWithoutZoom(this.modelSize,this.simpleView,this.crop);return this.getActualAutoZoom(e,n,i,t)},n.prototype.getActualZoom=function(t,e,n,i,o){return this.lockAutoZoom?this.actualZoom:o===a.AutoZoomMode.Disabled?i:this.getActualAutoZoom(t,e,n,o)},n.prototype.getActualAutoZoom=function(t,n,i,o){return 0===t.width||0===t.height?1:o===a.AutoZoomMode.FitContent?Math.min((t.width-2*e.CANVAS_MIN_PADDING)/i.width,(t.height-2*e.CANVAS_MIN_PADDING)/i.height,1):Math.min((t.width-2*e.CANVAS_MIN_PADDING-n)/i.width,1)},n.prototype.raiseActualZoomChanged=function(){var t=this;this.onViewChanged.raise1(function(e){return e.notifyActualZoomChanged(t.actualZoom)})},n.prototype.tryNormalizePaddings=function(){var t=this.scrollView.getScrollBarWidth(),e=this.getActualModelSizeWithoutZoom(this.modelSize,this.simpleView,this.crop).clone().multiply(this.actualZoom,this.actualZoom),n=new u.Point(this.paddings.left,this.paddings.top),i=new c.Size(this.paddings.right,this.paddings.bottom),o=this.getTailSpace(n,this.scroll,e,this.containerSize,t);o.equals(i)||this.applyChanges(new l.Offsets(n.x,o.width,n.y,o.height),e,this.simpleView,this.crop.clone().multiply(this.actualZoom))},n.prototype.scrollBy=function(t){var e,n,i,o=this.scroll,r=this.containerSize,a=this.scrollView.getScrollBarWidth(),s=this.getActualModelSizeWithoutZoom(this.modelSize,this.simpleView,this.crop).clone().multiply(this.actualZoom,this.actualZoom),h=this.checkScrollBars(r,a,s,this.paddings),d=new u.Point(this.paddings.left,this.paddings.top),p=new c.Size(this.paddings.right,this.paddings.bottom);return o=(e=this.changeScrollByOffset(d,o,p,s,t,r,h)).scroll,t=e.offset,d=(n=this.changeTranslateByOffset(d,p,t,h)).translate,t=n.offset,d=(i=this.cropHiddenHead(d,o)).translate,o=i.scroll,p=this.getTailSpace(d,o,s,r,a),this.applyChanges(new l.Offsets(d.x,p.width,d.y,p.height),s,this.simpleView,this.crop.clone().multiply(this.actualZoom),o),t},n.prototype.changeScrollByOffset=function(t,e,n,i,o,r,a){var s=e.clone(),l=o.clone();return o.x&&a.horizontal&&(s.x-=l.x=-this.getScrollDeltaByOffset(o.x,e.x,t.x+i.width+n.width,r.width,a.vertical)),o.y&&a.vertical&&(s.y-=l.y=-this.getScrollDeltaByOffset(o.y,e.y,t.y+i.height+n.height,r.height,a.horizontal)),{scroll:s,offset:l}},n.prototype.changeTranslateByOffset=function(t,e,n,i){var o=t.clone(),r=n.clone();return n.x&&!i.horizontal&&(o.x+=r.x=this.getTranslateDeltaByOffset(n.x,o.x,e.width)),n.y&&!i.vertical&&(o.y+=r.y=this.getTranslateDeltaByOffset(n.y,o.y,e.height)),{translate:o,offset:r}},n.prototype.getScrollDeltaByOffset=function(t,e,n,i,o){if(t>0)return-Math.min(e,t);var r=n-(i-(o?this.scrollView.getScrollBarWidth():0));return Math.min(r-e,-t)},n.prototype.getTranslateDeltaByOffset=function(t,n,i){return t?t<0?-Math.min(n-e.CANVAS_MIN_PADDING,-t):Math.min(i-e.CANVAS_MIN_PADDING,t):0},n.prototype.getActualModelSizeWithoutZoom=function(t,e,n){return e&&n?t.clone().offset(-n.horizontal,-n.vertical).nonNegativeSize():t},n.prototype.setScrollTo=function(t,n){var i=this.containerSize,o=this.getVisibileAreaAbsShift(),r=t.clone().applyConverter(y.UnitConverter.twipsToPixelsF).clone().multiply(this.actualZoom,this.actualZoom).clone().offset(o.x,o.y),a=this.scroll;n?(a.x+=r.x-n.x,a.y+=r.y-n.y):(r.x<0&&(a.x+=r.x-e.CANVAS_MIN_PADDING),r.y<0&&(a.y+=r.y-e.CANVAS_MIN_PADDING),r.x>i.width&&(a.x+=r.x-i.width+e.CANVAS_MIN_PADDING),r.y>i.height&&(a.y+=r.y-i.height+e.CANVAS_MIN_PADDING)),this.setScroll(a)},n.prototype.scrollIntoView=function(t){t=t.clone().applyConverter(y.UnitConverter.twipsToPixelsF).multiply(this.actualZoom,this.actualZoom).moveRectangle(this.paddings.left,this.paddings.top);var n=this.scroll,i=this.containerSize;if(!(t.x>=n.x&&t.y>=n.y&&t.right<=n.x+i.width&&t.bottom<=n.y+i.height)){var o=n.clone();t.x<n.x?o.x=t.x-e.CANVAS_SCROLL_PADDING:t.right>n.x+i.width&&(o.x=Math.min(t.x-e.CANVAS_SCROLL_PADDING,t.right+e.CANVAS_SCROLL_PADDING-i.width)),t.y<n.y?o.y=t.y-e.CANVAS_SCROLL_PADDING:o.y=Math.min(t.y-e.CANVAS_SCROLL_PADDING,t.bottom+e.CANVAS_SCROLL_PADDING-i.height),this.setScroll(o)}},n.prototype.setScroll=function(t){var e=this,n=this.modelSize.clone().multiply(this.actualZoom,this.actualZoom);t.x=Math.max(0,Math.min(t.x,n.width+this.paddings.horizontal-this.containerSize.width)),t.y=Math.max(0,Math.min(t.y,n.height+this.paddings.vertical-this.containerSize.height)),this.dom.changeByFunc(null,function(){e.scrollView.setScroll(t.x,t.y)}),this.scroll=t.clone()},n.prototype.updateElements=function(t,e,n){this.updatePageElement(t,e,n),this.updateCanvasElement(e)},n.prototype.updateCanvasElement=function(t){this.canvasElement=this.getOrCreateElement("dxdi-main",new h.GroupPrimitive([],"dxdi-main",null,null,function(e){e.setAttribute("transform","translate("+Math.round(t.x)+", "+Math.round(t.y)+")")}),this.svgElement)},n.prototype.updatePageElement=function(t,e,n){if(n)this.updatePageElementCore("",0,0,t.width,t.height);else{var i=e.x,o=e.y,r=t.width,a=t.height;this.createPageShadow(i,o,r,a),this.updatePageElementCore(this.pageClipPathId,Math.round(i),Math.round(o),r,a)}},n.prototype.createPageShadow=function(t,e,n,i){this.getOrCreateElement("pageShadowRect",new p.RectanglePrimitive(t.toString(),e.toString(),n.toString(),i.toString(),new g.EmptyStyle({filter:f.RenderUtils.getUrlPathById(this.pageShadowId)}),"dxdi-page-shadow"),this.svgElement,this.svgElement.firstChild)},n.prototype.updatePageElementCore=function(t,e,n,i,o){this.pageElement=this.getOrCreateElement("page",new h.GroupPrimitive([],"dxdi-page",null,t,function(t){t.setAttribute("transform","translate("+e+", "+n+")")}),this.svgElement),this.getOrCreateElement("pageClip",this.createPageClipPathPrimitive(i,o),this.svgElement)},n.prototype.createPageClipPathPrimitive=function(t,e){return new d.ClipPathPrimitive(this.pageClipPathId,[new p.RectanglePrimitive(0,0,t.toString(),e.toString())])},n.prototype.adjustCore=function(t,e,n,i,o,r,a,s,c){var u=this.getActualModelSizeWithoutZoom(t,i,o);if(this.lockAutoZoom||!n&&s&&this.modelSize)this.resizeView(u,this.actualZoom,a,i,o,s);else{var h=this.scrollView.getScrollBarWidth(),d=this.getActualZoom(a,h,u,e,n);!n||d!==this.actualZoom||r.horizontal&&(r.vertical||c)?(this.resetView(u,d,a,i,o,r),this.setActualZoom(d)):this.resizeView(u,d,a,i,o,s||l.Offsets.empty())}},n.prototype.resetView=function(t,n,i,o,r,a){var s=t.clone().multiply(n,n),c=l.Offsets.fromNumber(e.CANVAS_MIN_PADDING);!(a=a||{horizontal:!0,vertical:!0}).horizontal&&this.paddings&&(c.left=this.paddings.left,c.right=this.paddings.right),!a.vertical&&this.paddings&&(c.top=this.paddings.top,c.bottom=this.paddings.bottom);var u=this.checkScrollBars(i,this.scrollView.getScrollBarWidth(),s,c),h=this.scrollView.getScrollBarWidth(),d=a.horizontal||a.vertical?this.scroll:void 0;if(a.horizontal){var p=Math.max((i.width-(u.vertical?h:0)-s.width)/2,e.CANVAS_MIN_PADDING);c.left=p,c.right=p,d.x=0}if(a.vertical){var f=Math.max((i.height-(u.horizontal?h:0)-s.height)/2,e.CANVAS_MIN_PADDING);c.top=f,c.bottom=f,d.y=0}this.applyChanges(c,s,o,r.clone().multiply(n),d)},n.prototype.resizeView=function(t,n,i,o,r,a){var s,c,h=this.actualZoom,d=this.simpleView&&this.crop?this.crop.clone().multiply(h):l.Offsets.empty(),p=t.clone().multiply(n,n);a=a.clone().multiply(n);var f=o&&r?r.clone().multiply(n):l.Offsets.empty(),m=new u.Point(this.paddings.left,this.paddings.top),g=this.scroll;m=(s=this.applyOffset(m,g,d,f,a)).translate,g=s.scroll,m=(c=this.cropHiddenHead(m,g)).translate,g=c.scroll;var v=this.getTailSpace(m,g,p,i,this.scrollView.getScrollBarWidth());if(!o){var y=i.width-e.CANVAS_SCROLL_PADDING,_=i.height-e.CANVAS_SCROLL_PADDING;a.left<0&&m.x>y&&(m.x=y,g.x=0),a.right<0&&v.width>y&&(v.width=y,g.x>p.width&&(g.x=p.width)),a.top<0&&m.y>_&&(m.y=_,g.y=0),a.bottom<0&&v.height>_&&(v.height=_,g.y>p.height&&(g.y=p.height))}var b=new l.Offsets(m.x,v.width,m.y,v.height);this.applyChanges(b,p,o,f,g)},n.prototype.applyChanges=function(t,e,n,i,o){var r=this,a=new u.Point(t.left,t.top);n&&i&&(a=a.clone().offset(-i.left,-i.top)),this.updateElements(e,a,n),this.setSvgSize(e.width+t.horizontal,e.height+t.vertical),this.onViewChanged.raise1(function(t){return t.notifyViewAdjusted(new u.Point(a.x,a.y))}),o&&(this.lockAutoScroll(),o&&this.dom.changeByFunc(this.scrollView,function(t){t.setScroll(o.x,o.y),r.unlockAutoScroll()}),this.scroll=o),this.paddings=t},n.prototype.isAutoScrollLocked=function(){return 0!==this.autoScrollLocker},n.prototype.lockAutoScroll=function(){this.autoScrollLocker++},n.prototype.unlockAutoScroll=function(){this.autoScrollLocker--},n.prototype.applyOffset=function(t,n,i,o,r){var a=t.clone(),s=n.clone(),l=this.getActualOffset(i,o,r);return l.left&&(a.x=Math.max(e.CANVAS_MIN_PADDING,a.x-l.left),s.x+=l.left-(t.x-a.x)),l.top&&(a.y=Math.max(e.CANVAS_MIN_PADDING,a.y-l.top),s.y+=l.top-(t.y-a.y)),{translate:a,scroll:s}},n.prototype.cropHiddenHead=function(t,n){var i=n.clone(),o=t.clone();if(i.x&&o.x>e.CANVAS_MIN_PADDING){var r=o.x-Math.max(e.CANVAS_MIN_PADDING,o.x-i.x);o.x-=r,i.x-=r}return i.y&&o.y>e.CANVAS_MIN_PADDING&&(r=o.y-Math.max(e.CANVAS_MIN_PADDING,o.y-i.y),o.y-=r,i.y-=r),{translate:o,scroll:i}},n.prototype.getTailSpace=function(t,n,i,o,r){var a=t.clone(),s=n.clone(),u=Math.max(o.width+s.x-(a.x+i.width),e.CANVAS_MIN_PADDING),h=Math.max(o.height+s.y-(a.y+i.height),e.CANVAS_MIN_PADDING),d=this.checkScrollBars(o,r,i,new l.Offsets(a.x,u,a.y,h));return d.vertical&&(u=Math.max(e.CANVAS_MIN_PADDING,u-r)),d.horizontal&&(h=Math.max(e.CANVAS_MIN_PADDING,h-r)),new c.Size(u,h)},n.prototype.getActualOffset=function(t,e,n){return new l.Offsets(-(e.left-t.left)+n.left,-(e.right-t.right)+n.right,-(e.top-t.top)+n.top,-(e.bottom-t.bottom)+n.bottom)},n.prototype.checkScrollBars=function(t,e,n,i){var o=t.width<n.width+i.horizontal,r=t.height<n.height+i.vertical;return o&&!r&&(r=t.height-e<n.height+i.vertical),r&&!o&&(o=t.width-e<n.width+i.horizontal),{horizontal:o,vertical:r}},n.prototype.setSvgSize=function(t,e){t===this.lastWidth&&e===this.lastHeight||(this.dom.changeByFunc(this.svgElement,function(n){return f.RenderUtils.updateSvgElementSize(n,t,e)}),this.lastWidth=t,this.lastHeight=e)},n.prototype.getVisibileAreaAbsShift=function(t){var e=this.scroll,n=this.paddings.clone(),i=this.simpleView,o=i&&this.crop?this.crop.left*this.actualZoom:0,r=i&&this.crop?this.crop.top*this.actualZoom:0;return new u.Point(n.left-o-(t?0:e.x),n.top-r-(t?0:e.y))},n.prototype.getModelPoint=function(t,e){var n=this.getVisibileAreaAbsShift(),i=t.clone().offset(-n.x,-n.y).multiply(1/this.actualZoom,1/this.actualZoom);if(e){var o=this.containerSize;if(t.x<0||t.y<0||t.x>o.width||t.y>o.height)return null;if(i.x<0||i.y<0)return null;if(i.x>this.modelSize.width||i.y>this.modelSize.height)return null}return i.clone().applyConverter(y.UnitConverter.pixelsToTwips)},n.prototype.getAbsolutePoint=function(t,e,n){var i=this.getVisibileAreaAbsShift(e),o=t.clone().multiply(this.actualZoom,this.actualZoom).clone().applyConverter(y.UnitConverter.twipsToPixelsF).clone().offset(i.x,i.y);if(n){if(o.x<0||o.y<0)return null;var r=this.containerSize;if(o.x>r.width||o.y>r.height)return null}return o},n}(r.CanvasManagerBase);e.CanvasViewManager=_},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ShadowFilterPrimitive=void 0;var r=n(108),a=n(15),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.createChildElements=function(t){var e=document.createElementNS(a.svgNS,"feGaussianBlur");e.setAttribute("in","SourceGraphic"),e.setAttribute("stdDeviation","4.6"),t.appendChild(e);var n=document.createElementNS(a.svgNS,"feOffset");n.setAttribute("dx","0"),n.setAttribute("dy","0"),t.appendChild(n);var i=document.createElementNS(a.svgNS,"feMerge");t.appendChild(i);var o=document.createElementNS(a.svgNS,"feMergeNode");i.appendChild(o);var r=document.createElementNS(a.svgNS,"feMergeNode");r.setAttribute("in","SourceGraphic"),i.appendChild(r)},e}(r.FilterPrimitive);e.ShadowFilterPrimitive=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoScrollController=void 0;var i=n(15),o=n(27),r=n(2),a=n(3),s=function(){function t(t,e,n,i){this.scroll=t,this.svgElement=e,this.view=n,this.dom=i,this.leftButtonPressed=!1,this.scrollDragging=!1,this.scrollTimer=-1,this.scrollBarWidth=o.DomUtils.getVerticalScrollBarWidth()}return t.prototype.onMouseMove=function(t,e){this.clearScrollTimer(),a.EventUtils.isLeftButtonPressed(t)||(this.leftButtonPressed=!1),this.canAutoScroll()&&this.changeScrollPosition(t,e,!1)},t.prototype.onMouseDown=function(t){this.leftButtonPressed=!!a.EventUtils.isLeftButtonPressed(t)},t.prototype.onMouseUp=function(t){this.clearScrollTimer(),this.leftButtonPressed=!1},t.prototype.onMouseEnter=function(t){var e=this;a.EventUtils.isLeftButtonPressed(t)&&setTimeout(function(){e.leftButtonPressed=!0},500)},t.prototype.onDragScrollStart=function(){this.scrollDragging=!0},t.prototype.onDragScrollEnd=function(){this.scrollDragging=!1},t.prototype.canAutoScroll=function(){return this.leftButtonPressed&&!this.scrollDragging},t.prototype.changeScrollPosition=function(t,e,n){var i=this,a=!1;if(!this.view.isAutoScrollLocked()){var s=this.scroll.getScrollContainer(),l=t.pageX-o.DomUtils.getAbsolutePositionX(s),c=t.pageY-o.DomUtils.getAbsolutePositionY(s),u=this.scroll.getSize(),h=new r.Size(parseFloat(this.svgElement.style.width),parseFloat(this.svgElement.style.height)),d=u.width;u.width<h.width&&(d-=this.scrollBarWidth);var p=u.height;u.height<h.height&&(p-=this.scrollBarWidth),l<=40?(this.dom.changeByFunc(null,function(){i.view.isAutoScrollLocked()||i.scroll.offsetScroll(-i.getScrollingOffset(l),0)}),a=!0):d-40<=l&&(this.dom.changeByFunc(null,function(){i.view.isAutoScrollLocked()||i.scroll.offsetScroll(i.getScrollingOffset(d-l),0)}),a=!0),c<=40?(this.dom.changeByFunc(null,function(){i.view.isAutoScrollLocked()||i.scroll.offsetScroll(0,-i.getScrollingOffset(c))}),a=!0):p-40<=c&&(this.dom.changeByFunc(null,function(){i.view.isAutoScrollLocked()||i.scroll.offsetScroll(0,i.getScrollingOffset(p-c))}),a=!0)}(a||this.view.isAutoScrollLocked())&&(this.scrollTimer=window.setTimeout(function(){return i.changeScrollPosition(t,e,a)},50)),n&&e()},t.prototype.clearScrollTimer=function(){this.scrollTimer>-1&&(window.clearTimeout(this.scrollTimer),this.scrollTimer=-1)},t.prototype.getScrollingOffset=function(t){var e=Math.pow((40-t)/5,2);return Math.round(Math.min(e,5))},t.createMainElement=function(t){var e=document.createElement("div");return e.setAttribute("class","dxdi-control"),t.appendChild(e),e},t.createSvgElement=function(t,e){void 0===e&&(e=!1);var n=document.createElementNS(i.svgNS,"svg");return n.className.baseVal="dxdi-canvas"+(e?" export":""),t.appendChild(n),n},t}();e.AutoScrollController=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentDataSource=e.UpdateNodeKeyRelatedObjectsStackAction=e.UpdateNodeKeyRelatedObjectsStackItem=void 0;var r=n(1),a=n(14),s=n(6),l=n(346),c=n(4),u=n(44),h=n(3),d=n(49),p=n(31),f=function(t,e){this.shape=t,this.nodeObj=e};e.UpdateNodeKeyRelatedObjectsStackItem=f;var m=function(t,e){this.kind=t,this.nodeObj=e};e.UpdateNodeKeyRelatedObjectsStackAction=m;var g=function(t){function e(e,n,i,o,r,a){var s=t.call(this,"Document",n,i,o,r,a)||this;return s.changesListener=e,s.nodeInsertingLockCount=0,s.updateNodeKeyRelatedObjectsCount=0,s.updateNodeKeyRelatedObjectsStack=[],s.updateNodeKeyRelatedObjectsStackActions=[],s}return o(e,t),e.prototype.updateItemsByModel=function(t){var e=this;this.beginChangesNotification(),this.deleteNodes(t),this.deleteEdges(t),t.items.forEach(function(n){n instanceof a.Shape&&e.updateNode(t,n),n instanceof s.Connector&&e.updateEdge(t,n)}),this.endChangesNotification(!1)},e.prototype.isItemObjectModified=function(t,e,n){var i=n.setLocked&&e.locked!==t.locked||n.setZIndex&&e.zIndex!==t.zIndex||n.setCustomData&&!h.ObjectUtils.compareObjects(e.customData,t.customData);if(!i&&n.setStyle){var o=t.style.getDefaultInstance();t.style.forEach(function(n){t.style[n]!==o[n]&&t.style[n]!==(e.style&&e.style[n])&&(i=!0)})}if(!i&&n.setStyleText){var r=t.styleText.getDefaultInstance();t.styleText.forEach(function(n){t.styleText[n]!==r[n]&&t.styleText[n]!==(e.styleText&&e.styleText[n])&&(i=!0)})}return i},e.prototype.setDataObjectKeyRelatedProperty=function(t,e,n,i){(i||void 0===this.autoGeneratedDataKeys[n])&&t(e,n)},e.prototype.updateItemObjectProperties=function(t,e,n){if(n.setCustomData&&(t.customData=h.ObjectUtils.cloneObject(e.customData),t.dataObj&&void 0!==t.customData&&n.setCustomData(t.dataObj,e.customData)),n.setLocked&&(t.locked=e.locked,t.dataObj&&void 0!==t.locked&&n.setLocked(t.dataObj,e.locked)),n.setStyle){var i=e.style.toObject();t.style=i,t.dataObj&&void 0!==t.style&&n.setStyle(t.dataObj,u.Data.objectToCssText(i))}if(n.setStyleText){var o=e.styleText.toObject();t.styleText=o,t.dataObj&&void 0!==t.styleText&&n.setStyleText(t.dataObj,u.Data.objectToCssText(o))}n.setZIndex&&(t.zIndex=e.zIndex,t.dataObj&&void 0!==t.zIndex&&n.setZIndex(t.dataObj,e.zIndex))},e.prototype.deleteItems=function(t,e,n,i){t.slice().forEach(function(t){if(void 0!==t.key&&null!==t.key&&!e(t.key)){var o=n(t),r=o.indexOf(t.dataObj);o.splice(r,1),i(t,r>-1)}})},e.prototype.updateNode=function(t,e){var n=this,i=this.findNode(e.dataKey);if(i)this.isNodeObjectModified(e,i,t.units)?(this.updateNodeObjectProperties(e,i,t.units),this.updateNodeObjectConnectedProperties(e,i),this.beginChangesNotification(),this.changesListener.notifyNodeUpdated.call(this.changesListener,this.nodeDataImporter.getKey(i.dataObj||i.key),i.dataObj,function(t,e){n.endChangesNotification(!1)},function(t){n.endChangesNotification(!1)})):this.updateNodeObjectConnectedProperties(e,i,this.changesListener);else{var o={};void 0!==e.dataKey&&null!==e.dataKey&&this.nodeDataImporter.setKey(o,e.dataKey),i=this.addNodeInternal(o,e.description.key,e.text),this.nodeDataSource.push(i.dataObj),this.setDataObjectKeyRelatedProperty(this.nodeDataImporter.setKey,o,i.key,this.addInternalKeyOnInsert),this.updateNodeObjectProperties(e,i,t.units),this.updateNodeObjectConnectedProperties(e,i),this.updateNodeObjectKey(e,i,i.dataObj),this.beginChangesNotification(),this.beginNodeInserting(),this.changesListener.notifyNodeInserted.call(this.changesListener,i.dataObj,function(t){n.updateNodeObjectKey(e,i,t),n.endNodeInserting(),n.endChangesNotification(!1)},function(t){n.endNodeInserting(),n.endChangesNotification(!1)})}},e.prototype.areImageUrlsEqual=function(t,e){return t===e||d.StringUtils.isNullOrEmpty(t)&&d.StringUtils.isNullOrEmpty(e)},e.prototype.isNodeObjectModified=function(t,e,n){return this.isItemObjectModified(t,e,this.nodeDataImporter)||e.type!==t.description.key&&!(void 0===e.type&&t.description.key===r.ShapeTypes.Rectangle)||!this.compareStrings(e.text,t.text)||this.nodeDataImporter.setImage&&!this.areImageUrlsEqual(e.image,t.image.actualUrl)||this.nodeDataImporter.setLeft&&!p.MathUtils.numberCloseTo(e.left,c.ModelUtils.getlUnitValue(n,t.position.x))||this.nodeDataImporter.setTop&&!p.MathUtils.numberCloseTo(e.top,c.ModelUtils.getlUnitValue(n,t.position.y))||this.nodeDataImporter.setWidth&&!p.MathUtils.numberCloseTo(e.width,c.ModelUtils.getlUnitValue(n,t.size.width))||this.nodeDataImporter.setHeight&&!p.MathUtils.numberCloseTo(e.height,c.ModelUtils.getlUnitValue(n,t.size.height))},e.prototype.updateNodeObjectProperties=function(t,e,n){if(this.updateItemObjectProperties(e,t,this.nodeDataImporter),this.nodeDataImporter.setType&&(e.type=t.description.key,this.nodeDataImporter.setType(e.dataObj,t.description.key)),this.nodeDataImporter.setText&&(e.text=t.text,this.nodeDataImporter.setText(e.dataObj,t.text)),this.nodeDataImporter.setImage&&(e.image=t.image.actualUrl,this.nodeDataImporter.setImage(e.dataObj,void 0===t.image.actualUrl?null:t.image.actualUrl)),this.nodeDataImporter.setLeft){var i=c.ModelUtils.getlUnitValue(n,t.position.x);e.left=i,this.nodeDataImporter.setLeft(e.dataObj,i)}if(this.nodeDataImporter.setTop){var o=c.ModelUtils.getlUnitValue(n,t.position.y);e.top=o,this.nodeDataImporter.setTop(e.dataObj,o)}if(this.nodeDataImporter.setWidth){var r=c.ModelUtils.getlUnitValue(n,t.size.width);e.width=r,this.nodeDataImporter.setWidth(e.dataObj,r)}if(this.nodeDataImporter.setHeight){var a=c.ModelUtils.getlUnitValue(n,t.size.height);e.height=a,this.nodeDataImporter.setHeight(e.dataObj,a)}},e.prototype.updateNodeObjectConnectedProperties=function(t,e,n){if(this.useNodeParentId&&void 0!==this.nodeDataImporter.setParentKey){var i=this.getParentItemKey(t),o=this.findNode(i);this.updateNodeObjectParentKey(e,o,n)}if(this.useNodeContainerId&&void 0!==this.nodeDataImporter.setContainerKey){var r=this.getContainerShapeKey(t),a=this.findNode(r);this.updateNodeObjectContainerKey(e,a,n)}this.useNodeItems&&void 0!==this.nodeDataImporter.setItems&&(i=this.getParentItemKey(t),o=this.findNode(i),this.updateNodeObjectItems(e,o,n)),this.useNodeChildren&&void 0!==this.nodeDataImporter.setChildren&&(r=this.getContainerShapeKey(t),a=this.findNode(r),this.updateNodeObjectChildren(e,a,n))},e.prototype.IsNodeParentIdMode=function(){return this.useNodeParentId&&void 0!==this.nodeDataImporter.setParentKey},e.prototype.IsNodeItemsMode=function(){return this.useNodeItems&&void 0!==this.nodeDataImporter.setItems},e.prototype.updateNodeObjectParentKey=function(t,e,n){var i=this.nodeDataImporter.getParentKey(t.dataObj),o=e?this.nodeDataImporter.getKey(e.dataObj):void 0;i===o||this.isRootParentKey(i)&&this.isRootParentKey(o)||(this.setDataObjectKeyRelatedProperty(this.nodeDataImporter.setParentKey,t.dataObj,o,!1),n&&(this.isInUpdateNodeKeyRelatedObjects()?this.addToUpdateNodeKeyRelatedObjectsStackAction("shape",t):this.updateNodeObjectContainerOrParentKeyInternal(t,n)))},e.prototype.updateNodeObjectParentKeyInternal=function(t,e){var n=this;this.beginChangesNotification(),e.notifyNodeUpdated.call(e,this.nodeDataImporter.getKey(t.dataObj)||t.key,t.dataObj,function(t,e){n.endChangesNotification(!1)},function(t){n.endChangesNotification(!1)})},e.prototype.updateNodeObjectContainerKey=function(t,e,n){var i=this.nodeDataImporter.getContainerKey(t.dataObj),o=e?this.nodeDataImporter.getKey(e.dataObj):void 0;i===o||this.isRootParentKey(i)&&this.isRootParentKey(o)||(this.setDataObjectKeyRelatedProperty(this.nodeDataImporter.setContainerKey,t.dataObj,o,!1),n&&(this.isInUpdateNodeKeyRelatedObjects()?this.addToUpdateNodeKeyRelatedObjectsStackAction("shape",t):this.updateNodeObjectContainerOrParentKeyInternal(t,n)))},e.prototype.updateNodeObjectContainerOrParentKeyInternal=function(t,e){var n=this;this.beginChangesNotification(),e.notifyNodeUpdated.call(e,this.nodeDataImporter.getKey(t.dataObj)||t.key,t.dataObj,function(t,e){n.endChangesNotification(!1)},function(t){n.endChangesNotification(!1)})},e.prototype.isRootParentKey=function(t){return null==t||!this.findNode(t)},e.prototype.updateNodeObjectItems=function(t,e,n){var i=this;if((e&&t.parentDataObj!==e.dataObj||!e&&t.parentDataObj)&&(!e||!this.checkNodeCyrcleItems(t.dataObj,e.dataObj))){var o=t.parentDataObj?this.nodeDataImporter.getItems(t.parentDataObj):this.nodeDataSource,r=o.indexOf(t.dataObj);o.splice(r,1);var a=e?this.nodeDataImporter.getItems(e.dataObj):this.nodeDataSource;a?a.push(t.dataObj):this.nodeDataImporter.setItems(e.dataObj,[t.dataObj]),t.parentDataObj=e&&e.dataObj,n&&(this.beginChangesNotification(),n.notifyNodeUpdated.call(n,this.nodeDataImporter.getKey(t.dataObj)||t.key,t.dataObj,function(t,e){i.endChangesNotification(!1)},function(t){i.endChangesNotification(!1)}))}},e.prototype.updateNodeObjectChildren=function(t,e,n){var i=this;if(e&&t.containerDataObj!==e.dataObj||!e&&t.containerDataObj){var o=t.containerDataObj?this.nodeDataImporter.getChildren(t.containerDataObj):this.nodeDataSource,r=o.indexOf(t.dataObj);o.splice(r,1);var a=e?this.nodeDataImporter.getChildren(e.dataObj):this.nodeDataSource;a?a.push(t.dataObj):this.nodeDataImporter.setChildren(e.dataObj,[t.dataObj]),t.containerDataObj=e&&e.dataObj,n&&(this.beginChangesNotification(),n.notifyNodeUpdated.call(n,this.nodeDataImporter.getKey(t.dataObj)||t.key,t.dataObj,function(t,e){i.endChangesNotification(!1)},function(t){i.endChangesNotification(!1)}))}},e.prototype.checkNodeCyrcleItems=function(t,e){var n=this,i=!1,o=this.nodeDataImporter.getItems(t);return o&&o.forEach(function(t){i=i||t===e||n.checkNodeCyrcleItems(t,e)}),i},e.prototype.updateNodeObjectKey=function(t,e,n){var i=this.nodeDataImporter.getKey(n),o=!1;if(null!=i&&i!==e.key&&(delete this.autoGeneratedDataKeys[e.key],e.key=i,o=!0),t.dataKey=e.key,e.dataObj!==n){var r=this.getNodeArray(e),a=r.indexOf(e.dataObj);r.splice(a,1,n),e.dataObj=n}o&&this.updateNodeKeyRelatedObjects(t,e)},e.prototype.updateNodeKeyRelatedObjects=function(t,e){var n=this;this.isInNodeInserting()?this.addToUpdateNodeKeyRelatedObjectsStack(t,e):(this.useNodeParentId&&void 0!==this.nodeDataImporter.setParentKey&&this.getChildItems(t).forEach(function(t){var i=n.findNode(t.dataKey);i&&n.updateNodeObjectParentKey(i,e,n.changesListener)}),this.useNodeContainerId&&void 0!==this.nodeDataImporter.setContainerKey&&t.children.forEach(function(t){var i=t instanceof a.Shape?n.findNode(t.dataKey):void 0;i&&n.updateNodeObjectContainerKey(i,e,n.changesListener)}),this.useEdgesArray()&&t.attachedConnectors.forEach(function(i){var o=n.findEdge(i.dataKey);o&&(t===i.beginItem&&n.updateEdgeObjectFromProperty(e,o,n.changesListener),t===i.endItem&&n.updateEdgeObjectToProperty(e,o,n.changesListener))}))},e.prototype.deleteNodes=function(t){var e=this;this.deleteItems(this.nodes,function(e){return t.findShapeByDataKey(e)},function(t){return e.getNodeArray(t)},function(t,n){var i=t.dataObj&&e.nodeDataImporter.getKey(t.dataObj)||t.key,o=e.findNode(i);o&&e.nodes.splice(e.nodes.indexOf(o),1),n&&(e.beginChangesNotification(),e.changesListener.notifyNodeRemoved.call(e.changesListener,i,t.dataObj,function(t,n){e.endChangesNotification(!1)},function(t){e.endChangesNotification(!1)}))})},e.prototype.getParentItem=function(t){for(var e=0;e<t.attachedConnectors.length;e++)if(t.attachedConnectors[e].endItem===t)return t.attachedConnectors[e].beginItem},e.prototype.getParentItemKey=function(t){var e=this.getParentItem(t);return e&&e.dataKey},e.prototype.getNodeArray=function(t){var e;return this.useNodeItems&&t.parentDataObj?e=this.nodeDataImporter.getItems(t.parentDataObj):t.containerDataObj&&(e=this.nodeDataImporter.getChildren(t.containerDataObj)),e||this.nodeDataSource},e.prototype.getContainerShapeKey=function(t){return t.container&&t.container.dataKey},e.prototype.getChildItems=function(t){for(var e=[],n=0;n<t.attachedConnectors.length;n++)t.attachedConnectors[n].beginItem===t&&t.attachedConnectors[n].endItem&&e.push(t.attachedConnectors[n].endItem);return e},e.prototype.updateEdge=function(t,e){var n=this,i=e.beginItem?e.beginItem.dataKey:void 0,o=e.endItem?e.endItem.dataKey:void 0,r=this.findEdge(e.dataKey);if(r)this.isEdgeObjectModified(e,r,t.units)&&(this.updateEdgeObjectProperties(e,r,t.units),r.dataObj&&(this.beginChangesNotification(),this.changesListener.notifyEdgeUpdated.call(this.changesListener,this.edgeDataImporter.getKey(r.dataObj)||r.key,r.dataObj,function(t,e){n.endChangesNotification(!1)},function(t){n.endChangesNotification(!1)})));else{var a=this.useEdgesArray()&&this.canUpdateEdgeDataSource?{}:void 0;a&&void 0!==e.dataKey&&null!==e.dataKey&&this.edgeDataImporter.setKey(a,e.dataKey),r=this.addEdgeInternal(a,i,o),a&&(this.setDataObjectKeyRelatedProperty(this.edgeDataImporter.setKey,a,r.key,this.addInternalKeyOnInsert),this.edgeDataSource.push(r.dataObj)),this.updateEdgeObjectProperties(e,r,t.units),this.updateEdgeObjectKey(e,r,r.dataObj),a&&(this.beginChangesNotification(),this.beginNodeInserting(),this.changesListener.notifyEdgeInserted.call(this.changesListener,r.dataObj,function(t){n.updateEdgeObjectKey(e,r,t),n.endNodeInserting(),n.endChangesNotification(!1)},function(t){n.endNodeInserting(),n.endChangesNotification(!1)}))}},e.prototype.isEdgeObjectModified=function(t,e,n){return this.isItemObjectModified(t,e,this.edgeDataImporter)||(null!==e.from?e.from:void 0)!==(t.beginItem?t.beginItem.dataKey:void 0)||(null===e.to?void 0:e.to)!==(t.endItem?t.endItem.dataKey:void 0)||this.edgeDataImporter.setFromPointIndex&&e.fromPointIndex!==t.beginConnectionPointIndex||this.edgeDataImporter.setToPointIndex&&e.toPointIndex!==t.endConnectionPointIndex||this.edgeDataImporter.setPoints&&(!e.points||!this.pointsAreEqual(e.points.map(function(t){return t.x}),t.points.map(function(t){return c.ModelUtils.getlUnitValue(n,t.x)}))||!this.pointsAreEqual(e.points.map(function(t){return t.y}),t.points.map(function(t){return c.ModelUtils.getlUnitValue(n,t.y)})))||this.edgeDataImporter.setText&&!this.compareTexts(e,t)||this.edgeDataImporter.setLineOption&&e.lineOption!==t.properties.lineOption||this.edgeDataImporter.setStartLineEnding&&e.startLineEnding!==t.properties.startLineEnding||this.edgeDataImporter.setEndLineEnding&&e.endLineEnding!==t.properties.endLineEnding},e.prototype.pointsAreEqual=function(t,e){var n=t.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(!p.MathUtils.numberCloseTo(t[i],e[i]))return!1;return!0},e.prototype.updateEdgeObjectFromProperty=function(t,e,n){if(e.from=t&&t.key,e.dataObj){var i=t&&t.dataObj&&this.nodeDataImporter.getKey(t.dataObj);this.setDataObjectKeyRelatedProperty(this.edgeDataImporter.setFrom,e.dataObj,i,!1),n&&(this.isInUpdateNodeKeyRelatedObjects()?this.addToUpdateNodeKeyRelatedObjectsStackAction("edge",e):this.updateEdgeObjectFromOrToPropertyInternal(e,n))}},e.prototype.updateEdgeObjectFromOrToPropertyInternal=function(t,e){var n=this;this.beginChangesNotification(),e.notifyEdgeUpdated.call(e,this.nodeDataImporter.getKey(t.dataObj)||t.key,t.dataObj,function(t,e){n.endChangesNotification(!1)},function(t){n.endChangesNotification(!1)})},e.prototype.updateEdgeObjectToProperty=function(t,e,n){if(e.to=t&&t.key,e.dataObj){var i=t&&t.dataObj&&this.nodeDataImporter.getKey(t.dataObj);this.setDataObjectKeyRelatedProperty(this.edgeDataImporter.setTo,e.dataObj,i,!1),n&&(this.isInUpdateNodeKeyRelatedObjects()?this.addToUpdateNodeKeyRelatedObjectsStackAction("edge",e):this.updateEdgeObjectFromOrToPropertyInternal(e,n))}},e.prototype.updateEdgeObjectProperties=function(t,e,n){if(this.updateItemObjectProperties(e,t,this.edgeDataImporter),this.edgeDataImporter.setFrom){var i=this.findNode(t.beginItem&&t.beginItem.dataKey);this.updateEdgeObjectFromProperty(i,e)}if(this.edgeDataImporter.setTo){var o=this.findNode(t.endItem&&t.endItem.dataKey);this.updateEdgeObjectToProperty(o,e)}if(this.edgeDataImporter.setFromPointIndex&&(e.fromPointIndex=t.beginConnectionPointIndex,e.dataObj&&this.edgeDataImporter.setFromPointIndex(e.dataObj,t.beginConnectionPointIndex)),this.edgeDataImporter.setToPointIndex&&(e.toPointIndex=t.endConnectionPointIndex,e.dataObj&&this.edgeDataImporter.setToPointIndex(e.dataObj,t.endConnectionPointIndex)),this.edgeDataImporter.setPoints){var r=t.points.map(function(t){return{x:c.ModelUtils.getlUnitValue(n,t.x),y:c.ModelUtils.getlUnitValue(n,t.y)}});e.points=r,e.dataObj&&this.edgeDataImporter.setPoints(e.dataObj,r)}if(this.edgeDataImporter.setText){var a=void 0;1===t.getTextCount()&&t.getText()&&(a=t.getText());var s={};if(t.texts.forEach(function(t){s[t.position]=t.value}),e.texts=s,e.dataObj){var l="";a?l=a:s&&Object.keys(s).length&&(l=s),this.edgeDataImporter.setText(e.dataObj,l)}}this.edgeDataImporter.setLineOption&&(e.lineOption=t.properties.lineOption,e.dataObj&&this.edgeDataImporter.setLineOption(e.dataObj,t.properties.lineOption)),this.edgeDataImporter.setStartLineEnding&&(e.startLineEnding=t.properties.startLineEnding,e.dataObj&&this.edgeDataImporter.setStartLineEnding(e.dataObj,t.properties.startLineEnding)),this.edgeDataImporter.setEndLineEnding&&(e.endLineEnding=t.properties.endLineEnding,e.dataObj&&this.edgeDataImporter.setEndLineEnding(e.dataObj,t.properties.endLineEnding))},e.prototype.updateEdgeObjectKey=function(t,e,n){var i=n&&this.edgeDataImporter.getKey(n);if(null!=i&&i!==e.key&&(delete this.autoGeneratedDataKeys[e.key],e.key=i),t.dataKey=e.key,e.dataObj!==n){var o=this.edgeDataSource,r=o.indexOf(e.dataObj);o.splice(r,1,n),e.dataObj=n}},e.prototype.deleteEdges=function(t){var e=this;this.deleteItems(this.edges,function(e){return t.findConnectorByDataKey(e)},function(t){return e.edgeDataSource},function(t,n){var i=t.dataObj&&e.edgeDataImporter.getKey(t.dataObj)||t.key,o=e.findEdge(i);o&&e.edges.splice(e.edges.indexOf(o),1),n&&(e.beginChangesNotification(),e.changesListener.notifyEdgeRemoved.call(e.changesListener,i,t.dataObj,function(t,n){e.endChangesNotification(!1)},function(t){e.endChangesNotification(!1)}))})},e.prototype.beginNodeInserting=function(){this.nodeInsertingLockCount++},e.prototype.endNodeInserting=function(){this.nodeInsertingLockCount--,0===this.nodeInsertingLockCount&&this.raiseNodeInsertingStack()},e.prototype.isInNodeInserting=function(){return this.nodeInsertingLockCount>0},e.prototype.addToUpdateNodeKeyRelatedObjectsStack=function(t,e){var n=new f(t,e);this.updateNodeKeyRelatedObjectsStack.push(n)},e.prototype.raiseNodeInsertingStack=function(){for(this.beginUpdateNodeKeyRelatedObjects();this.updateNodeKeyRelatedObjectsStack.length>0;){var t=this.updateNodeKeyRelatedObjectsStack[0];this.updateNodeKeyRelatedObjects(t.shape,t.nodeObj),this.updateNodeKeyRelatedObjectsStack.splice(0,1),t.shape.description.hasTemplate&&t.nodeObj&&this.changesListener.reloadInsertedItem(t.nodeObj.key)}this.endUpdateNodeKeyRelatedObjects()},e.prototype.beginUpdateNodeKeyRelatedObjects=function(){this.updateNodeKeyRelatedObjectsCount++},e.prototype.endUpdateNodeKeyRelatedObjects=function(){this.updateNodeKeyRelatedObjectsCount--,0===this.updateNodeKeyRelatedObjectsCount&&this.raiseUpdateNodeKeyRelatedObjectsStack()},e.prototype.isInUpdateNodeKeyRelatedObjects=function(){return this.updateNodeKeyRelatedObjectsCount>0},e.prototype.addToUpdateNodeKeyRelatedObjectsStackAction=function(t,e){for(var n=new m(t,e),i=0;i<this.updateNodeKeyRelatedObjectsStackActions.length;i++)if(this.updateNodeKeyRelatedObjectsStackActions[i].kind===t&&this.updateNodeKeyRelatedObjectsStackActions[i].nodeObj===e)return;this.updateNodeKeyRelatedObjectsStackActions.push(n)},e.prototype.raiseUpdateNodeKeyRelatedObjectsStack=function(){for(;this.updateNodeKeyRelatedObjectsStackActions.length>0;){var t=this.updateNodeKeyRelatedObjectsStackActions[0];switch(t.kind){case"shape":this.updateNodeObjectContainerOrParentKeyInternal(t.nodeObj,this.changesListener);break;case"edge":this.updateEdgeObjectFromOrToPropertyInternal(t.nodeObj,this.changesListener)}this.updateNodeKeyRelatedObjectsStackActions.splice(0,1)}},e.prototype.beginChangesNotification=function(){this.changesListener.beginChangesNotification()},e.prototype.endChangesNotification=function(t){this.changesListener.endChangesNotification(t)},e}(l.DataSource);e.DocumentDataSource=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataSource=void 0;var i=n(12),o=n(0),r=n(2),a=n(48),s=n(66),l=n(53),c=n(67),u=n(115),h=n(88),d=n(69),p=n(116),f=n(117),m=n(146),g=n(153),v=n(102),y=n(89),_=n(70),b=n(6),C=n(4),O=n(1),x=n(43),S=n(3),w=n(22),P=n(44),k=n(110),E=n(64),T=n(347),I=n(348),j=n(86),M=function(){function t(t,e,n,i,o,r){if(this.key=t,this.nodes=[],this.edges=[],this.autoGeneratedDataKeys={},this.addInternalKeyOnInsert=!1,this.useNodeParentId=!1,this.useNodeContainerId=!1,this.useNodeChildren=!1,this.useNodeItems=!1,this.canUseAutoSize=!1,this.canUpdateEdgeDataSource=!1,this.containers=null,null==t)throw new Error("DataSource key must be specified");this.key=t.toString(),this.loadParameters(i||{}),this.nodeDataImporter=this.createNodeDataImporter(o),this.edgeDataImporter=this.createEdgeDataImporter(r),this.nodeDataSource=e||[],this.edgeDataSource=n||[],this.canUpdateEdgeDataSource=!!n,this.fetchData()}return t.prototype.loadParameters=function(t){this.addInternalKeyOnInsert=!!t.addInternalKeyOnInsert},t.prototype.isAutoGeneratedKey=function(t){return t&&!!this.autoGeneratedDataKeys[t]},t.prototype.createNodeDataImporter=function(t){var e=new T.DataSourceNodeDataImporter;return t&&this.assignNodeDataImporterProperties(t,e),e},t.prototype.createEdgeDataImporter=function(t){var e=new T.DataSourceEdgeDataImporter;return t&&this.assignEdgeDataImporterProperties(t,e),e},t.prototype.assignItemDataImporterProperties=function(t,e){t.getKey&&(e.getKey=t.getKey),t.setKey&&(e.setKey=t.setKey),t.getCustomData&&(e.getCustomData=t.getCustomData),t.setCustomData&&(e.setCustomData=t.setCustomData),t.getLocked&&(e.getLocked=t.getLocked),t.setLocked&&(e.setLocked=t.setLocked),t.getStyle&&(e.getStyle=t.getStyle),t.setStyle&&(e.setStyle=t.setStyle),t.getStyleText&&(e.getStyleText=t.getStyleText),t.setStyleText&&(e.setStyleText=t.setStyleText),t.getZIndex&&(e.getZIndex=t.getZIndex),t.setZIndex&&(e.setZIndex=t.setZIndex)},t.prototype.assignNodeDataImporterProperties=function(t,e){this.assignItemDataImporterProperties(t,e),t.getType&&(e.getType=t.getType),t.setType&&(e.setType=t.setType),t.getImage&&(e.getImage=t.getImage),t.setImage&&(e.setImage=t.setImage),t.getText&&(e.getText=t.getText),t.setText&&(e.setText=t.setText),t.getLeft&&(e.getLeft=t.getLeft),t.setLeft&&(e.setLeft=t.setLeft),t.getTop&&(e.getTop=t.getTop),t.setTop&&(e.setTop=t.setTop),t.getWidth&&(e.getWidth=t.getWidth),t.setWidth&&(e.setWidth=t.setWidth),t.getHeight&&(e.getHeight=t.getHeight),t.setHeight&&(e.setHeight=t.setHeight),t.getChildren&&(e.getChildren=t.getChildren),t.setChildren&&(e.setChildren=t.setChildren),t.getParentKey&&(e.getParentKey=t.getParentKey),t.setParentKey&&(e.setParentKey=t.setParentKey),t.getItems&&(e.getItems=t.getItems),t.setItems&&(e.setItems=t.setItems),t.getContainerKey&&(e.getContainerKey=t.getContainerKey),t.setContainerKey&&(e.setContainerKey=t.setContainerKey)},t.prototype.assignEdgeDataImporterProperties=function(t,e){this.assignItemDataImporterProperties(t,e),t.getFrom&&(e.getFrom=t.getFrom),t.setFrom&&(e.setFrom=t.setFrom),t.getFromPointIndex&&(e.getFromPointIndex=t.getFromPointIndex),t.setFromPointIndex&&(e.setFromPointIndex=t.setFromPointIndex),t.getTo&&(e.getTo=t.getTo),t.setTo&&(e.setTo=t.setTo),t.getToPointIndex&&(e.getToPointIndex=t.getToPointIndex),t.setToPointIndex&&(e.setToPointIndex=t.setToPointIndex),t.getPoints&&(e.getPoints=t.getPoints),t.setPoints&&(e.setPoints=t.setPoints),t.getText&&(e.getText=t.getText),t.setText&&(e.setText=t.setText),t.getLineOption&&(e.getLineOption=t.getLineOption),t.setLineOption&&(e.setLineOption=t.setLineOption),t.getStartLineEnding&&(e.getStartLineEnding=t.getStartLineEnding),t.setStartLineEnding&&(e.setStartLineEnding=t.setStartLineEnding),t.getEndLineEnding&&(e.getEndLineEnding=t.getEndLineEnding),t.setEndLineEnding&&(e.setEndLineEnding=t.setEndLineEnding)},t.prototype.fetchData=function(){var t=this;if(this.nodes=[],this.edges=[],this.autoGeneratedDataKeys={},this.useNodeParentId=void 0!==this.nodeDataImporter.getParentKey,this.useNodeContainerId=void 0!==this.nodeDataImporter.getContainerKey,this.useNodeItems=void 0!==this.nodeDataImporter.getItems,this.useNodeChildren=void 0!==this.nodeDataImporter.getChildren,this.canUseAutoSize=void 0===this.nodeDataImporter.getWidth&&void 0!==this.nodeDataImporter.getText,this.useEdgesArray()&&this.useNodeParentId)throw new Error("You cannot use edges array and parentKey simultaneously.");if(this.useEdgesArray()&&this.useNodeItems)throw new Error("You cannot use edges array and items array simultaneously.");if(this.useNodeParentId&&this.useNodeItems)throw new Error("You cannot use parentKey and items array simultaneously.");if(this.useNodeContainerId&&this.useNodeChildren)throw new Error("You cannot use containerKey and children array simultaneously.");this.nodeDataSource.forEach(function(e){t.addNode(e)}),this.useEdgesArray()?this.edgeDataSource.forEach(function(e){t.addEdge(e)}):this.nodes.forEach(function(e){t.addNodeEdgesByParentId(e)})},t.prototype.isContainer=function(t){var e=this;return!this.containers&&this.useNodeContainerId&&(this.containers=this.nodeDataSource.map(function(t){return e.nodeDataImporter.getContainerKey(t)}).filter(function(t){return null!=t}).reduce(function(t,e){return t[e]=!0,t},{})),this.containers&&this.containers[t]},t.prototype.refetchData=function(t,e){var n=this;this.nodeDataSource=t||this.nodeDataSource,this.edgeDataSource=e||this.edgeDataSource;var i=this.nodes.slice(),o=this.edges.slice();return this.fetchData(),{nodes:this.getItemChanges(i,this.nodes,function(t,e){return t.key===e.key||t.dataObj===e.dataObj}),edges:this.getItemChanges(o,this.edges,function(t,e){return n.useNodeParentId||n.useNodeItems?t.key===e.key||t.from===e.from&&t.to===e.to:t.key===e.key||t.dataObj===e.dataObj})}},t.prototype.getItemChanges=function(t,e,n){var i=this,o=t.filter(function(t){return i.containsItem(e,t,n)}),r=t.filter(function(t){return!i.containsItem(e,t,n)}),a=e.filter(function(e){return!i.containsItem(t,e,n)});return{remained:o.map(function(t){return t.key}),remainedNewKeys:o.map(function(t){var i;return null===(i=e.find(function(e){return n(t,e)}))||void 0===i?void 0:i.key}),removed:r.map(function(t){return t.key}),added:a.map(function(t){return t.key})}},t.prototype.containsItem=function(t,e,n){var i=!1;return t.forEach(function(t){!i&&n(t,e)&&(i=!0)}),i},t.prototype.useEdgesArray=function(){return Array.isArray(this.edgeDataSource)&&(this.edgeDataSource.length||!(this.useNodeParentId||this.useNodeItems))},t.prototype.addNode=function(t,e,n,i){var o=this,r=this.nodeDataImporter.getChildren&&this.nodeDataImporter.getChildren(t),a=r&&Array.isArray(r)&&r.length,s=a||this.isContainer(this.nodeDataImporter.getKey(t)),l=this.nodeDataImporter.getType&&this.nodeDataImporter.getType(t)||s&&O.ShapeTypes.VerticalContainer||O.ShapeTypes.Rectangle,c=this.nodeDataImporter.getText&&(this.nodeDataImporter.getText(t)||""),u=this.addNodeInternal(t,l,c,e,n,i);if(this.assignNodeProperties(u,t),a&&r.forEach(function(e){o.addNode(e,void 0,u.key,t)}),this.useNodeItems){var h=this.nodeDataImporter.getItems(t);Array.isArray(h)&&h.length&&h.forEach(function(e){var r=o.addNode(e,t,n,i);o.addEdgeInternal(void 0,u.key,r.key)})}return u},t.prototype.addNodeEdgesByParentId=function(t){if(this.useNodeParentId){var e=this.nodeDataImporter.getParentKey(t.dataObj);null!=e&&this.findNode(e)&&this.addEdgeInternal(void 0,this.getNodeKey(t.dataObj,this.nodeDataImporter.getParentKey),this.getNodeKey(t.dataObj,this.nodeDataImporter.getKey))}},t.prototype.addNodeInternal=function(t,e,n,i,o,r){var a=this.nodeDataImporter.getKey(t),s=null!=a?a:C.ModelUtils.getGuidItemKey(),l=new I.DataSourceNodeItem(this.key,s,t,e,n,i,o,r);return this.nodes.push(l),null==a&&(a=s,this.autoGeneratedDataKeys[s]=!0),l},t.prototype.addEdge=function(t){var e=this.addEdgeInternal(t,this.getNodeKey(t,this.edgeDataImporter.getFrom),this.getNodeKey(t,this.edgeDataImporter.getTo));return this.assignEdgeProperties(e,t),e},t.prototype.addEdgeInternal=function(t,e,n){var i=t&&this.edgeDataImporter.getKey(t),o=null!=i?i:C.ModelUtils.getGuidItemKey(),r=new I.DataSourceEdgeItem(this.key,o,t,e,n);return this.edges.push(r),null==i&&(i=o,this.autoGeneratedDataKeys[o]=!0),r},t.prototype.assignItemProperties=function(t,e,n){if(n.getCustomData&&(t.customData=S.ObjectUtils.cloneObject(n.getCustomData(e))),n.getLocked&&(t.locked=n.getLocked(e)),n.getStyle){var i=n.getStyle(e);t.style="string"==typeof i?P.Data.cssTextToObject(i):i}n.getStyleText&&(i=n.getStyleText(e),t.styleText="string"==typeof i?P.Data.cssTextToObject(i):i),n.getZIndex&&(t.zIndex=n.getZIndex(e))},t.prototype.assignNodeProperties=function(t,e){this.assignItemProperties(t,e,this.nodeDataImporter),this.nodeDataImporter.getImage&&(t.image=this.nodeDataImporter.getImage(e)),this.nodeDataImporter.getLeft&&(t.left=this.nodeDataImporter.getLeft(e)),this.nodeDataImporter.getTop&&(t.top=this.nodeDataImporter.getTop(e)),this.nodeDataImporter.getWidth&&(t.width=this.nodeDataImporter.getWidth(e)),this.nodeDataImporter.getHeight&&(t.height=this.nodeDataImporter.getHeight(e)),this.nodeDataImporter.getContainerKey&&(t.containerKey=this.nodeDataImporter.getContainerKey(e))},t.prototype.assignEdgeProperties=function(t,e){if(this.assignItemProperties(t,e,this.edgeDataImporter),this.edgeDataImporter.getFromPointIndex&&(t.fromPointIndex=this.edgeDataImporter.getFromPointIndex(e)),this.edgeDataImporter.getToPointIndex&&(t.toPointIndex=this.edgeDataImporter.getToPointIndex(e)),this.edgeDataImporter.getPoints&&(t.points=this.edgeDataImporter.getPoints(e)),this.edgeDataImporter.getText){var n=this.edgeDataImporter.getText(e);if(t.texts={},"object"==typeof n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var o=parseFloat(i),r=n[i];isNaN(o)||"string"!=typeof r||""===r||(o=Math.min(1,Math.max(0,o)),t.texts[o]=r)}}else"string"==typeof n&&""!==n&&(t.texts[b.CONNECTOR_DEFAULT_TEXT_POSITION]=n)}this.edgeDataImporter.getLineOption&&(t.lineOption=this.edgeDataImporter.getLineOption(e)),this.edgeDataImporter.getStartLineEnding&&(t.startLineEnding=this.edgeDataImporter.getStartLineEnding(e)),this.edgeDataImporter.getEndLineEnding&&(t.endLineEnding=this.edgeDataImporter.getEndLineEnding(e))},t.prototype.findNode=function(t){return this.nodes.filter(function(e){return void 0!==t&&e.key===t})[0]},t.prototype.findEdge=function(t){return this.edges.filter(function(e){return void 0!==t&&e.key===t})[0]},t.prototype.getNodeKey=function(t,e){return e(t)},t.prototype.createModelItems=function(t,e,n,i,r,a,s,l){var c=this;this.beginChangesNotification(),t.clear(),t.beginTransaction(),C.ModelUtils.deleteAllItems(t,e,i),e.initializeKeyCounter();var u=0,h=0,d={},p=[],f=[];this.nodes.forEach(function(f){var m=new o.Point(2e3*h++,2e3*u),g=c.createShapeByNode(t,e,i,n,f,m,r,a,s,l);void 0!==f.key&&(d[f.key]=g.key),h>4&&(h=0,u++),p.push(g)}),this.nodes.forEach(function(n){if(void 0!==n.containerKey&&null!==n.containerKey){var i=d[n.key],o=e.findShape(i),r=d[n.containerKey],a=e.findShape(r);a&&C.ModelUtils.insertToContainer(t,e,o,a)}}),this.edges.forEach(function(n){var o=e.findShape(d[n.to]),r=e.findShape(d[n.from]),a=c.createConnectorByEdge(t,e,i,n,r,o);a&&(f.push(a),C.ModelUtils.updateConnectorContainer(t,e,a))}),r.needAutoLayout&&this.applyLayout(t,e,p,f,r,a,s),C.ModelUtils.tryUpdateModelRectangle(t),t.endTransaction(!0),this.endChangesNotification(!0)},t.prototype.updateModelItems=function(t,e,n,i,r,a,s,l,c,u,h,d){var p=this;this.beginChangesNotification(),t.beginTransaction();var f=[],m=[],g=[],v=c.nodes.removed.map(function(t){return e.findShapeByDataKey(t)}).filter(function(t){return t});v.forEach(function(t){t.attachedConnectors.forEach(function(e){e.beginItem&&e.beginItem!==t&&m.push(e.beginItem),e.endItem&&e.endItem!==t&&m.push(e.endItem)})}),C.ModelUtils.deleteItems(t,e,i,v,!0);var y=c.edges.removed.map(function(t){return e.findConnectorByDataKey(t)}).filter(function(t){return t});y.forEach(function(t){t.beginItem&&m.push(t.beginItem),t.endItem&&m.push(t.endItem)}),C.ModelUtils.deleteItems(t,e,i,y,!0),m=this.purgeLayoutShapes(m,v),(s||[]).forEach(function(a){if(-1!==c.nodes.remained.indexOf(a)){var s=p.findNode(a);if(s){var l=e.findShapeByDataKey(a);if(l){var g=l.position.clone();p.changeShapeByDataItem(t,e,l,s,g),p.changeItemByDataItem(t,l,s)}else l=p.createShapeByNode(t,e,i,n,s,new o.Point(0,0),r,u,h,d);p.updateShapeContainer(t,e,l,s),m.push(l),f.push(l)}}}),c.nodes.remained.forEach(function(t,n){var i=e.findShapeByDataKey(t);i&&(i.dataKey=c.nodes.remainedNewKeys[n])}),c.nodes.added.forEach(function(a){var s=p.findNode(a),l=p.createShapeByNode(t,e,i,n,s,new o.Point(0,0),r,u,h,d);p.updateShapeContainer(t,e,l,s),m.push(l)}),c.edges.added.forEach(function(n){var o=p.findEdge(n),r=e.findShapeByDataKey(o.from),a=e.findShapeByDataKey(o.to),s=p.createConnectorByEdge(t,e,i,o,r,a);s&&(C.ModelUtils.updateConnectorContainer(t,e,s),g.push(s))});var _=s||[];c.edges.remained.forEach(function(t){var e=p.findEdge(t);!e||-1===c.nodes.added.indexOf(e.from)&&-1===c.nodes.added.indexOf(e.to)||_.push(t)}),_.forEach(function(n){if(-1!==c.edges.remained.indexOf(n)){var o=p.findEdge(n);if(o){var r=e.findShapeByDataKey(o.from),a=e.findShapeByDataKey(o.to),s=e.findConnectorByDataKey(n);s?(p.changeConnectorPointsByDataItem(t,s,p.getConnectorPointsByEdge(e,o,r,a,!1)),p.changeConnectorByDataItem(t,e,s,r,a,o),p.changeItemByDataItem(t,s,o)):s=p.createConnectorByEdge(t,e,i,o,r,a),s&&(C.ModelUtils.updateConnectorContainer(t,e,s),g.push(s),f.push(s))}}}),c.edges.remained.forEach(function(t,n){var i=e.findConnectorByDataKey(t);i&&(i.dataKey=c.edges.remainedNewKeys[n])}),f.length&&l&&f.forEach(function(t){t.hasTemplate&&l(t)}),r.needAutoLayout&&(m.length||g.length)&&this.applyLayout(t,e,m,g,r,u,h),C.ModelUtils.tryUpdateModelRectangle(t),t.endTransaction(!a),this.endChangesNotification(!1)},t.prototype.purgeLayoutShapes=function(t,e){var n=e.reduce(function(t,e){return(t[e.key]=!0)&&t},{});return t.reduce(function(t,e){return void 0===t.keySet[e.key]&&void 0===n[e.key]&&(t.uniqueShapes.push(e),t.keySet[e.key]=!0),t},{uniqueShapes:[],keySet:{}}).uniqueShapes},t.prototype.applyShapeAutoSize=function(t,e,n,o,a,s){if(o.description.enableText){var l=o.textRectangle.createSize(),c=o.size,h=l.width-c.width,d=l.height-c.height,p=o.getMaxWidth(n.shapeMaxWidth),f=o.getMaxHeight(n.shapeMaxHeight),m=function(t,e){return"number"==typeof t?i.UnitConverter.twipsToPixelsF(t+(e?h:d)):void 0},g=E.getOptimalTextRectangle(o.text,o.styleText,x.TextOwner.Shape,e,l.clone().applyConverter(i.UnitConverter.twipsToPixelsF),o.description.keepRatioOnAutoSize,m(o.getMinWidth(n.shapeMinWidth),!0),m(p,!0),m(o.getMinHeight(n.shapeMinHeight),!1),m(f,!1)).clone().applyConverter(i.UnitConverter.pixelsToTwips);if(!g.equals(l)){var v=o.description.getSizeByText(g,o);a&&s&&(v=new r.Size(Math.min(s*Math.ceil(v.width/s),p||Number.MAX_VALUE),Math.min(s*Math.ceil(v.height/s),f||Number.MAX_VALUE))),t.addAndRedo(new u.ResizeShapeHistoryItem(o.key,o.position,v))}}},t.prototype.applyLayout=function(t,e,n,i,o,r,a){C.ModelUtils.getGraphInfoByItems(e,n,i).forEach(function(s){var l=o.getLayoutBuilder(s.graph).build(),c=C.ModelUtils.getNonGraphItems(e,s.container,l.nodeToLayout,n,i);C.ModelUtils.applyLayout(t,e,s.container,s.graph,l,c,o.layoutSettings,r,a,o.skipPointIndices)})},t.prototype.changeItemByDataItem=function(t,e,n){if(void 0===n.customData||S.ObjectUtils.compareObjects(n.customData,e.customData)||t.addAndRedo(new p.ChangeCustomDataHistoryItem(e.key,n.customData)),void 0!==n.zIndex&&n.zIndex!==e.zIndex&&t.addAndRedo(new v.ChangeZindexHistoryItem(e,n.zIndex)),void 0!==n.style)for(var i in n.style)Object.prototype.hasOwnProperty.call(n.style,i)&&(r=this.getPreparedStyleValue(n.style[i],k.isColorProperty(i)))!==e.style[i]&&t.addAndRedo(new y.ChangeStyleHistoryItem(e.key,i,r));var o=e.style.getDefaultInstance();if(e.style.forEach(function(i){n.style&&void 0===n.style[i]&&e.style[i]!==o[i]&&t.addAndRedo(new y.ChangeStyleHistoryItem(e.key,i,o[i]))}),void 0!==n.styleText)for(var i in n.styleText){var r;Object.prototype.hasOwnProperty.call(n.styleText,i)&&(r=this.getPreparedStyleValue(n.styleText[i],k.isColorProperty(i)))!==e.styleText[i]&&t.addAndRedo(new _.ChangeStyleTextHistoryItem(e.key,i,r))}var a=e.styleText.getDefaultInstance();e.styleText.forEach(function(i){n.styleText&&void 0===n.styleText[i]&&e.styleText[i]!==a[i]&&t.addAndRedo(new _.ChangeStyleTextHistoryItem(e.key,i,a[i]))}),void 0!==n.locked&&n.locked!==e.locked&&t.addAndRedo(new f.ChangeLockedHistoryItem(e,n.locked))},t.prototype.getPreparedStyleValue=function(t,e){if(e){var n=w.ColorUtils.stringToHash(t);null!==n&&(t=n)}return t},t.prototype.createShapeByNode=function(t,e,n,i,o,r,a,s,c,u){var h=new l.AddShapeHistoryItem(i.get(o.type),r,"",o.key);t.addAndRedo(h);var d=e.findShape(h.shapeKey);return C.ModelUtils.updateNewShapeProperties(t,n,h.shapeKey),this.changeShapeByDataItem(t,e,d,o,r),this.changeItemByDataItem(t,d,o),u&&this.canUseAutoSize&&a.autoSizeEnabled&&this.applyShapeAutoSize(t,u,a.sizeSettings,d,s,c),d},t.prototype.changeShapeByDataItem=function(t,e,n,i,o){void 0!==i.left&&(o.x=C.ModelUtils.getTwipsValue(e.units,i.left)),void 0!==i.top&&(o.y=C.ModelUtils.getTwipsValue(e.units,i.top)),C.ModelUtils.setShapePosition(t,e,n,o,!1);var r=n.size.clone();void 0!==i.width&&(r.width=C.ModelUtils.getTwipsValue(e.units,i.width)),void 0!==i.height&&(r.height=C.ModelUtils.getTwipsValue(e.units,i.height)),C.ModelUtils.setShapeSize(t,e,n,o,r),C.ModelUtils.updateShapeAttachedConnectors(t,e,n),void 0!==i.text&&i.text!==n.text&&t.addAndRedo(new g.ChangeShapeTextHistoryItem(n,i.text)),void 0!==i.image&&i.image!==n.image.actualUrl&&t.addAndRedo(new m.ChangeShapeImageHistoryItem(n,i.image))},t.prototype.updateShapeContainer=function(t,e,n,i){var o=void 0!==i.containerKey?e.findShapeByDataKey(i.containerKey):void 0;o!==n.container&&(o?C.ModelUtils.insertToContainer(t,e,n,o):C.ModelUtils.removeFromContainer(t,e,n))},t.prototype.getConnectorPointsByEdge=function(t,e,n,i,o){var r=[],a=this.createModelPointFromDataSourceEdgeItemPoints(t.units,e);if(a&&a.length>1)for(var s=a.length-1,l=0;l<=s;l++){var c=a[l];if(null!==c)r.push(c);else{if(!n&&!i)return;0===l&&n?r.push(n.position.clone()):l===s&&i&&r.push(i.position.clone())}}else o&&(n&&r.push(n.position.clone()),i&&r.push(i.position.clone()));return r},t.prototype.createModelPointFromDataSourceEdgeItemPoints=function(t,e){var n=this,i=[];if(Array.isArray(e.points))return e.points.forEach(function(e){return i.push(n.isValidDataSourceEdgeItemPoint(e)?n.createModelPoint(t,e):null)}),i},t.prototype.createModelPoint=function(t,e){return new o.Point(C.ModelUtils.getTwipsValue(t,e.x),C.ModelUtils.getTwipsValue(t,e.y))},t.prototype.isValidDataSourceEdgeItemPoint=function(t){return null!=t&&void 0!==t.x&&void 0!==t.y&&null!==t.x&&null!==t.y},t.prototype.createConnectorByEdge=function(t,e,n,i,o,r){var a,l=i.key,c=this.getConnectorPointsByEdge(e,i,o,r,!0);if(c&&c.length>1){var u=new s.AddConnectorHistoryItem(c,l);t.addAndRedo(u),a=e.findConnector(u.connectorKey),C.ModelUtils.updateNewConnectorProperties(t,n,u.connectorKey),this.changeConnectorByDataItem(t,e,a,o,r,i),this.changeItemByDataItem(t,a,i)}return a},t.prototype.changeConnectorByDataItem=function(t,e,n,i,o,r){var s=void 0!==r.fromPointIndex?r.fromPointIndex:n.beginConnectionPointIndex;n.beginItem===i&&n.beginConnectionPointIndex===s||(n.beginItem&&t.addAndRedo(new c.DeleteConnectionHistoryItem(n,b.ConnectorPosition.Begin)),i&&t.addAndRedo(new a.AddConnectionHistoryItem(n,i,s,b.ConnectorPosition.Begin)));var l=void 0!==r.toPointIndex?r.toPointIndex:n.endConnectionPointIndex;if(n.endItem===o&&n.endConnectionPointIndex===l||(n.endItem&&t.addAndRedo(new c.DeleteConnectionHistoryItem(n,b.ConnectorPosition.End)),o&&t.addAndRedo(new a.AddConnectionHistoryItem(n,o,l,b.ConnectorPosition.End))),C.ModelUtils.updateConnectorAttachedPoints(t,e,n),void 0!==r.texts&&!this.compareTexts(r,n))for(var u in n.texts.forEach(function(e){t.addAndRedo(new d.ChangeConnectorTextHistoryItem(n,e.position,void 0))}),r.texts)if(Object.prototype.hasOwnProperty.call(r.texts,u)){var p=parseFloat(u);t.addAndRedo(new d.ChangeConnectorTextHistoryItem(n,p,r.texts[u]))}void 0!==r.lineOption&&r.lineOption!==n.properties.lineOption&&t.addAndRedo(new h.ChangeConnectorPropertyHistoryItem(n.key,"lineOption",r.lineOption)),void 0!==r.startLineEnding&&r.startLineEnding!==n.properties.startLineEnding&&t.addAndRedo(new h.ChangeConnectorPropertyHistoryItem(n.key,"startLineEnding",r.startLineEnding)),void 0!==r.endLineEnding&&r.endLineEnding!==n.properties.endLineEnding&&t.addAndRedo(new h.ChangeConnectorPropertyHistoryItem(n.key,"endLineEnding",r.endLineEnding))},t.prototype.changeConnectorPointsByDataItem=function(t,e,n){n&&n.length>1&&n.join(",")!==e.points.join(",")&&t.addAndRedo(new j.ReplaceConnectorPointsHistoryItem(e.key,n))},t.prototype.compareTexts=function(t,e){var n=t.texts||{},i=Object.keys(n).length===e.getTextCount();if(i)for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var r=parseFloat(o);this.compareStrings(e.getText(r),n[o])||(i=!1)}return i},t.prototype.compareStrings=function(t,e){return"string"==typeof t&&"string"==typeof e?t===e:this.isEmptyString(t)&&this.isEmptyString(e)},t.prototype.isEmptyString=function(t){return""===t||null==t},t}();e.DataSource=M},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DataSourceEdgeDataImporter=e.DataSourceNodeDataImporter=e.DataSourceItemDataImporter=void 0;var r=function(){this.getKey=function(t){return t.id},this.setKey=function(t,e){t.id=e},this.getCustomData=void 0,this.setCustomData=void 0,this.getLocked=void 0,this.setLocked=void 0,this.getStyle=void 0,this.setStyle=void 0,this.getStyleText=void 0,this.setStyleText=void 0,this.getZIndex=void 0,this.setZIndex=void 0};e.DataSourceItemDataImporter=r;var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getType=void 0,e.setType=void 0,e.getText=void 0,e.setText=void 0,e.getImage=void 0,e.setImage=void 0,e.getLeft=void 0,e.setLeft=void 0,e.getTop=void 0,e.setTop=void 0,e.getWidth=void 0,e.setWidth=void 0,e.getHeight=void 0,e.setHeight=void 0,e.getChildren=void 0,e.setChildren=void 0,e.getParentKey=void 0,e.setParentKey=void 0,e.getItems=void 0,e.setItems=void 0,e.getContainerKey=void 0,e.setContainerKey=void 0,e}return o(e,t),e}(r);e.DataSourceNodeDataImporter=a;var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getFrom=function(t){return t.from},e.setFrom=function(t,e){t.from=e},e.getFromPointIndex=void 0,e.setFromPointIndex=void 0,e.getTo=function(t){return t.to},e.setTo=function(t,e){t.to=e},e.getToPointIndex=void 0,e.setToPointIndex=void 0,e.getPoints=void 0,e.setPoints=void 0,e.getText=void 0,e.setText=void 0,e.getLineOption=void 0,e.setLineOption=void 0,e.getStartLineEnding=void 0,e.setStartLineEnding=void 0,e.getEndLineEnding=void 0,e.setEndLineEnding=void 0,e}return o(e,t),e}(r);e.DataSourceEdgeDataImporter=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DataSourceEdgeItem=e.DataSourceNodeItem=e.DataSourceItem=void 0;var r=n(6),a=function(t,e,n){this.sourceKey=t,this.key=e,this.dataObj=n};e.DataSourceItem=a;var s=function(t){function e(e,n,i,o,r,a,s,l){var c=t.call(this,e,n,i)||this;return c.type=o,c.text=r,c.parentDataObj=a,c.containerKey=s,c.containerDataObj=l,c}return o(e,t),e}(a);e.DataSourceNodeItem=s;var l=function(t){function e(e,n,i,o,r){var a=t.call(this,e,n,i)||this;return a.sourceKey=e,a.from=o,a.to=r,a}return o(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this.texts&&this.texts[r.CONNECTOR_DEFAULT_TEXT_POSITION]},enumerable:!1,configurable:!0}),e}(a);e.DataSourceEdgeItem=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;var i=n(82),o=Math.log(.05),r=Math.log(3),a=40,s=h(1),l=[i.DiagramCommand.ZoomLevel,i.DiagramCommand.ZoomLevelInPercentage,i.DiagramCommand.Zoom100,i.DiagramCommand.Zoom125,i.DiagramCommand.Zoom200,i.DiagramCommand.Zoom25,i.DiagramCommand.Zoom50,i.DiagramCommand.Zoom75],c=[i.DiagramCommand.SwitchAutoZoom,i.DiagramCommand.ToggleAutoZoom,i.DiagramCommand.AutoZoomToContent,i.DiagramCommand.AutoZoomToWidth],u=function(){function t(t,e){this.settings=t,this.bars=e,t.onZoomChanged.add(this),this.autoZoom=t.autoZoom}return t.prototype.initialize=function(t){this.view=t,this.view.onViewChanged.add(this)},t.prototype.scrollTo=function(t,e){this.view&&this.view.setScrollTo(t,e)},t.prototype.scrollBy=function(t){return!this.view||0===t.x&&0===t.y?t:this.view.scrollBy(t)},t.prototype.scrollIntoView=function(t){this.view&&this.view.scrollIntoView(t)},t.prototype.normalize=function(){this.view.tryNormalizePaddings()},t.prototype.getNextStepZoom=function(t){var e=this.getNearestCurrentZoomStep(),n=t?1:-1,i=Math.min(a-1,Math.max(0,e+n));if(i!==s){var l=o+(r-o)*i/(a-1);return Math.exp(l)}return 1},t.prototype.getNearestCurrentZoomStep=function(){return h(this.getZoom())},t.prototype.getZoom=function(){return this.view?this.view.actualZoom:this.settings.zoomLevel},t.prototype.resetScroll=function(){this.view.adjust({horizontal:!0,vertical:!0})},t.prototype.notifyViewAdjusted=function(t){},t.prototype.notifyActualZoomChanged=function(t){this.bars.updateItemsState(l)},t.prototype.notifyZoomChanged=function(t,e){this.autoZoom!==e&&(this.autoZoom=e,this.bars.updateItemsState(c))},t}();function h(t){var e=Math.log(t);return Math.round((e-o)*(a-1)/(r-o))}e.ViewController=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToolboxManager=void 0;var i=n(351),o=n(352),r=n(79),a=n(31),s=function(){function t(t){this.shapeDescriptionManager=t,this.toolboxes=[],this.measurers={}}return t.prototype.create=function(t,e,n,r,a,s,l){var c=Array.isArray(a)?a:this.shapeDescriptionManager.getTypesByCategory(a),u=r?new i.TextToolbox(t,e,n,this.shapeDescriptionManager,c,s):new o.IconToolbox(t,e,n,this.shapeDescriptionManager,c,s,l,this.getOrCreateMeasurer(t));return u.render(),this.toolboxes.push(u),u},t.prototype.clean=function(t,e){var n=this;if(e)e.clean(t),this.toolboxes.splice(this.toolboxes.indexOf(e),1),Object.keys(this.measurers).forEach(function(t){n.measurers[t]===e.measurer&&delete n.measurers[t]});else{for(var i=0;i<this.toolboxes.length;i++)this.toolboxes[i].clean(t);this.toolboxes=[],this.measurers={}}},t.prototype.refresh=function(t){this.toolboxes.forEach(function(e,n){(!t||Array.isArray(t)&&t.indexOf(n)>-1||n===t)&&e.render()})},t.prototype.applyFilter=function(t,e){var n=this;return this.toolboxes.reduce(function(i,o,r){return(!e||Array.isArray(e)&&e.indexOf(r)>-1||r===e)&&o.render(function(e){return n.searchFilter(e,t,r)})&&i.push(r),i},[])},t.prototype.searchFilter=function(t,e,n,i){if(!e||i&&-1===i.indexOf(n))return!0;e=e.toLowerCase();var o=this.shapeDescriptionManager.get(t);return o.getTitle().toLowerCase().indexOf(e)>-1||o.getDefaultText().toLowerCase().indexOf(e)>-1},t.prototype.getOrCreateMeasurer=function(t){var e=t.getAttribute("data-dxdiMeasurerID");return e&&this.measurers[e]||(e=a.MathUtils.generateGuid(),this.measurers[e]=new r.TextMeasurer(t),t.setAttribute("data-dxdiMeasurerID",e)),this.measurers[e]},t}();e.ToolboxManager=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.TextToolbox=void 0;var r=function(t){function e(e,n,i,o,r,a){return t.call(this,e,n,i,o,r,a)||this}return o(e,t),e.prototype.createElements=function(t,e){var n=this;e.forEach(function(e){var i=n.shapeDescriptionManager.get(e),o=document.createElement("div");o.setAttribute("class","toolbox-text-item"),o.setAttribute("data-tb-type",e),o.textContent=i.getDefaultText()||i.getTitle(),t.appendChild(o)})},e.prototype.createDraggingElement=function(t){var e=document.createElement("DIV");e.setAttribute("class","dxdi-toolbox-drag-text-item");var n=this.shapeDescriptionManager.get(t.evt.data);return e.textContent=n.getDefaultText()||n.getTitle(),document.body.appendChild(e),e},e}(n(159).Toolbox);e.TextToolbox=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.IconToolbox=void 0;var r=n(159),a=n(15),s=n(14),l=n(12),c=n(0),u=n(121),h=n(26),d=n(126),p=n(21),f=function(t){function e(e,n,i,o,r,a,s,l){var c=t.call(this,e,n,i,o,r,a)||this;return c.options=s,c.measurer=l,c}return o(e,t),e.prototype.createElements=function(t,e){var n=document.createElementNS(a.svgNS,"svg");n.className.baseVal="dxdi-canvas",t.appendChild(n),this.drawShapeIcons(n,e,this.options.toolboxWidth||n.getBoundingClientRect().width)},e.prototype.drawShapeIcons=function(t,e,n){var i=this,o=h.DEFAULT_STROKE_WIDTH,r=n-2*o,a=this.options.shapeIconSize;!a&&this.options.shapeIconSpacing&&this.options.shapeIconCountInRow&&(a=Math.floor((r-(this.options.shapeIconCountInRow-1)*this.options.shapeIconSpacing)/this.options.shapeIconCountInRow)),a||(a=32);var s=a=Math.max(a,this.options.shapeIconSpacing/2),c=this.options.shapeIconCountInRow;if(!c)for(c=1;s<r;)(s+=this.options.shapeIconSpacing+a)<r&&c++;var u=c>1?(r-a*c)/(c-1):0,d=o,p=o,f=l.UnitConverter.pixelsToTwips(a);e.forEach(function(e,n){n>0&&n%c==0&&(d=o,p+=a+u);var r=i.shapeDescriptionManager.get(e),s=i.createShape(r,d,p,a<26);i.updateShapeIconBounds(s,a);var h=i.drawShape(t,s);i.drawSelector(h,l.UnitConverter.pixelsToTwips(d),l.UnitConverter.pixelsToTwips(p),f),d+=a+u}),t.style.height=p+a+o+"px",t.style.width=n+"px"},e.prototype.drawShape=function(t,e){var n=this,i=e.description.createPrimitives(e,!0),o=document.createElementNS(a.svgNS,"g");if(o.setAttribute("data-tb-type",e.description.key.toString()),o.setAttribute("class","toolbox-item"),o.setAttribute("title",e.description.getTitle()),this.options.shapeIconAttributes)for(var r in this.options.shapeIconAttributes)Object.prototype.hasOwnProperty.call(this.options.shapeIconAttributes,r)&&o.setAttribute(r,this.options.shapeIconAttributes[r]);return t.appendChild(o),i.forEach(function(t){var e=t.createElement(function(t){return o.appendChild(t)});t.applyElementProperties(e,n.measurer)}),o},e.prototype.drawSelector=function(t,e,n,i){var o=this,r=new p.RectanglePrimitive(e,n,i,i,void 0,"selector");r.createElement(function(e){r.applyElementProperties(e,o.measurer),t.appendChild(e)})},e.prototype.createShape=function(t,e,n,i){var o=l.UnitConverter.pixelsToTwips(e),r=l.UnitConverter.pixelsToTwips(n),a=new s.Shape(t,new c.Point(o,r),!0);return this.needResetShapeText(t)?a.text="":i&&(a.text="T"),a},e.prototype.needResetShapeText=function(t){return!(t instanceof u.TextShapeDescription)&&!(t instanceof d.CustomShapeDescription&&t.baseDescription instanceof u.TextShapeDescription)},e.prototype.updateShapeIconBounds=function(t,e){var n=l.UnitConverter.pixelsToTwips(e);if(t.size.height=t.size.width*t.getToolboxHeightToWidthRatio(),t.size.width>t.size.height){var i=t.size.height/t.size.width;t.size.width=n,t.size.height=n*i,t.position.y=t.position.y+(n-t.size.height)/2,t.parameters.forEach(function(e){e.value=e.value*n/t.description.defaultSize.width})}else t.size.width<t.size.height?(i=t.size.width/t.size.height,t.size.height=n,t.size.width=n*i,t.position.x=t.position.x+(n-t.size.width)/2,t.parameters.forEach(function(e){e.value=e.value*n/t.description.defaultSize.height})):(t.size.width=n,t.size.height=n,t.parameters.forEach(function(e){e.value=e.value*n/t.description.defaultSize.width}))},e.prototype.createDraggingElement=function(t){var e=document.createElement("DIV");e.setAttribute("class","dxdi-toolbox-drag-item"),document.body.appendChild(e);var n=document.createElementNS(a.svgNS,"svg");n.className.baseVal="dxdi-canvas",e.appendChild(n);var i=this.shapeDescriptionManager.get(t.evt.data),o=this.createShape(i,h.DEFAULT_STROKE_WIDTH,h.DEFAULT_STROKE_WIDTH);return this.drawShape(n,o),e.style.width=l.UnitConverter.twipsToPixels(o.size.width)+2*h.DEFAULT_STROKE_WIDTH+"px",e.style.height=l.UnitConverter.twipsToPixels(o.size.height)+2*h.DEFAULT_STROKE_WIDTH+"px",e},e}(r.Toolbox);e.IconToolbox=f},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ApiController=void 0;var r,a=n(81),s=n(11),l=n(4),c=n(58),u=function(t){function e(e,n,i){var o=t.call(this)||this;return o.events=e,o.model=i,o.selection=n,o}return o(e,t),e.prototype.notifySelectionChanged=function(t){this.isUpdateLocked()?this.registerOccurredEvent(r.SelectionChanged):this.raiseSelectionChanged()},e.prototype.notifyToolboxDragStart=function(){this.events.raise("notifyToolboxItemDragStart")},e.prototype.notifyToolboxDragEnd=function(){this.events.raise("notifyToolboxItemDragEnd")},e.prototype.notifyToolboxDraggingMouseMove=function(){},e.prototype.notifyClick=function(t){var e=this;this.tryRaiseUserAction(t,function(t){return e.events.raise("notifyItemClick",t)})},e.prototype.notifyDblClick=function(t){var e=this;this.tryRaiseUserAction(t,function(t){return e.events.raise("notifyItemDblClick",t)})},e.prototype.createNativeItem=function(t){return t&&this.cleanupNativeItem(t.toNative(this.model.units))},e.prototype.createNativeShape=function(t){return this.createNativeItem(t)},e.prototype.createNativeConnector=function(t){return this.createNativeItem(t)},e.prototype.convertUnit=function(t){return l.ModelUtils.getlUnitValue(this.model.units,t)},e.prototype.convertPoint=function(t){return new c.Point(this.convertUnit(t.x),this.convertUnit(t.y))},e.prototype.convertSize=function(t){return new c.Size(this.convertUnit(t.width),this.convertUnit(t.height))},e.prototype.cleanupNativeItem=function(t){var e=this.dataSource;return e&&(e.isAutoGeneratedKey(t.fromKey)&&(t.fromKey=void 0),e.isAutoGeneratedKey(t.key)&&(t.key=void 0),e.isAutoGeneratedKey(t.toKey)&&(t.toKey=void 0)),t},e.prototype.setDataSource=function(t){this.dataSource=t},e.prototype.tryRaiseUserAction=function(t,e){var n=this;if(this.isUserAction(t)){var i=this.model.findItem(t.source.key);i&&this.events.raise1(function(t){return e(n.createNativeItem(i))})}},e.prototype.isUserAction=function(t){return t.source&&(t.source.type===s.MouseEventElementType.Shape||t.source.type===s.MouseEventElementType.ShapeExpandButton||t.source.type===s.MouseEventElementType.ShapeParameterBox||t.source.type===s.MouseEventElementType.ShapeResizeBox||t.source.type===s.MouseEventElementType.ShapeConnectionPoint||t.source.type===s.MouseEventElementType.Connector||t.source.type===s.MouseEventElementType.ConnectorPoint||t.source.type===s.MouseEventElementType.ConnectorSide||t.source.type===s.MouseEventElementType.ConnectorOrthogonalSide||t.source.type===s.MouseEventElementType.ConnectorText)},e.prototype.onUpdateUnlocked=function(t){t&r.SelectionChanged&&this.raiseSelectionChanged()},e.prototype.raiseSelectionChanged=function(){var t=this,e=this.selection.getKeys().map(function(e){return t.createNativeItem(t.model.findItem(e))});this.events.raise1(function(t){return t.notifySelectionChanged(e)})},e}(a.BatchUpdatableObject);e.ApiController=u,function(t){t[t.SelectionChanged=1]="SelectionChanged"}(r||(r={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PermissionsProvider=void 0;var i=n(14),o=n(3),r=n(16),a=n(6),s=n(355),l=n(356),c=n(357),u=n(358),h=n(359),d=n(360),p=n(361),f=n(362),m=n(363),g=n(364),v=n(365),y=n(366),_=n(367),b=function(){function t(t){this.onRequestOperation=new o.EventDispatcher,this.cache=[],this.permissionsLockCount=0,this.requestDeleteItems={},this.updateUICount=0,this.apiController=t,this.operationSettings=new r.ModelOperationSettings,this.storage=new v.PermissionsProviderStorage}return t.prototype.notifySelectionChanged=function(t){this.clearCache()},t.prototype.notifyModelChanged=function(t){this.clearCache()},t.prototype.notifyPageColorChanged=function(t){},t.prototype.notifyPageSizeChanged=function(t,e){},t.prototype.clearCache=function(t){this.cache=void 0!==t?this.cache.filter(function(e){return e.operation!==t}):[]},t.prototype.canDeleteItems=function(t){var e=this,n=!0;return t.forEach(function(t){var o;t instanceof i.Shape&&(o=new l.DeleteShapeRequestedEntity(e.apiController,t)),t instanceof a.Connector&&(o=new c.DeleteConnectorRequestedEntity(e.apiController,t)),n=n&&e.requestOperation(o)}),n},t.prototype.canAddItems=function(t){var e=this,n=!0;return t.forEach(function(t){t instanceof i.Shape&&(n=n&&e.requestOperation(new s.AddShapeRequestedEntity(e.apiController,t))),t instanceof a.Connector&&(n=(n=n&&e.canChangeConnection(t,t.beginItem,void 0,a.ConnectorPosition.Begin,t.beginConnectionPointIndex))&&e.canChangeConnection(t,t.endItem,void 0,a.ConnectorPosition.End,t.endConnectionPointIndex))}),n},t.prototype.canAddShapeFromToolbox=function(t){return this.requestOperation(new u.AddShapeFromToolboxRequestedEntity(this.apiController,t))},t.prototype.canChangeConnection=function(t,e,n,o,r){return!(!t||!this.requestDeleteItems[t.key])||!(null==e||e instanceof i.Shape)||this.requestOperation(new h.ChangeConnectionRequestedEntity(this.apiController,t,e,n,o,r))},t.prototype.canChangeConnectorPoints=function(t,e,n){return!(!t||!this.requestDeleteItems[t.key])||this.requestOperation(new d.ChangeConnectorPointsRequestedEntity(this.apiController,t,e,n))},t.prototype.canChangeShapeText=function(t){return this.requestOperation(new p.BeforeChangeShapeTextRequestedEntity(this.apiController,t))},t.prototype.canChangeConnectorText=function(t,e){return this.requestOperation(new f.BeforeChangeConnectorTextRequestedEntity(this.apiController,t,e))},t.prototype.canApplyShapeTextChange=function(t,e){return this.requestOperation(new m.ChangeShapeTextRequestedEntity(this.apiController,t,e))},t.prototype.canApplyConnectorTextChange=function(t,e,n){return this.requestOperation(new g.ChangeConnectorTextRequestedEntity(this.apiController,t,e,n))},t.prototype.canResizeShapes=function(t){var e=this,n=!0;return t.forEach(function(t){n=n&&e.requestOperation(new y.ResizeShapeRequestedEntity(e.apiController,t.shape,t.oldSize,t.size))}),n},t.prototype.canMoveShapes=function(t){var e=this,n=!0;return t.forEach(function(t){n=n&&e.requestOperation(new _.MoveShapeRequestedEntity(e.apiController,t.shape,t.oldPosition,t.position))}),n},t.prototype.requestOperation=function(t){var e,n=!0;return!this.permissionsLockCount&&(this.updateUICount>0&&this.cache.forEach(function(n){n.equals(t)&&(e=n)}),e?n=e.allowed:(this.requestOperationCore(t),this.updateUICount>0&&this.cache.push(t),n=t.allowed),0===this.updateUICount&&this.storage.needStorePermissions())?(this.storage.storePermission(t.storageKey,n),this.storage.isStoredPermissionsGranted()):n},t.prototype.requestOperationCore=function(t){t.eventArgs.allowed=this.operationSettings[t.settingsKey],t.eventArgs.updateUI=this.updateUICount>0,t.allowed&&this.onRequestOperation.raise("notifyRequestOperation",t.operation,t.eventArgs)},t.prototype.lockPermissions=function(){this.permissionsLockCount++},t.prototype.unlockPermissions=function(){this.permissionsLockCount--},t.prototype.beginDeleteItems=function(t){var e=this;t.forEach(function(t){return e.requestDeleteItems[t.key]=t})},t.prototype.endDeleteItems=function(){this.requestDeleteItems={}},t.prototype.beginUpdateUI=function(){this.updateUICount++},t.prototype.endUpdateUI=function(){this.updateUICount--},t.prototype.addInteractingItem=function(t,e){this.storage.addInteractingItem(t,e)},t.prototype.getInteractingItem=function(t,e){return this.storage.getInteractingItem(t,e)},t.prototype.getInteractingItemCount=function(){return this.storage.getInteractingItemCount()},t.prototype.clearInteractingItems=function(){this.storage.clearInteractingItems()},t.prototype.beginStorePermissions=function(){this.storage.beginStorePermissions()},t.prototype.endStorePermissions=function(){this.storage.endStorePermissions()},t.prototype.isStoredPermissionsGranted=function(){return this.permissionsLockCount>0||this.storage.isStoredPermissionsGranted()},t}();e.PermissionsProvider=b},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AddShapeEventArgs=e.AddShapeRequestedEntity=void 0;var r=n(16),a=n(23),s=function(t){function e(e,n){var i=t.call(this,e)||this;return i.shape=n,i}return o(e,t),Object.defineProperty(e.prototype,"operation",{get:function(){return r.DiagramModelOperation.AddShape},enumerable:!1,configurable:!0}),e.prototype.createEventArgs=function(){return new l(this.apiController.createNativeShape(this.shape),this.apiController.convertPoint(this.shape.position))},Object.defineProperty(e.prototype,"settingsKey",{get:function(){return"addShape"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageKey",{get:function(){return this.settingsKey+"_"+(this.shape&&this.shape.key)},enumerable:!1,configurable:!0}),e.prototype.equals=function(t){return t instanceof e&&this.shape===t.shape&&this.shape.position.equals(t.shape.position)},e}(a.RequestedEntity);e.AddShapeRequestedEntity=s;var l=function(t){function e(e,n){var i=t.call(this)||this;return i.shape=e,i.position=n,i}return o(e,t),e}(a.PermissionRequestEventArgs);e.AddShapeEventArgs=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteShapeEventArgs=e.DeleteShapeRequestedEntity=void 0;var r=n(16),a=n(23),s=function(t){function e(e,n){var i=t.call(this,e)||this;return i.shape=n,i}return o(e,t),Object.defineProperty(e.prototype,"operation",{get:function(){return r.DiagramModelOperation.DeleteShape},enumerable:!1,configurable:!0}),e.prototype.createEventArgs=function(){return new l(this.apiController.createNativeShape(this.shape))},Object.defineProperty(e.prototype,"settingsKey",{get:function(){return"deleteShape"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageKey",{get:function(){return this.settingsKey+"_"+(this.shape&&this.shape.key)},enumerable:!1,configurable:!0}),e.prototype.equals=function(t){return t instanceof e&&this.shape===t.shape},e}(a.RequestedEntity);e.DeleteShapeRequestedEntity=s;var l=function(t){function e(e){var n=t.call(this)||this;return n.shape=e,n}return o(e,t),e}(a.PermissionRequestEventArgs);e.DeleteShapeEventArgs=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteConnectorEventArgs=e.DeleteConnectorRequestedEntity=void 0;var r=n(16),a=n(23),s=function(t){function e(e,n){var i=t.call(this,e)||this;return i.connector=n,i}return o(e,t),Object.defineProperty(e.prototype,"operation",{get:function(){return r.DiagramModelOperation.DeleteConnector},enumerable:!1,configurable:!0}),e.prototype.createEventArgs=function(){return new l(this.apiController.createNativeConnector(this.connector))},Object.defineProperty(e.prototype,"settingsKey",{get:function(){return"deleteConnector"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageKey",{get:function(){return this.settingsKey+"_"+(this.connector&&this.connector.key)},enumerable:!1,configurable:!0}),e.prototype.equals=function(t){return t instanceof e&&this.connector===t.connector},e}(a.RequestedEntity);e.DeleteConnectorRequestedEntity=s;var l=function(t){function e(e){var n=t.call(this)||this;return n.connector=e,n}return o(e,t),e}(a.PermissionRequestEventArgs);e.DeleteConnectorEventArgs=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AddShapeFromToolboxEventArgs=e.AddShapeFromToolboxRequestedEntity=void 0;var r=n(16),a=n(23),s=function(t){function e(e,n){var i=t.call(this,e)||this;return i.shapeType=n,i}return o(e,t),Object.defineProperty(e.prototype,"operation",{get:function(){return r.DiagramModelOperation.AddShapeFromToolbox},enumerable:!1,configurable:!0}),e.prototype.createEventArgs=function(){return new l(this.shapeType)},Object.defineProperty(e.prototype,"settingsKey",{get:function(){return"addShapeFromToolbox"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageKey",{get:function(){return this.settingsKey+"_"+this.shapeType},enumerable:!1,configurable:!0}),e.prototype.equals=function(t){return t instanceof e&&this.shapeType===t.shapeType},e}(a.RequestedEntity);e.AddShapeFromToolboxRequestedEntity=s;var l=function(t){function e(e){var n=t.call(this)||this;return n.shapeType=e,n}return o(e,t),e}(a.PermissionRequestEventArgs);e.AddShapeFromToolboxEventArgs=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeConnectionEventArgs=e.ChangeConnectionRequestedEntity=void 0;var r=n(16),a=n(23),s=function(t){function e(e,n,i,o,r,a){var s=t.call(this,e)||this;return s.connector=n,s.shape=i,s.oldShape=o,s.position=r,s.connectionPointIndex=a,s}return o(e,t),Object.defineProperty(e.prototype,"operation",{get:function(){return r.DiagramModelOperation.ChangeConnection},enumerable:!1,configurable:!0}),e.prototype.createEventArgs=function(){return new l(this.apiController.createNativeConnector(this.connector),this.apiController.createNativeShape(this.shape),this.apiController.createNativeShape(this.oldShape),this.position,this.connectionPointIndex)},Object.defineProperty(e.prototype,"settingsKey",{get:function(){return"changeConnection"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageKey",{get:function(){return this.settingsKey+"_"+(this.connector&&this.connector.key)+"_"+this.position},enumerable:!1,configurable:!0}),e.prototype.equals=function(t){if(t instanceof e){var n=!this.connector&&!t.connector||this.connector&&t.connector&&this.connector===t.connector,i=!this.shape&&!t.shape||this.shape&&t.shape&&this.shape===t.shape,o=!this.oldShape&&!t.oldShape||this.oldShape&&t.oldShape&&this.oldShape===t.oldShape;return i&&o&&n&&this.position===t.position&&this.connectionPointIndex===t.connectionPointIndex}return!1},e}(a.RequestedEntity);e.ChangeConnectionRequestedEntity=s;var l=function(t){function e(e,n,i,o,r){var a=t.call(this)||this;return a.connector=e,a.shape=n,a.oldShape=i,a.position=o,a.connectionPointIndex=r,a}return o(e,t),e}(a.PermissionRequestEventArgs);e.ChangeConnectionEventArgs=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeConnectorPointsEventArgs=e.ChangeConnectorPointsRequestedEntity=void 0;var r=n(16),a=n(23),s=n(3),l=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;return r.connector=n,r.oldPoints=i,r.points=o,r}return o(e,t),Object.defineProperty(e.prototype,"operation",{get:function(){return r.DiagramModelOperation.ChangeConnectorPoints},enumerable:!1,configurable:!0}),e.prototype.createEventArgs=function(){var t=this;return new c(this.apiController.createNativeConnector(this.connector),this.oldPoints.map(function(e){return t.apiController.convertPoint(e)}),this.points.map(function(e){return t.apiController.convertPoint(e)}))},Object.defineProperty(e.prototype,"settingsKey",{get:function(){return"changeConnectorPoints"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageKey",{get:function(){return this.settingsKey+"_"+(this.connector&&this.connector.key)},enumerable:!1,configurable:!0}),e.prototype.equals=function(t){return t instanceof e&&this.connector===t.connector&&s.GeometryUtils.arePointsEqual(this.oldPoints,t.oldPoints)&&s.GeometryUtils.arePointsEqual(this.points,t.points)},e}(a.RequestedEntity);e.ChangeConnectorPointsRequestedEntity=l;var c=function(t){function e(e,n,i){var o=t.call(this)||this;return o.connector=e,o.oldPoints=n,o.points=i,o}return o(e,t),e}(a.PermissionRequestEventArgs);e.ChangeConnectorPointsEventArgs=c},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeChangeShapeTextEventArgs=e.BeforeChangeShapeTextRequestedEntity=void 0;var r=n(16),a=n(23),s=function(t){function e(e,n){var i=t.call(this,e)||this;return i.shape=n,i}return o(e,t),Object.defineProperty(e.prototype,"operation",{get:function(){return r.DiagramModelOperation.BeforeChangeShapeText},enumerable:!1,configurable:!0}),e.prototype.createEventArgs=function(){return new l(this.apiController.createNativeShape(this.shape))},Object.defineProperty(e.prototype,"settingsKey",{get:function(){return"changeShapeText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageKey",{get:function(){return"before"+this.settingsKey+"_"+(this.shape&&this.shape.key)},enumerable:!1,configurable:!0}),e.prototype.equals=function(t){return t instanceof e&&this.shape===t.shape&&this.shape.text===t.shape.text},e}(a.RequestedEntity);e.BeforeChangeShapeTextRequestedEntity=s;var l=function(t){function e(e){var n=t.call(this)||this;return n.shape=e,n}return o(e,t),e}(a.PermissionRequestEventArgs);e.BeforeChangeShapeTextEventArgs=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeChangeConnectorTextEventArgs=e.BeforeChangeConnectorTextRequestedEntity=void 0;var r=n(16),a=n(23),s=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.connector=n,o.position=i,o}return o(e,t),Object.defineProperty(e.prototype,"operation",{get:function(){return r.DiagramModelOperation.BeforeChangeConnectorText},enumerable:!1,configurable:!0}),e.prototype.createEventArgs=function(){return new l(this.apiController.createNativeConnector(this.connector),this.position,this.connector.texts.map(function(t){return t}).sort(function(t,e){return t.position-e.position}).indexOf(this.connector.texts.get(this.position)))},Object.defineProperty(e.prototype,"settingsKey",{get:function(){return"changeConnectorText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageKey",{get:function(){return"before"+this.settingsKey+"_"+(this.connector&&this.connector.key)},enumerable:!1,configurable:!0}),e.prototype.equals=function(t){return t instanceof e&&this.connector===t.connector&&this.position===t.position&&this.connector.texts.get(this.position)===t.connector.texts.get(t.position)},e}(a.RequestedEntity);e.BeforeChangeConnectorTextRequestedEntity=s;var l=function(t){function e(e,n,i){var o=t.call(this)||this;return o.connector=e,o.position=n,o.index=i,o}return o(e,t),e}(a.PermissionRequestEventArgs);e.BeforeChangeConnectorTextEventArgs=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeShapeTextEventArgs=e.ChangeShapeTextRequestedEntity=void 0;var r=n(16),a=n(23),s=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.shape=n,o.text=i,o}return o(e,t),Object.defineProperty(e.prototype,"operation",{get:function(){return r.DiagramModelOperation.ChangeShapeText},enumerable:!1,configurable:!0}),e.prototype.createEventArgs=function(){return new l(this.apiController.createNativeShape(this.shape),this.text)},Object.defineProperty(e.prototype,"settingsKey",{get:function(){return"changeShapeText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageKey",{get:function(){return this.settingsKey+"_"+(this.shape&&this.shape.key)},enumerable:!1,configurable:!0}),e.prototype.equals=function(t){return t instanceof e&&this.shape===t.shape&&this.text===t.text},e}(a.RequestedEntity);e.ChangeShapeTextRequestedEntity=s;var l=function(t){function e(e,n){var i=t.call(this)||this;return i.shape=e,i.text=n,i}return o(e,t),e}(a.PermissionRequestEventArgs);e.ChangeShapeTextEventArgs=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeConnectorTextEventArgs=e.ChangeConnectorTextRequestedEntity=void 0;var r=n(16),a=n(23),s=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;return r.connector=n,r.position=i,r.text=o,r}return o(e,t),Object.defineProperty(e.prototype,"operation",{get:function(){return r.DiagramModelOperation.ChangeConnectorText},enumerable:!1,configurable:!0}),e.prototype.createEventArgs=function(){return new l(this.apiController.createNativeConnector(this.connector),this.position,this.connector.texts.map(function(t){return t}).sort(function(t,e){return t.position-e.position}).indexOf(this.connector.texts.get(this.position)),this.text)},Object.defineProperty(e.prototype,"settingsKey",{get:function(){return"changeConnectorText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageKey",{get:function(){return this.settingsKey+"_"+(this.connector&&this.connector.key)},enumerable:!1,configurable:!0}),e.prototype.equals=function(t){return t instanceof e&&this.connector===t.connector&&this.position===t.position&&this.text===t.text},e}(a.RequestedEntity);e.ChangeConnectorTextRequestedEntity=s;var l=function(t){function e(e,n,i,o){var r=t.call(this)||this;return r.connector=e,r.position=n,r.index=i,r.text=o,r}return o(e,t),e}(a.PermissionRequestEventArgs);e.ChangeConnectorTextEventArgs=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PermissionsProviderStorage=void 0;var i=n(14),o=n(6),r=function(){function t(){this.interactingItems={},this.storedPermissions={}}return t.prototype.addInteractingItem=function(t,e){var n=this.getInteractingItemKey(t,e);void 0===this.interactingItems[n]&&(t instanceof i.Shape||t instanceof o.Connector)&&(this.interactingItems[n]=t.clone())},t.prototype.getInteractingItem=function(t,e){var n=this.getInteractingItemKey(t,e);return this.interactingItems[n]},t.prototype.getInteractingItemCount=function(){return Object.keys(this.interactingItems).length},t.prototype.clearInteractingItems=function(){this.interactingItems={}},t.prototype.getInteractingItemKey=function(t,e){return t.key+(void 0!==e?"_"+e.toString():"")},t.prototype.needStorePermissions=function(){return this.storePermissions},t.prototype.beginStorePermissions=function(){this.storePermissions=!0},t.prototype.endStorePermissions=function(){this.storePermissions=!1,this.storedPermissions={}},t.prototype.isStoredPermissionsGranted=function(){for(var t=Object.keys(this.storedPermissions),e=!0,n=0;n<t.length;n++)e=e&&this.storedPermissions[t[n]];return e},t.prototype.storePermission=function(t,e){this.storedPermissions[t]=e},t}();e.PermissionsProviderStorage=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ResizeShapeEventArgs=e.ResizeShapeRequestedEntity=void 0;var r=n(16),a=n(23),s=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;return r.shape=n,r.oldSize=i,r.size=o,r}return o(e,t),Object.defineProperty(e.prototype,"operation",{get:function(){return r.DiagramModelOperation.ResizeShape},enumerable:!1,configurable:!0}),e.prototype.createEventArgs=function(){return new l(this.apiController.createNativeShape(this.shape),this.apiController.convertSize(this.oldSize),this.apiController.convertSize(this.size))},Object.defineProperty(e.prototype,"settingsKey",{get:function(){return"resizeShape"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageKey",{get:function(){return this.settingsKey+"_"+(this.shape&&this.shape.key)},enumerable:!1,configurable:!0}),e.prototype.equals=function(t){return t instanceof e&&this.shape===t.shape&&this.oldSize.equals(t.oldSize)&&this.size.equals(t.size)},e}(a.RequestedEntity);e.ResizeShapeRequestedEntity=s;var l=function(t){function e(e,n,i){var o=t.call(this)||this;return o.shape=e,o.oldSize=n,o.size=i,o}return o(e,t),e}(a.PermissionRequestEventArgs);e.ResizeShapeEventArgs=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MoveShapeEventArgs=e.MoveShapeRequestedEntity=void 0;var r=n(16),a=n(23),s=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;return r.shape=n,r.oldPosition=i,r.position=o,r}return o(e,t),Object.defineProperty(e.prototype,"operation",{get:function(){return r.DiagramModelOperation.MoveShape},enumerable:!1,configurable:!0}),e.prototype.createEventArgs=function(){return new l(this.apiController.createNativeShape(this.shape),this.apiController.convertPoint(this.oldPosition),this.apiController.convertPoint(this.position))},Object.defineProperty(e.prototype,"settingsKey",{get:function(){return"moveShape"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storageKey",{get:function(){return this.settingsKey+"_"+(this.shape&&this.shape.key)},enumerable:!1,configurable:!0}),e.prototype.equals=function(t){return t instanceof e&&this.shape===t.shape&&this.oldPosition.equals(t.oldPosition)&&this.position.equals(t.position)},e}(a.RequestedEntity);e.MoveShapeRequestedEntity=s;var l=function(t){function e(e,n,i){var o=t.call(this)||this;return o.shape=e,o.oldPosition=n,o.position=i,o}return o(e,t),e}(a.PermissionRequestEventArgs);e.MoveShapeEventArgs=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectorRoutingModel=e.ConnectorRoutingPenaltyDescription=void 0;var i=n(28),o=n(14),r=n(6),a=n(32),s=n(369),l=function(){this.shape=20,this.margin=2,this.turnBack=20,this.turnLeft=3.1,this.turnRight=3};e.ConnectorRoutingPenaltyDescription=l;var c=function(){function t(){this.connectorRoutingMode=i.ConnectorRoutingMode.AllShapesOnly,this.shapeMargins=r.Connector.minOffset,this.shouldReverseConnections=!0,this.shouldResizeConnections=!0,this.penaltyDescription=new l}return t.prototype.initialize=function(t){this.model=t},t.prototype.createStrategy=function(t){if(void 0!==this.model&&this.connectorRoutingMode!==i.ConnectorRoutingMode.None&&t===a.ConnectorLineOption.Orthogonal)return new s.RightAngleConnectorRoutingStrategy(this)},t.prototype.getItems=function(t,e){return this.getShapes(t,e)},t.prototype.notifyConnectorRoutingModeChanged=function(t){this.connectorRoutingMode=t},t.prototype.getShapes=function(t,e){return void 0===this.model||void 0===this.connectorRoutingMode||this.connectorRoutingMode===i.ConnectorRoutingMode.None?[]:this.connectorRoutingMode===i.ConnectorRoutingMode.AllShapesOnly?this.model.items.filter(function(t){return t instanceof o.Shape}):this.getConnectorShapes(t,e)},t.prototype.getConnectorShapes=function(t,e){var n=[];return t&&n.push(t),e&&t!==e&&n.push(e),n},t}();e.ConnectorRoutingModel=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RightAngleConnectorRoutingStrategy=void 0;var i=n(33),o=n(29),r=n(370),a=n(4),s=function(){function t(t){this.model=t}return t.prototype.createRenderPoints=function(t,e,n,i,o,a,s){if(e.length>1){var l=new r.RightAngleConnectorRoutingContext(this.model,t,e,n,i,o,a);if(l.initialize(s),l.shouldCreateRenderPoints)return this.createRenderPointsCore(l)}},t.prototype.clone=function(){return new t(this.model)},t.prototype.onAddPoint=function(t,e,n,r){var s=r.map(function(t){return new o.ConnectorRenderPoint(t.x,t.y,t.pointIndex)}),l=a.ModelUtils.findFirstPointIndex(s,function(t){return t.equals(n)});if(0===l)return s.splice(1,0,new o.ConnectorRenderPoint(n.x,n.y,e)),a.ModelUtils.validateRenderPointIndexes(t,s,2);var c=s.length-1;if(l===c)return s.splice(c,0,new o.ConnectorRenderPoint(n.x,n.y,e)),s[c+1].pointIndex=e+1,s;if(l>0){var u=s[l];return s[l]=new o.ConnectorRenderPoint(u.x,u.y,e,u.skipped),a.ModelUtils.validateRenderPointIndexes(t,s,l+1)}var h=new i.Segment(s[0],s[1]),d=new o.ConnectorRenderPoint(n.x,n.y);return h.containsPoint(d)?(s.splice(1,0,new o.ConnectorRenderPoint(d.x,d.y,-1)),s.splice(2,0,new o.ConnectorRenderPoint(d.x,d.y,e)),a.ModelUtils.validateRenderPointIndexes(t,s,3)):new i.Segment(s[c-1],s[c]).containsPoint(d)?(s.splice(c,0,new o.ConnectorRenderPoint(d.x,d.y,e)),s.splice(c+1,0,new o.ConnectorRenderPoint(d.x,d.y,-1)),s[c+2].pointIndex=e+1,s):r},t.prototype.onDeletePoint=function(t,e,n){var i=n.map(function(t){return new o.ConnectorRenderPoint(t.x,t.y,t.pointIndex)}),r=this.getRenderPointIndexByPointIndex(i,e);if(1===r){var s=i[0],l=i[1];return s.equals(l)?(i.splice(1,1),a.ModelUtils.validateRenderPointIndexes(t,i,1)):(i[1]=new o.ConnectorRenderPoint(l.x,l.y,-1,l.skipped),a.ModelUtils.validateRenderPointIndexes(t,i,2))}if(2===r){s=i[1];var c=i[2];return s.equals(c)?(i.splice(1,2),a.ModelUtils.validateRenderPointIndexes(t,i,1)):(i[2]=new o.ConnectorRenderPoint(c.x,c.y,-1,c.skipped),a.ModelUtils.validateRenderPointIndexes(t,i,3))}var u=i.length-1;if(r===u-1){var h=i[u-1],d=i[u];return h.equals(d)?(i.splice(u-1,1),a.ModelUtils.validateRenderPointIndexes(t,i,u-1)):(i[u-1]=new o.ConnectorRenderPoint(h.x,h.y,-1,h.skipped),a.ModelUtils.validateRenderPointIndexes(t,i,u))}if(r===u-2){var p=i[u-2];return d=i[u-1],p.equals(d)?(i.splice(u-2,2),a.ModelUtils.validateRenderPointIndexes(t,i,u-2)):(i[u-2]=new o.ConnectorRenderPoint(p.x,p.y,-1,p.skipped),a.ModelUtils.validateRenderPointIndexes(t,i,u-1))}var f=i[r];return i[r]=new o.ConnectorRenderPoint(f.x,f.y,-1,f.skipped),a.ModelUtils.validateRenderPointIndexes(t,i,r+1)},t.prototype.onMovePoint=function(t,e,n,i){if(0===e||e===t.length-1)return i;var r=i.map(function(t){return new o.ConnectorRenderPoint(t.x,t.y,t.pointIndex)});return this.onMovePointCore(r,e,n),a.ModelUtils.skipUnnecessaryRightAngleRenderPoints(r),r},t.prototype.onMovePoints=function(t,e,n,i,r,s){if(0===e||i===t.length-1)return s;var l=s.map(function(t){return new o.ConnectorRenderPoint(t.x,t.y,t.pointIndex)});return this.onMovePointCore(l,e,n),this.onMovePointCore(l,i,r),a.ModelUtils.skipUnnecessaryRightAngleRenderPoints(l),l},t.prototype.onMovePointCore=function(t,e,n){var i=this.getRenderPointIndexByPointIndex(t,e);if(i>=0){var r=t[i];t[i]=new o.ConnectorRenderPoint(n.x,n.y,e,r.skipped)}},t.prototype.createRenderPointsCore=function(t){var e,n=[],i=-1,o=-1;t.setup();var r=t.renderSegments,a=r[r.length-1].endPoint,s=t.points;do{this.registerCustomPoints(n,s,o+2,r[i+1].startPointIndex-1),o=(e=r[++i]).startPointIndex,this.registerRenderPoints(n,t.createRoutedPoints(e.startInfo,e.endInfo,e.createProhibitedSegments()),o)}while(!e.endPoint.equals(a));return t.validateRenderPoints(n),n},t.prototype.getRenderPointIndexByPointIndex=function(t,e){return a.ModelUtils.findFirstPointIndex(t,function(t){return t.pointIndex===e})},t.prototype.registerRenderPoints=function(t,e,n){var i=this;e.forEach(function(o,r){var a=0===r?n:r===e.length-1?n+1:-1;i.registerPoint(t,o,a)})},t.prototype.registerCustomPoints=function(t,e,n,i){for(var o=n;o<=i;o++)this.registerPoint(t,e[o],o)},t.prototype.registerPoint=function(t,e,n){t.push(new o.ConnectorRenderPoint(e.x,e.y,n))},t}();e.RightAngleConnectorRoutingStrategy=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RightAngleConnectorRoutingContext=e.IntersectingItemsByPointsContext=e.CuttingItemsContext=void 0;var i=n(0),o=n(33),r=n(60),a=n(9),s=n(160),l=n(371),c=n(373),u=n(4),h=n(161),d=n(374),p=n(378),f=n(3),m=function(){function t(){this.cuttingItemKeys=[]}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.cuttingItemKeys.length},enumerable:!1,configurable:!0}),t.prototype.registerShape=function(t,e,n){return!!f.GeometryUtils.areSegmentsCutRectangle(n,e)&&(this.cuttingItemKeys.push(t),!0)},t}();e.CuttingItemsContext=m;var g=function(){function t(){this.items={}}return t.prototype.getOrAddItems=function(t,e){if(t){var n=t.toString(),i=this.items[n];if(void 0!==i)return i.items;if(e){var o=e(t);return this.items[n]={point:t,items:o},o}}},t}();e.IntersectingItemsByPointsContext=g;var v=function(){function t(t,e,n,i,o,r,a){this.routingModel=t,this.points=e,this.supportRenderPoints=n,this.beginConnectionShape=i,this.endConnectionShape=o,this.beginConnectionSide=this.getConnectionSide(this.beginConnectionShape,r,this.beginPoint),this.endConnectionSide=this.getConnectionSide(this.endConnectionShape,a,this.endPoint),this.ignorableItemKeys={},this.cuttingShapesContext=new m,this.intersectedItemsByPointsContext=new g,this.isInvalidRenderSegments=!0}return Object.defineProperty(t.prototype,"shapeMargins",{get:function(){return this.routingModel.shapeMargins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"beginPoint",{get:function(){return this.points[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endPoint",{get:function(){return this.points[this.points.length-1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasIntersecting",{get:function(){return!this.cuttingShapesContext.isEmpty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldCreateRenderPoints",{get:function(){return this.isInvalidRenderSegments||!this.isSmallPath&&(this.hasIntersecting||this.isReversedStartConnection||this.isReversedEndConnection)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"beginPathPoint",{get:function(){return this.beginConnectionSegment instanceof o.Segment?this.beginConnectionSegment.startPoint:this.beginConnectionSegment},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endPathPoint",{get:function(){return this.endConnectionSegment instanceof o.Segment?this.endConnectionSegment.endPoint:this.endConnectionSegment},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReversedStartConnection",{get:function(){if(!this.beginConnectionShape||this.beginConnectionSide===a.ConnectionPointSide.Undefined)return!1;var t=this.beginConnectionSegment;return!(t instanceof i.Point)&&this.isReversedConnectionSegment(this.supportSegments[0],t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReversedEndConnection",{get:function(){if(!this.endConnectionShape||this.endConnectionSide===a.ConnectionPointSide.Undefined)return!1;var t=this.endConnectionSegment;return!(t instanceof i.Point)&&this.isReversedConnectionSegment(this.supportSegments[this.supportSegments.length-1],t)},enumerable:!1,configurable:!0}),t.prototype.isReversedConnectionSegment=function(t,e){return r.Vector.scalarProduct(r.Vector.fromSegment(t),r.Vector.fromPoints(e.startPoint,e.endPoint))<=0},Object.defineProperty(t.prototype,"isSmallPath",{get:function(){var t=2*this.routingModel.shapeMargins;return Math.abs(this.beginPathPoint.x-this.endPathPoint.x)<t&&Math.abs(this.beginPathPoint.y-this.endPathPoint.y)<t},enumerable:!1,configurable:!0}),t.prototype.initialize=function(t){this.processContainers(t),this.processSupportSegments(),this.processIntersection(),this.processConnections(),this.processRenderSegments()},t.prototype.setup=function(){this.processRoutingGrid(),this.processRoutingMetrics()},t.prototype.createRoutedPoints=function(t,e,n){var o=t instanceof i.Point?t:t.endPoint,r=e instanceof i.Point?e:e.startPoint,a=this.createAStarContext(o,r,n);p.AStarCalculator.calculate(a);var l=a.path;return this.addConnectionRoutedPoints(l,t,e),s.RightAngleConnectorRoutingMathOperations.unionPoints(l),l},t.prototype.getIntersectedItems=function(t,e){var n=this;return this.intersectedItemsByPointsContext.getOrAddItems(t,function(t){return n.routingModel.getItems(n.beginConnectionShape,n.endConnectionShape).filter(function(i){return!n.isIgnorableItem(i)&&e(t,i)})})},t.prototype.validateRenderPoints=function(t){this.isInvalidRenderSegments&&(s.RightAngleConnectorRoutingMathOperations.unionPoints(t),u.ModelUtils.validateRenderPointIndexes(this.points,t,0)),u.ModelUtils.skipUnnecessaryRightAngleRenderPoints(t)},t.prototype.processContainers=function(t){if(t&&this.registerIgnorableShape(t),this.beginConnectionShape){var e=this.beginConnectionShape.container;e&&this.registerIgnorableShape(e)}if(this.endConnectionShape){var n=this.endConnectionShape.container;n&&this.registerIgnorableShape(n)}},t.prototype.processSupportSegments=function(){this.supportSegments=this.createSupportSegments()},t.prototype.processIntersection=function(){var t=this,e=this.routingModel.getItems(this.beginConnectionShape,this.endConnectionShape);e&&e.forEach(function(e){var n=e.key,i=e.rectangle;t.cuttingShapesContext.registerShape(n,i,t.supportSegments)?void 0!==t.ignorableItemKeys[n]&&delete t.ignorableItemKeys[n]:(!t.isConnectedByStart(e)&&i.containsPoint(t.beginPoint)||!t.isConnectedByEnd(e)&&i.containsPoint(t.endPoint))&&t.registerIgnorableShape(e)})},t.prototype.processConnections=function(){var t=!1,e=!1;this.beginConnectionShape!==this.endConnectionShape&&(t=this.shapeContainsOtherConnection(this.beginConnectionShape,this.endConnectionShape,this.endPoint),e=this.shapeContainsOtherConnection(this.endConnectionShape,this.beginConnectionShape,this.beginPoint),t&&this.registerIgnorableShape(this.beginConnectionShape),e&&this.registerIgnorableShape(this.endConnectionShape));var n=this.routingModel.shapeMargins;this.beginConnectionSegment=this.createBeginConnectionSegment(n,t),this.endConnectionSegment=this.createEndConnectionSegment(n,e)},t.prototype.processRenderSegments=function(){this.isInvalidRenderSegments=!1,this.renderSegments=this.createRenderSegments();for(var t=0;t<this.renderSegments.length-1;t++){var e=this.renderSegments[t],n=this.renderSegments[t+1];if(e.endPoint.equals(n.startPoint))return void(this.isInvalidRenderSegments=!0)}},t.prototype.createGridPoints=function(){var t=[];return this.renderSegments.forEach(function(e){return e.createGridPoints().forEach(function(e){return t.push(e)})}),t},t.prototype.processRoutingGrid=function(){this.routingGrid=this.createGrid()},t.prototype.processRoutingMetrics=function(){this.metrics=this.createAStarMetrics()},t.prototype.createAStarMetrics=function(){return new h.AStarMetrics(new h.TurnDirectionMetrics(this.routingModel.penaltyDescription),new h.IntersectedShapesMetrics(new h.IntersectedShapeMetrics(this.routingModel.penaltyDescription,this.routingModel.shapeMargins)))},t.prototype.createAStarContext=function(t,e,n){return new d.AStarContext(this,t,e,n,this.routingGrid,this.metrics)},t.prototype.addConnectionRoutedPoints=function(t,e,n){e instanceof o.Segment&&t.splice(0,0,e.startPoint),n instanceof o.Segment&&t.push(n.endPoint)},t.prototype.createSupportSegments=function(){var t=this;return this.supportRenderPoints.length<=1?[]:f.GeometryUtils.createSegments(this.supportRenderPoints).filter(function(e){return!t.isCustomSegment(e,t.supportRenderPoints[0],t.supportRenderPoints[t.supportRenderPoints.length-1])})},t.prototype.isCustomSegment=function(t,e,n){var i=t.startPoint;if(i.equals(e))return!1;var o=t.endPoint;return!o.equals(n)&&o.pointIndex-i.pointIndex==1},t.prototype.createRenderSegments=function(){var t=this,e=s.RightAngleConnectorRoutingMathOperations.createUnionSegments(this.supportSegments,function(e,n){return t.shouldCreateSegment(e,n)}),n=e.length-1;return e.map(function(e,o){return new l.ConnectorRenderSegment(o>0?new i.Point(e.startPoint.x,e.startPoint.y):t.beginConnectionSegment,o<n?new i.Point(e.endPoint.x,e.endPoint.y):t.endConnectionSegment,e.startPoint.pointIndex,t.createPreviousCustomSegment(e.startPoint))})},t.prototype.createPreviousCustomSegment=function(t){var e=t.pointIndex-1;return e>=0?new o.Segment(this.points[e].clone(),new i.Point(t.x,t.y)):void 0},t.prototype.shouldCreateSegment=function(t,e){return!t.equals(e)||e.pointIndex>0},t.prototype.isPathNormal=function(t){return t===a.ConnectionPointSide.Undefined||s.RightAngleConnectorRoutingMathOperations.isSegmentNormal(new o.Segment(this.beginPoint,this.endPoint),t===a.ConnectionPointSide.East||t===a.ConnectionPointSide.West)},t.prototype.registerIgnorableShape=function(t){this.ignorableItemKeys[t.key]=!0},t.prototype.isConnectedByStart=function(t){return this.beginConnectionShape&&this.beginConnectionShape.key===t.key&&this.beginConnectionSide!==a.ConnectionPointSide.Undefined},t.prototype.isConnectedByEnd=function(t){return this.endConnectionShape&&this.endConnectionShape.key===t.key&&this.endConnectionSide!==a.ConnectionPointSide.Undefined},t.prototype.getConnectionSide=function(t,e,n){return t?t.getConnectionPointSideByIndex(e,n):a.ConnectionPointSide.Undefined},t.prototype.shapeContainsOtherConnection=function(t,e,n){if(!t)return!1;var i=t.rectangle;return i.containsPoint(n)&&(!e||!e.rectangle.equals(i))},t.prototype.createBeginConnectionSegment=function(t,e){if(this.beginConnectionSide===a.ConnectionPointSide.Undefined)return this.createBeginConnectionSegmentCore(t);if(!e||!this.routingModel.shouldReverseConnections){var n=this.createBeginConnectionSegmentCore(t);if(n instanceof i.Point||!this.routingModel.shouldResizeConnections)return n;for(var o=n.startPoint,r=n.endPoint,s=t;this.hasIntersectedItemsByPoint(r,o,this.beginConnectionShape);)s/=2,r=(n=this.createBeginConnectionSegmentCore(s)).endPoint;return n}if(!this.endConnectionShape)return this.createBeginConnectionSegmentCore(-t);if(this.isPathNormal(this.endConnectionSide))return this.createBeginConnectionSegmentCore(-t);var l=this.createBeginConnectionSegmentCore(-2*t);return this.isEndConnectionRectanleLineIntersected(l,!1,!0)?this.createBeginConnectionSegmentCore(t):this.createBeginConnectionSegmentCore(-t)},t.prototype.hasIntersectedItemsByPoint=function(t,e,n){var i=this.getIntersectedItems(t,function(t,i){return i.rectangle.containsPoint(t)&&!i.rectangle.containsPoint(e)&&i.key!==n.key});return void 0!==i&&i.length>0},t.prototype.createEndConnectionSegment=function(t,e){if(this.endConnectionSide===a.ConnectionPointSide.Undefined)return this.createEndConnectionSegmentCore(t);if(!e||!this.routingModel.shouldReverseConnections){var n=this.createEndConnectionSegmentCore(t);if(n instanceof i.Point||!this.routingModel.shouldResizeConnections)return n;for(var o=n.endPoint,r=n.startPoint,s=t;this.hasIntersectedItemsByPoint(r,o,this.endConnectionShape);)s/=2,r=(n=this.createEndConnectionSegmentCore(s)).startPoint;return n}if(!this.beginConnectionShape)return this.createEndConnectionSegmentCore(-t);if(this.isPathNormal(this.beginConnectionSide))return this.createEndConnectionSegmentCore(-t);var l=this.createEndConnectionSegmentCore(-2*t);return this.isBeginConnectionRectanleLineIntersected(l,!0,!1)?this.createEndConnectionSegmentCore(t):this.createEndConnectionSegmentCore(-t)},t.prototype.createBeginConnectionSegmentCore=function(t){return s.RightAngleConnectorRoutingMathOperations.createBeginConnectionSegment(this.beginConnectionSide,this.beginPoint,t,function(t,e){return new i.Point(t,e)})},t.prototype.createEndConnectionSegmentCore=function(t){return s.RightAngleConnectorRoutingMathOperations.createEndConnectionSegment(this.endConnectionSide,this.endPoint,t,function(t,e){return new i.Point(t,e)})},t.prototype.isBeginConnectionRectanleLineIntersected=function(t,e,n){return s.RightAngleConnectorRoutingMathOperations.isConnectionRectanleLineIntersected(this.beginConnectionShape.rectangle,t,this.beginConnectionSide,e,n,function(t,e){return new i.Point(t,e)})},t.prototype.isEndConnectionRectanleLineIntersected=function(t,e,n){return s.RightAngleConnectorRoutingMathOperations.isConnectionRectanleLineIntersected(this.endConnectionShape.rectangle,t,this.endConnectionSide,e,n,function(t,e){return new i.Point(t,e)})},t.prototype.isIgnorableItem=function(t){return void 0!==this.ignorableItemKeys[t.key]},t.prototype.createExtendedShapesBounds=function(){var t=this;return this.routingModel.getItems(this.beginConnectionShape,this.endConnectionShape).map(function(e){return e.rectangle.clone().inflate(t.routingModel.shapeMargins)})},t.prototype.createGrid=function(){return c.RoutingGrid.create(this.createGridPoints(),this.createExtendedShapesBounds(),function(t,e){return new i.Point(t,e)})},t}();e.RightAngleConnectorRoutingContext=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectorRenderSegment=void 0;var i=n(33),o=n(372),r=function(){function t(t,e,n,i){this.startInfo=t,this.endInfo=e,this.startPointIndex=n,this.previousCustomSegment=i}return Object.defineProperty(t.prototype,"startPathPoint",{get:function(){return this.startInfo instanceof i.Segment?this.startInfo.endPoint:this.startInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endPathPoint",{get:function(){return this.endInfo instanceof i.Segment?this.endInfo.startPoint:this.endInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startPoint",{get:function(){return this.startInfo instanceof i.Segment?this.startInfo.startPoint:this.startInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endPoint",{get:function(){return this.endInfo instanceof i.Segment?this.endInfo.endPoint:this.endInfo},enumerable:!1,configurable:!0}),t.prototype.createGridPoints=function(){var t=[];return this.endInfo instanceof i.Segment?(t.push(this.endInfo.startPoint),t.push(this.endInfo.endPoint)):t.push(this.endInfo),t},t.prototype.createProhibitedSegments=function(){if(this.startInfo instanceof i.Segment){var t=this.createProhibitedSegmentsCore(this.startInfo);return this.endInfo instanceof i.Segment&&(t.addSegment(this.endInfo),t.addExludedPoint(this.endInfo.startPoint)),this.previousCustomSegment&&t.addSegment(this.previousCustomSegment),t}return this.endInfo instanceof i.Segment?((t=this.createProhibitedSegmentsCore(this.endInfo)).addExludedPoint(this.endInfo.startPoint),this.previousCustomSegment&&t.addSegment(this.previousCustomSegment),t):this.previousCustomSegment?this.createProhibitedSegmentsCore(this.previousCustomSegment):void 0},t.prototype.createProhibitedSegmentsCore=function(t){var e=new o.ConnectorProhibitedSegments;return e.addSegment(t),e},t}();e.ConnectorRenderSegment=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectorProhibitedSegments=void 0;var i=function(){function t(){this.segments=[],this.exludedPoints={}}return t.prototype.addSegment=function(t){this.segments.push(t)},t.prototype.addExludedPoint=function(t){this.exludedPoints[t.toString()]=t},t.prototype.allowPoint=function(t){if(void 0===this.exludedPoints[t.toString()])for(var e=0;e<this.segments.length;e++)if(this.segments[e].containsPoint(t))return!1;return!0},t}();e.ConnectorProhibitedSegments=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RoutingGrid=void 0;var i=n(41),o=function(){function t(t,e,n){this.verticalGridLines=t,this.horizontalGridLines=e,this.createPoint=n}return t.create=function(e,n,i){var o=this,r=[],a=[],s={},l={};return n.forEach(function(t){o.addLine(t.x,r,s),o.addLine(t.right,r,s),o.addLine(t.y,a,l),o.addLine(t.bottom,a,l)}),e.forEach(function(t){o.addLine(t.x,r,s),o.addLine(t.y,a,l)}),r.sort(function(t,e){return t-e}),a.sort(function(t,e){return t-e}),new t(r,a,i)},t.addLine=function(t,e,n){n[t]||(e.push(t),n[t]=!0)},t.prototype.getNeighborPoints=function(t){var e=[];if(!(this.horizontalGridLines&&this.horizontalGridLines.length&&this.verticalGridLines&&this.verticalGridLines.length))return e;var n=i.SearchUtils.binaryIndexOf(this.verticalGridLines,function(e){return e-t.x});n<0?(n=~n,this.isValidArrayIndex(this.verticalGridLines,n)&&e.push(this.createPoint(this.verticalGridLines[n],t.y))):this.isValidArrayIndex(this.verticalGridLines,n+1)&&e.push(this.createPoint(this.verticalGridLines[n+1],t.y)),this.isValidArrayIndex(this.verticalGridLines,n-1)&&e.push(this.createPoint(this.verticalGridLines[n-1],t.y));var o=i.SearchUtils.binaryIndexOf(this.horizontalGridLines,function(e){return e-t.y});return o<0?(o=~o,this.isValidArrayIndex(this.horizontalGridLines,o)&&e.push(this.createPoint(t.x,this.horizontalGridLines[o]))):this.isValidArrayIndex(this.horizontalGridLines,o+1)&&e.push(this.createPoint(t.x,this.horizontalGridLines[o+1])),this.isValidArrayIndex(this.horizontalGridLines,o-1)&&e.push(this.createPoint(t.x,this.horizontalGridLines[o-1])),e},t.prototype.isValidArrayIndex=function(t,e){return t&&e>=0&&e<t.length},t}();e.RoutingGrid=o},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AStarContext=e.AStarContextBase=void 0;var r=n(375),a=n(376),s=n(377),l=n(33),c=n(160),u=n(3),h=function(){function t(t,e,n){this.startPosition=t,this.targetPosition=e,this.maxStepsCount=n,this.prohibitedPoints={}}return Object.defineProperty(t.prototype,"shouldStartContinue",{get:function(){return this.updatableSet.count>0&&this.stepsCount<this.maxStepsCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldFinish",{get:function(){return this.currentNode.position.equals(this.targetPosition)},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.generalSet=new r.SortedQueues(function(t){return t.key}),this.updatableSet=new a.UniqueAStarNodePositions;var t=new s.AStarNode(this.startPosition,this.getDistance(this.startPosition,this.targetPosition));this.currentNode=t,this.generalSet.enqueue(t),this.updatableSet.add(t.position,t),this.stepsCount=0,this.openNode=void 0},t.prototype.startContinue=function(){this.currentNode=this.generalSet.dequeueMin()},t.prototype.endContinue=function(){var t=this,e=this.currentNode.position;this.updatableSet.remove(e),this.addProhibitedPoint(e),this.getNeighborPoints(e).forEach(function(e){var n=t.getPenalty(t.currentNode,e),i=t.updatableSet.getNode(e);if(void 0===i)(i=new s.AStarNode(e,t.getDistance(e,t.targetPosition))).parent=t.currentNode,i.penalty=n,t.generalSet.enqueue(i),t.updatableSet.add(e,i);else if(i.penalty>n){var o=t.generalSet;o.remove(i),i.parent=t.currentNode,i.penalty=n,o.enqueue(i)}t.openNode=i}),this.stepsCount++},t.prototype.finishWithPath=function(){this.path=this.currentNode.getPath()},t.prototype.finishWithoutPath=function(){this.path=[]},t}();e.AStarContextBase=h;var d=function(t){function e(e,n,i,o,r,a){var s=t.call(this,n,i,1e4)||this;return s.routingContext=e,s.startPosition=n,s.targetPosition=i,s.prohibitedSegments=o,s.grid=r,s.metrics=a,s}return o(e,t),e.prototype.addProhibitedPoint=function(t){this.prohibitedPoints[t.toString()]=t},e.prototype.getNeighborPoints=function(t){var e=this;return this.grid.getNeighborPoints(t).filter(function(t){return e.allowPoint(t)})},e.prototype.getDistance=function(t,e){return this.metrics.distance(t,e)},e.prototype.getPenalty=function(t,e){var n=t.parent,i=t.position,o=this.getTurnDirection(n?u.GeometryUtils.createAngle(n.position,i,e):0),r=this.getDistance(i,e),a=new l.Segment(i,e).center;return t.penalty+this.metrics.penalty(r,a,o,this.getIntersectedItems(a))},e.prototype.allowPoint=function(t){return void 0===this.prohibitedPoints[t.toString()]&&(!this.prohibitedSegments||this.prohibitedSegments.allowPoint(t))},e.prototype.getTurnDirection=function(t){return c.RightAngleConnectorRoutingMathOperations.getTurnDirection(t)},e.prototype.getIntersectedItems=function(t){var e=this,n=this.routingContext.shapeMargins;return this.routingContext.getIntersectedItems(t,function(t,i){return e.hasIntersectedItem(t,i,n)})},e.prototype.hasIntersectedItem=function(t,e,n){return!!this.isIntersectedWithExtendedRectangle(t,e,n)&&(!!this.hasOneShapeConnection(e)||!this.itemContainsConnectionPoints(e))},e.prototype.isIntersectedWithExtendedRectangle=function(t,e,n){return e.rectangle.clone().inflate(n).containsPoint(t)},e.prototype.itemContainsConnectionPoints=function(t){var e=t.rectangle;return e.containsPoint(this.routingContext.beginPoint)&&e.containsPoint(this.routingContext.endPoint)},e.prototype.hasOneShapeConnection=function(t){var e=t.getConnectionPoints();return this.isConnectionPoint(e,this.routingContext.beginPoint)&&this.isConnectionPoint(e,this.routingContext.endPoint)},e.prototype.isConnectionPoint=function(t,e){return t.filter(function(t){return t.equals(e)}).length>0},e}(h);e.AStarContext=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortedQueues=void 0;var i=n(41),o=function(){function t(t){this.getKey=t,this._itemsArrays={},this._sortedKeys=[]}return Object.defineProperty(t.prototype,"sortedKeys",{get:function(){return this._sortedKeys},enumerable:!1,configurable:!0}),t.prototype.getQueue=function(t){return this._itemsArrays[t]},t.prototype.enqueue=function(t){var e=this.getKey(t);void 0===this._itemsArrays[e]?(this._itemsArrays[e]=[t],this.addSortedKey(e)):this._itemsArrays[e].push(t)},t.prototype.remove=function(t){var e=this.getKey(t),n=this._itemsArrays[e];void 0!==n&&(n.length?n[0]===t?(n.shift(),n.length||this.removeCore(e)):this._itemsArrays[e]=n.filter(function(e){return e!==t}):this.removeCore(e))},t.prototype.dequeueMin=function(){if(this._sortedKeys.length){var t=this._sortedKeys[0],e=this._itemsArrays[t],n=e.shift();return e.length||this.removeCore(t),n}},t.prototype.removeCore=function(t){delete this._itemsArrays[t],this.removeSortedKey(t)},t.prototype.removeSortedKey=function(t){var e=i.SearchUtils.binaryIndexOf(this._sortedKeys,function(e){return e-t});e>=0&&this.sortedKeys.splice(e,1)},t.prototype.addSortedKey=function(t){var e=i.SearchUtils.binaryIndexOf(this._sortedKeys,function(e){return e-t});e<0&&this._sortedKeys.splice(-(e+1),0,t)},t}();e.SortedQueues=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UniqueAStarNodePositions=void 0;var i=function(){function t(t){void 0===t&&(t=function(t){return t.toString()}),this.getKey=t,this.items={}}return Object.defineProperty(t.prototype,"count",{get:function(){return Object.keys(this.items).length},enumerable:!1,configurable:!0}),t.prototype.getNode=function(t){var e=this.items[this.getKey(t)];return void 0!==e?e.node:void 0},t.prototype.add=function(t,e){var n=this.getKey(t);void 0===this.items[n]&&(this.items[n]={position:t,node:e})},t.prototype.remove=function(t){var e=this.getKey(t);void 0!==this.items[e]&&delete this.items[e]},t}();e.UniqueAStarNodePositions=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AStarNode=void 0;var i=function(){function t(t,e){this.position=t,this.distance=e,this.penalty=0}return Object.defineProperty(t.prototype,"key",{get:function(){return this.distance+this.penalty},enumerable:!1,configurable:!0}),t.prototype.getPath=function(){for(var t=[],e=this;void 0!==e;)t.splice(0,0,e.position),e=e.parent;return t},t}();e.AStarNode=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AStarCalculator=void 0;var i=function(){function t(){}return t.calculate=function(t){if(t)for(var e=this.start(t);e;)e=e(t)},t.start=function(e){return e.start(),e.shouldStartContinue?t.startContinue:t.finishWithPath},t.startContinue=function(e){return e.startContinue(),e.shouldFinish?t.finishWithPath:t.endContinue},t.endContinue=function(e){return e.endContinue(),e.shouldStartContinue?t.startContinue:t.finishWithoutPath},t.finishWithPath=function(t){t.finishWithPath()},t.finishWithoutPath=function(t){t.finishWithoutPath()},t}();e.AStarCalculator=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReloadContentParameters=void 0;var i=function(){function t(){this.isEmpty=!0}return t.prototype.add=function(t,e,n){void 0!==t&&(void 0===this._dataKeys&&(this._dataKeys=[]),Array.isArray(t)?this._dataKeys=this._dataKeys.concat(t):this._dataKeys.push(t)),this._getData=this._getData||e,this._layoutParameters=this._layoutParameters||n,this.isEmpty=!1},t.prototype.clear=function(){this.isEmpty=!0,this._dataKeys=void 0,this._getData=void 0,this._layoutParameters=void 0},Object.defineProperty(t.prototype,"empty",{get:function(){return this.isEmpty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataKeys",{get:function(){return this._dataKeys},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getData",{get:function(){return this._getData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutParameters",{get:function(){return this._layoutParameters},enumerable:!1,configurable:!0}),t}();e.ReloadContentParameters=i},function(t,e,n){}])},function(t,e,n){"use strict";var i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=function(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}(function(t){return i.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91});e.a=o},function(t,e,n){(function(t){var i="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,o=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(256),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(147))},function(t,e,n){"use strict";(function(t){var i=n(264),o=n(265),r=n(266);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,n){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return c(this,t,e,n)}function c(t,e,n,i){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=d(t,e);return t}(t,e,n,i):"string"===typeof e?function(t,e,n){"string"===typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|f(e,n),o=(t=s(t,i)).write(e,n);o!==i&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(l.isBuffer(e)){var n=0|p(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||(i=e.length)!==i?s(t,0):d(t,e);if("Buffer"===e.type&&r(e.data))return d(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(u(e),t=s(t,e<0?0:0|p(e)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function f(t,e){if(l.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(t).length;default:if(i)return F(t).length;e=(""+e).toLowerCase(),i=!0}}function m(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function g(t,e,n,i,o){if(0===t.length)return-1;if("string"===typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"===typeof e&&(e=l.from(e,i)),l.isBuffer(e))return 0===e.length?-1:v(t,e,n,i,o);if("number"===typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,i,o);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,i,o){var r,a=1,s=t.length,l=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var u=-1;for(r=n;r<s;r++)if(c(t,r)===c(e,-1===u?0:r-u)){if(-1===u&&(u=r),r-u+1===l)return u*a}else-1!==u&&(r-=r-u),u=-1}else for(n+l>s&&(n=s-l),r=n;r>=0;r--){for(var h=!0,d=0;d<l;d++)if(c(t,r+d)!==c(e,d)){h=!1;break}if(h)return r}return-1}function y(t,e,n,i){n=Number(n)||0;var o=t.length-n;i?(i=Number(i))>o&&(i=o):i=o;var r=e.length;if(r%2!==0)throw new TypeError("Invalid hex string");i>r/2&&(i=r/2);for(var a=0;a<i;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function _(t,e,n,i){return V(F(e,t.length-n),t,n,i)}function b(t,e,n,i){return V(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function C(t,e,n,i){return b(t,e,n,i)}function O(t,e,n,i){return V(H(e),t,n,i)}function x(t,e,n,i){return V(function(t,e){for(var n,i,o,r=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),i=n>>8,o=n%256,r.push(o),r.push(i);return r}(e,t.length-n),t,n,i)}function S(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function w(t,e,n){n=Math.min(t.length,n);for(var i=[],o=e;o<n;){var r,a,s,l,c=t[o],u=null,h=c>239?4:c>223?3:c>191?2:1;if(o+h<=n)switch(h){case 1:c<128&&(u=c);break;case 2:128===(192&(r=t[o+1]))&&(l=(31&c)<<6|63&r)>127&&(u=l);break;case 3:r=t[o+1],a=t[o+2],128===(192&r)&&128===(192&a)&&(l=(15&c)<<12|(63&r)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:r=t[o+1],a=t[o+2],s=t[o+3],128===(192&r)&&128===(192&a)&&128===(192&s)&&(l=(15&c)<<18|(63&r)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,h=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),o+=h}return function(t){var e=t.length;if(e<=P)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=P));return n}(i)}e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=a(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,n){return c(null,t,e,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,n){return function(t,e,n,i){return u(e),e<=0?s(t,e):void 0!==n?"string"===typeof i?s(t,e).fill(n,i):s(t,e).fill(n):s(t,e)}(null,t,e,n)},l.allocUnsafe=function(t){return h(null,t)},l.allocUnsafeSlow=function(t){return h(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,o=0,r=Math.min(n,i);o<r;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!r(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=l.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?w(this,0,t):function(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return w(this,e,n);case"ascii":return k(this,e,n);case"latin1":case"binary":return E(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,n,i,o){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var r=(o>>>=0)-(i>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(r,a),c=this.slice(i,o),u=t.slice(e,n),h=0;h<s;++h)if(c[h]!==u[h]){r=c[h],a=u[h];break}return r<a?-1:a<r?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},l.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var r=!1;;)switch(i){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return C(this,t,e,n);case"base64":return O(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,n);default:if(r)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),r=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function k(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(127&t[o]);return i}function E(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(t[o]);return i}function T(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var o="",r=e;r<n;++r)o+=z(t[r]);return o}function I(t,e,n){for(var i=t.slice(e,n),o="",r=0;r<i.length;r+=2)o+=String.fromCharCode(i[r]+256*i[r+1]);return o}function j(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,n,i,o,r){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<r)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function D(t,e,n,i){e<0&&(e=65535+e+1);for(var o=0,r=Math.min(t.length-n,2);o<r;++o)t[n+o]=(e&255<<8*(i?o:1-o))>>>8*(i?o:1-o)}function A(t,e,n,i){e<0&&(e=4294967295+e+1);for(var o=0,r=Math.min(t.length-n,4);o<r;++o)t[n+o]=e>>>8*(i?o:3-o)&255}function R(t,e,n,i,o,r){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(t,e,n,i,r){return r||R(t,0,n,4),o.write(t,e,n,i,23,4),n+4}function L(t,e,n,i,r){return r||R(t,0,n,8),o.write(t,e,n,i,52,8),n+8}l.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=l.prototype;else{var o=e-t;n=new l(o,void 0);for(var r=0;r<o;++r)n[r]=this[r+t]}return n},l.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var i=this[t],o=1,r=0;++r<e&&(o*=256);)i+=this[t+r]*o;return i},l.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var i=this[t+--e],o=1;e>0&&(o*=256);)i+=this[t+--e]*o;return i},l.prototype.readUInt8=function(t,e){return e||j(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||j(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||j(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var i=this[t],o=1,r=0;++r<e&&(o*=256);)i+=this[t+r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},l.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var i=e,o=1,r=this[t+--i];i>0&&(o*=256);)r+=this[t+--i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},l.prototype.readInt8=function(t,e){return e||j(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||j(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){e||j(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||j(t,4,this.length),o.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||j(t,4,this.length),o.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||j(t,8,this.length),o.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||j(t,8,this.length),o.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||M(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,r=0;for(this[e]=255&t;++r<n&&(o*=256);)this[e+r]=t/o&255;return e+n},l.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||M(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,r=1;for(this[e+o]=255&t;--o>=0&&(r*=256);)this[e+o]=t/r&255;return e+n},l.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):A(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):A(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var o=Math.pow(2,8*n-1);M(this,t,e,n,o-1,-o)}var r=0,a=1,s=0;for(this[e]=255&t;++r<n&&(a*=256);)t<0&&0===s&&0!==this[e+r-1]&&(s=1),this[e+r]=(t/a>>0)-s&255;return e+n},l.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var o=Math.pow(2,8*n-1);M(this,t,e,n,o-1,-o)}var r=n-1,a=1,s=0;for(this[e+r]=255&t;--r>=0&&(a*=256);)t<0&&0===s&&0!==this[e+r+1]&&(s=1),this[e+r]=(t/a>>0)-s&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):A(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):A(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,n){return B(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return B(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return L(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return L(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var o,r=i-n;if(this===t&&n<e&&e<i)for(o=r-1;o>=0;--o)t[o+e]=this[o+n];else if(r<1e3||!l.TYPED_ARRAY_SUPPORT)for(o=0;o<r;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+r),e);return r},l.prototype.fill=function(t,e,n,i){if("string"===typeof t){if("string"===typeof e?(i=e,e=0,n=this.length):"string"===typeof n&&(i=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==i&&"string"!==typeof i)throw new TypeError("encoding must be a string");if("string"===typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var r;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(r=e;r<n;++r)this[r]=t;else{var a=l.isBuffer(t)?t:F(new l(t,i).toString()),s=a.length;for(r=0;r<n-e;++r)this[r+e]=a[r%s]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var i=t.length,o=null,r=[],a=0;a<i;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&r.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&r.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&r.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;r.push(n)}else if(n<2048){if((e-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function H(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(N,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function V(t,e,n,i){for(var o=0;o<i&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}).call(this,n(147))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.capitalizeFirstLetter=e.DoubleKeyMap=e.generateID=void 0,e.generateID=function(){return Math.random().toString(36).substr(2)};var i=function(){function t(){this._map=new Map}return t.prototype.set=function(t,e){var n=t.key1,i=t.key2,o=this._map.get(n);o||(o=new Map,this._map.set(n,o)),o.set(i,e)},t.prototype.get=function(t){var e=t.key1,n=t.key2,i=this._map.get(e);return i?i.get(n):void 0},t.prototype.delete=function(t){var e=t.key1,n=t.key2,i=this._map.get(e);i&&(i.delete(n),0===i.size&&this._map.delete(e))},t}();e.DoubleKeyMap=i,e.capitalizeFirstLetter=function(t){return t.length?""+t[0].toUpperCase()+t.substr(1):""}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findValueInObject=e.findValue=e.buildTemplates=e.buildNode=e.buildConfig=e.ValueType=void 0;var i,o=n(174);function r(t,e,n){t.templates.forEach(function(i){if(i.isAnonymous){var r=o.mergeNameParts(t.fullName,i.optionName);e[i.optionName]=r,n[r]=i}else n[i.optionName]=i})}function a(t,e,n){var i={};return Object.keys(t.predefinedOptions).forEach(function(e){i[e]=t.predefinedOptions[e]}),Object.keys(t.configs).forEach(function(o){i[o]=a(t.configs[o],e,n)}),Object.keys(t.configCollections).forEach(function(o){i[o]=t.configCollections[o].map(function(t){return a(t,e,n)})}),n||Object.keys(t.initialOptions).forEach(function(e){i[e]=t.initialOptions[e]}),Object.keys(t.options).forEach(function(e){i[e]=t.options[e]}),r(t,i,e),i}function s(t,e){var n={};return{templates:n,options:a(t,n,e)}}function l(t,e){var n=e.shift();return n?t instanceof Object&&Object.keys(t).includes(n)?l(t[n],e):void 0:{value:t,type:i.Simple}}e.buildTemplates=r,e.buildNode=a,e.buildConfig=s,function(t){t[t.Simple=0]="Simple",t[t.Complex=1]="Complex",t[t.Array=2]="Array"}(i||(i={})),e.ValueType=i,e.findValueInObject=l,e.findValue=function t(e,n){var r=n.shift();if(!r)return{value:s(e,!0).options,type:i.Complex};var c=o.parseOptionName(r);if(c.name in e.options)return l(c.isCollectionItem?e.options[c.name][c.index]:e.options[c.name],n);if(c.isCollectionItem){var u=e.configCollections[c.name];if(!u)return;var h=u[c.index];if(!h)return;return t(h,n)}var d=e.configs[c.name];if(d)return t(d,n);var p=e.configCollections[c.name];if(p){if(0!==n.length)return;return{value:p.map(function(t){return a(t,{},!0)}),type:i.Array}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.separateProps=e.getClassName=e.elementPropNames=void 0;var i=["style","id"];e.elementPropNames=i;var o="className";e.separateProps=function(t,e,n){var r={},a={},s={},l={};return(n=n||[]).forEach(function(t){l[t.component]=!0,l[t.render]=!0}),Object.keys(t).forEach(function(n){var c,u=e?e[n]:null;"children"===(c=n)||c===o||i.indexOf(c)>-1||(u?r[u]=t[n]:l[n]?s[n]=t[n]:a[n]=t[n])}),{options:a,defaults:r,templates:s}},e.getClassName=function(t){return t[o]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementType=e.getElementInfo=void 0;var i,o=n(276);!function(t){t[t.Option=0]="Option",t[t.Template=1]="Template",t[t.Unknown=2]="Unknown"}(i||(i={})),e.ElementType=i,e.getElementInfo=function(t,e){var n=t;if(!n||!n.type)return{type:i.Unknown};if(n.type===o.Template)return{type:i.Template,props:n.props};var r=n.type;if(r.OptionName){var a=r.OptionName,s=r.IsCollectionItem,l=e&&e[a];return l&&(s=l.isCollectionItem,l.optionName&&(a=l.optionName)),{type:i.Option,descriptor:{name:a,isCollection:s,templates:r.TemplateProps||[],initialValuesProps:r.DefaultsProps||{},predefinedValuesProps:r.PredefinedProps||{},expectedChildren:r.ExpectedChildren||{}},props:n.props}}return{type:i.Unknown}}},function(t,e,n){"use strict";var i=n(2),o=n(7),r=n(54),a=n(3),s=n(42),l=n(176),c=n(20),u=n(26),h=n(71),d=n(10),p=h.a.inherit({_supportedKeys:function(){return Object(a.a)(this.callBase(),{space:function(t){t.preventDefault(),this._clickAction({event:t})}})},_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,value:!1})},_canValueBeChangedByClick:function(){return!0},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===c.a.real().deviceType&&!c.a.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this.$element().addClass("dx-radiobutton")},_initMarkup:function(){this.callBase(),this._renderIcon(),this._renderCheckedState(this.option("value")),this._renderClick(),this.setAria("role","radio")},_renderIcon:function(){this._$icon=Object(i.a)("<div>").addClass("dx-radiobutton-icon"),Object(i.a)("<div>").addClass("dx-radiobutton-icon-dot").appendTo(this._$icon),this.$element().append(this._$icon)},_renderCheckedState:function(t){this.$element().toggleClass("dx-radiobutton-checked",t).find(".dx-radiobutton-icon").toggleClass("dx-radiobutton-icon-checked",t),this.setAria("checked",t)},_renderClick:function(){var t=Object(d.a)(r.a,this.NAME);this._clickAction=this._createAction(function(t){this._clickHandler(t.event)}.bind(this)),o.a.off(this.$element(),t),o.a.on(this.$element(),t,function(t){this._clickAction({event:t})}.bind(this))},_clickHandler:function(t){this._saveValueChangeEvent(t),this.option("value",!0)},_optionChanged:function(t){switch(t.name){case"value":this._renderCheckedState(t.value),this.callBase(t);break;default:this.callBase(t)}}});Object(u.a)("dxRadioButton",p);var f=p,m=n(210),g=n(11),v=n(5),y=n(32),_=n(123),b=Object(d.a)(_.b,"dxListEditDecorator"),C=Object(d.a)(_.c,"dxListEditDecorator"),O=Object(d.a)(_.a,"dxListEditDecorator"),x=y.a.inherit({ctor:function(t){this._list=t,this._init()},_init:v.noop,_shouldHandleSwipe:!1,_attachSwipeEvent:function(t){var e={itemSizeFunc:function(){return this._clearSwipeCache&&(this._itemWidthCache=Object(g.k)(this._list.$element()),this._clearSwipeCache=!1),this._itemWidthCache}.bind(this)};o.a.on(t.$itemElement,b,e,this._itemSwipeStartHandler.bind(this)),o.a.on(t.$itemElement,C,this._itemSwipeUpdateHandler.bind(this)),o.a.on(t.$itemElement,O,this._itemSwipeEndHandler.bind(this))},_itemSwipeStartHandler:function(t){var e=Object(i.a)(t.currentTarget);e.is(".dx-state-disabled, .dx-state-disabled *")?t.cancel=!0:(clearTimeout(this._list._inkRippleTimer),this._swipeStartHandler(e,t))},_itemSwipeUpdateHandler:function(t){var e=Object(i.a)(t.currentTarget);this._swipeUpdateHandler(e,t)},_itemSwipeEndHandler:function(t){var e=Object(i.a)(t.currentTarget);this._swipeEndHandler(e,t),this._clearSwipeCache=!0},beforeBag:v.noop,afterBag:v.noop,_commonOptions:function(){return{activeStateEnabled:this._list.option("activeStateEnabled"),hoverStateEnabled:this._list.option("hoverStateEnabled"),focusStateEnabled:this._list.option("focusStateEnabled")}},modifyElement:function(t){this._shouldHandleSwipe&&(this._attachSwipeEvent(t),this._clearSwipeCache=!0)},afterRender:v.noop,handleClick:v.noop,handleKeyboardEvents:v.noop,handleEnterPressing:v.noop,handleContextMenu:v.noop,_swipeStartHandler:v.noop,_swipeUpdateHandler:v.noop,_swipeEndHandler:v.noop,visibilityChange:v.noop,getExcludedSelectors:v.noop,dispose:v.noop}),S=Object(d.a)(r.a,"dxListEditDecorator");Object(m.a)("selection","default",x.inherit({_init:function(){this.callBase.apply(this,arguments);var t=this._list.option("selectionMode");this._singleStrategy="single"===t,this._containerClass=this._singleStrategy?"dx-list-select-radiobutton-container":"dx-list-select-checkbox-container",this._controlClass=this._singleStrategy?"dx-list-select-radiobutton":"dx-list-select-checkbox",this._controlWidget=this._singleStrategy?f:l.a,this._list.$element().addClass("dx-list-select-decorator-enabled")},beforeBag:function(t){var e=t.$itemElement,n=t.$container.addClass(this._containerClass),o=Object(i.a)("<div>").addClass(this._controlClass).appendTo(n);new this._controlWidget(o,Object(a.a)(this._commonOptions(),{value:this._isSelected(e),focusStateEnabled:!1,hoverStateEnabled:!1,onValueChanged:function(t){t.event&&this._list._saveSelectionChangeEvent(t.event),this._processCheckedState(e,t.value),t.event&&t.event.stopPropagation()}.bind(this)}))},modifyElement:function(t){this.callBase.apply(this,arguments);var e=t.$itemElement,n=this._controlWidget.getInstance(e.find("."+this._controlClass));o.a.on(e,"stateChanged",function(t,e){n.option("value",e)}.bind(this))},_updateSelectAllState:function(){this._$selectAll&&this._selectAllCheckBox.option("value",this._list.isSelectAll())},afterRender:function(){"all"===this._list.option("selectionMode")&&(this._$selectAll?this._updateSelectAllState():this._renderSelectAll())},handleKeyboardEvents:function(t,e){var n=!e,i=this._list,o=this._$selectAll,r=i._getLastItemIndex();return!(!o||!(e&&0===t||n&&t===r))&&(i.option("focusedElement",o),i.scrollToItem(i.option("focusedElement")),!0)},handleEnterPressing:function(t){if(this._$selectAll&&this._$selectAll.hasClass("dx-state-focused"))return t.target=this._$selectAll.get(0),this._list._saveSelectionChangeEvent(t),this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value")),!0},_renderSelectAll:function(){var t=this._$selectAll=Object(i.a)("<div>").addClass("dx-list-select-all"),e=this._list,n=e._supportedKeys().downArrow.bind(e);this._selectAllCheckBox=e._createComponent(Object(i.a)("<div>").addClass("dx-list-select-all-checkbox").appendTo(t),l.a,{focusStateEnabled:!1,hoverStateEnabled:!1}),this._selectAllCheckBox.registerKeyHandler("downArrow",n),Object(i.a)("<div>").addClass("dx-list-select-all-label").text(this._list.option("selectAllText")).appendTo(t),this._list.itemsContainer().prepend(t),this._updateSelectAllState(),this._attachSelectAllHandler()},_attachSelectAllHandler:function(){this._selectAllCheckBox.option("onValueChanged",this._selectAllHandler.bind(this)),o.a.off(this._$selectAll,S),o.a.on(this._$selectAll,S,this._selectAllClickHandler.bind(this))},_selectAllHandler:function(t){t.event&&t.event.stopPropagation();var e=this._selectAllCheckBox.option("value");t.event&&this._list._saveSelectionChangeEvent(t.event),!0===e?this._selectAllItems():!1===e&&this._unselectAllItems(),this._list._createActionByOption("onSelectAllValueChanged")({value:e})},_checkSelectAllCapability:function(){var t=this._list,e=t._dataController;return!("allPages"===t.option("selectAllMode")&&t.option("grouped")&&!e.group())||(s.a.log("W1010"),!1)},_selectAllItems:function(){this._checkSelectAllCapability()&&this._list._selection.selectAll("page"===this._list.option("selectAllMode"))},_unselectAllItems:function(){this._checkSelectAllCapability()&&this._list._selection.deselectAll("page"===this._list.option("selectAllMode"))},_selectAllClickHandler:function(t){this._list._saveSelectionChangeEvent(t),this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value"))},_isSelected:function(t){return this._list.isItemSelected(t)},_processCheckedState:function(t,e){e?this._list.selectItem(t):this._list.unselectItem(t)},dispose:function(){this._disposeSelectAll(),this._list.$element().removeClass("dx-list-select-decorator-enabled"),this.callBase.apply(this,arguments)},_disposeSelectAll:function(){this._$selectAll&&(this._$selectAll.remove(),this._$selectAll=null)}}))},function(t,e,n){"use strict";var i=n(218);e.createRoot=i.createRoot,e.hydrateRoot=i.hydrateRoot},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return ut});var i=n(60),o=n.n(i),r=n(235),a=n.n(r),s=n(236),l=n.n(s),c=n(4),u=n.n(c),h=n(237),d=n.n(h),p="bodyAttributes",f="htmlAttributes",m="titleAttributes",g={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},v=(Object.keys(g).map(function(t){return g[t]}),"charset"),y="cssText",_="href",b="http-equiv",C="innerHTML",O="itemprop",x="name",S="property",w="rel",P="src",k="target",E={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},T="defaultTitle",I="defer",j="encodeSpecialCharacters",M="onChangeClientState",D="titleTemplate",A=Object.keys(E).reduce(function(t,e){return t[E[e]]=e,t},{}),R=[g.NOSCRIPT,g.SCRIPT,g.STYLE],B="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},N=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),z=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},F=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},H=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e},V=function(t){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},U=function(t){var e=q(t,g.TITLE),n=q(t,D);if(n&&e)return n.replace(/%s/g,function(){return Array.isArray(e)?e.join(""):e});var i=q(t,T);return e||i||void 0},W=function(t){return q(t,M)||function(){}},K=function(t,e){return e.filter(function(e){return"undefined"!==typeof e[t]}).map(function(e){return e[t]}).reduce(function(t,e){return z({},t,e)},{})},$=function(t,e){return e.filter(function(t){return"undefined"!==typeof t[g.BASE]}).map(function(t){return t[g.BASE]}).reverse().reduce(function(e,n){if(!e.length)for(var i=Object.keys(n),o=0;o<i.length;o++){var r=i[o].toLowerCase();if(-1!==t.indexOf(r)&&n[r])return e.concat(n)}return e},[])},G=function(t,e,n){var i={};return n.filter(function(e){return!!Array.isArray(e[t])||("undefined"!==typeof e[t]&&J("Helmet: "+t+' should be of type "Array". Instead found type "'+B(e[t])+'"'),!1)}).map(function(e){return e[t]}).reverse().reduce(function(t,n){var o={};n.filter(function(t){for(var n=void 0,r=Object.keys(t),a=0;a<r.length;a++){var s=r[a],l=s.toLowerCase();-1===e.indexOf(l)||n===w&&"canonical"===t[n].toLowerCase()||l===w&&"stylesheet"===t[l].toLowerCase()||(n=l),-1===e.indexOf(s)||s!==C&&s!==y&&s!==O||(n=s)}if(!n||!t[n])return!1;var c=t[n].toLowerCase();return i[n]||(i[n]={}),o[n]||(o[n]={}),!i[n][c]&&(o[n][c]=!0,!0)}).reverse().forEach(function(e){return t.push(e)});for(var r=Object.keys(o),a=0;a<r.length;a++){var s=r[a],l=d()({},i[s],o[s]);i[s]=l}return t},[]).reverse()},q=function(t,e){for(var n=t.length-1;n>=0;n--){var i=t[n];if(i.hasOwnProperty(e))return i[e]}return null},Z=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Z(e)},0)}}(),Y=function(t){return clearTimeout(t)},X="undefined"!==typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Z:t.requestAnimationFrame||Z,Q="undefined"!==typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Y:t.cancelAnimationFrame||Y,J=function(t){return console&&"function"===typeof console.warn&&console.warn(t)},tt=null,et=function(t,e){var n=t.baseTag,i=t.bodyAttributes,o=t.htmlAttributes,r=t.linkTags,a=t.metaTags,s=t.noscriptTags,l=t.onChangeClientState,c=t.scriptTags,u=t.styleTags,h=t.title,d=t.titleAttributes;ot(g.BODY,i),ot(g.HTML,o),it(h,d);var p={baseTag:rt(g.BASE,n),linkTags:rt(g.LINK,r),metaTags:rt(g.META,a),noscriptTags:rt(g.NOSCRIPT,s),scriptTags:rt(g.SCRIPT,c),styleTags:rt(g.STYLE,u)},f={},m={};Object.keys(p).forEach(function(t){var e=p[t],n=e.newTags,i=e.oldTags;n.length&&(f[t]=n),i.length&&(m[t]=p[t].oldTags)}),e&&e(),l(t,f,m)},nt=function(t){return Array.isArray(t)?t.join(""):t},it=function(t,e){"undefined"!==typeof t&&document.title!==t&&(document.title=nt(t)),ot(g.TITLE,e)},ot=function(t,e){var n=document.getElementsByTagName(t)[0];if(n){for(var i=n.getAttribute("data-react-helmet"),o=i?i.split(","):[],r=[].concat(o),a=Object.keys(e),s=0;s<a.length;s++){var l=a[s],c=e[l]||"";n.getAttribute(l)!==c&&n.setAttribute(l,c),-1===o.indexOf(l)&&o.push(l);var u=r.indexOf(l);-1!==u&&r.splice(u,1)}for(var h=r.length-1;h>=0;h--)n.removeAttribute(r[h]);o.length===r.length?n.removeAttribute("data-react-helmet"):n.getAttribute("data-react-helmet")!==a.join(",")&&n.setAttribute("data-react-helmet",a.join(","))}},rt=function(t,e){var n=document.head||document.querySelector(g.HEAD),i=n.querySelectorAll(t+"[data-react-helmet]"),o=Array.prototype.slice.call(i),r=[],a=void 0;return e&&e.length&&e.forEach(function(e){var n=document.createElement(t);for(var i in e)if(e.hasOwnProperty(i))if(i===C)n.innerHTML=e.innerHTML;else if(i===y)n.styleSheet?n.styleSheet.cssText=e.cssText:n.appendChild(document.createTextNode(e.cssText));else{var s="undefined"===typeof e[i]?"":e[i];n.setAttribute(i,s)}n.setAttribute("data-react-helmet","true"),o.some(function(t,e){return a=e,n.isEqualNode(t)})?o.splice(a,1):r.push(n)}),o.forEach(function(t){return t.parentNode.removeChild(t)}),r.forEach(function(t){return n.appendChild(t)}),{oldTags:o,newTags:r}},at=function(t){return Object.keys(t).reduce(function(e,n){var i="undefined"!==typeof t[n]?n+'="'+t[n]+'"':""+n;return e?e+" "+i:i},"")},st=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce(function(e,n){return e[E[n]||n]=t[n],e},e)},lt=function(t,e,n){switch(t){case g.TITLE:return{toComponent:function(){return function(t,e,n){var i,o=((i={key:e})["data-react-helmet"]=!0,i),r=st(n,o);return[u.a.createElement(g.TITLE,r,e)]}(0,e.title,e.titleAttributes)},toString:function(){return function(t,e,n,i){var o=at(n),r=nt(e);return o?"<"+t+' data-react-helmet="true" '+o+">"+V(r,i)+"</"+t+">":"<"+t+' data-react-helmet="true">'+V(r,i)+"</"+t+">"}(t,e.title,e.titleAttributes,n)}};case p:case f:return{toComponent:function(){return st(e)},toString:function(){return at(e)}};default:return{toComponent:function(){return function(t,e){return e.map(function(e,n){var i,o=((i={key:n})["data-react-helmet"]=!0,i);return Object.keys(e).forEach(function(t){var n=E[t]||t;if(n===C||n===y){var i=e.innerHTML||e.cssText;o.dangerouslySetInnerHTML={__html:i}}else o[n]=e[t]}),u.a.createElement(t,o)})}(t,e)},toString:function(){return function(t,e,n){return e.reduce(function(e,i){var o=Object.keys(i).filter(function(t){return!(t===C||t===y)}).reduce(function(t,e){var o="undefined"===typeof i[e]?e:e+'="'+V(i[e],n)+'"';return t?t+" "+o:o},""),r=i.innerHTML||i.cssText||"",a=-1===R.indexOf(t);return e+"<"+t+' data-react-helmet="true" '+o+(a?"/>":">"+r+"</"+t+">")},"")}(t,e,n)}}}},ct=function(t){var e=t.baseTag,n=t.bodyAttributes,i=t.encode,o=t.htmlAttributes,r=t.linkTags,a=t.metaTags,s=t.noscriptTags,l=t.scriptTags,c=t.styleTags,u=t.title,h=void 0===u?"":u,d=t.titleAttributes;return{base:lt(g.BASE,e,i),bodyAttributes:lt(p,n,i),htmlAttributes:lt(f,o,i),link:lt(g.LINK,r,i),meta:lt(g.META,a,i),noscript:lt(g.NOSCRIPT,s,i),script:lt(g.SCRIPT,l,i),style:lt(g.STYLE,c,i),title:lt(g.TITLE,{title:h,titleAttributes:d},i)}},ut=function(t){var e,n;return n=e=function(e){function n(){return L(this,n),H(this,e.apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e),n.prototype.shouldComponentUpdate=function(t){return!l()(this.props,t)},n.prototype.mapNestedChildrenToProps=function(t,e){if(!e)return null;switch(t.type){case g.SCRIPT:case g.NOSCRIPT:return{innerHTML:e};case g.STYLE:return{cssText:e}}throw new Error("<"+t.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},n.prototype.flattenArrayTypeChildren=function(t){var e,n=t.child,i=t.arrayTypeChildren,o=t.newChildProps,r=t.nestedChildren;return z({},i,((e={})[n.type]=[].concat(i[n.type]||[],[z({},o,this.mapNestedChildrenToProps(n,r))]),e))},n.prototype.mapObjectTypeChildren=function(t){var e,n,i=t.child,o=t.newProps,r=t.newChildProps,a=t.nestedChildren;switch(i.type){case g.TITLE:return z({},o,((e={})[i.type]=a,e.titleAttributes=z({},r),e));case g.BODY:return z({},o,{bodyAttributes:z({},r)});case g.HTML:return z({},o,{htmlAttributes:z({},r)})}return z({},o,((n={})[i.type]=z({},r),n))},n.prototype.mapArrayTypeChildrenToProps=function(t,e){var n=z({},e);return Object.keys(t).forEach(function(e){var i;n=z({},n,((i={})[e]=t[e],i))}),n},n.prototype.warnOnInvalidChildren=function(t,e){return!0},n.prototype.mapChildrenToProps=function(t,e){var n=this,i={};return u.a.Children.forEach(t,function(t){if(t&&t.props){var o=t.props,r=o.children,a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce(function(e,n){return e[A[n]||n]=t[n],e},e)}(F(o,["children"]));switch(n.warnOnInvalidChildren(t,r),t.type){case g.LINK:case g.META:case g.NOSCRIPT:case g.SCRIPT:case g.STYLE:i=n.flattenArrayTypeChildren({child:t,arrayTypeChildren:i,newChildProps:a,nestedChildren:r});break;default:e=n.mapObjectTypeChildren({child:t,newProps:e,newChildProps:a,nestedChildren:r})}}}),e=this.mapArrayTypeChildrenToProps(i,e)},n.prototype.render=function(){var e=this.props,n=e.children,i=F(e,["children"]),o=z({},i);return n&&(o=this.mapChildrenToProps(n,o)),u.a.createElement(t,o)},N(n,null,[{key:"canUseDOM",set:function(e){t.canUseDOM=e}}]),n}(u.a.Component),e.propTypes={base:o.a.object,bodyAttributes:o.a.object,children:o.a.oneOfType([o.a.arrayOf(o.a.node),o.a.node]),defaultTitle:o.a.string,defer:o.a.bool,encodeSpecialCharacters:o.a.bool,htmlAttributes:o.a.object,link:o.a.arrayOf(o.a.object),meta:o.a.arrayOf(o.a.object),noscript:o.a.arrayOf(o.a.object),onChangeClientState:o.a.func,script:o.a.arrayOf(o.a.object),style:o.a.arrayOf(o.a.object),title:o.a.string,titleAttributes:o.a.object,titleTemplate:o.a.string},e.defaultProps={defer:!0,encodeSpecialCharacters:!0},e.peek=t.peek,e.rewind=function(){var e=t.rewind();return e||(e=ct({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),e},n}(a()(function(t){return{baseTag:$([_,k],t),bodyAttributes:K(p,t),defer:q(t,I),encode:q(t,j),htmlAttributes:K(f,t),linkTags:G(g.LINK,[w,_],t),metaTags:G(g.META,[x,v,b,S,O],t),noscriptTags:G(g.NOSCRIPT,[C],t),onChangeClientState:W(t),scriptTags:G(g.SCRIPT,[P,C],t),styleTags:G(g.STYLE,[y],t),title:U(t),titleAttributes:K(m,t)}},function(t){tt&&Q(tt),t.defer?tt=X(function(){et(t,function(){tt=null})}):(et(t),tt=null)},ct)(function(){return null}));ut.renderStatic=ut.rewind}).call(this,n(147))},function(t,e,n){"use strict";var i,o=n(4),r=(i=o)&&"object"===typeof i&&"default"in i?i.default:i;function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=!("undefined"===typeof window||!window.document||!window.document.createElement);t.exports=function(t,e,n){if("function"!==typeof t)throw new Error("Expected reducePropsToState to be a function.");if("function"!==typeof e)throw new Error("Expected handleStateChangeOnClient to be a function.");if("undefined"!==typeof n&&"function"!==typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(i){if("function"!==typeof i)throw new Error("Expected WrappedComponent to be a React component.");var l,c=[];function u(){l=t(c.map(function(t){return t.props})),h.canUseDOM?e(l):n&&(l=n(l))}var h=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,o.peek=function(){return l},o.rewind=function(){if(o.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var t=l;return l=void 0,c=[],t};var a=o.prototype;return a.UNSAFE_componentWillMount=function(){c.push(this),u()},a.componentDidUpdate=function(){u()},a.componentWillUnmount=function(){var t=c.indexOf(this);c.splice(t,1),u()},a.render=function(){return r.createElement(i,this.props)},o}(o.PureComponent);return a(h,"displayName","SideEffect("+function(t){return t.displayName||t.name||"Component"}(i)+")"),a(h,"canUseDOM",s),h}}},function(t,e){var n="undefined"!==typeof Element,i="function"===typeof Map,o="function"===typeof Set,r="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;t.exports=function(t,e){try{return function t(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var s,l,c,u;if(Array.isArray(e)){if((s=e.length)!=a.length)return!1;for(l=s;0!==l--;)if(!t(e[l],a[l]))return!1;return!0}if(i&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!t(l.value[1],a.get(l.value[0])))return!1;return!0}if(o&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((s=e.length)!=a.length)return!1;for(l=s;0!==l--;)if(e[l]!==a[l])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===a.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(n&&e instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!t(e[c[l]],a[c[l]]))return!1;return!0}return e!==e&&a!==a}(t,e)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}}},function(t,e,n){"use strict";var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(o){return!1}}()?Object.assign:function(t,e){for(var n,a,s=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))o.call(n,c)&&(s[c]=n[c]);if(i){a=i(n);for(var u=0;u<a.length;u++)r.call(n,a[u])&&(s[a[u]]=n[a[u]])}}return s}},,function(t,e){t.exports=function(t,e,n,i){var o=n?n.call(i,t,e):void 0;if(void 0!==o)return!!o;if(t===e)return!0;if("object"!==typeof t||!t||"object"!==typeof e||!e)return!1;var r=Object.keys(t),a=Object.keys(e);if(r.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(e),l=0;l<r.length;l++){var c=r[l];if(!s(c))return!1;var u=t[c],h=e[c];if(!1===(o=n?n.call(i,u,h,c):void 0)||void 0===o&&u!==h)return!1}return!0}},function(t,e,n){"use strict";e.a=function(t){function e(t,e,i){var o=e.trim().split(f);e=o;var r=o.length,a=t.length;switch(a){case 0:case 1:var s=0;for(t=0===a?"":t[0]+" ";s<r;++s)e[s]=n(t,e[s],i).trim();break;default:var l=s=0;for(e=[];s<r;++s)for(var c=0;c<a;++c)e[l++]=n(t[c]+" ",o[s],i).trim()}return e}function n(t,e,n){var i=e.charCodeAt(0);switch(33>i&&(i=(e=e.trim()).charCodeAt(0)),i){case 38:return e.replace(m,"$1"+t.trim());case 58:return t.trim()+e.replace(m,"$1"+t.trim());default:if(0<1*n&&0<e.indexOf("\f"))return e.replace(m,(58===t.charCodeAt(0)?"":"$1")+t.trim())}return t+e}function i(t,e,n,r){var a=t+";",s=2*e+3*n+4*r;if(944===s){t=a.indexOf(":",9)+1;var l=a.substring(t,a.length-1).trim();return l=a.substring(0,t).trim()+l+";",1===T||2===T&&o(l,1)?"-webkit-"+l+l:l}if(0===T||2===T&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(w,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return d.test(a)?a.replace(h,":-webkit-")+a.replace(h,":-moz-")+a:a;case 1e3:switch(e=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(e)){case 226:l=a.replace(_,"tb");break;case 232:l=a.replace(_,"tb-rl");break;case 220:l=a.replace(_,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(e=(a=t).length-10,s=(l=(33===a.charCodeAt(e)?a.substring(0,e):a).substring(t.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(O,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(O,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===S.test(t))return 115===(l=t.substring(t.indexOf(":")+1)).charCodeAt(0)?i(t.replace("stretch","fill-available"),e,n,r).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(t,e){var n=t.indexOf(1===e?":":"{"),i=t.substring(0,3!==e?n:10);return n=t.substring(n+1,t.length-1),D(2!==e?i:i.replace(x,"$1"),n,e)}function r(t,e){var n=i(e,e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2));return n!==e+";"?n.replace(C," or ($1)").substring(4):"("+e+")"}function a(t,e,n,i,o,r,a,s,c,u){for(var h,d=0,p=e;d<M;++d)switch(h=j[d].call(l,t,p,n,i,o,r,a,s,c,u)){case void 0:case!1:case!0:case null:break;default:p=h}if(p!==e)return p}function s(t){return void 0!==(t=t.prefix)&&(D=null,t?"function"!==typeof t?T=1:(T=2,D=t):T=0),s}function l(t,n){var s=t;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<M){var l=a(-1,n,s,s,k,P,0,0,0,0);void 0!==l&&"string"===typeof l&&(n=l)}var h=function t(n,s,l,h,d){for(var p,f,m,_,C,O=0,x=0,S=0,w=0,j=0,D=0,R=m=p=0,B=0,L=0,N=0,z=0,F=l.length,H=F-1,V="",U="",W="",K="";B<F;){if(f=l.charCodeAt(B),B===H&&0!==x+w+S+O&&(0!==x&&(f=47===x?10:47),w=S=O=0,F++,H++),0===x+w+S+O){if(B===H&&(0<L&&(V=V.replace(u,"")),0<V.trim().length)){switch(f){case 32:case 9:case 59:case 13:case 10:break;default:V+=l.charAt(B)}f=59}switch(f){case 123:for(p=(V=V.trim()).charCodeAt(0),m=1,z=++B;B<F;){switch(f=l.charCodeAt(B)){case 123:m++;break;case 125:m--;break;case 47:switch(f=l.charCodeAt(B+1)){case 42:case 47:t:{for(R=B+1;R<H;++R)switch(l.charCodeAt(R)){case 47:if(42===f&&42===l.charCodeAt(R-1)&&B+2!==R){B=R+1;break t}break;case 10:if(47===f){B=R+1;break t}}B=R}}break;case 91:f++;case 40:f++;case 34:case 39:for(;B++<H&&l.charCodeAt(B)!==f;);}if(0===m)break;B++}switch(m=l.substring(z,B),0===p&&(p=(V=V.replace(c,"").trim()).charCodeAt(0)),p){case 64:switch(0<L&&(V=V.replace(u,"")),f=V.charCodeAt(1)){case 100:case 109:case 115:case 45:L=s;break;default:L=I}if(z=(m=t(s,L,m,f,d+1)).length,0<M&&(C=a(3,m,L=e(I,V,N),s,k,P,z,f,d,h),V=L.join(""),void 0!==C&&0===(z=(m=C.trim()).length)&&(f=0,m="")),0<z)switch(f){case 115:V=V.replace(b,r);case 100:case 109:case 45:m=V+"{"+m+"}";break;case 107:m=(V=V.replace(g,"$1 $2"))+"{"+m+"}",m=1===T||2===T&&o("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=V+m,112===h&&(U+=m,m="")}else m="";break;default:m=t(s,e(s,V,N),m,h,d+1)}W+=m,m=N=L=R=p=0,V="",f=l.charCodeAt(++B);break;case 125:case 59:if(1<(z=(V=(0<L?V.replace(u,""):V).trim()).length))switch(0===R&&(p=V.charCodeAt(0),45===p||96<p&&123>p)&&(z=(V=V.replace(" ",":")).length),0<M&&void 0!==(C=a(1,V,s,n,k,P,U.length,h,d,h))&&0===(z=(V=C.trim()).length)&&(V="\0\0"),p=V.charCodeAt(0),f=V.charCodeAt(1),p){case 0:break;case 64:if(105===f||99===f){K+=V+l.charAt(B);break}default:58!==V.charCodeAt(z-1)&&(U+=i(V,p,f,V.charCodeAt(2)))}N=L=R=p=0,V="",f=l.charCodeAt(++B)}}switch(f){case 13:case 10:47===x?x=0:0===1+p&&107!==h&&0<V.length&&(L=1,V+="\0"),0<M*A&&a(0,V,s,n,k,P,U.length,h,d,h),P=1,k++;break;case 59:case 125:if(0===x+w+S+O){P++;break}default:switch(P++,_=l.charAt(B),f){case 9:case 32:if(0===w+O+x)switch(j){case 44:case 58:case 9:case 32:_="";break;default:32!==f&&(_=" ")}break;case 0:_="\\0";break;case 12:_="\\f";break;case 11:_="\\v";break;case 38:0===w+x+O&&(L=N=1,_="\f"+_);break;case 108:if(0===w+x+O+E&&0<R)switch(B-R){case 2:112===j&&58===l.charCodeAt(B-3)&&(E=j);case 8:111===D&&(E=D)}break;case 58:0===w+x+O&&(R=B);break;case 44:0===x+S+w+O&&(L=1,_+="\r");break;case 34:case 39:0===x&&(w=w===f?0:0===w?f:w);break;case 91:0===w+x+S&&O++;break;case 93:0===w+x+S&&O--;break;case 41:0===w+x+O&&S--;break;case 40:if(0===w+x+O){if(0===p)switch(2*j+3*D){case 533:break;default:p=1}S++}break;case 64:0===x+S+w+O+R+m&&(m=1);break;case 42:case 47:if(!(0<w+O+S))switch(x){case 0:switch(2*f+3*l.charCodeAt(B+1)){case 235:x=47;break;case 220:z=B,x=42}break;case 42:47===f&&42===j&&z+2!==B&&(33===l.charCodeAt(z+2)&&(U+=l.substring(z,B+1)),_="",x=0)}}0===x&&(V+=_)}D=j,j=f,B++}if(0<(z=U.length)){if(L=s,0<M&&void 0!==(C=a(2,U,L,n,k,P,z,h,d,h))&&0===(U=C).length)return K+U+W;if(U=L.join(",")+"{"+U+"}",0!==T*E){switch(2!==T||o(U,2)||(E=0),E){case 111:U=U.replace(y,":-moz-$1")+U;break;case 112:U=U.replace(v,"::-webkit-input-$1")+U.replace(v,"::-moz-$1")+U.replace(v,":-ms-input-$1")+U}E=0}}return K+U+W}(I,s,n,0,0);return 0<M&&void 0!==(l=a(-2,h,s,s,k,P,h.length,0,0,0))&&(h=l),E=0,P=k=1,h}var c=/^\0+/g,u=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,f=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,y=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,b=/\(\s*(.*)\s*\)/g,C=/([\s\S]*?);/g,O=/-self|flex-/g,x=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,w=/([^-])(image-set\()/,P=1,k=1,E=0,T=1,I=[],j=[],M=0,D=null,A=0;return l.use=function t(e){switch(e){case void 0:case null:M=j.length=0;break;default:if("function"===typeof e)j[M++]=e;else if("object"===typeof e)for(var n=0,i=e.length;n<i;++n)t(e[n]);else A=0|!!e}return t},l.set=s,void 0!==t&&s(t),l}},function(t,e,n){"use strict";e.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(t,e,n){(function(e,n,i,o){var r;t.exports=function t(e,n,i){function o(s,l){if(!n[s]){if(!e[s]){var c="function"==typeof r&&r;if(!l&&c)return r(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=n[s]={exports:{}};e[s][0].call(h.exports,function(t){var n=e[s][1][t];return o(n||t)},h,h.exports,t,e,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){"use strict";var i=t("./utils"),o=t("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(t){for(var e,n,o,a,s,l,c,u=[],h=0,d=t.length,p=d,f="string"!==i.getTypeOf(t);h<t.length;)p=d-h,o=f?(e=t[h++],n=h<d?t[h++]:0,h<d?t[h++]:0):(e=t.charCodeAt(h++),n=h<d?t.charCodeAt(h++):0,h<d?t.charCodeAt(h++):0),a=e>>2,s=(3&e)<<4|n>>4,l=1<p?(15&n)<<2|o>>6:64,c=2<p?63&o:64,u.push(r.charAt(a)+r.charAt(s)+r.charAt(l)+r.charAt(c));return u.join("")},n.decode=function(t){var e,n,i,a,s,l,c=0,u=0,h="data:";if(t.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var d,p=3*(t=t.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(t.charAt(t.length-1)===r.charAt(64)&&p--,t.charAt(t.length-2)===r.charAt(64)&&p--,p%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=o.uint8array?new Uint8Array(0|p):new Array(0|p);c<t.length;)e=r.indexOf(t.charAt(c++))<<2|(a=r.indexOf(t.charAt(c++)))>>4,n=(15&a)<<4|(s=r.indexOf(t.charAt(c++)))>>2,i=(3&s)<<6|(l=r.indexOf(t.charAt(c++))),d[u++]=e,64!==s&&(d[u++]=n),64!==l&&(d[u++]=i);return d}},{"./support":30,"./utils":32}],2:[function(t,e,n){"use strict";var i=t("./external"),o=t("./stream/DataWorker"),r=t("./stream/Crc32Probe"),a=t("./stream/DataLengthProbe");function s(t,e,n,i,o){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=i,this.compressedContent=o}s.prototype={getContentWorker:function(){var t=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(t,e,n){return t.pipe(new r).pipe(new a("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",e)},e.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,n){"use strict";var i=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,n){"use strict";var i=t("./utils"),o=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==i.getTypeOf(t)?function(t,e,n,i){var r=o,a=0+n;t^=-1;for(var s=0;s<a;s++)t=t>>>8^r[255&(t^e[s])];return-1^t}(0|e,t,t.length):function(t,e,n,i){var r=o,a=0+n;t^=-1;for(var s=0;s<a;s++)t=t>>>8^r[255&(t^e.charCodeAt(s))];return-1^t}(0|e,t,t.length):0}},{"./utils":32}],5:[function(t,e,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,e,n){"use strict";var i=null;i="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:i}},{lie:37}],7:[function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=t("pako"),r=t("./utils"),a=t("./stream/GenericWorker"),s=i?"uint8array":"array";function l(t,e){a.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}n.magic="\b\0",r.inherits(l,a),l.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(r.transformTo(s,t.data),!1)},l.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},n.compressWorker=function(t){return new l("Deflate",t)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e,n){"use strict";function i(t,e){var n,i="";for(n=0;n<e;n++)i+=String.fromCharCode(255&t),t>>>=8;return i}function o(t,e,n,o,a,u){var h,d,p=t.file,f=t.compression,m=u!==s.utf8encode,g=r.transformTo("string",u(p.name)),v=r.transformTo("string",s.utf8encode(p.name)),y=p.comment,_=r.transformTo("string",u(y)),b=r.transformTo("string",s.utf8encode(y)),C=v.length!==p.name.length,O=b.length!==y.length,x="",S="",w="",P=p.dir,k=p.date,E={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(E.crc32=t.crc32,E.compressedSize=t.compressedSize,E.uncompressedSize=t.uncompressedSize);var T=0;e&&(T|=8),m||!C&&!O||(T|=2048);var I=0,j=0;P&&(I|=16),"UNIX"===a?(j=798,I|=function(t,e){var n=t;return t||(n=33204),(65535&n)<<16}(p.unixPermissions)):(j=20,I|=(p.dosPermissions,0)),h=k.getUTCHours(),h<<=6,h|=k.getUTCMinutes(),h<<=5,h|=k.getUTCSeconds()/2,d=k.getUTCFullYear()-1980,d<<=4,d|=k.getUTCMonth()+1,d<<=5,d|=k.getUTCDate(),C&&(S=i(1,1)+i(l(g),4)+v,x+="up"+i(S.length,2)+S),O&&(w=i(1,1)+i(l(_),4)+b,x+="uc"+i(w.length,2)+w);var M="";return M+="\n\0",M+=i(T,2),M+=f.magic,M+=i(h,2),M+=i(d,2),M+=i(E.crc32,4),M+=i(E.compressedSize,4),M+=i(E.uncompressedSize,4),M+=i(g.length,2),M+=i(x.length,2),{fileRecord:c.LOCAL_FILE_HEADER+M+g+x,dirRecord:c.CENTRAL_FILE_HEADER+i(j,2)+M+i(_.length,2)+"\0\0\0\0"+i(I,4)+i(o,4)+g+x+_}}var r=t("../utils"),a=t("../stream/GenericWorker"),s=t("../utf8"),l=t("../crc32"),c=t("../signature");function u(t,e,n,i){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(u,a),u.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,a.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-i-1))/n:100}}))},u.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=o(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=o(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:function(t){return c.DATA_DESCRIPTOR+i(t.crc32,4)+i(t.compressedSize,4)+i(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,o=function(t,e,n,o,a){var s=r.transformTo("string",a(o));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(t,2)+i(t,2)+i(e,4)+i(n,4)+i(s.length,2)+s}(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:o,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},u.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(t){var e=this._sources;if(!a.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},u.prototype.lock=function(){a.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,n){"use strict";var i=t("../compressions"),o=t("./ZipFileWorker");n.generateWorker=function(t,e,n){var r=new o(e.streamFiles,n,e.platform,e.encodeFileName),a=0;try{t.forEach(function(t,n){a++;var o=function(t,e){var n=t||e,o=i[n];if(!o)throw new Error(n+" is not a valid compression method !");return o}(n.options.compression,e.compression),s=n.options.compressionOptions||e.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(o,s).withStreamInfo("file",{name:t,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(r)}),r.entriesCount=a}catch(t){r.error(t)}return r}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var t=new i;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.10.1",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=t("./external"),e.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,n){"use strict";var i=t("./utils"),o=t("./external"),r=t("./utf8"),a=t("./zipEntries"),s=t("./stream/Crc32Probe"),l=t("./nodejsUtils");function c(t){return new o.Promise(function(e,n){var i=t.decompressed.getContentWorker().pipe(new s);i.on("error",function(t){n(t)}).on("end",function(){i.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}e.exports=function(t,e){var n=this;return e=i.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),l.isNode&&l.isStream(t)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then(function(t){var n=new a(e);return n.load(t),n}).then(function(t){var n=[o.Promise.resolve(t)],i=t.files;if(e.checkCRC32)for(var r=0;r<i.length;r++)n.push(c(i[r]));return o.Promise.all(n)}).then(function(t){for(var o=t.shift(),r=o.files,a=0;a<r.length;a++){var s=r[a],l=s.fileNameStr,c=i.resolve(s.fileNameStr);n.file(c,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:e.createFolders}),s.dir||(n.file(c).unsafeOriginalName=l)}return o.zipComment.length&&(n.comment=o.zipComment),n})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,n){"use strict";var i=t("../utils"),o=t("../stream/GenericWorker");function r(t,e){o.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}i.inherits(r,o),r.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},r.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,n){"use strict";var i=t("readable-stream").Readable;function o(t,e,n){i.call(this,e),this._helper=t;var o=this;t.on("data",function(t,e){o.push(t)||o._helper.pause(),n&&n(e)}).on("error",function(t){o.emit("error",t)}).on("end",function(){o.push(null)})}t("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},e.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,n,i){"use strict";n.exports={isNode:"undefined"!=typeof e,newBufferFrom:function(t,n){if(e.from&&e.from!==Uint8Array.from)return e.from(t,n);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new e(t,n)},allocBuffer:function(t){if(e.alloc)return e.alloc(t);var n=new e(t);return n.fill(0),n},isBuffer:function(t){return e.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,n){"use strict";function i(t,e,n){var i,o=r.getTypeOf(e),s=r.extend(n||{},l);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(t=m(t)),s.createFolders&&(i=f(t))&&g.call(this,i,!0);var h="string"===o&&!1===s.binary&&!1===s.base64;n&&void 0!==n.binary||(s.binary=!h),(e instanceof c&&0===e.uncompressedSize||s.dir||!e||0===e.length)&&(s.base64=!1,s.binary=!0,e="",s.compression="STORE",o="string");var v=null;v=e instanceof c||e instanceof a?e:d.isNode&&d.isStream(e)?new p(t,e):r.prepareContent(t,e,s.binary,s.optimizedBinaryString,s.base64);var y=new u(t,v,s);this.files[t]=y}var o=t("./utf8"),r=t("./utils"),a=t("./stream/GenericWorker"),s=t("./stream/StreamHelper"),l=t("./defaults"),c=t("./compressedObject"),u=t("./zipObject"),h=t("./generate"),d=t("./nodejsUtils"),p=t("./nodejs/NodejsStreamInputAdapter"),f=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""},m=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},g=function(t,e){return e=void 0!==e?e:l.createFolders,t=m(t),this.files[t]||i.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function v(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,i;for(e in this.files)i=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,i)},filter:function(t){var e=[];return this.forEach(function(n,i){t(n,i)&&e.push(i)}),e},file:function(t,e,n){if(1!==arguments.length)return t=this.root+t,i.call(this,t,e,n),this;if(v(t)){var o=t;return this.filter(function(t,e){return!e.dir&&o.test(t)})}var r=this.files[this.root+t];return r&&!r.dir?r:null},folder:function(t){if(!t)return this;if(v(t))return this.filter(function(e,n){return n.dir&&t.test(e)});var e=this.root+t,n=g.call(this,e),i=this.clone();return i.root=n.name,i},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter(function(e,n){return n.name.slice(0,t.length)===t}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if((n=r.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");r.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var i=n.comment||this.comment||"";e=h.generateWorker(this,n,i)}catch(t){(e=new a("error")).error(t)}return new s(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,n){"use strict";e.exports=t("stream")},{stream:void 0}],17:[function(t,e,n){"use strict";var i=t("./DataReader");function o(t){i.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t("../utils").inherits(o,i),o.prototype.byteAt=function(t){return this.data[this.zero+t]},o.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),o=t.charCodeAt(3),r=this.length-4;0<=r;--r)if(this.data[r]===e&&this.data[r+1]===n&&this.data[r+2]===i&&this.data[r+3]===o)return r-this.zero;return-1},o.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),o=t.charCodeAt(3),r=this.readData(4);return e===r[0]&&n===r[1]&&i===r[2]&&o===r[3]},o.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,e,n){"use strict";var i=t("../utils");function o(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=o},{"../utils":32}],19:[function(t,e,n){"use strict";var i=t("./Uint8ArrayReader");function o(t){i.call(this,t)}t("../utils").inherits(o,i),o.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,n){"use strict";var i=t("./DataReader");function o(t){i.call(this,t)}t("../utils").inherits(o,i),o.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},o.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},o.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},o.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,e,n){"use strict";var i=t("./ArrayReader");function o(t){i.call(this,t)}t("../utils").inherits(o,i),o.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,n){"use strict";var i=t("../utils"),o=t("../support"),r=t("./ArrayReader"),a=t("./StringReader"),s=t("./NodeBufferReader"),l=t("./Uint8ArrayReader");e.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),"string"!==e||o.uint8array?"nodebuffer"===e?new s(t):o.uint8array?new l(i.transformTo("uint8array",t)):new r(i.transformTo("array",t)):new a(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,e,n){"use strict";var i=t("./GenericWorker"),o=t("../utils");function r(t){i.call(this,"ConvertWorker to "+t),this.destType=t}o.inherits(r,i),r.prototype.processChunk=function(t){this.push({data:o.transformTo(this.destType,t.data),meta:t.meta})},e.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,n){"use strict";var i=t("./GenericWorker"),o=t("../crc32");function r(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(r,i),r.prototype.processChunk=function(t){this.streamInfo.crc32=o(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,n){"use strict";var i=t("../utils"),o=t("./GenericWorker");function r(t){o.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}i.inherits(r,o),r.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}o.prototype.processChunk.call(this,t)},e.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,n){"use strict";var i=t("../utils"),o=t("./GenericWorker");function r(t){o.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=i.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}i.inherits(r,o),r.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,n){"use strict";function i(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=i},{}],29:[function(t,n,i){"use strict";var o=t("../utils"),r=t("./ConvertWorker"),a=t("./GenericWorker"),s=t("../base64"),l=t("../support"),c=t("../external"),u=null;if(l.nodestream)try{u=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}function h(t,e,n){var i=e;switch(e){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=e,this._mimeType=n,o.checkSupport(i),this._worker=t.pipe(new r(i)),t.lock()}catch(t){this._worker=new a("error"),this._worker.error(t)}}h.prototype={accumulate:function(t){return function(t,n){return new c.Promise(function(i,r){var a=[],l=t._internalType,c=t._outputType,u=t._mimeType;t.on("data",function(t,e){a.push(t),n&&n(e)}).on("error",function(t){a=[],r(t)}).on("end",function(){try{var t=function(t,e,n){switch(t){case"blob":return o.newBlob(o.transformTo("arraybuffer",e),n);case"base64":return s.encode(e);default:return o.transformTo(t,e)}}(c,function(t,n){var i,o=0,r=null,a=0;for(i=0;i<n.length;i++)a+=n[i].length;switch(t){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(r=new Uint8Array(a),i=0;i<n.length;i++)r.set(n[i],o),o+=n[i].length;return r;case"nodebuffer":return e.concat(n);default:throw new Error("concat : unsupported type '"+t+"'")}}(l,a),u);i(t)}catch(t){r(t)}a=[]}).resume()})}(this,t)},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,function(t){e.call(n,t.data,t.meta)}):this._worker.on(t,function(){o.delay(e,arguments,n)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(o.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},t)}},n.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,i){"use strict";if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,i.nodebuffer="undefined"!=typeof e,i.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=0===new Blob([o],{type:"application/zip"}).size}catch(t){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(o),i.blob=0===r.getBlob("application/zip").size}catch(t){i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch(t){i.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,n){"use strict";for(var i=t("./utils"),o=t("./support"),r=t("./nodejsUtils"),a=t("./stream/GenericWorker"),s=new Array(256),l=0;l<256;l++)s[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function c(){a.call(this,"utf-8 decode"),this.leftOver=null}function u(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(t){return o.nodebuffer?r.newBufferFrom(t,"utf-8"):function(t){var e,n,i,r,a,s=t.length,l=0;for(r=0;r<s;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=o.uint8array?new Uint8Array(l):new Array(l),r=a=0;a<l;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?e[a++]=n:(n<2048?e[a++]=192|n>>>6:(n<65536?e[a++]=224|n>>>12:(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63),e[a++]=128|n>>>6&63),e[a++]=128|63&n);return e}(t)},n.utf8decode=function(t){return o.nodebuffer?i.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,n,o,r,a=t.length,l=new Array(2*a);for(e=n=0;e<a;)if((o=t[e++])<128)l[n++]=o;else if(4<(r=s[o]))l[n++]=65533,e+=r-1;else{for(o&=2===r?31:3===r?15:7;1<r&&e<a;)o=o<<6|63&t[e++],r--;1<r?l[n++]=65533:o<65536?l[n++]=o:(o-=65536,l[n++]=55296|o>>10&1023,l[n++]=56320|1023&o)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),i.applyFromCharCode(l)}(t=i.transformTo(o.uint8array?"uint8array":"array",t))},i.inherits(c,a),c.prototype.processChunk=function(t){var e=i.transformTo(o.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var r=e;(e=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),e.set(r,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var a=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+s[t[n]]>e?n:e}(e),l=e;a!==e.length&&(o.uint8array?(l=e.subarray(0,a),this.leftOver=e.subarray(a,e.length)):(l=e.slice(0,a),this.leftOver=e.slice(a,e.length))),this.push({data:n.utf8decode(l),meta:t.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,i.inherits(u,a),u.prototype.processChunk=function(t){this.push({data:n.utf8encode(t.data),meta:t.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,i){"use strict";var o=t("./support"),r=t("./base64"),a=t("./nodejsUtils"),s=t("./external");function l(t){return t}function c(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}t("setimmediate"),i.newBlob=function(e,n){i.checkSupport("blob");try{return new Blob([e],{type:n})}catch(t){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return o.append(e),o.getBlob(n)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(t,e,n){var i=[],o=0,r=t.length;if(r<=n)return String.fromCharCode.apply(null,t);for(;o<r;)"array"===e||"nodebuffer"===e?i.push(String.fromCharCode.apply(null,t.slice(o,Math.min(o+n,r)))):i.push(String.fromCharCode.apply(null,t.subarray(o,Math.min(o+n,r)))),o+=n;return i.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(t){return!1}}()}};function h(t){var e=65536,n=i.getTypeOf(t),o=!0;if("uint8array"===n?o=u.applyCanBeUsed.uint8array:"nodebuffer"===n&&(o=u.applyCanBeUsed.nodebuffer),o)for(;1<e;)try{return u.stringifyByChunk(t,n,e)}catch(t){e=Math.floor(e/2)}return u.stringifyByChar(t)}function d(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}i.applyFromCharCode=h;var p={};p.string={string:l,array:function(t){return c(t,new Array(t.length))},arraybuffer:function(t){return p.string.uint8array(t).buffer},uint8array:function(t){return c(t,new Uint8Array(t.length))},nodebuffer:function(t){return c(t,a.allocBuffer(t.length))}},p.array={string:h,array:l,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return a.newBufferFrom(t)}},p.arraybuffer={string:function(t){return h(new Uint8Array(t))},array:function(t){return d(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:l,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return a.newBufferFrom(new Uint8Array(t))}},p.uint8array={string:h,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:l,nodebuffer:function(t){return a.newBufferFrom(t)}},p.nodebuffer={string:h,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return p.nodebuffer.uint8array(t).buffer},uint8array:function(t){return d(t,new Uint8Array(t.length))},nodebuffer:l},i.transformTo=function(t,e){if(e=e||"",!t)return e;i.checkSupport(t);var n=i.getTypeOf(e);return p[n][t](e)},i.resolve=function(t){for(var e=t.split("/"),n=[],i=0;i<e.length;i++){var o=e[i];"."===o||""===o&&0!==i&&i!==e.length-1||(".."===o?n.pop():n.push(o))}return n.join("/")},i.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":o.nodebuffer&&a.isBuffer(t)?"nodebuffer":o.uint8array&&t instanceof Uint8Array?"uint8array":o.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(t){if(!o[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(t){var e,n,i="";for(n=0;n<(t||"").length;n++)i+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return i},i.delay=function(t,e,i){n(function(){t.apply(i||null,e||[])})},i.inherits=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n},i.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},i.prepareContent=function(t,e,n,a,l){return s.Promise.resolve(e).then(function(t){return o.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new s.Promise(function(e,n){var i=new FileReader;i.onload=function(t){e(t.target.result)},i.onerror=function(t){n(t.target.error)},i.readAsArrayBuffer(t)}):t}).then(function(e){var u=i.getTypeOf(e);return u?("arraybuffer"===u?e=i.transformTo("uint8array",e):"string"===u&&(l?e=r.decode(e):n&&!0!==a&&(e=function(t){return c(t,o.uint8array?new Uint8Array(t.length):new Array(t.length))}(e))),e):s.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,e,n){"use strict";var i=t("./reader/readerFor"),o=t("./utils"),r=t("./signature"),a=t("./zipEntry"),s=t("./support");function l(t){this.files=[],this.loadOptions=t}l.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(e)+", expected "+o.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=s.uint8array?"uint8array":"array",n=o.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(t=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=e-n;if(0<i)this.isSignature(e,r.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){this.reader=i(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,e,n){"use strict";var i=t("./reader/readerFor"),o=t("./utils"),r=t("./compressedObject"),a=t("./crc32"),s=t("./utf8"),l=t("./compressions"),c=t("./support");function u(t,e){this.options=t,this.loadOptions=e}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in l)if(Object.prototype.hasOwnProperty.call(l,e)&&l[e].magic===t)return l[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var t=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(t){var e,n,i,o=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<o;)e=t.readInt(2),n=t.readInt(2),i=t.readData(n),this.extraFields[e]={id:e,length:n,value:i};t.setIndex(o)},handleUTF8:function(){var t=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=o.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var r=o.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:a(this.fileName)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:a(this.fileComment)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null}},e.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,n){"use strict";function i(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var o=t("./stream/StreamHelper"),r=t("./stream/DataWorker"),a=t("./utf8"),s=t("./compressedObject"),l=t("./stream/GenericWorker");i.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var i="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var r=!this._dataBinary;r&&!i&&(e=e.pipe(new a.Utf8EncodeWorker)),!r&&i&&(e=e.pipe(new a.Utf8DecodeWorker))}catch(t){(e=new l("error")).error(t)}return new o(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof s&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof l?this._data:new r(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<c.length;h++)i.prototype[c[h]]=u;e.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,n){(function(t){"use strict";var n,i,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var r=0,a=new o(u),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=r=++r%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){u(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(u,0)};else{var l=new t.MessageChannel;l.port1.onmessage=u,n=function(){l.port2.postMessage(0)}}var c=[];function u(){var t,e;i=!0;for(var n=c.length;n;){for(e=c,c=[],t=-1;++t<n;)e[t]();n=c.length}i=!1}e.exports=function(t){1!==c.push(t)||i||n()}}).call(this,"undefined"!=typeof i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(t,e,n){"use strict";var i=t("immediate");function o(){}var r={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function c(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,t!==o&&p(this,t)}function u(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(t,e,n){i(function(){var i;try{i=e(n)}catch(i){return r.reject(t,i)}i===t?r.reject(t,new TypeError("Cannot resolve promise with itself")):r.resolve(t,i)})}function d(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function p(t,e){var n=!1;function i(e){n||(n=!0,r.reject(t,e))}function o(e){n||(n=!0,r.resolve(t,e))}var a=f(function(){e(o,i)});"error"===a.status&&i(a.value)}function f(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}(e.exports=c).prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){throw n})})},c.prototype.catch=function(t){return this.then(null,t)},c.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===a)return this;var n=new this.constructor(o);return this.state!==l?h(n,this.state===s?t:e,this.outcome):this.queue.push(new u(n,t,e)),n},u.prototype.callFulfilled=function(t){r.resolve(this.promise,t)},u.prototype.otherCallFulfilled=function(t){h(this.promise,this.onFulfilled,t)},u.prototype.callRejected=function(t){r.reject(this.promise,t)},u.prototype.otherCallRejected=function(t){h(this.promise,this.onRejected,t)},r.resolve=function(t,e){var n=f(d,e);if("error"===n.status)return r.reject(t,n.value);var i=n.value;if(i)p(t,i);else{t.state=s,t.outcome=e;for(var o=-1,a=t.queue.length;++o<a;)t.queue[o].callFulfilled(e)}return t},r.reject=function(t,e){t.state=a,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},c.resolve=function(t){return t instanceof this?t:r.resolve(new this(o),t)},c.reject=function(t){var e=new this(o);return r.reject(e,t)},c.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,l=-1,c=new this(o);++l<n;)u(t[l],l);return c;function u(t,o){e.resolve(t).then(function(t){a[o]=t,++s!==n||i||(i=!0,r.resolve(c,a))},function(t){i||(i=!0,r.reject(c,t))})}},c.race=function(t){if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var e=t.length,n=!1;if(!e)return this.resolve([]);for(var i,a=-1,s=new this(o);++a<e;)i=t[a],this.resolve(i).then(function(t){n||(n=!0,r.resolve(s,t))},function(t){n||(n=!0,r.reject(s,t))});return s}},{immediate:36}],38:[function(t,e,n){"use strict";var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,n){"use strict";var i=t("./zlib/deflate"),o=t("./utils/common"),r=t("./utils/strings"),a=t("./zlib/messages"),s=t("./zlib/zstream"),l=Object.prototype.toString,c=0,u=-1,h=0,d=8;function p(t){if(!(this instanceof p))return new p(t);this.options=o.assign({level:u,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==c)throw new Error(a[n]);if(e.header&&i.deflateSetHeader(this.strm,e.header),e.dictionary){var f;if(f="string"==typeof e.dictionary?r.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=i.deflateSetDictionary(this.strm,f))!==c)throw new Error(a[n]);this._dict_set=!0}}function f(t,e){var n=new p(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}p.prototype.push=function(t,e){var n,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=r.string2buf(t):"[object ArrayBuffer]"===l.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new o.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=i.deflate(s,a))&&n!==c)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(r.buf2binstring(o.shrinkBuf(s.output,s.next_out))):this.onData(o.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===a?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==a||(this.onEnd(c),!(s.avail_out=0))},p.prototype.onData=function(t){this.chunks.push(t)},p.prototype.onEnd=function(t){t===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=p,n.deflate=f,n.deflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},n.gzip=function(t,e){return(e=e||{}).gzip=!0,f(t,e)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,n){"use strict";var i=t("./zlib/inflate"),o=t("./utils/common"),r=t("./utils/strings"),a=t("./zlib/constants"),s=t("./zlib/messages"),l=t("./zlib/zstream"),c=t("./zlib/gzheader"),u=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,e.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new c,i.inflateGetHeader(this.strm,this.header)}function d(t,e){var n=new h(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}h.prototype.push=function(t,e){var n,s,l,c,h,d,p=this.strm,f=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?p.input=r.binstring2buf(t):"[object ArrayBuffer]"===u.call(t)?p.input=new Uint8Array(t):p.input=t,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new o.Buf8(f),p.next_out=0,p.avail_out=f),(n=i.inflate(p,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&m&&(d="string"==typeof m?r.string2buf(m):"[object ArrayBuffer]"===u.call(m)?new Uint8Array(m):m,n=i.inflateSetDictionary(this.strm,d)),n===a.Z_BUF_ERROR&&!0===g&&(n=a.Z_OK,g=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0);p.next_out&&(0!==p.avail_out&&n!==a.Z_STREAM_END&&(0!==p.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=r.utf8border(p.output,p.next_out),c=p.next_out-l,h=r.buf2string(p.output,l),p.next_out=c,p.avail_out=f-c,c&&o.arraySet(p.output,p.output,l,c,0),this.onData(h)):this.onData(o.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(g=!0)}while((0<p.avail_in||0===p.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(p.avail_out=0))},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=h,n.inflate=d,n.inflateRaw=function(t,e){return(e=e||{}).raw=!0,d(t,e)},n.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,i,o){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),o);else for(var r=0;r<i;r++)t[o+r]=e[n+r]},flattenChunks:function(t){var e,n,i,o,r,a;for(e=i=0,n=t.length;e<n;e++)i+=t[e].length;for(a=new Uint8Array(i),e=o=0,n=t.length;e<n;e++)r=t[e],a.set(r,o),o+=r.length;return a}},r={arraySet:function(t,e,n,i,o){for(var r=0;r<i;r++)t[o+r]=e[n+r]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,r))},n.setTyped(i)},{}],42:[function(t,e,n){"use strict";var i=t("./common"),o=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){r=!1}for(var a=new i.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function l(t,e){if(e<65537&&(t.subarray&&r||!t.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n}a[254]=a[254]=1,n.string2buf=function(t){var e,n,o,r,a,s=t.length,l=0;for(r=0;r<s;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(o=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(o-56320),r++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(l),r=a=0;a<l;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(o=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(o-56320),r++),n<128?e[a++]=n:(n<2048?e[a++]=192|n>>>6:(n<65536?e[a++]=224|n>>>12:(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63),e[a++]=128|n>>>6&63),e[a++]=128|63&n);return e},n.buf2binstring=function(t){return l(t,t.length)},n.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,o=e.length;n<o;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,i,o,r,s=e||t.length,c=new Array(2*s);for(n=i=0;n<s;)if((o=t[n++])<128)c[i++]=o;else if(4<(r=a[o]))c[i++]=65533,n+=r-1;else{for(o&=2===r?31:3===r?15:7;1<r&&n<s;)o=o<<6|63&t[n++],r--;1<r?c[i++]=65533:o<65536?c[i++]=o:(o-=65536,c[i++]=55296|o>>10&1023,c[i++]=56320|1023&o)}return l(c,i)},n.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+a[t[n]]>e?n:e}},{"./common":41}],43:[function(t,e,n){"use strict";e.exports=function(t,e,n,i){for(var o=65535&t|0,r=t>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;r=r+(o=o+e[i++]|0)|0,--a;);o%=65521,r%=65521}return o|r<<16|0}},{}],44:[function(t,e,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,n){"use strict";var i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e,n,o){var r=i,a=o+n;t^=-1;for(var s=o;s<a;s++)t=t>>>8^r[255&(t^e[s])];return-1^t}},{}],46:[function(t,e,n){"use strict";var i,o=t("../utils/common"),r=t("./trees"),a=t("./adler32"),s=t("./crc32"),l=t("./messages"),c=0,u=4,h=0,d=-2,p=-1,f=4,m=2,g=8,v=9,y=286,_=30,b=19,C=2*y+1,O=15,x=3,S=258,w=S+x+1,P=42,k=113,E=1,T=2,I=3,j=4;function M(t,e){return t.msg=l[e],e}function D(t){return(t<<1)-(4<t?9:0)}function A(t){for(var e=t.length;0<=--e;)t[e]=0}function R(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(o.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function B(t,e){r._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,R(t.strm)}function L(t,e){t.pending_buf[t.pending++]=e}function N(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function z(t,e){var n,i,o=t.max_chain_length,r=t.strstart,a=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-w?t.strstart-(t.w_size-w):0,c=t.window,u=t.w_mask,h=t.prev,d=t.strstart+S,p=c[r+a-1],f=c[r+a];t.prev_length>=t.good_match&&(o>>=2),s>t.lookahead&&(s=t.lookahead);do{if(c[(n=e)+a]===f&&c[n+a-1]===p&&c[n]===c[r]&&c[++n]===c[r+1]){r+=2,n++;do{}while(c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&r<d);if(i=S-(d-r),r=d-S,a<i){if(t.match_start=e,s<=(a=i))break;p=c[r+a-1],f=c[r+a]}}}while((e=h[e&u])>l&&0!=--o);return a<=t.lookahead?a:t.lookahead}function F(t){var e,n,i,r,l,c,u,h,d,p,f=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=f+(f-w)){for(o.arraySet(t.window,t.window,f,f,0),t.match_start-=f,t.strstart-=f,t.block_start-=f,e=n=t.hash_size;i=t.head[--e],t.head[e]=f<=i?i-f:0,--n;);for(e=n=f;i=t.prev[--e],t.prev[e]=f<=i?i-f:0,--n;);r+=f}if(0===t.strm.avail_in)break;if(c=t.strm,u=t.window,h=t.strstart+t.lookahead,d=r,p=void 0,p=c.avail_in,d<p&&(p=d),n=0===p?0:(c.avail_in-=p,o.arraySet(u,c.input,c.next_in,p,h),1===c.state.wrap?c.adler=a(c.adler,u,p,h):2===c.state.wrap&&(c.adler=s(c.adler,u,p,h)),c.next_in+=p,c.total_in+=p,p),t.lookahead+=n,t.lookahead+t.insert>=x)for(l=t.strstart-t.insert,t.ins_h=t.window[l],t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+x-1])&t.hash_mask,t.prev[l&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=l,l++,t.insert--,!(t.lookahead+t.insert<x)););}while(t.lookahead<w&&0!==t.strm.avail_in)}function H(t,e){for(var n,i;;){if(t.lookahead<w){if(F(t),t.lookahead<w&&e===c)return E;if(0===t.lookahead)break}if(n=0,t.lookahead>=x&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-w&&(t.match_length=z(t,n)),t.match_length>=x)if(i=r._tr_tally(t,t.strstart-t.match_start,t.match_length-x),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=x){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(B(t,!1),0===t.strm.avail_out))return E}return t.insert=t.strstart<x-1?t.strstart:x-1,e===u?(B(t,!0),0===t.strm.avail_out?I:j):t.last_lit&&(B(t,!1),0===t.strm.avail_out)?E:T}function V(t,e){for(var n,i,o;;){if(t.lookahead<w){if(F(t),t.lookahead<w&&e===c)return E;if(0===t.lookahead)break}if(n=0,t.lookahead>=x&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=x-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-w&&(t.match_length=z(t,n),t.match_length<=5&&(1===t.strategy||t.match_length===x&&4096<t.strstart-t.match_start)&&(t.match_length=x-1)),t.prev_length>=x&&t.match_length<=t.prev_length){for(o=t.strstart+t.lookahead-x,i=r._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-x),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=o&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=x-1,t.strstart++,i&&(B(t,!1),0===t.strm.avail_out))return E}else if(t.match_available){if((i=r._tr_tally(t,0,t.window[t.strstart-1]))&&B(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return E}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=r._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<x-1?t.strstart:x-1,e===u?(B(t,!0),0===t.strm.avail_out?I:j):t.last_lit&&(B(t,!1),0===t.strm.avail_out)?E:T}function U(t,e,n,i,o){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=o}function W(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*C),this.dyn_dtree=new o.Buf16(2*(2*_+1)),this.bl_tree=new o.Buf16(2*(2*b+1)),A(this.dyn_ltree),A(this.dyn_dtree),A(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(O+1),this.heap=new o.Buf16(2*y+1),A(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*y+1),A(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function K(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=m,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?P:k,t.adler=2===e.wrap?0:1,e.last_flush=c,r._tr_init(e),h):M(t,d)}function $(t){var e=K(t);return e===h&&function(t){t.window_size=2*t.w_size,A(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=x-1,t.match_available=0,t.ins_h=0}(t.state),e}function G(t,e,n,i,r,a){if(!t)return d;var s=1;if(e===p&&(e=6),i<0?(s=0,i=-i):15<i&&(s=2,i-=16),r<1||v<r||n!==g||i<8||15<i||e<0||9<e||a<0||f<a)return M(t,d);8===i&&(i=9);var l=new W;return(t.state=l).strm=t,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+x-1)/x),l.window=new o.Buf8(2*l.w_size),l.head=new o.Buf16(l.hash_size),l.prev=new o.Buf16(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new o.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=a,l.method=n,$(t)}i=[new U(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(F(t),0===t.lookahead&&e===c)return E;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,B(t,!1),0===t.strm.avail_out))return E;if(t.strstart-t.block_start>=t.w_size-w&&(B(t,!1),0===t.strm.avail_out))return E}return t.insert=0,e===u?(B(t,!0),0===t.strm.avail_out?I:j):(t.strstart>t.block_start&&(B(t,!1),t.strm.avail_out),E)}),new U(4,4,8,4,H),new U(4,5,16,8,H),new U(4,6,32,32,H),new U(4,4,16,16,V),new U(8,16,32,32,V),new U(8,16,128,128,V),new U(8,32,128,256,V),new U(32,128,258,1024,V),new U(32,258,258,4096,V)],n.deflateInit=function(t,e){return G(t,e,g,15,8,0)},n.deflateInit2=G,n.deflateReset=$,n.deflateResetKeep=K,n.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?d:(t.state.gzhead=e,h):d},n.deflate=function(t,e){var n,o,a,l;if(!t||!t.state||5<e||e<0)return t?M(t,d):d;if(o=t.state,!t.output||!t.input&&0!==t.avail_in||666===o.status&&e!==u)return M(t,0===t.avail_out?-5:d);if(o.strm=t,n=o.last_flush,o.last_flush=e,o.status===P)if(2===o.wrap)t.adler=0,L(o,31),L(o,139),L(o,8),o.gzhead?(L(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),L(o,255&o.gzhead.time),L(o,o.gzhead.time>>8&255),L(o,o.gzhead.time>>16&255),L(o,o.gzhead.time>>24&255),L(o,9===o.level?2:2<=o.strategy||o.level<2?4:0),L(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(L(o,255&o.gzhead.extra.length),L(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=s(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(L(o,0),L(o,0),L(o,0),L(o,0),L(o,0),L(o,9===o.level?2:2<=o.strategy||o.level<2?4:0),L(o,3),o.status=k);else{var p=g+(o.w_bits-8<<4)<<8;p|=(2<=o.strategy||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(p|=32),p+=31-p%31,o.status=k,N(o,p),0!==o.strstart&&(N(o,t.adler>>>16),N(o,65535&t.adler)),t.adler=1}if(69===o.status)if(o.gzhead.extra){for(a=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),R(t),a=o.pending,o.pending!==o.pending_buf_size));)L(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),R(t),a=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,L(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),0===l&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),R(t),a=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,L(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),0===l&&(o.status=103)}else o.status=103;if(103===o.status&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&R(t),o.pending+2<=o.pending_buf_size&&(L(o,255&t.adler),L(o,t.adler>>8&255),t.adler=0,o.status=k)):o.status=k),0!==o.pending){if(R(t),0===t.avail_out)return o.last_flush=-1,h}else if(0===t.avail_in&&D(e)<=D(n)&&e!==u)return M(t,-5);if(666===o.status&&0!==t.avail_in)return M(t,-5);if(0!==t.avail_in||0!==o.lookahead||e!==c&&666!==o.status){var f=2===o.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(F(t),0===t.lookahead)){if(e===c)return E;break}if(t.match_length=0,n=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(B(t,!1),0===t.strm.avail_out))return E}return t.insert=0,e===u?(B(t,!0),0===t.strm.avail_out?I:j):t.last_lit&&(B(t,!1),0===t.strm.avail_out)?E:T}(o,e):3===o.strategy?function(t,e){for(var n,i,o,a,s=t.window;;){if(t.lookahead<=S){if(F(t),t.lookahead<=S&&e===c)return E;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=x&&0<t.strstart&&(i=s[o=t.strstart-1])===s[++o]&&i===s[++o]&&i===s[++o]){a=t.strstart+S;do{}while(i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&o<a);t.match_length=S-(a-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=x?(n=r._tr_tally(t,1,t.match_length-x),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(B(t,!1),0===t.strm.avail_out))return E}return t.insert=0,e===u?(B(t,!0),0===t.strm.avail_out?I:j):t.last_lit&&(B(t,!1),0===t.strm.avail_out)?E:T}(o,e):i[o.level].func(o,e);if(f!==I&&f!==j||(o.status=666),f===E||f===I)return 0===t.avail_out&&(o.last_flush=-1),h;if(f===T&&(1===e?r._tr_align(o):5!==e&&(r._tr_stored_block(o,0,0,!1),3===e&&(A(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),R(t),0===t.avail_out))return o.last_flush=-1,h}return e!==u?h:o.wrap<=0?1:(2===o.wrap?(L(o,255&t.adler),L(o,t.adler>>8&255),L(o,t.adler>>16&255),L(o,t.adler>>24&255),L(o,255&t.total_in),L(o,t.total_in>>8&255),L(o,t.total_in>>16&255),L(o,t.total_in>>24&255)):(N(o,t.adler>>>16),N(o,65535&t.adler)),R(t),0<o.wrap&&(o.wrap=-o.wrap),0!==o.pending?h:1)},n.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==P&&69!==e&&73!==e&&91!==e&&103!==e&&e!==k&&666!==e?M(t,d):(t.state=null,e===k?M(t,-3):h):d},n.deflateSetDictionary=function(t,e){var n,i,r,s,l,c,u,p,f=e.length;if(!t||!t.state)return d;if(2===(s=(n=t.state).wrap)||1===s&&n.status!==P||n.lookahead)return d;for(1===s&&(t.adler=a(t.adler,e,f,0)),n.wrap=0,f>=n.w_size&&(0===s&&(A(n.head),n.strstart=0,n.block_start=0,n.insert=0),p=new o.Buf8(n.w_size),o.arraySet(p,e,f-n.w_size,n.w_size,0),e=p,f=n.w_size),l=t.avail_in,c=t.next_in,u=t.input,t.avail_in=f,t.next_in=0,t.input=e,F(n);n.lookahead>=x;){for(i=n.strstart,r=n.lookahead-(x-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+x-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,--r;);n.strstart=i,n.lookahead=x-1,F(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=x-1,n.match_available=0,t.next_in=c,t.input=u,t.avail_in=l,n.wrap=s,h},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,n){"use strict";e.exports=function(t,e){var n,i,o,r,a,s,l,c,u,h,d,p,f,m,g,v,y,_,b,C,O,x,S,w,P;n=t.state,i=t.next_in,w=t.input,o=i+(t.avail_in-5),r=t.next_out,P=t.output,a=r-(e-t.avail_out),s=r+(t.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,h=n.wnext,d=n.window,p=n.hold,f=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{f<15&&(p+=w[i++]<<f,f+=8,p+=w[i++]<<f,f+=8),_=m[p&v];e:for(;;){if(p>>>=b=_>>>24,f-=b,0===(b=_>>>16&255))P[r++]=65535&_;else{if(!(16&b)){if(0==(64&b)){_=m[(65535&_)+(p&(1<<b)-1)];continue e}if(32&b){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}C=65535&_,(b&=15)&&(f<b&&(p+=w[i++]<<f,f+=8),C+=p&(1<<b)-1,p>>>=b,f-=b),f<15&&(p+=w[i++]<<f,f+=8,p+=w[i++]<<f,f+=8),_=g[p&y];n:for(;;){if(p>>>=b=_>>>24,f-=b,!(16&(b=_>>>16&255))){if(0==(64&b)){_=g[(65535&_)+(p&(1<<b)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(O=65535&_,f<(b&=15)&&(p+=w[i++]<<f,(f+=8)<b&&(p+=w[i++]<<f,f+=8)),l<(O+=p&(1<<b)-1)){t.msg="invalid distance too far back",n.mode=30;break t}if(p>>>=b,f-=b,(b=r-a)<O){if(u<(b=O-b)&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(S=d,(x=0)===h){if(x+=c-b,b<C){for(C-=b;P[r++]=d[x++],--b;);x=r-O,S=P}}else if(h<b){if(x+=c+h-b,(b-=h)<C){for(C-=b;P[r++]=d[x++],--b;);if(x=0,h<C){for(C-=b=h;P[r++]=d[x++],--b;);x=r-O,S=P}}}else if(x+=h-b,b<C){for(C-=b;P[r++]=d[x++],--b;);x=r-O,S=P}for(;2<C;)P[r++]=S[x++],P[r++]=S[x++],P[r++]=S[x++],C-=3;C&&(P[r++]=S[x++],1<C&&(P[r++]=S[x++]))}else{for(x=r-O;P[r++]=P[x++],P[r++]=P[x++],P[r++]=P[x++],2<(C-=3););C&&(P[r++]=P[x++],1<C&&(P[r++]=P[x++]))}break}}break}}while(i<o&&r<s);i-=C=f>>3,p&=(1<<(f-=C<<3))-1,t.next_in=i,t.next_out=r,t.avail_in=i<o?o-i+5:5-(i-o),t.avail_out=r<s?s-r+257:257-(r-s),n.hold=p,n.bits=f}},{}],49:[function(t,e,n){"use strict";var i=t("../utils/common"),o=t("./adler32"),r=t("./crc32"),a=t("./inffast"),s=t("./inftrees"),l=1,c=2,u=0,h=-2,d=1,p=852,f=592;function m(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=d,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new i.Buf32(p),e.distcode=e.distdyn=new i.Buf32(f),e.sane=1,e.back=-1,u):h}function y(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,v(t)):h}function _(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?h:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,y(t))):h}function b(t,e){var n,i;return t?(i=new g,(t.state=i).window=null,(n=_(t,e))!==u&&(t.state=null),n):h}var C,O,x=!0;function S(t){if(x){var e;for(C=new i.Buf32(512),O=new i.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(l,t.lens,0,288,C,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(c,t.lens,0,32,O,0,t.work,{bits:5}),x=!1}t.lencode=C,t.lenbits=9,t.distcode=O,t.distbits=5}function w(t,e,n,o){var r,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new i.Buf8(a.wsize)),o>=a.wsize?(i.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(o<(r=a.wsize-a.wnext)&&(r=o),i.arraySet(a.window,e,n-o,r,a.wnext),(o-=r)?(i.arraySet(a.window,e,n-o,o,0),a.wnext=o,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0}n.inflateReset=y,n.inflateReset2=_,n.inflateResetKeep=v,n.inflateInit=function(t){return b(t,15)},n.inflateInit2=b,n.inflate=function(t,e){var n,p,f,g,v,y,_,b,C,O,x,P,k,E,T,I,j,M,D,A,R,B,L,N,z=0,F=new i.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return h;12===(n=t.state).mode&&(n.mode=13),v=t.next_out,f=t.output,_=t.avail_out,g=t.next_in,p=t.input,y=t.avail_in,b=n.hold,C=n.bits,O=y,x=_,B=u;t:for(;;)switch(n.mode){case d:if(0===n.wrap){n.mode=13;break}for(;C<16;){if(0===y)break t;y--,b+=p[g++]<<C,C+=8}if(2&n.wrap&&35615===b){F[n.check=0]=255&b,F[1]=b>>>8&255,n.check=r(n.check,F,2,0),C=b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&b)<<8)+(b>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&b)){t.msg="unknown compression method",n.mode=30;break}if(C-=4,R=8+(15&(b>>>=4)),0===n.wbits)n.wbits=R;else if(R>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<R,t.adler=n.check=1,n.mode=512&b?10:12,C=b=0;break;case 2:for(;C<16;){if(0===y)break t;y--,b+=p[g++]<<C,C+=8}if(n.flags=b,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=b>>8&1),512&n.flags&&(F[0]=255&b,F[1]=b>>>8&255,n.check=r(n.check,F,2,0)),C=b=0,n.mode=3;case 3:for(;C<32;){if(0===y)break t;y--,b+=p[g++]<<C,C+=8}n.head&&(n.head.time=b),512&n.flags&&(F[0]=255&b,F[1]=b>>>8&255,F[2]=b>>>16&255,F[3]=b>>>24&255,n.check=r(n.check,F,4,0)),C=b=0,n.mode=4;case 4:for(;C<16;){if(0===y)break t;y--,b+=p[g++]<<C,C+=8}n.head&&(n.head.xflags=255&b,n.head.os=b>>8),512&n.flags&&(F[0]=255&b,F[1]=b>>>8&255,n.check=r(n.check,F,2,0)),C=b=0,n.mode=5;case 5:if(1024&n.flags){for(;C<16;){if(0===y)break t;y--,b+=p[g++]<<C,C+=8}n.length=b,n.head&&(n.head.extra_len=b),512&n.flags&&(F[0]=255&b,F[1]=b>>>8&255,n.check=r(n.check,F,2,0)),C=b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(y<(P=n.length)&&(P=y),P&&(n.head&&(R=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,p,g,P,R)),512&n.flags&&(n.check=r(n.check,p,P,g)),y-=P,g+=P,n.length-=P),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===y)break t;for(P=0;R=p[g+P++],n.head&&R&&n.length<65536&&(n.head.name+=String.fromCharCode(R)),R&&P<y;);if(512&n.flags&&(n.check=r(n.check,p,P,g)),y-=P,g+=P,R)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===y)break t;for(P=0;R=p[g+P++],n.head&&R&&n.length<65536&&(n.head.comment+=String.fromCharCode(R)),R&&P<y;);if(512&n.flags&&(n.check=r(n.check,p,P,g)),y-=P,g+=P,R)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;C<16;){if(0===y)break t;y--,b+=p[g++]<<C,C+=8}if(b!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}C=b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;C<32;){if(0===y)break t;y--,b+=p[g++]<<C,C+=8}t.adler=n.check=m(b),C=b=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=v,t.avail_out=_,t.next_in=g,t.avail_in=y,n.hold=b,n.bits=C,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){b>>>=7&C,C-=7&C,n.mode=27;break}for(;C<3;){if(0===y)break t;y--,b+=p[g++]<<C,C+=8}switch(n.last=1&b,C-=1,3&(b>>>=1)){case 0:n.mode=14;break;case 1:if(S(n),n.mode=20,6!==e)break;b>>>=2,C-=2;break t;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}b>>>=2,C-=2;break;case 14:for(b>>>=7&C,C-=7&C;C<32;){if(0===y)break t;y--,b+=p[g++]<<C,C+=8}if((65535&b)!=(b>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&b,C=b=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(P=n.length){if(y<P&&(P=y),_<P&&(P=_),0===P)break t;i.arraySet(f,p,g,P,v),y-=P,g+=P,_-=P,v+=P,n.length-=P;break}n.mode=12;break;case 17:for(;C<14;){if(0===y)break t;y--,b+=p[g++]<<C,C+=8}if(n.nlen=257+(31&b),b>>>=5,C-=5,n.ndist=1+(31&b),b>>>=5,C-=5,n.ncode=4+(15&b),b>>>=4,C-=4,286<n.nlen||30<n.ndist){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;C<3;){if(0===y)break t;y--,b+=p[g++]<<C,C+=8}n.lens[H[n.have++]]=7&b,b>>>=3,C-=3}for(;n.have<19;)n.lens[H[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,L={bits:n.lenbits},B=s(0,n.lens,0,19,n.lencode,0,n.work,L),n.lenbits=L.bits,B){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;I=(z=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,j=65535&z,!((T=z>>>24)<=C);){if(0===y)break t;y--,b+=p[g++]<<C,C+=8}if(j<16)b>>>=T,C-=T,n.lens[n.have++]=j;else{if(16===j){for(N=T+2;C<N;){if(0===y)break t;y--,b+=p[g++]<<C,C+=8}if(b>>>=T,C-=T,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}R=n.lens[n.have-1],P=3+(3&b),b>>>=2,C-=2}else if(17===j){for(N=T+3;C<N;){if(0===y)break t;y--,b+=p[g++]<<C,C+=8}C-=T,R=0,P=3+(7&(b>>>=T)),b>>>=3,C-=3}else{for(N=T+7;C<N;){if(0===y)break t;y--,b+=p[g++]<<C,C+=8}C-=T,R=0,P=11+(127&(b>>>=T)),b>>>=7,C-=7}if(n.have+P>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;P--;)n.lens[n.have++]=R}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,L={bits:n.lenbits},B=s(l,n.lens,0,n.nlen,n.lencode,0,n.work,L),n.lenbits=L.bits,B){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,L={bits:n.distbits},B=s(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,L),n.distbits=L.bits,B){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(6<=y&&258<=_){t.next_out=v,t.avail_out=_,t.next_in=g,t.avail_in=y,n.hold=b,n.bits=C,a(t,x),v=t.next_out,f=t.output,_=t.avail_out,g=t.next_in,p=t.input,y=t.avail_in,b=n.hold,C=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;I=(z=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,j=65535&z,!((T=z>>>24)<=C);){if(0===y)break t;y--,b+=p[g++]<<C,C+=8}if(I&&0==(240&I)){for(M=T,D=I,A=j;I=(z=n.lencode[A+((b&(1<<M+D)-1)>>M)])>>>16&255,j=65535&z,!(M+(T=z>>>24)<=C);){if(0===y)break t;y--,b+=p[g++]<<C,C+=8}b>>>=M,C-=M,n.back+=M}if(b>>>=T,C-=T,n.back+=T,n.length=j,0===I){n.mode=26;break}if(32&I){n.back=-1,n.mode=12;break}if(64&I){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&I,n.mode=22;case 22:if(n.extra){for(N=n.extra;C<N;){if(0===y)break t;y--,b+=p[g++]<<C,C+=8}n.length+=b&(1<<n.extra)-1,b>>>=n.extra,C-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;I=(z=n.distcode[b&(1<<n.distbits)-1])>>>16&255,j=65535&z,!((T=z>>>24)<=C);){if(0===y)break t;y--,b+=p[g++]<<C,C+=8}if(0==(240&I)){for(M=T,D=I,A=j;I=(z=n.distcode[A+((b&(1<<M+D)-1)>>M)])>>>16&255,j=65535&z,!(M+(T=z>>>24)<=C);){if(0===y)break t;y--,b+=p[g++]<<C,C+=8}b>>>=M,C-=M,n.back+=M}if(b>>>=T,C-=T,n.back+=T,64&I){t.msg="invalid distance code",n.mode=30;break}n.offset=j,n.extra=15&I,n.mode=24;case 24:if(n.extra){for(N=n.extra;C<N;){if(0===y)break t;y--,b+=p[g++]<<C,C+=8}n.offset+=b&(1<<n.extra)-1,b>>>=n.extra,C-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===_)break t;if(P=x-_,n.offset>P){if((P=n.offset-P)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}k=P>n.wnext?(P-=n.wnext,n.wsize-P):n.wnext-P,P>n.length&&(P=n.length),E=n.window}else E=f,k=v-n.offset,P=n.length;for(_<P&&(P=_),_-=P,n.length-=P;f[v++]=E[k++],--P;);0===n.length&&(n.mode=21);break;case 26:if(0===_)break t;f[v++]=n.length,_--,n.mode=21;break;case 27:if(n.wrap){for(;C<32;){if(0===y)break t;y--,b|=p[g++]<<C,C+=8}if(x-=_,t.total_out+=x,n.total+=x,x&&(t.adler=n.check=n.flags?r(n.check,f,x,v-x):o(n.check,f,x,v-x)),x=_,(n.flags?b:m(b))!==n.check){t.msg="incorrect data check",n.mode=30;break}C=b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;C<32;){if(0===y)break t;y--,b+=p[g++]<<C,C+=8}if(b!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}C=b=0}n.mode=29;case 29:B=1;break t;case 30:B=-3;break t;case 31:return-4;case 32:default:return h}return t.next_out=v,t.avail_out=_,t.next_in=g,t.avail_in=y,n.hold=b,n.bits=C,(n.wsize||x!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&w(t,t.output,t.next_out,x-t.avail_out)?(n.mode=31,-4):(O-=t.avail_in,x-=t.avail_out,t.total_in+=O,t.total_out+=x,n.total+=x,n.wrap&&x&&(t.adler=n.check=n.flags?r(n.check,f,x,t.next_out-x):o(n.check,f,x,t.next_out-x)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==O&&0===x||4===e)&&B===u&&(B=-5),B)},n.inflateEnd=function(t){if(!t||!t.state)return h;var e=t.state;return e.window&&(e.window=null),t.state=null,u},n.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?h:((n.head=e).done=!1,u):h},n.inflateSetDictionary=function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?h:11===n.mode&&o(1,e,i,0)!==n.check?-3:w(t,e,i,i)?(n.mode=31,-4):(n.havedict=1,u):h},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e,n){"use strict";var i=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,l,c,u,h,d){var p,f,m,g,v,y,_,b,C,O=d.bits,x=0,S=0,w=0,P=0,k=0,E=0,T=0,I=0,j=0,M=0,D=null,A=0,R=new i.Buf16(16),B=new i.Buf16(16),L=null,N=0;for(x=0;x<=15;x++)R[x]=0;for(S=0;S<l;S++)R[e[n+S]]++;for(k=O,P=15;1<=P&&0===R[P];P--);if(P<k&&(k=P),0===P)return c[u++]=20971520,c[u++]=20971520,d.bits=1,0;for(w=1;w<P&&0===R[w];w++);for(k<w&&(k=w),x=I=1;x<=15;x++)if(I<<=1,(I-=R[x])<0)return-1;if(0<I&&(0===t||1!==P))return-1;for(B[1]=0,x=1;x<15;x++)B[x+1]=B[x]+R[x];for(S=0;S<l;S++)0!==e[n+S]&&(h[B[e[n+S]]++]=S);if(y=0===t?(D=L=h,19):1===t?(D=o,A-=257,L=r,N-=257,256):(D=a,L=s,-1),x=w,v=u,T=S=M=0,m=-1,g=(j=1<<(E=k))-1,1===t&&852<j||2===t&&592<j)return 1;for(;;){for(_=x-T,C=h[S]<y?(b=0,h[S]):h[S]>y?(b=L[N+h[S]],D[A+h[S]]):(b=96,0),p=1<<x-T,w=f=1<<E;c[v+(M>>T)+(f-=p)]=_<<24|b<<16|C|0,0!==f;);for(p=1<<x-1;M&p;)p>>=1;if(0!==p?(M&=p-1,M+=p):M=0,S++,0==--R[x]){if(x===P)break;x=e[n+h[S]]}if(k<x&&(M&g)!==m){for(0===T&&(T=k),v+=w,I=1<<(E=x-T);E+T<P&&!((I-=R[E+T])<=0);)E++,I<<=1;if(j+=1<<E,1===t&&852<j||2===t&&592<j)return 1;c[m=M&g]=k<<24|E<<16|v-u|0}}return 0!==M&&(c[v+M]=x-T<<24|64<<16|0),d.bits=k,0}},{"../utils/common":41}],51:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,n){"use strict";var i=t("../utils/common");function o(t){for(var e=t.length;0<=--e;)t[e]=0}var r=0,a=256,s=a+1+29,l=30,c=19,u=2*s+1,h=15,d=16,p=256,f=16,m=17,g=18,v=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],y=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],b=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C=new Array(2*(s+2));o(C);var O=new Array(2*l);o(O);var x=new Array(512);o(x);var S=new Array(256);o(S);var w=new Array(29);o(w);var P,k,E,T=new Array(l);function I(t,e,n,i,o){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=o,this.has_stree=t&&t.length}function j(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function M(t){return t<256?x[t]:x[256+(t>>>7)]}function D(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function A(t,e,n){t.bi_valid>d-n?(t.bi_buf|=e<<t.bi_valid&65535,D(t,t.bi_buf),t.bi_buf=e>>d-t.bi_valid,t.bi_valid+=n-d):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function R(t,e,n){A(t,n[2*e],n[2*e+1])}function B(t,e){for(var n=0;n|=1&t,t>>>=1,n<<=1,0<--e;);return n>>>1}function L(t,e,n){var i,o,r=new Array(h+1),a=0;for(i=1;i<=h;i++)r[i]=a=a+n[i-1]<<1;for(o=0;o<=e;o++){var s=t[2*o+1];0!==s&&(t[2*o]=B(r[s]++,s))}}function N(t){var e;for(e=0;e<s;e++)t.dyn_ltree[2*e]=0;for(e=0;e<l;e++)t.dyn_dtree[2*e]=0;for(e=0;e<c;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*p]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function z(t){8<t.bi_valid?D(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function F(t,e,n,i){var o=2*e,r=2*n;return t[o]<t[r]||t[o]===t[r]&&i[e]<=i[n]}function H(t,e,n){for(var i=t.heap[n],o=n<<1;o<=t.heap_len&&(o<t.heap_len&&F(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!F(e,i,t.heap[o],t.depth));)t.heap[n]=t.heap[o],n=o,o<<=1;t.heap[n]=i}function V(t,e,n){var i,o,r,s,l=0;if(0!==t.last_lit)for(;i=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],o=t.pending_buf[t.l_buf+l],l++,0===i?R(t,o,e):(R(t,(r=S[o])+a+1,e),0!==(s=v[r])&&A(t,o-=w[r],s),R(t,r=M(--i),n),0!==(s=y[r])&&A(t,i-=T[r],s)),l<t.last_lit;);R(t,p,e)}function U(t,e){var n,i,o,r=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=u,n=0;n<l;n++)0!==r[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):r[2*n+1]=0;for(;t.heap_len<2;)r[2*(o=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[o]=0,t.opt_len--,s&&(t.static_len-=a[2*o+1]);for(e.max_code=c,n=t.heap_len>>1;1<=n;n--)H(t,r,n);for(o=l;n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],H(t,r,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,r[2*o]=r[2*n]+r[2*i],t.depth[o]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,r[2*n+1]=r[2*i+1]=o,t.heap[1]=o++,H(t,r,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,o,r,a,s,l=e.dyn_tree,c=e.max_code,d=e.stat_desc.static_tree,p=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,m=e.stat_desc.extra_base,g=e.stat_desc.max_length,v=0;for(r=0;r<=h;r++)t.bl_count[r]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<u;n++)g<(r=l[2*l[2*(i=t.heap[n])+1]+1]+1)&&(r=g,v++),l[2*i+1]=r,c<i||(t.bl_count[r]++,a=0,m<=i&&(a=f[i-m]),s=l[2*i],t.opt_len+=s*(r+a),p&&(t.static_len+=s*(d[2*i+1]+a)));if(0!==v){do{for(r=g-1;0===t.bl_count[r];)r--;t.bl_count[r]--,t.bl_count[r+1]+=2,t.bl_count[g]--,v-=2}while(0<v);for(r=g;0!==r;r--)for(i=t.bl_count[r];0!==i;)c<(o=t.heap[--n])||(l[2*o+1]!==r&&(t.opt_len+=(r-l[2*o+1])*l[2*o],l[2*o+1]=r),i--)}}(t,e),L(r,c,t.bl_count)}function W(t,e,n){var i,o,r=-1,a=e[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)o=a,a=e[2*(i+1)+1],++s<l&&o===a||(s<c?t.bl_tree[2*o]+=s:0!==o?(o!==r&&t.bl_tree[2*o]++,t.bl_tree[2*f]++):s<=10?t.bl_tree[2*m]++:t.bl_tree[2*g]++,r=o,c=(s=0)===a?(l=138,3):o===a?(l=6,3):(l=7,4))}function K(t,e,n){var i,o,r=-1,a=e[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),i=0;i<=n;i++)if(o=a,a=e[2*(i+1)+1],!(++s<l&&o===a)){if(s<c)for(;R(t,o,t.bl_tree),0!=--s;);else 0!==o?(o!==r&&(R(t,o,t.bl_tree),s--),R(t,f,t.bl_tree),A(t,s-3,2)):s<=10?(R(t,m,t.bl_tree),A(t,s-3,3)):(R(t,g,t.bl_tree),A(t,s-11,7));r=o,c=(s=0)===a?(l=138,3):o===a?(l=6,3):(l=7,4)}}o(T);var $=!1;function G(t,e,n,o){A(t,(r<<1)+(o?1:0),3),function(t,e,n,o){z(t),D(t,n),D(t,~n),i.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n)}n._tr_init=function(t){$||(function(){var t,e,n,i,o,r=new Array(h+1);for(i=n=0;i<28;i++)for(w[i]=n,t=0;t<1<<v[i];t++)S[n++]=i;for(S[n-1]=i,i=o=0;i<16;i++)for(T[i]=o,t=0;t<1<<y[i];t++)x[o++]=i;for(o>>=7;i<l;i++)for(T[i]=o<<7,t=0;t<1<<y[i]-7;t++)x[256+o++]=i;for(e=0;e<=h;e++)r[e]=0;for(t=0;t<=143;)C[2*t+1]=8,t++,r[8]++;for(;t<=255;)C[2*t+1]=9,t++,r[9]++;for(;t<=279;)C[2*t+1]=7,t++,r[7]++;for(;t<=287;)C[2*t+1]=8,t++,r[8]++;for(L(C,s+1,r),t=0;t<l;t++)O[2*t+1]=5,O[2*t]=B(t,5);P=new I(C,v,a+1,s,h),k=new I(O,y,0,l,h),E=new I(new Array(0),_,0,c,7)}(),$=!0),t.l_desc=new j(t.dyn_ltree,P),t.d_desc=new j(t.dyn_dtree,k),t.bl_desc=new j(t.bl_tree,E),t.bi_buf=0,t.bi_valid=0,N(t)},n._tr_stored_block=G,n._tr_flush_block=function(t,e,n,i){var o,r,s=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<a;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),U(t,t.l_desc),U(t,t.d_desc),s=function(t){var e;for(W(t,t.dyn_ltree,t.l_desc.max_code),W(t,t.dyn_dtree,t.d_desc.max_code),U(t,t.bl_desc),e=c-1;3<=e&&0===t.bl_tree[2*b[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),o=t.opt_len+3+7>>>3,(r=t.static_len+3+7>>>3)<=o&&(o=r)):o=r=n+5,n+4<=o&&-1!==e?G(t,e,n,i):4===t.strategy||r===o?(A(t,2+(i?1:0),3),V(t,C,O)):(A(t,4+(i?1:0),3),function(t,e,n,i){var o;for(A(t,e-257,5),A(t,n-1,5),A(t,i-4,4),o=0;o<i;o++)A(t,t.bl_tree[2*b[o]+1],3);K(t,t.dyn_ltree,e-1),K(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),V(t,t.dyn_ltree,t.dyn_dtree)),N(t),i&&z(t)},n._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(S[n]+a+1)]++,t.dyn_dtree[2*M(e)]++),t.last_lit===t.lit_bufsize-1},n._tr_align=function(t){A(t,2,3),R(t,p,C),function(t){16===t.bi_valid?(D(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":41}],53:[function(t,e,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,n){(function(t){!function(t,e){"use strict";if(!t.setImmediate){var n,i,r,a,s=1,l={},c=!1,u=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,n="[object process]"==={}.toString.call(t.process)?function(t){o.nextTick(function(){p(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?(a="setImmediate$"+Math.random()+"$",t.addEventListener?t.addEventListener("message",f,!1):t.attachEvent("onmessage",f),function(e){t.postMessage(a+e,"*")}):t.MessageChannel?((r=new MessageChannel).port1.onmessage=function(t){p(t.data)},function(t){r.port2.postMessage(t)}):u&&"onreadystatechange"in u.createElement("script")?(i=u.documentElement,function(t){var e=u.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):function(t){setTimeout(p,0,t)},h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var o={callback:t,args:e};return l[s]=o,n(s),s++},h.clearImmediate=d}function d(t){delete l[t]}function p(t){if(c)setTimeout(p,0,t);else{var n=l[t];if(n){c=!0;try{!function(t){var n=t.callback,i=t.args;switch(i.length){case 0:n();break;case 1:n(i[0]);break;case 2:n(i[0],i[1]);break;case 3:n(i[0],i[1],i[2]);break;default:n.apply(e,i)}}(n)}finally{d(t),c=!1}}}}function f(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,"undefined"!=typeof i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)}).call(this,n(227).Buffer,n(226).setImmediate,n(147),n(219))},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;var o=n(65),r=n(60),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._WidgetClass=o.default,e.independentEvents=["onClick","onContentReady","onDisposing","onInitialized"],e._templateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e}return i(e,t),Object.defineProperty(e.prototype,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e}(n(148).Component);e.Button=a,a.propTypes={accessKey:r.string,activeStateEnabled:r.bool,disabled:r.bool,elementAttr:r.object,focusStateEnabled:r.bool,height:r.oneOfType([r.func,r.number,r.string]),hint:r.string,hoverStateEnabled:r.bool,icon:r.string,onClick:r.func,onContentReady:r.func,onDisposing:r.func,onInitialized:r.func,onOptionChanged:r.func,rtlEnabled:r.bool,stylingMode:r.oneOfType([r.string,r.oneOf(["text","outlined","contained"])]),tabIndex:r.number,text:r.string,type:r.oneOfType([r.string,r.oneOf(["back","danger","default","normal","success"])]),useSubmitBehavior:r.bool,validationGroup:r.string,visible:r.bool,width:r.oneOfType([r.func,r.number,r.string])},e.default=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.ToolbarItem=e.To=e.Show=e.Position=e.Offset=e.My=e.Hide=e.From=e.Collision=e.BoundaryOffset=e.At=e.Animation=e.Popup=void 0;var o=n(149),r=n(60),a=n(148),s=n(175),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._WidgetClass=o.default,e.isPortalComponent=!0,e.subscribableOptions=["height","position","visible","width"],e.independentEvents=["onContentReady","onDisposing","onHidden","onHiding","onInitialized","onResize","onResizeEnd","onResizeStart","onShowing","onShown","onTitleRendered"],e._defaults={defaultHeight:"height",defaultPosition:"position",defaultVisible:"visible",defaultWidth:"width"},e._expectedChildren={animation:{optionName:"animation",isCollectionItem:!1},position:{optionName:"position",isCollectionItem:!1},toolbarItem:{optionName:"toolbarItems",isCollectionItem:!0}},e._templateProps=[{tmplOption:"contentTemplate",render:"contentRender",component:"contentComponent",keyFn:"contentKeyFn"},{tmplOption:"titleTemplate",render:"titleRender",component:"titleComponent",keyFn:"titleKeyFn"}],e}return i(e,t),Object.defineProperty(e.prototype,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e}(a.Component);e.Popup=l,l.propTypes={accessKey:r.string,animation:r.object,closeOnOutsideClick:r.oneOfType([r.bool,r.func]),copyRootClassesToWrapper:r.bool,deferRendering:r.bool,disabled:r.bool,dragEnabled:r.bool,dragOutsideBoundary:r.bool,focusStateEnabled:r.bool,fullScreen:r.bool,height:r.oneOfType([r.func,r.number,r.string]),hideOnOutsideClick:r.oneOfType([r.bool,r.func]),hideOnParentScroll:r.bool,hint:r.string,hoverStateEnabled:r.bool,maxHeight:r.oneOfType([r.func,r.number,r.string]),maxWidth:r.oneOfType([r.func,r.number,r.string]),minHeight:r.oneOfType([r.func,r.number,r.string]),minWidth:r.oneOfType([r.func,r.number,r.string]),onContentReady:r.func,onDisposing:r.func,onHidden:r.func,onHiding:r.func,onInitialized:r.func,onOptionChanged:r.func,onResize:r.func,onResizeEnd:r.func,onResizeStart:r.func,onShowing:r.func,onShown:r.func,onTitleRendered:r.func,position:r.oneOfType([r.func,r.object,r.oneOfType([r.string,r.oneOf(["bottom","center","left","left bottom","left top","right","right bottom","right top","top"])])]),resizeEnabled:r.bool,restorePosition:r.bool,rtlEnabled:r.bool,shading:r.bool,shadingColor:r.string,showCloseButton:r.bool,showTitle:r.bool,tabIndex:r.number,title:r.string,toolbarItems:r.array,visible:r.bool,width:r.oneOfType([r.func,r.number,r.string])};var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="animation",e.ExpectedChildren={hide:{optionName:"hide",isCollectionItem:!1},show:{optionName:"show",isCollectionItem:!1}},e}(s.default);e.Animation=c;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="at",e}(s.default);e.At=u;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="boundaryOffset",e}(s.default);e.BoundaryOffset=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="collision",e}(s.default);e.Collision=d;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="from",e.ExpectedChildren={position:{optionName:"position",isCollectionItem:!1}},e}(s.default);e.From=p;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="hide",e.ExpectedChildren={from:{optionName:"from",isCollectionItem:!1},to:{optionName:"to",isCollectionItem:!1}},e}(s.default);e.Hide=f;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="my",e}(s.default);e.My=m;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="offset",e}(s.default);e.Offset=g;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="position",e}(s.default);e.Position=v;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="show",e}(s.default);e.Show=y;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="to",e}(s.default);e.To=_;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="toolbarItems",e.IsCollectionItem=!0,e.TemplateProps=[{tmplOption:"menuItemTemplate",render:"menuItemRender",component:"menuItemComponent",keyFn:"menuItemKeyFn"},{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e}(s.default);e.ToolbarItem=b,e.default=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.Options=e.Button=e.TextBox=void 0;var o=n(101),r=n(60),a=n(148),s=n(175),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._WidgetClass=o.default,e.subscribableOptions=["value"],e.independentEvents=["onChange","onContentReady","onCopy","onCut","onDisposing","onEnterKey","onFocusIn","onFocusOut","onInitialized","onInput","onKeyDown","onKeyUp","onPaste","onValueChanged"],e._defaults={defaultValue:"value"},e._expectedChildren={button:{optionName:"buttons",isCollectionItem:!0}},e}return i(e,t),Object.defineProperty(e.prototype,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e}(a.Component);e.TextBox=l,l.propTypes={accessKey:r.string,activeStateEnabled:r.bool,buttons:r.array,disabled:r.bool,elementAttr:r.object,focusStateEnabled:r.bool,height:r.oneOfType([r.func,r.number,r.string]),hint:r.string,hoverStateEnabled:r.bool,isValid:r.bool,label:r.string,labelMode:r.oneOfType([r.string,r.oneOf(["static","floating","hidden"])]),mask:r.string,maskChar:r.string,maskInvalidMessage:r.string,maxLength:r.oneOfType([r.number,r.string]),mode:r.oneOfType([r.string,r.oneOf(["email","password","search","tel","text","url"])]),name:r.string,onChange:r.func,onContentReady:r.func,onCopy:r.func,onCut:r.func,onDisposing:r.func,onEnterKey:r.func,onFocusIn:r.func,onFocusOut:r.func,onInitialized:r.func,onInput:r.func,onKeyDown:r.func,onKeyUp:r.func,onOptionChanged:r.func,onPaste:r.func,onValueChanged:r.func,placeholder:r.string,readOnly:r.bool,rtlEnabled:r.bool,showClearButton:r.bool,showMaskMode:r.oneOfType([r.string,r.oneOf(["always","onFocus"])]),spellcheck:r.bool,stylingMode:r.oneOfType([r.string,r.oneOf(["outlined","underlined","filled"])]),tabIndex:r.number,text:r.string,useMaskedValue:r.bool,validationErrors:r.array,validationMessageMode:r.oneOfType([r.string,r.oneOf(["always","auto"])]),validationMessagePosition:r.oneOfType([r.string,r.oneOf(["bottom","left","right","top"])]),validationStatus:r.oneOfType([r.string,r.oneOf(["valid","invalid","pending"])]),value:r.string,valueChangeEvent:r.string,visible:r.bool,width:r.oneOfType([r.func,r.number,r.string])};var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="buttons",e.IsCollectionItem=!0,e.ExpectedChildren={options:{optionName:"options",isCollectionItem:!1}},e}(s.default);e.Button=c;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="options",e.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e}(s.default);e.Options=u,e.default=l},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(0);function o(t){return Object(i.a)({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17 19h-11c-2.206 0-4-1.794-4-4 0-1.861 1.277-3.429 3.001-3.874l-.001-.126c0-3.309 2.691-6 6-6 2.587 0 4.824 1.638 5.65 4.015 2.942-.246 5.35 2.113 5.35 4.985 0 2.757-2.243 5-5 5zm-11.095-6.006c-1.008.006-1.905.903-1.905 2.006s.897 2 2 2h11c1.654 0 3-1.346 3-3s-1.346-3-3-3c-.243 0-.5.041-.81.13l-1.075.307-.186-1.103c-.325-1.932-1.977-3.334-3.929-3.334-2.206 0-4 1.794-4 4 0 .272.027.545.082.811l.244 1.199-1.421-.016z"}}]})(t)}},function(t,e,n){var i;(function(){function o(t){"use strict";var e={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:"Remove only spaces, ' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `\xab\xab\xab` and `\xbb\xbb\xbb` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(!1===t)return JSON.parse(JSON.stringify(e));var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i].defaultValue);return n}var r={},a={},s={},l=o(!0),c="vanilla",u={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:o(!0),allOn:function(){"use strict";var t=o(!0),e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=!0);return e}()};function h(t,e){"use strict";var n=e?"Error in "+e+" extension->":"Error in unnamed extension",i={valid:!0,error:""};r.helper.isArray(t)||(t=[t]);for(var o=0;o<t.length;++o){var a=n+" sub-extension "+o+": ",s=t[o];if("object"!==typeof s)return i.valid=!1,i.error=a+"must be an object, but "+typeof s+" given",i;if(!r.helper.isString(s.type))return i.valid=!1,i.error=a+'property "type" must be a string, but '+typeof s.type+" given",i;var l=s.type=s.type.toLowerCase();if("language"===l&&(l=s.type="lang"),"html"===l&&(l=s.type="output"),"lang"!==l&&"output"!==l&&"listener"!==l)return i.valid=!1,i.error=a+"type "+l+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',i;if("listener"===l){if(r.helper.isUndefined(s.listeners))return i.valid=!1,i.error=a+'. Extensions of type "listener" must have a property called "listeners"',i}else if(r.helper.isUndefined(s.filter)&&r.helper.isUndefined(s.regex))return i.valid=!1,i.error=a+l+' extensions must define either a "regex" property or a "filter" method',i;if(s.listeners){if("object"!==typeof s.listeners)return i.valid=!1,i.error=a+'"listeners" property must be an object but '+typeof s.listeners+" given",i;for(var c in s.listeners)if(s.listeners.hasOwnProperty(c)&&"function"!==typeof s.listeners[c])return i.valid=!1,i.error=a+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+c+" must be a function but "+typeof s.listeners[c]+" given",i}if(s.filter){if("function"!==typeof s.filter)return i.valid=!1,i.error=a+'"filter" must be a function, but '+typeof s.filter+" given",i}else if(s.regex){if(r.helper.isString(s.regex)&&(s.regex=new RegExp(s.regex,"g")),!(s.regex instanceof RegExp))return i.valid=!1,i.error=a+'"regex" property must either be a string or a RegExp object, but '+typeof s.regex+" given",i;if(r.helper.isUndefined(s.replace))return i.valid=!1,i.error=a+'"regex" extensions must implement a replace string or function',i}}return i}function d(t,e){"use strict";return"\xa8E"+e.charCodeAt(0)+"E"}r.helper={},r.extensions={},r.setOption=function(t,e){"use strict";return l[t]=e,this},r.getOption=function(t){"use strict";return l[t]},r.getOptions=function(){"use strict";return l},r.resetOptions=function(){"use strict";l=o(!0)},r.setFlavor=function(t){"use strict";if(!u.hasOwnProperty(t))throw Error(t+" flavor was not found");r.resetOptions();var e=u[t];for(var n in c=t,e)e.hasOwnProperty(n)&&(l[n]=e[n])},r.getFlavor=function(){"use strict";return c},r.getFlavorOptions=function(t){"use strict";if(u.hasOwnProperty(t))return u[t]},r.getDefaultOptions=function(t){"use strict";return o(t)},r.subParser=function(t,e){"use strict";if(r.helper.isString(t)){if("undefined"===typeof e){if(a.hasOwnProperty(t))return a[t];throw Error("SubParser named "+t+" not registered!")}a[t]=e}},r.extension=function(t,e){"use strict";if(!r.helper.isString(t))throw Error("Extension 'name' must be a string");if(t=r.helper.stdExtName(t),r.helper.isUndefined(e)){if(!s.hasOwnProperty(t))throw Error("Extension named "+t+" is not registered!");return s[t]}"function"===typeof e&&(e=e()),r.helper.isArray(e)||(e=[e]);var n=h(e,t);if(!n.valid)throw Error(n.error);s[t]=e},r.getAllExtensions=function(){"use strict";return s},r.removeExtension=function(t){"use strict";delete s[t]},r.resetExtensions=function(){"use strict";s={}},r.validateExtension=function(t){"use strict";var e=h(t,null);return!!e.valid||(console.warn(e.error),!1)},r.hasOwnProperty("helper")||(r.helper={}),r.helper.isString=function(t){"use strict";return"string"===typeof t||t instanceof String},r.helper.isFunction=function(t){"use strict";return t&&"[object Function]"==={}.toString.call(t)},r.helper.isArray=function(t){"use strict";return Array.isArray(t)},r.helper.isUndefined=function(t){"use strict";return"undefined"===typeof t},r.helper.forEach=function(t,e){"use strict";if(r.helper.isUndefined(t))throw new Error("obj param is required");if(r.helper.isUndefined(e))throw new Error("callback param is required");if(!r.helper.isFunction(e))throw new Error("callback param must be a function/closure");if("function"===typeof t.forEach)t.forEach(e);else if(r.helper.isArray(t))for(var n=0;n<t.length;n++)e(t[n],n,t);else{if("object"!==typeof t)throw new Error("obj does not seem to be an array or an iterable object");for(var i in t)t.hasOwnProperty(i)&&e(t[i],i,t)}},r.helper.stdExtName=function(t){"use strict";return t.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},r.helper.escapeCharactersCallback=d,r.helper.escapeCharacters=function(t,e,n){"use strict";var i="(["+e.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(i="\\\\"+i);var o=new RegExp(i,"g");return t=t.replace(o,d)},r.helper.unescapeHTMLEntities=function(t){"use strict";return t.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var p=function(t,e,n,i){"use strict";var o,r,a,s,l,c=i||"",u=c.indexOf("g")>-1,h=new RegExp(e+"|"+n,"g"+c.replace(/g/g,"")),d=new RegExp(e,c.replace(/g/g,"")),p=[];do{for(o=0;a=h.exec(t);)if(d.test(a[0]))o++||(s=(r=h.lastIndex)-a[0].length);else if(o&&!--o){l=a.index+a[0].length;var f={left:{start:s,end:r},match:{start:r,end:a.index},right:{start:a.index,end:l},wholeMatch:{start:s,end:l}};if(p.push(f),!u)return p}}while(o&&(h.lastIndex=r));return p};r.helper.matchRecursiveRegExp=function(t,e,n,i){"use strict";for(var o=p(t,e,n,i),r=[],a=0;a<o.length;++a)r.push([t.slice(o[a].wholeMatch.start,o[a].wholeMatch.end),t.slice(o[a].match.start,o[a].match.end),t.slice(o[a].left.start,o[a].left.end),t.slice(o[a].right.start,o[a].right.end)]);return r},r.helper.replaceRecursiveRegExp=function(t,e,n,i,o){"use strict";if(!r.helper.isFunction(e)){var a=e;e=function(){return a}}var s=p(t,n,i,o),l=t,c=s.length;if(c>0){var u=[];0!==s[0].wholeMatch.start&&u.push(t.slice(0,s[0].wholeMatch.start));for(var h=0;h<c;++h)u.push(e(t.slice(s[h].wholeMatch.start,s[h].wholeMatch.end),t.slice(s[h].match.start,s[h].match.end),t.slice(s[h].left.start,s[h].left.end),t.slice(s[h].right.start,s[h].right.end))),h<c-1&&u.push(t.slice(s[h].wholeMatch.end,s[h+1].wholeMatch.start));s[c-1].wholeMatch.end<t.length&&u.push(t.slice(s[c-1].wholeMatch.end)),l=u.join("")}return l},r.helper.regexIndexOf=function(t,e,n){"use strict";if(!r.helper.isString(t))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(e instanceof RegExp===!1)throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var i=t.substring(n||0).search(e);return i>=0?i+(n||0):i},r.helper.splitAtIndex=function(t,e){"use strict";if(!r.helper.isString(t))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[t.substring(0,e),t.substring(e)]},r.helper.encodeEmailAddress=function(t){"use strict";var e=[function(t){return"&#"+t.charCodeAt(0)+";"},function(t){return"&#x"+t.charCodeAt(0).toString(16)+";"},function(t){return t}];return t=t.replace(/./g,function(t){if("@"===t)t=e[Math.floor(2*Math.random())](t);else{var n=Math.random();t=n>.9?e[2](t):n>.45?e[1](t):e[0](t)}return t})},r.helper.padEnd=function(t,e,n){"use strict";return e>>=0,n=String(n||" "),t.length>e?String(t):((e-=t.length)>n.length&&(n+=n.repeat(e/n.length)),String(t)+n.slice(0,e))},"undefined"===typeof console&&(console={warn:function(t){"use strict";alert(t)},log:function(t){"use strict";alert(t)},error:function(t){"use strict";throw t}}),r.helper.regexes={asteriskDashAndColon:/([*_:~])/g},r.helper.emojis={"+1":"\ud83d\udc4d","-1":"\ud83d\udc4e",100:"\ud83d\udcaf",1234:"\ud83d\udd22","1st_place_medal":"\ud83e\udd47","2nd_place_medal":"\ud83e\udd48","3rd_place_medal":"\ud83e\udd49","8ball":"\ud83c\udfb1",a:"\ud83c\udd70\ufe0f",ab:"\ud83c\udd8e",abc:"\ud83d\udd24",abcd:"\ud83d\udd21",accept:"\ud83c\ude51",aerial_tramway:"\ud83d\udea1",airplane:"\u2708\ufe0f",alarm_clock:"\u23f0",alembic:"\u2697\ufe0f",alien:"\ud83d\udc7d",ambulance:"\ud83d\ude91",amphora:"\ud83c\udffa",anchor:"\u2693\ufe0f",angel:"\ud83d\udc7c",anger:"\ud83d\udca2",angry:"\ud83d\ude20",anguished:"\ud83d\ude27",ant:"\ud83d\udc1c",apple:"\ud83c\udf4e",aquarius:"\u2652\ufe0f",aries:"\u2648\ufe0f",arrow_backward:"\u25c0\ufe0f",arrow_double_down:"\u23ec",arrow_double_up:"\u23eb",arrow_down:"\u2b07\ufe0f",arrow_down_small:"\ud83d\udd3d",arrow_forward:"\u25b6\ufe0f",arrow_heading_down:"\u2935\ufe0f",arrow_heading_up:"\u2934\ufe0f",arrow_left:"\u2b05\ufe0f",arrow_lower_left:"\u2199\ufe0f",arrow_lower_right:"\u2198\ufe0f",arrow_right:"\u27a1\ufe0f",arrow_right_hook:"\u21aa\ufe0f",arrow_up:"\u2b06\ufe0f",arrow_up_down:"\u2195\ufe0f",arrow_up_small:"\ud83d\udd3c",arrow_upper_left:"\u2196\ufe0f",arrow_upper_right:"\u2197\ufe0f",arrows_clockwise:"\ud83d\udd03",arrows_counterclockwise:"\ud83d\udd04",art:"\ud83c\udfa8",articulated_lorry:"\ud83d\ude9b",artificial_satellite:"\ud83d\udef0",astonished:"\ud83d\ude32",athletic_shoe:"\ud83d\udc5f",atm:"\ud83c\udfe7",atom_symbol:"\u269b\ufe0f",avocado:"\ud83e\udd51",b:"\ud83c\udd71\ufe0f",baby:"\ud83d\udc76",baby_bottle:"\ud83c\udf7c",baby_chick:"\ud83d\udc24",baby_symbol:"\ud83d\udebc",back:"\ud83d\udd19",bacon:"\ud83e\udd53",badminton:"\ud83c\udff8",baggage_claim:"\ud83d\udec4",baguette_bread:"\ud83e\udd56",balance_scale:"\u2696\ufe0f",balloon:"\ud83c\udf88",ballot_box:"\ud83d\uddf3",ballot_box_with_check:"\u2611\ufe0f",bamboo:"\ud83c\udf8d",banana:"\ud83c\udf4c",bangbang:"\u203c\ufe0f",bank:"\ud83c\udfe6",bar_chart:"\ud83d\udcca",barber:"\ud83d\udc88",baseball:"\u26be\ufe0f",basketball:"\ud83c\udfc0",basketball_man:"\u26f9\ufe0f",basketball_woman:"\u26f9\ufe0f&zwj;\u2640\ufe0f",bat:"\ud83e\udd87",bath:"\ud83d\udec0",bathtub:"\ud83d\udec1",battery:"\ud83d\udd0b",beach_umbrella:"\ud83c\udfd6",bear:"\ud83d\udc3b",bed:"\ud83d\udecf",bee:"\ud83d\udc1d",beer:"\ud83c\udf7a",beers:"\ud83c\udf7b",beetle:"\ud83d\udc1e",beginner:"\ud83d\udd30",bell:"\ud83d\udd14",bellhop_bell:"\ud83d\udece",bento:"\ud83c\udf71",biking_man:"\ud83d\udeb4",bike:"\ud83d\udeb2",biking_woman:"\ud83d\udeb4&zwj;\u2640\ufe0f",bikini:"\ud83d\udc59",biohazard:"\u2623\ufe0f",bird:"\ud83d\udc26",birthday:"\ud83c\udf82",black_circle:"\u26ab\ufe0f",black_flag:"\ud83c\udff4",black_heart:"\ud83d\udda4",black_joker:"\ud83c\udccf",black_large_square:"\u2b1b\ufe0f",black_medium_small_square:"\u25fe\ufe0f",black_medium_square:"\u25fc\ufe0f",black_nib:"\u2712\ufe0f",black_small_square:"\u25aa\ufe0f",black_square_button:"\ud83d\udd32",blonde_man:"\ud83d\udc71",blonde_woman:"\ud83d\udc71&zwj;\u2640\ufe0f",blossom:"\ud83c\udf3c",blowfish:"\ud83d\udc21",blue_book:"\ud83d\udcd8",blue_car:"\ud83d\ude99",blue_heart:"\ud83d\udc99",blush:"\ud83d\ude0a",boar:"\ud83d\udc17",boat:"\u26f5\ufe0f",bomb:"\ud83d\udca3",book:"\ud83d\udcd6",bookmark:"\ud83d\udd16",bookmark_tabs:"\ud83d\udcd1",books:"\ud83d\udcda",boom:"\ud83d\udca5",boot:"\ud83d\udc62",bouquet:"\ud83d\udc90",bowing_man:"\ud83d\ude47",bow_and_arrow:"\ud83c\udff9",bowing_woman:"\ud83d\ude47&zwj;\u2640\ufe0f",bowling:"\ud83c\udfb3",boxing_glove:"\ud83e\udd4a",boy:"\ud83d\udc66",bread:"\ud83c\udf5e",bride_with_veil:"\ud83d\udc70",bridge_at_night:"\ud83c\udf09",briefcase:"\ud83d\udcbc",broken_heart:"\ud83d\udc94",bug:"\ud83d\udc1b",building_construction:"\ud83c\udfd7",bulb:"\ud83d\udca1",bullettrain_front:"\ud83d\ude85",bullettrain_side:"\ud83d\ude84",burrito:"\ud83c\udf2f",bus:"\ud83d\ude8c",business_suit_levitating:"\ud83d\udd74",busstop:"\ud83d\ude8f",bust_in_silhouette:"\ud83d\udc64",busts_in_silhouette:"\ud83d\udc65",butterfly:"\ud83e\udd8b",cactus:"\ud83c\udf35",cake:"\ud83c\udf70",calendar:"\ud83d\udcc6",call_me_hand:"\ud83e\udd19",calling:"\ud83d\udcf2",camel:"\ud83d\udc2b",camera:"\ud83d\udcf7",camera_flash:"\ud83d\udcf8",camping:"\ud83c\udfd5",cancer:"\u264b\ufe0f",candle:"\ud83d\udd6f",candy:"\ud83c\udf6c",canoe:"\ud83d\udef6",capital_abcd:"\ud83d\udd20",capricorn:"\u2651\ufe0f",car:"\ud83d\ude97",card_file_box:"\ud83d\uddc3",card_index:"\ud83d\udcc7",card_index_dividers:"\ud83d\uddc2",carousel_horse:"\ud83c\udfa0",carrot:"\ud83e\udd55",cat:"\ud83d\udc31",cat2:"\ud83d\udc08",cd:"\ud83d\udcbf",chains:"\u26d3",champagne:"\ud83c\udf7e",chart:"\ud83d\udcb9",chart_with_downwards_trend:"\ud83d\udcc9",chart_with_upwards_trend:"\ud83d\udcc8",checkered_flag:"\ud83c\udfc1",cheese:"\ud83e\uddc0",cherries:"\ud83c\udf52",cherry_blossom:"\ud83c\udf38",chestnut:"\ud83c\udf30",chicken:"\ud83d\udc14",children_crossing:"\ud83d\udeb8",chipmunk:"\ud83d\udc3f",chocolate_bar:"\ud83c\udf6b",christmas_tree:"\ud83c\udf84",church:"\u26ea\ufe0f",cinema:"\ud83c\udfa6",circus_tent:"\ud83c\udfaa",city_sunrise:"\ud83c\udf07",city_sunset:"\ud83c\udf06",cityscape:"\ud83c\udfd9",cl:"\ud83c\udd91",clamp:"\ud83d\udddc",clap:"\ud83d\udc4f",clapper:"\ud83c\udfac",classical_building:"\ud83c\udfdb",clinking_glasses:"\ud83e\udd42",clipboard:"\ud83d\udccb",clock1:"\ud83d\udd50",clock10:"\ud83d\udd59",clock1030:"\ud83d\udd65",clock11:"\ud83d\udd5a",clock1130:"\ud83d\udd66",clock12:"\ud83d\udd5b",clock1230:"\ud83d\udd67",clock130:"\ud83d\udd5c",clock2:"\ud83d\udd51",clock230:"\ud83d\udd5d",clock3:"\ud83d\udd52",clock330:"\ud83d\udd5e",clock4:"\ud83d\udd53",clock430:"\ud83d\udd5f",clock5:"\ud83d\udd54",clock530:"\ud83d\udd60",clock6:"\ud83d\udd55",clock630:"\ud83d\udd61",clock7:"\ud83d\udd56",clock730:"\ud83d\udd62",clock8:"\ud83d\udd57",clock830:"\ud83d\udd63",clock9:"\ud83d\udd58",clock930:"\ud83d\udd64",closed_book:"\ud83d\udcd5",closed_lock_with_key:"\ud83d\udd10",closed_umbrella:"\ud83c\udf02",cloud:"\u2601\ufe0f",cloud_with_lightning:"\ud83c\udf29",cloud_with_lightning_and_rain:"\u26c8",cloud_with_rain:"\ud83c\udf27",cloud_with_snow:"\ud83c\udf28",clown_face:"\ud83e\udd21",clubs:"\u2663\ufe0f",cocktail:"\ud83c\udf78",coffee:"\u2615\ufe0f",coffin:"\u26b0\ufe0f",cold_sweat:"\ud83d\ude30",comet:"\u2604\ufe0f",computer:"\ud83d\udcbb",computer_mouse:"\ud83d\uddb1",confetti_ball:"\ud83c\udf8a",confounded:"\ud83d\ude16",confused:"\ud83d\ude15",congratulations:"\u3297\ufe0f",construction:"\ud83d\udea7",construction_worker_man:"\ud83d\udc77",construction_worker_woman:"\ud83d\udc77&zwj;\u2640\ufe0f",control_knobs:"\ud83c\udf9b",convenience_store:"\ud83c\udfea",cookie:"\ud83c\udf6a",cool:"\ud83c\udd92",policeman:"\ud83d\udc6e",copyright:"\xa9\ufe0f",corn:"\ud83c\udf3d",couch_and_lamp:"\ud83d\udecb",couple:"\ud83d\udc6b",couple_with_heart_woman_man:"\ud83d\udc91",couple_with_heart_man_man:"\ud83d\udc68&zwj;\u2764\ufe0f&zwj;\ud83d\udc68",couple_with_heart_woman_woman:"\ud83d\udc69&zwj;\u2764\ufe0f&zwj;\ud83d\udc69",couplekiss_man_man:"\ud83d\udc68&zwj;\u2764\ufe0f&zwj;\ud83d\udc8b&zwj;\ud83d\udc68",couplekiss_man_woman:"\ud83d\udc8f",couplekiss_woman_woman:"\ud83d\udc69&zwj;\u2764\ufe0f&zwj;\ud83d\udc8b&zwj;\ud83d\udc69",cow:"\ud83d\udc2e",cow2:"\ud83d\udc04",cowboy_hat_face:"\ud83e\udd20",crab:"\ud83e\udd80",crayon:"\ud83d\udd8d",credit_card:"\ud83d\udcb3",crescent_moon:"\ud83c\udf19",cricket:"\ud83c\udfcf",crocodile:"\ud83d\udc0a",croissant:"\ud83e\udd50",crossed_fingers:"\ud83e\udd1e",crossed_flags:"\ud83c\udf8c",crossed_swords:"\u2694\ufe0f",crown:"\ud83d\udc51",cry:"\ud83d\ude22",crying_cat_face:"\ud83d\ude3f",crystal_ball:"\ud83d\udd2e",cucumber:"\ud83e\udd52",cupid:"\ud83d\udc98",curly_loop:"\u27b0",currency_exchange:"\ud83d\udcb1",curry:"\ud83c\udf5b",custard:"\ud83c\udf6e",customs:"\ud83d\udec3",cyclone:"\ud83c\udf00",dagger:"\ud83d\udde1",dancer:"\ud83d\udc83",dancing_women:"\ud83d\udc6f",dancing_men:"\ud83d\udc6f&zwj;\u2642\ufe0f",dango:"\ud83c\udf61",dark_sunglasses:"\ud83d\udd76",dart:"\ud83c\udfaf",dash:"\ud83d\udca8",date:"\ud83d\udcc5",deciduous_tree:"\ud83c\udf33",deer:"\ud83e\udd8c",department_store:"\ud83c\udfec",derelict_house:"\ud83c\udfda",desert:"\ud83c\udfdc",desert_island:"\ud83c\udfdd",desktop_computer:"\ud83d\udda5",male_detective:"\ud83d\udd75\ufe0f",diamond_shape_with_a_dot_inside:"\ud83d\udca0",diamonds:"\u2666\ufe0f",disappointed:"\ud83d\ude1e",disappointed_relieved:"\ud83d\ude25",dizzy:"\ud83d\udcab",dizzy_face:"\ud83d\ude35",do_not_litter:"\ud83d\udeaf",dog:"\ud83d\udc36",dog2:"\ud83d\udc15",dollar:"\ud83d\udcb5",dolls:"\ud83c\udf8e",dolphin:"\ud83d\udc2c",door:"\ud83d\udeaa",doughnut:"\ud83c\udf69",dove:"\ud83d\udd4a",dragon:"\ud83d\udc09",dragon_face:"\ud83d\udc32",dress:"\ud83d\udc57",dromedary_camel:"\ud83d\udc2a",drooling_face:"\ud83e\udd24",droplet:"\ud83d\udca7",drum:"\ud83e\udd41",duck:"\ud83e\udd86",dvd:"\ud83d\udcc0","e-mail":"\ud83d\udce7",eagle:"\ud83e\udd85",ear:"\ud83d\udc42",ear_of_rice:"\ud83c\udf3e",earth_africa:"\ud83c\udf0d",earth_americas:"\ud83c\udf0e",earth_asia:"\ud83c\udf0f",egg:"\ud83e\udd5a",eggplant:"\ud83c\udf46",eight_pointed_black_star:"\u2734\ufe0f",eight_spoked_asterisk:"\u2733\ufe0f",electric_plug:"\ud83d\udd0c",elephant:"\ud83d\udc18",email:"\u2709\ufe0f",end:"\ud83d\udd1a",envelope_with_arrow:"\ud83d\udce9",euro:"\ud83d\udcb6",european_castle:"\ud83c\udff0",european_post_office:"\ud83c\udfe4",evergreen_tree:"\ud83c\udf32",exclamation:"\u2757\ufe0f",expressionless:"\ud83d\ude11",eye:"\ud83d\udc41",eye_speech_bubble:"\ud83d\udc41&zwj;\ud83d\udde8",eyeglasses:"\ud83d\udc53",eyes:"\ud83d\udc40",face_with_head_bandage:"\ud83e\udd15",face_with_thermometer:"\ud83e\udd12",fist_oncoming:"\ud83d\udc4a",factory:"\ud83c\udfed",fallen_leaf:"\ud83c\udf42",family_man_woman_boy:"\ud83d\udc6a",family_man_boy:"\ud83d\udc68&zwj;\ud83d\udc66",family_man_boy_boy:"\ud83d\udc68&zwj;\ud83d\udc66&zwj;\ud83d\udc66",family_man_girl:"\ud83d\udc68&zwj;\ud83d\udc67",family_man_girl_boy:"\ud83d\udc68&zwj;\ud83d\udc67&zwj;\ud83d\udc66",family_man_girl_girl:"\ud83d\udc68&zwj;\ud83d\udc67&zwj;\ud83d\udc67",family_man_man_boy:"\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc66",family_man_man_boy_boy:"\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc66&zwj;\ud83d\udc66",family_man_man_girl:"\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc67",family_man_man_girl_boy:"\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc67&zwj;\ud83d\udc66",family_man_man_girl_girl:"\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc67&zwj;\ud83d\udc67",family_man_woman_boy_boy:"\ud83d\udc68&zwj;\ud83d\udc69&zwj;\ud83d\udc66&zwj;\ud83d\udc66",family_man_woman_girl:"\ud83d\udc68&zwj;\ud83d\udc69&zwj;\ud83d\udc67",family_man_woman_girl_boy:"\ud83d\udc68&zwj;\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc66",family_man_woman_girl_girl:"\ud83d\udc68&zwj;\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc67",family_woman_boy:"\ud83d\udc69&zwj;\ud83d\udc66",family_woman_boy_boy:"\ud83d\udc69&zwj;\ud83d\udc66&zwj;\ud83d\udc66",family_woman_girl:"\ud83d\udc69&zwj;\ud83d\udc67",family_woman_girl_boy:"\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc66",family_woman_girl_girl:"\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc67",family_woman_woman_boy:"\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc66",family_woman_woman_boy_boy:"\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc66&zwj;\ud83d\udc66",family_woman_woman_girl:"\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc67",family_woman_woman_girl_boy:"\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc66",family_woman_woman_girl_girl:"\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc67",fast_forward:"\u23e9",fax:"\ud83d\udce0",fearful:"\ud83d\ude28",feet:"\ud83d\udc3e",female_detective:"\ud83d\udd75\ufe0f&zwj;\u2640\ufe0f",ferris_wheel:"\ud83c\udfa1",ferry:"\u26f4",field_hockey:"\ud83c\udfd1",file_cabinet:"\ud83d\uddc4",file_folder:"\ud83d\udcc1",film_projector:"\ud83d\udcfd",film_strip:"\ud83c\udf9e",fire:"\ud83d\udd25",fire_engine:"\ud83d\ude92",fireworks:"\ud83c\udf86",first_quarter_moon:"\ud83c\udf13",first_quarter_moon_with_face:"\ud83c\udf1b",fish:"\ud83d\udc1f",fish_cake:"\ud83c\udf65",fishing_pole_and_fish:"\ud83c\udfa3",fist_raised:"\u270a",fist_left:"\ud83e\udd1b",fist_right:"\ud83e\udd1c",flags:"\ud83c\udf8f",flashlight:"\ud83d\udd26",fleur_de_lis:"\u269c\ufe0f",flight_arrival:"\ud83d\udeec",flight_departure:"\ud83d\udeeb",floppy_disk:"\ud83d\udcbe",flower_playing_cards:"\ud83c\udfb4",flushed:"\ud83d\ude33",fog:"\ud83c\udf2b",foggy:"\ud83c\udf01",football:"\ud83c\udfc8",footprints:"\ud83d\udc63",fork_and_knife:"\ud83c\udf74",fountain:"\u26f2\ufe0f",fountain_pen:"\ud83d\udd8b",four_leaf_clover:"\ud83c\udf40",fox_face:"\ud83e\udd8a",framed_picture:"\ud83d\uddbc",free:"\ud83c\udd93",fried_egg:"\ud83c\udf73",fried_shrimp:"\ud83c\udf64",fries:"\ud83c\udf5f",frog:"\ud83d\udc38",frowning:"\ud83d\ude26",frowning_face:"\u2639\ufe0f",frowning_man:"\ud83d\ude4d&zwj;\u2642\ufe0f",frowning_woman:"\ud83d\ude4d",middle_finger:"\ud83d\udd95",fuelpump:"\u26fd\ufe0f",full_moon:"\ud83c\udf15",full_moon_with_face:"\ud83c\udf1d",funeral_urn:"\u26b1\ufe0f",game_die:"\ud83c\udfb2",gear:"\u2699\ufe0f",gem:"\ud83d\udc8e",gemini:"\u264a\ufe0f",ghost:"\ud83d\udc7b",gift:"\ud83c\udf81",gift_heart:"\ud83d\udc9d",girl:"\ud83d\udc67",globe_with_meridians:"\ud83c\udf10",goal_net:"\ud83e\udd45",goat:"\ud83d\udc10",golf:"\u26f3\ufe0f",golfing_man:"\ud83c\udfcc\ufe0f",golfing_woman:"\ud83c\udfcc\ufe0f&zwj;\u2640\ufe0f",gorilla:"\ud83e\udd8d",grapes:"\ud83c\udf47",green_apple:"\ud83c\udf4f",green_book:"\ud83d\udcd7",green_heart:"\ud83d\udc9a",green_salad:"\ud83e\udd57",grey_exclamation:"\u2755",grey_question:"\u2754",grimacing:"\ud83d\ude2c",grin:"\ud83d\ude01",grinning:"\ud83d\ude00",guardsman:"\ud83d\udc82",guardswoman:"\ud83d\udc82&zwj;\u2640\ufe0f",guitar:"\ud83c\udfb8",gun:"\ud83d\udd2b",haircut_woman:"\ud83d\udc87",haircut_man:"\ud83d\udc87&zwj;\u2642\ufe0f",hamburger:"\ud83c\udf54",hammer:"\ud83d\udd28",hammer_and_pick:"\u2692",hammer_and_wrench:"\ud83d\udee0",hamster:"\ud83d\udc39",hand:"\u270b",handbag:"\ud83d\udc5c",handshake:"\ud83e\udd1d",hankey:"\ud83d\udca9",hatched_chick:"\ud83d\udc25",hatching_chick:"\ud83d\udc23",headphones:"\ud83c\udfa7",hear_no_evil:"\ud83d\ude49",heart:"\u2764\ufe0f",heart_decoration:"\ud83d\udc9f",heart_eyes:"\ud83d\ude0d",heart_eyes_cat:"\ud83d\ude3b",heartbeat:"\ud83d\udc93",heartpulse:"\ud83d\udc97",hearts:"\u2665\ufe0f",heavy_check_mark:"\u2714\ufe0f",heavy_division_sign:"\u2797",heavy_dollar_sign:"\ud83d\udcb2",heavy_heart_exclamation:"\u2763\ufe0f",heavy_minus_sign:"\u2796",heavy_multiplication_x:"\u2716\ufe0f",heavy_plus_sign:"\u2795",helicopter:"\ud83d\ude81",herb:"\ud83c\udf3f",hibiscus:"\ud83c\udf3a",high_brightness:"\ud83d\udd06",high_heel:"\ud83d\udc60",hocho:"\ud83d\udd2a",hole:"\ud83d\udd73",honey_pot:"\ud83c\udf6f",horse:"\ud83d\udc34",horse_racing:"\ud83c\udfc7",hospital:"\ud83c\udfe5",hot_pepper:"\ud83c\udf36",hotdog:"\ud83c\udf2d",hotel:"\ud83c\udfe8",hotsprings:"\u2668\ufe0f",hourglass:"\u231b\ufe0f",hourglass_flowing_sand:"\u23f3",house:"\ud83c\udfe0",house_with_garden:"\ud83c\udfe1",houses:"\ud83c\udfd8",hugs:"\ud83e\udd17",hushed:"\ud83d\ude2f",ice_cream:"\ud83c\udf68",ice_hockey:"\ud83c\udfd2",ice_skate:"\u26f8",icecream:"\ud83c\udf66",id:"\ud83c\udd94",ideograph_advantage:"\ud83c\ude50",imp:"\ud83d\udc7f",inbox_tray:"\ud83d\udce5",incoming_envelope:"\ud83d\udce8",tipping_hand_woman:"\ud83d\udc81",information_source:"\u2139\ufe0f",innocent:"\ud83d\ude07",interrobang:"\u2049\ufe0f",iphone:"\ud83d\udcf1",izakaya_lantern:"\ud83c\udfee",jack_o_lantern:"\ud83c\udf83",japan:"\ud83d\uddfe",japanese_castle:"\ud83c\udfef",japanese_goblin:"\ud83d\udc7a",japanese_ogre:"\ud83d\udc79",jeans:"\ud83d\udc56",joy:"\ud83d\ude02",joy_cat:"\ud83d\ude39",joystick:"\ud83d\udd79",kaaba:"\ud83d\udd4b",key:"\ud83d\udd11",keyboard:"\u2328\ufe0f",keycap_ten:"\ud83d\udd1f",kick_scooter:"\ud83d\udef4",kimono:"\ud83d\udc58",kiss:"\ud83d\udc8b",kissing:"\ud83d\ude17",kissing_cat:"\ud83d\ude3d",kissing_closed_eyes:"\ud83d\ude1a",kissing_heart:"\ud83d\ude18",kissing_smiling_eyes:"\ud83d\ude19",kiwi_fruit:"\ud83e\udd5d",koala:"\ud83d\udc28",koko:"\ud83c\ude01",label:"\ud83c\udff7",large_blue_circle:"\ud83d\udd35",large_blue_diamond:"\ud83d\udd37",large_orange_diamond:"\ud83d\udd36",last_quarter_moon:"\ud83c\udf17",last_quarter_moon_with_face:"\ud83c\udf1c",latin_cross:"\u271d\ufe0f",laughing:"\ud83d\ude06",leaves:"\ud83c\udf43",ledger:"\ud83d\udcd2",left_luggage:"\ud83d\udec5",left_right_arrow:"\u2194\ufe0f",leftwards_arrow_with_hook:"\u21a9\ufe0f",lemon:"\ud83c\udf4b",leo:"\u264c\ufe0f",leopard:"\ud83d\udc06",level_slider:"\ud83c\udf9a",libra:"\u264e\ufe0f",light_rail:"\ud83d\ude88",link:"\ud83d\udd17",lion:"\ud83e\udd81",lips:"\ud83d\udc44",lipstick:"\ud83d\udc84",lizard:"\ud83e\udd8e",lock:"\ud83d\udd12",lock_with_ink_pen:"\ud83d\udd0f",lollipop:"\ud83c\udf6d",loop:"\u27bf",loud_sound:"\ud83d\udd0a",loudspeaker:"\ud83d\udce2",love_hotel:"\ud83c\udfe9",love_letter:"\ud83d\udc8c",low_brightness:"\ud83d\udd05",lying_face:"\ud83e\udd25",m:"\u24c2\ufe0f",mag:"\ud83d\udd0d",mag_right:"\ud83d\udd0e",mahjong:"\ud83c\udc04\ufe0f",mailbox:"\ud83d\udceb",mailbox_closed:"\ud83d\udcea",mailbox_with_mail:"\ud83d\udcec",mailbox_with_no_mail:"\ud83d\udced",man:"\ud83d\udc68",man_artist:"\ud83d\udc68&zwj;\ud83c\udfa8",man_astronaut:"\ud83d\udc68&zwj;\ud83d\ude80",man_cartwheeling:"\ud83e\udd38&zwj;\u2642\ufe0f",man_cook:"\ud83d\udc68&zwj;\ud83c\udf73",man_dancing:"\ud83d\udd7a",man_facepalming:"\ud83e\udd26&zwj;\u2642\ufe0f",man_factory_worker:"\ud83d\udc68&zwj;\ud83c\udfed",man_farmer:"\ud83d\udc68&zwj;\ud83c\udf3e",man_firefighter:"\ud83d\udc68&zwj;\ud83d\ude92",man_health_worker:"\ud83d\udc68&zwj;\u2695\ufe0f",man_in_tuxedo:"\ud83e\udd35",man_judge:"\ud83d\udc68&zwj;\u2696\ufe0f",man_juggling:"\ud83e\udd39&zwj;\u2642\ufe0f",man_mechanic:"\ud83d\udc68&zwj;\ud83d\udd27",man_office_worker:"\ud83d\udc68&zwj;\ud83d\udcbc",man_pilot:"\ud83d\udc68&zwj;\u2708\ufe0f",man_playing_handball:"\ud83e\udd3e&zwj;\u2642\ufe0f",man_playing_water_polo:"\ud83e\udd3d&zwj;\u2642\ufe0f",man_scientist:"\ud83d\udc68&zwj;\ud83d\udd2c",man_shrugging:"\ud83e\udd37&zwj;\u2642\ufe0f",man_singer:"\ud83d\udc68&zwj;\ud83c\udfa4",man_student:"\ud83d\udc68&zwj;\ud83c\udf93",man_teacher:"\ud83d\udc68&zwj;\ud83c\udfeb",man_technologist:"\ud83d\udc68&zwj;\ud83d\udcbb",man_with_gua_pi_mao:"\ud83d\udc72",man_with_turban:"\ud83d\udc73",tangerine:"\ud83c\udf4a",mans_shoe:"\ud83d\udc5e",mantelpiece_clock:"\ud83d\udd70",maple_leaf:"\ud83c\udf41",martial_arts_uniform:"\ud83e\udd4b",mask:"\ud83d\ude37",massage_woman:"\ud83d\udc86",massage_man:"\ud83d\udc86&zwj;\u2642\ufe0f",meat_on_bone:"\ud83c\udf56",medal_military:"\ud83c\udf96",medal_sports:"\ud83c\udfc5",mega:"\ud83d\udce3",melon:"\ud83c\udf48",memo:"\ud83d\udcdd",men_wrestling:"\ud83e\udd3c&zwj;\u2642\ufe0f",menorah:"\ud83d\udd4e",mens:"\ud83d\udeb9",metal:"\ud83e\udd18",metro:"\ud83d\ude87",microphone:"\ud83c\udfa4",microscope:"\ud83d\udd2c",milk_glass:"\ud83e\udd5b",milky_way:"\ud83c\udf0c",minibus:"\ud83d\ude90",minidisc:"\ud83d\udcbd",mobile_phone_off:"\ud83d\udcf4",money_mouth_face:"\ud83e\udd11",money_with_wings:"\ud83d\udcb8",moneybag:"\ud83d\udcb0",monkey:"\ud83d\udc12",monkey_face:"\ud83d\udc35",monorail:"\ud83d\ude9d",moon:"\ud83c\udf14",mortar_board:"\ud83c\udf93",mosque:"\ud83d\udd4c",motor_boat:"\ud83d\udee5",motor_scooter:"\ud83d\udef5",motorcycle:"\ud83c\udfcd",motorway:"\ud83d\udee3",mount_fuji:"\ud83d\uddfb",mountain:"\u26f0",mountain_biking_man:"\ud83d\udeb5",mountain_biking_woman:"\ud83d\udeb5&zwj;\u2640\ufe0f",mountain_cableway:"\ud83d\udea0",mountain_railway:"\ud83d\ude9e",mountain_snow:"\ud83c\udfd4",mouse:"\ud83d\udc2d",mouse2:"\ud83d\udc01",movie_camera:"\ud83c\udfa5",moyai:"\ud83d\uddff",mrs_claus:"\ud83e\udd36",muscle:"\ud83d\udcaa",mushroom:"\ud83c\udf44",musical_keyboard:"\ud83c\udfb9",musical_note:"\ud83c\udfb5",musical_score:"\ud83c\udfbc",mute:"\ud83d\udd07",nail_care:"\ud83d\udc85",name_badge:"\ud83d\udcdb",national_park:"\ud83c\udfde",nauseated_face:"\ud83e\udd22",necktie:"\ud83d\udc54",negative_squared_cross_mark:"\u274e",nerd_face:"\ud83e\udd13",neutral_face:"\ud83d\ude10",new:"\ud83c\udd95",new_moon:"\ud83c\udf11",new_moon_with_face:"\ud83c\udf1a",newspaper:"\ud83d\udcf0",newspaper_roll:"\ud83d\uddde",next_track_button:"\u23ed",ng:"\ud83c\udd96",no_good_man:"\ud83d\ude45&zwj;\u2642\ufe0f",no_good_woman:"\ud83d\ude45",night_with_stars:"\ud83c\udf03",no_bell:"\ud83d\udd15",no_bicycles:"\ud83d\udeb3",no_entry:"\u26d4\ufe0f",no_entry_sign:"\ud83d\udeab",no_mobile_phones:"\ud83d\udcf5",no_mouth:"\ud83d\ude36",no_pedestrians:"\ud83d\udeb7",no_smoking:"\ud83d\udead","non-potable_water":"\ud83d\udeb1",nose:"\ud83d\udc43",notebook:"\ud83d\udcd3",notebook_with_decorative_cover:"\ud83d\udcd4",notes:"\ud83c\udfb6",nut_and_bolt:"\ud83d\udd29",o:"\u2b55\ufe0f",o2:"\ud83c\udd7e\ufe0f",ocean:"\ud83c\udf0a",octopus:"\ud83d\udc19",oden:"\ud83c\udf62",office:"\ud83c\udfe2",oil_drum:"\ud83d\udee2",ok:"\ud83c\udd97",ok_hand:"\ud83d\udc4c",ok_man:"\ud83d\ude46&zwj;\u2642\ufe0f",ok_woman:"\ud83d\ude46",old_key:"\ud83d\udddd",older_man:"\ud83d\udc74",older_woman:"\ud83d\udc75",om:"\ud83d\udd49",on:"\ud83d\udd1b",oncoming_automobile:"\ud83d\ude98",oncoming_bus:"\ud83d\ude8d",oncoming_police_car:"\ud83d\ude94",oncoming_taxi:"\ud83d\ude96",open_file_folder:"\ud83d\udcc2",open_hands:"\ud83d\udc50",open_mouth:"\ud83d\ude2e",open_umbrella:"\u2602\ufe0f",ophiuchus:"\u26ce",orange_book:"\ud83d\udcd9",orthodox_cross:"\u2626\ufe0f",outbox_tray:"\ud83d\udce4",owl:"\ud83e\udd89",ox:"\ud83d\udc02",package:"\ud83d\udce6",page_facing_up:"\ud83d\udcc4",page_with_curl:"\ud83d\udcc3",pager:"\ud83d\udcdf",paintbrush:"\ud83d\udd8c",palm_tree:"\ud83c\udf34",pancakes:"\ud83e\udd5e",panda_face:"\ud83d\udc3c",paperclip:"\ud83d\udcce",paperclips:"\ud83d\udd87",parasol_on_ground:"\u26f1",parking:"\ud83c\udd7f\ufe0f",part_alternation_mark:"\u303d\ufe0f",partly_sunny:"\u26c5\ufe0f",passenger_ship:"\ud83d\udef3",passport_control:"\ud83d\udec2",pause_button:"\u23f8",peace_symbol:"\u262e\ufe0f",peach:"\ud83c\udf51",peanuts:"\ud83e\udd5c",pear:"\ud83c\udf50",pen:"\ud83d\udd8a",pencil2:"\u270f\ufe0f",penguin:"\ud83d\udc27",pensive:"\ud83d\ude14",performing_arts:"\ud83c\udfad",persevere:"\ud83d\ude23",person_fencing:"\ud83e\udd3a",pouting_woman:"\ud83d\ude4e",phone:"\u260e\ufe0f",pick:"\u26cf",pig:"\ud83d\udc37",pig2:"\ud83d\udc16",pig_nose:"\ud83d\udc3d",pill:"\ud83d\udc8a",pineapple:"\ud83c\udf4d",ping_pong:"\ud83c\udfd3",pisces:"\u2653\ufe0f",pizza:"\ud83c\udf55",place_of_worship:"\ud83d\uded0",plate_with_cutlery:"\ud83c\udf7d",play_or_pause_button:"\u23ef",point_down:"\ud83d\udc47",point_left:"\ud83d\udc48",point_right:"\ud83d\udc49",point_up:"\u261d\ufe0f",point_up_2:"\ud83d\udc46",police_car:"\ud83d\ude93",policewoman:"\ud83d\udc6e&zwj;\u2640\ufe0f",poodle:"\ud83d\udc29",popcorn:"\ud83c\udf7f",post_office:"\ud83c\udfe3",postal_horn:"\ud83d\udcef",postbox:"\ud83d\udcee",potable_water:"\ud83d\udeb0",potato:"\ud83e\udd54",pouch:"\ud83d\udc5d",poultry_leg:"\ud83c\udf57",pound:"\ud83d\udcb7",rage:"\ud83d\ude21",pouting_cat:"\ud83d\ude3e",pouting_man:"\ud83d\ude4e&zwj;\u2642\ufe0f",pray:"\ud83d\ude4f",prayer_beads:"\ud83d\udcff",pregnant_woman:"\ud83e\udd30",previous_track_button:"\u23ee",prince:"\ud83e\udd34",princess:"\ud83d\udc78",printer:"\ud83d\udda8",purple_heart:"\ud83d\udc9c",purse:"\ud83d\udc5b",pushpin:"\ud83d\udccc",put_litter_in_its_place:"\ud83d\udeae",question:"\u2753",rabbit:"\ud83d\udc30",rabbit2:"\ud83d\udc07",racehorse:"\ud83d\udc0e",racing_car:"\ud83c\udfce",radio:"\ud83d\udcfb",radio_button:"\ud83d\udd18",radioactive:"\u2622\ufe0f",railway_car:"\ud83d\ude83",railway_track:"\ud83d\udee4",rainbow:"\ud83c\udf08",rainbow_flag:"\ud83c\udff3\ufe0f&zwj;\ud83c\udf08",raised_back_of_hand:"\ud83e\udd1a",raised_hand_with_fingers_splayed:"\ud83d\udd90",raised_hands:"\ud83d\ude4c",raising_hand_woman:"\ud83d\ude4b",raising_hand_man:"\ud83d\ude4b&zwj;\u2642\ufe0f",ram:"\ud83d\udc0f",ramen:"\ud83c\udf5c",rat:"\ud83d\udc00",record_button:"\u23fa",recycle:"\u267b\ufe0f",red_circle:"\ud83d\udd34",registered:"\xae\ufe0f",relaxed:"\u263a\ufe0f",relieved:"\ud83d\ude0c",reminder_ribbon:"\ud83c\udf97",repeat:"\ud83d\udd01",repeat_one:"\ud83d\udd02",rescue_worker_helmet:"\u26d1",restroom:"\ud83d\udebb",revolving_hearts:"\ud83d\udc9e",rewind:"\u23ea",rhinoceros:"\ud83e\udd8f",ribbon:"\ud83c\udf80",rice:"\ud83c\udf5a",rice_ball:"\ud83c\udf59",rice_cracker:"\ud83c\udf58",rice_scene:"\ud83c\udf91",right_anger_bubble:"\ud83d\uddef",ring:"\ud83d\udc8d",robot:"\ud83e\udd16",rocket:"\ud83d\ude80",rofl:"\ud83e\udd23",roll_eyes:"\ud83d\ude44",roller_coaster:"\ud83c\udfa2",rooster:"\ud83d\udc13",rose:"\ud83c\udf39",rosette:"\ud83c\udff5",rotating_light:"\ud83d\udea8",round_pushpin:"\ud83d\udccd",rowing_man:"\ud83d\udea3",rowing_woman:"\ud83d\udea3&zwj;\u2640\ufe0f",rugby_football:"\ud83c\udfc9",running_man:"\ud83c\udfc3",running_shirt_with_sash:"\ud83c\udfbd",running_woman:"\ud83c\udfc3&zwj;\u2640\ufe0f",sa:"\ud83c\ude02\ufe0f",sagittarius:"\u2650\ufe0f",sake:"\ud83c\udf76",sandal:"\ud83d\udc61",santa:"\ud83c\udf85",satellite:"\ud83d\udce1",saxophone:"\ud83c\udfb7",school:"\ud83c\udfeb",school_satchel:"\ud83c\udf92",scissors:"\u2702\ufe0f",scorpion:"\ud83e\udd82",scorpius:"\u264f\ufe0f",scream:"\ud83d\ude31",scream_cat:"\ud83d\ude40",scroll:"\ud83d\udcdc",seat:"\ud83d\udcba",secret:"\u3299\ufe0f",see_no_evil:"\ud83d\ude48",seedling:"\ud83c\udf31",selfie:"\ud83e\udd33",shallow_pan_of_food:"\ud83e\udd58",shamrock:"\u2618\ufe0f",shark:"\ud83e\udd88",shaved_ice:"\ud83c\udf67",sheep:"\ud83d\udc11",shell:"\ud83d\udc1a",shield:"\ud83d\udee1",shinto_shrine:"\u26e9",ship:"\ud83d\udea2",shirt:"\ud83d\udc55",shopping:"\ud83d\udecd",shopping_cart:"\ud83d\uded2",shower:"\ud83d\udebf",shrimp:"\ud83e\udd90",signal_strength:"\ud83d\udcf6",six_pointed_star:"\ud83d\udd2f",ski:"\ud83c\udfbf",skier:"\u26f7",skull:"\ud83d\udc80",skull_and_crossbones:"\u2620\ufe0f",sleeping:"\ud83d\ude34",sleeping_bed:"\ud83d\udecc",sleepy:"\ud83d\ude2a",slightly_frowning_face:"\ud83d\ude41",slightly_smiling_face:"\ud83d\ude42",slot_machine:"\ud83c\udfb0",small_airplane:"\ud83d\udee9",small_blue_diamond:"\ud83d\udd39",small_orange_diamond:"\ud83d\udd38",small_red_triangle:"\ud83d\udd3a",small_red_triangle_down:"\ud83d\udd3b",smile:"\ud83d\ude04",smile_cat:"\ud83d\ude38",smiley:"\ud83d\ude03",smiley_cat:"\ud83d\ude3a",smiling_imp:"\ud83d\ude08",smirk:"\ud83d\ude0f",smirk_cat:"\ud83d\ude3c",smoking:"\ud83d\udeac",snail:"\ud83d\udc0c",snake:"\ud83d\udc0d",sneezing_face:"\ud83e\udd27",snowboarder:"\ud83c\udfc2",snowflake:"\u2744\ufe0f",snowman:"\u26c4\ufe0f",snowman_with_snow:"\u2603\ufe0f",sob:"\ud83d\ude2d",soccer:"\u26bd\ufe0f",soon:"\ud83d\udd1c",sos:"\ud83c\udd98",sound:"\ud83d\udd09",space_invader:"\ud83d\udc7e",spades:"\u2660\ufe0f",spaghetti:"\ud83c\udf5d",sparkle:"\u2747\ufe0f",sparkler:"\ud83c\udf87",sparkles:"\u2728",sparkling_heart:"\ud83d\udc96",speak_no_evil:"\ud83d\ude4a",speaker:"\ud83d\udd08",speaking_head:"\ud83d\udde3",speech_balloon:"\ud83d\udcac",speedboat:"\ud83d\udea4",spider:"\ud83d\udd77",spider_web:"\ud83d\udd78",spiral_calendar:"\ud83d\uddd3",spiral_notepad:"\ud83d\uddd2",spoon:"\ud83e\udd44",squid:"\ud83e\udd91",stadium:"\ud83c\udfdf",star:"\u2b50\ufe0f",star2:"\ud83c\udf1f",star_and_crescent:"\u262a\ufe0f",star_of_david:"\u2721\ufe0f",stars:"\ud83c\udf20",station:"\ud83d\ude89",statue_of_liberty:"\ud83d\uddfd",steam_locomotive:"\ud83d\ude82",stew:"\ud83c\udf72",stop_button:"\u23f9",stop_sign:"\ud83d\uded1",stopwatch:"\u23f1",straight_ruler:"\ud83d\udccf",strawberry:"\ud83c\udf53",stuck_out_tongue:"\ud83d\ude1b",stuck_out_tongue_closed_eyes:"\ud83d\ude1d",stuck_out_tongue_winking_eye:"\ud83d\ude1c",studio_microphone:"\ud83c\udf99",stuffed_flatbread:"\ud83e\udd59",sun_behind_large_cloud:"\ud83c\udf25",sun_behind_rain_cloud:"\ud83c\udf26",sun_behind_small_cloud:"\ud83c\udf24",sun_with_face:"\ud83c\udf1e",sunflower:"\ud83c\udf3b",sunglasses:"\ud83d\ude0e",sunny:"\u2600\ufe0f",sunrise:"\ud83c\udf05",sunrise_over_mountains:"\ud83c\udf04",surfing_man:"\ud83c\udfc4",surfing_woman:"\ud83c\udfc4&zwj;\u2640\ufe0f",sushi:"\ud83c\udf63",suspension_railway:"\ud83d\ude9f",sweat:"\ud83d\ude13",sweat_drops:"\ud83d\udca6",sweat_smile:"\ud83d\ude05",sweet_potato:"\ud83c\udf60",swimming_man:"\ud83c\udfca",swimming_woman:"\ud83c\udfca&zwj;\u2640\ufe0f",symbols:"\ud83d\udd23",synagogue:"\ud83d\udd4d",syringe:"\ud83d\udc89",taco:"\ud83c\udf2e",tada:"\ud83c\udf89",tanabata_tree:"\ud83c\udf8b",taurus:"\u2649\ufe0f",taxi:"\ud83d\ude95",tea:"\ud83c\udf75",telephone_receiver:"\ud83d\udcde",telescope:"\ud83d\udd2d",tennis:"\ud83c\udfbe",tent:"\u26fa\ufe0f",thermometer:"\ud83c\udf21",thinking:"\ud83e\udd14",thought_balloon:"\ud83d\udcad",ticket:"\ud83c\udfab",tickets:"\ud83c\udf9f",tiger:"\ud83d\udc2f",tiger2:"\ud83d\udc05",timer_clock:"\u23f2",tipping_hand_man:"\ud83d\udc81&zwj;\u2642\ufe0f",tired_face:"\ud83d\ude2b",tm:"\u2122\ufe0f",toilet:"\ud83d\udebd",tokyo_tower:"\ud83d\uddfc",tomato:"\ud83c\udf45",tongue:"\ud83d\udc45",top:"\ud83d\udd1d",tophat:"\ud83c\udfa9",tornado:"\ud83c\udf2a",trackball:"\ud83d\uddb2",tractor:"\ud83d\ude9c",traffic_light:"\ud83d\udea5",train:"\ud83d\ude8b",train2:"\ud83d\ude86",tram:"\ud83d\ude8a",triangular_flag_on_post:"\ud83d\udea9",triangular_ruler:"\ud83d\udcd0",trident:"\ud83d\udd31",triumph:"\ud83d\ude24",trolleybus:"\ud83d\ude8e",trophy:"\ud83c\udfc6",tropical_drink:"\ud83c\udf79",tropical_fish:"\ud83d\udc20",truck:"\ud83d\ude9a",trumpet:"\ud83c\udfba",tulip:"\ud83c\udf37",tumbler_glass:"\ud83e\udd43",turkey:"\ud83e\udd83",turtle:"\ud83d\udc22",tv:"\ud83d\udcfa",twisted_rightwards_arrows:"\ud83d\udd00",two_hearts:"\ud83d\udc95",two_men_holding_hands:"\ud83d\udc6c",two_women_holding_hands:"\ud83d\udc6d",u5272:"\ud83c\ude39",u5408:"\ud83c\ude34",u55b6:"\ud83c\ude3a",u6307:"\ud83c\ude2f\ufe0f",u6708:"\ud83c\ude37\ufe0f",u6709:"\ud83c\ude36",u6e80:"\ud83c\ude35",u7121:"\ud83c\ude1a\ufe0f",u7533:"\ud83c\ude38",u7981:"\ud83c\ude32",u7a7a:"\ud83c\ude33",umbrella:"\u2614\ufe0f",unamused:"\ud83d\ude12",underage:"\ud83d\udd1e",unicorn:"\ud83e\udd84",unlock:"\ud83d\udd13",up:"\ud83c\udd99",upside_down_face:"\ud83d\ude43",v:"\u270c\ufe0f",vertical_traffic_light:"\ud83d\udea6",vhs:"\ud83d\udcfc",vibration_mode:"\ud83d\udcf3",video_camera:"\ud83d\udcf9",video_game:"\ud83c\udfae",violin:"\ud83c\udfbb",virgo:"\u264d\ufe0f",volcano:"\ud83c\udf0b",volleyball:"\ud83c\udfd0",vs:"\ud83c\udd9a",vulcan_salute:"\ud83d\udd96",walking_man:"\ud83d\udeb6",walking_woman:"\ud83d\udeb6&zwj;\u2640\ufe0f",waning_crescent_moon:"\ud83c\udf18",waning_gibbous_moon:"\ud83c\udf16",warning:"\u26a0\ufe0f",wastebasket:"\ud83d\uddd1",watch:"\u231a\ufe0f",water_buffalo:"\ud83d\udc03",watermelon:"\ud83c\udf49",wave:"\ud83d\udc4b",wavy_dash:"\u3030\ufe0f",waxing_crescent_moon:"\ud83c\udf12",wc:"\ud83d\udebe",weary:"\ud83d\ude29",wedding:"\ud83d\udc92",weight_lifting_man:"\ud83c\udfcb\ufe0f",weight_lifting_woman:"\ud83c\udfcb\ufe0f&zwj;\u2640\ufe0f",whale:"\ud83d\udc33",whale2:"\ud83d\udc0b",wheel_of_dharma:"\u2638\ufe0f",wheelchair:"\u267f\ufe0f",white_check_mark:"\u2705",white_circle:"\u26aa\ufe0f",white_flag:"\ud83c\udff3\ufe0f",white_flower:"\ud83d\udcae",white_large_square:"\u2b1c\ufe0f",white_medium_small_square:"\u25fd\ufe0f",white_medium_square:"\u25fb\ufe0f",white_small_square:"\u25ab\ufe0f",white_square_button:"\ud83d\udd33",wilted_flower:"\ud83e\udd40",wind_chime:"\ud83c\udf90",wind_face:"\ud83c\udf2c",wine_glass:"\ud83c\udf77",wink:"\ud83d\ude09",wolf:"\ud83d\udc3a",woman:"\ud83d\udc69",woman_artist:"\ud83d\udc69&zwj;\ud83c\udfa8",woman_astronaut:"\ud83d\udc69&zwj;\ud83d\ude80",woman_cartwheeling:"\ud83e\udd38&zwj;\u2640\ufe0f",woman_cook:"\ud83d\udc69&zwj;\ud83c\udf73",woman_facepalming:"\ud83e\udd26&zwj;\u2640\ufe0f",woman_factory_worker:"\ud83d\udc69&zwj;\ud83c\udfed",woman_farmer:"\ud83d\udc69&zwj;\ud83c\udf3e",woman_firefighter:"\ud83d\udc69&zwj;\ud83d\ude92",woman_health_worker:"\ud83d\udc69&zwj;\u2695\ufe0f",woman_judge:"\ud83d\udc69&zwj;\u2696\ufe0f",woman_juggling:"\ud83e\udd39&zwj;\u2640\ufe0f",woman_mechanic:"\ud83d\udc69&zwj;\ud83d\udd27",woman_office_worker:"\ud83d\udc69&zwj;\ud83d\udcbc",woman_pilot:"\ud83d\udc69&zwj;\u2708\ufe0f",woman_playing_handball:"\ud83e\udd3e&zwj;\u2640\ufe0f",woman_playing_water_polo:"\ud83e\udd3d&zwj;\u2640\ufe0f",woman_scientist:"\ud83d\udc69&zwj;\ud83d\udd2c",woman_shrugging:"\ud83e\udd37&zwj;\u2640\ufe0f",woman_singer:"\ud83d\udc69&zwj;\ud83c\udfa4",woman_student:"\ud83d\udc69&zwj;\ud83c\udf93",woman_teacher:"\ud83d\udc69&zwj;\ud83c\udfeb",woman_technologist:"\ud83d\udc69&zwj;\ud83d\udcbb",woman_with_turban:"\ud83d\udc73&zwj;\u2640\ufe0f",womans_clothes:"\ud83d\udc5a",womans_hat:"\ud83d\udc52",women_wrestling:"\ud83e\udd3c&zwj;\u2640\ufe0f",womens:"\ud83d\udeba",world_map:"\ud83d\uddfa",worried:"\ud83d\ude1f",wrench:"\ud83d\udd27",writing_hand:"\u270d\ufe0f",x:"\u274c",yellow_heart:"\ud83d\udc9b",yen:"\ud83d\udcb4",yin_yang:"\u262f\ufe0f",yum:"\ud83d\ude0b",zap:"\u26a1\ufe0f",zipper_mouth_face:"\ud83e\udd10",zzz:"\ud83d\udca4",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:"<span style=\"font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>"},r.Converter=function(t){"use strict";var e={},n=[],i=[],o={},a=c,d={parsed:{},raw:"",format:""};function p(t,e){if(e=e||null,r.helper.isString(t)){if(e=t=r.helper.stdExtName(t),r.extensions[t])return console.warn("DEPRECATION WARNING: "+t+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void function(t,e){"function"===typeof t&&(t=t(new r.Converter));r.helper.isArray(t)||(t=[t]);var o=h(t,e);if(!o.valid)throw Error(o.error);for(var a=0;a<t.length;++a)switch(t[a].type){case"lang":n.push(t[a]);break;case"output":i.push(t[a]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}(r.extensions[t],t);if(r.helper.isUndefined(s[t]))throw Error('Extension "'+t+'" could not be loaded. It was either not found or is not a valid extension.');t=s[t]}"function"===typeof t&&(t=t()),r.helper.isArray(t)||(t=[t]);var o=h(t,e);if(!o.valid)throw Error(o.error);for(var a=0;a<t.length;++a){switch(t[a].type){case"lang":n.push(t[a]);break;case"output":i.push(t[a])}if(t[a].hasOwnProperty("listeners"))for(var l in t[a].listeners)t[a].listeners.hasOwnProperty(l)&&f(l,t[a].listeners[l])}}function f(t,e){if(!r.helper.isString(t))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof t+" given");if("function"!==typeof e)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof e+" given");o.hasOwnProperty(t)||(o[t]=[]),o[t].push(e)}!function(){for(var n in t=t||{},l)l.hasOwnProperty(n)&&(e[n]=l[n]);if("object"!==typeof t)throw Error("Converter expects the passed parameter to be an object, but "+typeof t+" was passed instead.");for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.extensions&&r.helper.forEach(e.extensions,p)}(),this._dispatch=function(t,e,n,i){if(o.hasOwnProperty(t))for(var r=0;r<o[t].length;++r){var a=o[t][r](t,e,this,n,i);a&&"undefined"!==typeof a&&(e=a)}return e},this.listen=function(t,e){return f(t,e),this},this.makeHtml=function(t){if(!t)return t;var o={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:n,outputModifiers:i,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return t=(t=(t=(t=(t=t.replace(/\xa8/g,"\xa8T")).replace(/\$/g,"\xa8D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/\u00A0/g,"&nbsp;"),e.smartIndentationFix&&(t=function(t){var e=t.match(/^\s*/)[0].length,n=new RegExp("^\\s{0,"+e+"}","gm");return t.replace(n,"")}(t)),t="\n\n"+t+"\n\n",t=(t=r.subParser("detab")(t,e,o)).replace(/^[ \t]+$/gm,""),r.helper.forEach(n,function(n){t=r.subParser("runExtension")(n,t,e,o)}),t=r.subParser("metadata")(t,e,o),t=r.subParser("hashPreCodeTags")(t,e,o),t=r.subParser("githubCodeBlocks")(t,e,o),t=r.subParser("hashHTMLBlocks")(t,e,o),t=r.subParser("hashCodeTags")(t,e,o),t=r.subParser("stripLinkDefinitions")(t,e,o),t=r.subParser("blockGamut")(t,e,o),t=r.subParser("unhashHTMLSpans")(t,e,o),t=(t=(t=r.subParser("unescapeSpecialChars")(t,e,o)).replace(/\xa8D/g,"$$")).replace(/\xa8T/g,"\xa8"),t=r.subParser("completeHTMLDocument")(t,e,o),r.helper.forEach(i,function(n){t=r.subParser("runExtension")(n,t,e,o)}),d=o.metadata,t},this.makeMarkdown=this.makeMd=function(t,e){if(t=(t=(t=t.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/>[ \t]+</,">\xa8NBSP;<"),!e){if(!window||!window.document)throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");e=window.document}var n=e.createElement("div");n.innerHTML=t;var i={preList:function(t){for(var e=t.querySelectorAll("pre"),n=[],i=0;i<e.length;++i)if(1===e[i].childElementCount&&"code"===e[i].firstChild.tagName.toLowerCase()){var o=e[i].firstChild.innerHTML.trim(),a=e[i].firstChild.getAttribute("data-language")||"";if(""===a)for(var s=e[i].firstChild.className.split(" "),l=0;l<s.length;++l){var c=s[l].match(/^language-(.+)$/);if(null!==c){a=c[1];break}}o=r.helper.unescapeHTMLEntities(o),n.push(o),e[i].outerHTML='<precode language="'+a+'" precodenum="'+i.toString()+'"></precode>'}else n.push(e[i].innerHTML),e[i].innerHTML="",e[i].setAttribute("prenum",i.toString());return n}(n)};!function t(e){for(var n=0;n<e.childNodes.length;++n){var i=e.childNodes[n];3===i.nodeType?/\S/.test(i.nodeValue)?(i.nodeValue=i.nodeValue.split("\n").join(" "),i.nodeValue=i.nodeValue.replace(/(\s)+/g,"$1")):(e.removeChild(i),--n):1===i.nodeType&&t(i)}}(n);for(var o=n.childNodes,a="",s=0;s<o.length;s++)a+=r.subParser("makeMarkdown.node")(o[s],i);return a},this.setOption=function(t,n){e[t]=n},this.getOption=function(t){return e[t]},this.getOptions=function(){return e},this.addExtension=function(t,e){p(t,e=e||null)},this.useExtension=function(t){p(t)},this.setFlavor=function(t){if(!u.hasOwnProperty(t))throw Error(t+" flavor was not found");var n=u[t];for(var i in a=t,n)n.hasOwnProperty(i)&&(e[i]=n[i])},this.getFlavor=function(){return a},this.removeExtension=function(t){r.helper.isArray(t)||(t=[t]);for(var e=0;e<t.length;++e){for(var o=t[e],a=0;a<n.length;++a)n[a]===o&&n[a].splice(a,1);for(;0<i.length;++a)i[0]===o&&i[0].splice(a,1)}},this.getAllExtensions=function(){return{language:n,output:i}},this.getMetadata=function(t){return t?d.raw:d.parsed},this.getMetadataFormat=function(){return d.format},this._setMetadataPair=function(t,e){d.parsed[t]=e},this._setMetadataFormat=function(t){d.format=t},this._setMetadataRaw=function(t){d.raw=t}},r.subParser("anchors",function(t,e,n){"use strict";var i=function(t,i,o,a,s,l,c){if(r.helper.isUndefined(c)&&(c=""),o=o.toLowerCase(),t.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)a="";else if(!a){if(o||(o=i.toLowerCase().replace(/ ?\n/g," ")),a="#"+o,r.helper.isUndefined(n.gUrls[o]))return t;a=n.gUrls[o],r.helper.isUndefined(n.gTitles[o])||(c=n.gTitles[o])}var u='<a href="'+(a=a.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback))+'"';return""!==c&&null!==c&&(u+=' title="'+(c=(c=c.replace(/"/g,"&quot;")).replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback))+'"'),e.openLinksInNewWindow&&!/^#/.test(a)&&(u+=' rel="noopener noreferrer" target="\xa8E95Eblank"'),u+=">"+i+"</a>"};return t=(t=(t=(t=(t=n.converter._dispatch("anchors.before",t,e,n)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,i)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,i)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,i)).replace(/\[([^\[\]]+)]()()()()()/g,i),e.ghMentions&&(t=t.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gim,function(t,n,i,o,a){if("\\"===i)return n+o;if(!r.helper.isString(e.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var s=e.ghMentionsLink.replace(/\{u}/g,a),l="";return e.openLinksInNewWindow&&(l=' rel="noopener noreferrer" target="\xa8E95Eblank"'),n+'<a href="'+s+'"'+l+">"+o+"</a>"})),t=n.converter._dispatch("anchors.after",t,e,n)});var f=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,m=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,g=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,v=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,y=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,_=function(t){"use strict";return function(e,n,i,o,a,s,l){var c=i=i.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),u="",h="",d=n||"",p=l||"";return/^www\./i.test(i)&&(i=i.replace(/^www\./i,"http://www.")),t.excludeTrailingPunctuationFromURLs&&s&&(u=s),t.openLinksInNewWindow&&(h=' rel="noopener noreferrer" target="\xa8E95Eblank"'),d+'<a href="'+i+'"'+h+">"+c+"</a>"+u+p}},b=function(t,e){"use strict";return function(n,i,o){var a="mailto:";return i=i||"",o=r.subParser("unescapeSpecialChars")(o,t,e),t.encodeEmails?(a=r.helper.encodeEmailAddress(a+o),o=r.helper.encodeEmailAddress(o)):a+=o,i+'<a href="'+a+'">'+o+"</a>"}};r.subParser("autoLinks",function(t,e,n){"use strict";return t=(t=(t=n.converter._dispatch("autoLinks.before",t,e,n)).replace(g,_(e))).replace(y,b(e,n)),t=n.converter._dispatch("autoLinks.after",t,e,n)}),r.subParser("simplifiedAutoLinks",function(t,e,n){"use strict";return e.simplifiedAutoLink?(t=n.converter._dispatch("simplifiedAutoLinks.before",t,e,n),t=(t=e.excludeTrailingPunctuationFromURLs?t.replace(m,_(e)):t.replace(f,_(e))).replace(v,b(e,n)),t=n.converter._dispatch("simplifiedAutoLinks.after",t,e,n)):t}),r.subParser("blockGamut",function(t,e,n){"use strict";return t=n.converter._dispatch("blockGamut.before",t,e,n),t=r.subParser("blockQuotes")(t,e,n),t=r.subParser("headers")(t,e,n),t=r.subParser("horizontalRule")(t,e,n),t=r.subParser("lists")(t,e,n),t=r.subParser("codeBlocks")(t,e,n),t=r.subParser("tables")(t,e,n),t=r.subParser("hashHTMLBlocks")(t,e,n),t=r.subParser("paragraphs")(t,e,n),t=n.converter._dispatch("blockGamut.after",t,e,n)}),r.subParser("blockQuotes",function(t,e,n){"use strict";t=n.converter._dispatch("blockQuotes.before",t,e,n),t+="\n\n";var i=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return e.splitAdjacentBlockquotes&&(i=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),t=t.replace(i,function(t){return t=(t=(t=t.replace(/^[ \t]*>[ \t]?/gm,"")).replace(/\xa80/g,"")).replace(/^[ \t]+$/gm,""),t=r.subParser("githubCodeBlocks")(t,e,n),t=(t=(t=r.subParser("blockGamut")(t,e,n)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(t,e){var n=e;return n=(n=n.replace(/^  /gm,"\xa80")).replace(/\xa80/g,"")}),r.subParser("hashBlock")("<blockquote>\n"+t+"\n</blockquote>",e,n)}),t=n.converter._dispatch("blockQuotes.after",t,e,n)}),r.subParser("codeBlocks",function(t,e,n){"use strict";t=n.converter._dispatch("codeBlocks.before",t,e,n);return t=(t=(t+="\xa80").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=\xa80))/g,function(t,i,o){var a=i,s=o,l="\n";return a=r.subParser("outdent")(a,e,n),a=r.subParser("encodeCode")(a,e,n),a=(a=(a=r.subParser("detab")(a,e,n)).replace(/^\n+/g,"")).replace(/\n+$/g,""),e.omitExtraWLInCodeBlocks&&(l=""),a="<pre><code>"+a+l+"</code></pre>",r.subParser("hashBlock")(a,e,n)+s})).replace(/\xa80/,""),t=n.converter._dispatch("codeBlocks.after",t,e,n)}),r.subParser("codeSpans",function(t,e,n){"use strict";return"undefined"===typeof(t=n.converter._dispatch("codeSpans.before",t,e,n))&&(t=""),t=t.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(t,i,o,a){var s=a;return s=(s=s.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),s=i+"<code>"+(s=r.subParser("encodeCode")(s,e,n))+"</code>",s=r.subParser("hashHTMLSpans")(s,e,n)}),t=n.converter._dispatch("codeSpans.after",t,e,n)}),r.subParser("completeHTMLDocument",function(t,e,n){"use strict";if(!e.completeHTMLDocument)return t;t=n.converter._dispatch("completeHTMLDocument.before",t,e,n);var i="html",o="<!DOCTYPE HTML>\n",r="",a='<meta charset="utf-8">\n',s="",l="";for(var c in"undefined"!==typeof n.metadata.parsed.doctype&&(o="<!DOCTYPE "+n.metadata.parsed.doctype+">\n","html"!==(i=n.metadata.parsed.doctype.toString().toLowerCase())&&"html5"!==i||(a='<meta charset="utf-8">')),n.metadata.parsed)if(n.metadata.parsed.hasOwnProperty(c))switch(c.toLowerCase()){case"doctype":break;case"title":r="<title>"+n.metadata.parsed.title+"</title>\n";break;case"charset":a="html"===i||"html5"===i?'<meta charset="'+n.metadata.parsed.charset+'">\n':'<meta name="charset" content="'+n.metadata.parsed.charset+'">\n';break;case"language":case"lang":s=' lang="'+n.metadata.parsed[c]+'"',l+='<meta name="'+c+'" content="'+n.metadata.parsed[c]+'">\n';break;default:l+='<meta name="'+c+'" content="'+n.metadata.parsed[c]+'">\n'}return t=o+"<html"+s+">\n<head>\n"+r+a+l+"</head>\n<body>\n"+t.trim()+"\n</body>\n</html>",t=n.converter._dispatch("completeHTMLDocument.after",t,e,n)}),r.subParser("detab",function(t,e,n){"use strict";return t=(t=(t=(t=(t=(t=n.converter._dispatch("detab.before",t,e,n)).replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"\xa8A\xa8B")).replace(/\xa8B(.+?)\xa8A/g,function(t,e){for(var n=e,i=4-n.length%4,o=0;o<i;o++)n+=" ";return n})).replace(/\xa8A/g,"    ")).replace(/\xa8B/g,""),t=n.converter._dispatch("detab.after",t,e,n)}),r.subParser("ellipsis",function(t,e,n){"use strict";return t=(t=n.converter._dispatch("ellipsis.before",t,e,n)).replace(/\.\.\./g,"\u2026"),t=n.converter._dispatch("ellipsis.after",t,e,n)}),r.subParser("emoji",function(t,e,n){"use strict";if(!e.emoji)return t;return t=(t=n.converter._dispatch("emoji.before",t,e,n)).replace(/:([\S]+?):/g,function(t,e){return r.helper.emojis.hasOwnProperty(e)?r.helper.emojis[e]:t}),t=n.converter._dispatch("emoji.after",t,e,n)}),r.subParser("encodeAmpsAndAngles",function(t,e,n){"use strict";return t=(t=(t=(t=(t=n.converter._dispatch("encodeAmpsAndAngles.before",t,e,n)).replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?$!])/gi,"&lt;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),t=n.converter._dispatch("encodeAmpsAndAngles.after",t,e,n)}),r.subParser("encodeBackslashEscapes",function(t,e,n){"use strict";return t=(t=(t=n.converter._dispatch("encodeBackslashEscapes.before",t,e,n)).replace(/\\(\\)/g,r.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,r.helper.escapeCharactersCallback),t=n.converter._dispatch("encodeBackslashEscapes.after",t,e,n)}),r.subParser("encodeCode",function(t,e,n){"use strict";return t=(t=n.converter._dispatch("encodeCode.before",t,e,n)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,r.helper.escapeCharactersCallback),t=n.converter._dispatch("encodeCode.after",t,e,n)}),r.subParser("escapeSpecialCharsWithinTagAttributes",function(t,e,n){"use strict";return t=(t=(t=n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",t,e,n)).replace(/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,function(t){return t.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)})).replace(/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi,function(t){return t.replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),t=n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",t,e,n)}),r.subParser("githubCodeBlocks",function(t,e,n){"use strict";return e.ghCodeBlocks?(t=n.converter._dispatch("githubCodeBlocks.before",t,e,n),t=(t=(t+="\xa80").replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(t,i,o,a){var s=e.omitExtraWLInCodeBlocks?"":"\n";return a=r.subParser("encodeCode")(a,e,n),a="<pre><code"+(o?' class="'+o+" language-"+o+'"':"")+">"+(a=(a=(a=r.subParser("detab")(a,e,n)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+s+"</code></pre>",a=r.subParser("hashBlock")(a,e,n),"\n\n\xa8G"+(n.ghCodeBlocks.push({text:t,codeblock:a})-1)+"G\n\n"})).replace(/\xa80/,""),n.converter._dispatch("githubCodeBlocks.after",t,e,n)):t}),r.subParser("hashBlock",function(t,e,n){"use strict";return t=(t=n.converter._dispatch("hashBlock.before",t,e,n)).replace(/(^\n+|\n+$)/g,""),t="\n\n\xa8K"+(n.gHtmlBlocks.push(t)-1)+"K\n\n",t=n.converter._dispatch("hashBlock.after",t,e,n)}),r.subParser("hashCodeTags",function(t,e,n){"use strict";t=n.converter._dispatch("hashCodeTags.before",t,e,n);return t=r.helper.replaceRecursiveRegExp(t,function(t,i,o,a){var s=o+r.subParser("encodeCode")(i,e,n)+a;return"\xa8C"+(n.gHtmlSpans.push(s)-1)+"C"},"<code\\b[^>]*>","</code>","gim"),t=n.converter._dispatch("hashCodeTags.after",t,e,n)}),r.subParser("hashElement",function(t,e,n){"use strict";return function(t,e){var i=e;return i=(i=(i=i.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),i="\n\n\xa8K"+(n.gHtmlBlocks.push(i)-1)+"K\n\n"}}),r.subParser("hashHTMLBlocks",function(t,e,n){"use strict";t=n.converter._dispatch("hashHTMLBlocks.before",t,e,n);var i=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],o=function(t,e,i,o){var r=t;return-1!==i.search(/\bmarkdown\b/)&&(r=i+n.converter.makeHtml(e)+o),"\n\n\xa8K"+(n.gHtmlBlocks.push(r)-1)+"K\n\n"};e.backslashEscapesHTMLTags&&(t=t.replace(/\\<(\/?[^>]+?)>/g,function(t,e){return"&lt;"+e+"&gt;"}));for(var a=0;a<i.length;++a)for(var s,l=new RegExp("^ {0,3}(<"+i[a]+"\\b[^>]*>)","im"),c="<"+i[a]+"\\b[^>]*>",u="</"+i[a]+">";-1!==(s=r.helper.regexIndexOf(t,l));){var h=r.helper.splitAtIndex(t,s),d=r.helper.replaceRecursiveRegExp(h[1],o,c,u,"im");if(d===h[1])break;t=h[0].concat(d)}return t=t.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(t,e,n)),t=(t=r.helper.replaceRecursiveRegExp(t,function(t){return"\n\n\xa8K"+(n.gHtmlBlocks.push(t)-1)+"K\n\n"},"^ {0,3}\x3c!--","--\x3e","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(t,e,n)),t=n.converter._dispatch("hashHTMLBlocks.after",t,e,n)}),r.subParser("hashHTMLSpans",function(t,e,n){"use strict";function i(t){return"\xa8C"+(n.gHtmlSpans.push(t)-1)+"C"}return t=(t=(t=(t=(t=n.converter._dispatch("hashHTMLSpans.before",t,e,n)).replace(/<[^>]+?\/>/gi,function(t){return i(t)})).replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(t){return i(t)})).replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(t){return i(t)})).replace(/<[^>]+?>/gi,function(t){return i(t)}),t=n.converter._dispatch("hashHTMLSpans.after",t,e,n)}),r.subParser("unhashHTMLSpans",function(t,e,n){"use strict";t=n.converter._dispatch("unhashHTMLSpans.before",t,e,n);for(var i=0;i<n.gHtmlSpans.length;++i){for(var o=n.gHtmlSpans[i],r=0;/\xa8C(\d+)C/.test(o);){var a=RegExp.$1;if(o=o.replace("\xa8C"+a+"C",n.gHtmlSpans[a]),10===r){console.error("maximum nesting of 10 spans reached!!!");break}++r}t=t.replace("\xa8C"+i+"C",o)}return t=n.converter._dispatch("unhashHTMLSpans.after",t,e,n)}),r.subParser("hashPreCodeTags",function(t,e,n){"use strict";t=n.converter._dispatch("hashPreCodeTags.before",t,e,n);return t=r.helper.replaceRecursiveRegExp(t,function(t,i,o,a){var s=o+r.subParser("encodeCode")(i,e,n)+a;return"\n\n\xa8G"+(n.ghCodeBlocks.push({text:t,codeblock:s})-1)+"G\n\n"},"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),t=n.converter._dispatch("hashPreCodeTags.after",t,e,n)}),r.subParser("headers",function(t,e,n){"use strict";t=n.converter._dispatch("headers.before",t,e,n);var i=isNaN(parseInt(e.headerLevelStart))?1:parseInt(e.headerLevelStart),o=e.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,a=e.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;t=(t=t.replace(o,function(t,o){var a=r.subParser("spanGamut")(o,e,n),s=e.noHeaderId?"":' id="'+l(o)+'"',c="<h"+i+s+">"+a+"</h"+i+">";return r.subParser("hashBlock")(c,e,n)})).replace(a,function(t,o){var a=r.subParser("spanGamut")(o,e,n),s=e.noHeaderId?"":' id="'+l(o)+'"',c=i+1,u="<h"+c+s+">"+a+"</h"+c+">";return r.subParser("hashBlock")(u,e,n)});var s=e.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;function l(t){var i,o;if(e.customizedHeaderId){var a=t.match(/\{([^{]+?)}\s*$/);a&&a[1]&&(t=a[1])}return i=t,o=r.helper.isString(e.prefixHeaderId)?e.prefixHeaderId:!0===e.prefixHeaderId?"section-":"",e.rawPrefixHeaderId||(i=o+i),i=e.ghCompatibleHeaderId?i.replace(/ /g,"-").replace(/&amp;/g,"").replace(/\xa8T/g,"").replace(/\xa8D/g,"").replace(/[&+$,\/:;=?@"#{}|^\xa8~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():e.rawHeaderId?i.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/\xa8T/g,"\xa8").replace(/\xa8D/g,"$").replace(/["']/g,"-").toLowerCase():i.replace(/[^\w]/g,"").toLowerCase(),e.rawPrefixHeaderId&&(i=o+i),n.hashLinkCounts[i]?i=i+"-"+n.hashLinkCounts[i]++:n.hashLinkCounts[i]=1,i}return t=t.replace(s,function(t,o,a){var s=a;e.customizedHeaderId&&(s=a.replace(/\s?\{([^{]+?)}\s*$/,""));var c=r.subParser("spanGamut")(s,e,n),u=e.noHeaderId?"":' id="'+l(a)+'"',h=i-1+o.length,d="<h"+h+u+">"+c+"</h"+h+">";return r.subParser("hashBlock")(d,e,n)}),t=n.converter._dispatch("headers.after",t,e,n)}),r.subParser("horizontalRule",function(t,e,n){"use strict";t=n.converter._dispatch("horizontalRule.before",t,e,n);var i=r.subParser("hashBlock")("<hr />",e,n);return t=(t=(t=t.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,i)).replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,i)).replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,i),t=n.converter._dispatch("horizontalRule.after",t,e,n)}),r.subParser("images",function(t,e,n){"use strict";function i(t,e,i,o,a,s,l,c){var u=n.gUrls,h=n.gTitles,d=n.gDimensions;if(i=i.toLowerCase(),c||(c=""),t.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)o="";else if(""===o||null===o){if(""!==i&&null!==i||(i=e.toLowerCase().replace(/ ?\n/g," ")),o="#"+i,r.helper.isUndefined(u[i]))return t;o=u[i],r.helper.isUndefined(h[i])||(c=h[i]),r.helper.isUndefined(d[i])||(a=d[i].width,s=d[i].height)}e=e.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var p='<img src="'+(o=o.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback))+'" alt="'+e+'"';return c&&r.helper.isString(c)&&(p+=' title="'+(c=c.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback))+'"'),a&&s&&(p+=' width="'+(a="*"===a?"auto":a)+'"',p+=' height="'+(s="*"===s?"auto":s)+'"'),p+=" />"}return t=(t=(t=(t=(t=(t=n.converter._dispatch("images.before",t,e,n)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,i)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,function(t,e,n,o,r,a,s,l){return i(t,e,n,o=o.replace(/\s/g,""),r,a,0,l)})).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,i)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,i)).replace(/!\[([^\[\]]+)]()()()()()/g,i),t=n.converter._dispatch("images.after",t,e,n)}),r.subParser("italicsAndBold",function(t,e,n){"use strict";function i(t,e,n){return e+t+n}return t=n.converter._dispatch("italicsAndBold.before",t,e,n),t=e.literalMidWordUnderscores?(t=(t=t.replace(/\b___(\S[\s\S]*?)___\b/g,function(t,e){return i(e,"<strong><em>","</em></strong>")})).replace(/\b__(\S[\s\S]*?)__\b/g,function(t,e){return i(e,"<strong>","</strong>")})).replace(/\b_(\S[\s\S]*?)_\b/g,function(t,e){return i(e,"<em>","</em>")}):(t=(t=t.replace(/___(\S[\s\S]*?)___/g,function(t,e){return/\S$/.test(e)?i(e,"<strong><em>","</em></strong>"):t})).replace(/__(\S[\s\S]*?)__/g,function(t,e){return/\S$/.test(e)?i(e,"<strong>","</strong>"):t})).replace(/_([^\s_][\s\S]*?)_/g,function(t,e){return/\S$/.test(e)?i(e,"<em>","</em>"):t}),t=e.literalMidWordAsterisks?(t=(t=t.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(t,e,n){return i(n,e+"<strong><em>","</em></strong>")})).replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(t,e,n){return i(n,e+"<strong>","</strong>")})).replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(t,e,n){return i(n,e+"<em>","</em>")}):(t=(t=t.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(t,e){return/\S$/.test(e)?i(e,"<strong><em>","</em></strong>"):t})).replace(/\*\*(\S[\s\S]*?)\*\*/g,function(t,e){return/\S$/.test(e)?i(e,"<strong>","</strong>"):t})).replace(/\*([^\s*][\s\S]*?)\*/g,function(t,e){return/\S$/.test(e)?i(e,"<em>","</em>"):t}),t=n.converter._dispatch("italicsAndBold.after",t,e,n)}),r.subParser("lists",function(t,e,n){"use strict";function i(t,i){n.gListLevel++,t=t.replace(/\n{2,}$/,"\n");var o=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(\xa80| {0,3}([*+-]|\d+[.])[ \t]+))/gm,a=/\n[ \t]*\n(?!\xa80)/.test(t+="\xa80");return e.disableForced4SpacesIndentedSublists&&(o=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(\xa80|\2([*+-]|\d+[.])[ \t]+))/gm),t=(t=t.replace(o,function(t,i,o,s,l,c,u){u=u&&""!==u.trim();var h=r.subParser("outdent")(l,e,n),d="";return c&&e.tasklists&&(d=' class="task-list-item" style="list-style-type: none;"',h=h.replace(/^[ \t]*\[(x|X| )?]/m,function(){var t='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return u&&(t+=" checked"),t+=">"})),h=h.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(t){return"\xa8A"+t}),i||h.search(/\n{2,}/)>-1?(h=r.subParser("githubCodeBlocks")(h,e,n),h=r.subParser("blockGamut")(h,e,n)):(h=(h=r.subParser("lists")(h,e,n)).replace(/\n$/,""),h=(h=r.subParser("hashHTMLBlocks")(h,e,n)).replace(/\n\n+/g,"\n\n"),h=a?r.subParser("paragraphs")(h,e,n):r.subParser("spanGamut")(h,e,n)),h="<li"+d+">"+(h=h.replace("\xa8A",""))+"</li>\n"})).replace(/\xa80/g,""),n.gListLevel--,i&&(t=t.replace(/\s+$/,"")),t}function o(t,e){if("ol"===e){var n=t.match(/^ *(\d+)\./);if(n&&"1"!==n[1])return' start="'+n[1]+'"'}return""}function a(t,n,r){var a=e.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,s=e.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,l="ul"===n?a:s,c="";if(-1!==t.search(l))!function e(u){var h=u.search(l),d=o(t,n);-1!==h?(c+="\n\n<"+n+d+">\n"+i(u.slice(0,h),!!r)+"</"+n+">\n",l="ul"===(n="ul"===n?"ol":"ul")?a:s,e(u.slice(h))):c+="\n\n<"+n+d+">\n"+i(u,!!r)+"</"+n+">\n"}(t);else{var u=o(t,n);c="\n\n<"+n+u+">\n"+i(t,!!r)+"</"+n+">\n"}return c}return t=n.converter._dispatch("lists.before",t,e,n),t+="\xa80",t=(t=n.gListLevel?t.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(\xa80|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(t,e,n){return a(e,n.search(/[*+-]/g)>-1?"ul":"ol",!0)}):t.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(\xa80|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(t,e,n,i){return a(n,i.search(/[*+-]/g)>-1?"ul":"ol",!1)})).replace(/\xa80/,""),t=n.converter._dispatch("lists.after",t,e,n)}),r.subParser("metadata",function(t,e,n){"use strict";if(!e.metadata)return t;function i(t){n.metadata.raw=t,(t=(t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;")).replace(/\n {4}/g," ")).replace(/^([\S ]+): +([\s\S]+?)$/gm,function(t,e,i){return n.metadata.parsed[e]=i,""})}return t=(t=(t=(t=n.converter._dispatch("metadata.before",t,e,n)).replace(/^\s*\xab\xab\xab+(\S*?)\n([\s\S]+?)\n\xbb\xbb\xbb+\n/,function(t,e,n){return i(n),"\xa8M"})).replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(t,e,o){return e&&(n.metadata.format=e),i(o),"\xa8M"})).replace(/\xa8M/g,""),t=n.converter._dispatch("metadata.after",t,e,n)}),r.subParser("outdent",function(t,e,n){"use strict";return t=(t=(t=n.converter._dispatch("outdent.before",t,e,n)).replace(/^(\t|[ ]{1,4})/gm,"\xa80")).replace(/\xa80/g,""),t=n.converter._dispatch("outdent.after",t,e,n)}),r.subParser("paragraphs",function(t,e,n){"use strict";for(var i=(t=(t=(t=n.converter._dispatch("paragraphs.before",t,e,n)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),o=[],a=i.length,s=0;s<a;s++){var l=i[s];l.search(/\xa8(K|G)(\d+)\1/g)>=0?o.push(l):l.search(/\S/)>=0&&(l=(l=r.subParser("spanGamut")(l,e,n)).replace(/^([ \t]*)/g,"<p>"),l+="</p>",o.push(l))}for(a=o.length,s=0;s<a;s++){for(var c="",u=o[s],h=!1;/\xa8(K|G)(\d+)\1/.test(u);){var d=RegExp.$1,p=RegExp.$2;c=(c="K"===d?n.gHtmlBlocks[p]:h?r.subParser("encodeCode")(n.ghCodeBlocks[p].text,e,n):n.ghCodeBlocks[p].codeblock).replace(/\$/g,"$$$$"),u=u.replace(/(\n\n)?\xa8(K|G)\d+\2(\n\n)?/,c),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(u)&&(h=!0)}o[s]=u}return t=(t=(t=o.join("\n")).replace(/^\n+/g,"")).replace(/\n+$/g,""),n.converter._dispatch("paragraphs.after",t,e,n)}),r.subParser("runExtension",function(t,e,n,i){"use strict";if(t.filter)e=t.filter(e,i.converter,n);else if(t.regex){var o=t.regex;o instanceof RegExp||(o=new RegExp(o,"g")),e=e.replace(o,t.replace)}return e}),r.subParser("spanGamut",function(t,e,n){"use strict";return t=n.converter._dispatch("spanGamut.before",t,e,n),t=r.subParser("codeSpans")(t,e,n),t=r.subParser("escapeSpecialCharsWithinTagAttributes")(t,e,n),t=r.subParser("encodeBackslashEscapes")(t,e,n),t=r.subParser("images")(t,e,n),t=r.subParser("anchors")(t,e,n),t=r.subParser("autoLinks")(t,e,n),t=r.subParser("simplifiedAutoLinks")(t,e,n),t=r.subParser("emoji")(t,e,n),t=r.subParser("underline")(t,e,n),t=r.subParser("italicsAndBold")(t,e,n),t=r.subParser("strikethrough")(t,e,n),t=r.subParser("ellipsis")(t,e,n),t=r.subParser("hashHTMLSpans")(t,e,n),t=r.subParser("encodeAmpsAndAngles")(t,e,n),e.simpleLineBreaks?/\n\n\xa8K/.test(t)||(t=t.replace(/\n+/g,"<br />\n")):t=t.replace(/  +\n/g,"<br />\n"),t=n.converter._dispatch("spanGamut.after",t,e,n)}),r.subParser("strikethrough",function(t,e,n){"use strict";return e.strikethrough&&(t=(t=n.converter._dispatch("strikethrough.before",t,e,n)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(t,i){return function(t){return e.simplifiedAutoLink&&(t=r.subParser("simplifiedAutoLinks")(t,e,n)),"<del>"+t+"</del>"}(i)}),t=n.converter._dispatch("strikethrough.after",t,e,n)),t}),r.subParser("stripLinkDefinitions",function(t,e,n){"use strict";var i=function(t,i,o,a,s,l,c){return i=i.toLowerCase(),o.match(/^data:.+?\/.+?;base64,/)?n.gUrls[i]=o.replace(/\s/g,""):n.gUrls[i]=r.subParser("encodeAmpsAndAngles")(o,e,n),l?l+c:(c&&(n.gTitles[i]=c.replace(/"|'/g,"&quot;")),e.parseImgDimensions&&a&&s&&(n.gDimensions[i]={width:a,height:s}),"")};return t=(t=(t=(t+="\xa80").replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=\xa80)|(?=\n\[))/gm,i)).replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=\xa80))/gm,i)).replace(/\xa80/,"")}),r.subParser("tables",function(t,e,n){"use strict";if(!e.tables)return t;function i(t,i){var o="";return t=t.trim(),(e.tablesHeaderId||e.tableHeaderId)&&(o=' id="'+t.replace(/ /g,"_").toLowerCase()+'"'),"<th"+o+i+">"+(t=r.subParser("spanGamut")(t,e,n))+"</th>\n"}function o(t){var o,a=t.split("\n");for(o=0;o<a.length;++o)/^ {0,3}\|/.test(a[o])&&(a[o]=a[o].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(a[o])&&(a[o]=a[o].replace(/\|[ \t]*$/,"")),a[o]=r.subParser("codeSpans")(a[o],e,n);var s,l,c=a[0].split("|").map(function(t){return t.trim()}),u=a[1].split("|").map(function(t){return t.trim()}),h=[],d=[],p=[],f=[];for(a.shift(),a.shift(),o=0;o<a.length;++o)""!==a[o].trim()&&h.push(a[o].split("|").map(function(t){return t.trim()}));if(c.length<u.length)return t;for(o=0;o<u.length;++o)p.push((s=u[o],/^:[ \t]*--*$/.test(s)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(s)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(s)?' style="text-align:center;"':""));for(o=0;o<c.length;++o)r.helper.isUndefined(p[o])&&(p[o]=""),d.push(i(c[o],p[o]));for(o=0;o<h.length;++o){for(var m=[],g=0;g<d.length;++g)r.helper.isUndefined(h[o][g]),m.push((l=h[o][g],"<td"+p[g]+">"+r.subParser("spanGamut")(l,e,n)+"</td>\n"));f.push(m)}return function(t,e){for(var n="<table>\n<thead>\n<tr>\n",i=t.length,o=0;o<i;++o)n+=t[o];for(n+="</tr>\n</thead>\n<tbody>\n",o=0;o<e.length;++o){n+="<tr>\n";for(var r=0;r<i;++r)n+=e[o][r];n+="</tr>\n"}return n+="</tbody>\n</table>\n"}(d,f)}return t=(t=(t=(t=n.converter._dispatch("tables.before",t,e,n)).replace(/\\(\|)/g,r.helper.escapeCharactersCallback)).replace(/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|\xa80)/gm,o)).replace(/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|\xa80)/gm,o),t=n.converter._dispatch("tables.after",t,e,n)}),r.subParser("underline",function(t,e,n){"use strict";return e.underline?(t=n.converter._dispatch("underline.before",t,e,n),t=(t=e.literalMidWordUnderscores?(t=t.replace(/\b___(\S[\s\S]*?)___\b/g,function(t,e){return"<u>"+e+"</u>"})).replace(/\b__(\S[\s\S]*?)__\b/g,function(t,e){return"<u>"+e+"</u>"}):(t=t.replace(/___(\S[\s\S]*?)___/g,function(t,e){return/\S$/.test(e)?"<u>"+e+"</u>":t})).replace(/__(\S[\s\S]*?)__/g,function(t,e){return/\S$/.test(e)?"<u>"+e+"</u>":t})).replace(/(_)/g,r.helper.escapeCharactersCallback),t=n.converter._dispatch("underline.after",t,e,n)):t}),r.subParser("unescapeSpecialChars",function(t,e,n){"use strict";return t=(t=n.converter._dispatch("unescapeSpecialChars.before",t,e,n)).replace(/\xa8E(\d+)E/g,function(t,e){var n=parseInt(e);return String.fromCharCode(n)}),t=n.converter._dispatch("unescapeSpecialChars.after",t,e,n)}),r.subParser("makeMarkdown.blockquote",function(t,e){"use strict";var n="";if(t.hasChildNodes())for(var i=t.childNodes,o=i.length,a=0;a<o;++a){var s=r.subParser("makeMarkdown.node")(i[a],e);""!==s&&(n+=s)}return n="> "+(n=n.trim()).split("\n").join("\n> ")}),r.subParser("makeMarkdown.codeBlock",function(t,e){"use strict";var n=t.getAttribute("language"),i=t.getAttribute("precodenum");return"```"+n+"\n"+e.preList[i]+"\n```"}),r.subParser("makeMarkdown.codeSpan",function(t){"use strict";return"`"+t.innerHTML+"`"}),r.subParser("makeMarkdown.emphasis",function(t,e){"use strict";var n="";if(t.hasChildNodes()){n+="*";for(var i=t.childNodes,o=i.length,a=0;a<o;++a)n+=r.subParser("makeMarkdown.node")(i[a],e);n+="*"}return n}),r.subParser("makeMarkdown.header",function(t,e,n){"use strict";var i=new Array(n+1).join("#"),o="";if(t.hasChildNodes()){o=i+" ";for(var a=t.childNodes,s=a.length,l=0;l<s;++l)o+=r.subParser("makeMarkdown.node")(a[l],e)}return o}),r.subParser("makeMarkdown.hr",function(){"use strict";return"---"}),r.subParser("makeMarkdown.image",function(t){"use strict";var e="";return t.hasAttribute("src")&&(e+="!["+t.getAttribute("alt")+"](",e+="<"+t.getAttribute("src")+">",t.hasAttribute("width")&&t.hasAttribute("height")&&(e+=" ="+t.getAttribute("width")+"x"+t.getAttribute("height")),t.hasAttribute("title")&&(e+=' "'+t.getAttribute("title")+'"'),e+=")"),e}),r.subParser("makeMarkdown.links",function(t,e){"use strict";var n="";if(t.hasChildNodes()&&t.hasAttribute("href")){var i=t.childNodes,o=i.length;n="[";for(var a=0;a<o;++a)n+=r.subParser("makeMarkdown.node")(i[a],e);n+="](",n+="<"+t.getAttribute("href")+">",t.hasAttribute("title")&&(n+=' "'+t.getAttribute("title")+'"'),n+=")"}return n}),r.subParser("makeMarkdown.list",function(t,e,n){"use strict";var i="";if(!t.hasChildNodes())return"";for(var o=t.childNodes,a=o.length,s=t.getAttribute("start")||1,l=0;l<a;++l)if("undefined"!==typeof o[l].tagName&&"li"===o[l].tagName.toLowerCase()){i+=("ol"===n?s.toString()+". ":"- ")+r.subParser("makeMarkdown.listItem")(o[l],e),++s}return(i+="\n\x3c!-- --\x3e\n").trim()}),r.subParser("makeMarkdown.listItem",function(t,e){"use strict";for(var n="",i=t.childNodes,o=i.length,a=0;a<o;++a)n+=r.subParser("makeMarkdown.node")(i[a],e);return/\n$/.test(n)?n=n.split("\n").join("\n    ").replace(/^ {4}$/gm,"").replace(/\n\n+/g,"\n\n"):n+="\n",n}),r.subParser("makeMarkdown.node",function(t,e,n){"use strict";n=n||!1;var i="";if(3===t.nodeType)return r.subParser("makeMarkdown.txt")(t,e);if(8===t.nodeType)return"\x3c!--"+t.data+"--\x3e\n\n";if(1!==t.nodeType)return"";switch(t.tagName.toLowerCase()){case"h1":n||(i=r.subParser("makeMarkdown.header")(t,e,1)+"\n\n");break;case"h2":n||(i=r.subParser("makeMarkdown.header")(t,e,2)+"\n\n");break;case"h3":n||(i=r.subParser("makeMarkdown.header")(t,e,3)+"\n\n");break;case"h4":n||(i=r.subParser("makeMarkdown.header")(t,e,4)+"\n\n");break;case"h5":n||(i=r.subParser("makeMarkdown.header")(t,e,5)+"\n\n");break;case"h6":n||(i=r.subParser("makeMarkdown.header")(t,e,6)+"\n\n");break;case"p":n||(i=r.subParser("makeMarkdown.paragraph")(t,e)+"\n\n");break;case"blockquote":n||(i=r.subParser("makeMarkdown.blockquote")(t,e)+"\n\n");break;case"hr":n||(i=r.subParser("makeMarkdown.hr")(t,e)+"\n\n");break;case"ol":n||(i=r.subParser("makeMarkdown.list")(t,e,"ol")+"\n\n");break;case"ul":n||(i=r.subParser("makeMarkdown.list")(t,e,"ul")+"\n\n");break;case"precode":n||(i=r.subParser("makeMarkdown.codeBlock")(t,e)+"\n\n");break;case"pre":n||(i=r.subParser("makeMarkdown.pre")(t,e)+"\n\n");break;case"table":n||(i=r.subParser("makeMarkdown.table")(t,e)+"\n\n");break;case"code":i=r.subParser("makeMarkdown.codeSpan")(t,e);break;case"em":case"i":i=r.subParser("makeMarkdown.emphasis")(t,e);break;case"strong":case"b":i=r.subParser("makeMarkdown.strong")(t,e);break;case"del":i=r.subParser("makeMarkdown.strikethrough")(t,e);break;case"a":i=r.subParser("makeMarkdown.links")(t,e);break;case"img":i=r.subParser("makeMarkdown.image")(t,e);break;default:i=t.outerHTML+"\n\n"}return i}),r.subParser("makeMarkdown.paragraph",function(t,e){"use strict";var n="";if(t.hasChildNodes())for(var i=t.childNodes,o=i.length,a=0;a<o;++a)n+=r.subParser("makeMarkdown.node")(i[a],e);return n=n.trim()}),r.subParser("makeMarkdown.pre",function(t,e){"use strict";var n=t.getAttribute("prenum");return"<pre>"+e.preList[n]+"</pre>"}),r.subParser("makeMarkdown.strikethrough",function(t,e){"use strict";var n="";if(t.hasChildNodes()){n+="~~";for(var i=t.childNodes,o=i.length,a=0;a<o;++a)n+=r.subParser("makeMarkdown.node")(i[a],e);n+="~~"}return n}),r.subParser("makeMarkdown.strong",function(t,e){"use strict";var n="";if(t.hasChildNodes()){n+="**";for(var i=t.childNodes,o=i.length,a=0;a<o;++a)n+=r.subParser("makeMarkdown.node")(i[a],e);n+="**"}return n}),r.subParser("makeMarkdown.table",function(t,e){"use strict";var n,i,o="",a=[[],[]],s=t.querySelectorAll("thead>tr>th"),l=t.querySelectorAll("tbody>tr");for(n=0;n<s.length;++n){var c=r.subParser("makeMarkdown.tableCell")(s[n],e),u="---";if(s[n].hasAttribute("style"))switch(s[n].getAttribute("style").toLowerCase().replace(/\s/g,"")){case"text-align:left;":u=":---";break;case"text-align:right;":u="---:";break;case"text-align:center;":u=":---:"}a[0][n]=c.trim(),a[1][n]=u}for(n=0;n<l.length;++n){var h=a.push([])-1,d=l[n].getElementsByTagName("td");for(i=0;i<s.length;++i){var p=" ";"undefined"!==typeof d[i]&&(p=r.subParser("makeMarkdown.tableCell")(d[i],e)),a[h].push(p)}}var f=3;for(n=0;n<a.length;++n)for(i=0;i<a[n].length;++i){var m=a[n][i].length;m>f&&(f=m)}for(n=0;n<a.length;++n){for(i=0;i<a[n].length;++i)1===n?":"===a[n][i].slice(-1)?a[n][i]=r.helper.padEnd(a[n][i].slice(-1),f-1,"-")+":":a[n][i]=r.helper.padEnd(a[n][i],f,"-"):a[n][i]=r.helper.padEnd(a[n][i],f);o+="| "+a[n].join(" | ")+" |\n"}return o.trim()}),r.subParser("makeMarkdown.tableCell",function(t,e){"use strict";var n="";if(!t.hasChildNodes())return"";for(var i=t.childNodes,o=i.length,a=0;a<o;++a)n+=r.subParser("makeMarkdown.node")(i[a],e,!0);return n.trim()}),r.subParser("makeMarkdown.txt",function(t){"use strict";var e=t.nodeValue;return e=(e=e.replace(/ +/g," ")).replace(/\xa8NBSP;/g," "),e=(e=(e=(e=(e=(e=(e=(e=(e=r.helper.unescapeHTMLEntities(e)).replace(/([*_~|`])/g,"\\$1")).replace(/^(\s*)>/g,"\\$1>")).replace(/^#/gm,"\\#")).replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3")).replace(/^( {0,3}\d+)\./gm,"$1\\.")).replace(/^( {0,3})([+-])/gm,"$1\\$2")).replace(/]([\s]*)\(/g,"\\]$1\\(")).replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:")});void 0===(i=function(){"use strict";return r}.call(e,n,e,t))||(t.exports=i)}).call(this)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(0);function o(t){return Object(i.a)({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M11.667 0h-8.651v1.984h-0.516c-0.827 0-1.5 0.673-1.5 1.5v8.588l2.521 4.956 2.464-4.959v-8.585c0-0.827-0.673-1.5-1.5-1.5h-0.469v-0.984h6.984v5h5v10h-11.5v1h12.5v-11.692l-5.333-5.308zM3.908 14.002h-0.804l-1.104-2.17v-5.848h1v6.027h1v-6.027h0.984v5.851l-1.076 2.167zM4.984 3.484v1.5h-2.984v-1.5c0-0.275 0.225-0.5 0.5-0.5h1.984c0.276 0 0.5 0.225 0.5 0.5zM12 1.742l3.273 3.258h-3.273v-3.258z"}}]})(t)}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(0);function o(t){return Object(i.a)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M430.1 347.9c-6.6-6.1-16.3-7.6-24.6-9-11.5-1.9-15.9-4-22.6-10-14.3-12.7-14.3-31.1 0-43.8l30.3-26.9c46.4-41 46.4-108.2 0-149.2-34.2-30.1-80.1-45-127.8-45-55.7 0-113.9 20.3-158.8 60.1-83.5 73.8-83.5 194.7 0 268.5 41.5 36.7 97.5 55 152.9 55.4h1.7c55.4 0 110-17.9 148.8-52.4 14.4-12.7 12-36.6.1-47.7zM120 216c0-17.7 14.3-32 32-32s32 14.3 32 32-14.3 32-32 32-32-14.3-32-32zm40 126c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm64-161c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm72 219c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm24-208c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]})(t)}},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.ZoomLevel=e.ViewToolbar=e.ToolboxGroup=e.Toolbox=e.TabGroup=e.Tab=e.PropertiesPanel=e.PageSizeItem=e.PageSize=e.Nodes=e.MainToolbar=e.Item=e.HistoryToolbar=e.Group=e.GridSize=e.Export=e.Editing=e.Edges=e.DefaultItemProperties=e.CustomShape=e.ContextToolbox=e.ContextMenu=e.ConnectionPoint=e.CommandItem=e.Command=e.AutoLayout=e.Diagram=void 0;var o=n(286),r=n(60),a=n(148),s=n(175),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._WidgetClass=o.default,e.subscribableOptions=["gridSize","gridSize.value","pageSize","pageSize.height","pageSize.width","zoomLevel","zoomLevel.value"],e.independentEvents=["onContentReady","onCustomCommand","onDisposing","onInitialized","onItemClick","onItemDblClick","onRequestEditOperation","onRequestLayoutUpdate"],e._defaults={defaultGridSize:"gridSize",defaultPageSize:"pageSize",defaultZoomLevel:"zoomLevel"},e._expectedChildren={contextMenu:{optionName:"contextMenu",isCollectionItem:!1},contextToolbox:{optionName:"contextToolbox",isCollectionItem:!1},customShape:{optionName:"customShapes",isCollectionItem:!0},defaultItemProperties:{optionName:"defaultItemProperties",isCollectionItem:!1},edges:{optionName:"edges",isCollectionItem:!1},editing:{optionName:"editing",isCollectionItem:!1},export:{optionName:"export",isCollectionItem:!1},gridSize:{optionName:"gridSize",isCollectionItem:!1},historyToolbar:{optionName:"historyToolbar",isCollectionItem:!1},mainToolbar:{optionName:"mainToolbar",isCollectionItem:!1},nodes:{optionName:"nodes",isCollectionItem:!1},pageSize:{optionName:"pageSize",isCollectionItem:!1},propertiesPanel:{optionName:"propertiesPanel",isCollectionItem:!1},toolbox:{optionName:"toolbox",isCollectionItem:!1},viewToolbar:{optionName:"viewToolbar",isCollectionItem:!1},zoomLevel:{optionName:"zoomLevel",isCollectionItem:!1}},e._templateProps=[{tmplOption:"customShapeTemplate",render:"customShapeRender",component:"customShapeComponent",keyFn:"customShapeKeyFn"},{tmplOption:"customShapeToolboxTemplate",render:"customShapeToolboxRender",component:"customShapeToolboxComponent",keyFn:"customShapeToolboxKeyFn"}],e}return i(e,t),Object.defineProperty(e.prototype,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e}(a.Component);e.Diagram=l,l.propTypes={autoZoomMode:r.oneOfType([r.string,r.oneOf(["fitContent","fitWidth","disabled"])]),contextMenu:r.object,contextToolbox:r.object,customShapes:r.array,defaultItemProperties:r.object,disabled:r.bool,edges:r.object,editing:r.object,elementAttr:r.object,export:r.object,fullScreen:r.bool,gridSize:r.oneOfType([r.number,r.object]),hasChanges:r.bool,height:r.oneOfType([r.func,r.number,r.string]),historyToolbar:r.object,mainToolbar:r.object,nodes:r.object,onContentReady:r.func,onCustomCommand:r.func,onDisposing:r.func,onInitialized:r.func,onItemClick:r.func,onItemDblClick:r.func,onOptionChanged:r.func,onRequestEditOperation:r.func,onRequestLayoutUpdate:r.func,onSelectionChanged:r.func,pageColor:r.string,pageOrientation:r.oneOfType([r.string,r.oneOf(["portrait","landscape"])]),pageSize:r.object,propertiesPanel:r.object,readOnly:r.bool,rtlEnabled:r.bool,showGrid:r.bool,simpleView:r.bool,snapToGrid:r.bool,toolbox:r.object,units:r.oneOfType([r.string,r.oneOf(["in","cm","px"])]),useNativeScrolling:r.bool,viewToolbar:r.object,viewUnits:r.oneOfType([r.string,r.oneOf(["in","cm","px"])]),visible:r.bool,width:r.oneOfType([r.func,r.number,r.string]),zoomLevel:r.oneOfType([r.number,r.object])};var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="autoLayout",e}(s.default);e.AutoLayout=c;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="commands",e.IsCollectionItem=!0,e}(s.default);e.Command=u;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="items",e.IsCollectionItem=!0,e}(s.default);e.CommandItem=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="connectionPoints",e.IsCollectionItem=!0,e}(s.default);e.ConnectionPoint=d;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="contextMenu",e.ExpectedChildren={command:{optionName:"commands",isCollectionItem:!0}},e}(s.default);e.ContextMenu=p;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="contextToolbox",e}(s.default);e.ContextToolbox=f;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="customShapes",e.IsCollectionItem=!0,e.ExpectedChildren={connectionPoint:{optionName:"connectionPoints",isCollectionItem:!0}},e.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"},{tmplOption:"toolboxTemplate",render:"toolboxRender",component:"toolboxComponent",keyFn:"toolboxKeyFn"}],e}(s.default);e.CustomShape=m;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="defaultItemProperties",e}(s.default);e.DefaultItemProperties=g;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="edges",e}(s.default);e.Edges=v;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="editing",e}(s.default);e.Editing=y;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="export",e}(s.default);e.Export=_;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="gridSize",e.DefaultsProps={defaultValue:"value"},e}(s.default);e.GridSize=b;var C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="groups",e.IsCollectionItem=!0,e}(s.default);e.Group=C;var O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="historyToolbar",e.ExpectedChildren={command:{optionName:"commands",isCollectionItem:!0}},e}(s.default);e.HistoryToolbar=O;var x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="items",e.IsCollectionItem=!0,e}(s.default);e.Item=x;var S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="mainToolbar",e.ExpectedChildren={command:{optionName:"commands",isCollectionItem:!0}},e}(s.default);e.MainToolbar=S;var w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="nodes",e.ExpectedChildren={autoLayout:{optionName:"autoLayout",isCollectionItem:!1}},e}(s.default);e.Nodes=w;var P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="pageSize",e.DefaultsProps={defaultHeight:"height",defaultWidth:"width"},e.ExpectedChildren={item:{optionName:"items",isCollectionItem:!0},pageSizeItem:{optionName:"items",isCollectionItem:!0}},e}(s.default);e.PageSize=P;var k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="items",e.IsCollectionItem=!0,e}(s.default);e.PageSizeItem=k;var E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="propertiesPanel",e.ExpectedChildren={tab:{optionName:"tabs",isCollectionItem:!0}},e}(s.default);e.PropertiesPanel=E;var T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="tabs",e.IsCollectionItem=!0,e.ExpectedChildren={command:{optionName:"commands",isCollectionItem:!0},group:{optionName:"groups",isCollectionItem:!0},tabGroup:{optionName:"groups",isCollectionItem:!0}},e}(s.default);e.Tab=T;var I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="groups",e.IsCollectionItem=!0,e.ExpectedChildren={command:{optionName:"commands",isCollectionItem:!0}},e}(s.default);e.TabGroup=I;var j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="toolbox",e.ExpectedChildren={group:{optionName:"groups",isCollectionItem:!0},toolboxGroup:{optionName:"groups",isCollectionItem:!0}},e}(s.default);e.Toolbox=j;var M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="groups",e.IsCollectionItem=!0,e}(s.default);e.ToolboxGroup=M;var D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="viewToolbar",e.ExpectedChildren={command:{optionName:"commands",isCollectionItem:!0}},e}(s.default);e.ViewToolbar=D;var A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="zoomLevel",e.DefaultsProps={defaultValue:"value"},e}(s.default);e.ZoomLevel=A,e.default=l},,function(t,e,n){"use strict";var i=Symbol.for("react.element"),o=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||m}function _(){}function b(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=y.prototype;var C=b.prototype=new _;C.constructor=b,g(C,y.prototype),C.isPureReactComponent=!0;var O=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},w={key:!0,ref:!0,__self:!0,__source:!0};function P(t,e,n){var o,r={},a=null,s=null;if(null!=e)for(o in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)x.call(e,o)&&!w.hasOwnProperty(o)&&(r[o]=e[o]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(t&&t.defaultProps)for(o in l=t.defaultProps)void 0===r[o]&&(r[o]=l[o]);return{$$typeof:i,type:t,key:a,ref:s,props:r,_owner:S.current}}function k(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var E=/\/+/g;function T(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(t){return e[t]})}(""+t.key):e.toString(36)}function I(t,e,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case o:l=!0}}if(l)return a=a(l=t),t=""===r?"."+T(l,0):r,O(a)?(n="",null!=t&&(n=t.replace(E,"$&/")+"/"),I(a,e,n,"",function(t){return t})):null!=a&&(k(a)&&(a=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+t)),e.push(a)),1;if(l=0,r=""===r?".":r+":",O(t))for(var c=0;c<t.length;c++){var u=r+T(s=t[c],c);l+=I(s,e,n,u,a)}else if("function"===typeof(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t)))for(t=u.call(t),c=0;!(s=t.next()).done;)l+=I(s=s.value,e,n,u=r+T(s,c++),a);else if("object"===s)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function j(t,e,n){if(null==t)return t;var i=[],o=0;return I(t,i,"","",function(t){return e.call(n,t,o++)}),i}function M(t){if(-1===t._status){var e=t._result;(e=e()).then(function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)},function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)}),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var D={current:null},A={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:A,ReactCurrentOwner:S};e.Children={map:j,forEach:function(t,e,n){j(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return j(t,function(){e++}),e},toArray:function(t){return j(t,function(t){return t})||[]},only:function(t){if(!k(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=y,e.Fragment=r,e.Profiler=s,e.PureComponent=b,e.StrictMode=a,e.Suspense=h,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=g({},t.props),r=t.key,a=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,s=S.current),void 0!==e.key&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)x.call(e,c)&&!w.hasOwnProperty(c)&&(o[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:i,type:t.type,key:r,ref:a,props:o,_owner:s}},e.createContext=function(t){return(t={$$typeof:c,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:t},t.Consumer=t},e.createElement=P,e.createFactory=function(t){var e=P.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=k,e.lazy=function(t){return{$$typeof:p,_payload:{_status:-1,_result:t},_init:M}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=A.transition;A.transition={};try{t()}finally{A.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return D.current.useCallback(t,e)},e.useContext=function(t){return D.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return D.current.useDeferredValue(t)},e.useEffect=function(t,e){return D.current.useEffect(t,e)},e.useId=function(){return D.current.useId()},e.useImperativeHandle=function(t,e,n){return D.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return D.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return D.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return D.current.useMemo(t,e)},e.useReducer=function(t,e,n){return D.current.useReducer(t,e,n)},e.useRef=function(t){return D.current.useRef(t)},e.useState=function(t){return D.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return D.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return D.current.useTransition()},e.version="18.2.0"},function(t,e,n){"use strict";var i=n(4),o=n(254);function r(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(s[t]=e,t=0;t<e.length;t++)a.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(t,e,n,i,o,r,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){g[t]=new m(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];g[e]=new m(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){g[t]=new m(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){g[t]=new m(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){g[t]=new m(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){g[t]=new m(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){g[t]=new m(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){g[t]=new m(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){g[t]=new m(t,5,!1,t.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function _(t,e,n,i){var o=g.hasOwnProperty(e)?g[e]:null;(null!==o?0!==o.type:i||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,o,i)&&(n=null),i||null===o?function(t){return!!h.call(f,t)||!h.call(p,t)&&(d.test(t)?f[t]=!0:(p[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=null===n?3!==o.type&&"":n:(e=o.attributeName,i=o.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(v,y);g[e]=new m(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(v,y);g[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(v,y);g[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!0,!0)});var b=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),O=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),k=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function R(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=A&&t[A]||t["@@iterator"])?t:null}var B,L=Object.assign;function N(t){if(void 0===B)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);B=e&&e[1]||""}return"\n"+B+t}var z=!1;function F(t,e){if(!t||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),r=i.stack.split("\n"),a=o.length-1,s=r.length-1;1<=a&&0<=s&&o[a]!==r[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==r[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==r[s]){var l="\n"+o[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=a&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?N(t):""}function H(t){switch(t.tag){case 5:return N(t.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return t=F(t.type,!1);case 11:return t=F(t.type.render,!1);case 1:return t=F(t.type,!0);default:return""}}function V(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function t(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case O:return"Portal";case w:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case E:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(n=e.displayName||null)?n:t(e.type)||"Memo";case M:n=e._payload,e=e._init;try{return t(e(n))}catch(i){}}return null}(e);case 8:return e===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function U(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function W(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function K(t){t._valueTracker||(t._valueTracker=function(t){var e=W(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(t){i=""+t,r.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function $(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=W(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function G(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function q(t,e){var n=e.checked;return L({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Z(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=U(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Y(t,e){null!=(e=e.checked)&&_(t,"checked",e,!1)}function X(t,e){Y(t,e);var n=U(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?J(t,e.type,n):e.hasOwnProperty("defaultValue")&&J(t,e.type,U(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Q(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function J(t,e,n){"number"===e&&G(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tt=Array.isArray;function et(t,e,n,i){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&i&&(t[n].defaultSelected=!0)}else{for(n=""+U(n),e=null,o=0;o<t.length;o++){if(t[o].value===n)return t[o].selected=!0,void(i&&(t[o].defaultSelected=!0));null!==e||t[o].disabled||(e=t[o])}null!==e&&(e.selected=!0)}}function nt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(r(91));return L({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(r(92));if(tt(n)){if(1<n.length)throw Error(r(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:U(n)}}function ot(t,e){var n=U(e.value),i=U(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function rt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function st(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var lt,ct,ut=(ct=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((lt=lt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction(function(){return ct(t,e)})}:ct);function ht(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function ft(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||dt.hasOwnProperty(t)&&dt[t]?(""+e).trim():e+"px"}function mt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),o=ft(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,o):t[n]=o}}Object.keys(dt).forEach(function(t){pt.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dt[e]=dt[t]})});var gt=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(t,e){if(e){if(gt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(r(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(r(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(r(62))}}function yt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=null;function bt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Ct=null,Ot=null,xt=null;function St(t){if(t=po(t)){if("function"!==typeof Ct)throw Error(r(280));var e=t.stateNode;e&&(e=mo(e),Ct(t.stateNode,t.type,e))}}function wt(t){Ot?xt?xt.push(t):xt=[t]:Ot=t}function Pt(){if(Ot){var t=Ot,e=xt;if(xt=Ot=null,St(t),e)for(t=0;t<e.length;t++)St(e[t])}}function kt(t,e){return t(e)}function Et(){}var Tt=!1;function It(t,e,n){if(Tt)return t(e,n);Tt=!0;try{return kt(t,e,n)}finally{Tt=!1,(null!==Ot||null!==xt)&&(Et(),Pt())}}function jt(t,e){var n=t.stateNode;if(null===n)return null;var i=mo(n);if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(r(231,e,typeof n));return n}var Mt=!1;if(u)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){Mt=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch(ct){Mt=!1}var At=!1,Rt=null,Bt=!1,Lt=null,Nt={onError:function(t){At=!0,Rt=t}};function zt(t,e,n,i,o,r,a,s,l){At=!1,Rt=null,function(t,e,n,i,o,r,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}.apply(Nt,arguments)}function Ft(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Ht(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Vt(t){if(Ft(t)!==t)throw Error(r(188))}function Ut(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Ft(t)))throw Error(r(188));return e!==t?null:t}for(var n=t,i=e;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(i=o.return)){n=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Vt(o),t;if(a===i)return Vt(o),e;a=a.sibling}throw Error(r(188))}if(n.return!==i.return)n=o,i=a;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,i=a;break}if(l===i){s=!0,i=o,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,i=o;break}if(l===i){s=!0,i=a,n=o;break}l=l.sibling}if(!s)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?t:e}(t))?function t(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var n=t(e);if(null!==n)return n;e=e.sibling}return null}(t):null}var Wt=o.unstable_scheduleCallback,Kt=o.unstable_cancelCallback,$t=o.unstable_shouldYield,Gt=o.unstable_requestPaint,qt=o.unstable_now,Zt=o.unstable_getCurrentPriorityLevel,Yt=o.unstable_ImmediatePriority,Xt=o.unstable_UserBlockingPriority,Qt=o.unstable_NormalPriority,Jt=o.unstable_LowPriority,te=o.unstable_IdlePriority,ee=null,ne=null;var ie=Math.clz32?Math.clz32:function(t){return 0===(t>>>=0)?32:31-(oe(t)/re|0)|0},oe=Math.log,re=Math.LN2;var ae=64,se=4194304;function le(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ce(t,e){var n=t.pendingLanes;if(0===n)return 0;var i=0,o=t.suspendedLanes,r=t.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?i=le(s):0!==(r&=a)&&(i=le(r))}else 0!==(a=n&~o)?i=le(a):0!==r&&(i=le(r));if(0===i)return 0;if(0!==e&&e!==i&&0===(e&o)&&((o=i&-i)>=(r=e&-e)||16===o&&0!==(4194240&r)))return e;if(0!==(4&i)&&(i|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=i;0<e;)o=1<<(n=31-ie(e)),i|=t[n],e&=~o;return i}function ue(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:default:return-1}}function he(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function de(){var t=ae;return 0===(4194240&(ae<<=1))&&(ae=64),t}function pe(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fe(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ie(e)]=n}function me(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ie(n),o=1<<i;o&e|t[i]&e&&(t[i]|=e),n&=~o}}var ge=0;function ve(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var ye,_e,be,Ce,Oe,xe=!1,Se=[],we=null,Pe=null,ke=null,Ee=new Map,Te=new Map,Ie=[],je="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Me(t,e){switch(t){case"focusin":case"focusout":we=null;break;case"dragenter":case"dragleave":Pe=null;break;case"mouseover":case"mouseout":ke=null;break;case"pointerover":case"pointerout":Ee.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Te.delete(e.pointerId)}}function De(t,e,n,i,o,r){return null===t||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[o]},null!==e&&(null!==(e=po(e))&&_e(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==o&&-1===e.indexOf(o)&&e.push(o),t)}function Ae(t){var e=ho(t.target);if(null!==e){var n=Ft(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Ht(n)))return t.blockedOn=e,void Oe(t.priority,function(){be(n)})}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Re(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=$e(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=po(n))&&_e(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);_t=i,n.target.dispatchEvent(i),_t=null,e.shift()}return!0}function Be(t,e,n){Re(t)&&n.delete(e)}function Le(){xe=!1,null!==we&&Re(we)&&(we=null),null!==Pe&&Re(Pe)&&(Pe=null),null!==ke&&Re(ke)&&(ke=null),Ee.forEach(Be),Te.forEach(Be)}function Ne(t,e){t.blockedOn===e&&(t.blockedOn=null,xe||(xe=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Le)))}function ze(t){function e(e){return Ne(e,t)}if(0<Se.length){Ne(Se[0],t);for(var n=1;n<Se.length;n++){var i=Se[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==we&&Ne(we,t),null!==Pe&&Ne(Pe,t),null!==ke&&Ne(ke,t),Ee.forEach(e),Te.forEach(e),n=0;n<Ie.length;n++)(i=Ie[n]).blockedOn===t&&(i.blockedOn=null);for(;0<Ie.length&&null===(n=Ie[0]).blockedOn;)Ae(n),null===n.blockedOn&&Ie.shift()}var Fe=b.ReactCurrentBatchConfig,He=!0;function Ve(t,e,n,i){var o=ge,r=Fe.transition;Fe.transition=null;try{ge=1,We(t,e,n,i)}finally{ge=o,Fe.transition=r}}function Ue(t,e,n,i){var o=ge,r=Fe.transition;Fe.transition=null;try{ge=4,We(t,e,n,i)}finally{ge=o,Fe.transition=r}}function We(t,e,n,i){if(He){var o=$e(t,e,n,i);if(null===o)Li(t,e,i,Ke,n),Me(t,i);else if(function(t,e,n,i,o){switch(e){case"focusin":return we=De(we,t,e,n,i,o),!0;case"dragenter":return Pe=De(Pe,t,e,n,i,o),!0;case"mouseover":return ke=De(ke,t,e,n,i,o),!0;case"pointerover":var r=o.pointerId;return Ee.set(r,De(Ee.get(r)||null,t,e,n,i,o)),!0;case"gotpointercapture":return r=o.pointerId,Te.set(r,De(Te.get(r)||null,t,e,n,i,o)),!0}return!1}(o,t,e,n,i))i.stopPropagation();else if(Me(t,i),4&e&&-1<je.indexOf(t)){for(;null!==o;){var r=po(o);if(null!==r&&ye(r),null===(r=$e(t,e,n,i))&&Li(t,e,i,Ke,n),r===o)break;o=r}null!==o&&i.stopPropagation()}else Li(t,e,i,null,n)}}var Ke=null;function $e(t,e,n,i){if(Ke=null,null!==(t=ho(t=bt(i))))if(null===(e=Ft(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Ht(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ke=t,null}function Ge(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zt()){case Yt:return 1;case Xt:return 4;case Qt:case Jt:return 16;case te:return 536870912;default:return 16}default:return 16}}var qe=null,Ze=null,Ye=null;function Xe(){if(Ye)return Ye;var t,e,n=Ze,i=n.length,o="value"in qe?qe.value:qe.textContent,r=o.length;for(t=0;t<i&&n[t]===o[t];t++);var a=i-t;for(e=1;e<=a&&n[i-e]===o[r-e];e++);return Ye=o.slice(t,1<e?1-e:void 0)}function Qe(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function Je(){return!0}function tn(){return!1}function en(t){function e(e,n,i,o,r){for(var a in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=r,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Je:tn,this.isPropagationStopped=tn,this}return L(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Je)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Je)},persist:function(){},isPersistent:Je}),e}var nn,on,rn,an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=en(an),ln=L({},an,{view:0,detail:0}),cn=en(ln),un=L({},ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rn&&(rn&&"mousemove"===t.type?(nn=t.screenX-rn.screenX,on=t.screenY-rn.screenY):on=nn=0,rn=t),nn)},movementY:function(t){return"movementY"in t?t.movementY:on}}),hn=en(un),dn=en(L({},un,{dataTransfer:0})),pn=en(L({},ln,{relatedTarget:0})),fn=en(L({},an,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=en(L({},an,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),gn=en(L({},an,{data:0})),vn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=_n[t])&&!!e[t]}function Cn(){return bn}var On=en(L({},ln,{key:function(t){if(t.key){var e=vn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Qe(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?yn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(t){return"keypress"===t.type?Qe(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Qe(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),xn=en(L({},un,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Sn=en(L({},ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),wn=en(L({},an,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=en(L({},un,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),kn=[9,13,27,32],En=u&&"CompositionEvent"in window,Tn=null;u&&"documentMode"in document&&(Tn=document.documentMode);var In=u&&"TextEvent"in window&&!Tn,jn=u&&(!En||Tn&&8<Tn&&11>=Tn),Mn=String.fromCharCode(32),Dn=!1;function An(t,e){switch(t){case"keyup":return-1!==kn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Bn=!1;var Ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Ln[t.type]:"textarea"===e}function zn(t,e,n,i){wt(i),0<(e=zi(e,"onChange")).length&&(n=new sn("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Fn=null,Hn=null;function Vn(t){ji(t,0)}function Un(t){if($(fo(t)))return t}function Wn(t,e){if("change"===t)return e}var Kn=!1;if(u){var $n;if(u){var Gn="oninput"in document;if(!Gn){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),Gn="function"===typeof qn.oninput}$n=Gn}else $n=!1;Kn=$n&&(!document.documentMode||9<document.documentMode)}function Zn(){Fn&&(Fn.detachEvent("onpropertychange",Yn),Hn=Fn=null)}function Yn(t){if("value"===t.propertyName&&Un(Hn)){var e=[];zn(e,Hn,t,bt(t)),It(Vn,e)}}function Xn(t,e,n){"focusin"===t?(Zn(),Hn=n,(Fn=e).attachEvent("onpropertychange",Yn)):"focusout"===t&&Zn()}function Qn(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Un(Hn)}function Jn(t,e){if("click"===t)return Un(e)}function ti(t,e){if("input"===t||"change"===t)return Un(e)}var ei="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function ni(t,e){if(ei(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!h.call(e,o)||!ei(t[o],e[o]))return!1}return!0}function ii(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oi(t,e){var n,i=ii(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=ii(i)}}function ri(){for(var t=window,e=G();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=G((t=e.contentWindow).document)}return e}function ai(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function si(t){var e=ri(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==i&&ai(n))if(e=i.start,void 0===(t=i.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var o=n.textContent.length,r=Math.min(i.start,o);i=void 0===i.end?r:Math.min(i.end,o),!t.extend&&r>i&&(o=i,i=r,r=o),o=oi(n,r);var a=oi(n,i);o&&a&&(1!==t.rangeCount||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(o.node,o.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var li=u&&"documentMode"in document&&11>=document.documentMode,ci=null,ui=null,hi=null,di=!1;function pi(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;di||null==ci||ci!==G(i)||("selectionStart"in(i=ci)&&ai(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},hi&&ni(hi,i)||(hi=i,0<(i=zi(ui,"onSelect")).length&&(e=new sn("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ci)))}function fi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var mi={animationend:fi("Animation","AnimationEnd"),animationiteration:fi("Animation","AnimationIteration"),animationstart:fi("Animation","AnimationStart"),transitionend:fi("Transition","TransitionEnd")},gi={},vi={};function yi(t){if(gi[t])return gi[t];if(!mi[t])return t;var e,n=mi[t];for(e in n)if(n.hasOwnProperty(e)&&e in vi)return gi[t]=n[e];return t}u&&(vi=document.createElement("div").style,"AnimationEvent"in window||(delete mi.animationend.animation,delete mi.animationiteration.animation,delete mi.animationstart.animation),"TransitionEvent"in window||delete mi.transitionend.transition);var _i=yi("animationend"),bi=yi("animationiteration"),Ci=yi("animationstart"),Oi=yi("transitionend"),xi=new Map,Si="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(t,e){xi.set(t,e),l(e,[t])}for(var Pi=0;Pi<Si.length;Pi++){var ki=Si[Pi];wi(ki.toLowerCase(),"on"+(ki[0].toUpperCase()+ki.slice(1)))}wi(_i,"onAnimationEnd"),wi(bi,"onAnimationIteration"),wi(Ci,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(Oi,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ti=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ei));function Ii(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,i,o,a,s,l,c){if(zt.apply(this,arguments),At){if(!At)throw Error(r(198));var u=Rt;At=!1,Rt=null,Bt||(Bt=!0,Lt=u)}}(i,e,void 0,t),t.currentTarget=null}function ji(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],o=i.event;i=i.listeners;t:{var r=void 0;if(e)for(var a=i.length-1;0<=a;a--){var s=i[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==r&&o.isPropagationStopped())break t;Ii(o,s,c),r=l}else for(a=0;a<i.length;a++){if(l=(s=i[a]).instance,c=s.currentTarget,s=s.listener,l!==r&&o.isPropagationStopped())break t;Ii(o,s,c),r=l}}}if(Bt)throw t=Lt,Bt=!1,Lt=null,t}function Mi(t,e){var n=e[lo];void 0===n&&(n=e[lo]=new Set);var i=t+"__bubble";n.has(i)||(Bi(e,t,2,!1),n.add(i))}function Di(t,e,n){var i=0;e&&(i|=4),Bi(n,t,i,e)}var Ai="_reactListening"+Math.random().toString(36).slice(2);function Ri(t){if(!t[Ai]){t[Ai]=!0,a.forEach(function(e){"selectionchange"!==e&&(Ti.has(e)||Di(e,!1,t),Di(e,!0,t))});var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Ai]||(e[Ai]=!0,Di("selectionchange",!1,e))}}function Bi(t,e,n,i){switch(Ge(e)){case 1:var o=Ve;break;case 4:o=Ue;break;default:o=We}n=o.bind(null,e,n,t),o=void 0,!Mt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(o=!0),i?void 0!==o?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):void 0!==o?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function Li(t,e,n,i,o){var r=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var s=i.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=i.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=ho(s)))return;if(5===(l=a.tag)||6===l){i=r=a;continue t}s=s.parentNode}}i=i.return}It(function(){var i=r,o=bt(n),a=[];t:{var s=xi.get(t);if(void 0!==s){var l=sn,c=t;switch(t){case"keypress":if(0===Qe(n))break t;case"keydown":case"keyup":l=On;break;case"focusin":c="focus",l=pn;break;case"focusout":c="blur",l=pn;break;case"beforeblur":case"afterblur":l=pn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Sn;break;case _i:case bi:case Ci:l=fn;break;case Oi:l=wn;break;case"scroll":l=cn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var u=0!==(4&e),h=!u&&"scroll"===t,d=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=i;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&(null!=(m=jt(f,d))&&u.push(Ni(f,m,p)))),h)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,o),a.push({event:s,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||n===_t||!(c=n.relatedTarget||n.fromElement)||!ho(c)&&!c[so])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?ho(c):null)&&(c!==(h=Ft(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=hn,m="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==t&&"pointerover"!==t||(u=xn,m="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?s:fo(l),p=null==c?s:fo(c),(s=new u(m,f+"leave",l,n,o)).target=h,s.relatedTarget=p,m=null,ho(o)===i&&((u=new u(d,f+"enter",c,n,o)).target=p,u.relatedTarget=h,m=u),h=m,l&&c)t:{for(d=c,f=0,p=u=l;p;p=Fi(p))f++;for(p=0,m=d;m;m=Fi(m))p++;for(;0<f-p;)u=Fi(u),f--;for(;0<p-f;)d=Fi(d),p--;for(;f--;){if(u===d||null!==d&&u===d.alternate)break t;u=Fi(u),d=Fi(d)}u=null}else u=null;null!==l&&Hi(a,s,l,u,!1),null!==c&&null!==h&&Hi(a,h,c,u,!0)}if("select"===(l=(s=i?fo(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Wn;else if(Nn(s))if(Kn)g=ti;else{g=Qn;var v=Xn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=Jn);switch(g&&(g=g(t,i))?zn(a,g,n,o):(v&&v(t,s,i),"focusout"===t&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&J(s,"number",s.value)),v=i?fo(i):window,t){case"focusin":(Nn(v)||"true"===v.contentEditable)&&(ci=v,ui=i,hi=null);break;case"focusout":hi=ui=ci=null;break;case"mousedown":di=!0;break;case"contextmenu":case"mouseup":case"dragend":di=!1,pi(a,n,o);break;case"selectionchange":if(li)break;case"keydown":case"keyup":pi(a,n,o)}var y;if(En)t:{switch(t){case"compositionstart":var _="onCompositionStart";break t;case"compositionend":_="onCompositionEnd";break t;case"compositionupdate":_="onCompositionUpdate";break t}_=void 0}else Bn?An(t,n)&&(_="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(_="onCompositionStart");_&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Bn&&(y=Xe()):(Ze="value"in(qe=o)?qe.value:qe.textContent,Bn=!0)),0<(v=zi(i,_)).length&&(_=new gn(_,t,null,n,o),a.push({event:_,listeners:v}),y?_.data=y:null!==(y=Rn(n))&&(_.data=y))),(y=In?function(t,e){switch(t){case"compositionend":return Rn(e);case"keypress":return 32!==e.which?null:(Dn=!0,Mn);case"textInput":return(t=e.data)===Mn&&Dn?null:t;default:return null}}(t,n):function(t,e){if(Bn)return"compositionend"===t||!En&&An(t,e)?(t=Xe(),Ye=Ze=qe=null,Bn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jn&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))&&(0<(i=zi(i,"onBeforeInput")).length&&(o=new gn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:i}),o.data=y))}ji(a,e)})}function Ni(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zi(t,e){for(var n=e+"Capture",i=[];null!==t;){var o=t,r=o.stateNode;5===o.tag&&null!==r&&(o=r,null!=(r=jt(t,n))&&i.unshift(Ni(t,r,o)),null!=(r=jt(t,e))&&i.push(Ni(t,r,o))),t=t.return}return i}function Fi(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Hi(t,e,n,i,o){for(var r=e._reactName,a=[];null!==n&&n!==i;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===i)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=jt(n,r))&&a.unshift(Ni(n,l,s)):o||null!=(l=jt(n,r))&&a.push(Ni(n,l,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}var Vi=/\r\n?/g,Ui=/\u0000|\uFFFD/g;function Wi(t){return("string"===typeof t?t:""+t).replace(Vi,"\n").replace(Ui,"")}function Ki(t,e,n){if(e=Wi(e),Wi(t)!==e&&n)throw Error(r(425))}function $i(){}var Gi=null,qi=null;function Zi(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Yi="function"===typeof setTimeout?setTimeout:void 0,Xi="function"===typeof clearTimeout?clearTimeout:void 0,Qi="function"===typeof Promise?Promise:void 0,Ji="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Qi?function(t){return Qi.resolve(null).then(t).catch(to)}:Yi;function to(t){setTimeout(function(){throw t})}function eo(t,e){var n=e,i=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===i)return t.removeChild(o),void ze(e);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=o}while(n);ze(e)}function no(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function io(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var oo=Math.random().toString(36).slice(2),ro="__reactFiber$"+oo,ao="__reactProps$"+oo,so="__reactContainer$"+oo,lo="__reactEvents$"+oo,co="__reactListeners$"+oo,uo="__reactHandles$"+oo;function ho(t){var e=t[ro];if(e)return e;for(var n=t.parentNode;n;){if(e=n[so]||n[ro]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=io(t);null!==t;){if(n=t[ro])return n;t=io(t)}return e}n=(t=n).parentNode}return null}function po(t){return!(t=t[ro]||t[so])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function fo(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(r(33))}function mo(t){return t[ao]||null}var go=[],vo=-1;function yo(t){return{current:t}}function _o(t){0>vo||(t.current=go[vo],go[vo]=null,vo--)}function bo(t,e){go[++vo]=t.current,t.current=e}var Co={},Oo=yo(Co),xo=yo(!1),So=Co;function wo(t,e){var n=t.type.contextTypes;if(!n)return Co;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var o,r={};for(o in n)r[o]=e[o];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Po(t){return null!==(t=t.childContextTypes)&&void 0!==t}function ko(){_o(xo),_o(Oo)}function Eo(t,e,n){if(Oo.current!==Co)throw Error(r(168));bo(Oo,e),bo(xo,n)}function To(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in e))throw Error(r(108,V(t)||"Unknown",o));return L({},n,i)}function Io(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Co,So=Oo.current,bo(Oo,t),bo(xo,xo.current),!0}function jo(t,e,n){var i=t.stateNode;if(!i)throw Error(r(169));n?(t=To(t,e,So),i.__reactInternalMemoizedMergedChildContext=t,_o(xo),_o(Oo),bo(Oo,t)):_o(xo),bo(xo,n)}var Mo=null,Do=!1,Ao=!1;function Ro(t){null===Mo?Mo=[t]:Mo.push(t)}function Bo(){if(!Ao&&null!==Mo){Ao=!0;var t=0,e=ge;try{var n=Mo;for(ge=1;t<n.length;t++){var i=n[t];do{i=i(!0)}while(null!==i)}Mo=null,Do=!1}catch(o){throw null!==Mo&&(Mo=Mo.slice(t+1)),Wt(Yt,Bo),o}finally{ge=e,Ao=!1}}return null}var Lo=[],No=0,zo=null,Fo=0,Ho=[],Vo=0,Uo=null,Wo=1,Ko="";function $o(t,e){Lo[No++]=Fo,Lo[No++]=zo,zo=t,Fo=e}function Go(t,e,n){Ho[Vo++]=Wo,Ho[Vo++]=Ko,Ho[Vo++]=Uo,Uo=t;var i=Wo;t=Ko;var o=32-ie(i)-1;i&=~(1<<o),n+=1;var r=32-ie(e)+o;if(30<r){var a=o-o%5;r=(i&(1<<a)-1).toString(32),i>>=a,o-=a,Wo=1<<32-ie(e)+o|n<<o|i,Ko=r+t}else Wo=1<<r|n<<o|i,Ko=t}function qo(t){null!==t.return&&($o(t,1),Go(t,1,0))}function Zo(t){for(;t===zo;)zo=Lo[--No],Lo[No]=null,Fo=Lo[--No],Lo[No]=null;for(;t===Uo;)Uo=Ho[--Vo],Ho[Vo]=null,Ko=Ho[--Vo],Ho[Vo]=null,Wo=Ho[--Vo],Ho[Vo]=null}var Yo=null,Xo=null,Qo=!1,Jo=null;function tr(t,e){var n=mc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function er(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,Yo=t,Xo=no(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,Yo=t,Xo=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Uo?{id:Wo,overflow:Ko}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=mc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,Yo=t,Xo=null,!0);default:return!1}}function nr(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function ir(t){if(Qo){var e=Xo;if(e){var n=e;if(!er(t,e)){if(nr(t))throw Error(r(418));e=no(n.nextSibling);var i=Yo;e&&er(t,e)?tr(i,n):(t.flags=-4097&t.flags|2,Qo=!1,Yo=t)}}else{if(nr(t))throw Error(r(418));t.flags=-4097&t.flags|2,Qo=!1,Yo=t}}}function or(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Yo=t}function rr(t){if(t!==Yo)return!1;if(!Qo)return or(t),Qo=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!Zi(t.type,t.memoizedProps)),e&&(e=Xo)){if(nr(t))throw ar(),Error(r(418));for(;e;)tr(t,e),e=no(e.nextSibling)}if(or(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(r(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Xo=no(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Xo=null}}else Xo=Yo?no(t.stateNode.nextSibling):null;return!0}function ar(){for(var t=Xo;t;)t=no(t.nextSibling)}function sr(){Xo=Yo=null,Qo=!1}function lr(t){null===Jo?Jo=[t]:Jo.push(t)}var cr=b.ReactCurrentBatchConfig;function ur(t,e){if(t&&t.defaultProps){for(var n in e=L({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var hr=yo(null),dr=null,pr=null,fr=null;function mr(){fr=pr=dr=null}function gr(t){var e=hr.current;_o(hr),t._currentValue=e}function vr(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function yr(t,e){dr=t,fr=pr=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(us=!0),t.firstContext=null)}function _r(t){var e=t._currentValue;if(fr!==t)if(t={context:t,memoizedValue:e,next:null},null===pr){if(null===dr)throw Error(r(308));pr=t,dr.dependencies={lanes:0,firstContext:t}}else pr=pr.next=t;return e}var br=null;function Cr(t){null===br?br=[t]:br.push(t)}function Or(t,e,n,i){var o=e.interleaved;return null===o?(n.next=n,Cr(e)):(n.next=o.next,o.next=n),e.interleaved=n,xr(t,i)}function xr(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Sr=!1;function wr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pr(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Er(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&gl)){var o=i.pending;return null===o?e.next=e:(e.next=o.next,o.next=e),i.pending=e,xr(t,n)}return null===(o=i.interleaved)?(e.next=e,Cr(i)):(e.next=o.next,o.next=e),i.interleaved=e,xr(t,n)}function Tr(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,me(t,n)}}function Ir(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var o=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?o=r=a:r=r.next=a,n=n.next}while(null!==n);null===r?o=r=e:r=r.next=e}else o=r=e;return n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:r,shared:i.shared,effects:i.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jr(t,e,n,i){var o=t.updateQueue;Sr=!1;var r=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?r=c:a.next=c,a=l;var u=t.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==r){var h=o.baseState;for(a=0,u=c=l=null,s=r;;){var d=s.lane,p=s.eventTime;if((i&d)===d){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var f=t,m=s;switch(d=e,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){h=f.call(p,h,d);break t}h=f;break t;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=m.payload)?f.call(p,h,d):f)||void 0===d)break t;h=L({},h,d);break t;case 2:Sr=!0}}null!==s.callback&&0!==s.lane&&(t.flags|=64,null===(d=o.effects)?o.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,a|=d;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(d=s).next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}if(null===u&&(l=h),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(e=o.shared.interleaved)){o=e;do{a|=o.lane,o=o.next}while(o!==e)}else null===r&&(o.shared.lanes=0);Sl|=a,t.lanes=a,t.memoizedState=h}}function Mr(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],o=i.callback;if(null!==o){if(i.callback=null,i=n,"function"!==typeof o)throw Error(r(191,o));o.call(i)}}}var Dr=(new i.Component).refs;function Ar(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:L({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var Rr={isMounted:function(t){return!!(t=t._reactInternals)&&Ft(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Vl(),o=Ul(t),r=kr(i,o);r.payload=e,void 0!==n&&null!==n&&(r.callback=n),null!==(e=Er(t,r,o))&&(Wl(e,t,o,i),Tr(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Vl(),o=Ul(t),r=kr(i,o);r.tag=1,r.payload=e,void 0!==n&&null!==n&&(r.callback=n),null!==(e=Er(t,r,o))&&(Wl(e,t,o,i),Tr(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vl(),i=Ul(t),o=kr(n,i);o.tag=2,void 0!==e&&null!==e&&(o.callback=e),null!==(e=Er(t,o,i))&&(Wl(e,t,i,n),Tr(e,t,i))}};function Br(t,e,n,i,o,r,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,r,a):!e.prototype||!e.prototype.isPureReactComponent||(!ni(n,i)||!ni(o,r))}function Lr(t,e,n){var i=!1,o=Co,r=e.contextType;return"object"===typeof r&&null!==r?r=_r(r):(o=Po(e)?So:Oo.current,r=(i=null!==(i=e.contextTypes)&&void 0!==i)?wo(t,o):Co),e=new e(n,r),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Rr,t.stateNode=e,e._reactInternals=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=r),e}function Nr(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Rr.enqueueReplaceState(e,e.state,null)}function zr(t,e,n,i){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs=Dr,wr(t);var r=e.contextType;"object"===typeof r&&null!==r?o.context=_r(r):(r=Po(e)?So:Oo.current,o.context=wo(t,r)),o.state=t.memoizedState,"function"===typeof(r=e.getDerivedStateFromProps)&&(Ar(t,e,r,n),o.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(e=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),e!==o.state&&Rr.enqueueReplaceState(o,o.state,null),jr(t,n,o,i),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308)}function Fr(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,t));var o=i,a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:((e=function(t){var e=o.refs;e===Dr&&(e=o.refs={}),null===t?delete e[a]:e[a]=t})._stringRef=a,e)}if("string"!==typeof t)throw Error(r(284));if(!n._owner)throw Error(r(290,t))}return t}function Hr(t,e){throw t=Object.prototype.toString.call(e),Error(r(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vr(t){return(0,t._init)(t._payload)}function Ur(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(t,e){return(t=vc(t,e)).index=0,t.sibling=null,t}function a(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=2,n):i:(e.flags|=2,n):(e.flags|=1048576,n)}function s(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Cc(n,t.mode,i)).return=t,e):((e=o(e,n)).return=t,e)}function c(t,e,n,i){var r=n.type;return r===x?h(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===M&&Vr(r)===e.type)?((i=o(e,n.props)).ref=Fr(t,e,n),i.return=t,i):((i=yc(n.type,n.key,n.props,null,t.mode,i)).ref=Fr(t,e,n),i.return=t,i)}function u(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Oc(n,t.mode,i)).return=t,e):((e=o(e,n.children||[])).return=t,e)}function h(t,e,n,i,r){return null===e||7!==e.tag?((e=_c(n,t.mode,i,r)).return=t,e):((e=o(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Cc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case C:return(n=yc(e.type,e.key,e.props,null,t.mode,n)).ref=Fr(t,null,e),n.return=t,n;case O:return(e=Oc(e,t.mode,n)).return=t,e;case M:return d(t,(0,e._init)(e._payload),n)}if(tt(e)||R(e))return(e=_c(e,t.mode,n,null)).return=t,e;Hr(t,e)}return null}function p(t,e,n,i){var o=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case C:return n.key===o?c(t,e,n,i):null;case O:return n.key===o?u(t,e,n,i):null;case M:return p(t,e,(o=n._init)(n._payload),i)}if(tt(n)||R(n))return null!==o?null:h(t,e,n,i,null);Hr(t,n)}return null}function f(t,e,n,i,o){if("string"===typeof i&&""!==i||"number"===typeof i)return l(e,t=t.get(n)||null,""+i,o);if("object"===typeof i&&null!==i){switch(i.$$typeof){case C:return c(e,t=t.get(null===i.key?n:i.key)||null,i,o);case O:return u(e,t=t.get(null===i.key?n:i.key)||null,i,o);case M:return f(t,e,n,(0,i._init)(i._payload),o)}if(tt(i)||R(i))return h(e,t=t.get(n)||null,i,o,null);Hr(e,i)}return null}function m(o,r,s,l){for(var c=null,u=null,h=r,m=r=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=p(o,h,s[m],l);if(null===v){null===h&&(h=g);break}t&&h&&null===v.alternate&&e(o,h),r=a(v,r,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===s.length)return n(o,h),Qo&&$o(o,m),c;if(null===h){for(;m<s.length;m++)null!==(h=d(o,s[m],l))&&(r=a(h,r,m),null===u?c=h:u.sibling=h,u=h);return Qo&&$o(o,m),c}for(h=i(o,h);m<s.length;m++)null!==(g=f(h,o,m,s[m],l))&&(t&&null!==g.alternate&&h.delete(null===g.key?m:g.key),r=a(g,r,m),null===u?c=g:u.sibling=g,u=g);return t&&h.forEach(function(t){return e(o,t)}),Qo&&$o(o,m),c}function g(o,s,l,c){var u=R(l);if("function"!==typeof u)throw Error(r(150));if(null==(l=u.call(l)))throw Error(r(151));for(var h=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var _=p(o,m,y.value,c);if(null===_){null===m&&(m=v);break}t&&m&&null===_.alternate&&e(o,m),s=a(_,s,g),null===h?u=_:h.sibling=_,h=_,m=v}if(y.done)return n(o,m),Qo&&$o(o,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(o,y.value,c))&&(s=a(y,s,g),null===h?u=y:h.sibling=y,h=y);return Qo&&$o(o,g),u}for(m=i(o,m);!y.done;g++,y=l.next())null!==(y=f(m,o,g,y.value,c))&&(t&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===h?u=y:h.sibling=y,h=y);return t&&m.forEach(function(t){return e(o,t)}),Qo&&$o(o,g),u}return function t(i,r,a,l){if("object"===typeof a&&null!==a&&a.type===x&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case C:t:{for(var c=a.key,u=r;null!==u;){if(u.key===c){if((c=a.type)===x){if(7===u.tag){n(i,u.sibling),(r=o(u,a.props.children)).return=i,i=r;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&Vr(c)===u.type){n(i,u.sibling),(r=o(u,a.props)).ref=Fr(i,u,a),r.return=i,i=r;break t}n(i,u);break}e(i,u),u=u.sibling}a.type===x?((r=_c(a.props.children,i.mode,l,a.key)).return=i,i=r):((l=yc(a.type,a.key,a.props,null,i.mode,l)).ref=Fr(i,r,a),l.return=i,i=l)}return s(i);case O:t:{for(u=a.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(i,r.sibling),(r=o(r,a.children||[])).return=i,i=r;break t}n(i,r);break}e(i,r),r=r.sibling}(r=Oc(a,i.mode,l)).return=i,i=r}return s(i);case M:return t(i,r,(u=a._init)(a._payload),l)}if(tt(a))return m(i,r,a,l);if(R(a))return g(i,r,a,l);Hr(i,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==r&&6===r.tag?(n(i,r.sibling),(r=o(r,a)).return=i,i=r):(n(i,r),(r=Cc(a,i.mode,l)).return=i,i=r),s(i)):n(i,r)}}var Wr=Ur(!0),Kr=Ur(!1),$r={},Gr=yo($r),qr=yo($r),Zr=yo($r);function Yr(t){if(t===$r)throw Error(r(174));return t}function Xr(t,e){switch(bo(Zr,e),bo(qr,t),bo(Gr,$r),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:st(null,"");break;default:e=st(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}_o(Gr),bo(Gr,e)}function Qr(){_o(Gr),_o(qr),_o(Zr)}function Jr(t){Yr(Zr.current);var e=Yr(Gr.current),n=st(e,t.type);e!==n&&(bo(qr,t),bo(Gr,n))}function ta(t){qr.current===t&&(_o(Gr),_o(qr))}var ea=yo(0);function na(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ia=[];function oa(){for(var t=0;t<ia.length;t++)ia[t]._workInProgressVersionPrimary=null;ia.length=0}var ra=b.ReactCurrentDispatcher,aa=b.ReactCurrentBatchConfig,sa=0,la=null,ca=null,ua=null,ha=!1,da=!1,pa=0,fa=0;function ma(){throw Error(r(321))}function ga(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ei(t[n],e[n]))return!1;return!0}function va(t,e,n,i,o,a){if(sa=a,la=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ra.current=null===t||null===t.memoizedState?Xa:Qa,t=n(i,o),da){a=0;do{if(da=!1,pa=0,25<=a)throw Error(r(301));a+=1,ua=ca=null,e.updateQueue=null,ra.current=Ja,t=n(i,o)}while(da)}if(ra.current=Ya,e=null!==ca&&null!==ca.next,sa=0,ua=ca=la=null,ha=!1,e)throw Error(r(300));return t}function ya(){var t=0!==pa;return pa=0,t}function _a(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ua?la.memoizedState=ua=t:ua=ua.next=t,ua}function ba(){if(null===ca){var t=la.alternate;t=null!==t?t.memoizedState:null}else t=ca.next;var e=null===ua?la.memoizedState:ua.next;if(null!==e)ua=e,ca=t;else{if(null===t)throw Error(r(310));t={memoizedState:(ca=t).memoizedState,baseState:ca.baseState,baseQueue:ca.baseQueue,queue:ca.queue,next:null},null===ua?la.memoizedState=ua=t:ua=ua.next=t}return ua}function Ca(t,e){return"function"===typeof e?e(t):e}function Oa(t){var e=ba(),n=e.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=t;var i=ca,o=i.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}i.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,i=i.baseState;var l=s=null,c=null,u=a;do{var h=u.lane;if((sa&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,s=i):c=c.next=d,la.lanes|=h,Sl|=h}u=u.next}while(null!==u&&u!==a);null===c?s=i:c.next=l,ei(i,e.memoizedState)||(us=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=c,n.lastRenderedState=i}if(null!==(t=n.interleaved)){o=t;do{a=o.lane,la.lanes|=a,Sl|=a,o=o.next}while(o!==t)}else null===o&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xa(t){var e=ba(),n=e.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=t;var i=n.dispatch,o=n.pending,a=e.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=t(a,s.action),s=s.next}while(s!==o);ei(a,e.memoizedState)||(us=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function Sa(){}function wa(t,e){var n=la,i=ba(),o=e(),a=!ei(i.memoizedState,o);if(a&&(i.memoizedState=o,us=!0),i=i.queue,La(Ea.bind(null,n,i,t),[t]),i.getSnapshot!==e||a||null!==ua&&1&ua.memoizedState.tag){if(n.flags|=2048,Ma(9,ka.bind(null,n,i,o,e),void 0,null),null===vl)throw Error(r(349));0!==(30&sa)||Pa(n,e,o)}return o}function Pa(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=la.updateQueue)?(e={lastEffect:null,stores:null},la.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function ka(t,e,n,i){e.value=n,e.getSnapshot=i,Ta(e)&&Ia(t)}function Ea(t,e,n){return n(function(){Ta(e)&&Ia(t)})}function Ta(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ei(t,n)}catch(i){return!0}}function Ia(t){var e=xr(t,1);null!==e&&Wl(e,t,1,-1)}function ja(t){var e=_a();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:t},e.queue=t,t=t.dispatch=function(t,e,n){var i=Ul(t),o={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ga(t))qa(e,o);else{var r=t.alternate;if(0===t.lanes&&(null===r||0===r.lanes)&&null!==(r=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=r(a,n);if(o.hasEagerState=!0,o.eagerState=s,ei(s,a)){var l=e.interleaved;return null===l?(o.next=o,Cr(e)):(o.next=l.next,l.next=o),void(e.interleaved=o)}}catch(c){}null!==(n=Or(t,e,o,i))&&(o=Vl(),Wl(n,t,i,o),Za(n,e,i))}}.bind(null,la,t),[e.memoizedState,t]}function Ma(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=la.updateQueue)?(e={lastEffect:null,stores:null},la.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Da(){return ba().memoizedState}function Aa(t,e,n,i){var o=_a();la.flags|=t,o.memoizedState=Ma(1|e,n,void 0,void 0===i?null:i)}function Ra(t,e,n,i){var o=ba();i=void 0===i?null:i;var r=void 0;if(null!==ca){var a=ca.memoizedState;if(r=a.destroy,null!==i&&ga(i,a.deps))return void(o.memoizedState=Ma(e,n,r,i))}la.flags|=t,o.memoizedState=Ma(1|e,n,r,i)}function Ba(t,e){return Aa(8390656,8,t,e)}function La(t,e){return Ra(2048,8,t,e)}function Na(t,e){return Ra(4,2,t,e)}function za(t,e){return Ra(4,4,t,e)}function Fa(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ha(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Ra(4,4,Fa.bind(null,e,t),n)}function Va(){}function Ua(t,e){var n=ba();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&ga(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Wa(t,e){var n=ba();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&ga(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Ka(t,e,n){return 0===(21&sa)?(t.baseState&&(t.baseState=!1,us=!0),t.memoizedState=n):(ei(n,e)||(n=de(),la.lanes|=n,Sl|=n,t.baseState=!0),e)}function $a(){return ba().memoizedState}function Ga(t){var e=t.alternate;return t===la||null!==e&&e===la}function qa(t,e){da=ha=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Za(t,e,n){if(0!==(4194240&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,me(t,n)}}var Ya={readContext:_r,useCallback:ma,useContext:ma,useEffect:ma,useImperativeHandle:ma,useInsertionEffect:ma,useLayoutEffect:ma,useMemo:ma,useReducer:ma,useRef:ma,useState:ma,useDebugValue:ma,useDeferredValue:ma,useTransition:ma,useMutableSource:ma,useSyncExternalStore:ma,useId:ma,unstable_isNewReconciler:!1},Xa={readContext:_r,useCallback:function(t,e){return _a().memoizedState=[t,void 0===e?null:e],t},useContext:_r,useEffect:Ba,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Aa(4194308,4,Fa.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Aa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Aa(4,2,t,e)},useMemo:function(t,e){var n=_a();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=_a();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=function(t,e,n){var i=Ul(t);n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Ga(t)?qa(e,n):null!==(n=Or(t,e,n,i))&&(Wl(n,t,i,Vl()),Za(n,e,i))}.bind(null,la,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},_a().memoizedState=t},useState:ja,useDebugValue:Va,useDeferredValue:function(t){return _a().memoizedState=t},useTransition:function(){var t=ja(!1),e=t[0];return t=function(t,e){var n=ge;ge=0!==n&&4>n?n:4,t(!0);var i=aa.transition;aa.transition={};try{t(!1),e()}finally{ge=n,aa.transition=i}}.bind(null,t[1]),_a().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=la,o=_a();if(Qo){if(void 0===n)throw Error(r(407));n=n()}else{if(n=e(),null===vl)throw Error(r(349));0!==(30&sa)||Pa(i,e,n)}o.memoizedState=n;var a={value:n,getSnapshot:e};return o.queue=a,Ba(Ea.bind(null,i,a,t),[t]),i.flags|=2048,Ma(9,ka.bind(null,i,a,n,e),void 0,null),n},useId:function(){var t=_a(),e=vl.identifierPrefix;if(Qo){var n=Ko;e=":"+e+"R"+(n=(Wo&~(1<<32-ie(Wo)-1)).toString(32)+n),0<(n=pa++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=fa++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Qa={readContext:_r,useCallback:Ua,useContext:_r,useEffect:La,useImperativeHandle:Ha,useInsertionEffect:Na,useLayoutEffect:za,useMemo:Wa,useReducer:Oa,useRef:Da,useState:function(){return Oa(Ca)},useDebugValue:Va,useDeferredValue:function(t){return Ka(ba(),ca.memoizedState,t)},useTransition:function(){return[Oa(Ca)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:wa,useId:$a,unstable_isNewReconciler:!1},Ja={readContext:_r,useCallback:Ua,useContext:_r,useEffect:La,useImperativeHandle:Ha,useInsertionEffect:Na,useLayoutEffect:za,useMemo:Wa,useReducer:xa,useRef:Da,useState:function(){return xa(Ca)},useDebugValue:Va,useDeferredValue:function(t){var e=ba();return null===ca?e.memoizedState=t:Ka(e,ca.memoizedState,t)},useTransition:function(){return[xa(Ca)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:wa,useId:$a,unstable_isNewReconciler:!1};function ts(t,e){try{var n="",i=e;do{n+=H(i),i=i.return}while(i);var o=n}catch(r){o="\nError generating stack: "+r.message+"\n"+r.stack}return{value:t,source:e,stack:o,digest:null}}function es(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function ns(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var is="function"===typeof WeakMap?WeakMap:Map;function os(t,e,n){(n=kr(-1,n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Ml||(Ml=!0,Dl=i),ns(0,e)},n}function rs(t,e,n){(n=kr(-1,n)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var o=e.value;n.payload=function(){return i(o)},n.callback=function(){ns(0,e)}}var r=t.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(n.callback=function(){ns(0,e),"function"!==typeof i&&(null===Al?Al=new Set([this]):Al.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function as(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new is;var o=new Set;i.set(e,o)}else void 0===(o=i.get(e))&&(o=new Set,i.set(e,o));o.has(n)||(o.add(n),t=function(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),e=Vl(),t.pingedLanes|=t.suspendedLanes&n,vl===t&&(_l&n)===n&&(4===Ol||3===Ol&&(130023424&_l)===_l&&500>qt()-Tl?Jl(t,0):Pl|=n),Kl(t,e)}.bind(null,t,e,n),e.then(t,t))}function ss(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ls(t,e,n,i,o){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=kr(-1,1)).tag=2,Er(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=o,t)}var cs=b.ReactCurrentOwner,us=!1;function hs(t,e,n,i){e.child=null===t?Kr(e,null,n,i):Wr(e,t.child,n,i)}function ds(t,e,n,i,o){n=n.render;var r=e.ref;return yr(e,o),i=va(t,e,n,i,r,o),n=ya(),null===t||us?(Qo&&n&&qo(e),e.flags|=1,hs(t,e,i,o),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Rs(t,e,o))}function ps(t,e,n,i,o){if(null===t){var r=n.type;return"function"!==typeof r||gc(r)||void 0!==r.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=yc(n.type,null,i,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=r,fs(t,e,r,i,o))}if(r=t.child,0===(t.lanes&o)){var a=r.memoizedProps;if((n=null!==(n=n.compare)?n:ni)(a,i)&&t.ref===e.ref)return Rs(t,e,o)}return e.flags|=1,(t=vc(r,i)).ref=e.ref,t.return=e,e.child=t}function fs(t,e,n,i,o){if(null!==t){var r=t.memoizedProps;if(ni(r,i)&&t.ref===e.ref){if(us=!1,e.pendingProps=i=r,0===(t.lanes&o))return e.lanes=t.lanes,Rs(t,e,o);0!==(131072&t.flags)&&(us=!0)}}return vs(t,e,n,i,o)}function ms(t,e,n){var i=e.pendingProps,o=i.children,r=null!==t?t.memoizedState:null;if("hidden"===i.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},bo(Cl,bl),bl|=n;else{if(0===(1073741824&n))return t=null!==r?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,bo(Cl,bl),bl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==r?r.baseLanes:n,bo(Cl,bl),bl|=i}else null!==r?(i=r.baseLanes|n,e.memoizedState=null):i=n,bo(Cl,bl),bl|=i;return hs(t,e,o,n),e.child}function gs(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vs(t,e,n,i,o){var r=Po(n)?So:Oo.current;return r=wo(e,r),yr(e,o),n=va(t,e,n,i,r,o),i=ya(),null===t||us?(Qo&&i&&qo(e),e.flags|=1,hs(t,e,n,o),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Rs(t,e,o))}function ys(t,e,n,i,o){if(Po(n)){var r=!0;Io(e)}else r=!1;if(yr(e,o),null===e.stateNode)As(t,e),Lr(e,n,i),zr(e,n,i,o),i=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=_r(c):c=wo(e,c=Po(n)?So:Oo.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||l!==c)&&Nr(e,a,i,c),Sr=!1;var d=e.memoizedState;a.state=d,jr(e,i,a,o),l=e.memoizedState,s!==i||d!==l||xo.current||Sr?("function"===typeof u&&(Ar(e,n,u,i),l=e.memoizedState),(s=Sr||Br(e,n,s,i,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),a.props=i,a.state=l,a.context=c,i=s):("function"===typeof a.componentDidMount&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,Pr(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:ur(e.type,s),a.props=c,h=e.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=_r(l):l=wo(e,l=Po(n)?So:Oo.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||d!==l)&&Nr(e,a,i,l),Sr=!1,d=e.memoizedState,a.state=d,jr(e,i,a,o);var f=e.memoizedState;s!==h||d!==f||xo.current||Sr?("function"===typeof p&&(Ar(e,n,p,i),f=e.memoizedState),(c=Sr||Br(e,n,c,i,d,f,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=f),a.props=i,a.state=f,a.context=l,i=c):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return _s(t,e,n,i,r,o)}function _s(t,e,n,i,o,r){gs(t,e);var a=0!==(128&e.flags);if(!i&&!a)return o&&jo(e,n,!1),Rs(t,e,r);i=e.stateNode,cs.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.flags|=1,null!==t&&a?(e.child=Wr(e,t.child,null,r),e.child=Wr(e,null,s,r)):hs(t,e,s,r),e.memoizedState=i.state,o&&jo(e,n,!0),e.child}function bs(t){var e=t.stateNode;e.pendingContext?Eo(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Eo(0,e.context,!1),Xr(t,e.containerInfo)}function Cs(t,e,n,i,o){return sr(),lr(o),e.flags|=256,hs(t,e,n,i),e.child}var Os,xs,Ss,ws,Ps={dehydrated:null,treeContext:null,retryLane:0};function ks(t){return{baseLanes:t,cachePool:null,transitions:null}}function Es(t,e,n){var i,o=e.pendingProps,a=ea.current,s=!1,l=0!==(128&e.flags);if((i=l)||(i=(null===t||null!==t.memoizedState)&&0!==(2&a)),i?(s=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),bo(ea,1&a),null===t)return ir(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=o.children,t=o.fallback,s?(o=e.mode,s=e.child,l={mode:"hidden",children:l},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=bc(l,o,0,null),t=_c(t,o,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ks(n),e.memoizedState=Ps,t):Ts(e,l));if(null!==(a=t.memoizedState)&&null!==(i=a.dehydrated))return function(t,e,n,i,o,a,s){if(n)return 256&e.flags?(e.flags&=-257,i=es(Error(r(422))),Is(t,e,s,i)):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=i.fallback,o=e.mode,i=bc({mode:"visible",children:i.children},o,0,null),(a=_c(a,o,s,null)).flags|=2,i.return=e,a.return=e,i.sibling=a,e.child=i,0!==(1&e.mode)&&Wr(e,t.child,null,s),e.child.memoizedState=ks(s),e.memoizedState=Ps,a);if(0===(1&e.mode))return Is(t,e,s,null);if("$!"===o.data){if(i=o.nextSibling&&o.nextSibling.dataset)var l=i.dgst;return i=l,a=Error(r(419)),i=es(a,i,void 0),Is(t,e,s,i)}if(l=0!==(s&t.childLanes),us||l){if(null!==(i=vl)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(i.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,xr(t,o),Wl(i,t,o,-1))}return nc(),i=es(Error(r(421))),Is(t,e,s,i)}return"$?"===o.data?(e.flags|=128,e.child=t.child,e=function(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),dc(t,n)}.bind(null,t),o._reactRetry=e,null):(t=a.treeContext,Xo=no(o.nextSibling),Yo=e,Qo=!0,Jo=null,null!==t&&(Ho[Vo++]=Wo,Ho[Vo++]=Ko,Ho[Vo++]=Uo,Wo=t.id,Ko=t.overflow,Uo=e),(e=Ts(e,i.children)).flags|=4096,e)}(t,e,l,o,i,a,n);if(s){s=o.fallback,l=e.mode,i=(a=t.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&e.child!==a?((o=e.child).childLanes=0,o.pendingProps=c,e.deletions=null):(o=vc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==i?s=vc(i,s):(s=_c(s,l,n,null)).flags|=2,s.return=e,o.return=e,o.sibling=s,e.child=o,o=s,s=e.child,l=null===(l=t.child.memoizedState)?ks(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~n,e.memoizedState=Ps,o}return t=(s=t.child).sibling,o=vc(s,{mode:"visible",children:o.children}),0===(1&e.mode)&&(o.lanes=n),o.return=e,o.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=o,e.memoizedState=null,o}function Ts(t,e){return(e=bc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Is(t,e,n,i){return null!==i&&lr(i),Wr(e,t.child,null,n),(t=Ts(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function js(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),vr(t.return,e,n)}function Ms(t,e,n,i,o){var r=t.memoizedState;null===r?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=o)}function Ds(t,e,n){var i=e.pendingProps,o=i.revealOrder,r=i.tail;if(hs(t,e,i.children,n),0!==(2&(i=ea.current)))i=1&i|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&js(t,n,e);else if(19===t.tag)js(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(bo(ea,i),0===(1&e.mode))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;null!==n;)null!==(t=n.alternate)&&null===na(t)&&(o=n),n=n.sibling;null===(n=o)?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),Ms(e,!1,o,n,r);break;case"backwards":for(n=null,o=e.child,e.child=null;null!==o;){if(null!==(t=o.alternate)&&null===na(t)){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}Ms(e,!0,n,null,r);break;case"together":Ms(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function As(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Rs(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Sl|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(r(153));if(null!==e.child){for(n=vc(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=vc(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Bs(t,e){if(!Qo)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ls(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var o=t.child;null!==o;)n|=o.lanes|o.childLanes,i|=14680064&o.subtreeFlags,i|=14680064&o.flags,o.return=t,o=o.sibling;else for(o=t.child;null!==o;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Ns(t,e,n){var i=e.pendingProps;switch(Zo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ls(e),null;case 1:return Po(e.type)&&ko(),Ls(e),null;case 3:return i=e.stateNode,Qr(),_o(xo),_o(Oo),oa(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||(rr(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==Jo&&(Gl(Jo),Jo=null))),xs(t,e),Ls(e),null;case 5:ta(e);var o=Yr(Zr.current);if(n=e.type,null!==t&&null!=e.stateNode)Ss(t,e,n,i,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(null===e.stateNode)throw Error(r(166));return Ls(e),null}if(t=Yr(Gr.current),rr(e)){i=e.stateNode,n=e.type;var a=e.memoizedProps;switch(i[ro]=e,i[ao]=a,t=0!==(1&e.mode),n){case"dialog":Mi("cancel",i),Mi("close",i);break;case"iframe":case"object":case"embed":Mi("load",i);break;case"video":case"audio":for(o=0;o<Ei.length;o++)Mi(Ei[o],i);break;case"source":Mi("error",i);break;case"img":case"image":case"link":Mi("error",i),Mi("load",i);break;case"details":Mi("toggle",i);break;case"input":Z(i,a),Mi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Mi("invalid",i);break;case"textarea":it(i,a),Mi("invalid",i)}for(var l in vt(n,a),o=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==a.suppressHydrationWarning&&Ki(i.textContent,c,t),o=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Ki(i.textContent,c,t),o=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Mi("scroll",i)}switch(n){case"input":K(i),Q(i,a,!0);break;case"textarea":K(i),rt(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=$i)}i=o,e.updateQueue=i,null!==i&&(e.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),"select"===n&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[ro]=e,t[ao]=i,Os(t,e,!1,!1),e.stateNode=t;t:{switch(l=yt(n,i),n){case"dialog":Mi("cancel",t),Mi("close",t),o=i;break;case"iframe":case"object":case"embed":Mi("load",t),o=i;break;case"video":case"audio":for(o=0;o<Ei.length;o++)Mi(Ei[o],t);o=i;break;case"source":Mi("error",t),o=i;break;case"img":case"image":case"link":Mi("error",t),Mi("load",t),o=i;break;case"details":Mi("toggle",t),o=i;break;case"input":Z(t,i),o=q(t,i),Mi("invalid",t);break;case"option":o=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},o=L({},i,{value:void 0}),Mi("invalid",t);break;case"textarea":it(t,i),o=nt(t,i),Mi("invalid",t);break;default:o=i}for(a in vt(n,o),c=o)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?mt(t,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&ut(t,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&ht(t,u):"number"===typeof u&&ht(t,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Mi("scroll",t):null!=u&&_(t,a,u,l))}switch(n){case"input":K(t),Q(t,i,!1);break;case"textarea":K(t),rt(t);break;case"option":null!=i.value&&t.setAttribute("value",""+U(i.value));break;case"select":t.multiple=!!i.multiple,null!=(a=i.value)?et(t,!!i.multiple,a,!1):null!=i.defaultValue&&et(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof o.onClick&&(t.onclick=$i)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Ls(e),null;case 6:if(t&&null!=e.stateNode)ws(t,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(r(166));if(n=Yr(Zr.current),Yr(Gr.current),rr(e)){if(i=e.stateNode,n=e.memoizedProps,i[ro]=e,(a=i.nodeValue!==n)&&null!==(t=Yo))switch(t.tag){case 3:Ki(i.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Ki(i.nodeValue,n,0!==(1&t.mode))}a&&(e.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[ro]=e,e.stateNode=i}return Ls(e),null;case 13:if(_o(ea),i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(Qo&&null!==Xo&&0!==(1&e.mode)&&0===(128&e.flags))ar(),sr(),e.flags|=98560,a=!1;else if(a=rr(e),null!==i&&null!==i.dehydrated){if(null===t){if(!a)throw Error(r(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(r(317));a[ro]=e}else sr(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Ls(e),a=!1}else null!==Jo&&(Gl(Jo),Jo=null),a=!0;if(!a)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((i=null!==i)!==(null!==t&&null!==t.memoizedState)&&i&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ea.current)?0===Ol&&(Ol=3):nc())),null!==e.updateQueue&&(e.flags|=4),Ls(e),null);case 4:return Qr(),xs(t,e),null===t&&Ri(e.stateNode.containerInfo),Ls(e),null;case 10:return gr(e.type._context),Ls(e),null;case 17:return Po(e.type)&&ko(),Ls(e),null;case 19:if(_o(ea),null===(a=e.memoizedState))return Ls(e),null;if(i=0!==(128&e.flags),null===(l=a.rendering))if(i)Bs(a,!1);else{if(0!==Ol||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=na(t))){for(e.flags|=128,Bs(a,!1),null!==(i=l.updateQueue)&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;null!==n;)t=i,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return bo(ea,1&ea.current|2),e.child}t=t.sibling}null!==a.tail&&qt()>Il&&(e.flags|=128,i=!0,Bs(a,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=na(l))){if(e.flags|=128,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Bs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!Qo)return Ls(e),null}else 2*qt()-a.renderingStartTime>Il&&1073741824!==n&&(e.flags|=128,i=!0,Bs(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=a.last)?n.sibling=l:e.child=l,a.last=l)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=qt(),e.sibling=null,n=ea.current,bo(ea,i?1&n|2:1&n),e):(Ls(e),null);case 22:case 23:return Ql(),i=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==i&&(e.flags|=8192),i&&0!==(1&e.mode)?0!==(1073741824&bl)&&(Ls(e),6&e.subtreeFlags&&(e.flags|=8192)):Ls(e),null;case 24:case 25:return null}throw Error(r(156,e.tag))}function zs(t,e){switch(Zo(e),e.tag){case 1:return Po(e.type)&&ko(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Qr(),_o(xo),_o(Oo),oa(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return ta(e),null;case 13:if(_o(ea),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(r(340));sr()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return _o(ea),null;case 4:return Qr(),null;case 10:return gr(e.type._context),null;case 22:case 23:return Ql(),null;case 24:default:return null}}Os=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},xs=function(){},Ss=function(t,e,n,i){var o=t.memoizedProps;if(o!==i){t=e.stateNode,Yr(Gr.current);var r,a=null;switch(n){case"input":o=q(t,o),i=q(t,i),a=[];break;case"select":o=L({},o,{value:void 0}),i=L({},i,{value:void 0}),a=[];break;case"textarea":o=nt(t,o),i=nt(t,i),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof i.onClick&&(t.onclick=$i)}for(u in vt(n,i),n=null,o)if(!i.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(r in l)l.hasOwnProperty(r)&&(n||(n={}),n[r]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=o?o[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(r in l)!l.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(n||(n={}),n[r]="");for(r in c)c.hasOwnProperty(r)&&l[r]!==c[r]&&(n||(n={}),n[r]=c[r])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Mi("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}},ws=function(t,e,n,i){n!==i&&(e.flags|=4)};var Fs=!1,Hs=!1,Vs="function"===typeof WeakSet?WeakSet:Set,Us=null;function Ws(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){hc(t,e,i)}else n.current=null}function Ks(t,e,n){try{n()}catch(i){hc(t,e,i)}}var $s=!1;function Gs(t,e,n){var i=e.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var o=i=i.next;do{if((o.tag&t)===t){var r=o.destroy;o.destroy=void 0,void 0!==r&&Ks(e,n,r)}o=o.next}while(o!==i)}}function qs(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Zs(t){var e=t.ref;if(null!==e){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}"function"===typeof e?e(t):e.current=t}}function Ys(t){var e=t.alternate;null!==e&&(t.alternate=null,Ys(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[ro],delete e[ao],delete e[lo],delete e[co],delete e[uo])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Xs(t){return 5===t.tag||3===t.tag||4===t.tag}function Qs(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||Xs(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}var Js=null,tl=!1;function el(t,e,n){for(n=n.child;null!==n;)nl(t,e,n),n=n.sibling}function nl(t,e,n){if(ne&&"function"===typeof ne.onCommitFiberUnmount)try{ne.onCommitFiberUnmount(ee,n)}catch(s){}switch(n.tag){case 5:Hs||Ws(n,e);case 6:var i=Js,o=tl;Js=null,el(t,e,n),tl=o,null!==(Js=i)&&(tl?(t=Js,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):Js.removeChild(n.stateNode));break;case 18:null!==Js&&(tl?(t=Js,n=n.stateNode,8===t.nodeType?eo(t.parentNode,n):1===t.nodeType&&eo(t,n),ze(t)):eo(Js,n.stateNode));break;case 4:i=Js,o=tl,Js=n.stateNode.containerInfo,tl=!0,el(t,e,n),Js=i,tl=o;break;case 0:case 11:case 14:case 15:if(!Hs&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){o=i=i.next;do{var r=o,a=r.destroy;r=r.tag,void 0!==a&&(0!==(2&r)?Ks(n,e,a):0!==(4&r)&&Ks(n,e,a)),o=o.next}while(o!==i)}el(t,e,n);break;case 1:if(!Hs&&(Ws(n,e),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(s){hc(n,e,s)}el(t,e,n);break;case 21:el(t,e,n);break;case 22:1&n.mode?(Hs=(i=Hs)||null!==n.memoizedState,el(t,e,n),Hs=i):el(t,e,n);break;default:el(t,e,n)}}function il(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Vs),e.forEach(function(e){var i=function(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,o=t.memoizedState;null!==o&&(n=o.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(r(314))}null!==i&&i.delete(e),dc(t,n)}.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))})}}function ol(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var o=n[i];try{var a=t,s=e,l=s;t:for(;null!==l;){switch(l.tag){case 5:Js=l.stateNode,tl=!1;break t;case 3:case 4:Js=l.stateNode.containerInfo,tl=!0;break t}l=l.return}if(null===Js)throw Error(r(160));nl(a,s,o),Js=null,tl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(u){hc(o,e,u)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)rl(e,t),e=e.sibling}function rl(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ol(e,t),al(t),4&i){try{Gs(3,t,t.return),qs(3,t)}catch(g){hc(t,t.return,g)}try{Gs(5,t,t.return)}catch(g){hc(t,t.return,g)}}break;case 1:ol(e,t),al(t),512&i&&null!==n&&Ws(n,n.return);break;case 5:if(ol(e,t),al(t),512&i&&null!==n&&Ws(n,n.return),32&t.flags){var o=t.stateNode;try{ht(o,"")}catch(g){hc(t,t.return,g)}}if(4&i&&null!=(o=t.stateNode)){var a=t.memoizedProps,s=null!==n?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Y(o,a),yt(l,s);var u=yt(l,a);for(s=0;s<c.length;s+=2){var h=c[s],d=c[s+1];"style"===h?mt(o,d):"dangerouslySetInnerHTML"===h?ut(o,d):"children"===h?ht(o,d):_(o,h,d,u)}switch(l){case"input":X(o,a);break;case"textarea":ot(o,a);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?et(o,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?et(o,!!a.multiple,a.defaultValue,!0):et(o,!!a.multiple,a.multiple?[]:"",!1))}o[ao]=a}catch(g){hc(t,t.return,g)}}break;case 6:if(ol(e,t),al(t),4&i){if(null===t.stateNode)throw Error(r(162));o=t.stateNode,a=t.memoizedProps;try{o.nodeValue=a}catch(g){hc(t,t.return,g)}}break;case 3:if(ol(e,t),al(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{ze(e.containerInfo)}catch(g){hc(t,t.return,g)}break;case 4:ol(e,t),al(t);break;case 13:ol(e,t),al(t),8192&(o=t.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(Tl=qt())),4&i&&il(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Hs=(u=Hs)||h,ol(e,t),Hs=u):ol(e,t),al(t),8192&i){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!h&&0!==(1&t.mode))for(Us=t,h=t.child;null!==h;){for(d=Us=h;null!==Us;){switch(f=(p=Us).child,p.tag){case 0:case 11:case 14:case 15:Gs(4,p,p.return);break;case 1:Ws(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){i=p,n=p.return;try{e=i,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){hc(i,n,g)}}break;case 5:Ws(p,p.return);break;case 22:if(null!==p.memoizedState){cl(d);continue}}null!==f?(f.return=p,Us=f):cl(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{o=d.stateNode,u?"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ft("display",s))}catch(g){hc(t,t.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){hc(t,t.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ol(e,t),al(t),4&i&&il(t);break;case 21:break;default:ol(e,t),al(t)}}function al(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(Xs(n)){var i=n;break t}n=n.return}throw Error(r(160))}switch(i.tag){case 5:var o=i.stateNode;32&i.flags&&(ht(o,""),i.flags&=-33),function t(e,n,i){var o=e.tag;if(5===o||6===o)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(4!==o&&null!==(e=e.child))for(t(e,n,i),e=e.sibling;null!==e;)t(e,n,i),e=e.sibling}(t,Qs(t),o);break;case 3:case 4:var a=i.stateNode.containerInfo;!function t(e,n,i){var o=e.tag;if(5===o||6===o)e=e.stateNode,n?8===i.nodeType?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(8===i.nodeType?(n=i.parentNode).insertBefore(e,i):(n=i).appendChild(e),null!==(i=i._reactRootContainer)&&void 0!==i||null!==n.onclick||(n.onclick=$i));else if(4!==o&&null!==(e=e.child))for(t(e,n,i),e=e.sibling;null!==e;)t(e,n,i),e=e.sibling}(t,Qs(t),a);break;default:throw Error(r(161))}}catch(s){hc(t,t.return,s)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function sl(t,e,n){Us=t,function t(e,n,i){for(var o=0!==(1&e.mode);null!==Us;){var r=Us,a=r.child;if(22===r.tag&&o){var s=null!==r.memoizedState||Fs;if(!s){var l=r.alternate,c=null!==l&&null!==l.memoizedState||Hs;l=Fs;var u=Hs;if(Fs=s,(Hs=c)&&!u)for(Us=r;null!==Us;)c=(s=Us).child,22===s.tag&&null!==s.memoizedState?ul(r):null!==c?(c.return=s,Us=c):ul(r);for(;null!==a;)Us=a,t(a,n,i),a=a.sibling;Us=r,Fs=l,Hs=u}ll(e)}else 0!==(8772&r.subtreeFlags)&&null!==a?(a.return=r,Us=a):ll(e)}}(t,e,n)}function ll(t){for(;null!==Us;){var e=Us;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Hs||qs(5,e);break;case 1:var i=e.stateNode;if(4&e.flags&&!Hs)if(null===n)i.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:ur(e.type,n.memoizedProps);i.componentDidUpdate(o,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&Mr(e,a,i);break;case 3:var s=e.updateQueue;if(null!==s){if(n=null,null!==e.child)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Mr(e,s,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&ze(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Hs||512&e.flags&&Zs(e)}catch(p){hc(e,e.return,p)}}if(e===t){Us=null;break}if(null!==(n=e.sibling)){n.return=e.return,Us=n;break}Us=e.return}}function cl(t){for(;null!==Us;){var e=Us;if(e===t){Us=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Us=n;break}Us=e.return}}function ul(t){for(;null!==Us;){var e=Us;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qs(4,e)}catch(l){hc(e,n,l)}break;case 1:var i=e.stateNode;if("function"===typeof i.componentDidMount){var o=e.return;try{i.componentDidMount()}catch(l){hc(e,o,l)}}var r=e.return;try{Zs(e)}catch(l){hc(e,r,l)}break;case 5:var a=e.return;try{Zs(e)}catch(l){hc(e,a,l)}}}catch(l){hc(e,e.return,l)}if(e===t){Us=null;break}var s=e.sibling;if(null!==s){s.return=e.return,Us=s;break}Us=e.return}}var hl,dl=Math.ceil,pl=b.ReactCurrentDispatcher,fl=b.ReactCurrentOwner,ml=b.ReactCurrentBatchConfig,gl=0,vl=null,yl=null,_l=0,bl=0,Cl=yo(0),Ol=0,xl=null,Sl=0,wl=0,Pl=0,kl=null,El=null,Tl=0,Il=1/0,jl=null,Ml=!1,Dl=null,Al=null,Rl=!1,Bl=null,Ll=0,Nl=0,zl=null,Fl=-1,Hl=0;function Vl(){return 0!==(6&gl)?qt():-1!==Fl?Fl:Fl=qt()}function Ul(t){return 0===(1&t.mode)?1:0!==(2&gl)&&0!==_l?_l&-_l:null!==cr.transition?(0===Hl&&(Hl=de()),Hl):0!==(t=ge)?t:t=void 0===(t=window.event)?16:Ge(t.type)}function Wl(t,e,n,i){if(50<Nl)throw Nl=0,zl=null,Error(r(185));fe(t,n,i),0!==(2&gl)&&t===vl||(t===vl&&(0===(2&gl)&&(wl|=n),4===Ol&&ql(t,_l)),Kl(t,i),1===n&&0===gl&&0===(1&e.mode)&&(Il=qt()+500,Do&&Bo()))}function Kl(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,r=t.pendingLanes;0<r;){var a=31-ie(r),s=1<<a,l=o[a];-1===l?0!==(s&n)&&0===(s&i)||(o[a]=ue(s,e)):l<=e&&(t.expiredLanes|=s),r&=~s}}(t,e);var i=ce(t,t===vl?_l:0);if(0===i)null!==n&&Kt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(null!=n&&Kt(n),1===e)0===t.tag?function(t){Do=!0,Ro(t)}(Zl.bind(null,t)):Ro(Zl.bind(null,t)),Ji(function(){0===(6&gl)&&Bo()}),n=null;else{switch(ve(i)){case 1:n=Yt;break;case 4:n=Xt;break;case 16:n=Qt;break;case 536870912:n=te;break;default:n=Qt}n=pc(n,function t(e,n){Fl=-1;Hl=0;if(0!==(6&gl))throw Error(r(327));var i=e.callbackNode;if(cc()&&e.callbackNode!==i)return null;var o=ce(e,e===vl?_l:0);if(0===o)return null;if(0!==(30&o)||0!==(o&e.expiredLanes)||n)n=ic(e,o);else{n=o;var a=gl;gl|=2;var s=ec();for(vl===e&&_l===n||(jl=null,Il=qt()+500,Jl(e,n));;)try{rc();break}catch(c){tc(e,c)}mr(),pl.current=s,gl=a,null!==yl?n=0:(vl=null,_l=0,n=Ol)}if(0!==n){if(2===n&&(0!==(a=he(e))&&(o=a,n=$l(e,a))),1===n)throw i=xl,Jl(e,0),ql(e,o),Kl(e,qt()),i;if(6===n)ql(e,o);else{if(a=e.current.alternate,0===(30&o)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var o=n[i],r=o.getSnapshot;o=o.value;try{if(!ei(r(),o))return!1}catch(l){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(a)&&(2===(n=ic(e,o))&&(0!==(s=he(e))&&(o=s,n=$l(e,s))),1===n))throw i=xl,Jl(e,0),ql(e,o),Kl(e,qt()),i;switch(e.finishedWork=a,e.finishedLanes=o,n){case 0:case 1:throw Error(r(345));case 2:lc(e,El,jl);break;case 3:if(ql(e,o),(130023424&o)===o&&10<(n=Tl+500-qt())){if(0!==ce(e,0))break;if(((a=e.suspendedLanes)&o)!==o){Vl(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Yi(lc.bind(null,e,El,jl),n);break}lc(e,El,jl);break;case 4:if(ql(e,o),(4194240&o)===o)break;for(n=e.eventTimes,a=-1;0<o;){var l=31-ie(o);s=1<<l,(l=n[l])>a&&(a=l),o&=~s}if(o=a,10<(o=(120>(o=qt()-o)?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*dl(o/1960))-o)){e.timeoutHandle=Yi(lc.bind(null,e,El,jl),o);break}lc(e,El,jl);break;case 5:lc(e,El,jl);break;default:throw Error(r(329))}}}Kl(e,qt());return e.callbackNode===i?t.bind(null,e):null}.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $l(t,e){var n=kl;return t.current.memoizedState.isDehydrated&&(Jl(t,e).flags|=256),2!==(t=ic(t,e))&&(e=El,El=n,null!==e&&Gl(e)),t}function Gl(t){null===El?El=t:El.push.apply(El,t)}function ql(t,e){for(e&=~Pl,e&=~wl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ie(e),i=1<<n;t[n]=-1,e&=~i}}function Zl(t){if(0!==(6&gl))throw Error(r(327));cc();var e=ce(t,0);if(0===(1&e))return Kl(t,qt()),null;var n=ic(t,e);if(0!==t.tag&&2===n){var i=he(t);0!==i&&(e=i,n=$l(t,i))}if(1===n)throw n=xl,Jl(t,0),ql(t,e),Kl(t,qt()),n;if(6===n)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,lc(t,El,jl),Kl(t,qt()),null}function Yl(t,e){var n=gl;gl|=1;try{return t(e)}finally{0===(gl=n)&&(Il=qt()+500,Do&&Bo())}}function Xl(t){null!==Bl&&0===Bl.tag&&0===(6&gl)&&cc();var e=gl;gl|=1;var n=ml.transition,i=ge;try{if(ml.transition=null,ge=1,t)return t()}finally{ge=i,ml.transition=n,0===(6&(gl=e))&&Bo()}}function Ql(){bl=Cl.current,_o(Cl)}function Jl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Xi(n)),null!==yl)for(n=yl.return;null!==n;){var i=n;switch(Zo(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&ko();break;case 3:Qr(),_o(xo),_o(Oo),oa();break;case 5:ta(i);break;case 4:Qr();break;case 13:case 19:_o(ea);break;case 10:gr(i.type._context);break;case 22:case 23:Ql()}n=n.return}if(vl=t,yl=t=vc(t.current,null),_l=bl=e,Ol=0,xl=null,Pl=wl=Sl=0,El=kl=null,null!==br){for(e=0;e<br.length;e++)if(null!==(i=(n=br[e]).interleaved)){n.interleaved=null;var o=i.next,r=n.pending;if(null!==r){var a=r.next;r.next=o,i.next=a}n.pending=i}br=null}return t}function tc(t,e){for(;;){var n=yl;try{if(mr(),ra.current=Ya,ha){for(var i=la.memoizedState;null!==i;){var o=i.queue;null!==o&&(o.pending=null),i=i.next}ha=!1}if(sa=0,ua=ca=la=null,da=!1,pa=0,fl.current=null,null===n||null===n.return){Ol=1,xl=e,yl=null;break}t:{var a=t,s=n.return,l=n,c=e;if(e=_l,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=ss(s);if(null!==f){f.flags&=-257,ls(f,s,l,0,e),1&f.mode&&as(a,u,e),c=u;var m=(e=f).updateQueue;if(null===m){var g=new Set;g.add(c),e.updateQueue=g}else m.add(c);break t}if(0===(1&e)){as(a,u,e),nc();break t}c=Error(r(426))}else if(Qo&&1&l.mode){var v=ss(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ls(v,s,l,0,e),lr(ts(c,l));break t}}a=c=ts(c,l),4!==Ol&&(Ol=2),null===kl?kl=[a]:kl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,Ir(a,os(0,c,e));break t;case 1:l=c;var y=a.type,_=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Al||!Al.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e,Ir(a,rs(a,l,e));break t}}a=a.return}while(null!==a)}sc(n)}catch(b){e=b,yl===n&&null!==n&&(yl=n=n.return);continue}break}}function ec(){var t=pl.current;return pl.current=Ya,null===t?Ya:t}function nc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===vl||0===(268435455&Sl)&&0===(268435455&wl)||ql(vl,_l)}function ic(t,e){var n=gl;gl|=2;var i=ec();for(vl===t&&_l===e||(jl=null,Jl(t,e));;)try{oc();break}catch(o){tc(t,o)}if(mr(),gl=n,pl.current=i,null!==yl)throw Error(r(261));return vl=null,_l=0,Ol}function oc(){for(;null!==yl;)ac(yl)}function rc(){for(;null!==yl&&!$t();)ac(yl)}function ac(t){var e=hl(t.alternate,t,bl);t.memoizedProps=t.pendingProps,null===e?sc(t):yl=e,fl.current=null}function sc(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Ns(n,e,bl)))return void(yl=n)}else{if(null!==(n=zs(n,e)))return n.flags&=32767,void(yl=n);if(null===t)return Ol=6,void(yl=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(yl=e);yl=e=t}while(null!==e);0===Ol&&(Ol=5)}function lc(t,e,n){var i=ge,o=ml.transition;try{ml.transition=null,ge=1,function(t,e,n,i){do{cc()}while(null!==Bl);if(0!==(6&gl))throw Error(r(327));n=t.finishedWork;var o=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-ie(n),r=1<<o;e[o]=0,i[o]=-1,t[o]=-1,n&=~r}}(t,a),t===vl&&(yl=vl=null,_l=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Rl||(Rl=!0,pc(Qt,function(){return cc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=ml.transition,ml.transition=null;var s=ge;ge=1;var l=gl;gl|=4,fl.current=null,function(t,e){if(Gi=He,ai(t=ri())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var o=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(C){n=null;break t}var s=0,l=-1,c=-1,u=0,h=0,d=t,p=null;e:for(;;){for(var f;d!==n||0!==o&&3!==d.nodeType||(l=s+o),d!==a||0!==i&&3!==d.nodeType||(c=s+i),3===d.nodeType&&(s+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===t)break e;if(p===n&&++u===o&&(l=s),p===a&&++h===i&&(c=s),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(qi={focusedElem:t,selectionRange:n},He=!1,Us=e;null!==Us;)if(t=(e=Us).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Us=t;else for(;null!==Us;){e=Us;try{var m=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:ur(e.type,g),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(C){hc(e,e.return,C)}if(null!==(t=e.sibling)){t.return=e.return,Us=t;break}Us=e.return}m=$s,$s=!1}(t,n),rl(n,t),si(qi),He=!!Gi,qi=Gi=null,t.current=n,sl(n,t,o),Gt(),gl=l,ge=s,ml.transition=a}else t.current=n;if(Rl&&(Rl=!1,Bl=t,Ll=o),0===(a=t.pendingLanes)&&(Al=null),function(t){if(ne&&"function"===typeof ne.onCommitFiberRoot)try{ne.onCommitFiberRoot(ee,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),Kl(t,qt()),null!==e)for(i=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],i(o.value,{componentStack:o.stack,digest:o.digest});if(Ml)throw Ml=!1,t=Dl,Dl=null,t;0!==(1&Ll)&&0!==t.tag&&cc(),0!==(1&(a=t.pendingLanes))?t===zl?Nl++:(Nl=0,zl=t):Nl=0,Bo()}(t,e,n,i)}finally{ml.transition=o,ge=i}return null}function cc(){if(null!==Bl){var t=ve(Ll),e=ml.transition,n=ge;try{if(ml.transition=null,ge=16>t?16:t,null===Bl)var i=!1;else{if(t=Bl,Bl=null,Ll=0,0!==(6&gl))throw Error(r(331));var o=gl;for(gl|=4,Us=t.current;null!==Us;){var a=Us,s=a.child;if(0!==(16&Us.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Us=u;null!==Us;){var h=Us;switch(h.tag){case 0:case 11:case 15:Gs(8,h,a)}var d=h.child;if(null!==d)d.return=h,Us=d;else for(;null!==Us;){var p=(h=Us).sibling,f=h.return;if(Ys(h),h===u){Us=null;break}if(null!==p){p.return=f,Us=p;break}Us=f}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Us=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Us=s;else t:for(;null!==Us;){if(0!==(2048&(a=Us).flags))switch(a.tag){case 0:case 11:case 15:Gs(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Us=y;break t}Us=a.return}}var _=t.current;for(Us=_;null!==Us;){var b=(s=Us).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Us=b;else t:for(s=_;null!==Us;){if(0!==(2048&(l=Us).flags))try{switch(l.tag){case 0:case 11:case 15:qs(9,l)}}catch(O){hc(l,l.return,O)}if(l===s){Us=null;break t}var C=l.sibling;if(null!==C){C.return=l.return,Us=C;break t}Us=l.return}}if(gl=o,Bo(),ne&&"function"===typeof ne.onPostCommitFiberRoot)try{ne.onPostCommitFiberRoot(ee,t)}catch(O){}i=!0}return i}finally{ge=n,ml.transition=e}}return!1}function uc(t,e,n){t=Er(t,e=os(0,e=ts(n,e),1),1),e=Vl(),null!==t&&(fe(t,1,e),Kl(t,e))}function hc(t,e,n){if(3===t.tag)uc(t,t,n);else for(;null!==e;){if(3===e.tag){uc(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Al||!Al.has(i))){e=Er(e,t=rs(e,t=ts(n,t),1),1),t=Vl(),null!==e&&(fe(e,1,t),Kl(e,t));break}}e=e.return}}function dc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=se,0===(130023424&(se<<=1))&&(se=4194304)));var n=Vl();null!==(t=xr(t,e))&&(fe(t,e,n),Kl(t,n))}function pc(t,e){return Wt(t,e)}function fc(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mc(t,e,n,i){return new fc(t,e,n,i)}function gc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function vc(t,e){var n=t.alternate;return null===n?((n=mc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yc(t,e,n,i,o,a){var s=2;if(i=t,"function"===typeof t)gc(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case x:return _c(n.children,o,a,e);case S:s=8,o|=8;break;case w:return(t=mc(12,n,e,2|o)).elementType=w,t.lanes=a,t;case T:return(t=mc(13,n,e,o)).elementType=T,t.lanes=a,t;case I:return(t=mc(19,n,e,o)).elementType=I,t.lanes=a,t;case D:return bc(n,o,a,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case P:s=10;break t;case k:s=9;break t;case E:s=11;break t;case j:s=14;break t;case M:s=16,i=null;break t}throw Error(r(130,null==t?t:typeof t,""))}return(e=mc(s,n,e,o)).elementType=t,e.type=i,e.lanes=a,e}function _c(t,e,n,i){return(t=mc(7,t,i,e)).lanes=n,t}function bc(t,e,n,i){return(t=mc(22,t,i,e)).elementType=D,t.lanes=n,t.stateNode={isHidden:!1},t}function Cc(t,e,n){return(t=mc(6,t,null,e)).lanes=n,t}function Oc(t,e,n){return(e=mc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xc(t,e,n,i,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pe(0),this.expirationTimes=pe(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pe(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Sc(t,e,n,i,o,r,a,s,l){return t=new xc(t,e,n,s,l),1===e?(e=1,!0===r&&(e|=8)):e=0,r=mc(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wr(r),t}function wc(t){if(!t)return Co;t:{if(Ft(t=t._reactInternals)!==t||1!==t.tag)throw Error(r(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Po(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(r(171))}if(1===t.tag){var n=t.type;if(Po(n))return To(t,n,e)}return e}function Pc(t,e,n,i,o,r,a,s,l){return(t=Sc(n,i,!0,t,0,r,0,s,l)).context=wc(null),n=t.current,(r=kr(i=Vl(),o=Ul(n))).callback=void 0!==e&&null!==e?e:null,Er(n,r,o),t.current.lanes=o,fe(t,o,i),Kl(t,i),t}function kc(t,e,n,i){var o=e.current,r=Vl(),a=Ul(o);return n=wc(n),null===e.context?e.context=n:e.pendingContext=n,(e=kr(r,a)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),null!==(t=Er(o,e,a))&&(Wl(t,o,a,r),Tr(t,o,a)),a}function Ec(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Tc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Ic(t,e){Tc(t,e),(t=t.alternate)&&Tc(t,e)}hl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||xo.current)us=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return us=!1,function(t,e,n){switch(e.tag){case 3:bs(e),sr();break;case 5:Jr(e);break;case 1:Po(e.type)&&Io(e);break;case 4:Xr(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,o=e.memoizedProps.value;bo(hr,i._currentValue),i._currentValue=o;break;case 13:if(null!==(i=e.memoizedState))return null!==i.dehydrated?(bo(ea,1&ea.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Es(t,e,n):(bo(ea,1&ea.current),null!==(t=Rs(t,e,n))?t.sibling:null);bo(ea,1&ea.current);break;case 19:if(i=0!==(n&e.childLanes),0!==(128&t.flags)){if(i)return Ds(t,e,n);e.flags|=128}if(null!==(o=e.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),bo(ea,ea.current),i)break;return null;case 22:case 23:return e.lanes=0,ms(t,e,n)}return Rs(t,e,n)}(t,e,n);us=0!==(131072&t.flags)}else us=!1,Qo&&0!==(1048576&e.flags)&&Go(e,Fo,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;As(t,e),t=e.pendingProps;var o=wo(e,Oo.current);yr(e,n),o=va(null,e,i,t,o,n);var a=ya();return e.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Po(i)?(a=!0,Io(e)):a=!1,e.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,wr(e),o.updater=Rr,e.stateNode=o,o._reactInternals=e,zr(e,i,t,n),e=_s(null,e,i,!0,a,n)):(e.tag=0,Qo&&a&&qo(e),hs(null,e,o,n),e=e.child),e;case 16:i=e.elementType;t:{switch(As(t,e),t=e.pendingProps,i=(o=i._init)(i._payload),e.type=i,o=e.tag=function(t){if("function"===typeof t)return gc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===E)return 11;if(t===j)return 14}return 2}(i),t=ur(i,t),o){case 0:e=vs(null,e,i,t,n);break t;case 1:e=ys(null,e,i,t,n);break t;case 11:e=ds(null,e,i,t,n);break t;case 14:e=ps(null,e,i,ur(i.type,t),n);break t}throw Error(r(306,i,""))}return e;case 0:return i=e.type,o=e.pendingProps,vs(t,e,i,o=e.elementType===i?o:ur(i,o),n);case 1:return i=e.type,o=e.pendingProps,ys(t,e,i,o=e.elementType===i?o:ur(i,o),n);case 3:t:{if(bs(e),null===t)throw Error(r(387));i=e.pendingProps,o=(a=e.memoizedState).element,Pr(t,e),jr(e,i,null,n);var s=e.memoizedState;if(i=s.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=Cs(t,e,i,n,o=ts(Error(r(423)),e));break t}if(i!==o){e=Cs(t,e,i,n,o=ts(Error(r(424)),e));break t}for(Xo=no(e.stateNode.containerInfo.firstChild),Yo=e,Qo=!0,Jo=null,n=Kr(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(sr(),i===o){e=Rs(t,e,n);break t}hs(t,e,i,n)}e=e.child}return e;case 5:return Jr(e),null===t&&ir(e),i=e.type,o=e.pendingProps,a=null!==t?t.memoizedProps:null,s=o.children,Zi(i,o)?s=null:null!==a&&Zi(i,a)&&(e.flags|=32),gs(t,e),hs(t,e,s,n),e.child;case 6:return null===t&&ir(e),null;case 13:return Es(t,e,n);case 4:return Xr(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=Wr(e,null,i,n):hs(t,e,i,n),e.child;case 11:return i=e.type,o=e.pendingProps,ds(t,e,i,o=e.elementType===i?o:ur(i,o),n);case 7:return hs(t,e,e.pendingProps,n),e.child;case 8:case 12:return hs(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(i=e.type._context,o=e.pendingProps,a=e.memoizedProps,s=o.value,bo(hr,i._currentValue),i._currentValue=s,null!==a)if(ei(a.value,s)){if(a.children===o.children&&!xo.current){e=Rs(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===a.tag){(c=kr(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),vr(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(r(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),vr(s,n,e),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}hs(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,i=e.pendingProps.children,yr(e,n),i=i(o=_r(o)),e.flags|=1,hs(t,e,i,n),e.child;case 14:return o=ur(i=e.type,e.pendingProps),ps(t,e,i,o=ur(i.type,o),n);case 15:return fs(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:ur(i,o),As(t,e),e.tag=1,Po(i)?(t=!0,Io(e)):t=!1,yr(e,n),Lr(e,i,o),zr(e,i,o,n),_s(null,e,i,!0,t,n);case 19:return Ds(t,e,n);case 22:return ms(t,e,n)}throw Error(r(156,e.tag))};var jc="function"===typeof reportError?reportError:function(t){console.error(t)};function Mc(t){this._internalRoot=t}function Dc(t){this._internalRoot=t}function Ac(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Rc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Bc(){}function Lc(t,e,n,i,o){var r=n._reactRootContainer;if(r){var a=r;if("function"===typeof o){var s=o;o=function(){var t=Ec(a);s.call(t)}}kc(e,a,t,o)}else a=function(t,e,n,i,o){if(o){if("function"===typeof i){var r=i;i=function(){var t=Ec(a);r.call(t)}}var a=Pc(e,i,t,0,null,!1,0,"",Bc);return t._reactRootContainer=a,t[so]=a.current,Ri(8===t.nodeType?t.parentNode:t),Xl(),a}for(;o=t.lastChild;)t.removeChild(o);if("function"===typeof i){var s=i;i=function(){var t=Ec(l);s.call(t)}}var l=Sc(t,0,!1,null,0,!1,0,"",Bc);return t._reactRootContainer=l,t[so]=l.current,Ri(8===t.nodeType?t.parentNode:t),Xl(function(){kc(e,l,n,i)}),l}(n,e,t,o,i);return Ec(a)}Dc.prototype.render=Mc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(r(409));kc(t,e,null,null)},Dc.prototype.unmount=Mc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;Xl(function(){kc(null,t,null,null)}),e[so]=null}},Dc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ce();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ie.length&&0!==e&&e<Ie[n].priority;n++);Ie.splice(n,0,t),0===n&&Ae(t)}},ye=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=le(e.pendingLanes);0!==n&&(me(e,1|n),Kl(e,qt()),0===(6&gl)&&(Il=qt()+500,Bo()))}break;case 13:Xl(function(){var e=xr(t,1);if(null!==e){var n=Vl();Wl(e,t,1,n)}}),Ic(t,1)}},_e=function(t){if(13===t.tag){var e=xr(t,134217728);if(null!==e)Wl(e,t,134217728,Vl());Ic(t,134217728)}},be=function(t){if(13===t.tag){var e=Ul(t),n=xr(t,e);if(null!==n)Wl(n,t,e,Vl());Ic(t,e)}},Ce=function(){return ge},Oe=function(t,e){var n=ge;try{return ge=t,e()}finally{ge=n}},Ct=function(t,e,n){switch(e){case"input":if(X(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var o=mo(i);if(!o)throw Error(r(90));$(i),X(i,o)}}}break;case"textarea":ot(t,n);break;case"select":null!=(e=n.value)&&et(t,!!n.multiple,e,!1)}},kt=Yl,Et=Xl;var Nc={usingClientEntryPoint:!1,Events:[po,fo,mo,wt,Pt,Yl]},zc={findFiberByHostInstance:ho,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Fc={bundleType:zc.bundleType,version:zc.version,rendererPackageName:zc.rendererPackageName,rendererConfig:zc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Ut(t))?null:t.stateNode},findFiberByHostInstance:zc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{ee=Hc.inject(Fc),ne=Hc}catch(ct){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nc,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ac(e))throw Error(r(200));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:O,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Ac(t))throw Error(r(299));var n=!1,i="",o=jc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onRecoverableError&&(o=e.onRecoverableError)),e=Sc(t,1,!1,null,0,n,0,i,o),t[so]=e.current,Ri(8===t.nodeType?t.parentNode:t),new Mc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(r(188));throw t=Object.keys(t).join(","),Error(r(268,t))}return t=null===(t=Ut(e))?null:t.stateNode},e.flushSync=function(t){return Xl(t)},e.hydrate=function(t,e,n){if(!Rc(e))throw Error(r(200));return Lc(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Ac(t))throw Error(r(405));var i=null!=n&&n.hydratedSources||null,o=!1,a="",s=jc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),e=Pc(e,null,t,1,null!=n?n:null,o,0,a,s),t[so]=e.current,Ri(t),i)for(t=0;t<i.length;t++)o=(o=(n=i[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Dc(e)},e.render=function(t,e,n){if(!Rc(e))throw Error(r(200));return Lc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Rc(t))throw Error(r(40));return!!t._reactRootContainer&&(Xl(function(){Lc(null,null,t,!1,function(){t._reactRootContainer=null,t[so]=null})}),!0)},e.unstable_batchedUpdates=Yl,e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Rc(n))throw Error(r(200));if(null==t||void 0===t._reactInternals)throw Error(r(38));return Lc(t,e,n,!1,i)},e.version="18.2.0-next-9e3b772b8-20220608"},function(t,e,n){"use strict";t.exports=n(255)},function(t,e,n){"use strict";(function(t){function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,o=t[i];if(!(0<r(o,e)))break t;t[i]=e,t[n]=o,n=i}}function i(t){return 0===t.length?null:t[0]}function o(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,o=t.length,a=o>>>1;i<a;){var s=2*(i+1)-1,l=t[s],c=s+1,u=t[c];if(0>r(l,n))c<o&&0>r(u,l)?(t[i]=u,t[c]=n,i=c):(t[i]=l,t[s]=n,i=s);else{if(!(c<o&&0>r(u,n)))break t;t[i]=u,t[c]=n,i=c}}}return e}function r(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],h=1,d=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof t?t:null;function b(t){for(var e=i(u);null!==e;){if(null===e.callback)o(u);else{if(!(e.startTime<=t))break;o(u),e.sortIndex=e.expirationTime,n(c,e)}e=i(u)}}function C(t){if(g=!1,b(t),!m)if(null!==i(c))m=!0,D(O);else{var e=i(u);null!==e&&A(C,e.startTime-t)}}function O(t,n){m=!1,g&&(g=!1,y(P),P=-1),f=!0;var r=p;try{for(b(n),d=i(c);null!==d&&(!(d.expirationTime>n)||t&&!T());){var a=d.callback;if("function"===typeof a){d.callback=null,p=d.priorityLevel;var s=a(d.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?d.callback=s:d===i(c)&&o(c),b(n)}else o(c);d=i(c)}if(null!==d)var l=!0;else{var h=i(u);null!==h&&A(C,h.startTime-n),l=!1}return l}finally{d=null,p=r,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,w=null,P=-1,k=5,E=-1;function T(){return!(e.unstable_now()-E<k)}function I(){if(null!==w){var t=e.unstable_now();E=t;var n=!0;try{n=w(!0,t)}finally{n?x():(S=!1,w=null)}}else S=!1}if("function"===typeof _)x=function(){_(I)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,M=j.port2;j.port1.onmessage=I,x=function(){M.postMessage(null)}}else x=function(){v(I,0)};function D(t){w=t,S||(S=!0,x())}function A(t,n){P=v(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){m||f||(m=!0,D(O))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return i(c)},e.unstable_next=function(t){switch(p){case 1:case 2:case 3:var e=3;break;default:e=p}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_scheduleCallback=function(t,o,r){var a=e.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?a+r:a:r=a,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:h++,callback:o,priorityLevel:t,startTime:r,expirationTime:s=r+s,sortIndex:-1},r>a?(t.sortIndex=r,n(u,t),null===i(c)&&t===i(u)&&(g?(y(P),P=-1):g=!0,A(C,r-a))):(t.sortIndex=s,n(c,t),m||f||(m=!0,D(O))),t},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(t){var e=p;return function(){var n=p;p=e;try{return t.apply(this,arguments)}finally{p=n}}}}).call(this,n(226).setImmediate)},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,o=1,r={},a=!1,s=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick(function(){u(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"===typeof n.data&&0===n.data.indexOf(e)&&u(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),i=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){u(t.data)},i=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;i=function(e){var n=s.createElement("script");n.onreadystatechange=function(){u(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():i=function(t){setTimeout(u,0,t)},l.setImmediate=function(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return r[o]=a,i(o),o++},l.clearImmediate=c}function c(t){delete r[t]}function u(t){if(a)setTimeout(u,0,t);else{var e=r[t];if(e){a=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{c(t),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,n(147),n(219))},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";var i=n(260);function o(){}function r(){}r.resetWarningCache=o,t.exports=function(){function t(t,e,n,o,r,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:r,resetWarningCache:o};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";var i,o=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen");function y(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case o:switch(t=t.type){case a:case l:case s:case p:case f:return t;default:switch(t=t&&t.$$typeof){case h:case u:case d:case g:case m:case c:return t;default:return e}}case r:return e}}}i=Symbol.for("react.module.reference"),e.ContextConsumer=u,e.ContextProvider=c,e.Element=o,e.ForwardRef=d,e.Fragment=a,e.Lazy=g,e.Memo=m,e.Portal=r,e.Profiler=l,e.StrictMode=s,e.Suspense=p,e.SuspenseList=f,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(t){return y(t)===u},e.isContextProvider=function(t){return y(t)===c},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===o},e.isForwardRef=function(t){return y(t)===d},e.isFragment=function(t){return y(t)===a},e.isLazy=function(t){return y(t)===g},e.isMemo=function(t){return y(t)===m},e.isPortal=function(t){return y(t)===r},e.isProfiler=function(t){return y(t)===l},e.isStrictMode=function(t){return y(t)===s},e.isSuspense=function(t){return y(t)===p},e.isSuspenseList=function(t){return y(t)===f},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===l||t===s||t===p||t===f||t===v||"object"===typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===m||t.$$typeof===c||t.$$typeof===u||t.$$typeof===d||t.$$typeof===i||void 0!==t.getModuleId)},e.typeOf=y},function(t,e,n){"use strict";t.exports=n(263)},function(t,e,n){"use strict";var i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,r=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,u=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.async_mode"):60111,d=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.suspense_list"):60120,g=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,y=i?Symbol.for("react.block"):60121,_=i?Symbol.for("react.fundamental"):60117,b=i?Symbol.for("react.responder"):60118,C=i?Symbol.for("react.scope"):60119;function O(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case o:switch(t=t.type){case h:case d:case a:case l:case s:case f:return t;default:switch(t=t&&t.$$typeof){case u:case p:case v:case g:case c:return t;default:return e}}case r:return e}}}function x(t){return O(t)===d}e.AsyncMode=h,e.ConcurrentMode=d,e.ContextConsumer=u,e.ContextProvider=c,e.Element=o,e.ForwardRef=p,e.Fragment=a,e.Lazy=v,e.Memo=g,e.Portal=r,e.Profiler=l,e.StrictMode=s,e.Suspense=f,e.isAsyncMode=function(t){return x(t)||O(t)===h},e.isConcurrentMode=x,e.isContextConsumer=function(t){return O(t)===u},e.isContextProvider=function(t){return O(t)===c},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===o},e.isForwardRef=function(t){return O(t)===p},e.isFragment=function(t){return O(t)===a},e.isLazy=function(t){return O(t)===v},e.isMemo=function(t){return O(t)===g},e.isPortal=function(t){return O(t)===r},e.isProfiler=function(t){return O(t)===l},e.isStrictMode=function(t){return O(t)===s},e.isSuspense=function(t){return O(t)===f},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===d||t===l||t===s||t===f||t===m||"object"===typeof t&&null!==t&&(t.$$typeof===v||t.$$typeof===g||t.$$typeof===c||t.$$typeof===u||t.$$typeof===p||t.$$typeof===_||t.$$typeof===b||t.$$typeof===C||t.$$typeof===y)},e.typeOf=O},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){var e,n,i=c(t),a=i[0],s=i[1],l=new r(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),u=0,h=s>0?a-4:a;for(n=0;n<h;n+=4)e=o[t.charCodeAt(n)]<<18|o[t.charCodeAt(n+1)]<<12|o[t.charCodeAt(n+2)]<<6|o[t.charCodeAt(n+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=255&e;2===s&&(e=o[t.charCodeAt(n)]<<2|o[t.charCodeAt(n+1)]>>4,l[u++]=255&e);1===s&&(e=o[t.charCodeAt(n)]<<10|o[t.charCodeAt(n+1)]<<4|o[t.charCodeAt(n+2)]>>2,l[u++]=e>>8&255,l[u++]=255&e);return l},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,r=[],a=0,s=n-o;a<s;a+=16383)r.push(u(t,a,a+16383>s?s:a+16383));1===o?(e=t[n-1],r.push(i[e>>2]+i[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],r.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return r.join("")};for(var i=[],o=[],r="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)i[s]=a[s],o[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,n){for(var o,r,a=[],s=e;s<n;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(i[(r=o)>>18&63]+i[r>>12&63]+i[r>>6&63]+i[63&r]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,i,o){var r,a,s=8*o-i-1,l=(1<<s)-1,c=l>>1,u=-7,h=n?o-1:0,d=n?-1:1,p=t[e+h];for(h+=d,r=p&(1<<-u)-1,p>>=-u,u+=s;u>0;r=256*r+t[e+h],h+=d,u-=8);for(a=r&(1<<-u)-1,r>>=-u,u+=i;u>0;a=256*a+t[e+h],h+=d,u-=8);if(0===r)r=1-c;else{if(r===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),r-=c}return(p?-1:1)*a*Math.pow(2,r-i)},e.write=function(t,e,n,i,o,r){var a,s,l,c=8*r-o-1,u=(1<<c)-1,h=u>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:r-1,f=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(e*l-1)*Math.pow(2,o),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,o),a=0));o>=8;t[n+p]=255&s,p+=f,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;t[n+p]=255&a,p+=f,a/=256,c-=8);t[n+p-f]|=128*m}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),o=n(268),r=n(269);function a(t){if(o.getOption("useLegacyTemplateEngine")){var e=t.data;return e&&Object.prototype.hasOwnProperty.call(e,"key")&&(e.dxkey=e.key),e}return t}var s={component:function(t){return function(e){return e=a(e),i.createElement.bind(null,t())(e)}},render:function(t){return function(e){return a(e),t()(e.data,e.index)}},children:function(t){return function(){return t()}}},l=function(){function t(t){this._templates={},this._templatesContent={},this._templatesStore=t}return t.prototype.add=function(t,e){var n=this;this._templatesContent[t]=e.content;var i=s[e.type].bind(this,function(){return n._templatesContent[t]});this._templates[t]=r.createDxTemplate(i,this._templatesStore,e.keyFn)},Object.defineProperty(t.prototype,"templatesCount",{get:function(){return Object.keys(this._templates).length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templates",{get:function(){return this._templates},enumerable:!1,configurable:!0}),t}();e.default=l},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.getOption=void 0;var o={useLegacyTemplateEngine:!1};e.getOption=function(t){return o[t]},e.default=function(t){o=i(i({},o),t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDxTemplate=void 0;var i=n(4),o=n(228),r=n(270),a=n(184),s=n(130);e.createDxTemplate=function(t,e,n){var l=new o.DoubleKeyMap;return{render:function(c){var u,h,d=(u=c.container).get?u.get(0):u,p={key1:c.model,key2:d},f=l.get(p),m=function(){e.setDeferredRemove(h,!0),l.delete(p)};return f?h=f:(h=n?n(c.model):"__template_"+o.generateID(),void 0!==c.model&&l.set(p,h)),d.nodeType===Node.ELEMENT_NODE&&s.one(d,a.DX_REMOVE_EVENT,m),e.add(h,function(){var n={data:c.model,index:c.index},o=t();return i.createElement(r.TemplateWrapper,{content:o(n),container:d,onRemoved:m,onDidMount:function(){var t;d.nodeType===Node.ELEMENT_NODE&&s.off(d,a.DX_REMOVE_EVENT,m),e.setDeferredRemove(h,!1),null===(t=c.onRendered)||void 0===t||t.call(c)},key:h})}),d}}}},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.TemplateWrapper=void 0;var o,r=n(130),a=n(4),s=n(218),l=n(184),c={display:"none"};!function(t){t.TABLE="tbody",t.TBODY="tr"}(o||(o={}));var u=function(t){function e(e){var n=t.call(this,e)||this;return n._removalListenerRef=a.createRef(),n.state={removalListenerRequired:!1},n._onDxRemove=n._onDxRemove.bind(n),n.getPreviousSiblingNode=n.getPreviousSiblingNode.bind(n),n}return i(e,t),e.prototype.componentDidMount=function(){var t,e;this._subscribeOnRemove(),null===(e=(t=this.props).onDidMount)||void 0===e||e.call(t)},e.prototype.componentDidUpdate=function(){this._subscribeOnRemove()},e.prototype.componentWillUnmount=function(){var t=this.element,e=this.hiddenElement,n=this.props.container;t&&n.appendChild(t),e&&n.appendChild(e),this._listenerElement&&n.appendChild(this._listenerElement)},Object.defineProperty(e.prototype,"_listenerElement",{get:function(){return this._removalListenerRef.current},enumerable:!1,configurable:!0}),e.prototype.getPreviousSiblingNode=function(t){this.hiddenElement=t,this.element=null===t||void 0===t?void 0:t.previousSibling},e.prototype._subscribeOnRemove=function(){var t=this.element,e=this.state.removalListenerRequired;t&&t.nodeType===Node.ELEMENT_NODE?this._subscribeOnElementRemoval(t):e?this._listenerElement&&this._subscribeOnElementRemoval(this._listenerElement):this.setState({removalListenerRequired:!0})},e.prototype._subscribeOnElementRemoval=function(t){r.off(t,l.DX_REMOVE_EVENT,this._onDxRemove),r.one(t,l.DX_REMOVE_EVENT,this._onDxRemove)},e.prototype._onDxRemove=function(){(0,this.props.onRemoved)()},e.prototype.render=function(){var t=this.state.removalListenerRequired,e=this.props,n=e.content,i=e.container,r=t?a.createElement("span",{style:c,ref:this._removalListenerRef}):void 0,l=o[i.nodeName]||"div";return s.createPortal(a.createElement(a.Fragment,null,n,n&&a.createElement(l,{style:{display:"none"},ref:this.getPreviousSiblingNode}),r),i)},e}(a.PureComponent);e.TemplateWrapper=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.TemplatesRenderer=void 0;var o=n(74),r=n(5),a=n(4),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.updateScheduled=!1,e.mounted=!1,e}return i(e,t),e.prototype.componentDidMount=function(){this.mounted=!0},e.prototype.componentWillUnmount=function(){this.mounted=!1},e.prototype.scheduleUpdate=function(t,e){var n=this;this.updateScheduled||(this.updateScheduled=!0,(t?r.deferUpdate:o.requestAnimationFrame)(function(){n.mounted&&n.forceUpdate(function(){n.updateScheduled=!1,null===e||void 0===e||e()}),n.updateScheduled=!1}))},e.prototype.render=function(){var t=this.props.templatesStore;return a.createElement(a.Fragment,{},t.renderWrappers())},e}(a.PureComponent);e.TemplatesRenderer=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TemplatesStore=void 0;var i=function(){function t(t){this._templates={},this._onTemplateAdded=t}return t.prototype.add=function(t,e){this._templates[t]={template:e,isDeferredRemove:!1},this._onTemplateAdded()},t.prototype.setDeferredRemove=function(t,e){this._templates[t]&&(this._templates[t].isDeferredRemove=e)},t.prototype.removeDefferedTemplate=function(){var t=this;Object.entries(this._templates).filter(function(t){return t[1].isDeferredRemove}).forEach(function(e){var n=e[0];delete t._templates[n]})},t.prototype.renderWrappers=function(){var t=this;return this.removeDefferedTemplate(),Object.getOwnPropertyNames(this._templates).map(function(e){return t._templates[e].template()})},t}();e.TemplatesStore=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OptionsManager=e.scheduleGuards=e.unscheduleGuards=void 0;var i=n(274),o=n(229),r=n(174),a=n(228),s=new Set,l=-1;function c(){clearTimeout(l)}function u(){c(),l=window.setTimeout(function(){s.forEach(function(t){return t.execGuards()})})}e.unscheduleGuards=c,e.scheduleGuards=u;var h=function(){function t(t){this.guards={},this.isUpdating=!1,this.templatesManager=t,s.add(this),this.onOptionChanged=this.onOptionChanged.bind(this),this.wrapOptionValue=this.wrapOptionValue.bind(this)}return t.prototype.setInstance=function(t,e,n,i){this.instance=t,this.currentConfig=e,this.subscribableOptions=new Set(n),this.independentEvents=new Set(i)},t.prototype.getInitialOptions=function(t){var e=this,n=o.buildConfig(t,!1);Object.keys(n.templates).forEach(function(t){e.templatesManager.add(t,n.templates[t])});var i={};return Object.keys(n.options).forEach(function(t){i[t]=e.wrapOptionValue(t,n.options[t])}),this.templatesManager.templatesCount>0&&(i.integrationOptions={templates:this.templatesManager.templates}),i},t.prototype.update=function(t){var e=this,n=[],o=function(t){var e=t.value,i=t.fullName;n.push([i,e])};this.instance.on("optionChanged",o);var r=i.getChanges(t,this.currentConfig);(r.options||r.templates||r.removedOptions.length)&&(this.instance.beginUpdate(),this.isUpdating=!0,r.removedOptions.forEach(function(t){e.resetOption(t)}),Object.keys(r.templates).forEach(function(t){e.templatesManager.add(t,r.templates[t])}),this.templatesManager.templatesCount>0&&this.setValue("integrationOptions",{templates:this.templatesManager.templates}),Object.keys(r.options).forEach(function(t){e.setValue(t,r.options[t])}),this.isUpdating=!1,this.instance.off("optionChanged",o),this.currentConfig=t,n.forEach(function(n){var i=n[0],o=n[1],r=t.options[i];Object.prototype.hasOwnProperty.call(t.options,i)&&r!==o&&e.setValue(i,r)}),this.instance.endUpdate())},t.prototype.onOptionChanged=function(t){var e,n=this;if(!this.isUpdating){var i=o.findValue(this.currentConfig,t.fullName.split("."));if(i&&i.value===t.value||this.callOptionChangeHandler(t.fullName,t.value),i=o.findValue(this.currentConfig,t.fullName.split("."))){var a=i.value,s=i.type;if(a instanceof Array&&s===o.ValueType.Array){for(var l=0;l<a.length;l+=1)if(a[l]!==(null===(e=t.value)||void 0===e?void 0:e[l]))return void this.addGuard(t.fullName,a)}else if(s===o.ValueType.Complex&&a instanceof Object)Object.keys(a).forEach(function(e){var i;a[e]!==(null===(i=t.value)||void 0===i?void 0:i[e])&&n.addGuard(r.mergeNameParts(t.fullName,e),a[e])});else{var c=a===t.value,u=!c&&a instanceof Object&&t.value instanceof Object&&r.shallowEquals(a,t.value);if(c||u||this.instance.skipOptionsRollBack)return;this.addGuard(t.fullName,a)}}}},t.prototype.dispose=function(){var t=this;s.delete(this),Object.keys(this.guards).forEach(function(e){delete t.guards[e]})},t.prototype.isOptionSubscribable=function(t){return this.subscribableOptions.has(t)},t.prototype.isIndependentEvent=function(t){return this.independentEvents.has(t)},t.prototype.callOptionChangeHandler=function(t,e){if(this.isOptionSubscribable(t)){var n=t.split("."),i=n[n.length-1];if(!i.startsWith("on")){var r="on"+a.capitalizeFirstLetter(i)+"Change";n[n.length-1]=r;var s=o.findValue(this.currentConfig,n);if(s){if("function"!==typeof s.value)throw new Error("Invalid value for the "+r+" property.\n                "+r+" must be a function.");s.value(e)}}}},t.prototype.wrapOptionValue=function(t,e){var n=this;return"on"===t.substr(0,2)&&"function"===typeof e?function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];n.isUpdating&&!n.isIndependentEvent(t)||e.apply(void 0,i)}:e},t.prototype.addGuard=function(t,e){var n=this;if(void 0===this.guards[t]){this.guards[t]=function(){n.setValue(t,e),delete n.guards[t]},u()}},t.prototype.execGuards=function(){Object.values(this.guards).forEach(function(t){return t()})},t.prototype.resetOption=function(t){this.instance.resetOption(t)},t.prototype.setValue=function(t,e){this.guards[t]&&delete this.guards[t],this.instance.option(t,this.wrapOptionValue(t,e))},t}();e.OptionsManager=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getChanges=void 0;var i=n(229),o=n(174);function r(t,e,n){e?(n.addRemovedValues(t.options,e.options,t.fullName),n.addRemovedValues(t.configCollections,e.configCollections,t.fullName),n.addRemovedValues(t.configs,e.configs,t.fullName),function(t,e,n){Object.keys(t.configCollections).forEach(function(a){var s=t.configCollections[a],l=e.configCollections[a]||[];if(!s||s.length!==l.length){var c=[];return s.forEach(function(t){var e=i.buildNode(t,n.templates,!0);c.push(e)}),void(n.options[o.mergeNameParts(t.fullName,a)]=c)}for(var u=0;u<s.length;u+=1)r(s[u],l[u],n)})}(t,e,n),Object.keys(t.configs).forEach(function(i){r(t.configs[i],e.configs[i],n)}),Object.keys(t.options).forEach(function(i){t.options[i]!==e.options[i]&&(n.options[o.mergeNameParts(t.fullName,i)]=t.options[i])}),function(t,e,n){var r={},a={},s={},l={};i.buildTemplates(t,r,a),i.buildTemplates(e,s,l),n.addRemovedValues(r,s,t.fullName),Object.keys(r).forEach(function(e){r[e]!==s[e]&&(n.options[o.mergeNameParts(t.fullName,e)]=r[e])}),Object.keys(a).forEach(function(t){var e=a[t],i=l[t];i&&e.content===i.content||(n.templates[t]=e)})}(t,e,n)):n.options[t.fullName]=i.buildNode(t,n.templates,!0)}e.getChanges=function(t,e){var n={options:{},removedOptions:[],templates:{},addRemovedValues:function(t,e,n){!function(t,e,n,i){Object.keys(e).filter(function(e){return Object.keys(t).indexOf(e)<0}).forEach(function(t){i.push(o.mergeNameParts(n,t))})}(t,e,n,this.removedOptions)}};return r(t,e,n),n}},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.buildConfigTree=e.processChildren=void 0;var o=n(4),r=n(230),a=n(231),s=n(174),l=n(277);function c(t,e){var n=[],i={},r={},c=!1;return o.Children.map(t.props.children,function(o){var h=a.getElementInfo(o,t.descriptor.expectedChildren);if(h.type!==a.ElementType.Unknown)if(h.type!==a.ElementType.Template)if(h.descriptor.isCollection){var d=i[h.descriptor.name];d||(d=[],i[h.descriptor.name]=d);var p=u(h,s.mergeNameParts(e,h.descriptor.name)+"["+d.length+"]");d.push(p)}else{var f=u(h,e);r[h.descriptor.name]=f}else{var m=l.getNamedTemplate(h.props);m&&n.push(m)}else null!==o&&void 0!==o&&!1!==o&&(c=!0)}),{configs:r,configCollections:i,templates:n,hasTranscludedContent:c}}function u(t,e){var n=t.descriptor.isCollection?e:s.mergeNameParts(e,t.descriptor.name),i=r.separateProps(t.props,t.descriptor.initialValuesProps,t.descriptor.templates),o=c(t,n);return t.descriptor.templates.forEach(function(n){var i=l.getAnonymousTemplate(t.props,n,e.length>0&&o.hasTranscludedContent);i&&o.templates.push(i)}),{fullName:n,predefinedOptions:t.descriptor.predefinedValuesProps,initialOptions:i.defaults,options:i.options,templates:o.templates,configCollections:o.configCollections,configs:o.configs}}e.processChildren=c,e.buildConfigTree=function(t,e){return u({type:a.ElementType.Option,descriptor:i({name:"",isCollection:!1},t),props:e},"")}},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.findProps=e.Template=void 0;var o=n(60),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.render=function(){return null},e}(n(4).PureComponent);e.Template=r;var a=function(t){return t.component||t.render||t.children?null:new Error("The Template component requires 'component' or 'render' property")};r.propTypes={name:o.string.isRequired,component:a,render:a,children:a},e.findProps=function(t){if(t.type===r)return{name:t.props.name,render:t.props.render,component:t.props.component,children:t.props.children,keyFn:t.props.keyFn}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNamedTemplate=e.getAnonymousTemplate=void 0,e.getAnonymousTemplate=function(t,e,n){return"template"===e.tmplOption&&n?{optionName:e.tmplOption,isAnonymous:!0,type:"children",content:t.children,keyFn:t[e.keyFn]}:t[e.render]?{optionName:e.tmplOption,isAnonymous:!0,type:"render",content:t[e.render],keyFn:t[e.keyFn]}:t[e.component]?{optionName:e.tmplOption,isAnonymous:!0,type:"component",content:t[e.component],keyFn:t[e.keyFn]}:null},e.getNamedTemplate=function(t){return t.name?t.component?{optionName:t.name,isAnonymous:!1,type:"component",content:t.component,keyFn:t.keyFn}:t.render?{optionName:t.name,isAnonymous:!1,type:"render",content:t.render,keyFn:t.keyFn}:{optionName:t.name,isAnonymous:!1,type:"children",content:t.children,keyFn:t.keyFn}:null}},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionComponent=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.componentDidMount=function(){var t=this.props.onMounted;t?t(this._createWidget):this._createWidget()},e}(n(184).ComponentBase);e.ExtensionComponent=o},function(t,e,n){var i=n(280);t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){i(t,e,n[e])})}return t}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},,,function(t,e,n){"use strict";var i={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(i.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=ArrayBuffer.isView||function(t){return t&&o.indexOf(Object.prototype.toString.call(t))>-1};function a(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function s(t){return"string"!==typeof t&&(t=String(t)),t}function l(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return i.iterable&&(e[Symbol.iterator]=function(){return e}),e}function c(t){this.map={},t instanceof c?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function u(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function h(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function d(t){var e=new FileReader,n=h(e);return e.readAsArrayBuffer(t),n}function p(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"===typeof t?this._bodyText=t:i.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:i.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():i.arrayBuffer&&i.blob&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=p(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||r(t))?this._bodyArrayBuffer=p(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var t=u(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var t=u(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=h(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(t,e){t=a(t),e=s(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},c.prototype.delete=function(t){delete this.map[a(t)]},c.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},c.prototype.set=function(t,e){this.map[a(t)]=s(e)},c.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},c.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),l(t)},c.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),l(t)},c.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),l(t)},i.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(t,e){var n=(e=e||{}).body;if(t instanceof g){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=function(t){var e=t.toUpperCase();return m.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function v(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(o))}}),e}function y(t){var e=new c;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),i=n.shift().trim();if(i){var o=n.join(":").trim();e.append(i,o)}}),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},f.call(g.prototype),f.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var b=[301,302,303,307,308];_.redirect=function(t,e){if(-1===b.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})};var C=self.DOMException;try{new C}catch(x){(C=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),C.prototype.constructor=C}function O(t,e){return new Promise(function(n,o){var r=new g(t,e);if(r.signal&&r.signal.aborted)return o(new C("Aborted","AbortError"));var a=new XMLHttpRequest;function s(){a.abort()}a.onload=function(){var t={status:a.status,statusText:a.statusText,headers:y(a.getAllResponseHeaders()||"")};t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL");var e="response"in a?a.response:a.responseText;n(new _(e,t))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new C("Aborted","AbortError"))},a.open(r.method,r.url,!0),"include"===r.credentials?a.withCredentials=!0:"omit"===r.credentials&&(a.withCredentials=!1),"responseType"in a&&i.blob&&(a.responseType="blob"),r.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),r.signal&&(r.signal.addEventListener("abort",s),a.onreadystatechange=function(){4===a.readyState&&r.signal.removeEventListener("abort",s)}),a.send("undefined"===typeof r._bodyInit?null:r._bodyInit)})}O.polyfill=!0,self.fetch||(self.fetch=O,self.Headers=c,self.Request=g,self.Response=_)},function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"circular",function(){return cu}),n.d(i,"circularSpider",function(){return uu}),n.d(i,"linear",function(){return hu}),n.d(i,"linearSpider",function(){return du});var o=n(26),r=n(107),a=n(3),s=n(9),l=n(5),c=n(1),u=n(28),h=n(23),d=n(69),p=Math.PI,f=Math.LN10,m=Math.abs,g=Math.log,v=Math.floor,y=Math.ceil,_=Math.pow,b=Math.sqrt,C=Math.atan2,O=(Math.min,Math.max),x=Math.cos,S=Math.sin,w=Math.round,P=h.a.dateToMilliseconds,k=1e10,E=p/180,T=isNaN,I=Number,j=function(t,e){return t?g(t)/g(e):NaN},M=function(t){return Object(u.a)(j(t,10))},D=function(t,e){return _(e,t)},A=function(t){return(t%360+360)%360},R=function(t){var e=p*t/180;return{cos:x(e),sin:S(e)}},B=function(t,e,n,i){var o=n-t,r=i-e;return b(r*r+o*o)},L=function(t){var e,n=m(t);return T(n)?NaN:n>0?(n=g(n)/f,(e=y(n))-n<1e-14?e:v(n)):0},N=function(t){return t.toExponential().split("e")[1]};function z(t,e){for(var n,i=0,o=t.length,r=[];i<o;)null!==(n=e(t[i],i))&&r.push(n),i++;return r}function F(t){return String(t).toLowerCase()}function H(t){return-k<t&&t<+k?t:0}function V(t){var e=H(v(t.x)),n=H(v(t.y)),i={x:e,y:n,width:H(y(t.width+t.x))-e,height:H(y(t.height+t.y))-n};return i.isEmpty=!i.x&&!i.y&&!i.width&&!i.height,i}function U(t,e,n){var i=I(x(n*E).toFixed(3)),o=I(S(n*E).toFixed(3)),r=t.width/2,a=t.height/2,s=t.x+r,l=t.y+a,c=m(r*i)+m(a*o),u=m(r*o)+m(a*i);return V({x:e[0]+(s-e[0])*i+(l-e[1])*o-c,y:e[1]-(s-e[0])*o+(l-e[1])*i-u,width:2*c,height:2*u})}var W=function(t,e){return void 0!==t?t:e},K=function(t){var e,n,i={};for(e=0,n=t.length;e<n;++e)i[F(t[e])]=1;return function(t,e){var n=F(t);return i[n]?n:e}},$=function(t){var e={};return Object(s.a)(t||{},function(n,i){if(/^(cursor)$/i.test(n));else if("opacity"===n)i=null;else if("color"===n){if(n="fill","opacity"in t){var o=new d.a(i);i="rgba(".concat(o.r,",").concat(o.g,",").concat(o.b,",").concat(t.opacity,")")}}else n="font-"+n;e[n]=i}),e};function G(t,e,n,i){var o=i>0?i:0;n=Object(c.d)(n)?n+e-90:0;var r=R(n);return{x:w(t.x+o*r.cos),y:w(t.y+o*r.sin)}}var q=function(t,e,n){if(0===t.length)return{categories:[]};e=Object(c.d)(e)?e:t[0],n=Object(c.d)(n)?n:t[t.length-1];var i,o=z(t,function(t){return null===t||void 0===t?void 0:t.valueOf()}),r=o.indexOf(e.valueOf()),a=o.indexOf(n.valueOf()),s=!1;r<0&&(r=0),a<0&&(a=t.length-1),a<r&&(i=a,a=r,r=i,s=!0);var l=t.slice(r,a+1),u=l.length-1;return{categories:l,start:l[s?u:0],end:l[s?0:u],inverted:s}};function Z(t){return Array.isArray(t)?{startValue:t[0],endValue:t[1]}:t||{}}function Y(t,e){return"datetime"===t.dataType?function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return new Date(t.getTime()+n*e)}:"logarithmic"===t.axisType?function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Q(X(e,t.base)+i*n,t.base)}:function(t,n){var i=t+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)*n;return e&&i*t<=0?0:i}}function X(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;if(!n)return j(t,e);if(0===t)return 0;var o=j(m(t),e)-(i-1);return o<0?0:Object(u.a)(Object(u.g)(t)*o,Number(_(e,i-1).toFixed(m(i))))}function Q(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;if(!n)return D(t,e);if(0===t)return 0;var o=D(m(t)+(i-1),e);return o<0?0:Object(u.a)(Object(u.g)(t)*o,Number(_(e,i).toFixed(m(i))))}function J(t){return t&&t.valueOf()}var tt=Number;function et(){this.setDomain(arguments[0],arguments[1]).setCodomain(arguments[2],arguments[3]).setInverted(!1)}et.prototype={constructor:et,setDomain:function(t,e){return this._domain1=tt(t),this._domain2=tt(e),this._domainDelta=this._domain2-this._domain1,this},setCodomain:function(t,e){return this._codomain1=tt(t),this._codomain2=tt(e),this._codomainDelta=this._codomain2-this._codomain1,this},setInverted:function(t){this.inverted=t},getDomain:function(){return[this._domain1,this._domain2]},getCodomain:function(){return[this._codomain1,this._codomain2]},getDomainStart:function(){return this._domain1},getDomainEnd:function(){return this._domain2},getCodomainStart:function(){return this._codomain1},getCodomainEnd:function(){return this._codomain2},getDomainRange:function(){return this._domainDelta},getCodomainRange:function(){return this._codomainDelta},translate:function(t){var e=(tt(t)-this._domain1)/this._domainDelta;return this.inverted&&(e=1-e),0<=e&&e<=1?this._codomain1+e*this._codomainDelta:NaN},adjust:function(t){var e=(tt(t)-this._domain1)/this._domainDelta,n=NaN;return e<0?n=this._domain1:e>1?n=this._domain2:0<=e&&e<=1&&(n=tt(t)),n}};var nt,it,ot=n(2),rt=n(15),at=n(17),st=n(32),lt=n(27),ct=Math.floor,ut=Math.ceil,ht=Array.isArray,dt=50,pt="material",ft=(nt={},Object(lt.a)(nt,pt,{simpleSet:["#1db2f5","#f5564a","#97c95c","#ffc720","#eb3573","#a63db8"],indicatingSet:["#97c95c","#ffc720","#f5564a"],gradientSet:["#1db2f5","#97c95c"],accentColor:"#1db2f5"}),Object(lt.a)(nt,"office",{simpleSet:["#5f8b95","#ba4d51","#af8a53","#955f71","#859666","#7e688c"],indicatingSet:["#a3b97c","#e1b676","#ec7f83"],gradientSet:["#5f8b95","#ba4d51"],accentColor:"#ba4d51"}),Object(lt.a)(nt,"harmony light",{simpleSet:["#fcb65e","#679ec5","#ad79ce","#7abd5c","#e18e92","#b6d623","#b7abea","#85dbd5"],indicatingSet:["#b6d623","#fcb65e","#e18e92"],gradientSet:["#7abd5c","#fcb65e"],accentColor:"#679ec5"}),Object(lt.a)(nt,"soft pastel",{simpleSet:["#60a69f","#78b6d9","#6682bb","#a37182","#eeba69","#90ba58","#456c68","#7565a4"],indicatingSet:["#90ba58","#eeba69","#a37182"],gradientSet:["#78b6d9","#eeba69"],accentColor:"#60a69f"}),Object(lt.a)(nt,"pastel",{simpleSet:["#bb7862","#70b3a1","#bb626a","#057d85","#ab394b","#dac599","#153459","#b1d2c6"],indicatingSet:["#70b3a1","#dac599","#bb626a"],gradientSet:["#bb7862","#70b3a1"],accentColor:"#bb7862"}),Object(lt.a)(nt,"bright",{simpleSet:["#70c92f","#f8ca00","#bd1550","#e97f02","#9d419c","#7e4452","#9ab57e","#36a3a6"],indicatingSet:["#70c92f","#f8ca00","#bd1550"],gradientSet:["#e97f02","#f8ca00"],accentColor:"#e97f02"}),Object(lt.a)(nt,"soft",{simpleSet:["#cbc87b","#9ab57e","#e55253","#7e4452","#e8c267","#565077","#6babac","#ad6082"],indicatingSet:["#9ab57e","#e8c267","#e55253"],gradientSet:["#9ab57e","#e8c267"],accentColor:"#565077"}),Object(lt.a)(nt,"ocean",{simpleSet:["#75c099","#acc371","#378a8a","#5fa26a","#064970","#38c5d2","#00a7c6","#6f84bb"],indicatingSet:["#c8e394","#7bc59d","#397c8b"],gradientSet:["#acc371","#38c5d2"],accentColor:"#378a8a"}),Object(lt.a)(nt,"vintage",{simpleSet:["#dea484","#efc59c","#cb715e","#eb9692","#a85c4c","#f2c0b5","#c96374","#dd956c"],indicatingSet:["#ffe5c6","#f4bb9d","#e57660"],gradientSet:["#efc59c","#cb715e"],accentColor:"#cb715e"}),Object(lt.a)(nt,"violet",{simpleSet:["#d1a1d1","#eeacc5","#7b5685","#7e7cad","#a13d73","#5b41ab","#e287e2","#689cc1"],indicatingSet:["#d8e2f6","#d0b2da","#d56a8a"],gradientSet:["#eeacc5","#7b5685"],accentColor:"#7b5685"}),Object(lt.a)(nt,"carmine",{simpleSet:["#fb7764","#73d47f","#fed85e","#d47683","#dde392","#757ab2"],indicatingSet:["#5cb85c","#f0ad4e","#d9534f"],gradientSet:["#fb7764","#73d47f"],accentColor:"#f05b41"}),Object(lt.a)(nt,"dark moon",{simpleSet:["#4ddac1","#f4c99a","#80dd9b","#f998b3","#4aaaa0","#a5aef1"],indicatingSet:["#59d8a4","#f0ad4e","#f9517e"],gradientSet:["#4ddac1","#f4c99a"],accentColor:"#3debd3"}),Object(lt.a)(nt,"soft blue",{simpleSet:["#7ab8eb","#97da97","#facb86","#e78683","#839bda","#4db7be"],indicatingSet:["#5cb85c","#f0ad4e","#d9534f"],gradientSet:["#7ab8eb","#97da97"],accentColor:"#7ab8eb"}),Object(lt.a)(nt,"dark violet",{simpleSet:["#9c63ff","#64c064","#eead51","#d2504b","#4b6bbf","#2da7b0"],indicatingSet:["#5cb85c","#f0ad4e","#d9534f"],gradientSet:["#9c63ff","#64c064"],accentColor:"#9c63ff"}),Object(lt.a)(nt,"green mist",{simpleSet:["#3cbab2","#8ed962","#5b9d95","#efcc7c","#f1929f","#4d8dab"],indicatingSet:["#72d63c","#ffc852","#f74a5e"],gradientSet:["#3cbab2","#8ed962"],accentColor:"#3cbab2"}),nt);function mt(t){if(void 0===t)return it||pt;t=F(t),it=t in ft?t:void 0}function gt(t,e){var n;e=e||{},t=t||(void 0===it?e.themeDefault:mt());var i=e.type;return ht(t)?t.slice(0):(Object(c.o)(t)&&(n=ft[F(t)]),n||(n=ft[mt()]),i?n[i].slice(0):n)}function vt(t){var e=0;this.next=function(){var n=t[e++];return e===t.length&&this.reset(),n},this.reset=function(){e=0}}function yt(t,e){var n=e.useHighlight?dt:0,i=new vt([0,n,-n]),o=[];function r(){var e=i.next();o=e?function(t,e){var n,i=[],o=t.length;for(n=0;n<o;++n)i.push(bt(t[n],e));return i}(t,e):t.slice(0)}return{getColor:function(e){var n=o[e%t.length];return e%t.length===t.length-1&&r(),n},generateColors:function(t){var n=[];t=t||e.count;for(var i=0;i<t;i++)n.push(this.getColor(i));return n},reset:function(){i.reset(),r()}}}function _t(t,e,n){var i={dispose:function(){this._extensionStrategy=null},getNextColor:function(t){return this._extensionStrategy.getColor(this._currentColor++,t)},generateColors:function(t,e){return this._extensionStrategy.generateColors(t,(e||{}).repeat)},reset:function(){return this._currentColor=0,this._extensionStrategy.reset(),this}},o=((e=e||{}).extensionMode||"").toLowerCase(),r=gt(t,{type:e.type||"simpleSet",themeDefault:n});return i._extensionStrategy="alternate"===o?yt(r,e):"extrapolate"===o?function(t,e){return{getColor:function(e,n){var i=t.length,o=ct((n-1)/i+1),r=t[e%i];return o>1?function(t,e,n){var i=new d.a(t).hsl,o=i.l/100,r=n-1/n,a=o-.5*r,s=o+.5*r,l=(n-1)/2,c=e-l;return a<Math.min(.5,.9*o)&&(a=Math.min(.5,.9*o)),s>Math.max(.8,o+.15*(1-o))&&(s=Math.max(.8,o+.15*(1-o))),c<0?o-=(a-o)*c/l:o+=c/l*(s-o),i.l=100*o,d.a.prototype.fromHSL(i).toHex()}(r,ct(e/i),o):r},generateColors:function(t){var n=[];t=t||e.count;for(var i=0;i<t;i++)n.push(this.getColor(i,t));return n},reset:function(){}}}(r,e):function(t,e){var n=t.length,i=[];function o(t,e,n,i){for(var o,r,a=Math.floor(t/e),s=t-e*a,l=n;l<n+t;)r=a,s>0&&(r+=1,s--),o=r>2?Math.floor(r/2):0,i.push(l+o),l+=r;return i.sort(function(t,e){return t-e})}function r(t,e,n){for(var i=0,o=e=(n+e)%n;o<2*n;o+=1){var r=(n+o)%n;if(t[r])return[t[r],i];i++}}function a(i){if(i<=n)return t;var a=[],s=n-2,l=0,c=[];c=e.keepLastColorInEnd?o(i-2,s,1,[0,i-1]):o(i-1,n-1,1,[0]);for(var u=0;u<i;u++)c.indexOf(u)>-1&&(a[u]=t[l++]);return a=function(t,e){for(var n=0;n<e;n++)if(!t[n]){var i=t[n-1];if(!i)continue;var o=r(t,n,e),a=new d.a(o[0]);i=new d.a(i);for(var s=0;s<o[1];s++,n++)t[n]=i.blend(a,(s+1)/(o[1]+1)).toHex()}return t}(a,i)}return{getColor:function(t,o){return o=o||e.count||n,i.length!==o&&(i=a(o)),i[t%o]},generateColors:function(t,i){if(t=t||e.count||n,i&&t>n){for(var o=a(n),r=0;r<t-n;r++)o.push(o[r]);return o}return n>0?a(t).slice(0,t):[]},reset:function(){}}}(r,e),i.reset(),i}function bt(t,e){var n,i=new d.a(t).alter(e),o=.3*(n=i).r+.59*n.g+.11*n.b;return(o>200||o<55)&&(i=new d.a(t).alter(-e/2)),i.toHex()}function Ct(t,e,n){var i=e>0?function(t,e){var n,i=e-1,o=t.length-1,r=[],a=[];function s(t){var e=o*t,n=ct(e),i=ut(e);a.push(r[n].blend(r[i],e-n).toHex())}for(n=0;n<=o;++n)r.push(new d.a(t[n]));if(i>0)for(n=0;n<=i;++n)s(n/i);else s(.5);return a}(gt(t,{type:"gradientSet",themeDefault:n}),e):[];return{getColor:function(t){return i[t]||null}}}var Ot=n(47),xt="#ffffff",St="#000000",wt="#ff0000",Pt="none",kt="solid",Et="top",Tt="right",It="left",jt="center",Mt=[{theme:{name:"generic.light",isDefault:!0,font:{color:"#767676",family:"'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana, sans-serif",weight:400,size:12,cursor:"default"},redrawOnResize:!0,backgroundColor:xt,primaryTitleColor:"#232323",secondaryTitleColor:"#767676",gridColor:"#d3d3d3",axisColor:"#767676",title:{backgroundColor:xt,font:{size:28,family:"'Segoe UI Light', 'Helvetica Neue Light', 'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana, sans-serif",weight:200},subtitle:{font:{size:16},offset:0,wordWrap:"normal",textOverflow:"ellipsis"},wordWrap:"normal",textOverflow:"ellipsis"},loadingIndicator:{text:"Loading..."},export:{backgroundColor:xt,margin:10,font:{size:14,color:"#232323",weight:400},button:{margin:{top:8,left:10,right:10,bottom:8},default:{color:"#333",borderColor:"#ddd",backgroundColor:xt},hover:{color:"#333",borderColor:"#bebebe",backgroundColor:"#e6e6e6"},focus:{color:St,borderColor:"#9d9d9d",backgroundColor:"#e6e6e6"},active:{color:"#333",borderColor:"#9d9d9d",backgroundColor:"#d4d4d4"}},shadowColor:"#d3d3d3"},tooltip:{enabled:!1,border:{width:1,color:"#d3d3d3",dashStyle:kt,visible:!0},font:{color:"#232323"},color:xt,arrowLength:10,paddingLeftRight:18,paddingTopBottom:15,textAlignment:"center",shared:!1,location:jt,shadow:{opacity:.4,offsetX:0,offsetY:4,blur:2,color:St},interactive:!1},legend:{hoverMode:"includePoints",verticalAlignment:Et,horizontalAlignment:Tt,position:"outside",visible:!0,margin:10,markerSize:12,border:{visible:!1,width:1,cornerRadius:0,dashStyle:kt},paddingLeftRight:20,paddingTopBottom:15,columnCount:0,rowCount:0,columnItemSpacing:20,rowItemSpacing:8,title:{backgroundColor:xt,margin:{left:0,bottom:9,right:0,top:0},font:{size:18,weight:200},subtitle:{offset:0,font:{size:14},wordWrap:"none",textOverflow:"ellipsis"},wordWrap:"none",textOverflow:"ellipsis"}},"chart:common":{animation:{enabled:!0,duration:1e3,easing:"easeOutCubic",maxPointCountSupported:300},commonSeriesSettings:{border:{visible:!1,width:2},showInLegend:!0,visible:!0,hoverMode:"nearestPoint",selectionMode:"includePoints",hoverStyle:{hatching:{direction:Tt,width:2,step:6,opacity:.75},border:{visible:!1,width:3}},selectionStyle:{hatching:{direction:Tt,width:2,step:6,opacity:.5},border:{visible:!1,width:3}},valueErrorBar:{displayMode:"auto",value:1,color:St,lineWidth:2,edgeLength:8},label:{visible:!1,alignment:jt,rotationAngle:0,horizontalOffset:0,verticalOffset:0,radialOffset:0,showForZeroValues:!0,customizeText:void 0,maxLabelCount:void 0,position:"outside",font:{color:xt},border:{visible:!1,width:1,color:"#d3d3d3",dashStyle:kt},connector:{visible:!1,width:1}}},seriesSelectionMode:"single",pointSelectionMode:"single",equalRowHeight:!0,dataPrepareSettings:{checkTypeForAllData:!1,convertToAxisDataType:!0,sortingMethod:!0},title:{margin:10},adaptiveLayout:{width:80,height:80,keepLabels:!0},_rtl:{legend:{itemTextPosition:It}},resolveLabelOverlapping:Pt},"chart:common:axis":{visible:!0,valueMarginsEnabled:!0,placeholderSize:null,logarithmBase:10,discreteAxisDivisionMode:"betweenLabels",aggregatedPointsPosition:"betweenTicks",width:1,label:{visible:!0},grid:{visible:!1,width:1},minorGrid:{visible:!1,width:1,opacity:.3},tick:{visible:!0,width:1,length:7,shift:3},minorTick:{visible:!1,width:1,opacity:.3,length:7,shift:3},stripStyle:{paddingLeftRight:10,paddingTopBottom:5},constantLineStyle:{width:1,color:St,dashStyle:kt,label:{visible:!0,position:"inside"}},marker:{label:{}}},"chart:common:annotation":{font:{color:"#333333"},tooltipEnabled:!0,border:{width:1,color:"#dddddd",dashStyle:kt,visible:!0},color:xt,opacity:.9,arrowLength:14,arrowWidth:14,paddingLeftRight:10,paddingTopBottom:10,shadow:{opacity:.15,offsetX:0,offsetY:1,blur:4,color:St},image:{width:30,height:30},wordWrap:"normal",textOverflow:"ellipsis",allowDragging:!1},chart:{commonSeriesSettings:{type:"line",stack:"default",aggregation:{enabled:void 0},point:{visible:!0,symbol:"circle",size:12,border:{visible:!1,width:1},hoverMode:"onlyPoint",selectionMode:"onlyPoint",hoverStyle:{border:{visible:!0,width:4}},selectionStyle:{border:{visible:!0,width:4}}},scatter:{},line:{width:2,dashStyle:kt,hoverStyle:{width:3,hatching:{direction:Pt}},selectionStyle:{width:3}},stackedline:{width:2,dashStyle:kt,hoverStyle:{width:3,hatching:{direction:Pt}},selectionStyle:{width:3}},stackedspline:{width:2,dashStyle:kt,hoverStyle:{width:3,hatching:{direction:Pt}},selectionStyle:{width:3}},fullstackedline:{width:2,dashStyle:kt,hoverStyle:{width:3,hatching:{direction:Pt}},selectionStyle:{width:3}},fullstackedspline:{width:2,dashStyle:kt,hoverStyle:{width:3,hatching:{direction:Pt}},selectionStyle:{width:3}},stepline:{width:2,dashStyle:kt,hoverStyle:{width:3,hatching:{direction:Pt}},selectionStyle:{width:3}},area:{point:{visible:!1},opacity:.5},stackedarea:{point:{visible:!1},opacity:.5},fullstackedarea:{point:{visible:!1},opacity:.5},fullstackedsplinearea:{point:{visible:!1},opacity:.5},steparea:{border:{visible:!0,width:2},point:{visible:!1},hoverStyle:{border:{visible:!0,width:3}},selectionStyle:{border:{visible:!0,width:3}},opacity:.5},spline:{width:2,hoverStyle:{width:3,hatching:{direction:Pt}},selectionStyle:{width:3}},splinearea:{point:{visible:!1},opacity:.5},stackedsplinearea:{point:{visible:!1},opacity:.5},bar:{cornerRadius:0,point:{hoverStyle:{border:{visible:!1}},selectionStyle:{border:{visible:!1}}}},stackedbar:{cornerRadius:0,point:{hoverStyle:{border:{visible:!1}},selectionStyle:{border:{visible:!1}}},label:{position:"inside"}},fullstackedbar:{cornerRadius:0,point:{hoverStyle:{border:{visible:!1}},selectionStyle:{border:{visible:!1}}},label:{position:"inside"}},rangebar:{cornerRadius:0,point:{hoverStyle:{border:{visible:!1}},selectionStyle:{border:{visible:!1}}}},rangearea:{point:{visible:!1},opacity:.5},rangesplinearea:{point:{visible:!1},opacity:.5},bubble:{opacity:.5,point:{hoverStyle:{border:{visible:!1}},selectionStyle:{border:{visible:!1}}}},candlestick:{width:1,reduction:{color:wt},hoverStyle:{width:3,hatching:{direction:Pt}},selectionStyle:{width:3},point:{border:{visible:!0}}},stock:{width:1,reduction:{color:wt},hoverStyle:{width:3,hatching:{direction:Pt}},selectionStyle:{width:3},point:{border:{visible:!0}}}},crosshair:{enabled:!1,color:"#f05b41",width:1,dashStyle:kt,label:{visible:!1,font:{color:xt,size:12}},verticalLine:{visible:!0},horizontalLine:{visible:!0}},commonAxisSettings:{multipleAxesSpacing:5,forceUserTickInterval:!1,breakStyle:{width:5,color:"#ababab",line:"waved"},label:{displayMode:"standard",overlappingBehavior:"hide",indentFromAxis:10,wordWrap:"normal",textOverflow:"none"},title:{font:{size:16},margin:6,alignment:jt},constantLineStyle:{paddingLeftRight:10,paddingTopBottom:10}},horizontalAxis:{position:"bottom",axisDivisionFactor:70,label:{rotationAngle:90,staggeringSpacing:5,alignment:jt},stripStyle:{label:{horizontalAlignment:jt,verticalAlignment:Et}},constantLineStyle:{label:{horizontalAlignment:Tt,verticalAlignment:Et}},constantLines:[]},verticalAxis:{position:It,axisDivisionFactor:40,label:{alignment:Tt},stripStyle:{label:{horizontalAlignment:It,verticalAlignment:jt}},constantLineStyle:{label:{horizontalAlignment:It,verticalAlignment:Et}},constantLines:[]},argumentAxis:{endOnTick:!1,workWeek:[1,2,3,4,5]},valueAxis:{grid:{visible:!0},autoBreaksEnabled:!1,maxAutoBreakCount:4},commonPaneSettings:{backgroundColor:Pt,border:{color:"#d3d3d3",width:1,visible:!1,top:!0,bottom:!0,left:!0,right:!0,dashStyle:kt}},scrollBar:{visible:!1,offset:5,color:"gray",width:10},adjustOnZoom:!0,autoHidePointMarkers:!0,rotated:!1,synchronizeMultiAxes:!0,stickyHovering:!0,barGroupPadding:.3,minBubbleSize:12,maxBubbleSize:.2,zoomAndPan:{dragBoxStyle:{color:"#2a2a2a",opacity:.2},panKey:"shift",allowMouseWheel:!0,allowTouchGestures:!0}},pie:{innerRadius:.5,minDiameter:.5,type:"pie",dataPrepareSettings:{_skipArgumentSorting:!0},commonSeriesSettings:{pie:{border:{visible:!1,width:2,color:xt},hoverStyle:{hatching:{direction:Tt,width:4,step:10,opacity:.75},border:{visible:!1,width:2}},selectionStyle:{hatching:{direction:Tt,width:4,step:10,opacity:.5},border:{visible:!1,width:2}}},doughnut:{border:{visible:!1,width:2,color:xt},hoverStyle:{hatching:{direction:Tt,width:4,step:10,opacity:.75},border:{visible:!1,width:2}},selectionStyle:{hatching:{direction:Tt,width:4,step:10,opacity:.5},border:{visible:!1,width:2}}},donut:{border:{visible:!1,width:2,color:xt},hoverStyle:{hatching:{direction:Tt,width:4,step:10,opacity:.75},border:{visible:!1,width:2}},selectionStyle:{hatching:{direction:Tt,width:4,step:10,opacity:.5},border:{visible:!1,width:2}}},label:{textOverflow:"ellipsis",wordWrap:"normal"}},legend:{hoverMode:"allArgumentPoints",backgroundColor:Pt},adaptiveLayout:{keepLabels:!1}},gauge:{scale:{tick:{visible:!0,length:5,width:2,opacity:1},minorTick:{visible:!1,length:3,width:1,opacity:1},label:{visible:!0,alignment:jt,hideFirstOrLast:"last",overlappingBehavior:"hide"},position:Et,endOnTick:!1},rangeContainer:{offset:0,width:5,backgroundColor:"#808080"},valueIndicators:{_default:{color:"#c2c2c2"},rangebar:{space:2,size:10,color:"#cbc5cf",backgroundColor:Pt,text:{indent:0,font:{size:14,color:null}}},twocolorneedle:{secondColor:"#e18e92"},trianglemarker:{space:2,length:14,width:13,color:"#8798a5"},textcloud:{arrowLength:5,horizontalOffset:6,verticalOffset:3,color:"#679ec5",text:{font:{color:xt,size:18}}}},indicator:{hasPositiveMeaning:!0,layout:{horizontalAlignment:jt,verticalAlignment:"bottom"},text:{font:{size:18}}},_circular:{scale:{scaleDivisionFactor:17,orientation:"outside",label:{indentFromTick:10}},rangeContainer:{orientation:"outside"},valueIndicatorType:"rectangleneedle",subvalueIndicatorType:"trianglemarker",valueIndicators:{_type:"rectangleneedle",_default:{offset:20,indentFromCenter:0,width:2,spindleSize:14,spindleGapSize:10,beginAdaptingAtRadius:50},triangleneedle:{width:4},twocolorneedle:{space:2,secondFraction:.4},rangebar:{offset:30},trianglemarker:{offset:6},textcloud:{offset:-6}}},_linear:{scale:{scaleDivisionFactor:25,horizontalOrientation:Tt,verticalOrientation:"bottom",label:{indentFromTick:-10}},rangeContainer:{horizontalOrientation:Tt,verticalOrientation:"bottom"},valueIndicatorType:"rangebar",subvalueIndicatorType:"trianglemarker",valueIndicators:{_type:"rectangle",_default:{offset:2.5,length:15,width:15},rectangle:{width:10},rangebar:{offset:10,horizontalOrientation:Tt,verticalOrientation:"bottom"},trianglemarker:{offset:10,horizontalOrientation:It,verticalOrientation:Et},textcloud:{offset:-1,horizontalOrientation:It,verticalOrientation:Et}}}},barGauge:{backgroundColor:"#e0e0e0",relativeInnerRadius:.3,barSpacing:4,resolveLabelOverlapping:"hide",label:{indent:20,connectorWidth:2,font:{size:16}},legend:{visible:!1},indicator:{hasPositiveMeaning:!0,layout:{horizontalAlignment:jt,verticalAlignment:"bottom"},text:{font:{size:18}}}},rangeSelector:{scale:{valueMarginsEnabled:!0,width:1,color:St,opacity:.1,showCustomBoundaryTicks:!0,label:{overlappingBehavior:"hide",alignment:jt,visible:!0,topIndent:7,font:{size:11}},tick:{width:1,color:St,opacity:.17,visible:!0,length:12},minorTick:{width:1,color:St,opacity:.05,visible:!0,length:12},marker:{width:1,color:"#000000",opacity:.1,visible:!0,separatorHeight:33,topIndent:10,textLeftIndent:7,textTopIndent:11,label:{}},logarithmBase:10,workWeek:[1,2,3,4,5],breakStyle:{width:5,color:"#ababab",line:"waved"},endOnTick:!1},selectedRangeColor:"#606060",sliderMarker:{visible:!0,paddingTopBottom:2,paddingLeftRight:4,color:"#606060",invalidRangeColor:wt,font:{color:xt,size:11}},sliderHandle:{width:1,color:St,opacity:.2},shutter:{opacity:.75},background:{color:"#c0bae1",visible:!0,image:{location:"full"}},behavior:{snapToTicks:!0,animationEnabled:!0,moveSelectedRangeByClick:!0,manualRangeSelectionEnabled:!0,allowSlidersSwap:!0,callValueChanged:"onMovingComplete"},redrawOnResize:!0,chart:{barGroupPadding:.3,minBubbleSize:12,maxBubbleSize:.2,topIndent:.1,bottomIndent:0,valueAxis:{inverted:!1,logarithmBase:10},commonSeriesSettings:{type:"area",aggregation:{enabled:void 0},point:{visible:!1},scatter:{point:{visible:!0}}}}},map:{title:{margin:10},background:{borderWidth:1,borderColor:"#cacaca"},layer:{label:{enabled:!1,stroke:xt,"stroke-width":1,"stroke-opacity":.7,font:{color:"#2b2b2b",size:12}}},"layer:area":{borderWidth:1,borderColor:xt,color:"#d2d2d2",hoveredBorderColor:"#303030",selectedBorderWidth:2,selectedBorderColor:"#303030",label:{"stroke-width":2,font:{size:16}}},"layer:line":{borderWidth:2,color:"#ba8365",hoveredColor:"#a94813",selectedBorderWidth:3,selectedColor:"#e55100",label:{"stroke-width":2,font:{size:16}}},"layer:marker":{label:{enabled:!0,"stroke-width":1,font:{size:12}}},"layer:marker:dot":{borderWidth:2,borderColor:xt,size:8,selectedStep:2,backStep:18,backColor:xt,backOpacity:.32,shadow:!0},"layer:marker:bubble":{minSize:20,maxSize:50,hoveredBorderWidth:1,hoveredBorderColor:"#303030",selectedBorderWidth:2,selectedBorderColor:"#303030"},"layer:marker:pie":{size:50,hoveredBorderWidth:1,hoveredBorderColor:"#303030",selectedBorderWidth:2,selectedBorderColor:"#303030"},"layer:marker:image":{size:20},legend:{verticalAlignment:"bottom",horizontalAlignment:Tt,position:"inside",backgroundOpacity:.65,border:{visible:!0},paddingLeftRight:16,paddingTopBottom:12},controlBar:{borderColor:"#5d5d5d",borderWidth:3,color:xt,margin:20,opacity:.3},_rtl:{legend:{itemTextPosition:It}}},treeMap:{tile:{border:{width:1,opacity:.2,color:"#000000"},color:"#5f8b95",hoverStyle:{hatching:{opacity:.75,step:6,width:2,direction:"right"},border:{}},selectionStyle:{hatching:{opacity:.5,step:6,width:2,direction:"right"},border:{opacity:1}},label:{visible:!0,paddingLeftRight:5,paddingTopBottom:4,font:{color:"#ffffff",weight:600},shadow:{opacity:.6,offsetX:0,offsetY:1,blur:2,color:"#000000"},wordWrap:"normal",textOverflow:"ellipsis"}},group:{padding:4,border:{width:1},color:"#eeeeee",hoverStyle:{hatching:{opacity:0,step:6,width:2,direction:"right"},border:{}},selectionStyle:{hatching:{opacity:0,step:6,width:2,direction:"right"},border:{}},label:{visible:!0,paddingLeftRight:5,paddingTopBottom:4,font:{color:"#767676",weight:600},textOverflow:"ellipsis"}},title:{subtitle:{}},tooltip:{},loadingIndicator:{}},sparkline:{lineColor:"#666666",lineWidth:2,areaOpacity:.2,minColor:"#e8c267",maxColor:"#e55253",barPositiveColor:"#a9a9a9",barNegativeColor:"#d7d7d7",winColor:"#a9a9a9",lossColor:"#d7d7d7",firstLastColor:"#666666",pointSymbol:"circle",pointColor:xt,pointSize:4,type:"line",argumentField:"arg",valueField:"val",winlossThreshold:0,showFirstLast:!0,showMinMax:!1,tooltip:{enabled:!0}},bullet:{color:"#e8c267",targetColor:"#666666",targetWidth:4,showTarget:!0,showZeroLevel:!0,tooltip:{enabled:!0}},polar:{commonSeriesSettings:{type:"scatter",closed:!0,point:{visible:!0,symbol:"circle",size:12,border:{visible:!1,width:1},hoverMode:"onlyPoint",selectionMode:"onlyPoint",hoverStyle:{border:{visible:!0,width:4},size:12},selectionStyle:{border:{visible:!0,width:4},size:12}},scatter:{},line:{width:2,dashStyle:kt,hoverStyle:{width:3,hatching:{direction:Pt}},selectionStyle:{width:3}},area:{point:{visible:!1},opacity:.5},stackedline:{width:2},bar:{opacity:.8},stackedbar:{opacity:.8}},adaptiveLayout:{width:80,height:80,keepLabels:!0},barGroupPadding:.3,commonAxisSettings:{visible:!0,forceUserTickInterval:!1,label:{overlappingBehavior:"hide",indentFromAxis:5},grid:{visible:!0},minorGrid:{visible:!0},tick:{visible:!0},title:{font:{size:16},margin:10}},argumentAxis:{startAngle:0,firstPointOnStartAngle:!1,period:void 0},valueAxis:{endOnTick:!1,tick:{visible:!1}},horizontalAxis:{position:Et,axisDivisionFactor:50,label:{alignment:jt}},verticalAxis:{position:Et,axisDivisionFactor:30,label:{alignment:Tt}}},funnel:{sortData:!0,valueField:"val",colorField:"color",argumentField:"arg",hoverEnabled:!0,selectionMode:"single",item:{border:{visible:!1,width:2,color:xt},hoverStyle:{hatching:{opacity:.75,step:6,width:2,direction:Tt},border:{}},selectionStyle:{hatching:{opacity:.5,step:6,width:2,direction:Tt},border:{}}},title:{margin:10},adaptiveLayout:{width:80,height:80,keepLabels:!0},legend:{visible:!1},_rtl:{legend:{itemTextPosition:It}},tooltip:{customizeTooltip:function(t){return{text:t.item.argument+" "+t.valueText}}},inverted:!1,algorithm:"dynamicSlope",neckWidth:0,neckHeight:0,resolveLabelOverlapping:"shift",label:{textOverflow:"ellipsis",wordWrap:"normal",visible:!0,horizontalAlignment:Tt,horizontalOffset:0,verticalOffset:0,showForZeroValues:!1,customizeText:function(t){return t.item.argument+" "+t.valueText},position:"columns",font:{color:xt},border:{visible:!1,width:1,color:"#d3d3d3",dashStyle:kt},connector:{visible:!0,width:1,opacity:.5}}},sankey:{sourceField:"source",targetField:"target",weightField:"weight",hoverEnabled:!0,alignment:jt,adaptiveLayout:{width:80,height:80,keepLabels:!0},label:{visible:!0,horizontalOffset:8,verticalOffset:0,overlappingBehavior:"ellipsis",useNodeColors:!1,font:{color:St,weight:500},border:{visible:!1,width:2,color:xt},customizeText:function(t){return t.title},shadow:{opacity:.2,offsetX:0,offsetY:1,blur:1,color:xt}},title:{margin:10,font:{size:28,weight:200},subtitle:{font:{size:16}}},tooltip:{enabled:!0},node:{padding:30,width:8,opacity:1,border:{color:xt,width:1,visible:!1},hoverStyle:{hatching:{opacity:.75,step:6,width:2,direction:Tt},border:{}}},link:{color:"#888888",colorMode:"none",opacity:.3,border:{color:xt,width:1,visible:!1},hoverStyle:{opacity:.5,hatching:{opacity:.75,step:6,width:2,direction:Tt},border:{}}}}},baseThemeName:void 0},{theme:{name:"generic.light.compact"},baseThemeName:"generic.light"}],Dt=[{theme:{name:"generic.carmine",defaultPalette:"Carmine",backgroundColor:"#fff",primaryTitleColor:"#333",secondaryTitleColor:"#8899a8",gridColor:"#dee1e3",axisColor:"#707070",export:{backgroundColor:"#fff",font:{color:"#333"},button:{default:{color:"#333",borderColor:"#b1b7bd",backgroundColor:"#fff"},hover:{color:"#333",borderColor:"#b1b7bd",backgroundColor:"#faf2f0"},focus:{color:"#333",borderColor:"#6d7781",backgroundColor:"#faf2f0"},active:{color:"#333",borderColor:"#6d7781",backgroundColor:"#f5e7e4"}}},legend:{font:{color:"#707070"}},tooltip:{color:"#fff",border:{color:"#dee1e3"},font:{color:"#333"}},"chart:common":{commonSeriesSettings:{label:{border:{color:"#dee1e3"}}}},"chart:common:annotation":{font:{color:"#333"},border:{color:"#dee1e3"},color:"#fff"},chart:{commonPaneSettings:{border:{color:"#dee1e3"}},commonAxisSettings:{breakStyle:{color:"#c1c5c7"}}},rangeSelector:{scale:{breakStyle:{color:"#c1c5c7"},tick:{opacity:.12}},selectedRangeColor:"#f05b41",sliderMarker:{color:"#f05b41"},sliderHandle:{color:"#f05b41",opacity:.5}},sparkline:{pointColor:"#fff",minColor:"#f0ad4e",maxColor:"#f74d61"},treeMap:{group:{color:"#dee1e3",label:{font:{color:"#8899a8"}}}},bullet:{color:"#f05b41"},gauge:{valueIndicators:{rangebar:{color:"#f05b41"},textcloud:{color:"#f05b41"}}}},baseThemeName:"generic.light"},{theme:{name:"generic.carmine.compact"},baseThemeName:"generic.carmine"}],At=[{theme:{name:"generic.dark",font:{color:"#808080"},backgroundColor:"#2a2a2a",primaryTitleColor:"#dedede",secondaryTitleColor:"#a3a3a3",gridColor:"#555555",axisColor:"#a3a3a3",export:{backgroundColor:"#2a2a2a",font:{color:"#dbdbdb"},button:{default:{color:"#dedede",borderColor:"#4d4d4d",backgroundColor:"#2e2e2e"},hover:{color:"#dedede",borderColor:"#6c6c6c",backgroundColor:"#444"},focus:{color:"#dedede",borderColor:"#8d8d8d",backgroundColor:"#444444"},active:{color:"#dedede",borderColor:"#8d8d8d",backgroundColor:"#555555"}},shadowColor:"#292929"},tooltip:{color:"#2b2b2b",border:{color:"#494949"},font:{color:"#929292"}},"chart:common":{commonSeriesSettings:{label:{border:{color:"#494949"}},valueErrorBar:{color:"#ffffff"}}},"chart:common:axis":{constantLineStyle:{color:"#ffffff"}},"chart:common:annotation":{font:{color:"#929292"},border:{color:"#494949"},color:"#2b2b2b",shadow:{opacity:.008,offsetY:4,blur:8}},chart:{commonPaneSettings:{border:{color:"#494949"}},commonAxisSettings:{breakStyle:{color:"#818181"}},zoomAndPan:{dragBoxStyle:{color:"#ffffff"}}},gauge:{rangeContainer:{backgroundColor:"#b5b5b5"},valueIndicators:{_default:{color:"#b5b5b5"},rangebar:{color:"#84788b"},twocolorneedle:{secondColor:"#ba544d"},trianglemarker:{color:"#b7918f"},textcloud:{color:"#ba544d"}}},barGauge:{backgroundColor:"#3c3c3c"},rangeSelector:{scale:{tick:{color:"#ffffff",opacity:.32},minorTick:{color:"#ffffff",opacity:.1},breakStyle:{color:"#818181"}},selectedRangeColor:"#b5b5b5",sliderMarker:{color:"#b5b5b5",font:{color:"#303030"}},sliderHandle:{color:"#ffffff",opacity:.2},shutter:{color:"#2b2b2b",opacity:.9}},map:{background:{borderColor:"#3f3f3f"},layer:{label:{stroke:"#000000",font:{color:"#ffffff"}}},"layer:area":{borderColor:"#303030",color:"#686868",hoveredBorderColor:"#ffffff",selectedBorderColor:"#ffffff"},"layer:line":{color:"#c77244",hoveredColor:"#ff5d04",selectedColor:"#ff784f"},"layer:marker:bubble":{hoveredBorderColor:"#ffffff",selectedBorderColor:"#ffffff"},"layer:marker:pie":{hoveredBorderColor:"#ffffff",selectedBorderColor:"#ffffff"},legend:{border:{color:"#3f3f3f"},font:{color:"#ffffff"}},controlBar:{borderColor:"#c7c7c7",color:"#303030"}},treeMap:{group:{color:"#4c4c4c",label:{font:{color:"#a3a3a3"}}}},sparkline:{lineColor:"#c7c7c7",firstLastColor:"#c7c7c7",barPositiveColor:"#b8b8b8",barNegativeColor:"#8e8e8e",winColor:"#b8b8b8",lossColor:"#8e8e8e",pointColor:"#303030"},bullet:{targetColor:"#8e8e8e"},funnel:{item:{border:{color:"#2a2a2a"}}},sankey:{label:{font:{color:"#ffffff"},shadow:{opacity:0}},node:{border:{color:"#2a2a2a"}},link:{color:"#888888",border:{color:"#2a2a2a"},hoverStyle:{color:"#bbbbbb"}}}},baseThemeName:"generic.light"},{theme:{name:"generic.dark.compact"},baseThemeName:"generic.dark"}],Rt=[{theme:{name:"generic.contrast",defaultPalette:"Bright",font:{color:"#ffffff"},backgroundColor:"#000000",primaryTitleColor:"#ffffff",secondaryTitleColor:"#ffffff",gridColor:"#ffffff",axisColor:"#ffffff",export:{backgroundColor:"#000000",font:{color:"#ffffff"},button:{default:{color:"#ffffff",borderColor:"#ffffff",backgroundColor:"#000000"},hover:{color:"#ffffff",borderColor:"#ffffff",backgroundColor:"#cf00d7"},focus:{color:"#ffffff",borderColor:"#cf00d7",backgroundColor:"#000000"},active:{color:"#000000",borderColor:"#ffffff",backgroundColor:"#ffffff"}},borderColor:"#ffffff",menuButtonColor:"#000000",activeBackgroundColor:"#ffffff",activeColor:"#000000",selectedBorderColor:"#cf00da",selectedColor:"#cf00da",shadowColor:"none"},tooltip:{border:{color:"#ffffff"},font:{color:"#ffffff"},color:"#000000"},"chart:common":{commonSeriesSettings:{valueErrorBar:{color:"#ffffff"},hoverStyle:{hatching:{opacity:.5}},selectionStyle:{hatching:{opacity:.35}},label:{font:{color:"#ffffff"},border:{color:"#ffffff"}}}},"chart:common:axis":{constantLineStyle:{color:"#ffffff"}},"chart:common:annotation":{font:{color:"#ffffff"},border:{color:"#ffffff"},color:"#000000"},chart:{commonSeriesSettings:{},crosshair:{color:"#cf00d7"},commonPaneSettings:{backgroundColor:"#000000",border:{color:"#ffffff"}},scrollBar:{color:"#ffffff"},commonAxisSettings:{breakStyle:{color:"#cf00d7"}},zoomAndPan:{dragBoxStyle:{color:"#ffffff",opacity:.7}}},pie:{commonSeriesSettings:{pie:{hoverStyle:{hatching:{opacity:.5}},selectionStyle:{hatching:{opacity:.35}}},doughnut:{hoverStyle:{hatching:{opacity:.5}},selectionStyle:{hatching:{opacity:.35}}},donut:{hoverStyle:{hatching:{opacity:.5}},selectionStyle:{hatching:{opacity:.35}}}}},gauge:{rangeContainer:{backgroundColor:"#ffffff"},valueIndicators:{_default:{color:"#ffffff"},rangebar:{color:"#ffffff",backgroundColor:"#000000"},twocolorneedle:{secondColor:"#ffffff"},trianglemarker:{color:"#ffffff"},textcloud:{color:"#ffffff",text:{font:{color:"#000000"}}}}},barGauge:{backgroundColor:"#3c3c3c"},rangeSelector:{scale:{tick:{color:"#ffffff",opacity:.4},minorTick:{color:"#ffffff",opacity:.12},breakStyle:{color:"#cf00d7"}},selectedRangeColor:"#cf00da",sliderMarker:{color:"#cf00da"},sliderHandle:{color:"#cf00da",opacity:1},shutter:{opacity:.75},background:{color:"#000000"}},map:{background:{borderColor:"#ffffff"},layer:{label:{stroke:"#000000",font:{color:"#ffffff"}}},"layer:area":{borderColor:"#000000",color:"#686868",hoveredBorderColor:"#ffffff",selectedBorderColor:"#ffffff",label:{font:{opacity:1}}},"layer:line":{color:"#267cff",hoveredColor:"#f613ff",selectedColor:"#ffffff"},"layer:marker:dot":{borderColor:"#000000",color:"#f8ca00",backColor:"#000000",backOpacity:.32},"layer:marker:bubble":{color:"#f8ca00",hoveredBorderColor:"#ffffff",selectedBorderColor:"#ffffff"},"layer:marker:pie":{hoveredBorderColor:"#ffffff",selectedBorderColor:"#ffffff"},controlBar:{borderColor:"#ffffff",color:"#000000",opacity:.3}},treeMap:{tile:{color:"#70c92f"},group:{color:"#797979",label:{font:{color:"#ffffff"}}}},sparkline:{pointColor:"#000000"},bullet:{},polar:{commonSeriesSettings:{}},funnel:{label:{connector:{opacity:1}}},sankey:{label:{font:{color:"#ffffff"},shadow:{opacity:0}},node:{border:{visible:!0,width:1,color:"#ffffff"}},link:{opacity:.5,border:{visible:!0,width:1,color:"#ffffff"},hoverStyle:{opacity:.9}}}},baseThemeName:"generic.light"},{theme:{name:"generic.contrast.compact"},baseThemeName:"generic.contrast"}],Bt=[{theme:{name:"generic.darkmoon",defaultPalette:"Dark Moon",backgroundColor:"#465672",primaryTitleColor:"#fff",secondaryTitleColor:"#919bac",gridColor:"#596980",axisColor:"#c7ccd4",export:{backgroundColor:"#465672",font:{color:"#fff"},button:{default:{color:"#fff",borderColor:"#7a889e",backgroundColor:"#465672"},hover:{color:"#fff",borderColor:"#9da8b8",backgroundColor:"#596e92"},focus:{color:"#fff",borderColor:"#c4cad4",backgroundColor:"#596e92"},active:{color:"#fff",borderColor:"#c4cad4",backgroundColor:"#6b80a4"}}},legend:{font:{color:"#c7ccd4"}},tooltip:{color:"#62789e",border:{color:"#596980"},font:{color:"#fff"}},"chart:common":{commonSeriesSettings:{label:{border:{color:"#596980"}}}},"chart:common:annotation":{font:{color:"#fff"},border:{color:"#596980"},color:"#62789e"},chart:{commonPaneSettings:{border:{color:"#596980"}},commonAxisSettings:{breakStyle:{color:"#73869e"}}},gauge:{valueIndicators:{rangebar:{color:"#3debd3"},textcloud:{color:"#3debd3",text:{font:{color:"#465672"}}}}},barGauge:{backgroundColor:"#526280"},funnel:{item:{border:{color:"#465672"}}},sparkline:{pointColor:"#465672",minColor:"#f0ad4e",maxColor:"#f9517e"},treeMap:{group:{color:"#596980",label:{font:{color:"#fff"}}}},map:{background:{borderColor:"#596980"},"layer:area":{color:"#97a3b6",borderColor:"#465672"}},rangeSelector:{shutter:{color:"#465672"},scale:{breakStyle:{color:"#73869e"},tick:{opacity:.2}},selectedRangeColor:"#3debd3",sliderMarker:{color:"#3debd3",font:{color:"#000"}},sliderHandle:{color:"#3debd3",opacity:.5}},bullet:{color:"#3debd3"},sankey:{link:{border:{color:"#465672"}},node:{border:{color:"#465672"}}}},baseThemeName:"generic.dark"},{theme:{name:"generic.darkmoon.compact"},baseThemeName:"generic.darkmoon"}],Lt=[{theme:{name:"generic.darkviolet",defaultPalette:"Dark Violet",backgroundColor:"#17171f",primaryTitleColor:"#f5f6f7",secondaryTitleColor:"#fff",gridColor:"#343840",axisColor:"#b2b2b6",export:{backgroundColor:"#17171f",font:{color:"#f5f6f7"},button:{default:{color:"#f5f6f7",borderColor:"#414152",backgroundColor:"#17171f"},hover:{color:"#f5f6f7",borderColor:"#5c5c74",backgroundColor:"#2d2d3c"},focus:{color:"#f5f6f7",borderColor:"#7c7c97",backgroundColor:"#2d2d3c"},active:{color:"#f5f6f7",borderColor:"#7c7c97",backgroundColor:"#3c3c51"}}},legend:{font:{color:"#b2b2b6"}},tooltip:{color:"#17171f",border:{color:"#414152"},font:{color:"#f5f6f7"}},"chart:common":{commonSeriesSettings:{label:{border:{color:"#343840"}}}},"chart:common:annotation":{font:{color:"#f5f6f7"},border:{color:"#414152"},color:"#17171f"},chart:{commonPaneSettings:{border:{color:"#343840"}},commonAxisSettings:{breakStyle:{color:"#575e6b"}}},funnel:{item:{border:{color:"#17171f"}}},sparkline:{pointColor:"#17171f",minColor:"#f0ad4e",maxColor:"#d9534f"},treeMap:{group:{color:"#343840",label:{font:{color:"#fff"}}}},rangeSelector:{shutter:{color:"#17171f"},scale:{breakStyle:{color:"#575e6b"},tick:{opacity:.2}},selectedRangeColor:"#9c63ff",sliderMarker:{color:"#9c63ff",font:{color:"#fff"}},sliderHandle:{color:"#9c63ff",opacity:.5}},bullet:{color:"#9c63ff"},gauge:{valueIndicators:{rangebar:{color:"#9c63ff"},textcloud:{color:"#9c63ff"}}},sankey:{link:{border:{color:"#17171f"}},node:{border:{color:"#17171f"}}}},baseThemeName:"generic.dark"},{theme:{name:"generic.darkviolet.compact"},baseThemeName:"generic.darkviolet"}],Nt=[{theme:{name:"generic.greenmist",defaultPalette:"Green Mist",backgroundColor:"#f5f5f5",primaryTitleColor:"#28484f",secondaryTitleColor:"#7eb2be",gridColor:"#dedede",axisColor:"#657c80",export:{backgroundColor:"#f5f5f5",font:{color:"#28484f"},button:{default:{color:"#28484f",borderColor:"#a2b4b8",backgroundColor:"#f5f5f5"},hover:{color:"#28484f",borderColor:"#7f989e",backgroundColor:"rgba(222, 222, 222, 0.4)"},focus:{color:"#28484f",borderColor:"#5f777c",backgroundColor:"rgba(222, 222, 222, 0.4)"},active:{color:"#28484f",borderColor:"#5f777c",backgroundColor:"rgba(222, 222, 222, 0.8)"}}},legend:{font:{color:"#657c80"}},tooltip:{color:"#fff",border:{color:"#dedede"},font:{color:"#28484f"}},"chart:common":{commonSeriesSettings:{label:{border:{color:"#dedede"}}}},"chart:common:annotation":{color:"#fff",border:{color:"#dedede"},font:{color:"#28484f"}},chart:{commonPaneSettings:{border:{color:"#dedede"}},commonAxisSettings:{breakStyle:{color:"#c1c1c1"}}},funnel:{item:{border:{color:"#f5f5f5"}}},sparkline:{pointColor:"#f5f5f5",minColor:"#ffc852",maxColor:"#f74a5e"},treeMap:{group:{color:"#dedede",label:{font:{color:"#7eb2be"}}}},rangeSelector:{shutter:{color:"#f5f5f5"},scale:{breakStyle:{color:"#c1c1c1"},tick:{opacity:.12}},selectedRangeColor:"#3cbab2",sliderMarker:{color:"#3cbab2"},sliderHandle:{color:"#3cbab2",opacity:.5}},bullet:{color:"#3cbab2"},gauge:{valueIndicators:{rangebar:{color:"#3cbab2"},textcloud:{color:"#3cbab2"}}}},baseThemeName:"generic.light"},{theme:{name:"generic.greenmist.compact"},baseThemeName:"generic.greenmist"}],zt=[{theme:{name:"generic.softblue",defaultPalette:"Soft Blue",backgroundColor:"#fff",primaryTitleColor:"#333",secondaryTitleColor:"#99a1a8",gridColor:"#e8eaeb",axisColor:"#707070",export:{backgroundColor:"#fff",font:{color:"#333"},button:{default:{color:"#333",borderColor:"#c9d0d4",backgroundColor:"#fff"},hover:{color:"#333",borderColor:"#a7b2b9",backgroundColor:"#e6e6e6"},focus:{color:"#333",borderColor:"#82929b",backgroundColor:"#e6e6e6"},active:{color:"#333",borderColor:"#82929b",backgroundColor:"#d4d4d4"}}},legend:{font:{color:"#707070"}},tooltip:{color:"#fff",border:{color:"#e8eaeb"},font:{color:"#333"}},"chart:common":{commonSeriesSettings:{label:{border:{color:"#e8eaeb"}}}},"chart:common:annotation":{color:"#fff",border:{color:"#e8eaeb"},font:{color:"#333"}},chart:{commonPaneSettings:{border:{color:"#e8eaeb"}},commonAxisSettings:{breakStyle:{color:"#cfd2d3"}}},rangeSelector:{scale:{breakStyle:{color:"#cfd2d3"},tick:{opacity:.12}},selectedRangeColor:"#7ab8eb",sliderMarker:{color:"#7ab8eb"},sliderHandle:{color:"#7ab8eb",opacity:.5}},sparkline:{pointColor:"#fff",minColor:"#f0ad4e",maxColor:"#d9534f"},treeMap:{group:{color:"#e8eaeb",label:{font:{color:"#99a1a8"}}}},bullet:{color:"#7ab8eb"},gauge:{valueIndicators:{rangebar:{color:"#7ab8eb"},textcloud:{color:"#7ab8eb"}}}},baseThemeName:"generic.light"},{theme:{name:"generic.softblue.compact"},baseThemeName:"generic.softblue"}],Ft="'Roboto', 'RobotoFallback', 'Helvetica', 'Arial', sans-serif",Ht=[{theme:{name:"material",defaultPalette:"Material",font:{family:Ft},title:{margin:{top:20,bottom:20,left:0,right:0},font:{size:20,family:Ft,weight:500},horizontalAlignment:"left",subtitle:{font:{size:14},horizontalAlignment:"left"}},tooltip:{shadow:{opacity:0},border:{visible:!1},paddingLeftRight:8,paddingTopBottom:6,arrowLength:0,location:"edge",color:"#616161",font:{color:"#ffffff"},cornerRadius:4},chart:{commonAxisSettings:{minorTick:{opacity:.5},label:{font:{size:11}}},commonAnnotationSettings:{font:{color:"#ffffff"},border:{color:"#616161"},color:"#616161",arrowLength:14,arrowWidth:0,shadow:{opacity:.08,offsetY:4,blur:8},cornerRadius:4}},pie:{title:{horizontalAlignment:"center",subtitle:{horizontalAlignment:"center"}}},polar:{commonAxisSettings:{minorTick:{opacity:.5}},title:{horizontalAlignment:"center",subtitle:{horizontalAlignment:"center"}}},funnel:{title:{horizontalAlignment:"center",subtitle:{horizontalAlignment:"center"}}},gauge:{title:{horizontalAlignment:"center",subtitle:{horizontalAlignment:"center"}}},barGauge:{title:{horizontalAlignment:"center",subtitle:{horizontalAlignment:"center"}}},rangeSelector:{sliderHandle:{opacity:.5}},treeMap:{group:{label:{font:{weight:500}}}}},baseThemeName:"generic.light"},{theme:{name:"material.light",gridColor:"#e0e0e0",axisColor:"rgba(0,0,0,0.54)",primaryTitleColor:"rgba(0,0,0,0.87)",legend:{font:{color:"rgba(0,0,0,0.54)"}},chart:{scrollBar:{color:"#bfbfbf",opacity:.7}},gauge:{rangeContainer:{backgroundColor:"rgba(0,0,0,0.2)"}},barGauge:{backgroundColor:"#efefef"}},baseThemeName:"material"},{theme:{name:"material.dark",gridColor:"#515159",backgroundColor:"#363640",axisColor:"rgba(255,255,255,0.54)",font:{color:"rgba(255,255,255,0.54)"},primaryTitleColor:"rgba(255,255,255,0.87)",secondaryTitleColor:"rgba(255,255,255,0.87)",tooltip:{color:"#000"},export:{backgroundColor:"#363640",font:{color:"#dbdbdb"},button:{default:{color:"#dedede",borderColor:"#4d4d4d",backgroundColor:"#363640"},hover:{color:"#dedede",borderColor:"#6c6c6c",backgroundColor:"#3f3f4b"},focus:{color:"#dedede",borderColor:"#8d8d8d",backgroundColor:"#494956"},active:{color:"#dedede",borderColor:"#8d8d8d",backgroundColor:"#494956"}},shadowColor:"#292929"},"chart:common":{commonSeriesSettings:{label:{border:{color:"#494949"}},valueErrorBar:{color:"#ffffff"}}},"chart:common:axis":{constantLineStyle:{color:"#ffffff"}},"chart:common:annotation":{border:{color:"#000"},color:"#000"},chart:{commonPaneSettings:{border:{color:"#494949"}},commonAxisSettings:{breakStyle:{color:"#818181"}},zoomAndPan:{dragBoxStyle:{color:"#ffffff"}}},gauge:{rangeContainer:{backgroundColor:"#b5b5b5"},valueIndicators:{_default:{color:"#b5b5b5"},rangebar:{color:"#84788b"},twocolorneedle:{secondColor:"#ba544d"},trianglemarker:{color:"#b7918f"},textcloud:{color:"#ba544d"}}},barGauge:{backgroundColor:"#3c3c3c"},rangeSelector:{scale:{tick:{color:"#ffffff",opacity:.32},minorTick:{color:"#ffffff",opacity:.1},breakStyle:{color:"#818181"}},selectedRangeColor:"#b5b5b5",sliderMarker:{color:"#b5b5b5",font:{color:"#363640"}},sliderHandle:{color:"#ffffff",opacity:.2},shutter:{color:"#ffffff",opacity:.1}},map:{background:{borderColor:"#3f3f3f"},layer:{label:{stroke:"#000000",font:{color:"#ffffff"}}},"layer:area":{borderColor:"#363640",color:"#686868",hoveredBorderColor:"#ffffff",selectedBorderColor:"#ffffff"},"layer:line":{color:"#c77244",hoveredColor:"#ff5d04",selectedColor:"#ff784f"},"layer:marker:bubble":{hoveredBorderColor:"#ffffff",selectedBorderColor:"#ffffff"},"layer:marker:pie":{hoveredBorderColor:"#ffffff",selectedBorderColor:"#ffffff"},legend:{border:{color:"#3f3f3f"},font:{color:"#ffffff"}},controlBar:{borderColor:"#c7c7c7",color:"#363640"}},treeMap:{group:{color:"#4c4c4c",label:{font:{color:"#a3a3a3"}}}},sparkline:{lineColor:"#c7c7c7",firstLastColor:"#c7c7c7",barPositiveColor:"#b8b8b8",barNegativeColor:"#8e8e8e",winColor:"#b8b8b8",lossColor:"#8e8e8e",pointColor:"#363640"},bullet:{targetColor:"#8e8e8e"},funnel:{item:{border:{color:"#363640"}}},sankey:{label:{font:{color:"#ffffff"}}}},baseThemeName:"material"}];function Vt(t,e,n){return{theme:{name:"material."+t+"."+e,rangeSelector:{selectedRangeColor:n,sliderMarker:{color:n},sliderHandle:{color:n}},map:{"layer:marker:dot":{color:n},"layer:marker:bubble":{color:n},legend:{markerColor:n}},bullet:{color:n},gauge:{valueIndicators:{rangebar:{color:n},textcloud:{color:n}}}},baseThemeName:"material."+e}}var Ut={blue:"#03a9f4",lime:"#cddc39",orange:"#ff5722",purple:"#9c27b0",teal:"#009688"};for(var Wt in Ut)if(Object.prototype.hasOwnProperty.call(Ut,Wt)){var Kt=Ut[Wt];Ht.push(Vt(Wt,"light",Kt),Vt(Wt,"dark",Kt),{theme:{name:"material.".concat(Wt,".light.compact")},baseThemeName:"material.".concat(Wt,".light")},{theme:{name:"material.".concat(Wt,".dark.compact")},baseThemeName:"material.".concat(Wt,".dark")})}var $t,Gt=Ht,qt={},Zt={},Yt={},Xt=a.a,Qt=s.a,Jt=null,te=0,ee={};function ne(t){var e=F(t);return qt[e]||qt[Zt[e]||function(t,e){if(!arguments.length)return Jt||ie(Object(Ot.a)())||$t;var n=F(e);return Jt=(t&&t.platform?function(t,e,n){return ie(t+e,n)||ie(t,n)}(F(t.platform),t.version,n):ie(F(t),n))||Jt,this}()]}function ie(t,e){return Zt[t+"."+e]||Yt[t+"."+e]||Zt[t]}function oe(t,e){var n=F(t&&t.name);n&&(t.isDefault&&($t=n),function(t,e){var n=function(t,e){var n=t.indexOf(e);return n>0?{name:t.substring(0,n),scheme:t.substring(n+1)}:null}(t,".")||{name:t},i=n.name,o=n.scheme;o?(Zt[i]=Zt[i]||e,Zt[i+"."+o]=e):Zt[i]=e}(n,n),qt[n]=Xt(!0,{},ne(e),function(t){return re((t=Xt(!0,{loadingIndicator:{font:{}},export:{font:{}},legend:{font:{},border:{}},title:{font:{}},tooltip:{font:{}},"chart:common":{},"chart:common:axis":{grid:{},minorGrid:{},tick:{},minorTick:{},title:{font:{}},label:{font:{}}},"chart:common:annotation":{font:{},border:{}},chart:{commonSeriesSettings:{candlestick:{}}},pie:{},polar:{},gauge:{scale:{tick:{},minorTick:{},label:{font:{}}}},barGauge:{},funnel:{},sankey:{},map:{background:{}},treeMap:{tile:{selectionStyle:{border:{}}},group:{border:{},selectionStyle:{border:{}},label:{font:{}}}},rangeSelector:{scale:{tick:{},minorTick:{},label:{font:{}}},chart:{}},sparkline:{},bullet:{}},t)).loadingIndicator,"backgroundColor",t),re(t.chart.commonSeriesSettings.candlestick,"innerColor",null,t.backgroundColor),re(t.map.background,"color",null,t.backgroundColor),re(t.title.font,"color",null,t.primaryTitleColor),ae(t.title,"subtitle",null,t.title),re(t.legend.font,"color",null,t.secondaryTitleColor),re(t.legend.border,"color",null,t.gridColor),function(t){var e=t["chart:common:axis"];Qt([e.grid,e.minorGrid],function(e,n){re(n,"color",null,t.gridColor)}),Qt([e,e.tick,e.minorTick,e.label.font],function(e,n){re(n,"color",null,t.axisColor)}),re(e.title.font,"color",null,t.secondaryTitleColor),re(t.gauge.scale.label.font,"color",null,t.axisColor),re(t.gauge.scale.tick,"color",null,t.backgroundColor),re(t.gauge.scale.minorTick,"color",null,t.backgroundColor),re(t.rangeSelector.scale.label.font,"color",null,t.axisColor)}(t),Qt(["chart","pie","polar","gauge","barGauge","map","treeMap","funnel","rangeSelector","sparkline","bullet","sankey"],function(e,n){re(t[n],"redrawOnResize",t),re(t[n],"containerBackgroundColor",null,t.backgroundColor),ae(t[n],"tooltip",t),ae(t[n],"export",t)}),Qt(["chart","pie","polar","gauge","barGauge","map","treeMap","funnel","rangeSelector","sankey"],function(e,n){ae(t[n],"loadingIndicator",t),ae(t[n],"legend",t),ae(t[n],"title",t)}),Qt(["chart","pie","polar"],function(e,n){ae(t,n,null,t["chart:common"])}),Qt(["chart","polar"],function(e,n){t[n]=t[n]||{},ae(t[n],"commonAxisSettings",null,t["chart:common:axis"])}),Qt(["chart","polar","map","pie"],function(e,n){t[n]=t[n]||{},ae(t[n],"commonAnnotationSettings",null,t["chart:common:annotation"])}),ae(t.rangeSelector.chart,"commonSeriesSettings",t.chart),ae(t.rangeSelector.chart,"dataPrepareSettings",t.chart),re(t.treeMap.group.border,"color",null,t.gridColor),re(t.treeMap.tile.selectionStyle.border,"color",null,t.primaryTitleColor),re(t.treeMap.group.selectionStyle.border,"color",null,t.primaryTitleColor),re(t.map.legend,"backgroundColor",t),function(t){var e=t.map;Qt(["area","line","marker"],function(t,n){ae(e,"layer:"+n,null,e.layer)}),Qt(["dot","bubble","pie","image"],function(t,n){ae(e,"layer:marker:"+n,null,e["layer:marker"])})}(t),t}(t)))}function re(t,e,n,i){var o=n?n[e]:i;void 0!==o&&void 0===t[e]&&(t[e]=o)}function ae(t,e,n,i){var o=n?n[e]:i;void 0!==o&&(t[e]=Xt(!0,{},o,t[e]))}Object(c.e)(qt)&&Object(c.e)(Zt)&&!$t&&[].concat(Mt,Dt,At,Rt,Bt,Lt,Nt,zt,Gt).forEach(function(t){oe(t.theme,t.baseThemeName)});var se=ne,le=function(t){var e=++te;t._cache=e,ee[e]=t},ce=function(t){delete ee[t._cache]},ue=a.a,he=s.a;function de(t,e){var n=t;return e&&he(e.split("."),function(t,e){return n=n[e]}),n}var pe=st.a.inherit({ctor:function(t){this._themeSection=t.themeSection,this._fontFields=t.fontFields||[],le(this)},dispose:function(){return ce(this),this._callback=this._theme=this._font=null,this},setCallback:function(t){return this._callback=t,this},setTheme:function(t,e){return this._current=t,this._rtl=e,this.refresh()},refresh:function(){var t=this._current||{},e=se(t.name||t);return this._themeName=e.name,this._defaultPalette=e.defaultPalette,this._font=ue({},e.font,t.font),this._themeSection&&he(this._themeSection.split("."),function(t,n){e=ue(!0,{},e[n])}),this._theme=ue(!0,{},e,Object(c.o)(t)?{}:t),this._initializeTheme(),W(this._rtl,this._theme.rtlEnabled)&&ue(!0,this._theme,this._theme._rtl),this._callback(),this},theme:function(t){return de(this._theme,t)},themeName:function(){return this._themeName},createPalette:function(t,e){return _t(t,e,this._defaultPalette)},createDiscretePalette:function(t,e){return Ct(t,e,this._defaultPalette)},createGradientPalette:function(t){return function(t,e){var n=gt(t,{type:"gradientSet",themeDefault:e}),i=new d.a(n[0]),o=new d.a(n[1]);return{getColor:function(t){return 0<=t&&t<=1?i.blend(o,t).toHex():null}}}(t,this._defaultPalette)},getAccentColor:function(t){return function(t,e){return(t=gt(t,{themeDefault:e})).accentColor||t[0]}(t,this._defaultPalette)},_initializeTheme:function(){var t=this;he(t._fontFields||[],function(e,n){t._initializeFont(de(t._theme,n))})},_initializeFont:function(t){ue(t,this._font,ue({},t))}}),fe=n(78),me=!Object(rt.f)();function ge(){this.reset()}function ve(t,e){return t!==e?Object(a.a)({},t,e):Object(a.a)({},t)}function ye(t,e){return t!==e?t.concat(e):t.slice()}function _e(t){t._totalChangesOrder=t._optionChangesOrder.concat(t._layoutChangesOrder,t._customChangesOrder)}function be(t){var e=this.prototype,n=t.code;e["_change_"+n]=t.handler,t.isThemeDependent&&e._themeDependentChanges.push(n),t.option&&(e._optionChangesMap[t.option]=n),(t.isOptionChange?e._optionChangesOrder:e._customChangesOrder).push(n),_e(e)}function Ce(){var t=function t(){var e,n,i=t._chain.length;for(e=0;e<i;++e)n=t._chain[e].apply(this,arguments);return n};return t._chain=[],t.add=function(e){t._chain.push(e)},t.copy=function(e){t._chain=e._chain.slice()},t}function Oe(t){var e=this.prototype;e._plugins.push(t),t.fontFields&&e._fontFields.push.apply(e._fontFields,t.fontFields),t.members&&Object(a.a)(this.prototype,t.members),t.customize&&t.customize(this),t.extenders&&Object.keys(t.extenders).forEach(function(n){var i=t.extenders[n];!function(t,e,n){var i=t[e];i?i.add?(!1===Object.prototype.hasOwnProperty.call(t,e)&&(i=Ce()).copy(t[e]),i.add(n)):((i=Ce()).add(t[e]),i.add(n)):i=n,t[e]=i}(e,n,i)},this)}ge.prototype={constructor:ge,add:function(t){var e,n=t.length,i=this._flags;for(e=0;e<n;++e)i[t[e]]=1},has:function(t){return this._flags[t]>0},count:function(){return Object.keys(this._flags).length},reset:function(){this._flags={}}};var xe=me?function(t){var e=t.inherit;t.inherit=function(){var t=e.apply(this,arguments),n=t.prototype;return["_plugins","_eventsMap","_initialChanges","_themeDependentChanges","_optionChangesMap","_optionChangesOrder","_layoutChangesOrder","_customChangesOrder","_totalChangesOrder"].forEach(function(t){n[t]={}}),t.addPlugin=l.noop,t},t.addChange=l.noop,t.addPlugin=l.noop}:function(t){var e=t.inherit;t.inherit=function(){var t=this.prototype,n=t._plugins,i=t._fontFields,o=t._eventsMap,r=t._initialChanges,a=t._themeDependentChanges,s=t._optionChangesMap,l=t._partialOptionChangesMap,c=t._partialOptionChangesPath,u=t._optionChangesOrder,h=t._layoutChangesOrder,d=t._customChangesOrder,p=e.apply(this,arguments);return(t=p.prototype)._plugins=ye(n,t._plugins),t._fontFields=ye(i,t._fontFields),t._eventsMap=ve(o,t._eventsMap),t._initialChanges=ye(r,t._initialChanges),t._themeDependentChanges=ye(a,t._themeDependentChanges),t._optionChangesMap=ve(s,t._optionChangesMap),t._partialOptionChangesMap=ve(l,t._partialOptionChangesMap),t._partialOptionChangesPath=ve(c,t._partialOptionChangesPath),t._optionChangesOrder=ye(u,t._optionChangesOrder),t._layoutChangesOrder=ye(h,t._layoutChangesOrder),t._customChangesOrder=ye(d,t._customChangesOrder),_e(t),p.addPlugin=Oe,p},t.prototype._plugins=[],t.prototype._fontFields=[],t.addChange=be,t.addPlugin=Oe};var Se=n(128),we=n(38),Pe=Object(Se.a)(we.a.ERROR_MESSAGES,{E2001:"Invalid data source",E2002:"Axis type and data type are incompatible",E2003:'The "{0}" data source field contains data of unsupported type',E2004:'The "{0}" data source field is inconsistent',E2005:'The value field "{0}" is absent in the data source or all its values are negative',E2006:"A cycle is detected in provided data",E2007:'The value field "{0}" is absent in the data source',E2008:'The value field "{0}" must be a string',E2009:'The value field "{0}" must be a positive numeric value',E2101:"Unknown series type: {0}",E2102:"Ambiguity occurred between two value axes with the same name",E2103:'The "{0}" option is given an invalid value. Assign a function instead',E2104:"Invalid logarithm base",E2105:'Invalid value of a "{0}"',E2202:"Invalid {0} scale value",E2203:"The range you are trying to set is invalid",W2002:"The {0} series cannot be drawn because the {1} data field is missing",W2003:"Tick interval is too small",W2101:'The "{0}" pane does not exist; the last pane is used by default',W2102:'A value axis with the "{0}" name was created automatically',W2103:"The chart title was hidden due to the container size",W2104:"The legend was hidden due to the container size",W2105:'The title of the "{0}" axis was hidden due to the container size',W2106:'The labels of the "{0}" axis were hidden due to the container size',W2107:"The export menu was hidden due to the container size",W2108:"The browser does not support exporting images to {0} format.",W2301:"Invalid value range"}),ke=n(40),Ee=n(77),Te=n(7),Ie=Object(rt.d)();var je="hidden-for-export";function Me(t,e){return function(t){var e=!0;return-1===t.indexOf("xmlns:xlink")&&(t=t.replace("<svg",'<svg xmlns:xlink="http://www.w3.org/1999/xlink"')),(t=t.replace(/xmlns="[\s\S]*?"/gi,function(t){return e?(e=!1,t):""})).replace(/xmlns:NS1="[\s\S]*?"/gi,"").replace(/NS1:xmlns:xlink="([\s\S]*?)"/gi,'xmlns:xlink="$1"')}(function(t,e){var n=at.a.createElement("div"),i=t.cloneNode(!0);return e&&Object(ot.a)(i).css("backgroundColor",e),n.appendChild(i),n.innerHTML}(t,e).replace(/&quot;/gi,"&#34;").replace(/&amp;/gi,"&#38;").replace(/&apos;/gi,"&#39;").replace(/&lt;/gi,"&#60;").replace(/&gt;/gi,"&#62;").replace(/&nbsp;/gi,"&#160;").replace(/&shy;/gi,"&#173;"))}function De(t){return at.a.isNode(t)?t:(new Ie.DOMParser).parseFromString(t,"image/svg+xml").childNodes[0]}var Ae=n(74),Re=function(){},Be={easeOutCubic:function(t,e,n){return 1===t?n:(1-Math.pow(1-t,3))*(n-e)+ +e},linear:function(t,e,n){return 1===t?n:t*(n-e)+ +e}},Le={segments:function(t,e,n,i,o){var r,a,s,l,c=e.from,u=e.to,h=[];for(s=0;s<c.length;s++){if(a=[(r=c[s])[0]],r.length>1)for(l=1;l<r.length;l++)a.push(i(n,r[l],u[s][l]));h.push(a)}o.segments=e.end&&1===n?e.end:h,t.attr({segments:h})},arc:function(t,e,n,i){var o=e.from,r=e.to,a={};for(var s in o)a[s]=i(n,o[s],r[s]);t.attr(a)},transform:function(t,e,n,i,o){var r=e.from,a=e.to,s={};for(var l in r)s[l]=o[l]=i(n,r[l],a[l]);t.attr(s)},base:function(t,e,n,i,o,r){var a={};a[r]=o[r]=i(n,e.from,e.to),t.attr(a)},_:Re,complete:function(t,e){t.attr(e)}};function Ne(t){var e,n=this._animateStep;for(e in this._progress=this._calcProgress(t),this.params){(n[e]||n.base)(this.element,this.params[e],this._progress,this._easing,this._currentParams,e)}return this.options.step&&this.options.step(this._easing(this._progress,0,1),this._progress),1!==this._progress||this.stop()}function ze(t){return t-this._startTime>=this.delay&&(this.tick=Ne),!0}function Fe(t){return this._startTime=t,this.tick=this.delay?ze:Ne,!0}function He(t,e,n){this._progress=0,this.element=t,this.params=e,this.options=n,this.duration=n.partitionDuration?n.duration*n.partitionDuration:n.duration,this.delay=n.delay&&n.duration*n.delay||0,this._animateStep=n.animateStep||Le,this._easing=Be[n.easing]||Be.easeOutCubic,this._currentParams={},this.tick=Fe}function Ve(t){this._animationCount=0,this._timerId=null,this._animations={},this.element=t}He.prototype={_calcProgress:function(t){return Math.min(1,(t-this.delay-this._startTime)/this.duration)},stop:function(t){var e=this.options,n=this._animateStep;this.stop=this.tick=Re,n.complete&&n.complete(this.element,this._currentParams),e.complete&&!t&&e.complete()}},Ve.prototype={_loop:function(){var t,e=this,n=e._animations,i=0,o=(new Date).getTime(),r=e._endAnimation;for(t in n)n[t].tick(o)||delete n[t],i++;if(0===i)return e.stop(),void(e._endAnimationTimer=r&&setTimeout(function(){0===e._animationCount&&(r(),e._endAnimation=null)}));e._timerId=Ae.requestAnimationFrame.call(null,function(){e._loop()},e.element)},addAnimation:function(t){var e=this;e._animations[e._animationCount++]=t,clearTimeout(e._endAnimationTimer),e._timerId||(clearTimeout(e._startDelay),e._startDelay=setTimeout(function(){e._timerId=1,e._loop()},0))},animateElement:function(t,e,n){t&&e&&n&&(t.animation&&t.animation.stop(),this.addAnimation(t.animation=new He(t,e,n)))},onEndAnimation:function(t){this._animationCount?this._endAnimation=t:t()},dispose:function(){this.stop(),this.element=null},stop:function(){this._animations={},this._animationCount=0,Object(Ae.cancelAnimationFrame)(this._timerId),clearTimeout(this._startDelay),clearTimeout(this._endAnimationTimer),this._timerId=null},lock:function(){var t,e,n,i=this._animations;for(t in i)e=i[t].options.unstoppable,n=n||e,e||(i[t].stop(!0),delete i[t]);!n&&this.stop()}};var Ue=Object(rt.d)(),We=Math.max,Ke=Math.min,$e=Math.floor,Ge=Math.round,qe=Math.sin,Ze=Math.cos,Ye=Math.abs,Xe=Math.PI,Qe=Xe/180,Je={"column-count":!0,"fill-opacity":!0,"flex-grow":!0,"flex-shrink":!0,"font-weight":!0,"line-height":!0,opacity:!0,order:!0,orphans:!0,widows:!0,"z-index":!0,zoom:!0},tn="text",en="stroke",nn="stroke-width",on="stroke-opacity",rn="font-size",an="font-style",sn="font-weight",ln="text-decoration",cn="textsAlignment",un="none",hn=12,dn="...",pn=Object.create?function(t){return Object.create(t)}:function(t){var e=function(){};return e.prototype=t,new e},fn={scaleX:1,scaleY:1,"pointer-events":null},mn=Object(Ee.a)(function(){var t=at.a.createElement("div");return t.style.left="-9999px",t.style.position="absolute",{backupContainer:t,backupCounter:0}});var gn=function(){var t=1;return function(){return"DevExpress_"+t++}}();function vn(t){return t&&"string"!==typeof t}function yn(t){return at.a.createElementNS("http://www.w3.org/2000/svg",t)}function _n(t,e){return null!==t?"url("+(e?Ue.location.href.split("#")[0]:"")+"#"+t+")":t}function bn(t,e){var n;for(n in e)t[n]=e[n];return t}function Cn(t,e){return t=t.toString().split("e"),+((t=(t=Ge(+(t[0]+"e"+(t[1]?+t[1]+e:e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]-e:-e))}var On={full:un,lefttop:"xMinYMin",leftcenter:"xMinYMid",leftbottom:"xMinYMax",centertop:"xMidYMin",center:"xMidYMid",centerbottom:"xMidYMax",righttop:"xMaxYMin",rightcenter:"xMaxYMid",rightbottom:"xMaxYMax"};var xn=function(t,e,n,i,o,r,a,s,l,c){return["M",(t+i*o).toFixed(5),(e-i*r).toFixed(5),"A",i.toFixed(5),i.toFixed(5),0,c,0,(t+i*a).toFixed(5),(e-i*s).toFixed(5),l?"M":"L",(t+n*a).toFixed(5),(e-n*s).toFixed(5),"A",n.toFixed(5),n.toFixed(5),0,c,1,(t+n*o).toFixed(5),(e-n*r).toFixed(5),"Z"].join(" ")};function Sn(t,e){var n=[["M",0,0]];switch(e){case"line":n=wn(t);break;case"area":n=wn(t,!0);break;case"bezier":n=Pn(t);break;case"bezierarea":n=Pn(t,!0)}return n}function wn(t,e){return kn(t,En,e)}function Pn(t,e){return kn(t,Tn,e)}function kn(t,e,n){var i,o,r,a=[];if(null!==(i=t[0])&&void 0!==i&&i.length)for(o=0,r=t.length;o<r;++o)e(t[o],n,a);else e(t,n,a);return a}function En(t,e,n){var i=0,o=n.length,r=o,a=(t||[]).length;if(a){if(void 0!==t[0].x)for(;i<a;)n[r++]=["L",t[i].x,t[i++].y];else for(;i<a;)n[r++]=["L",t[i++],t[i++]];n[o][0]="M"}else n[r]=["M",0,0];return e&&n.push(["Z"]),n}function Tn(t,e,n){var i,o=n.length,r=(t||[]).length;if(r)if(void 0!==t[0].x)for(n[o++]=["M",t[0].x,t[0].y],i=1;i<r;)n[o++]=["C",t[i].x,t[i++].y,t[i].x,t[i++].y,t[i].x,t[i++].y];else for(n[o++]=["M",t[0],t[1]],i=2;i<r;)n[o++]=["C",t[i++],t[i++],t[i++],t[i++],t[i++],t[i++]];else n[o]=["M",0,0];return e&&n.push(["Z"]),n}function In(t,e){var n=t[t.length-2],i=t[t.length-1];switch(e){case"line":case"area":t[0]="L";break;case"bezier":case"bezierarea":t[0]="C",t[1]=t[3]=t[5]=n,t[2]=t[4]=t[6]=i}}function jn(t,e,n){var i=t[t.length-1].slice(),o=t.length;for(In(i,n);o<e.length;o++)t[o]=i.slice(0)}function Mn(t,e,n){var i,o,r,a,s=t.length,l=e.length;if((s-1)%2===0&&(l-1)%2===0){i=(s-1)/2-1,r=(o=t.slice(0,i+1))[o.length-1].slice(0),a=t.slice(i+1)[0].slice(0),In(r,n),In(a,n);for(var c=i;c<(l-1)/2-1;c++)t.splice(c+1,0,r),t.splice(c+3,0,a)}}function Dn(t,e){var n,i,o=t._styles;for(n in e=e||{})i=e[n],Object(c.d)(i)&&(i+="number"!==typeof i||Je[n]?"":"px",o[n]=""!==i?i:null);for(n in o)(i=o[n])?t.element.style[n]=i:null===i&&(t.element.style[n]="");return t}function An(t,e){var n=t.element,i=t.attr(e);i&&-1!==i.indexOf("DevExpress")&&(n.removeAttribute(e),n.setAttribute(e,_n(i,t.renderer.pathModified)))}function Rn(t,e){e=e||{};var n,i,o,r,a,s,l=t._settings,c={},u=t.element,h=t.renderer,d=h.rtl;if(!vn(e))return e in l?l[e]:e in fn?fn[e]:0;for(n in bn(c,e),c)if(void 0!==(i=c[n])){if(l[n]=i,"align"===n)n="text-anchor",i={left:d?"end":"start",center:"middle",right:d?"start":"end"}[i]||null;else{if("dashStyle"===n){r=!0;continue}if(n===nn)r=!0;else if(!i||"fill"!==n&&"clip-path"!==n&&"filter"!==n||0!==i.indexOf("DevExpress")){if(/^(translate(X|Y)|rotate[XY]?|scale(X|Y)|sharp|sharpDirection)$/i.test(n)){o=!0;continue}/^(x|y|d)$/i.test(n)&&(o=!0)}else t._addFixIRICallback(),i=_n(i,h.pathModified)}null===i?u.removeAttribute(n):u.setAttribute(n,i)}if(r&&"dashStyle"in l)if(i=l.dashStyle,a=("_originalSW"in t?t._originalSW:l[nn])||1,n="stroke-dasharray",""===(i=null===i?"":F(i))||"solid"===i||i===un)t.element.removeAttribute(n);else{for(s=(i=i.replace(/longdash/g,"8,3,").replace(/dash/g,"4,3,").replace(/dot/g,"1,3,").replace(/,$/,"").split(",")).length;s--;)i[s]=parseInt(i[s])*a;t.element.setAttribute(n,i.join(","))}return o&&t._applyTransformation(),t}function Bn(t,e,n){var i,o,r;for(i=0,o=t.length;i<o;++i)(r=t[i])[n]=yn("tspan"),r[n].appendChild(at.a.createTextNode(r.value)),r.style&&Dn({element:r[n],_styles:{}},r.style),r.className&&r[n].setAttribute("class",r.className),e.appendChild(r[n])}function Ln(){this._hasEllipsis&&this.attr({text:this._settings.text})}function Nn(t){var e;return t&&((e=t.cloneNode()).removeAttribute("y"),e.removeAttribute("x")),e||t}function zn(t){for(var e=at.a.querySelectorAll(t,"title"),n=0;n<e.length;n++)t.removeChild(e[n]);return e}function Fn(t,e,n,i){var o,r;if(n<=e&&i>e)for(o=1,r=t.value.length;o<=r;++o)if(n+t.tspan.getSubStringLength(0,o)>e)return o-1}function Hn(t){return t.value.length?t.tspan.getSubStringLength(0,t.value.length):0}function Vn(t,e){return e.hideOverflowEllipsis&&0===t?"":dn}function Un(t,e,n){var i=Vn(e,n);if(t.value.length&&t.tspan.parentNode)for(var o=t.value.length-1;o>=1;o--){if(t.startBox+t.tspan.getSubStringLength(0,o)<e){Wn(t,o,i);break}1===o&&Wn(t,0,i)}}function Wn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dn,i=t.value.substr(0,e)+n;t.value=t.tspan.textContent=i,t.stroke&&(t.stroke.textContent=i),n===dn&&(t.hasEllipsis=!0)}function Kn(t){t.tspan.parentNode&&t.tspan.parentNode.removeChild(t.tspan),t.stroke&&t.stroke.parentNode&&t.stroke.parentNode.removeChild(t.stroke)}function $n(t,e,n){t.tspan.setAttribute(e,n),t.stroke&&t.stroke.setAttribute(e,n)}function Gn(t,e){return t.inherits?Zn(t.height,e):t.height||e}function qn(t){if(t._texts){var e,n,i=t._texts,o=t._settings.x,r=t._getLineHeight(),a=i[0];for($n(a,"x",o),$n(a,"y",t._settings.y),e=1,n=i.length;e<n;++e){if(a=i[e],parseFloat(a.height)>=0)$n(a,"x",o),$n(a,"dy",Gn(a,r))}}}function Zn(t,e){var n=parseFloat(t),i=parseFloat(e),o=n||hn,r=i||hn;return o>r?isNaN(n)?o:t:isNaN(i)?r:e}function Yn(t,e,n,i){var o,r;n=n||{};var a=t.renderer,s=t._settings,l={},c={translateX:0,translateY:0,scaleX:1,scaleY:1,rotate:0,rotateX:0,rotateY:0};if(i&&(n.complete=i),a.animationEnabled()){for(o in e)r=e[o],/^(translate(X|Y)|rotate[XY]?|scale(X|Y))$/i.test(o)?(l.transform=l.transform||{from:{},to:{}},l.transform.from[o]=o in s?Number(s[o].toFixed(3)):c[o],l.transform.to[o]=r):l[o]="arc"===o||"segments"===o?r:{from:o in s?s[o]:parseFloat(t.element.getAttribute(o)||0),to:r};a.animateElement(t,l,bn(bn({},a._animation),n))}else n.step&&n.step.call(t,1,1),n.complete&&n.complete.call(t),t.attr(e);return t}function Xn(t,e){var n={is:!1,name:e.name||e,after:e.after};return t?n.to=t:n.virtual=!0,n}var Qn=function(t,e,n){this.renderer=t,this.element=yn(e),this._settings={},this._styles={},"path"===e&&(this.type=n||"line")};function Jn(t){si.remove(t)}Qn.prototype={constructor:Qn,_getJQElement:function(){return this._$element||(this._$element=Object(ot.a)(this.element))},_addFixIRICallback:function(){var t=this,e=function(){An(t,"fill"),An(t,"clip-path"),An(t,"filter")};t.element._fixFuncIri=e,e.renderer=t.renderer,si.add(e),t._addFixIRICallback=function(){}},_clearChildrenFuncIri:function(){!function t(e){var n;for(n=0;n<e.childNodes.length;n++)Jn(e.childNodes[n]._fixFuncIri),t(e.childNodes[n])}(this.element)},dispose:function(){return Jn(this.element._fixFuncIri),this._clearChildrenFuncIri(),this._getJQElement().remove(),this},append:function(t){return(t||this.renderer.root).element.appendChild(this.element),this},remove:function(){var t=this.element;return t.parentNode&&t.parentNode.removeChild(t),this},enableLinks:function(){return this._links=[],this},virtualLink:function(t){return ri({_link:Xn(null,t)},this),this},linkAfter:function(t){return this._linkAfter=t,this},linkOn:function(t,e){return this._link=Xn(t,e),ri(this,t),this},linkOff:function(){return function(t){var e,n=t._link.to._links;for(e=0;n[e]!==t;++e);n.splice(e,1),oi(n,e)}(this),this._link=null,this},linkAppend:function(){var t,e,n=this._link,i=n.to._links;for(t=n.i+1;(e=i[t])&&!e._link.is;++t);return this._insert(n.to,e),n.is=!0,this},_insert:function(t,e){t.element.insertBefore(this.element,e?e.element:null)},linkRemove:function(){return this.remove(),this._link.is=!1,this},clear:function(){return this._clearChildrenFuncIri(),this._getJQElement().empty(),this},toBackground:function(){var t=this.element,e=t.parentNode;return e&&e.insertBefore(t,e.firstChild),this},toForeground:function(){var t=this.element,e=t.parentNode;return e&&e.appendChild(t),this},attr:function(t){return Rn(this,t)},smartAttr:function(t){return this.attr(function(t,e){return e.hatching&&"none"!==F(e.hatching.direction)?((e=bn({},e)).fill=t._hatching=t.renderer.lockHatching(e.fill,e.hatching,t._hatching),delete e.hatching):t._hatching&&(t.renderer.releaseHatching(t._hatching),t._hatching=null),e}(this,t))},css:function(t){return Dn(this,t)},animate:function(t,e,n){return Yn(this,t,e,n)},sharp:function(t,e){return this.attr({sharp:t||!0,sharpDirection:e})},_applyTransformation:function(){var t,e,n=this._settings,i=[],o=n.sharp,r=n.sharpDirection||1,a=n[nn]%2,s=!a||"h"!==o&&!0!==o?0:.5*r,l=!a||"v"!==o&&!0!==o?0:.5*r;i.push("translate("+((n.translateX||0)+s)+","+((n.translateY||0)+l)+")"),n.rotate&&(t="rotateX"in n?n.rotateX:n.x,e="rotateY"in n?n.rotateY:n.y,i.push("rotate("+n.rotate+","+(t||0)+","+(e||0)+")"));var u=Object(c.d)(n.scaleX),h=Object(c.d)(n.scaleY);(u||h)&&i.push("scale("+(u?n.scaleX:1)+","+(h?n.scaleY:1)+")"),i.length&&this.element.setAttribute("transform",i.join(" "))},move:function(t,e,n,i){var o={};return Object(c.d)(t)&&(o.translateX=t),Object(c.d)(e)&&(o.translateY=e),n?this.animate(o,i):this.attr(o),this},rotate:function(t,e,n,i,o){var r={rotate:t||0};return Object(c.d)(e)&&(r.rotateX=e),Object(c.d)(n)&&(r.rotateY=n),i?this.animate(r,o):this.attr(r),this},_getElementBBox:function(){var t,e=this.element;try{t=e.getBBox&&e.getBBox()}catch(n){}return t||{x:0,y:0,width:e.offsetWidth||0,height:e.offsetHeight||0}},getBBox:function(){var t=this._settings,e=this._getElementBBox();return e=t.rotate?U(e,[("rotateX"in t?t.rotateX:t.x)||0,("rotateY"in t?t.rotateY:t.y)||0],-t.rotate):V(e)},markup:function(){return Me(this.element)},getOffset:function(){return this._getJQElement().offset()},stopAnimation:function(t){var e=this.animation;return e&&e.stop(t),this},setTitle:function(t){var e=yn("title");e.textContent=t||"",this.element.appendChild(e)},removeTitle:function(){zn(this.element)},data:function(t,e){var n,i=this.element;if(void 0!==e)i[t]=e;else for(n in t)i[n]=t[n];return this},on:function(){var t=[this._getJQElement()];return t.push.apply(t,arguments),Te.a.on.apply(Te.a,t),this},off:function(){var t=[this._getJQElement()];return t.push.apply(t,arguments),Te.a.off.apply(Te.a,t),this},trigger:function(){var t=[this._getJQElement()];return t.push.apply(t,arguments),Te.a.trigger.apply(Te.a,t),this}};var ti=function(t,e){Qn.call(this,t,"path",e)};bn(ti.prototype=pn(Qn.prototype),{constructor:ti,attr:function(t){var e;return vn(t)&&(e=(t=bn({},t)).segments,"points"in t&&(e=Sn(t.points,this.type),delete t.points),e&&(t.d=function(t){var e,n,i,o,r=[],a=0,s=t.length;for(e=0;e<s;++e)for(i=0,o=(n=t[e]).length;i<o;++i)r[a++]=n[i];return r.join(" ")}(e),this.segments=e,delete t.segments)),Rn(this,t)},animate:function(t,e,n){var i,o,r=this.segments||[];return this.renderer.animationEnabled()&&"points"in t&&(o=function(t,e,n){var i,o,r=t.length,a=e.length,s=-1!==n.indexOf("area")?Mn:jn;if(0===r)for(i=0;i<a;i++)t.push(e[i].slice(0));else r<a?s(t,e,n):r>a&&(o=e.slice(0),s(e,t,n));return o}(r,i=Sn(t.points,this.type),this.type),t.segments={from:r,to:i,end:o},delete t.points),Yn(this,t,e,n)}});var ei=function(t){Qn.call(this,t,"path","arc")};bn(ei.prototype=pn(Qn.prototype),{constructor:ei,attr:function(t){var e,n,i,o,r,a,s=this._settings;return vn(t)&&("x"in(t=bn({},t))||"y"in t||"innerRadius"in t||"outerRadius"in t||"startAngle"in t||"endAngle"in t)&&(s.x=e="x"in t?t.x:s.x,delete t.x,s.y=n="y"in t?t.y:s.y,delete t.y,s.innerRadius=i="innerRadius"in t?t.innerRadius:s.innerRadius,delete t.innerRadius,s.outerRadius=o="outerRadius"in t?t.outerRadius:s.outerRadius,delete t.outerRadius,s.startAngle=r="startAngle"in t?t.startAngle:s.startAngle,delete t.startAngle,s.endAngle=a="endAngle"in t?t.endAngle:s.endAngle,delete t.endAngle,t.d=xn.apply(null,function(t,e,n,i,o,r){var a,s=!0,l=Cn(r,3)-Cn(o,3);return l&&(Ye(l)%360===0&&(o=0,r=360,a=!0,r-=.01),o>360&&(o%=360),r>360&&(r%=360),o>r&&(o-=360),s=!1),o*=Qe,r*=Qe,[t,e,Ke(i,n),We(i,n),Ze(o),qe(o),Ze(r),qe(r),a,$e(Ye(r-o)/Xe)%2?"1":"0",s]}(e,n,i,o,r,a))),Rn(this,t)},animate:function(t,e,n){var i=this._settings,o={from:{},to:{}};return this.renderer.animationEnabled()&&("x"in t||"y"in t||"innerRadius"in t||"outerRadius"in t||"startAngle"in t||"endAngle"in t)&&(o.from.x=i.x||0,o.from.y=i.y||0,o.from.innerRadius=i.innerRadius||0,o.from.outerRadius=i.outerRadius||0,o.from.startAngle=i.startAngle||0,o.from.endAngle=i.endAngle||0,o.to.x="x"in t?t.x:i.x,delete t.x,o.to.y="y"in t?t.y:i.y,delete t.y,o.to.innerRadius="innerRadius"in t?t.innerRadius:i.innerRadius,delete t.innerRadius,o.to.outerRadius="outerRadius"in t?t.outerRadius:i.outerRadius,delete t.outerRadius,o.to.startAngle="startAngle"in t?t.startAngle:i.startAngle,delete t.startAngle,o.to.endAngle="endAngle"in t?t.endAngle:i.endAngle,delete t.endAngle,t.arc=o),Yn(this,t,e,n)}});var ni=function(t){Qn.call(this,t,"rect")};bn(ni.prototype=pn(Qn.prototype),{constructor:ni,attr:function(t){var e,n,i,o,r,a,s;return vn(t)&&(void 0===(t=bn({},t)).x&&void 0===t.y&&void 0===t.width&&void 0===t.height&&void 0===t[nn]||(e=void 0!==t.x?this._originalX=t.x:this._originalX||0,n=void 0!==t.y?this._originalY=t.y:this._originalY||0,i=void 0!==t.width?this._originalWidth=t.width:this._originalWidth||0,o=void 0!==t.height?this._originalHeight=t.height:this._originalHeight||0,s=((r=void 0!==t[nn]?this._originalSW=t[nn]:this._originalSW)||0)<(a=~~((i<o?i:o)/2))?r||0:a,t.x=e+s/2,t.y=n+s/2,t.width=i-s,t.height=o-s,((r||0)!==s||0!==s||void 0!==r)&&(t[nn]=s)),"sharp"in t&&delete t.sharp),Rn(this,t)}});var ii=function(t){Qn.call(this,t,"text"),this.css({"white-space":"pre"})};function oi(t,e){var n,i;for(n=e;i=t[n];++n)i._link.i=n}function ri(t,e){var n,i,o=e._links,r=t._link.after=t._link.after||e._linkAfter;if(r){for(n=0;(i=o[n])&&i._link.name!==r;++n);if(i)for(++n;(i=o[n])&&i._link.after===r;++n);}else n=o.length;o.splice(n,0,t),oi(o,n)}function ai(t){this.root=this._createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",fill:un,stroke:un,"stroke-width":0}).attr({class:t.cssClass}).css({"line-height":"normal","-ms-user-select":un,"-moz-user-select":un,"-webkit-user-select":un,"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)",display:"block",overflow:"hidden"}),this._init(),this.pathModified=!!t.pathModified,this._$container=Object(ot.a)(t.container),this.root.append({element:t.container}),this._locker=0,this._backed=!1}bn(ii.prototype=pn(Qn.prototype),{constructor:ii,attr:function(t){var e;if(!vn(t))return Rn(this,t);t=bn({},t);var n=this._settings,i=Object(c.d)(n[en])&&Object(c.d)(n[nn]);void 0!==t[tn]&&(n[tn]=t[tn],delete t[tn],e=!0),void 0!==t[en]&&(n[en]=t[en],delete t[en]),void 0!==t[nn]&&(n[nn]=t[nn],delete t[nn]),void 0!==t[on]&&(n[on]=t[on],delete t[on]),void 0!==t[cn]&&(function(t,e){if(t._texts&&"center"!==e)for(var n=t._texts,i="left"===e?-1:1,o=Math.max.apply(Math,n.map(function(t){return Hn(t)})),r=0;r<n.length;r++){var a=n[r],s=Hn(a);0!==o&&o!==s&&$n(a,"dx",i*Ge((o-s)/2*10)/10)}}(this,t[cn]),delete t[cn]);var o=Object(c.d)(n[en])&&Object(c.d)(n[nn]);return Rn(this,t),(e=e||o!==i&&n[tn])&&(function(t,e,n){var i,o;t._texts=null,t.clear(),null!==e&&(e=""+e,t.renderer.encodeHtml||!/<[a-z][\s\S]*>/i.test(e)&&-1===e.indexOf("&")?/\n/g.test(e)?i=function(t){for(var e=t.replace(/\r/g,"").split(/\n/g),n=0,i=[];n<e.length;n++)i.push({value:e[n].trim(),height:0,line:n});return i}(e):n&&(i=[{value:e.trim(),height:0}]):(o=function(t){var e=/(style|class)\s*=\s*(["'])(?:(?!\2).)*\2\s?/gi;return t.replace(/(?:(<[a-z0-9]+\s*))([\s\S]*?)(>|\/>)/gi,function(t,n,i,o){return i=(i&&i.match(e)||[]).map(function(t){return t}).join(" "),n+i+o})}(e),i=function(t){var e=[],n=at.a.createElement("div");return n.innerHTML=t.replace(/\r/g,"").replace(/\n/g,"<br/>"),function t(e,n,i,o,r){var a,s,l,c,u;if(void 0!==i.wholeText)e.push({value:i.wholeText,style:o,className:r,line:n,height:o[rn]||0});else if("BR"===i.tagName)++n;else if(at.a.isElementNode(i)){switch(bn(a={},o),i.tagName){case"B":case"STRONG":a[sn]="bold";break;case"I":case"EM":a[an]="italic";break;case"U":a[ln]="underline"}for((s=i.style).color&&(a.fill=s.color),s.fontSize&&(a[rn]=s.fontSize),s.fontStyle&&(a[an]=s.fontStyle),s.fontWeight&&(a[sn]=s.fontWeight),s.textDecoration&&(a[ln]=s.textDecoration),l=0,u=i.childNodes,c=u.length;l<c;++l)n=t(e,n,u[l],a,i.className||r)}return n}(e,0,n,{},""),function(t){var e,n,i,o=t[0];for(e=1,n=t.length;e<n;++e)(i=t[e]).line===o.line?(o.height=Zn(o.height,i.height),o.inherits=o.inherits||0===parseFloat(i.height),i.height=NaN):o=i}(e),e}(o)),i?i.length&&(t._texts=i,n&&Bn(i,t.element,en),Bn(i,t.element,"tspan")):t.element.appendChild(at.a.createTextNode(e)))}(this,n.text,o),this._hasEllipsis=!1),(e||void 0!==t.x||void 0!==t.y)&&qn(this),o&&function(t){if(t._texts){var e,n,i,o=t._texts,r=t._settings[en],a=t._settings[nn],s=t._settings[on]||1;for(n=0,i=o.length;n<i;++n)(e=o[n].stroke).setAttribute(en,r),e.setAttribute(nn,a),e.setAttribute(on,s),e.setAttribute("stroke-linejoin","round")}}(this),this},css:function(t){return Dn(this,t=t||{}),rn in t&&qn(this),this},applyEllipsis:function(t){var e,n,i,o,r,a,s,l=!1;Ln.call(this);var u=this.renderer.text(dn).attr(this._styles).append(this.renderer.root),h=u.getBBox().width;if(this._getElementBBox().width>t)for(t-h<0?t=0:t-=h,e=function(t,e,n){var i,o,r,a,s,l=[];if(e)for(i=0,o=e.length;i<o;++i)r=e[i],l[r.line]?(r.startBox=a,l[r.line].parts.push(r),l[r.line].commonLength+=r.value.length):(r.startBox=a=0,l.push({commonLength:r.value.length,parts:[r]})),s=a+r.tspan.getSubStringLength(0,r.value.length),r.endIndex=Fn(r,n,a,s),a=s;else(r={value:t.textContent,tspan:t}).startBox=a=0,s=a+Hn(r),r.endIndex=Fn(r,n,a,s),l=[{commonLength:t.textContent.length,parts:[r]}];return l}(this.element,this._texts,t),n=0,i=e.length;n<i;++n)if(o=e[n].parts,1!==e[n].commonLength)for(r=0,a=o.length;r<a;++r)s=o[r],Object(c.d)(s.endIndex)?(Wn(s,s.endIndex),l=!0):s.startBox>t&&Kn(s);return u.remove(),this._hasEllipsis=l,l},setMaxSize:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=[],o=!1,r=!1,a=t;Ln.call(this);var s=function(t){var e=zn(t);return function(){for(var n=0;n<e.length;n++)t.appendChild(e[n])}}(this.element),l=this.renderer.text(dn).attr(this._styles).append(this.renderer.root),u=l.getBBox().width,h=this._getElementBBox(),d=h.width,p=h.height;return(d||p)&&(d>t||e&&p>e)&&(t-u<0?a=0:a-=u,i=function(t,e,n,i,o){var r=n.textOverflow;if(!isFinite(i)||0===Number(i)||"none"===r)return t;var a=t.reduce(function(t,a,s,l){var c=Object(ke.a)(t,2),u=c[0],h=c[1],d=function(t,e){return t.parts.reduce(function(t,n){return We(t,Gn(n,e))},0)}(a,o);if((h+=d)<i)u.push(a);else if(a.parts.forEach(function(t){Kn(t)}),"ellipsis"===r){var p=l[s-1];if(p){var f=p.parts[p.parts.length-1];f.hasEllipsis||(0===e||f.endBox<e?Wn(f,f.value.length,Vn(e,n)):Un(f,e,n))}}return[u,h]},[[],0]);return"hide"===r&&a[1]>i?(a[0].forEach(function(t){t.parts.forEach(function(t){Kn(t)})}),[]):a[0]}(i=function(t,e,n,i,o){if(!e){var r=t.textContent,a={value:r,height:0,line:0};t.textContent="",Bn([a],t,"tspan"),e=[a]}return e.reduce(function(t,e){var r=Object(ke.a)(t,5),a=r[0],s=r[1],l=r[2],u=r[3],h=r[4],d=a[a.length-1];if(u)return[a,s,l,u];if(d&&e.line===h){if(e.startBox=s,s>i&&"none"===o.wordWrap&&"ellipsis"===o.textOverflow)return Kn(e),[a,s,l,u,h];d.parts.push(e),d.commonLength+=e.value.length}else e.startBox=s=0,a.push({commonLength:e.value.length,parts:[e]});if(e.endBox=l=s+Hn(e),s=l,Object(c.d)(n)&&l>n){var p=function t(e,n,i,o,r){var a,s=e.value;"none"!==o.wordWrap&&(a="normal"===o.wordWrap?function(t,e){for(var n=t.startBox>0?[0]:[],i=t.value.split("").reduce(function(t,e,n){return" "===e&&t.push(n),t},n),o=0;void 0!==i[o+1]&&t.startBox+t.tspan.getSubStringLength(0,i[o+1])<e;)o++;return i[o]}(e,n):function(t,e){for(var n=0;n<t.value.length-1;n++)if(t.startBox+t.tspan.getSubStringLength(0,n+1)>e)return n}(e,n));var l,c=[];if(isFinite(a)&&(0!==r||0!==a)){Wn(e,a,"");var u=" "===s[a]?1:0,h=s.slice(a+u);if(h.length){var d=Nn(e.tspan);if(d.textContent=h,e.tspan.parentNode.appendChild(d),(l=bn(bn({},e),{value:h,startBox:0,height:0,tspan:d,stroke:Nn(e.stroke),endBox:d.getSubStringLength(0,h.length)})).stroke&&(l.stroke.textContent=h),l.endBox>n&&!(c=t(l,n,i,o,a)).length)return[]}}if(e.value.length){if("ellipsis"===o.textOverflow&&e.tspan.getSubStringLength(0,e.value.length)>n&&Un(e,i,o),"hide"===o.textOverflow&&e.tspan.getSubStringLength(0,e.value.length)>n)return[]}else e.tspan.parentNode.removeChild(e.tspan);var p=[];return l&&p.push(l),[{commonLength:s.length,parts:p}].concat(c)}(e,n,i,o);p.length?a=a.concat(p.filter(function(t){return t.parts.length>0})):(a=[],u=!0)}return[a,s,l,u,e.line]},[[],0,0,!1,0])[0]}(this.element,this._texts,t,a,n),a,n,e,parseFloat(this._getLineHeight())),this._texts=i.reduce(function(t,e){return t.concat(e.parts)},[]).filter(function(t){return""!==t.value}).map(function(t){return t.stroke&&t.tspan.parentNode.appendChild(t.stroke),t}).map(function(t){return t.tspan.parentNode.appendChild(t.tspan),t}),!this._texts.length&&(this._texts=null),o=!0,this._texts?qn(this):(this.element.textContent="",r=!0)),l.remove(),this._hasEllipsis=o,s(),{rowCount:i.length,textChanged:o,textIsEmpty:r}},restoreText:Ln,_getLineHeight:function(){return isNaN(parseFloat(this._styles[rn]))?hn:this._styles[rn]}}),ai.prototype={constructor:ai,_init:function(){this._defs=this._createElement("defs").append(this.root),this._animationController=new Ve(this.root.element),this._animation={enabled:!0,duration:1e3,easing:"easeOutCubic"}},setOptions:function(t){return this.rtl=!!t.rtl,this.encodeHtml=!!t.encodeHtml,this.updateAnimationOptions(t.animation||{}),this.root.attr({direction:this.rtl?"rtl":"ltr"}),this},_createElement:function(t,e,n){var i=new Qn(this,t,n);return e&&i.attr(e),i},lock:function(){var t;return 0===this._locker&&(this._backed=!this._$container.is(":visible"),this._backed&&(t=this.root,0===mn().backupCounter&&at.a.getBody().appendChild(mn().backupContainer),++mn().backupCounter,t.append({element:mn().backupContainer}))),++this._locker,this},unlock:function(){var t,e;return--this._locker,0===this._locker&&(this._backed&&(t=this.root,e=this._$container[0],t.append({element:e}),--mn().backupCounter,0===mn().backupCounter&&at.a.getBody().removeChild(mn().backupContainer)),this._backed=!1),this},resize:function(t,e){return t>=0&&e>=0&&this.root.attr({width:t,height:e}),this},dispose:function(){var t;for(t in this.root.dispose(),this._defs.dispose(),this._animationController.dispose(),si.removeByRenderer(this),this)this[t]=null;return this},animationEnabled:function(){return!!this._animation.enabled},updateAnimationOptions:function(t){return bn(this._animation,t),this},stopAllAnimations:function(t){return this._animationController[t?"lock":"stop"](),this},animateElement:function(t,e,n){return this._animationController.animateElement(t,e,n),this},svg:function(){return this.root.markup()},getRootOffset:function(){return this.root.getOffset()},onEndAnimation:function(t){this._animationController.onEndAnimation(t)},rect:function(t,e,n,i){return new ni(this).attr({x:t||0,y:e||0,width:n||0,height:i||0})},simpleRect:function(){return this._createElement("rect")},circle:function(t,e,n){return this._createElement("circle",{cx:t||0,cy:e||0,r:n||0})},g:function(){return this._createElement("g")},image:function(t,e,n,i,o,r){var a=this._createElement("image",{x:t||0,y:e||0,width:n||0,height:i||0,preserveAspectRatio:On[F(r)]||un});return a.element.setAttributeNS("http://www.w3.org/1999/xlink","href",o||""),a},path:function(t,e){return new ti(this,e).attr({points:t||[]})},arc:function(t,e,n,i,o,r){return new ei(this).attr({x:t||0,y:e||0,innerRadius:n||0,outerRadius:i||0,startAngle:o||0,endAngle:r||0})},text:function(t,e,n){return new ii(this).attr({text:t,x:e||0,y:n||0})},linearGradient:function(t){var e=gn(),n=this,i=n._createElement("linearGradient",{id:e}).append(n._defs);return i.id=e,t.forEach(function(t){n._createElement("stop",{offset:t.offset,"stop-color":t["stop-color"]}).append(i)}),i},pattern:function(t,e,n){var i=(e=e||{}).step||6,o=i/2,r=1.5*i,a=n||gn(),s="right"===F(e.direction)?"M "+o+" "+-o+" L "+-o+" "+o+" M 0 "+i+" L "+i+" 0 M "+r+" "+o+" L "+o+" "+r:"M 0 0 L "+i+" "+i+" M "+-o+" "+o+" L "+o+" "+r+" M "+o+" "+-o+" L "+r+" "+o,l=this._createElement("pattern",{id:a,width:i,height:i,patternUnits:"userSpaceOnUse"}).append(this._defs);return l.id=a,this.rect(0,0,i,i).attr({fill:t,opacity:e.opacity}).append(l),new ti(this).attr({d:s,"stroke-width":e.width||1,stroke:t}).append(l),l},_getPointsWithYOffset:function(t,e){return t.map(function(t,n){return n%2!==0?t+e:t})},clipShape:function(t,e){var n=gn(),i=this._createElement("clipPath",{id:n}).append(this._defs),o=t.apply(this,e).append(i);return o.id=n,o.remove=function(){throw"Not implemented"},o.dispose=function(){return i.dispose(),i=null,this},o},clipRect:function(t,e,n,i){return this.clipShape(this.rect,arguments)},clipCircle:function(t,e,n){return this.clipShape(this.circle,arguments)},shadowFilter:function(t,e,n,i,o,r,a,s,l){var c=gn(),u=this._createElement("filter",{id:c,x:t||0,y:e||0,width:n||0,height:i||0}).append(this._defs),h=this._createElement("feGaussianBlur",{in:"SourceGraphic",result:"gaussianBlurResult",stdDeviation:a||0}).append(u),d=this._createElement("feOffset",{in:"gaussianBlurResult",result:"offsetResult",dx:o||0,dy:r||0}).append(u),p=this._createElement("feFlood",{result:"floodResult","flood-color":s||"","flood-opacity":l}).append(u),f=this._createElement("feComposite",{in:"floodResult",in2:"offsetResult",operator:"in",result:"compositeResult"}).append(u),m=this._createElement("feComposite",{in:"SourceGraphic",in2:"compositeResult",operator:"over"}).append(u);return u.id=c,u.gaussianBlur=h,u.offset=d,u.flood=p,u.composite=f,u.finalComposite=m,u.attr=function(t){var e={},n={},i={};return"x"in t&&(e.x=t.x),"y"in t&&(e.y=t.y),"width"in t&&(e.width=t.width),"height"in t&&(e.height=t.height),Rn(this,e),"blur"in t&&this.gaussianBlur.attr({stdDeviation:t.blur}),"offsetX"in t&&(n.dx=t.offsetX),"offsetY"in t&&(n.dy=t.offsetY),this.offset.attr(n),"color"in t&&(i["flood-color"]=t.color),"opacity"in t&&(i["flood-opacity"]=t.opacity),this.flood.attr(i),this},u},brightFilter:function(t,e){var n=gn(),i=this._createElement("filter",{id:n}).append(this._defs),o=this._createElement("feComponentTransfer").append(i),r={type:t,slope:e};return i.id=n,this._createElement("feFuncR",r).append(o),this._createElement("feFuncG",r).append(o),this._createElement("feFuncB",r).append(o),i},getGrayScaleFilter:function(){if(this._grayScaleFilter)return this._grayScaleFilter;var t=gn(),e=this._createElement("filter",{id:t}).append(this._defs);return this._createElement("feColorMatrix").attr({type:"matrix",values:"0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 0.6 0"}).append(e),e.id=t,this._grayScaleFilter=e,e},initHatching:function(){var t,e=this._hatchingStorage=this._hatchingStorage||{byHash:{},baseId:gn()},n=e.byHash;for(t in n)n[t].pattern.dispose();e.byHash={},e.refToHash={},e.nextId=0},lockHatching:function(t,e,n){var i,o,r=this._hatchingStorage,a=function(t,e){return"@"+t+"::"+e.step+":"+e.width+":"+e.opacity+":"+e.direction}(t,e);return r.refToHash[n]!==a&&(n&&this.releaseHatching(n),(i=r.byHash[a])||(o=this.pattern(t,e,r.baseId+"-hatching-"+r.nextId++),i=r.byHash[a]={pattern:o,count:0},r.refToHash[o.id]=a),++i.count,n=i.pattern.id),n},releaseHatching:function(t){var e=this._hatchingStorage,n=e.refToHash[t],i=e.byHash[n];i&&0===--i.count&&(i.pattern.dispose(),delete e.byHash[n],delete e.refToHash[t])}};var si=function(){var t=[];return{add:function(e){t.push(e)},remove:function(e){t=t.filter(function(t){return t!==e})},removeByRenderer:function(e){t=t.filter(function(t){return t.renderer!==e})},fire:function(){t.forEach(function(t){t()})}}}(),li=n(11),ci=Math.min,ui=Math.max,hi=Math.round,di=0,pi=1,fi={left:di,center:pi,right:2},mi={top:di,center:pi,bottom:2},gi={horizontal:0,vertical:1},vi={},yi=2;function _i(t,e,n){var i=F(t);return i in e?e[i]:n}function bi(t){var e,n=_i(t.side,gi,1),i=[_i(t.horizontalAlignment,fi,pi),_i(t.verticalAlignment,mi,di)];return{side:n,primary:(e=i[n],e<2?0:2),secondary:i[1-n],weak:t.weak,priority:t.priority||0,header:t.header,position:t.position}}function Ci(t,e){return(t>0?-1:1)*e}function Oi(t,e,n){var i=t.side,o=t.element.measure([e[2]-e[0],e[3]-e[1]]),r="indside"===t.position?0:n[i],a=o[i]<e[2+i]-e[i]-r;return a&&("inside"!==t.position&&(e[t.primary+i]+=Ci(t.primary,o[i])),t.size=o),a}function xi(t,e,n){var i,o,r,a,s=t.side,l=1-s,c=[],u=(i=t.secondary,o=n[l],r=n[2+l],a=t.size[l],vi[i](o,r,a));return c[s]=hi(c[2+s]=e[t.primary+s]+("inside"===t.position?Ci(t.primary,t.size[s]):0)),c[t.primary+s]=hi(e[t.primary+s]-Ci(t.primary,t.size[s])),"inside"!==t.position&&(e[t.primary+s]=c[t.primary+s]),c[l]=hi(u[0]),c[2+l]=hi(u[1]),c}function Si(t,e,n,i,o,r){var a=xi(t,e,n),s=xi(t,i,i);o[t.side]>0?(o[t.side]-=t.size[t.side],r[t.primary+t.side]=a[t.primary+t.side],t.element.freeSpace()):t.element.move(a,s)}function wi(){this._targets=[]}function Pi(t,e){var n=e.slice(),i=xi(t,n,n);return i[t.side]=e[t.side],i[2+t.side]=e[2+t.side],i}function ki(t,e){var n=t.side,i=t.primary,o=t.secondary;return{side:n,primary:i,secondary:o,priority:0,element:{measure:function(o){var r=o.slice(),a=e.element.measure(o.slice());o[i]-=a[i];var s=t.element.measure(o.slice());return r[n]=a[n]=s[n]=Math.max(s[n],a[n]),e.size=a,t.size=s,r},move:function(n,i){if(i[2]-i[0]<t.size[0]+e.size[0]-yi)this.freeSpace();else{var o=Pi(e,i);i[2+e.primary]=o[e.primary];var r=Pi(t,i);i[2+e.primary]<n[2+e.primary]&&t.size[t.primary]>n[2+t.primary]-n[t.primary]&&(n[2+e.primary]=i[2+e.primary]);var a=Pi(t,n);a[2+e.primary]>i[2+e.primary]&&(n[2+e.primary]=i[2+e.primary],a=Pi(t,n)),e.element.move(o),t.element.move(a,r)}},freeSpace:function(){t.element.freeSpace(),e.element.freeSpace()}}}}vi[di]=function(t,e,n){return[t,ci(e,t+n)]},vi[pi]=function(t,e,n){return[ui(t,(t+e-n)/2),ci(e,(t+e+n)/2)]},vi[2]=function(t,e,n){return[ui(t,e-n),e]},wi.prototype={constructor:wi,dispose:function(){this._targets=null},add:function(t){this._targets.push(t)},forward:function(t,e){var n,i=t.slice(),o=function(t){var e,n,i=t.length,o=[];for(e=0;e<i;++e)(n=t[e].layoutOptions())&&((n=bi(n)).element=t[e],o.push(n));return o.sort(function(t,e){return e.side-t.side||t.priority-e.priority}),o=function(t){var e,n=t.filter(function(t){return!0===t.weak})[0];return n&&(e=t.filter(function(t){return n.primary===t.primary&&t.side===n.side&&t!==n})[0]),n&&e?[ki(e,n)].concat(t.filter(function(t){return!(t===e||t===n)})):t}(o)}(this._targets),r=o.length,a=[];for(n=0;n<r;++n)Oi(o[n],i,e)?a.push(o[n]):o[n].element.freeSpace();return this._cache=a.reverse(),i},backward:function(t,e){var n,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],r=t.slice(),a=t.slice(),s=this._cache,l=0,c=s.length;for(i=0;i<c;++i)(n=s[i]).side!==l&&(r=t.slice()),Si(n,r,e,a,o,t),l=n.side;return o}};var Ei=wi,Ti=n(20),Ii=n(16),ji=n(152),Mi=n(76),Di=n(98),Ai=n(104),Ri=Pe.ERROR_MESSAGES;function Bi(t){return function(e,n){var i=function(t,e){var n,i=function(){clearTimeout(n),n=setTimeout(t,100)};return{handler:i,dispose:function(){clearTimeout(n),e(i)}}}(t,n),o=i.handler,r=i.dispose;return e(o),r}}var Li=Math.floor,Ni=Pe.log,zi=fe.a.prototype.option;function Fi(){return!0}function Hi(){return!1}function Vi(t){t.component._eventsStrategy.hasEvent("incidentOccurred")||Ni.apply(null,[t.target.id].concat(t.target.args||[]))}function Ui(t){return t.reduce(function(t,e){return e>0&&!t?e:t},0)}function Wi(t){t.forEach(function(t){return t()})}var Ki=!Object(rt.f)()?function(){var t={_initTemplates:function(){},ctor:function(t,e){this.callBase(t,e);var n=at.a.createElement("div"),i=e&&Object(c.i)(e.width)?e.width+"px":"100%",o=e&&Object(c.i)(e.height)?e.height+"px":this._getDefaultSize().height+"px";at.a.setStyle(n,"width",i),at.a.setStyle(n,"height",o),at.a.setClass(n,"dx-sized-element"),at.a.insertElement(t,n)}},e=fe.a.inherit(t),n=e.inherit;return e.inherit=function(t){for(var e in t)(Object(c.h)(t[e])&&"_"!==e.substr(0,1)&&"option"!==e||"_dispose"===e||"_optionChanged"===e)&&(t[e]=l.noop);return n.call(this,t)},e}():fe.a.inherit({_eventsMap:{onIncidentOccurred:{name:"incidentOccurred",actionSettings:{excludeValidators:["disabled"]}},onDrawn:{name:"drawn",actionSettings:{excludeValidators:["disabled"]}}},_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{onIncidentOccurred:Vi})},_useLinks:!0,_init:function(){var t=this;t._$element.children(".dx-sized-element").remove(),t.callBase.apply(t,arguments),t._changesLocker=0,t._optionChangedLocker=0,t._asyncFirstDrawing=!0,t._changes=new ge,t._suspendChanges(),t._themeManager=t._createThemeManager(),t._themeManager.setCallback(function(){t._requestChange(t._themeDependentChanges)}),t._renderElementAttributes(),t._initRenderer();var e,n,i=t._useLinks&&t._renderer.root;i&&i.enableLinks().virtualLink("core").virtualLink("peripheral"),t._renderVisibilityChange(),t._attachVisibilityChangeHandlers(),t._toggleParentsScrollSubscription(this._isVisible()),t._initEventTrigger(),t._incidentOccurred=(e=t.NAME,n=t._eventTrigger,function(t,i){n("incidentOccurred",{target:{id:t,type:"E"===t[0]?"error":"warning",args:i,text:Mi.b.apply(null,[Ri[t]].concat(i||[])),widget:e,version:ji.a}})}),t._layout=new Ei,i&&i.linkAfter("core"),t._initPlugins(),t._initCore(),i&&i.linkAfter(),t._change(t._initialChanges)},_createThemeManager:function(){return new pe(this._getThemeManagerOptions())},_getThemeManagerOptions:function(){return{themeSection:this._themeSection,fontFields:this._fontFields}},_initialChanges:["LAYOUT","RESIZE_HANDLER","THEME","DISABLED"],_initPlugins:function(){var t=this;Object(s.a)(t._plugins,function(e,n){n.init.call(t)})},_disposePlugins:function(){var t=this;Object(s.a)(t._plugins.slice().reverse(),function(e,n){n.dispose.call(t)})},_change:function(t){this._changes.add(t)},_suspendChanges:function(){++this._changesLocker},_resumeChanges:function(){0===--this._changesLocker&&this._changes.count()>0&&!this._applyingChanges&&(this._renderer.lock(),this._applyingChanges=!0,this._applyChanges(),this._changes.reset(),this._applyingChanges=!1,this._changesApplied(),this._renderer.unlock(),this._optionsQueue&&this._applyQueuedOptions(),this.resolveItemsDeferred(this._legend?[this._legend]:[]),this._optionChangedLocker++,this._notify(),this._optionChangedLocker--)},resolveItemsDeferred:function(t){this._resolveDeferred(this._getTemplatesItems(t))},_collectTemplatesFromItems:function(t){return t.reduce(function(t,e){return{items:t.items.concat(e.getTemplatesDef()),groups:t.groups.concat(e.getTemplatesGroups())}},{items:[],groups:[]})},_getTemplatesItems:function(t){var e=this._collectTemplatesFromItems(t),n=this._getExtraTemplatesItems();return{items:n.items.concat(e.items),groups:n.groups.concat(e.groups),launchRequest:[n.launchRequest],doneRequest:[n.doneRequest]}},_getExtraTemplatesItems:function(){return{items:[],groups:[],launchRequest:function(){},doneRequest:function(){}}},_resolveDeferred:function(t){var e=t.items,n=t.launchRequest,i=t.doneRequest,o=t.groups,r=this;if(r._setGroupsVisibility(o,"hidden"),r._changesApplying)return r._changesApplying=!1,void Wi(i);var a=!0;Ii.c.apply(r,e).done(function(){if(a)r._setGroupsVisibility(o,"visible");else{Wi(n),r._changesApplying=!0;var t=["LAYOUT","FULL_RENDER"];r._asyncFirstDrawing?(t.push("FORCE_FIRST_DRAWING"),r._asyncFirstDrawing=!1):t.push("FORCE_DRAWING"),r._requestChange(t),r._setGroupsVisibility(o,"visible")}}),a=!1},_setGroupsVisibility:function(t,e){t.forEach(function(t){return t.attr({visibility:e})})},_applyQueuedOptions:function(){var t=this._optionsQueue;this._optionsQueue=null,this.beginUpdate(),Object(s.a)(t,function(t,e){e()}),this.endUpdate()},_requestChange:function(t){this._suspendChanges(),this._change(t),this._resumeChanges()},_applyChanges:function(){var t,e=this._changes,n=this._totalChangesOrder,i=n.length;for(t=0;t<i;++t)e.has(n[t])&&this["_change_"+n[t]]()},_optionChangesOrder:["EVENTS","THEME","RENDERER","RESIZE_HANDLER"],_layoutChangesOrder:["ELEMENT_ATTR","CONTAINER_SIZE","LAYOUT"],_customChangesOrder:["DISABLED"],_change_EVENTS:function(){this._eventTrigger.applyChanges()},_change_THEME:function(){this._setThemeAndRtl()},_change_RENDERER:function(){this._setRendererOptions()},_change_RESIZE_HANDLER:function(){this._setupResizeHandler()},_change_ELEMENT_ATTR:function(){this._renderElementAttributes(),this._change(["CONTAINER_SIZE"])},_change_CONTAINER_SIZE:function(){this._updateSize()},_change_LAYOUT:function(){this._setContentSize()},_change_DISABLED:function(){var t=this._renderer,e=t.root;this.option("disabled")?(this._initDisabledState=e.attr("pointer-events"),e.attr({"pointer-events":"none",filter:t.getGrayScaleFilter().id})):"none"===e.attr("pointer-events")&&e.attr({"pointer-events":Object(c.d)(this._initDisabledState)?this._initDisabledState:null,filter:null})},_themeDependentChanges:["RENDERER"],_initRenderer:function(){this._canvas=this._calculateCanvas(),this._renderer=new ai({cssClass:this._rootClassPrefix+" "+this._rootClass,pathModified:this.option("pathModified"),container:this._$element[0]}),this._renderer.resize(this._canvas.width,this._canvas.height)},_disposeRenderer:function(){this._renderer.dispose()},_getAnimationOptions:l.noop,render:function(){this._requestChange(["CONTAINER_SIZE"]);var t=this._isVisible();this._toggleParentsScrollSubscription(t),!t&&this._stopCurrentHandling()},_toggleParentsScrollSubscription:function(t){var e=Object(ot.a)(this._renderer.root.element).parents();"generic"===Ti.a.real().platform&&(e=e.add(Object(rt.d)())),this._proxiedTargetParentsScrollHandler=this._proxiedTargetParentsScrollHandler||function(){this._stopCurrentHandling()}.bind(this),Te.a.off(Object(ot.a)().add(this._$prevRootParents),"scroll.viz_widgets",this._proxiedTargetParentsScrollHandler),t&&(Te.a.on(e,"scroll.viz_widgets",this._proxiedTargetParentsScrollHandler),this._$prevRootParents=e)},_stopCurrentHandling:l.noop,_dispose:function(){this._disposed||(this.callBase.apply(this,arguments),this._toggleParentsScrollSubscription(!1),this._removeResizeHandler(),this._layout.dispose(),this._eventTrigger.dispose(),this._disposeCore(),this._disposePlugins(),this._disposeRenderer(),this._themeManager.dispose(),this._themeManager=this._renderer=this._eventTrigger=null)},_initEventTrigger:function(){var t=this;t._eventTrigger=function(t,e){var n,i={};return Object(s.a)(t,function(t,e){e.name&&o(t)}),r.change=function(e){var i=t[e];return i&&((n=n||{})[e]=i),!!i},r.applyChanges=function(){n&&(Object(s.a)(n,function(t,e){o(e.newName||t)}),n=null)},r.dispose=function(){t=e=i=null},r;function o(n){var o=t[n];i[o.name]=e(n,o.actionSettings)}function r(t,e,n){i[t](e),n&&n()}}(t._eventsMap,function(e,n){return t._createActionByOption(e,n)})},_calculateCanvas:function(){var t=this,e=t.option("size")||{},n=t.option("margin")||{},i=t._getDefaultSize()||{},o=function(e,n,i){if(o=e[n],Object(c.d)(o)&&o>0||!Object(rt.f)())return 0;var o,r=i(t._$element);return r<=1?0:r},r=o(e,"width",function(t){return Object(li.k)(t)}),a=o(e,"height",function(t){return Object(li.c)(t)}),s={width:e.width<=0?0:Li(Ui([e.width,r,i.width])),height:e.height<=0?0:Li(Ui([e.height,a,i.height])),left:Ui([n.left,i.left]),top:Ui([n.top,i.top]),right:Ui([n.right,i.right]),bottom:Ui([n.bottom,i.bottom])};return(s.width-s.left-s.right<=0||s.height-s.top-s.bottom<=0)&&(s={width:0,height:0}),s},_updateSize:function(){var t,e,n=this._calculateCanvas();t=this._canvas,e=n,(t.width!==e.width||t.height!==e.height||t.left!==e.left||t.top!==e.top||t.right!==e.right||t.bottom!==e.bottom||this.__forceRender)&&(this._canvas=n,this._recreateSizeDependentObjects(!0),this._renderer.resize(n.width,n.height),this._change(["LAYOUT"]))},_recreateSizeDependentObjects:l.noop,_getMinSize:function(){return[0,0]},_getAlignmentRect:l.noop,_setContentSize:function(){var t=this._canvas,e=this._layout,n=t.width>0&&t.height>0?[t.left,t.top,t.width-t.right,t.height-t.bottom]:[0,0,0,0];n=e.forward(n,this._getMinSize());var i=this._applySize(n)||n;e.backward(i,this._getAlignmentRect()||i)},_getOption:function(t,e){var n=this._themeManager.theme(t),i=this.option(t);return e?void 0!==i?i:n:Object(a.a)(!0,{},n,i)},_setupResizeHandler:function(){var t=this,e=W(t._getOption("redrawOnResize",!0),!0);t._disposeResizeHandler&&t._removeResizeHandler(),t._disposeResizeHandler=function(t,e,n){var i,o=Bi(n);return"windowonly"===F(e)?i=o(function(t){return Di.a.add(t)},function(t){return Di.a.remove(t)}):!0===e&&(i=o(function(e){return Ai.a.observe(t,e)},function(){return Ai.a.unobserve(t)})),i}(t._$element[0],e,function(){return t._requestChange(["CONTAINER_SIZE"])})},_removeResizeHandler:function(){this._disposeResizeHandler&&(this._disposeResizeHandler(),this._disposeResizeHandler=null)},_onBeginUpdate:l.noop,beginUpdate:function(){return this._initialized&&this._isUpdateAllowed()&&(this._onBeginUpdate(),this._suspendChanges()),this.callBase.apply(this,arguments),this},endUpdate:function(){return this.callBase(),this._isUpdateAllowed()&&this._resumeChanges(),this},option:function(t){if(!(this._initialized&&this._applyingChanges&&(arguments.length>1||Object(c.j)(t))))return zi.apply(this,arguments);this._optionsQueue=this._optionsQueue||[],this._optionsQueue.push(this._getActionForUpdating(arguments))},_getActionForUpdating:function(t){var e=this;return function(){zi.apply(e,t)}},_clean:l.noop,_render:l.noop,_optionChanged:function(t){var e=this;if(!e._optionChangedLocker){var n=e.getPartialChangeOptionsName(t),i=[];n.length>0?n.forEach(function(t){return i.push(e._partialOptionChangesMap[t])}):i.push(e._optionChangesMap[t.name]),i=i.filter(function(t){return!!t}),e._eventTrigger.change(t.name)?e._change(["EVENTS"]):i.length>0?e._change(i):e.callBase.apply(e,arguments)}},_notify:l.noop,_changesApplied:l.noop,_optionChangesMap:{size:"CONTAINER_SIZE",margin:"CONTAINER_SIZE",redrawOnResize:"RESIZE_HANDLER",theme:"THEME",rtlEnabled:"THEME",encodeHtml:"THEME",elementAttr:"ELEMENT_ATTR",disabled:"DISABLED"},_partialOptionChangesMap:{},_partialOptionChangesPath:{},getPartialChangeOptionsName:function(t){var e=this,n=t.fullName,i=n.split(/[.]/),o=t.name,r=t.value,a=this._partialOptionChangesPath[o],s=[];return a&&(!0===a?s.push(o):(a.forEach(function(t){n.indexOf(t)>=0&&s.push(t)}),1===i.length&&("object"===Object(c.q)(r)?e._addOptionsNameForPartialUpdate(r,a,s):"array"===Object(c.q)(r)&&r.length>0&&r.every(function(t){return e._checkOptionsForPartialUpdate(t,a)})&&r.forEach(function(t){return e._addOptionsNameForPartialUpdate(t,a,s)})))),s.filter(function(t,e,n){return n.indexOf(t)===e})},_checkOptionsForPartialUpdate:function(t,e){return!Object.keys(t).some(function(t){return-1===e.indexOf(t)})},_addOptionsNameForPartialUpdate:function(t,e,n){var i=Object.keys(t);this._checkOptionsForPartialUpdate(t,e)&&i.forEach(function(t){return e.indexOf(t)>-1&&n.push(t)})},_visibilityChanged:function(){this.render()},_setThemeAndRtl:function(){this._themeManager.setTheme(this.option("theme"),this.option("rtlEnabled"))},_getRendererOptions:function(){return{rtl:this.option("rtlEnabled"),encodeHtml:this.option("encodeHtml"),animation:this._getAnimationOptions()}},_setRendererOptions:function(){this._renderer.setOptions(this._getRendererOptions())},svg:function(){return this._renderer.svg()},getSize:function(){var t=this._canvas||{};return{width:t.width,height:t.height}},isReady:Hi,_dataIsReady:Fi,_resetIsReady:function(){this.isReady=Hi},_drawn:function(){var t=this;t.isReady=Hi,t._dataIsReady()&&t._renderer.onEndAnimation(function(){t.isReady=Fi}),t._eventTrigger("drawn",{})}}),$i=Ki;xe(Ki);var Gi=a.a,qi={ThemeManager:pe.inherit({ctor:function(t){this.callBase.apply(this,arguments),this._subTheme=t.subTheme},_initializeTheme:function(){var t;this._subTheme&&(t=Gi(!0,{},this._theme[this._subTheme],this._theme),Gi(!0,this._theme,t)),this.callBase.apply(this,arguments)}})},Zi=n(155),Yi=n(75),Xi=n(10),Qi=n(44),Ji="gauge-tooltip",to=100,eo=Yi.a.add,no=st.a.inherit({ctor:function(t){var e=this;e._element=t.renderer.g().attr({class:"dxg-tracker",stroke:"none","stroke-width":0,fill:"#000000",opacity:1e-4}).linkOn(t.container,{name:"tracker",after:"peripheral"}),e._showTooltipCallback=function(){var t=e._tooltipEvent.target,n=t["gauge-data-target"],i=t["gauge-data-info"];if(e._targetEvent=null,e._tooltipTarget!==t){var o=function(n){n&&(e._tooltipTarget=t)};o(e._callbacks["tooltip-show"](n,i,o))}},e._hideTooltipCallback=function(){e._hideTooltipTimeout=null,e._targetEvent=null,e._tooltipTarget&&(e._callbacks["tooltip-hide"](),e._tooltipTarget=null)},e._dispose=function(){clearTimeout(e._hideTooltipTimeout),e._showTooltipCallback=e._hideTooltipCallback=e._dispose=null}},dispose:function(){return this._dispose(),this.deactivate(),this._element.off("."+Ji),this._element.linkOff(),this._element=this._context=this._callbacks=null,this},activate:function(){return this._element.linkAppend(),this},deactivate:function(){return this._element.linkRemove().clear(),this},attach:function(t,e,n){return t.data({"gauge-data-target":e,"gauge-data-info":n}).append(this._element),this},detach:function(t){return t.remove(),this},setTooltipState:function(t){if(this._element.off("."+Ji),t){var e={tracker:this};this._element.on(Object(Xi.a)([Qi.a.move],Ji),e,oo).on(Object(Xi.a)([Qi.a.out],Ji),e,ro).on(Object(Xi.a)([Qi.a.down],Ji),e,so).on(Object(Xi.a)([Qi.a.up],Ji),e,lo).on(Object(Xi.a)([Zi.a],Ji),e,ao)}return this},setCallbacks:function(t){return this._callbacks=t,this},_showTooltip:function(t){clearTimeout(this._hideTooltipTimeout),this._hideTooltipTimeout=null,this._tooltipTarget!==t.target&&(this._tooltipEvent=t,this._showTooltipCallback())},_hideTooltip:function(t){clearTimeout(this._hideTooltipTimeout),t?this._hideTooltipTimeout=setTimeout(this._hideTooltipCallback,t):this._hideTooltipCallback()}}),io=null;function oo(t){var e=t.data.tracker;e._x=t.pageX,e._y=t.pageY,e._showTooltip(t)}function ro(t){t.data.tracker._hideTooltip(to)}function ao(t){t.data.tracker._hideTooltip()}function so(t){(io=t.data.tracker)._touch=!0,oo(t)}function lo(){io._touch=!1}function co(t){var e=io;e&&!e._touch&&(e._hideTooltip(to),io=null)}eo(function(){Te.a.subscribeGlobal(at.a.getDocument(),Object(Xi.a)([Qi.a.down],Ji),co)});var uo=no,ho=n(53),po=n(39),fo=n(70),mo=(n(185),Object(fo.a)({format:function(t,e){var n=Object(c.o)(e)&&""!==e||Object(c.k)(e)||Object(c.h)(e),i=Object(c.i)(t)||Object(c.b)(t);return n&&i?Object(c.h)(e)?e(t):(Object(c.o)(e)&&(e={type:e}),Object(c.i)(t)?ho.a.format(t,e):Object(c.b)(t)?po.a.format(t,e):void 0):Object(c.d)(t)?t.toString():""},getTimeFormat:function(t){return t?"longtime":"shorttime"},_normalizeFormat:function(t){return Array.isArray(t)?1===t.length?t[0]:function(e){return t.map(function(t){return po.a.format(e,t)}).join(" ")}:t},getDateFormatByDifferences:function(t,e){var n=[],i=e&&t.millisecond&&!(t.year||t.month||t.day);return i?n.push(function(t){return t.getSeconds()+t.getMilliseconds()/1e3+"s"}):t.millisecond&&n.push("millisecond"),(t.hour||t.minute||!i&&t.second)&&n.unshift(this.getTimeFormat(t.second)),t.year&&t.month&&t.day?e&&"month"===e?"monthandyear":(n.unshift("shortdate"),this._normalizeFormat(n)):t.year&&t.month?"monthandyear":t.year&&t.quarter?"quarterandyear":t.year?"year":t.quarter?"quarter":t.month&&t.day?(e?n.unshift(function(t){return po.a.getMonthNames("abbreviated")[t.getMonth()]+" "+po.a.format(t,"day")}):n.unshift("monthandday"),this._normalizeFormat(n)):t.month?"month":t.day?(e?n.unshift("day"):n.unshift(function(t){return po.a.format(t,"dayofweek")+", "+po.a.format(t,"day")}),this._normalizeFormat(n)):this._normalizeFormat(n)},getDateFormatByTicks:function(t){var e,n,i;if(t.length>1)for(e=h.a.getDatesDifferences(t[0],t[1]),i=1;i<t.length-1;i++)n=h.a.getDatesDifferences(t[i],t[i+1]),e.count<n.count&&(e=n);else e={year:!0,month:!0,day:!0,hour:t[0].getHours()>0,minute:t[0].getMinutes()>0,second:t[0].getSeconds()>0,millisecond:t[0].getMilliseconds()>0};return this.getDateFormatByDifferences(e)},getDateFormatByTickInterval:function(t,e,n){var i,o=function(t,e,n){switch(e){case"year":case"quarter":t.month=n;case"month":t.day=n;case"week":case"day":t.hour=n;case"hour":t.minute=n;case"minute":t.second=n;case"second":t.millisecond=n}};n=Object(c.o)(n)?n.toLowerCase():n;var r,a,s,l=h.a.getDatesDifferences(t,e);return t!==e&&(r=l,a=t>e?e:t,!(s=t>e?t:e).getMilliseconds()&&s.getSeconds()?s.getSeconds()-a.getSeconds()===1&&(r.millisecond=!0,r.second=!1):!s.getSeconds()&&s.getMinutes()?s.getMinutes()-a.getMinutes()===1&&(r.second=!0,r.minute=!1):!s.getMinutes()&&s.getHours()?s.getHours()-a.getHours()===1&&(r.minute=!0,r.hour=!1):!s.getHours()&&s.getDate()>1?s.getDate()-a.getDate()===1&&(r.hour=!0,r.day=!1):1===s.getDate()&&s.getMonth()?s.getMonth()-a.getMonth()===1&&(r.day=!0,r.month=!1):!s.getMonth()&&s.getFullYear()&&s.getFullYear()-a.getFullYear()===1&&(r.month=!0,r.year=!1)),o(l,i=h.a.getDateUnitInterval(l),!0),o(l,i=h.a.getDateUnitInterval(n||"second"),!1),l[{week:"day"}[i]||i]=!0,this.getDateFormatByDifferences(l)}})),go=n(140),vo=n(42),yo=n(242),_o=n.n(yo),bo=n(156),Co=n(84),Oo={ar:1,bg:2,ca:3,"zh-Hans":4,cs:5,da:6,de:7,el:8,en:9,es:10,fi:11,fr:12,he:13,hu:14,is:15,it:16,ja:17,ko:18,nl:19,no:20,pl:21,pt:22,rm:23,ro:24,ru:25,hr:26,sk:27,sq:28,sv:29,th:30,tr:31,ur:32,id:33,uk:34,be:35,sl:36,et:37,lv:38,lt:39,tg:40,fa:41,vi:42,hy:43,az:44,eu:45,hsb:46,mk:47,tn:50,xh:52,zu:53,af:54,ka:55,fo:56,hi:57,mt:58,se:59,ga:60,ms:62,kk:63,ky:64,sw:65,tk:66,uz:67,tt:68,bn:69,pa:70,gu:71,or:72,ta:73,te:74,kn:75,ml:76,as:77,mr:78,sa:79,mn:80,bo:81,cy:82,km:83,lo:84,gl:86,kok:87,syr:90,si:91,iu:93,am:94,tzm:95,ne:97,fy:98,ps:99,fil:100,dv:101,ha:104,yo:106,quz:107,nso:108,ba:109,lb:110,kl:111,ig:112,ii:120,arn:122,moh:124,br:126,ug:128,mi:129,oc:130,co:131,gsw:132,sah:133,qut:134,rw:135,wo:136,prs:140,gd:145,"ar-SA":1025,"bg-BG":1026,"ca-ES":1027,"zh-TW":1028,"cs-CZ":1029,"da-DK":1030,"de-DE":1031,"el-GR":1032,"en-US":1033,"fi-FI":1035,"fr-FR":1036,"he-IL":1037,"hu-HU":1038,"is-IS":1039,"it-IT":1040,"ja-JP":1041,"ko-KR":1042,"nl-NL":1043,"nb-NO":1044,"pl-PL":1045,"pt-BR":1046,"rm-CH":1047,"ro-RO":1048,"ru-RU":1049,"hr-HR":1050,"sk-SK":1051,"sq-AL":1052,"sv-SE":1053,"th-TH":1054,"tr-TR":1055,"ur-PK":1056,"id-ID":1057,"uk-UA":1058,"be-BY":1059,"sl-SI":1060,"et-EE":1061,"lv-LV":1062,"lt-LT":1063,"tg-Cyrl-TJ":1064,"fa-IR":1065,"vi-VN":1066,"hy-AM":1067,"az-Latn-AZ":1068,"eu-ES":1069,"hsb-DE":1070,"mk-MK":1071,"tn-ZA":1074,"xh-ZA":1076,"zu-ZA":1077,"af-ZA":1078,"ka-GE":1079,"fo-FO":1080,"hi-IN":1081,"mt-MT":1082,"se-NO":1083,"ms-MY":1086,"kk-KZ":1087,"ky-KG":1088,"sw-KE":1089,"tk-TM":1090,"uz-Latn-UZ":1091,"tt-RU":1092,"bn-IN":1093,"pa-IN":1094,"gu-IN":1095,"or-IN":1096,"ta-IN":1097,"te-IN":1098,"kn-IN":1099,"ml-IN":1100,"as-IN":1101,"mr-IN":1102,"sa-IN":1103,"mn-MN":1104,"bo-CN":1105,"cy-GB":1106,"km-KH":1107,"lo-LA":1108,"gl-ES":1110,"kok-IN":1111,"syr-SY":1114,"si-LK":1115,"iu-Cans-CA":1117,"am-ET":1118,"ne-NP":1121,"fy-NL":1122,"ps-AF":1123,"fil-PH":1124,"dv-MV":1125,"ha-Latn-NG":1128,"yo-NG":1130,"quz-BO":1131,"nso-ZA":1132,"ba-RU":1133,"lb-LU":1134,"kl-GL":1135,"ig-NG":1136,"ii-CN":1144,"arn-CL":1146,"moh-CA":1148,"br-FR":1150,"ug-CN":1152,"mi-NZ":1153,"oc-FR":1154,"co-FR":1155,"gsw-FR":1156,"sah-RU":1157,"qut-GT":1158,"rw-RW":1159,"wo-SN":1160,"prs-AF":1164,"gd-GB":1169,"ar-IQ":2049,"zh-CN":2052,"de-CH":2055,"en-GB":2057,"es-MX":2058,"fr-BE":2060,"it-CH":2064,"nl-BE":2067,"nn-NO":2068,"pt-PT":2070,"sr-Latn-CS":2074,"sv-FI":2077,"az-Cyrl-AZ":2092,"dsb-DE":2094,"se-SE":2107,"ga-IE":2108,"ms-BN":2110,"uz-Cyrl-UZ":2115,"bn-BD":2117,"mn-Mong-CN":2128,"iu-Latn-CA":2141,"tzm-Latn-DZ":2143,"quz-EC":2155,"ar-EG":3073,"zh-HK":3076,"de-AT":3079,"en-AU":3081,"es-ES":3082,"fr-CA":3084,"sr-Cyrl-CS":3098,"se-FI":3131,"quz-PE":3179,"ar-LY":4097,"zh-SG":4100,"de-LU":4103,"en-CA":4105,"es-GT":4106,"fr-CH":4108,"hr-BA":4122,"smj-NO":4155,"ar-DZ":5121,"zh-MO":5124,"de-LI":5127,"en-NZ":5129,"es-CR":5130,"fr-LU":5132,"bs-Latn-BA":5146,"smj-SE":5179,"ar-MA":6145,"en-IE":6153,"es-PA":6154,"fr-MC":6156,"sr-Latn-BA":6170,"sma-NO":6203,"ar-TN":7169,"en-ZA":7177,"es-DO":7178,"sr-Cyrl-BA":7194,"sma-SE":7227,"ar-OM":8193,"en-JM":8201,"es-VE":8202,"bs-Cyrl-BA":8218,"sms-FI":8251,"ar-YE":9217,"en-029":9225,"es-CO":9226,"sr-Latn-RS":9242,"smn-FI":9275,"ar-SY":10241,"en-BZ":10249,"es-PE":10250,"sr-Cyrl-RS":10266,"ar-JO":11265,"en-TT":11273,"es-AR":11274,"sr-Latn-ME":11290,"ar-LB":12289,"en-ZW":12297,"es-EC":12298,"sr-Cyrl-ME":12314,"ar-KW":13313,"en-PH":13321,"es-CL":13322,"ar-AE":14337,"es-UY":14346,"ar-BH":15361,"es-PY":15370,"ar-QA":16385,"en-IN":16393,"es-BO":16394,"en-MY":17417,"es-SV":17418,"en-SG":18441,"es-HN":18442,"es-NI":19466,"es-PR":20490,"es-US":21514,"bs-Cyrl":25626,"bs-Latn":26650,"sr-Cyrl":27674,"sr-Latn":28698,smn:28731,"az-Cyrl":29740,sms:29755,zh:30724,nn:30740,bs:30746,"az-Latn":30764,sma:30779,"uz-Cyrl":30787,"mn-Cyrl":30800,"iu-Cans":30813,"zh-Hant":31748,nb:31764,sr:31770,"tg-Cyrl":31784,dsb:31790,smj:31803,"uz-Latn":31811,"mn-Mong":31824,"iu-Latn":31837,"tzm-Latn":31839,"ha-Latn":31848};var xo={thousands:"#,##0{0},&quot;K&quot;",millions:"#,##0{0},,&quot;M&quot;",billions:"#,##0{0},,,&quot;B&quot;",trillions:"#,##0{0},,,,&quot;T&quot;",percent:"0{0}%",decimal:"#{0}",fixedpoint:"#,##0{0}",exponential:"0{0}E+00",currency:" "},So=/a+/g,wo=/E/g,Po=/dE+/g,ko=/L/g,Eo=/h/g,To=/./g,Io={_applyPrecision:function(t,e){var n,i;if(e>0){for(n="decimal"!==t?".":"",i=0;i<e;i++)n+="0";return n}return""},_hasArabicDigits:function(t){for(var e,n=0;n<t.length;n++)if((e=t.charCodeAt(n))>=1632&&e<1642)return!0;return!1},_convertDateFormatToOpenXml:function(t){return t.split("/").join("\\/").split("'").map(function(t,e){return e%2===0?t.replace(So,"AM/PM").replace(Po,"d").replace(wo,"d").replace(ko,"M").replace(Eo,"H").split("[").join("\\[").split("]").join("\\]"):t?t.replace(To,"\\$&"):"'"}).join("")},_convertDateFormat:function(t){var e=(po.a.format(new Date(2009,8,8,6,5,4),t)||"").toString(),n=Object(bo.a)(function(e){return po.a.format(e,t)});return n&&(n=this._convertDateFormatToOpenXml(n),n=this._getLanguageInfo(e)+n),n},_getLanguageInfo:function(t){var e=Oo[Co.a.locale()],n=e?e.toString(16):"",i="";if(this._hasArabicDigits(t)){for(;n.length<3;)n="0"+n;i="[$-2010"+n+"]"}else n&&(i="[$-"+n+"]");return i},_convertNumberFormat:function(t,e,n){var i,o;return(o="currency"===t?ho.a.getOpenXmlCurrencyFormat(n):xo[t.toLowerCase()])&&(i=Object(Mi.b)(o,this._applyPrecision(t,e))),i},convertFormat:function(t,e,n,i){if(Object(c.d)(t)){if("date"===n)return Io._convertDateFormat(t);if(Object(c.o)(t)&&xo[t.toLowerCase()])return Io._convertNumberFormat(t,e,i)}}},jo=Io,Mo=n(12),Do=n(13),Ao={toXml:function(t,e,n){var i=["<",t];for(var o in e){var r=e[o];Object(c.d)(r)&&i.push(" ",o,'="',r,'"')}return Object(c.d)(n)&&""!==n?i.push(">",n,"</",t,">"):i.push(" />"),i.join("")}},Ro={tryCreateTag:function(t){var e=null;return Object(c.d)(t)&&(e={vertical:t.vertical,wrapText:t.wrapText,horizontal:t.horizontal},Ro.isEmpty(e)&&(e=null)),e},copy:function(t){var e=null;return Object(c.d)(t)&&(e={},void 0!==t.horizontal&&(e.horizontal=t.horizontal),void 0!==t.vertical&&(e.vertical=t.vertical),void 0!==t.wrapText&&(e.wrapText=t.wrapText)),e},areEqual:function(t,e){return Ro.isEmpty(t)&&Ro.isEmpty(e)||Object(c.d)(t)&&Object(c.d)(e)&&t.vertical===e.vertical&&t.wrapText===e.wrapText&&t.horizontal===e.horizontal},isEmpty:function(t){return!Object(c.d)(t)||!Object(c.d)(t.vertical)&&!Object(c.d)(t.wrapText)&&!Object(c.d)(t.horizontal)},toXml:function(t){return Ao.toXml("alignment",{vertical:t.vertical,wrapText:Object(c.d)(t.wrapText)?Number(t.wrapText):void 0,horizontal:t.horizontal})}},Bo=Ro,Lo={_tryConvertColor:function(t){if("string"!==typeof t)return t;var e;if(t.length>0&&"#"===t[0]){var n=t.substr(1,t.length);e=6===n.length?"FF"+n:8===n.length?n[6]+n[7]+n.substr(0,6):n}else e=t;return e},tryCreateTag:function(t){var e=null;return Object(c.d)(t)&&(e="string"===typeof t?{rgb:this._tryConvertColor(t)}:{rgb:this._tryConvertColor(t.rgb),theme:t.theme},Lo.isEmpty(e)&&(e=null)),e},copy:function(t){var e=null;return Object(c.d)(t)&&("string"===typeof t?e=t:(e={},void 0!==t.rgb&&(e.rgb=t.rgb),void 0!==t.theme&&(e.theme=t.theme))),e},isEmpty:function(t){return!Object(c.d)(t)||!Object(c.d)(t.rgb)&&!Object(c.d)(t.theme)},areEqual:function(t,e){return Lo.isEmpty(t)&&Lo.isEmpty(e)||Object(c.d)(t)&&Object(c.d)(e)&&t.rgb===e.rgb&&t.theme===e.theme},toXml:function(t,e){return Ao.toXml(t,{rgb:e.rgb,theme:e.theme})}},No=Lo,zo={tryCreateTag:function(t){var e=null;return Object(c.d)(t)&&(e={patternType:t.patternType,backgroundColor:No.tryCreateTag(t.backgroundColor),foregroundColor:No.tryCreateTag(t.foregroundColor)},zo.isEmpty(e)&&(e=null)),e},copy:function(t){var e=null;return Object(c.d)(t)&&(e={},void 0!==t.patternType&&(e.patternType=t.patternType),void 0!==t.backgroundColor&&(e.backgroundColor=No.copy(t.backgroundColor)),void 0!==t.foregroundColor&&(e.foregroundColor=No.copy(t.foregroundColor))),e},areEqual:function(t,e){return zo.isEmpty(t)&&zo.isEmpty(e)||Object(c.d)(t)&&Object(c.d)(e)&&t.patternType===e.patternType&&No.areEqual(t.backgroundColor,e.backgroundColor)&&No.areEqual(t.foregroundColor,e.foregroundColor)},isEmpty:function(t){return!Object(c.d)(t)||!Object(c.d)(t.patternType)},toXml:function(t){var e=[Object(c.d)(t.foregroundColor)?No.toXml("fgColor",t.foregroundColor):"",Object(c.d)(t.backgroundColor)?No.toXml("bgColor",t.backgroundColor):""].join("");return Ao.toXml("patternFill",{patternType:t.patternType},e)}},Fo=zo,Ho={tryCreateTag:function(t){var e=null;return Object(c.d)(t)&&(e={patternFill:Fo.tryCreateTag(t.patternFill)},Ho.isEmpty(e)&&(e=null)),e},tryCreateFillFromSimpleFormat:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.backgroundColor,n=t.fillPatternType,i=t.fillPatternColor;return!Object(c.d)(e)||Object(c.d)(n)&&Object(c.d)(i)?Object(c.d)(n)&&Object(c.d)(i)?{patternFill:{patternType:n,foregroundColor:{rgb:i},backgroundColor:{rgb:e}}}:void 0:{patternFill:{patternType:"solid",foregroundColor:{rgb:e}}}},copySimpleFormat:function(t,e){void 0!==t.backgroundColor&&(e.backgroundColor=t.backgroundColor),void 0!==t.fillPatternType&&(e.fillPatternType=t.fillPatternType),void 0!==t.fillPatternColor&&(e.fillPatternColor=t.fillPatternColor)},copy:function(t){var e=null;return Object(c.d)(t)&&(e={},void 0!==t.patternFill&&(e.patternFill=Fo.copy(t.patternFill))),e},areEqual:function(t,e){return Ho.isEmpty(t)&&Ho.isEmpty(e)||Object(c.d)(t)&&Object(c.d)(e)&&Fo.areEqual(t.patternFill,e.patternFill)},isEmpty:function(t){return!Object(c.d)(t)||Fo.isEmpty(t.patternFill)},toXml:function(t){return Ao.toXml("fill",{},Fo.toXml(t.patternFill))}},Vo=Ho,Uo={tryCreateTag:function(t){var e=null;return Object(c.d)(t)&&(e={size:t.size,name:t.name,family:t.family,scheme:t.scheme,bold:t.bold,italic:t.italic,underline:t.underline,color:No.tryCreateTag(t.color)},Uo.isEmpty(e)&&(e=null)),e},copy:function(t){var e=null;return Object(c.d)(t)&&(e={},void 0!==t.size&&(e.size=t.size),void 0!==t.name&&(e.name=t.name),void 0!==t.family&&(e.family=t.family),void 0!==t.scheme&&(e.scheme=t.scheme),void 0!==t.bold&&(e.bold=t.bold),void 0!==t.italic&&(e.italic=t.italic),void 0!==t.underline&&(e.underline=t.underline),void 0!==t.color&&(e.color=No.copy(t.color))),e},areEqual:function(t,e){return Uo.isEmpty(t)&&Uo.isEmpty(e)||Object(c.d)(t)&&Object(c.d)(e)&&t.size===e.size&&t.name===e.name&&t.family===e.family&&t.scheme===e.scheme&&(t.bold===e.bold||!t.bold===!e.bold)&&(t.italic===e.italic||!t.italic===!e.italic)&&t.underline===e.underline&&No.areEqual(t.color,e.color)},isEmpty:function(t){return!Object(c.d)(t)||!Object(c.d)(t.size)&&!Object(c.d)(t.name)&&!Object(c.d)(t.family)&&!Object(c.d)(t.scheme)&&(!Object(c.d)(t.bold)||!t.bold)&&(!Object(c.d)(t.italic)||!t.italic)&&!Object(c.d)(t.underline)&&No.isEmpty(t.color)},toXml:function(t){var e=[Object(c.d)(t.bold)&&t.bold?Ao.toXml("b",{}):"",Object(c.d)(t.size)?Ao.toXml("sz",{val:t.size}):"",Object(c.d)(t.color)?No.toXml("color",t.color):"",Object(c.d)(t.name)?Ao.toXml("name",{val:t.name}):"",Object(c.d)(t.family)?Ao.toXml("family",{val:t.family}):"",Object(c.d)(t.scheme)?Ao.toXml("scheme",{val:t.scheme}):"",Object(c.d)(t.italic)&&t.italic?Ao.toXml("i",{}):"",Object(c.d)(t.underline)?Ao.toXml("u",{val:t.underline}):""].join("");return Ao.toXml("font",{},e)}},Wo=Uo,Ko={tryCreateTag:function(t,e){var n=null;if(Object(c.d)(t)){var i;i="number"===typeof t.numberFormat?t.numberFormat:e.registerNumberFormat(t.numberFormat);var o=t.fill;Object(c.d)(o)||(o=Vo.tryCreateFillFromSimpleFormat(t)),n={numberFormatId:i,alignment:Bo.tryCreateTag(t.alignment),fontId:e.registerFont(t.font),fillId:e.registerFill(o)},Ko.isEmpty(n)&&(n=null)}return n},copy:function(t){var e;return null===t?e=null:Object(c.d)(t)&&(e={},void 0!==t.numberFormat&&(e.numberFormat=t.numberFormat),void 0!==t.fill?e.fill=Vo.copy(t.fill):Vo.copySimpleFormat(t,e),void 0!==t.alignment&&(e.alignment=Bo.copy(t.alignment)),void 0!==t.font&&(e.font=Wo.copy(t.font))),e},areEqual:function(t,e){return Ko.isEmpty(t)&&Ko.isEmpty(e)||Object(c.d)(t)&&Object(c.d)(e)&&t.fontId===e.fontId&&t.numberFormatId===e.numberFormatId&&t.fillId===e.fillId&&Bo.areEqual(t.alignment,e.alignment)},isEmpty:function(t){return!Object(c.d)(t)||!Object(c.d)(t.fontId)&&!Object(c.d)(t.numberFormatId)&&!Object(c.d)(t.fillId)&&Bo.isEmpty(t.alignment)},toXml:function(t){var e,n=Bo.isEmpty(t.alignment);return Object(c.d)(t.numberFormatId)&&(e=t.numberFormatId>0?1:0),Ao.toXml("xf",{xfId:0,applyAlignment:n?null:1,fontId:t.fontId,applyNumberFormat:e,fillId:t.fillId,numFmtId:t.numberFormatId},n?null:Bo.toXml(t.alignment))}},$o=Ko,Go={ID_PROPERTY_NAME:"id",tryCreateTag:function(t){var e=null;return"string"===typeof t&&(e={formatCode:t},Go.isEmpty(e)&&(e=null)),e},areEqual:function(t,e){return Go.isEmpty(t)&&Go.isEmpty(e)||Object(c.d)(t)&&Object(c.d)(e)&&t.formatCode===e.formatCode},isEmpty:function(t){return!Object(c.d)(t)||!Object(c.d)(t.formatCode)||""===t.formatCode},toXml:function(t){return Ao.toXml("numFmt",{numFmtId:t[Go.ID_PROPERTY_NAME],formatCode:t.formatCode})}},qo=Go,Zo=function(){function t(){Object(Mo.a)(this,t),this._cellFormatTags=[],this._fillTags=[],this._fontTags=[],this._numberFormatTags=[],this._fillTags.push(Vo.tryCreateTag({patternFill:{patternType:"none"}}))}return Object(Do.a)(t,[{key:"registerCellFormat",value:function(t){var e,n=$o.tryCreateTag(t,{registerFill:this.registerFill.bind(this),registerFont:this.registerFont.bind(this),registerNumberFormat:this.registerNumberFormat.bind(this)});if(Object(c.d)(n)){for(var i=0;i<this._cellFormatTags.length;i++)if($o.areEqual(this._cellFormatTags[i],n)){e=i;break}void 0===e&&(e=this._cellFormatTags.push(n)-1)}return e}},{key:"generateCellFormatsXml",value:function(){var t=this._cellFormatTags.map(function(t){return $o.toXml(t)});return Ao.toXml("cellXfs",{count:t.length},t.join(""))}},{key:"registerFill",value:function(t){var e,n=Vo.tryCreateTag(t);if(Object(c.d)(n)){for(var i=0;i<this._fillTags.length;i++)if(Vo.areEqual(this._fillTags[i],n)){e=i;break}void 0===e&&(this._fillTags.length<2&&this._fillTags.push(Vo.tryCreateTag({patternFill:{patternType:"Gray125"}})),e=this._fillTags.push(n)-1)}return e}},{key:"generateFillsXml",value:function(){var t=this._fillTags.map(function(t){return Vo.toXml(t)});return Ao.toXml("fills",{count:t.length},t.join(""))}},{key:"registerFont",value:function(t){var e,n=Wo.tryCreateTag(t);if(Object(c.d)(n)){for(var i=0;i<this._fontTags.length;i++)if(Wo.areEqual(this._fontTags[i],n)){e=i;break}void 0===e&&(e=this._fontTags.push(n)-1)}return e}},{key:"generateFontsXml",value:function(){var t=this._fontTags.map(function(t){return Wo.toXml(t)});return Ao.toXml("fonts",{count:t.length},t.join(""))}},{key:"_convertNumberFormatIndexToId",value:function(t){return 165+t}},{key:"registerNumberFormat",value:function(t){var e,n=qo.tryCreateTag(t);if(Object(c.d)(n)){for(var i=0;i<this._numberFormatTags.length;i++)if(qo.areEqual(this._numberFormatTags[i],n)){e=this._numberFormatTags[i][qo.ID_PROPERTY_NAME];break}void 0===e&&(n[qo.ID_PROPERTY_NAME]=this._convertNumberFormatIndexToId(this._numberFormatTags.length),e=n[qo.ID_PROPERTY_NAME],this._numberFormatTags.push(n))}return e}},{key:"generateNumberFormatsXml",value:function(){if(this._numberFormatTags.length>0){var t=this._numberFormatTags.map(function(t){return qo.toXml(t)});return Ao.toXml("numFmts",{count:t.length},t.join(""))}return""}}],[{key:"copyCellFormat",value:function(t){return $o.copy(t)}}]),t}(),Yo='<?xml version="1.0" encoding="utf-8"?>',Xo="http://schemas.openxmlformats.org",Qo={boolean:"b",date:"d",number:"n",string:"s"},Jo=Date.UTC(1899,11,30),tr={quarter:"shortDate",quarterAndYear:"shortDate",minute:"longTime",millisecond:"longTime"},er=st.a.inherit({_getXMLTag:function(t,e,n){var i,o,r="<"+t,a=e.length;for(i=0;i<a;i++)void 0!==(o=e[i]).value&&(r=r+" "+o.name+'="'+o.value+'"');return Object(c.d)(n)?r+">"+n+"</"+t+">":r+" />"},_convertToExcelCellRef:function(t,e){for(var n,i,o="";!i;)n=65+(e>=26?e%26:Math.ceil(e)),o=String.fromCharCode(n)+o,e>=26?e=Math.floor(e/26)-1:i=!0;return o+(t+1)},_convertToExcelCellRefAndTrackMaxIndex:function(t,e){return this._maxRowIndex<Number(t)&&(this._maxRowIndex=Number(t)),this._maxColumnIndex<Number(e)&&(this._maxColumnIndex=Number(e)),this._convertToExcelCellRef(t,e)},_getDataType:function(t){return Qo[t]||Qo.string},_tryGetExcelCellDataType:function(t){if(Object(c.d)(t)){if("number"===typeof t)return isFinite(t)?Qo.number:Qo.string;if(Object(c.o)(t))return Qo.string;if(Object(c.b)(t))return Qo.number;if(Object(c.a)(t))return Qo.boolean}},_formatObjectConverter:function(t,e){var n={format:t,precision:t&&t.precision,dataType:e};return Object(c.j)(t)?Object(a.a)(n,t,{format:t.formatter||t.type,currency:t.currency}):n},_tryConvertToExcelNumberFormat:function(t,e){var n=this._formatObjectConverter(t,e);t=n.format;var i=n.currency;return e=n.dataType,Object(c.d)(t)&&"date"===e&&(t=tr[t&&t.type||t]||t),jo.convertFormat(t,n.precision,e,i)},_appendString:function(t){if(Object(c.d)(t)&&(t=String(t)).length)return t=Object(Mi.a)(t),void 0===this._stringHash[t]&&(this._stringHash[t]=this._stringArray.length,this._stringArray.push(t)),this._stringHash[t]},_tryGetExcelDateValue:function(t){var e;if(Object(c.b)(t))return(e=Math.floor((Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())-Jo)/864e5))<60&&e--,e+(3600*t.getHours()+60*t.getMinutes()+t.getSeconds())/86400},_prepareValue:function(t,e){var n,i=this._dataProvider,o=(i.getCellData(t,e)||{}).cellSourceData,r=(i.getCellData(t,e)||{}).value,a=this._getDataType(i.getCellType(t,e));switch(a!==Qo.date||Object(c.b)(r)||(a=Qo.string),a){case Qo.string:n=r,r=this._appendString(r);break;case Qo.date:n=r,r=this._tryGetExcelDateValue(r),a=Qo.number}return{value:r,type:a,sourceValue:n,cellSourceData:o}},_callCustomizeExcelCell:function(t){var e=t.dataProvider,n=t.value,i=t.style,o=t.sourceData,r=Zo.copyCellFormat(i),a={value:n,numberFormat:r.numberFormat,clearStyle:function(){this.horizontalAlignment=null,this.verticalAlignment=null,this.wrapTextEnabled=null,this.font=null,this.numberFormat=null}};Object(c.d)(r)&&(Object(c.d)(r.alignment)&&(a.horizontalAlignment=r.alignment.horizontal,a.verticalAlignment=r.alignment.vertical,a.wrapTextEnabled=r.alignment.wrapText),a.backgroundColor=r.backgroundColor,a.fillPatternType=r.fillPatternType,a.fillPatternColor=r.fillPatternColor,a.font=r.font),e.customizeExcelCell(a,o);var s=r||{};return s.font=a.font,s.alignment=s.alignment||{},s.alignment.horizontal=a.horizontalAlignment,s.alignment.vertical=a.verticalAlignment,s.alignment.wrapText=a.wrapTextEnabled,s.backgroundColor=a.backgroundColor,s.fillPatternType=a.fillPatternType,s.fillPatternColor=a.fillPatternColor,s.numberFormat=a.numberFormat,{value:a.value,style:s}},_getDataArray:function(){var t,e,n,i,o,r=[],a=this._dataProvider,s=a.getRowsCount(),l=a.getColumns();for(t=0;t<s;t++){for(n=[],o=l.length,e=0;e!==o;e++){i=this._prepareValue(t,e);var u=a.getStyleId(t,e),h=this._styleArrayIndexToCellStyleIdMap[u];if(a.hasCustomizeExcelCell&&a.hasCustomizeExcelCell()){var d=i.sourceValue||i.value,p=this._callCustomizeExcelCell({dataProvider:a,value:d,style:this._styleArray[u],sourceData:i.cellSourceData});if(p.value!==d){if(typeof p.value!==typeof d||"number"===typeof p.value&&!isFinite(p.value)){var f=this._tryGetExcelCellDataType(p.value);Object(c.d)(f)&&(i.type=f)}switch(i.type){case Qo.string:i.value=this._appendString(p.value);break;case Qo.date:i.value=p.value;break;case Qo.number:var m=p.value,g=this._tryGetExcelDateValue(m);Object(c.d)(g)&&(m=g),i.value=m;break;default:i.value=p.value}}h=this._excelFile.registerCellFormat(p.style)}n.push({style:h,value:i.value,type:i.type})}!this._needSheetPr&&a.getGroupLevel(t)>0&&(this._needSheetPr=!0),r.push(n)}return r},_calculateWidth:function(t){return(!(t=parseInt(t,10))||t<5)&&(t=100),Math.min(255,Math.floor((t-5)/7*100+.5)/100)},_prepareStyleData:function(){var t=this,e=this,n=e._dataProvider.getStyles();e._dataProvider.getColumns().forEach(function(t){e._colsArray.push(e._calculateWidth(t.width))});var i=[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor",bold:!1},{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor",bold:!0}];this._excelFile.registerFont(i[0]),this._excelFile.registerFont(i[1]),n.forEach(function(t){var n=e._tryConvertToExcelNumberFormat(t.format,t.dataType);Object(c.d)(n)||(n=0),e._styleArray.push({font:i[Number(!!t.bold)],numberFormat:n,alignment:{vertical:"top",wrapText:!!t.wrapText,horizontal:t.alignment||"left"}})}),e._styleArrayIndexToCellStyleIdMap=e._styleArray.map(function(e){return t._excelFile.registerCellFormat(e)})},_prepareCellData:function(){this._cellsArray=this._getDataArray()},_createXMLRelationships:function(t){return this._getXMLTag("Relationships",[{name:"xmlns",value:Xo+"/package/2006/relationships"}],t)},_createXMLRelationship:function(t,e,n){return this._getXMLTag("Relationship",[{name:"Id",value:"rId"+t},{name:"Type",value:Xo+"/officeDocument/2006/relationships/"+e},{name:"Target",value:n}])},_getWorkbookContent:function(){return Yo+this._getXMLTag("workbook",[{name:"xmlns:r",value:Xo+"/officeDocument/2006/relationships"},{name:"xmlns",value:Xo+"/spreadsheetml/2006/main"}],'<bookViews><workbookView xWindow="0" yWindow="0" windowWidth="0" windowHeight="0"/></bookViews><sheets><sheet name="Sheet" sheetId="1" r:id="rId1" /></sheets><definedNames><definedName name="_xlnm.Print_Titles" localSheetId="0">Sheet!$1:$1</definedName><definedName name="_xlnm._FilterDatabase" hidden="0" localSheetId="0">Sheet!$A$1:$F$6332</definedName></definedNames>')},_getContentTypesContent:function(){return Yo+'<Types xmlns="'+Xo+'/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="xml" ContentType="application/xml" /><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /></Types>'},_generateStylesXML:function(){var t=this._zip.folder("xl"),e="";e+=this._excelFile.generateNumberFormatsXml(),e+=this._excelFile.generateFontsXml(),e+=this._excelFile.generateFillsXml(),e+='<borders count="1"><border><left style="thin"><color rgb="FFD3D3D3"/></left><right style="thin"><color rgb="FFD3D3D3"/></right><top style="thin"><color rgb="FFD3D3D3"/></top><bottom style="thin"><color rgb="FFD3D3D3"/></bottom></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',e+=this._excelFile.generateCellFormatsXml(),e+=this._getXMLTag("cellStyles",[{name:"count",value:1}],this._getXMLTag("cellStyle",[{name:"name",value:"Normal"},{name:"xfId",value:0},{name:"builtinId",value:0}])),e=Yo+this._getXMLTag("styleSheet",[{name:"xmlns",value:Xo+"/spreadsheetml/2006/main"}],e),t.file("styles.xml",e),this._styleArray=[]},_generateStringsXML:function(){var t,e=this._zip.folder("xl"),n=this._stringArray.length,i=Yo;for(t=0;t<n;t++)this._stringArray[t]=this._getXMLTag("si",[],this._getXMLTag("t",[],this._stringArray[t]));i+=this._getXMLTag("sst",[{name:"xmlns",value:Xo+"/spreadsheetml/2006/main"},{name:"count",value:this._stringArray.length},{name:"uniqueCount",value:this._stringArray.length}],this._stringArray.join("")),e.file("sharedStrings.xml",i),this._stringArray=[]},_getPaneXML:function(){var t=[{name:"activePane",value:"bottomLeft"},{name:"state",value:"frozen"}],e=this._dataProvider.getFrozenArea();return e.x||e.y?(e.x&&t.push({name:"xSplit",value:e.x}),e.y&&t.push({name:"ySplit",value:e.y}),t.push({name:"topLeftCell",value:this._convertToExcelCellRefAndTrackMaxIndex(e.y,e.x)}),this._getXMLTag("pane",t)):""},_getAutoFilterXML:function(t){return this._options.autoFilterEnabled?'<autoFilter ref="A'+this._dataProvider.getHeaderRowCount()+":"+t+'" />':""},_generateWorksheetXML:function(){var t,e,n,i,o,r=[],a=this._cellsArray.length,s=this._colsArray.length,l="1:"+s,u=this._dataProvider.getHeaderRowCount?this._dataProvider.getHeaderRowCount():1,h=['<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">'];for(h.push(this._needSheetPr?'<sheetPr><outlinePr summaryBelow="0"/></sheetPr>':"<sheetPr/>"),h.push('<dimension ref="A1:C1"/>'),h.push("<sheetViews><sheetView "),h.push(this._rtlEnabled?'rightToLeft="1" ':""),h.push('tabSelected="1" workbookViewId="0">'),h.push(this._getPaneXML()),h.push("</sheetView></sheetViews>"),h.push('<sheetFormatPr defaultRowHeight="15"'),h.push(' outlineLevelRow="'+(this._dataProvider.getRowsCount()>0?this._dataProvider.getGroupLevel(0):0)+'"'),h.push(' x14ac:dyDescent="0.25"/>'),t=0;t<s;t++)this._colsArray[t]=this._getXMLTag("col",[{name:"width",value:this._colsArray[t]},{name:"min",value:Number(t)+1},{name:"max",value:Number(t)+1},{name:"customWidth",value:1}]);for(h.push(this._getXMLTag("cols",[],this._colsArray.join(""))+"<sheetData>"),e=0;e<a;e++){for(i=[],o=this._cellsArray[e].length,t=0;t<o;t++)e=Number(e),n=this._cellsArray[e][t],i.push(this._getXMLTag("c",[{name:"r",value:this._convertToExcelCellRefAndTrackMaxIndex(e,t)},{name:"s",value:n.style},{name:"t",value:n.type}],Object(c.d)(n.value)?this._getXMLTag("v",[],n.value):null));r.push(this._getXMLTag("row",[{name:"r",value:Number(e)+1},{name:"spans",value:l},{name:"outlineLevel",value:e>=u?this._dataProvider.getGroupLevel(e):0},{name:"x14ac:dyDescent",value:"0.25"}],i.join(""))),this._cellsArray[e]=null,r.length>1e4&&(h.push(r.join("")),r=[])}h.push(r.join(""));var d=this._convertToExcelCellRef(this._maxRowIndex,this._maxColumnIndex);h.push("</sheetData>"+this._getAutoFilterXML(d)+this._generateMergingXML()+"</worksheet>"),this._zip.folder("xl").folder("worksheets").file("sheet1.xml",h.join("")),this._colsArray=[],this._cellsArray=[]},_generateMergingXML:function(){var t,e,n,i,o,r=Object(c.d)(this._dataProvider.getHeaderRowCount)?this._dataProvider.getHeaderRowCount():this._dataProvider.getRowsCount(),a=this._dataProvider.getColumns().length,s=[],l=[],u="";for(i=0;i<r;i++)for(n=0;n!==a;n++)if(!Object(c.d)(s[i])||!Object(c.d)(s[i][n])){var h=this._dataProvider.getCellMerging(i,n);if(h.colspan||h.rowspan)for(l.push({start:this._convertToExcelCellRefAndTrackMaxIndex(i,n),end:this._convertToExcelCellRefAndTrackMaxIndex(i+(h.rowspan||0),n+(h.colspan||0))}),t=i;t<=i+h.rowspan;t++)for(e=n;e<=n+h.colspan;e++)Object(c.d)(s[t])||(s[t]=[]),s[t][e]=!0}var d=l.length;for(o=0;o<d;o++)u+=this._getXMLTag("mergeCell",[{name:"ref",value:l[o].start+":"+l[o].end}]);return u.length?this._getXMLTag("mergeCells",[{name:"count",value:d}],u):""},_generateCommonXML:function(){var t=Yo+this._createXMLRelationships(this._createXMLRelationship(1,"officeDocument","xl/workbook.xml")),e=this._zip.folder("xl"),n=Yo;this._zip.folder("_rels").file(".rels",t);var i=this._createXMLRelationship(1,"worksheet","worksheets/sheet1.xml")+this._createXMLRelationship(2,"styles","styles.xml")+this._createXMLRelationship(3,"sharedStrings","sharedStrings.xml");n+=this._createXMLRelationships(i),e.folder("_rels").file("workbook.xml.rels",n),e.file("workbook.xml",this._getWorkbookContent()),this._zip.file("[Content_Types].xml",this._getContentTypesContent())},_generateContent:function(){this._prepareStyleData(),this._prepareCellData(),this._generateWorkXML(),this._generateCommonXML()},_generateWorkXML:function(){this._generateStylesXML(),this._generateStringsXML(),this._generateWorksheetXML()},ctor:function(t,e){this._rtlEnabled=e&&!!e.rtlEnabled,this._options=e,this._maxRowIndex=0,this._maxColumnIndex=0,this._stringArray=[],this._stringHash={},this._styleArray=[],this._colsArray=[],this._cellsArray=[],this._needSheetPr=!1,this._dataProvider=t,this._excelFile=new Zo,Object(c.d)(er.JSZip)?this._zip=new er.JSZip:this._zip=null},_checkZipState:function(){if(!this._zip)throw vo.a.Error("E1041","JSZip")},ready:function(){return this._dataProvider.ready()},getData:function(t){var e={type:t?"blob":"base64",compression:"DEFLATE",mimeType:go.a.EXCEL},n=new Ii.a;return this._checkZipState(),this._generateContent(),this._zip.generateAsync?this._zip.generateAsync(e).then(n.resolve):n.resolve(this._zip.generate(e)),n}});er.JSZip=_o.a;var nr,ir=n(48),or=n(51),rr=Object(rt.d)(),ar=Math,sr=ar.PI,lr=ar.min,cr=ar.abs,ur=ar.sqrt,hr=ar.pow,dr=ar.atan2,pr=ar.cos,fr=ar.sin,mr=Number,gr=1,vr=.05,yr="10px",_r="sans-serif",br="#000";function Cr(t,e,n,i,o,r,a,s){var l=(t+n)/2,c=(e+i)/2,u=dr(e-i,t-n),h=r?1:-1;u+=sr/180*90*(a?1:-1);var d=ur(hr(n-t,2)+hr(i-e,2))/2,p=ur(cr(hr(o,2)-hr(d,2))),f=l+h*(p*pr(u)),m=c+h*(p*fr(u)),g=dr(e-m,t-f),v=dr(i-m,n-f);s.arc(f,m,o,g,v,!a)}function Or(t,e){var n,i=nr(t.attributes||{}),o=Object(a.a)({},i,{text:t.textContent.replace(/\s+/g," "),textAlign:"middle"===i["text-anchor"]?"center":i["text-anchor"]}),r=i.transform;return r&&((n=r.match(/translate\(-*\d+([.]\d+)*(,*\s*-*\d+([.]\d+)*)*/))&&(n=n[0].match(/-*\d+([.]\d+)*/g),o.translateX=mr(n[0]),o.translateY=n[1]?mr(n[1]):0),(n=r.match(/rotate\(-*\d+([.]\d+)*(,*\s*-*\d+([.]\d+)*,*\s*-*\d+([.]\d+)*)*/))&&(n=n[0].match(/-*\d+([.]\d+)*/g),o.rotationAngle=mr(n[0]),o.rotationX=n[1]&&mr(n[1]),o.rotationY=n[2]&&mr(n[2])),(n=r.match(/scale\(-*\d+([.]\d+)*(,*\s*-*\d+([.]\d+)*)*/))&&(n=n[0].match(/-*\d+([.]\d+)*/g),o.scaleX=mr(n[0]),n.length>1?o.scaleY=mr(n[1]):o.scaleY=o.scaleX)),function(t,e,n){var i,o=t.style||{};for(i in o)""!==o[i]&&(e[Object(or.a)(i)]=o[i]);n&&at.a.isElementNode(t)&&(o=rr.getComputedStyle(t),["fill","stroke","stroke-width","font-family","font-size","font-style","font-weight"].forEach(function(t){t in o&&""!==o[t]&&(e[Object(or.a)(t)]=o[t])}),["opacity","fill-opacity","stroke-opacity"].forEach(function(t){t in o&&""!==o[t]&&"1"!==o[t]&&(e[t]=mr(o[t]))}));e.textDecoration=e.textDecoration||e.textDecorationLine,e.globalAlpha=Object(c.d)(e.opacity)?e.opacity:e.globalAlpha}(t,o,e),o}function xr(t){var e=t&&t.match(/url\(.*#(.*?)["']?\)/i);return e&&e[1]}function Sr(t,e){var n=[];e.fontSize=e.fontSize||yr,e.fontFamily=e.fontFamily||_r,e.fill=e.fill||br,e.fontStyle&&n.push(e.fontStyle),e.fontWeight&&n.push(e.fontWeight),n.push(e.fontSize),n.push(e.fontFamily),t.font=n.join(" "),t.textAlign=e.textAlign,t.fillStyle=e.fill,t.globalAlpha=e.globalAlpha}function wr(t,e,n){Sr(t,e),Er(t,e,n),e.text&&t.fillText(e.text,e.x||0,e.y||0),Dr(t,e,!0),function(t,e,n){if(!e.textDecoration||"none"===e.textDecoration)return;var i=e.x,o=t.measureText(e.text).width,r=parseInt(e.fontSize,10),a=r*vr<1?1:r*vr,s=e.y;switch(e.textDecoration){case"line-through":s-=r/3+a/2;break;case"overline":s-=r-a;break;case"underline":s+=a}t.rect(i,s,o,a),Ar(t,e,n),Dr(t,e)}(t,e,n)}function Pr(t){for(var e=t.childNodes,n=0;n<e.length;n++)if("tspan"===e[n].tagName)return!0;return!1}function kr(t,e,n,i){var o=t.tagName,r="text"===o||"tspan"===o||void 0===o,s="image"===o,l=Object(a.a)({},n,Or(t,i.rootAppended));if("hidden"!==l.visibility&&!l[je]){var c;switch(e.save(),!s&&Tr(e,l),Ir(e,l,i),function(t){t.strokeOpacity=void 0!==t["stroke-opacity"]?t["stroke-opacity"]:1,t.fillOpacity=void 0!==t["fill-opacity"]?t["fill-opacity"]:1,void 0!==t.opacity&&(t.strokeOpacity*=t.opacity,t.fillOpacity*=t.opacity)}(l),e.beginPath(),t.tagName){case void 0:wr(e,l,i);break;case"text":case"tspan":!function t(e,n,i,o){for(var r,s=[],l=0,c=0;c<e.length;c++){var u=e[c];if(void 0===u.tagName)kr(u,n,i,o);else if("tspan"===u.tagName||"text"===u.tagName){var h=Or(u,o.rootAppended),d=Object(a.a)({},i,h);if("tspan"===u.tagName&&Pr(u)){t(u.childNodes,n,d,o);continue}d.textAlign="start",r&&void 0===h.x||(r={elements:[],options:[],widths:[],offsets:[]},s.push(r)),void 0!==h.y&&(l=0),void 0!==h.dy&&(l+=parseFloat(h.dy)),r.elements.push(u),r.options.push(d),r.offsets.push(l),Sr(n,d),r.widths.push(n.measureText(d.text).width)}}s.forEach(function(e){var r=e.widths.reduce(function(t,e){return t+e},0),a=0,s=0;"center"===i.textAlign&&(a=r/2),"end"===i.textAlign&&(a=r),e.options.forEach(function(t,n){var i=e.widths[n];t.x=t.x-a+s,t.y+=e.offsets[n],s+=i}),e.elements.forEach(function(i,r){t(i.childNodes,n,e.options[r],o)})})}(t.childNodes,e,l,i);break;case"image":c=function(t,e,n){var i=new Ii.a,o=new rr.Image;return o.onload=function(){t.save(),t.globalAlpha=e.globalAlpha,Tr(t,e),Ir(t,e,n),t.drawImage(o,e.x||0,e.y||0,e.width,e.height),t.restore(),i.resolve()},o.onerror=function(){i.resolve()},o.setAttribute("crossOrigin","anonymous"),o.src=e.href||e["xlink:href"],i}(e,l,i);break;case"path":!function(t,e){var n,i,o,r=e.replace(/,/g," ").split(/([A-Z])/i).filter(function(t){return""!==t.trim()}),a=0;do{switch(n=(r[a+1]||"").trim().split(" "),r[a]){case"M":t.moveTo(mr(n[0]),mr(n[1])),a+=2;break;case"L":for(var s=0;s<n.length/2;s++)t.lineTo(mr(n[2*s]),mr(n[2*s+1]));a+=2;break;case"C":t.bezierCurveTo(mr(n[0]),mr(n[1]),mr(n[2]),mr(n[3]),mr(n[4]),mr(n[5])),a+=2;break;case"a":o=(i=r[a-1].trim().split(" ")).length-1,Cr(mr(i[o-1]),mr(i[o]),mr(i[o-1])+mr(n[5]),mr(i[o])+mr(n[6]),mr(n[0]),mr(n[3]),mr(n[4]),t),a+=2;break;case"A":o=(i=r[a-1].trim().split(" ")).length-1,Cr(mr(i[o-1]),mr(i[o]),mr(n[5]),mr(n[6]),mr(n[0]),mr(n[3]),mr(n[4]),t),a+=2;break;case"Z":t.closePath(),a+=1;break;default:a++}}while(a<r.length)}(e,l.d);break;case"rect":!function(t,e){var n=e.x,i=e.y,o=e.width,r=e.height,a=e.rx;a?(a=lr(a,o/2,r/2),t.save(),t.translate(n,i),t.moveTo(o/2,0),t.arcTo(o,0,o,r,a),t.arcTo(o,r,0,r,a),t.arcTo(0,r,0,0,a),t.arcTo(0,0,a,0,a),t.lineTo(o/2,0),t.restore()):t.rect(n,i,o,r)}(e,l),e.closePath();break;case"circle":e.arc(l.cx,l.cy,l.r,0,2*sr,1)}return r||(Er(e,l,i),Ar(e,l,i),Dr(e,l)),function(t,e,n,i){var o=n.gradients;if(0===o.length)return;var r=xr(e.fill);if(r&&o[r]){var a=i.getBBox(),s=t.createLinearGradient(a.x,0,a.x+a.width,0);o[r].forEach(function(t){var e=parseInt(t.offset.replace(/%/,""));s.addColorStop(e/100,t.stopColor)}),t.globalAlpha=e.opacity,t.fillStyle=s,t.fill()}}(e,l,i,t),e.restore(),c}}function Er(t,e,n){var i,o=xr(e.filter);o&&((i=n.filters[o])||(i={offsetX:0,offsetY:0,blur:0,color:"#000"}),t.shadowOffsetX=i.offsetX,t.shadowOffsetY=i.offsetY,t.shadowColor=i.color,t.shadowBlur=i.blur)}function Tr(t,e){t.translate(e.translateX||0,e.translateY||0),e.translateX=void 0,e.translateY=void 0,e.rotationAngle&&(t.translate(e.rotationX||0,e.rotationY||0),t.rotate(e.rotationAngle*sr/180),t.translate(-(e.rotationX||0),-(e.rotationY||0)),e.rotationAngle=void 0,e.rotationX=void 0,e.rotationY=void 0),isFinite(e.scaleX)&&(t.scale(e.scaleX,e.scaleY),e.scaleX=void 0,e.scaleY=void 0)}function Ir(t,e,n){e["clip-path"]&&(kr(n.clipPaths[xr(e["clip-path"])],t,{},n),t.clip(),e["clip-path"]=void 0)}function jr(t){var e,n,i={};return Object(s.a)(t.childNodes,function(t,o){var r=o.attributes;if(r.result)switch(r.result.value){case"gaussianBlurResult":i.blur=mr(r.stdDeviation.value);break;case"offsetResult":i.offsetX=mr(r.dx.value),i.offsetY=mr(r.dy.value);break;case"floodResult":e=r["flood-color"]?r["flood-color"].value:"#000",n=r["flood-opacity"]?r["flood-opacity"].value:1,i.color=function(t,e){var n=new d.a(t);return"rgba("+n.r+","+n.g+","+n.b+","+e+")"}(e,n)}}),i}function Mr(t,e,n,i){return function t(e,n){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ii.a,o=0;o<e.length;o++){var r=n(e[o]);if(Object(c.m)(r)){r.then(function(){t(Array.prototype.slice.call(e,o+1),n,i)});break}}return o===e.length&&i.resolve(),i}(t,function(t){switch(t.tagName&&t.tagName.toLowerCase()){case"g":case"svg":var o=Object(a.a)({},n,Or(t,i.rootAppended));e.save(),Tr(e,o),Ir(e,o,i);var r=function(){e.restore()},l=Mr(t.childNodes,e,o,i);return Object(c.m)(l)?l.then(r):r(),l;case"defs":return Mr(t.childNodes,e,{},i);case"clippath":i.clipPaths[t.attributes.id.textContent]=t.childNodes[0];break;case"pattern":i.patterns[t.attributes.id.textContent]=t;break;case"filter":i.filters[t.id]=jr(t);break;case"lineargradient":i.gradients[t.attributes.id.textContent]=function(t){var e=[];return Object(s.a)(t.childNodes,function(t,n){var i=n.attributes;e.push({offset:i.offset.value,stopColor:i["stop-color"].value})}),e}(t);break;default:return kr(t,e,n,i)}})}function Dr(t,e,n){var i=e.stroke;i&&"none"!==i&&0!==e["stroke-width"]&&(!function(t,e){var n=e["stroke-dasharray"]&&e["stroke-dasharray"].match(/(\d+)/g);n&&n.length&&(n=Object(s.b)(n,function(t){return mr(t)}),t.setLineDash(n))}(t,e),t.lineJoin=e["stroke-linejoin"],t.lineWidth=e["stroke-width"],t.globalAlpha=e.strokeOpacity,t.strokeStyle=i,n?t.strokeText(e.text,e.x,e.y):t.stroke(),t.globalAlpha=1)}function Ar(t,e,n){var i=e.fill;if(i&&"none"!==i){if(-1===i.search(/url/))t.fillStyle=i;else{var o=n.patterns[xr(i)];if(!o)return;t.fillStyle=function(t,e,n){var i=Or(e,n.rootAppended),o=Lr._createCanvas(i.width,i.height,0),r=o.getContext("2d");return Mr(e.childNodes,r,i,n),t.createPattern(o,"repeat")}(t,o,n)}t.globalAlpha=e.fillOpacity,t.fill(),t.globalAlpha=1}}function Rr(t,e,n){return Mr(t.childNodes,e.getContext("2d"),{},{clipPaths:{},patterns:{},filters:{},gradients:{},rootAppended:n})}function Br(t,e){var n=e.width,i=e.height,o=e.backgroundColor,r=e.margin,a=e.svgToCanvas,s=void 0===a?Rr:a,l=Nr(n,i),c=Lr._createCanvas(l.width,l.height,r),u=c.getContext("2d");u.setTransform(l.pixelRatio,0,0,l.pixelRatio,0,0);var h,d=De(t),p=at.a.isElementNode(t);return u.translate(r,r),at.a.getBody().appendChild(c),p||((h=function(){var t=at.a.createElement("div");return t.style.left="-9999px",t.style.position="absolute",t}()).appendChild(d),at.a.getBody().appendChild(h)),d.attributes.direction&&(c.dir=d.attributes.direction.textContent),function(t,e,n,i,o){t.fillStyle=i||"#ffffff",t.fillRect(-o,-o,e+2*o,n+2*o)}(u,n,i,o,r),Object(Ii.b)(s(d,c,p&&Object(ir.c)(at.a.getBody(),t))).then(function(){return c}).always(function(){h&&at.a.getBody().removeChild(h),at.a.getBody().removeChild(c)})}nr=function(t){var e,n={};return Object(s.a)(t,function(t,i){e=i.textContent,isFinite(e)&&(e=mr(e)),n[i.name.toLowerCase()]=e}),n};var Lr={getImageData:function(t,e){var n="image/"+e.format;return Object(c.h)(e.__parseAttributesFn)&&(nr=e.__parseAttributesFn),Br(t,e).then(function(t){return function(t,e){var n=t.toDataURL(e,gr);return rr.atob(n.substring(("data:"+e+";base64,").length))}(t,n)})},getData:function(t,e){var n=this;return Lr.getImageData(t,e).then(function(t){var i="image/"+e.format;return Object(c.h)(rr.Blob)&&!e.useBase64?n._getBlob(t,i):n._getBase64(t)})},_getBlob:function(t,e){var n,i=new Uint8Array(t.length);for(n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return new rr.Blob([i.buffer],{type:e})},_getBase64:function(t){return rr.btoa(t)},_createCanvas:function(t,e,n){var i=Object(ot.a)("<canvas>")[0];return i.width=t+2*n,i.height=e+2*n,i.hidden=!0,i}};function Nr(t,e){var n=rr.devicePixelRatio||1;return{pixelRatio:n,width:t*n,height:e*n}}var zr=n(145),Fr=Object(rt.d)(),Hr={_markup:"",_imageArray:{},_imageDeferreds:[],_getBinaryFile:function(t,e){zr.a.sendRequest({url:t,method:"GET",responseType:"arraybuffer"}).done(e).fail(function(){e(!1)})},_loadImages:function(){var t=this;Object(s.a)(t._imageArray,function(e){var n=new Ii.a;t._imageDeferreds.push(n),t._getBinaryFile(e,function(i){if(!i)return delete t._imageArray[e],void n.resolve();var o,r="",a=new Uint8Array(i),s=a.byteLength;for(o=0;o<s;o++)r+=String.fromCharCode(a[o]);t._imageArray[e]="data:image/png;base64,"+Fr.btoa(r),n.resolve()})})},_parseImages:function(t){var e,n=this;"image"===t.tagName&&(e=Object(ot.a)(t).attr("href")||Object(ot.a)(t).attr("xlink:href"),n._imageArray[e]||(n._imageArray[e]="")),Object(s.a)(t.childNodes,function(t,e){n._parseImages(e)})},_prepareImages:function(t){return this._parseImages(t),this._loadImages(),Ii.c.apply(ot.a,this._imageDeferreds)},getData:function(t,e){var n,i=this,o=De(t),r=Object(ot.a)(o);return r.find("[".concat(je,"]")).remove(),n='<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>'+Me(r.get(0),e.backgroundColor),i._prepareImages(o).then(function(){return Object(s.a)(i._imageArray,function(t,e){var i="href=['|\"]".concat(t,"['|\"]");n=n.replace(new RegExp(i,"gi"),'href="'.concat(e,'"'))}),Object(c.h)(Fr.Blob)?i._getBlob(n):i._getBase64(n)})},_getBlob:function(t){return new Fr.Blob([t],{type:"image/svg+xml"})},_getBase64:function(t){return Fr.btoa(t)}};var Vr=Object(rt.d)(),Ur="xref\r\n0 8\r\n0000000000 65535 f\r\n0000000241 00000 n\r\n0000000010 00000 n\r\n_main_ 00000 n\r\n0000000089 00000 n\r\n_image_ 00000 n\r\n_info_ 00000 n\r\n0000000143 00000 n\r\n",Wr=function t(e,n){return e.length<n?t("0"+e,n):e},Kr=function(t,e,n){var i=2*(e.margin||0),o=Nr(e.width,e.height),r=o.width,a=o.height;a+=i;var s,l,c,u=(.75*(r+=i)).toFixed(2),h=(.75*a).toFixed(2),d="%PDF-1.3\r\n2 0 obj\r\n<</ProcSet[/PDF/ImageB/ImageC/ImageI]/XObject<</I0 5 0 R>>>>\r\nendobj\r\n4 0 obj\r\n<</Type/Pages/Kids[1 0 R]/Count 1>>\r\nendobj\r\n7 0 obj\r\n<</OpenAction[1 0 R /FitH null]/Type/Catalog/Pages 4 0 R/PageLayout/OneColumn>>\r\nendobj\r\n1 0 obj\r\n<</Type/Page/Resources 2 0 R/MediaBox[0 0 _width_ _height_]/Contents 3 0 R/Parent 4 0 R>>\r\nendobj\r\n".replace("_width_",u).replace("_height_",h),p="3 0 obj\r\n<</Length 52>>stream\r\n0.20 w\n0 G\nq _width_ 0 0 _height_ 0.00 0.00 cm /I0 Do Q\r\nendstream\r\nendobj\r\n".replace("_width_",u).replace("_height_",h),f="6 0 obj\r\n<</CreationDate _date_/Producer(DevExtreme _version_)>>\r\nendobj\r\n".replace("_date_",n).replace("_version_",ji.a),m=d+p+f+("5 0 obj\r\n<</Type/XObject/Subtype/Image/Width _width_/Height _height_/ColorSpace/DeviceRGB/BitsPerComponent 8/Filter/DCTDecode/Length _length_>>stream\r\n".replace("_width_",r).replace("_height_",a).replace("_length_",t.length)+t+"\r\nendstream\r\nendobj\r\n");return m+(s=d.length,l=p.length,c=f.length,Ur.replace("_main_",Wr(s+"",10)).replace("_info_",Wr(s+l+"",10)).replace("_image_",Wr(s+l+c+"",10)))+"trailer\r\n<<\r\n/Size 8\r\n/Root 7 0 R\r\n/Info 6 0 R\r\n>>\r\nstartxref\r\n_length_\r\n%%EOF".replace("_length_",m.length)};var $r=function(){return new Date},Gr=function(t){for(var e=0,n=new Uint8Array(t.length);e<t.length;e++)n[e]=t.charCodeAt(e);return new Vr.Blob([n.buffer],{type:"application/pdf"})},qr=function(t){return Vr.btoa(t)};function Zr(t,e,n){if(!t)return(new Ii.a).resolve();var i=e.exportingAction,o=e.exportedAction,r=e.fileSavingAction,a={fileName:e.fileName,format:e.format,cancel:!1};return Object(c.a)(e.selectedRowsOnly)&&(a.selectedRowsOnly=e.selectedRowsOnly),Object(c.h)(i)&&i(a),a.cancel?(new Ii.a).resolve():n(t,e).then(function(t){if(Object(c.h)(o)&&o(),Object(c.h)(r)&&(a.data=t,r(a)),!a.cancel){var n="xlsx"===e.format?"EXCEL":e.format;go.b.saveAs(a.fileName,n,t)}})}var Yr={creator:Lr,getData:function(t,e){return Lr.getData(t,e)},testFormats:function(t){var e=Lr._createCanvas(100,100,0);return t.reduce(function(t,n){var i=("image/"+n).toLowerCase();return-1!==e.toDataURL(i).indexOf(i)?t.supported.push(n):t.unsupported.push(n),t},{supported:[],unsupported:[]})}},Xr={getData:function(t,e){return Lr.getImageData(t,Object(a.a)({},e,{format:"JPEG"})).then(function(t){var n=Kr(t,e,$r());return Object(c.h)(Vr.Blob)?Gr(n):qr(n)})}},Qr={creator:Hr,getData:function(t,e){return Hr.getData(t,e)}},Jr=n(8),ta=n(129),ea=n(112),na=[Qi.a.down,Qi.a.move].join(" "),ia=35,oa=[[9,12,26,12,26,14,9,14],[9,17,26,17,26,19,9,19],[9,22,26,22,26,24,9,24]],ra=4,aa=120,sa=8,la=15,ca=30,ua=1,ha="PNG",da=[ha,"JPEG","GIF"],pa=["PDF","SVG"],fa="dx-export-menu",ma="21cm",ga="export-element-type",va="export-element-format";function ya(){var t=Yr.testFormats(da);return{unsupported:t.unsupported,supported:t.supported.concat(pa)}}function _a(t,e,n){if(n=n||ya(),t=String(t).toUpperCase(),-1!==n.supported.indexOf(t))return t;-1!==n.unsupported.indexOf(t)&&e&&e("W2108",[t])}function ba(t){return"SVG"===t?Qr.getData:"PDF"===t?Xr.getData:Yr.getData}function Ca(t,e){var n=Object(rt.d)().document,i=n.createElement("iframe");i.onload=function(t,e){return function(){var n=this,i=this.contentWindow,o=i.document.createElement("img");i.document.body.appendChild(o);var r=function(t){t.style.width=ma;var e=Object(li.k)(t);return t.style.width="",e}(i.document.body)/e.width;r<1&&(i.document.body.style.transform="scale(".concat(r,")"),i.document.body.style["transform-origin"]="0 0");var a=function(){n.parentElement.removeChild(n)};o.addEventListener("load",function(){i.focus(),i.print()}),o.addEventListener("error",a),i.addEventListener("afterprint",function(){setTimeout(a,0)}),o.src=t}}(t,e),i.style.position="fixed",i.style.width="0",i.style.height="0",i.style.right="0",i.style.bottom="0",n.body.appendChild(i)}function Oa(t,e,n){var i={},o=n.type,r=n.format,a=function(t,e,n){var i=ia-aa,o=ia+ra+ua+n*ca,r={rect:{width:aa-2*ua,height:ca,x:i+ua,y:o},text:{x:i+(t.rtl?aa-la:la),y:o+ca-sa}};return"printing"===e&&(r.separator={stroke:t.button.default.borderColor,"stroke-width":ua,cursor:"pointer",sharp:"v",d:"M "+i+" "+(o+ca-ua)+" L "+(i+aa)+" "+(o+ca-ua)}),r}(e,o,n.itemIndex),s=$(e.font);s["pointer-events"]="none";var l=t.g().attr({class:fa+"-list-item"});i[ga]=o,r&&(i[va]=r);var c=t.rect();c.attr(a.rect).css({cursor:"pointer","pointer-events":"all"}).data(i),c.on(ta.b+".export",function(){return c.attr({fill:e.button.hover.backgroundColor})}).on(ta.a+".export",function(){return c.attr({fill:null})}),c.append(l);var u=t.text(n.text).css(s).attr(a.text).append(l);return"printing"===o&&t.path(null,"line").attr(a.separator).append(l),{g:l,rect:c,resetState:function(){return c.attr({fill:null})},fixPosition:function(){var t=u.getBBox();u.move(a.text.x-t.x-(e.rtl?t.width:0))}}}var xa=function(t){var e=this._renderer=t.renderer;this._incidentOccurred=t.incidentOccurred,this._exportTo=t.exportTo,this._print=t.print,this._shadow=e.shadowFilter("-50%","-50%","200%","200%",2,6,3),this._shadow.attr({opacity:.8}),this._group=e.g().attr(Object(lt.a)({class:fa},je,!0)).linkOn(e.root,{name:"export-menu",after:"peripheral"}),this._buttonGroup=e.g().attr({class:fa+"-button"}).append(this._group),this._listGroup=e.g().attr({class:fa+"-list"}).append(this._group),this._overlay=e.rect(-aa+ia,ia+ra,aa,0),this._overlay.attr({"stroke-width":ua,cursor:"pointer",rx:4,ry:4,filter:this._shadow.id}),this._overlay.data({"export-element-type":"list"}),this.validFormats=ya(),this._subscribeEvents()};function Sa(t,e,n,i){(i||e.format)&&(i=_a(i||e.format,t._incidentOccurred));var o=t.getSize(),r=o.width,a=o.height;return{format:i||ha,fileName:n||e.fileName||"file",backgroundColor:e.backgroundColor,width:r,height:a,margin:e.margin,svgToCanvas:e.svgToCanvas,exportingAction:t._createActionByOption("onExporting",{excludeValidators:["disabled"]}),exportedAction:t._createActionByOption("onExported",{excludeValidators:["disabled"]}),fileSavingAction:t._createActionByOption("onFileSaving",{excludeValidators:["disabled"]})}}Object(a.a)(xa.prototype,{getLayoutOptions:function(){if(this._hiddenDueToLayout)return{width:0,height:0,cutSide:"vertical",cutLayoutSide:"top"};var t=this._buttonGroup.getBBox();return t.cutSide="vertical",t.cutLayoutSide="top",t.height+=10,t.position={vertical:"top",horizontal:"right"},t.verticalAlignment="top",t.horizontalAlignment="right",t},shift:function(t,e){this._group.attr({translateY:this._group.attr("translateY")+e})},draw:function(t,e,n){this._group.move(t-ia-2-3+n.left,Math.floor(e/2-ia/2));var i=this.getLayoutOptions();return(i.width>t||i.height>e)&&this.freeSpace(),this},show:function(){this._group.linkAppend()},hide:function(){this._group.linkRemove()},setOptions:function(t){var e=this;this._options=t,t.formats?t.formats=t.formats.reduce(function(t,n){return(n=_a(n,e._incidentOccurred,e.validFormats))&&t.push(n),t},[]):t.formats=this.validFormats.supported.slice(),t.printingEnabled=void 0===t.printingEnabled||t.printingEnabled,t.enabled&&(t.formats.length||t.printingEnabled)?(this.show(),this._updateButton(),this._updateList(),this._hideList()):this.hide()},dispose:function(){this._unsubscribeEvents(),this._group.linkRemove().linkOff(),this._group.dispose(),this._shadow.dispose()},layoutOptions:function(){return this._options.enabled&&{horizontalAlignment:"right",verticalAlignment:"top",weak:!0}},measure:function(){this._fillSpace();var t=this._options.button.margin;return[ia+t.left+t.right,ia+t.top+t.bottom]},move:function(t){var e=this._options.button.margin;this._group.attr({translateX:Math.round(t[0])+e.left,translateY:Math.round(t[1])+e.top})},_fillSpace:function(){this._hiddenDueToLayout=!1,this.show()},freeSpace:function(){this._incidentOccurred("W2107"),this._hiddenDueToLayout=!0,this.hide()},_hideList:function(){this._listGroup.remove(),this._listShown=!1,this._setButtonState("default"),this._menuItems.forEach(function(t){return t.resetState()})},_showList:function(){this._listGroup.append(this._group),this._listShown=!0,this._menuItems.forEach(function(t){return t.fixPosition()})},_setButtonState:function(t){var e=this._options.button[t];this._button.attr({stroke:e.borderColor,fill:e.backgroundColor}),this._icon.attr({fill:e.color})},_subscribeEvents:function(){var t=this;this._renderer.root.on(Qi.a.up+".export",function(e){var n=e.target[ga];n?"button"===n?t._listShown?(t._setButtonState("default"),t._hideList()):(t._setButtonState("focus"),t._showList()):"printing"===n?(t._print(),t._hideList()):"exporting"===n&&(t._exportTo(e.target[va]),t._hideList()):t._button&&t._hideList()}),this._listGroup.on(na,function(t){return t.stopPropagation()}),this._buttonGroup.on(Qi.a.enter,function(){return t._setButtonState("hover")}),this._buttonGroup.on(Qi.a.leave,function(){return t._setButtonState(t._listShown?"focus":"default")}),this._buttonGroup.on(Qi.a.down+".export",function(){return t._setButtonState("active")})},_unsubscribeEvents:function(){this._renderer.root.off(".export"),this._listGroup.off(),this._buttonGroup.off()},_updateButton:function(){var t=this._renderer,e=this._options,n={"export-element-type":"button"};this._button||(this._button=t.rect(0,0,ia,ia).append(this._buttonGroup),this._button.attr({rx:4,ry:4,fill:e.button.default.backgroundColor,stroke:e.button.default.borderColor,"stroke-width":1,cursor:"pointer"}),this._button.data(n),this._icon=t.path(oa).append(this._buttonGroup),this._icon.attr({fill:e.button.default.color,cursor:"pointer"}),this._icon.data(n),this._buttonGroup.setTitle(Jr.a.format("vizExport-titleMenuText")))},_updateList:function(){var t=this._options,e=t.button.default,n=this._listGroup,i=function(t,e){var n=[];return e.printingEnabled&&n.push(Oa(t,e,{type:"printing",text:Jr.a.format("vizExport-printingButtonText"),itemIndex:n.length})),n=e.formats.reduce(function(n,i){return n.push(Oa(t,e,{type:"exporting",text:Jr.a.getFormatter("vizExport-exportButtonText")(i),format:i,itemIndex:n.length})),n},n)}(this._renderer,t);this._shadow.attr({color:t.shadowColor}),this._overlay.attr({height:i.length*ca+2*ua,fill:e.backgroundColor,stroke:e.borderColor}),n.clear(),this._overlay.append(n),i.forEach(function(t){return t.g.append(n)}),this._menuItems=i}});var wa={name:"export",init:function(){var t=this;this._exportMenu=new xa({renderer:this._renderer,incidentOccurred:this._incidentOccurred,print:function(){return t.print()},exportTo:function(e){return t.exportTo(void 0,e)}}),this._layout.add(this._exportMenu)},dispose:function(){this._exportMenu.dispose()},members:{_getExportMenuOptions:function(){return Object(a.a)({},this._getOption("export"),{rtl:this._getOption("rtlEnabled",!0)})},_disablePointerEvents:function(){var t=this._renderer.root.attr("pointer-events");return this._renderer.root.attr({"pointer-events":"none"}),t},exportTo:function(t,e){var n=this,i=this._exportMenu,o=Sa(this,this._getOption("export")||{},t,e);i&&i.hide();var r=this._disablePointerEvents(),a=Zr(this._renderer.root.element,o,ba(o.format)).fail(ea.a.error).always(function(){n._renderer.root.attr({"pointer-events":r})});return i&&i.show(),a},print:function(){var t=this,e=this._exportMenu,n=Sa(this,this._getOption("export")||{});n.exportingAction=null,n.exportedAction=null,n.margin=0,n.format="PNG",n.useBase64=!0,n.fileSavingAction=function(t){Ca("data:image/png;base64,".concat(t.data),{width:n.width,__test:n.__test}),t.cancel=!0};var i=this._disablePointerEvents();e&&e.hide();var o=Zr(this._renderer.root.element,n,ba(n.format)).fail(ea.a.error).always(function(){t._renderer.root.attr({"pointer-events":i})});return e&&e.show(),o}},customize:function(t){var e=t.prototype;t.addChange({code:"EXPORT",handler:function(){this._exportMenu.setOptions(this._getExportMenuOptions()),this._change(["LAYOUT"])},isThemeDependent:!0,isOptionChange:!0,option:"export"}),e._optionChangesMap.onExporting="EXPORT",e._optionChangesMap.onExported="EXPORT",e._optionChangesMap.onFileSaving="EXPORT"},fontFields:["export.font"]},Pa=Math.round,ka={horizontal:0,vertical:0},Ea={center:.5,right:1,bottom:1,left:0,top:0};function Ta(t){this._options=t}function Ia(t,e){this._renderElement=t,this._cacheBBox=e}Ta.prototype={constructor:Ta,position:function(t){var e=t.of.getLayoutOptions(),n=this.getLayoutOptions(),i=t.at,o=t.my,r=t.offset||ka,a=-Ea[o.horizontal]*n.width+e.x+Ea[i.horizontal]*e.width+parseInt(r.horizontal),s=-Ea[o.vertical]*n.height+e.y+Ea[i.vertical]*e.height+parseInt(r.vertical);this.shift(Pa(a),Pa(s))},getLayoutOptions:l.noop};var ja=Ia.prototype=Object(r.a)(Ta.prototype);ja.constructor=Ia,ja.getLayoutOptions=function(){return this._cacheBBox||this._renderElement.getBBox()},ja.shift=function(t,e){var n=this.getLayoutOptions();this._renderElement.move(Pa(t-n.x),Pa(e-n.y))};var Ma=Number,Da=K(["left","center","right"]),Aa=K(["top","bottom"]),Ra=10;function Ba(t){return!!(t&&String(t).length>0)}function La(t,e,n,i,o){t.attr({text:e}).setMaxSize(n,o,i).textChanged&&t.setTitle(e)}function Na(t){return t>=0?Ma(t):Ra}var za=function(t){this._params=t,this._group=t.renderer.g().attr({class:t.cssClass}).linkOn(t.root||t.renderer.root,"title"),this._hasText=!1};Object(a.a)(za.prototype,Ta.prototype,{dispose:function(){this._group.linkRemove(),this._group.linkOff(),this._titleElement&&(this._clipRect.dispose(),this._titleElement=this._subtitleElement=this._clipRect=null),this._params=this._group=this._options=null},_updateOptions:function(t){var e;this._options=t,this._options.horizontalAlignment=Da(t.horizontalAlignment,"center"),this._options.verticalAlignment=Aa(t.verticalAlignment,"top"),this._options.margin=(e=t.margin)>=0?{left:Ma(e),top:Ma(e),right:Ma(e),bottom:Ma(e)}:{left:Na((e=e||{}).left),top:Na(e.top),right:Na(e.right),bottom:Na(e.bottom)}},_updateStructure:function(){var t=this._params.renderer,e=this._group,n=this._options,i=n.horizontalAlignment;this._titleElement||(this._titleElement=t.text().append(e),this._subtitleElement=t.text(),this._clipRect=t.clipRect(),e.attr({"clip-path":this._clipRect.id})),this._titleElement.attr({align:i,class:n.cssClass}),this._subtitleElement.attr({align:i,class:n.subtitle.cssClass}),e.linkAppend(),Ba(n.subtitle.text)?this._subtitleElement.append(e):this._subtitleElement.remove()},_updateTexts:function(){var t,e=this._options,n=e.subtitle,i=this._titleElement,o=this._subtitleElement;i.attr({text:"A",y:0}).css($(e.font)),t=i.getBBox(),this._baseLineCorrection=t.height+t.y,i.attr({text:e.text});var r=-(t=i.getBBox()).y;i.attr({y:r}),Ba(n.text)&&o.attr({text:n.text,y:0}).css($(n.font))},_shiftSubtitle:function(){var t=this._titleElement.getBBox(),e=this._subtitleElement,n=this._options.subtitle.offset;e.move(0,t.y+t.height-e.getBBox().y-n)},_updateBoundingRectAlignment:function(){var t=this._boundingRect,e=this._options;t.verticalAlignment=e.verticalAlignment,t.horizontalAlignment=e.horizontalAlignment,t.cutLayoutSide=e.verticalAlignment,t.cutSide="vertical",t.position={horizontal:e.horizontalAlignment,vertical:e.verticalAlignment}},hasText:function(){return this._hasText},update:function(t,e){var n=Object(a.a)(!0,{},t,function(t){var e=Object(c.o)(t)?{text:t}:t||{};return e.subtitle=Object(c.o)(e.subtitle)?{text:e.subtitle}:e.subtitle||{},e}(e)),i=Ba(n.text),o=i||i!==this._hasText;return this._baseLineCorrection=0,this._updateOptions(n),this._boundingRect={},i?(this._updateStructure(),this._updateTexts()):this._group.linkRemove(),this._updateBoundingRect(),this._updateBoundingRectAlignment(),this._hasText=i,o},draw:function(t,e){return this._hasText&&(this._group.linkAppend(),this._correctTitleLength(t),this._group.getBBox().height>e&&this.freeSpace()),this},_correctTitleLength:function(t){var e=this._options,n=e.margin,i=t-n.left-n.right,o=e.placeholderSize;La(this._titleElement,e.text,i,e,o),this._subtitleElement&&(Ma(o)>0&&(o-=this._titleElement.getBBox().height),La(this._subtitleElement,e.subtitle.text,i,e.subtitle,o),this._shiftSubtitle()),this._updateBoundingRect();var r=this.getCorrectedLayoutOptions(),a=r.x,s=r.y,l=r.height;this._clipRect.attr({x:a,y:s,width:t,height:l})},getLayoutOptions:function(){return this._boundingRect||null},shift:function(t,e){var n=this.getLayoutOptions();return this._group.move(t-n.x,e-n.y),this},_updateBoundingRect:function(){var t=this._options,e=t.margin,n=this._boundingRect,i=this._hasText?this._group.getBBox():{width:0,height:0,x:0,y:0,isEmpty:!0};i.isEmpty||(i.height+=e.top+e.bottom-this._baseLineCorrection,i.width+=e.left+e.right,i.x-=e.left,i.y+=this._baseLineCorrection-e.top),t.placeholderSize>0&&(i.height=t.placeholderSize),n.height=i.height,n.width=i.width,n.x=i.x,n.y=i.y},getCorrectedLayoutOptions:function(){var t=this.getLayoutOptions(),e=this._baseLineCorrection;return Object(a.a)({},t,{y:t.y-e,height:t.height+e})},layoutOptions:function(){return this._hasText?{horizontalAlignment:this._boundingRect.horizontalAlignment,verticalAlignment:this._boundingRect.verticalAlignment,priority:0}:null},measure:function(t){return this.draw(t[0],t[1]),[this._boundingRect.width,this._boundingRect.height]},move:function(t,e){!function(t,e){return t[2]-t[0]<e.width||t[3]-t[1]<e.height}(t,this._boundingRect)?this.shift(Math.round(t[0]),Math.round(t[1])):this.shift(e[0],e[1])},freeSpace:function(){this._params.incidentOccurred("W2103"),this._group.linkRemove(),this._boundingRect.width=this._boundingRect.height=0},getOptions:function(){return this._options},changeLink:function(t){this._group.linkRemove(),this._group.linkOn(t,"title")}});var Fa={name:"title",init:function(){this._title=new za({renderer:this._renderer,cssClass:this._rootClassPrefix+"-title",incidentOccurred:this._incidentOccurred}),this._layout.add(this._title)},dispose:function(){this._title.dispose(),this._title=null},customize:function(t){t.addChange({code:"TITLE",handler:function(){this._title.update(this._themeManager.theme("title"),this.option("title"))&&this._change(["LAYOUT"])},isThemeDependent:!0,option:"title",isOptionChange:!0})},fontFields:["title.font","title.subtitle.font"]},Ha=n(24),Va=n(61),Ua=["x","y","canvas","offsetX","offsetY","offset"],Wa=Math,Ka=Wa.round,$a=Wa.max,Ga=Wa.min,qa=Wa.sin,Za=Wa.cos,Ya=Wa.asin,Xa=Wa.PI,Qa=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.join("")};function Ja(t,e,n){return"a ".concat(t," ").concat(t," 0 0 1 ").concat(e*t," ").concat(n*t)}function ts(t,e,n){return"A ".concat(t," ").concat(t," 0 0 1 ").concat(e," ").concat(n)}function es(t,e,n,i,o){return(t-i)*Ka(Za(n))+(e-o)*Ka(qa(n))+i}function ns(t,e,n,i,o){return-(t-i)*Ka(qa(n))+(e-o)*Ka(Za(n))+o}function is(t,e,n,i,o){var r=t.width/2,a=t.height/2,s=Math.ceil(e+r),l=Math.floor(e-r),c=Math.floor(n-a),u=Math.ceil(n+a);return i<l&&o<c||i>=l&&i<=s&&o<c?270:i>s&&o>u||i>=l&&i<=s&&o>u?90:i<l&&o>u||i<l&&o>=c&&o<=u?180:0}function os(t,e,n,i,o,r,a){var s,l=t.width,c=t.height,u=r.arrowWidth,h=r.cornerRadius,d=void 0===h?0:h,p=u/2,f=l/2,m=c/2,g=Math.ceil(e+f),v=Math.floor(e-f),y=Math.floor(n-m),_=Math.ceil(n+m),b=[v,y],C=[g,y],O=[g,_],x=[v,_],S=i<=v?v:g<=i?g:i,w=o<=y?y:_<=o?_:o,P=Ga(w+p,_),k=$a(w-p,y),E=$a(S-p,v);if(d=Math.min(l/2,c/2,d),b[1]+=d,C[0]-=d,O[1]-=d,x[0]+=d,!a||v<=i&&i<=g&&y<=o&&o<=_)s=Qa(b,Ja(d,1,-1),"L",C,Ja(d,1,1),"L",O,Ja(d,-1,1),"L",x,Ja(d,-1,-1));else if(i>g&&o<y){var T=u/d||0,I=Xa/4+T/2,j=Xa/4-T/2,M=C[0]+Za(j)*d,D=C[1]+(1-qa(j))*d,A=Qa("L",C,Ja(d,Za(I),1-qa(I)),"L",[i,o,M,D],ts(d,C[0]+d,C[1]+d));Math.abs(I)>Xa/2&&(A=Qa("L",[E,y,i,o,g,P])),s=Qa(b,Ja(d,1,-1),A,"L",O,Ja(d,-1,1),"L",x,Ja(d,-1,-1))}else if(i>g&&o>=y&&o<=_){var R;if(k>=C[1]+d&&P<=O[1])R=Qa(Ja(d,1,1),"L",[g,k,i,o,g,P],"L",O,Ja(d,-1,1));else if(k<C[1]+d&&P>=C[1]+d&&P<=O[1]){var B=(C[1]+d-k)/d,L=C[0]+Za(B)*d,N=C[1]+(1-qa(B))*d;R=Qa(Ja(d,Za(B),1-qa(B)),"L",[L,N,i,o,g,P],"L",O,Ja(d,-1,1))}else if(k<C[1]+d&&P<C[1]+d){var z=(C[1]+d-k)/d,F=C[0]+Za(z)*d,H=C[1]+(1-qa(z))*d,V=Math.sin((C[1]+d-P)/d),U=C[0]+d*Za(V),W=C[1]+d*(1-qa(V));R=Qa(Ja(d,Za(z),1-qa(z)),"L",[F,H,i,o,U,W],ts(d,C[0]+d,C[1]+d),"L",O,Ja(d,-1,1))}else if(k<=C[1]+d&&P>=O[1]){var K=Ya((C[1]+d-k)/d),$=C[0]+d*Za(K),G=C[1]+d*(1-qa(K)),q=Ya((P-O[1])/d),Z=O[0]+d*(Za(q)-1),Y=O[1]+d*qa(q);R=Qa(Ja(d,Za(K),1-qa(K)),"L",[$,G,i,o,Z,Y],ts(d,O[0]-d,O[1]+d))}else if(k>C[1]+d&&k<=O[1]&&P>O[1]){var X=Ya((P-O[1])/d),Q=O[0]+d*(Za(X)-1),J=O[1]+d*qa(X);R=Qa(Ja(d,1,1),"L",[g,k,i,o,Q,J],ts(d,O[0]-d,O[1]+d))}else if(k>C[1]+d&&P>O[1]){var tt=Ya((P-O[1])/d),et=O[0]+d*(Za(tt)-1),nt=O[1]+d*qa(tt),it=Ya((k-O[1])/d),ot=O[0]+d*(Za(it)-1),rt=O[1]+d*qa(it);R=Qa(Ja(d,1,1),"L",O,Ja(d,Za(it)-1,qa(it)),"L",[ot,rt,i,o,et,nt],ts(d,O[0]-d,O[1]+d))}s=Qa(b,Ja(d,1,-1),"L",C,R,"L",x,Ja(d,-1,-1))}return Qa("M",s,"Z")}var rs=function(){function t(e,n,i,o){Object(Mo.a)(this,t);var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(t,e){return e.getBBox()},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(t,e,n,i){return e.move(n,i)};this.widget=n,this.options=e,this.root=i,this.contentTemplate=o,this.bonded=r,this.measureContent=a,this.moveContentGroup=s}return Object(Do.a)(t,[{key:"draw",value:function(t){var e=this,n=t.x,i=t.y,o=t.canvas,r=void 0===o?{}:o,s=t.offsetX,l=t.offsetY,u=t.offset,h=void 0===u?0:u,d=Object(Va.a)(t,Ua),p=this.options,f=p.x,m=p.y,g=r.left,v=r.width-r.right,y=r.width-r.right-r.left,_=r.top,b=r.height-r.bottom,C=r.height-r.bottom-r.top;if((!Object(c.d)(n)||!Object(c.d)(i))&&(!Object(c.d)(f)||!Object(c.d)(m)))return!1;if(Object(c.d)(n)&&(n<g||v<n||i<_||b<i))return!1;this._root||this._draw();var O=Object(a.a)({x:"-50%",y:"-50%",width:"200%",height:"200%"},p.shadow),x=p.width>0?p.width:null,S=p.height>0?p.height:null,w=function(){var t,o=e._contentBBox=e.measureContent(e.widget,e._contentGroup),r=e._size={width:$a(x,o.width)+2*p.paddingLeftRight,height:$a(S,o.height)+2*p.paddingTopBottom,offset:h},a=O.offsetX,u=O.offsetY,d=2*O.blur+1,w=$a(d-a,0),P=$a(d+a,0),k=$a(d-u,0),E=$a(d+u,0);if(e.margins={lm:w,rm:P,tm:k,bm:E},Object(c.d)(f)?(f+=s||0,Object(c.d)(n)||(n=f)):f=Object(c.d)(s)?n+s:y<r.width?Ka(g+y/2):Ga($a(n,Math.ceil(g+r.width/2+w)),Math.floor(v-r.width/2-P)),Object(c.d)(m))m+=l||0,Object(c.d)(i)||(i=m+r.height/2);else if(Object(c.d)(l))m=i+l;else{var T=i-p.arrowLength-r.height/2-h,I=i+p.arrowLength+r.height/2+h;C<r.height+p.arrowLength?m=Ka(_+r.height/2):T-r.height/2-k<_?I+r.height/2+E<b?(m=I,i+=h):m=Ka(_+r.height/2):(m=T,i-=h)}e.anchorX=n,e.anchorY=i,e.move(f,m),null===(t=e._root)||void 0===t||t.append(e.root)};return this.contentTemplate.render?(this.contentTemplate.render({model:p,container:this._contentGroup.element,onRendered:w}),!0):this.contentTemplate(Object(Ha.a)({group:this._contentGroup,onRender:w},d))}},{key:"_draw",value:function(){var t=this.widget._renderer,e=this.options,n=Object(a.a)({x:"-50%",y:"-50%",width:"200%",height:"200%"},e.shadow),i=this._shadow=t.shadowFilter().attr(n),o={opacity:e.opacity,"stroke-width":0,fill:e.color},r=e.border||{};r.visible&&Object(a.a)(o,{"stroke-width":r.width,stroke:r.color,"stroke-opacity":r.opacity,dashStyle:r.dashStyle});var s=this._root=t.g().append(this.root);e.type&&s.attr({class:"dxc-".concat(e.type,"-annotation")});var l=t.g().attr({filter:i.id}).append(s);this._cloud=t.path([],"area").attr(o).sharp().append(l),this._contentGroup=t.g().append(s)}},{key:"getBBox",value:function(){var t=this._size||{},e=this.margins||{},n=is(t,this.x,this.y,this.anchorX,this.anchorY);return{x:Math.floor(this.x-t.width/2-e.lm),y:Math.floor(this.y-t.height/2-e.tm-(270===n?this.options.arrowLength:0)),width:t.width+e.lm+e.rm,height:t.height+e.tm+e.bm+(90===n||270===n?this.options.arrowLength:0)}}},{key:"clear",value:function(){return this._root&&(this._root.remove(),this._shadow.remove(),this._root=null),this}},{key:"customizeCloud",value:function(t){this._cloud&&this._cloud.attr(t)}},{key:"moveRoot",value:function(t,e){this._root&&this._root.move(t,e)}},{key:"move",value:function(t,e){t=Ka(t),e=Ka(e),this.x=t,this.y=e;var n,i,o=is(this._size,t,e,this.anchorX,this.anchorY),r=o*Xa/180;this._cloud.attr({d:os((n=this._size,i=o,i%90===0&&i%180!==0?{width:n.height,height:n.width}:n),t,e,es(this.anchorX,this.anchorY,r,t,e),ns(this.anchorX,this.anchorY,r,t,e),this.options,this.bonded)}).rotate(o,t,e),this.moveContentGroup(this.widget,this._contentGroup,t-this._contentBBox.x-this._contentBBox.width/2,e-this._contentBBox.y-this._contentBBox.height/2)}},{key:"hitTest",value:function(t,e){var n=this._size||{},i=n.width,o=n.height;return Math.abs(t-this.x)<=i/2&&Math.abs(e-this.y)<=o/2}}]),t}(),as=mo.format,ss=Math.ceil,ls=Math.max,cs=Math.min,us=Object(rt.d)();function hs(t){t.css({left:"-9999px"}).detach()}function ds(){return Object(ot.a)("<div>").css({position:"relative",display:"inline-block",padding:0,margin:0,border:"0px solid transparent"})}var ps=function(t){this._eventTrigger=t.eventTrigger,this._widgetRoot=t.widgetRoot,this._widget=t.widget,this._textHtmlContainers=[],this._wrapper=Object(ot.a)("<div>").css({position:"absolute",overflow:"hidden",pointerEvents:"none"}).addClass(t.cssClass);var e=this._renderer=new ai({pathModified:t.pathModified,container:this._wrapper[0]});e.root.attr({"pointer-events":"none"}),this._text=e.text(void 0,0,0),this._textGroupHtml=Object(ot.a)("<div>").css({position:"absolute",padding:0,margin:0,border:"0px solid transparent"}).appendTo(this._wrapper),this._textHtml=ds().appendTo(this._textGroupHtml)};ps.prototype={constructor:ps,dispose:function(){this._wrapper.remove(),this._renderer.dispose(),this._options=this._widgetRoot=null},_getContainer:function(){var t=this._options,e=Object(ot.a)(this._widgetRoot).closest(t.container);return 0===e.length&&(e=Object(ot.a)(t.container)),(e.length?e:Object(ot.a)("body")).get(0)},setTemplate:function(t){this._template=t?this._widget._getTemplate(t):null},setOptions:function(t){var e=this;t=t||{};var n=this;n._options=t,n._textFontStyles=$(t.font),n._textFontStyles.color=n._textFontStyles.fill,n._wrapper.css({zIndex:t.zIndex}),n._customizeTooltip=t.customizeTooltip;var i=n._textGroupHtml;this.plaque&&this.plaque.clear(),this.setTemplate(t.contentTemplate);var o=t.interactive?"auto":"none";return t.interactive&&this._renderer.root.css({"-ms-user-select":"auto","-moz-user-select":"auto","-webkit-user-select":"auto"}),this.plaque=new rs({opacity:n._options.opacity,color:n._options.color,border:n._options.border,paddingLeftRight:n._options.paddingLeftRight,paddingTopBottom:n._options.paddingTopBottom,arrowLength:n._options.arrowLength,arrowWidth:20,shadow:n._options.shadow,cornerRadius:n._options.cornerRadius},n,n._renderer.root,function(r){var a=r.group,s=r.onRender,l=r.eventData,c=r.isMoving,u=r.templateCallback,h=void 0===u?function(){}:u,d=n._state;if(!c){var p=n._template,f=p&&!d.formatObject.skipTemplate;if(d.html||f){if(i.css({color:d.textColor,width:3e3,pointerEvents:o}),f){var m=n._textHtmlContainers,g=ds().appendTo(n._textGroupHtml);return m.push(g),void p.render({model:d.formatObject,container:g,onRendered:function(){if(m.splice(0,m.length-1).forEach(function(t){return t.remove()}),n._textHtml=Object(ir.g)(n._textHtml,g),d.html=n._textHtml.html(),0===Object(li.k)(n._textHtml)&&0===Object(li.c)(n._textHtml))return e.plaque.clear(),void h(!1);s(),n._riseEvents(l),n._moveWrapper(),n.plaque.customizeCloud({fill:d.color,stroke:d.borderColor,"pointer-events":o}),h(!0),n._textHtmlContainers=[]}})}n._text.attr({text:""}),n._textHtml.html(d.html)}else n._text.css({fill:d.textColor}).attr({text:d.text,class:t.cssClass,"pointer-events":o}).append(a.attr({align:t.textAlignment}));n._riseEvents(l),n.plaque.customizeCloud({fill:d.color,stroke:d.borderColor,"pointer-events":o})}return s(),n._moveWrapper(),!0},!0,function(t,e){if(t._state.html){var i=us.getComputedStyle(n._textHtml.get(0));return i={x:0,y:0,width:ss(parseFloat(i.width)),height:ss(parseFloat(i.height))}}return e.getBBox()},function(t,e,i,o){t._state.html?n._textGroupHtml.css({left:i,top:o}):e.move(i,o)}),n},_riseEvents:function(t){this._eventData&&this._eventTrigger("tooltipHidden",this._eventData),this._eventData=t,this._eventTrigger("tooltipShown",this._eventData)},setRendererOptions:function(t){return this._renderer.setOptions(t),this._textGroupHtml.css({direction:t.rtl?"rtl":"ltr"}),this},update:function(t){this.setOptions(t),hs(this._wrapper);var e={};for(var n in this._textFontStyles)e[Object(or.a)(n)]=this._textFontStyles[n];return this._textGroupHtml.css(e),this._text.css(this._textFontStyles),this._eventData=null,this},_prepare:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._customizeTooltip,i=this._options,o={};return Object(c.h)(n)&&(o=n.call(t,t),"text"in(o=Object(c.k)(o)?o:{})&&(e.text=Object(c.d)(o.text)?String(o.text):""),"html"in o&&(e.html=Object(c.d)(o.html)?String(o.html):"")),"text"in e||"html"in e||(e.text=t.valueText||t.description||""),e.color=o.color||i.color,e.borderColor=o.borderColor||(i.border||{}).color,e.textColor=o.fontColor||(this._textFontStyles||{}).color,!!e.text||!!e.html||!!this._template},show:function(t,e,n,i,o){if(this._options.forceEvents)return n.x=e.x,n.y=e.y-e.offset,this._riseEvents(n),!0;var r={formatObject:t,eventData:n,templateCallback:o};if(!this._prepare(t,r,i))return!1;this._state=r,this._wrapper.appendTo(this._getContainer()),this._clear();var s=Object(a.a)({},this._options,{canvas:this._getCanvas()},r,{x:e.x,y:e.y,offset:e.offset});return this.plaque.clear().draw(s)},isCursorOnTooltip:function(t,e){if(this._options.interactive){var n=this.plaque.getBBox();return t>n.x&&t<n.x+n.width&&e>n.y&&e<n.y+n.height}return!1},hide:function(t){hs(this._wrapper),this._eventData&&(this._eventTrigger("tooltipHidden",this._options.forceEvents?Object(a.a)({isPointerOut:t},this._eventData):this._eventData),this._clear(),this._eventData=null)},_clear:function(){this._textHtml.empty()},move:function(t,e,n){this.plaque.draw({x:t,y:e,offset:n,canvas:this._getCanvas(),isMoving:!0})},_moveWrapper:function(){var t=this.plaque.getBBox();this._renderer.resize(t.width,t.height);var e=this._wrapper.css({left:0,top:0}).offset(),n=t.x,i=t.y;this._wrapper.css({left:n-e.left,top:i-e.top}),this.plaque.moveRoot(-n,-i),this._state.html&&(this._textHtml.css({left:-n,top:-i}),this._textGroupHtml.css({width:ss(Object(li.k)(this._textHtml))}))},formatValue:function(t,e){var n=e?function(t,e){var n=t;switch(e){case"argument":n={format:t.argumentFormat};break;case"percent":n={format:{type:"percent",precision:t.format&&t.format.percentPrecision}}}return n}(this._options,e):this._options;return as(t,n.format)},getOptions:function(){return this._options},getLocation:function(){return F(this._options.location)},isEnabled:function(){return!!this._options.enabled||!!this._options.forceEvents},isShared:function(){return!!this._options.shared},_getCanvas:function(){var t=this._getContainer(),e=t.getBoundingClientRect(),n=at.a.getDocumentElement(),i=at.a.getDocument(),o=us.pageXOffset||n.scrollLeft||0,r=us.pageYOffset||n.scrollTop||0,a={left:o,top:r,width:ls(n.clientWidth,i.body.clientWidth)+o,height:ls(i.body.scrollHeight,n.scrollHeight,i.body.offsetHeight,n.offsetHeight,i.body.clientHeight,n.clientHeight),right:0,bottom:0};return t!==at.a.getBody()&&(o=ls(a.left,a.left+e.left),r=ls(a.top,a.top+e.top),a.width=cs(e.width,a.width)+o+a.left,a.height=cs(e.height,a.height)+r+a.top,a.left=o,a.top=r),a}};var fs={name:"tooltip",init:function(){this._initTooltip()},dispose:function(){this._disposeTooltip()},members:{_initTooltip:function(){this._tooltip=new ps({cssClass:this._rootClassPrefix+"-tooltip",eventTrigger:this._eventTrigger,pathModified:this.option("pathModified"),widgetRoot:this.element(),widget:this})},_disposeTooltip:function(){this._tooltip.dispose(),this._tooltip=null},_setTooltipRendererOptions:function(){this._tooltip.setRendererOptions(this._getRendererOptions())},_setTooltipOptions:function(){this._tooltip.update(this._getOption("tooltip"))}},extenders:{_stopCurrentHandling:function(){this._tooltip&&this._tooltip.hide()}},customize:function(t){var e=t.prototype;e._eventsMap.onTooltipShown={name:"tooltipShown"},e._eventsMap.onTooltipHidden={name:"tooltipHidden"},t.addChange({code:"TOOLTIP_RENDERER",handler:function(){this._setTooltipRendererOptions()},isThemeDependent:!0,isOptionChange:!0}),t.addChange({code:"TOOLTIP",handler:function(){this._setTooltipOptions()},isThemeDependent:!0,isOptionChange:!0,option:"tooltip"})},fontFields:["tooltip.font"]},ms=function(t){var e=t.renderer;this._group=e.g().attr({class:"dx-loading-indicator"}).linkOn(e.root,{name:"loading-indicator",after:"peripheral"}),this._rect=e.rect().attr({opacity:0}).append(this._group),this._text=e.text().attr({align:"center"}).append(this._group),this._createStates(t.eventTrigger,this._group,e.root,t.notify)};ms.prototype={constructor:ms,_createStates:function(t,e,n,i){this._states=[{opacity:0,start:function(){i(!1)},complete:function(){e.linkRemove(),n.css({"pointer-events":""}),t("loadingIndicatorReady")}},{opacity:.85,start:function(){e.linkAppend(),n.css({"pointer-events":"none"}),i(!0)},complete:function(){t("loadingIndicatorReady")}}],this._state=0},setSize:function(t){var e=t.width,n=t.height;this._rect.attr({width:e,height:n}),this._text.attr({x:e/2,y:n/2})},setOptions:function(t){this._rect.attr({fill:t.backgroundColor}),this._text.css($(t.font)).attr({text:t.text,class:t.cssClass}),this[t.show?"show":"hide"]()},dispose:function(){this._group.linkRemove().linkOff(),this._group=this._rect=this._text=this._states=null},_transit:function(t){var e;this._state!==t&&(this._state=t,this._isHiding=!1,e=this._states[t],this._rect.stopAnimation().animate({opacity:e.opacity},{complete:e.complete,easing:"linear",duration:400,unstoppable:!0}),this._noHiding=!0,e.start(),this._noHiding=!1)},show:function(){this._transit(1)},hide:function(){this._transit(0)},scheduleHiding:function(){this._noHiding||(this._isHiding=!0)},fulfillHiding:function(){this._isHiding&&this.hide()}};var gs={name:"loading_indicator",init:function(){var t=this;t._loadingIndicator=new ms({eventTrigger:t._eventTrigger,renderer:t._renderer,notify:function(e){t._skipLoadingIndicatorOptions=!0,t.option("loadingIndicator",{show:e}),t._skipLoadingIndicatorOptions=!1,e&&t._stopCurrentHandling()}}),t._scheduleLoadingIndicatorHiding()},dispose:function(){this._loadingIndicator.dispose(),this._loadingIndicator=null},members:{_scheduleLoadingIndicatorHiding:function(){this._loadingIndicator.scheduleHiding()},_fulfillLoadingIndicatorHiding:function(){this._loadingIndicator.fulfillHiding()},showLoadingIndicator:function(){this._loadingIndicator.show()},hideLoadingIndicator:function(){this._loadingIndicator.hide()},_onBeginUpdate:function(){this._optionChangedLocker||this._scheduleLoadingIndicatorHiding()}},extenders:{_dataSourceLoadingChangedHandler:function(t){t&&(this._options.silent("loadingIndicator")||{}).enabled&&this._loadingIndicator.show()},_setContentSize:function(){this._loadingIndicator.setSize(this._canvas)},endUpdate:function(){this._initialized&&this._dataIsReady()&&this._fulfillLoadingIndicatorHiding()}},customize:function(t){var e=t.prototype;if(e._dataSourceChangedHandler){var n=e._dataSourceChangedHandler;e._dataSourceChangedHandler=function(){this._scheduleLoadingIndicatorHiding(),n.apply(this,arguments)}}t.addChange({code:"LOADING_INDICATOR",handler:function(){this._skipLoadingIndicatorOptions||this._loadingIndicator.setOptions(this._getOption("loadingIndicator")),this._scheduleLoadingIndicatorHiding()},isThemeDependent:!0,option:"loadingIndicator",isOptionChange:!0}),e._eventsMap.onLoadingIndicatorReady={name:"loadingIndicatorReady"};var i=e._drawn;e._drawn=function(){i.apply(this,arguments),this._dataIsReady()&&this._fulfillLoadingIndicatorHiding()}},fontFields:["loadingIndicator.font"]},vs=Number,ys=a.a,_s=mo.format,bs=$i.inherit({_rootClassPrefix:"dxg",_themeSection:"gauge",_createThemeManager:function(){return new qi.ThemeManager(this._getThemeManagerOptions())},_initCore:function(){var t=this._renderer.root;this._valueChangingLocker=0,this._translator=this._factory.createTranslator(),this._tracker=this._factory.createTracker({renderer:this._renderer,container:t}),this._setTrackerCallbacks()},_beginValueChanging:function(){this._resetIsReady(),this._onBeginUpdate(),++this._valueChangingLocker},_endValueChanging:function(){0===--this._valueChangingLocker&&this._drawn()},_setTrackerCallbacks:function(){var t=this._renderer,e=this._tooltip;this._tracker.setCallbacks({"tooltip-show":function(n,i,o){var r=n.getTooltipParameters(),a=t.getRootOffset(),s=ys({value:r.value,valueText:e.formatValue(r.value),color:r.color},i);return e.show(s,{x:r.x+a.left,y:r.y+a.top,offset:r.offset},{target:i},void 0,o)},"tooltip-hide":function(){return e.hide()}})},_dispose:function(){this._cleanCore(),this.callBase.apply(this,arguments)},_disposeCore:function(){this._themeManager.dispose(),this._tracker.dispose(),this._translator=this._tracker=null},_cleanCore:function(){this._tracker.deactivate(),this._cleanContent()},_renderCore:function(){this._isValidDomain&&(this._renderContent(),this._tracker.setTooltipState(this._tooltip.isEnabled()),this._tracker.activate(),this._noAnimation=!1)},_applyChanges:function(){this.callBase.apply(this,arguments),this._resizing=this._noAnimation=!1},_setContentSize:function(){this._resizing=this._noAnimation=2===this._changes.count(),this.callBase.apply(this,arguments)},_applySize:function(t){this._innerRect={left:t[0],top:t[1],right:t[2],bottom:t[3]};var e=this._layout._cache;return this._cleanCore(),this._renderCore(),this._layout._cache=this._layout._cache||e,[t[0],this._innerRect.top,t[2],this._innerRect.bottom]},_initialChanges:["DOMAIN"],_themeDependentChanges:["DOMAIN"],_optionChangesMap:{subtitle:"MOSTLY_TOTAL",indicator:"MOSTLY_TOTAL",geometry:"MOSTLY_TOTAL",animation:"MOSTLY_TOTAL",startValue:"DOMAIN",endValue:"DOMAIN"},_optionChangesOrder:["DOMAIN","MOSTLY_TOTAL"],_change_DOMAIN:function(){this._setupDomain()},_change_MOSTLY_TOTAL:function(){this._applyMostlyTotalChange()},_setupDomain:function(){this._setupDomainCore(),this._isValidDomain=isFinite(1/(this._translator.getDomain()[1]-this._translator.getDomain()[0])),this._isValidDomain||this._incidentOccurred("W2301"),this._change(["MOSTLY_TOTAL"])},_applyMostlyTotalChange:function(){this._setupCodomain(),this._setupAnimationSettings(),this._setupDefaultFormat(),this._change(["LAYOUT"])},_setupAnimationSettings:function(){var t=this.option("animation");this._animationSettings=null,(void 0===t||t)&&(t=ys({enabled:!0,duration:1e3,easing:"easeOutCubic"},t)).enabled&&t.duration>0&&(this._animationSettings={duration:vs(t.duration),easing:t.easing}),this._containerBackgroundColor=this.option("containerBackgroundColor")||this._themeManager.theme().containerBackgroundColor},_setupDefaultFormat:function(){var t=this._translator.getDomain();this._defaultFormatOptions=function(t,e,n){var i,o=O(L(t),L(e)),r=-L(m(e-t)/n);return T(o)||T(r)?null:(m(o)<=4?(i="fixedPoint",r<0&&(r=0),r>4&&(r=4)):(i="exponential",(r+=o-1)>3&&(r=3)),{type:i,precision:r})}(t[0],t[1],this._getApproximateScreenRange())},_setupDomainCore:null,_calculateSize:null,_cleanContent:null,_renderContent:null,_setupCodomain:null,_getApproximateScreenRange:null,_factory:{createTranslator:function(){return new et},createTracker:function(t){return new uo(t)}}}),Cs=function(t,e,n){Object.is(t,-0)&&(t=0);var i,o=_s(t,(e=e||{}).format);return"function"===typeof e.customizeText?(i=ys({value:t,valueText:o},n),String(e.customizeText.call(i,i))):o};bs.addPlugin(wa),bs.addPlugin(Fa),bs.addPlugin(fs),bs.addPlugin(gs);var Os=bs.prototype._setTooltipOptions;bs.prototype._setTooltipOptions=function(){Os.apply(this,arguments),this._tracker&&this._tracker.setTooltipState(this._tooltip.isEnabled())};var xs=mo.format,Ss=Math.abs,ws=Math.floor,Ps="exponential",ks=["fixedPoint","thousands","millions","billions","trillions",Ps],Es=["millisecond","second","minute","hour","day","month","year"];function Ts(t,e,n,i){var o,r,a,s,l,c=Es.length;"week"===i?i="day":"quarter"===i?i="month":"shorttime"===i?i="hour":"longtime"===i&&(i="second");var u=Es.indexOf(i);if(n){if(r=h.a.getDatesDifferences(e,n),o=h.a.getDatesDifferences(e,t),r[i])for(s=c-1;s>=u;s--)if(a=Es[s],s===u)Ms(r,u+(r.millisecond?2:1));else if(r[a]){js(r,s);break}}else for(o=h.a.getDatesDifferences(t,e),s=c-1;s>=u;s--)if(o[a=Es[s]]){if(s-u>1){for(l=u+1;l>=0;l--)js(o,l);break}if(Is(e,a)){for(l=s-1;l>0;l--)js(o,l);break}}return n?r:o}function Is(t,e){var n,i=[t.getMilliseconds(),t.getSeconds(),t.getMinutes(),t.getHours(),t.getDate(),t.getMonth()],o=Es.indexOf(e);for(n=0;n<o;n++)if(4===n&&1!==i[n]||4!==n&&0!==i[n])return!1;return!0}function js(t,e){var n=Es[e];t[n]&&(t[n]=!1,t.count--)}function Ms(t,e){var n=Es[e];!1===t[n]&&(t[n]=!0,t.count++)}function Ds(t,e){var n,i,o,r=0;for(o=Ss(e-t[0]),n=1;n<t.length;n++)(i=Ss(e-t[n]))<o&&(o=i,r=n);return r}function As(t){return t.toString().split(".")}function Rs(t){var e;return Object(c.h)(t)&&(e=t,t=null),{type:t,formatter:e}}function Bs(t,e){var n,i=Ss(t).toString();return Object(c.g)(t)?Math.max(Ss(Object(u.c)(t)-Object(u.c)(e)),Ss(Object(u.d)(t)-Object(u.d)(e))):Ss((n=i.split(".")[1]).length-parseInt(n).toString().length-Object(u.c)(e)+1)}function Ls(t,e,n){var i=Ts(t,e),o=h.a.getDateFormatByTickInterval(n),r=Rs(mo.getDateFormatByDifferences(i,o)),a=[];if(n in i){var s=function(t,e){var n=!1;for(var i in t)n?t[i]=!1:i===e?n=!0:t[i]=!0;return Rs(mo.getDateFormatByDifferences(t))}(Ts(t,e),n),l=xs(t,s);l&&a.push(l)}else{var c=function(t){var e=!1;for(var n in t)!0===t[n]||"hour"===n||e?(t[n]=!1,e=!0):!1===t[n]&&(t[n]=!0);return Rs(mo.getDateFormatByDifferences(t))}(Ts(t,e)),u=xs(t,c);u&&a.push(u),a.push("".concat(xs(t,r)," - ").concat(xs(e,r)))}return a.join(", ")}function Ns(t,e){var n=e.tickInterval,i=Ss(t).toString(),o=e.labelOptions.format,r=e.ticks,a="logarithmic"===e.type;if(1!==r.length||0!==r.indexOf(t)||Object(c.d)(n)||(n=Ss(t)>=1?1:Object(u.a)(1-Ss(t),t)),Object.is(t,-0)&&(t=0),!Object(c.d)(o)&&"discrete"!==e.type&&t&&(10===e.logarithmBase||!a))if("datetime"!==e.dataType&&Object(c.d)(n)){if(r.length&&-1===r.indexOf(t)){var s=Ds(r,t);n=Object(u.a)(Ss(t-r[s]),t)}if(a)return function(t){var e,n=M(Ss(t));if(n>0)e=ks[ws(n/3)]||Ps;else{if(!(n<-4))return xs(Object(u.a)(t));e=Ps}return xs(t,{type:e,precision:0})}(t);var l=As(n);l<2&&(l=As(t)),o=l.length>1&&!Object(c.g)(n)?{type:ks[0],precision:l[1].length}:Object(c.g)(n)&&(-1!==i.indexOf(".")||Object(c.g)(t))?{type:Ps,precision:Bs(t,n)}:function(t,e){var n,i,o=ws(M(e)),r=0,a=n=ws(M(Ss(t)));n-o>=2&&(a=o);var s=ws(a/3),l=3*s;if(s<5?(o-l===2&&n>=3&&(l=3*++s),i=ks[s]):i=ks[ks.length-1],l>0){var c=As(e/Math.pow(10,l));c[1]&&(r=c[1].length)}return{precision:r,type:i}}(t,n)}else"datetime"===e.dataType&&(o=function(t,e){var n,i,o=e.showTransition,r=e.ticks,a=e.tickInterval,s=h.a.getDateFormatByTickInterval(a);if(o&&r.length){var l=r.map(Number).indexOf(+t);if(1===r.length&&0===l)s=mo.getDateFormatByTicks(r);else{-1===l?n=Ds(r,t):(n=0===l?r.length-1:l-1,i=0===l?1:-1);var c=Ts(r[n],t,r[i],s);s=mo.getDateFormatByDifferences(c,s)}}return Rs(s)}(t,e));return xs(t,o)}function zs(t){var e=t.startValue,n=t.endValue,i=t.tickInterval,o=t.argumentFormat,r=t.axisOptions,a=r.dataType,s=r.type,l=r.logarithmBase;if("discrete"===s)return"";if("datetime"===a)return Ls(e,n,function(t){if(Object(c.j)(t)){var e=Object.keys(t);if(1===e.reduce(function(e,n){return t[n]+e},0)){var n=e.filter(function(e){return 1===t[e]})[0];return n.slice(0,n.length-1)}}return t}(i));var u={ticks:[],type:s,dataType:a,tickInterval:i,logarithmBase:l,labelOptions:{format:o}};return"".concat(Ns(e,u)," - ").concat(Ns(n,u))}var Fs="logarithmic",Hs="discrete",Vs="numeric",Us="left",Ws="right",Ks="top",$s="bottom",Gs="center",qs=function(t){return z(t||[],function(t){return t.value})},Zs=function(t){return"ignore"===t||"none"===t?t:"hide"},Ys=function(t,e,n){var i=1;if(t.length>1)for(;i<t.length&&!(Math.abs(t[i].coords[e]-t[0].coords[e])>=n);i++);return i},Xs=function(t,e,n,i){var o=t.x>e.x,r=t.y>e.y,a=t.x,s=e.x,l=t.width,c=e.width;"left"===i?(a+=l/2,s+=c/2):"right"===i&&(a-=l/2,s-=c/2);var u=o?s+c+n>a:a+l+n>s,h=r?e.y+e.height>t.y:t.y+t.height>e.y;return u&&h},Qs=n(67),Js={string:function(t){return Object(c.d)(t)?""+t:t},numeric:function(t){if(!Object(c.d)(t))return t;var e=Number(t);return isNaN(e)&&(e=void 0),e},datetime:function(t){if(!Object(c.d)(t))return t;var e,n=Number(t);return e=isNaN(n)?Qs.a.deserializeDate(t):new Date(n),isNaN(Number(e))&&(e=void 0),e}};var tl=h.a.convertDateUnitToMilliseconds,el=h.a.dateToMilliseconds,nl=Math,il=nl.abs,ol=nl.floor,rl=nl.ceil,al=nl.pow,sl=[1,2,2.5,5],ll=[1,2,3,5],cl={millisecond:[1,2,5,10,25,50,100,250,500],second:[1,2,3,5,10,15,20,30],minute:[1,2,3,5,10,15,20,30],hour:[1,2,3,4,6,8,12],day:[1,2],week:[1,2],month:[1,2,3,6]},ul=Object(a.a)({},cl,{day:[1]}),hl={millisecond:[1,2,5,10,25,50,100,250,500],second:[1,2,3,5,10,15,20,30],minute:[1,2,3,5,10,15,20,30],hour:[1,2,3,4,6,8,12],day:[1,2,3,7,14],month:[1,2,3,6]},dl=[2,4,5,8,10],pl=3,fl=6e4;var ml=function(t){return t},gl=function(t,e,n){return function(i){return X(i,t,e,n)}},vl=function(t,e,n){return function(i){return Q(i,t,e,n)}},yl=function(t){return function(e){return D(e,t)}},_l=function(t){return function(e){return 0===e?0:j(il(e),t)}},bl=function(t,e,n){return function(i,o){return Object(u.a)(t(e(Object(u.a)(n(i)/o))*o))}};function Cl(t,e,n,i){return Object(c.d)(i)?i?t:e:function(i,o,r,a){var s=t(i,o);return i-s===0||!Object(c.d)(r)||n(i,s,o,r)||a?s:e(i,o)}}function Ol(t,e,n,i){var o=n-il(e-t),r=nl.max(rl(i.businessDelta/n),2),a=i.screenDelta/(r*n),s=nl.round(a*o),l=X(a*n/i.axisDivisionFactor,2)+1,c=(i.isSpacedMargin?2:1)*l,u=nl.round(pl*c);return i.businessDelta>i.interval&&s>=u}function xl(t){return function(e,n,i,o){return Ol(X(e,t),X(n,t),i,o)}}function Sl(t,e,n,i){return Ol(t.valueOf(),e.valueOf(),el(n),i)}function wl(t,e){var n=0;return e&&(n=e.reduce(function(t,e){return t+(e.to-e.from)},0)),il(t.max-t.min-n)}function Pl(t,e,n,i){var o=e/n-(i||0);return t/(o=o<1?1:o)}function kl(t,e){return al(10,ol(X(t,10))+(e||0))}function El(t,e,n,i,o,r,a,s,l,c){var u=Pl(t,e,o,s),h=1,d=!1===a;return i&&n||((u>=1||!d&&u>0)&&(h=Tl(u,r,d)),(!n||!i&&n<h)&&(n=h)),!i&&c&&(c=Tl(c,r,d))>n&&(n=c),n}function Tl(t,e,n){var i=kl(t,-1),o=1;return e=e||sl,t>0&&(t/=i,o=e.concat(10*e[0]).map(function(t){return 10*t}).reduce(function(e,o){return.1===i&&n&&25===o?e:e<t?o:e},0),o=Object(u.a)(o*i,i)),o}function Il(t,e,n,i){var o=Pl(t,e,i);return n||dl.reduce(function(e,n){var i=t/n;return i>=o?i:e},0)}function jl(t){return function(e,n){var i=kl(e);return!t&&i<1&&(i=1),(n=n||ll).concat(10*n[0]).reduce(function(t,n){return t<e?n*i:t},0)}}function Ml(t,e){return function(n,i){return!n&&t<=tl(e,i)&&((n={})[e+"s"]=i),n}}function Dl(t,e){return function(n,i){var o=e*i;return!n&&t<=tl("year",o)&&2.5!==o&&(n={years:o}),n}}function Al(t,e,n,i,o,r,a,s,l,c){if(!i||!n){var u=Rl(Pl(t,e,o),r,null,l);(!n||!i&&el(n)<=el(u))&&(n=u)}return!i&&c&&(c=Rl(c,r,null,l),el(c)>el(n)&&(n=c)),n}function Rl(t,e,n,i){var o;for(var r in e=e||function(t){return t&&t>2?ul:cl}(i))if(o=e[r].reduce(Ml(t,r),o))break;if(!o)for(var a=1;!(o=sl.reduce(Dl(t,a),o));a*=10);return o}function Bl(t,e,n,i){return Al(t,e,n,!0,i,hl)}function Ll(t,e){return function(n){return n&&e(il(Object(u.a)(t(n[1])-t(n[0]))))||void 0}}function Nl(t,e,n){return h.a.addInterval(t,e,n)}function zl(t,e,n){return Nl(t,e,n)}function Fl(t,e,n){return e=e.filter(function(t){return!t.gapSize}),function(i,o,r){var a;return i=t(i,o,r),e.every(function(e){return i>=t(e.from,o)&&t(i,o)<e.to&&(a=e.to-e.from-2*(t(e.from,o)-e.from)),!a})||(i=n(t(i,a),o)),i}}function Hl(t,e,n,i){return function(o,r,a,s,l,u,h,d,p){var f,m=function(t,e){return function(n){var i;return e.every(function(t){return n>=t.from&&n<t.to&&(i=t.gapSize),!i})||(n=t(n,i)),n}}(t,s),g=o.min,v=o.max,y={screenDelta:h,businessDelta:u,axisDivisionFactor:d,isSpacedMargin:o.isSpacedMargin,interval:r},_=e(g,r,y),b=[];for(null!==l&&void 0!==l&&l.length&&(t=Fl(t,l,e)),_>v&&(_=e(g,n(u/2),y))>v&&(_=e(g,r,y,a=!0)),_=m(_);_<v&&_!==f||p&&_<=v;)b.push(_),f=_,_=m(t(_,r));return(a||_-v===0||!Object(c.d)(a)&&i(v,_,r,y))&&b.push(_),b}}function Vl(t,e,n,i,o){return function(r,a,s,l,c,u,h){var d=c/l,p=s[s.length-1],f=s[0],m=h-1;if(null!==u&&void 0!==u&&u.length&&(e=Fl(e,u,n)),0===(l=t(l,f,f,d)))return[];var g=i(n(r,c,r),l);l=t(l,f,g,d);for(var v=[];g<f&&(!m||m>0);)g>=r&&v.push(g),m--,g=e(g,l);var y=s.reduce(function(n,o){if(m=h-1,null===n.prevTick)return n.prevTick=o,n;l=t(l,o,n.prevTick,d);for(var r=i(n.prevTick,l);r<o&&(!m||m>0);)r!==n.prevTick&&n.minors.push(r),m--,r=e(r,l);return n.prevTick=o,n},{prevTick:null,minors:[]});v=v.concat(y.minors);var _,b=o(a,c,r);for(l=t(l,b,b,d),g=i(p,l);g<a&&g!==_;)v.push(g),_=g,g=e(g,l);return p-a!==0&&g-a===0&&v.push(g),v}}function Ul(t,e){if(e.length){var n=e.reduce(function(e,n){var i,o=[];for(i=e[1];i<t.length;i++){var r=t[i];if(r<n.from&&o.push(r),r>=n.to)break}return[e[0].concat(o),i]},[[],0]);return n[0].concat(t.slice(n[1]))}return t}function Wl(t,e,n,i,o,r,a,s,l,c){function u(e,n,i){return e&&n/a(e)>=i+1&&(t.incidentOccurred("W2003"),e=void 0),e}return function(h,d,p,f,m,g,v,y){m=m||{};var _=e(h,y),b=function(t){return{tickInterval:o(t.majors),ticks:t.majors||[],minorTickInterval:r(t.minors),minorTicks:t.minors||[]}}(m);return isNaN(_)||(0!==_||m.majors?(b=function(e,i,o,r,a,l,h,d){if(h.majors)return e.breaks=d,e;var p,f=d.filter(function(t){return t.gapSize});return a=t.skipCalculationLimits?a:u(a,o,r),a=n(o,r,a,l,t.axisDivisionFactor,t.numberMultipliers,t.allowDecimals,d.length,f[0]&&f[0].gapSize.days,t.minTickInterval),t.skipTickGeneration||(p=Ul(p=s(i,a,t.endOnTick,f,d,o,r,t.axisDivisionFactor,t.generateExtraTick),d=c(d,p,a)),e.breaks=d,e.ticks=e.ticks.concat(p)),e.tickInterval=a,e}(b,h,_,d,p,f,m,y||[]),!t.skipTickGeneration&&_>0&&(b=function(e,n,o,s,c,h,d){if(!t.calculateMinors)return e;if(d.minors)return e;var p=a(e.tickInterval),f=s*p/o,m=e.breaks;return!c&&h?c=r([p/(h+1),p/(h+1)*2]):h=void 0,c=u(c,p,f),c=i(p,f,c,t.minorAxisDivisionFactor),e.minorTicks=Ul(e.minorTicks.concat(l(n.min,n.max,e.ticks,c,e.tickInterval,m,h)),m),e.minorTickInterval=c,e}(b,h,_,d,g,v,m))):b.ticks=[h.min]),b}}function Kl(t,e,n,i){var o=Object(ke.a)(e,2),r=o[0],a=o[1];return(!Object(c.d)(r)||il(i(t)-i(r))/n>.25)&&(Object(c.d)(a)&&il(i(a)-i(r))/n<2?r=a:Object(c.d)(r)||(r=t)),r}function $l(t,e,n){return function(i,o,r){var a=t(r),s=.5*a;return i.reduce(function(t,i){var r=o.filter(function(t){return t<=i.from}),l=n(Kl(i.from,[].concat(r[r.length-1],o[r.length]),a,e),s);r=o.filter(function(t){return t>=i.to});var c=n(Kl(i.to,[].concat(r[0],o[o.length-r.length-1]),a,e),-s);return e(c)-e(l)<a&&!i.gapSize?t:i.gapSize?t.concat([i]):t.concat([{from:l,to:c,cumulativeWidth:i.cumulativeWidth}])},[])}}var Gl=function(t,e,n){return function(i,o){return Object(u.g)(i)*Object(u.a)(t(e(i)(Object(u.a)(n(i)/o))*o))}};function ql(t){var e,n=t.logBase,i=vl(n,t.allowNegatives,t.linearThreshold),o=gl(n,t.allowNegatives,t.linearThreshold),r=_l(n),a=yl(n),s=Gl(a,function(t){return t<0?rl:ol},r),l=Gl(a,function(t){return t<0?ol:rl},r),c=bl(ml,rl,ml);return Wl(t,function(t,e,n){var i=gl(t,e,n);return function(t,e){var n=0;return e&&(n=e.reduce(function(t,e){return t+il(i(e.to/e.from))},0)),rl(il(i(t.max)-i(t.min))-n)}}(n,t.allowNegatives,t.linearThreshold),(e=t.skipCalculationLimits,function(t,n,i,o,r,a,s,l,c,u){var h=Pl(t,n,r),d=0,p=jl(e);return o&&i||(h>0&&(d=p(h,a)),(!i||!o&&i<d)&&(i=d)),!o&&u&&(u=p(u,a))>i&&(i=u),i}),Il,Ll(o,ml),Ll(ml,ml),ml,Hl(function(t,e){return function(n,i,o){return e(Nl(t(n),i,o))}}(o,i),Cl(s,l,xl(n),t.endOnTick),jl(t.skipCalculationLimits),xl(n)),Vl(function(t,e,n,i){return Math.max(Math.abs(e),Math.abs(n))/i},Nl,s,c,l),$l(ml,o,function(t,e){return i(o(t)+e)}))}var Zl=function(t){return t.rangeIsEmpty?function(t){return function(e,n,i,o){var r=ol(n/t.axisDivisionFactor),a=n/(r=r<1?1:r);return{ticks:a>0?Array.apply(null,new Array(r+1)).map(function(t,e){return a*e}):[],tickInterval:a}}}(t):"discrete"===t.axisType?function(t){return function(e,n,i,o){var r=q(e.categories,e.min,e.max).categories;return{ticks:r,tickInterval:rl(r.length*t.axisDivisionFactor/n)}}}(t):"logarithmic"===t.axisType?ql(t):"datetime"===t.dataType?function(t){function e(e,n){var i=bl(ml,ol,ml),o=Object(c.o)(n)?h.a.getDateIntervalByString(n.toLowerCase()):n,r=el(n);(o.days%7===0||n.quarters)&&(o=Rl(r));var a=function(e){return h.a.correctDateWithUnitBeginning(e,o,null,t.firstDayOfWeek)},s=function(t){return new Date(ol((t.getTime()-t.getTimezoneOffset()*fl)/r)*r+t.getTimezoneOffset()*fl)};return e=a(e),"years"in o?e.setFullYear(i(e.getFullYear(),o.years)):"quarters"in o?e=a(s(e)):"months"in o?e.setMonth(i(e.getMonth(),o.months)):"weeks"in o||"days"in o?e=a(s(e)):"hours"in o?e.setHours(i(e.getHours(),o.hours)):"minutes"in o?e.setMinutes(i(e.getMinutes(),o.minutes)):"seconds"in o?e.setSeconds(i(e.getSeconds(),o.seconds)):"milliseconds"in o&&(e=s(e)),e}var n=Ll(ml,h.a.convertMillisecondsToDateUnits);return Wl(t,wl,Al,Bl,n,n,el,Hl(zl,Cl(e,function(t,n){for(var i=e(t,n);t-i>0;)i=zl(i,n);return i},Sl,t.endOnTick),Rl,Sl),Vl(ml,zl,e,zl,ml),$l(el,ml,function(t,e){return new Date(t.getTime()+e)}))}(t):function(t){var e=bl(ml,ol,ml),n=bl(ml,rl,ml),i=Ll(ml,ml);return Wl(t,wl,El,Il,i,i,ml,Hl(Nl,Cl(e,n,Ol,t.endOnTick),Tl,Ol),Vl(ml,Nl,e,Nl,ml),$l(ml,ml,function(t,e){return t+e}))}(t)},Yl=c.d,Xl=c.b,Ql=c.h;function Jl(t,e){return e<t}function tc(t,e){return e>t}function ec(t,e,n,i){var o=Yl(e);Yl(t)?o&&i(t,e)&&n(e):o&&n(e)}var nc=function(t){t&&Object(a.a)(this,t)},ic=nc;ic.prototype={constructor:ic,addRange:function(t){var e=this,n=e.categories,i=t.categories,o="discrete"===e.axisType,r=function(n,i){ec(e[n],t[n],function(t){e[n]=t},i)},a=function(t,n,i){ec(e[t],e[n],function(n){Yl(e[t])&&(e[t]=n)},i)},s=function(n){e[n]=e[n]||t[n]};return s("invert"),s("containsConstantLine"),s("axisType"),s("dataType"),s("isSpacedMargin"),"logarithmic"===e.axisType?s("base"):e.base=void 0,r("min",Jl),r("max",tc),o?(s("minVisible"),s("maxVisible")):(r("minVisible",Jl),r("maxVisible",tc)),r("interval",Jl),o||(a("min","minVisible",Jl),a("min","maxVisible",Jl),a("max","maxVisible",tc),a("max","minVisible",tc)),e.categories=void 0===n?i:i?function(t){var e={};return z(t,function(t){var n=e[t]?null:t;return e[t]=!0,n})}(n.concat(i)):n,"logarithmic"===e.axisType&&(s("allowNegatives"),r("linearThreshold",Jl)),e},isEmpty:function(){return(!Yl(this.min)||!Yl(this.max))&&(!this.categories||0===this.categories.length)},correctValueZeroLevel:function(){var t=this;if(Xl(t.max)||Xl(t.min))return t;function e(e,n){t[e]<0&&t[n]<0&&(t[n]=0),t[e]>0&&t[n]>0&&(t[e]=0)}return e("min","max"),e("minVisible","maxVisible"),t},sortCategories:function(t){if(!1!==t&&this.categories)if(Array.isArray(t)){var e=t.map(function(t){return t.valueOf()}),n=this.categories.filter(function(t){return-1===e.indexOf(t.valueOf())});this.categories=t.concat(n)}else{var i=!Ql(t);i&&"string"!==this.dataType?t=function(t,e){return t.valueOf()-e.valueOf()}:i&&(t=!1),t&&this.categories.sort(t)}}};var oc=Math.round;function rc(t){return t}var ac={translate:function(t,e){var n=this._canvasOptions,i=this._categoriesToPoints[null===t||void 0===t?void 0:t.valueOf()],o=this.translateSpecialCase(t),r=n.startPointIndex||0,a=this._options.stick?0:.5;if(Object(c.d)(o))return oc(o);if(!i&&0!==i)return null;var s=i+a-r+.5*(e=e||0);return oc(this._calculateProjection(n.interval*s))},getInterval:function(){return this._canvasOptions.interval},getEventScale:function(t){return 1-(1-(t.deltaScale||1))/(.75+this.visibleCategories.length/this._categories.length)},zoom:function(t,e){var n,i=this._categories,o=this._canvasOptions,r=this._options.stick,a=o.invert,s=o.interval*e,l=t/s,c=(this.visibleCategories||[]).length,h=parseInt((o.startPointIndex||0)+l+.5),d=parseInt(Object(u.a)(o.canvasLength/s)+(r?1:0))||1;a&&(h=parseInt((o.startPointIndex||0)+c-l+.5)-d),h<0&&(h=0),(n=h+d)>i.length&&(h=(n=i.length)-d)<0&&(h=0);var p=i.slice(parseInt(h),parseInt(n)),f=this._getDiscreteInterval(p.length,o);return e=f/o.interval,t=this.translate(a?p[p.length-1]:p[0])*e-(o.startPoint+(r?0:f/2)),{min:p[0],max:p[p.length-1],translate:t,scale:e}},getMinScale:function(t){var e=this._canvasOptions,n=(this.visibleCategories||this._categories).length;return n+=(parseInt(.1*n)||1)*(t?-2:2),e.canvasLength/(Math.max(n,1)*e.interval)},getScale:function(t,e){var n=this._canvasOptions,i=this.getCanvasVisibleArea(),o=!this._options.stick&&1,r=Object(c.d)(t)?this.translate(t,-o):null,a=Object(c.d)(e)?this.translate(e,+o):null;return null===r&&(r=n.invert?i.max:i.min),null===a&&(a=n.invert?i.min:i.max),this.canvasLength/Math.abs(a-r)},isValid:function(t){return!!Object(c.d)(t)&&this._categoriesToPoints[t.valueOf()]>=0},getCorrectValue:rc,to:function(t,e){var n=this._canvasOptions,i=this._categoriesToPoints[null===t||void 0===t?void 0:t.valueOf()],o=n.startPointIndex||0,r=i+(this._options.stick?0:.5)-o+(this._businessRange.invert?-1:1)*e*.5;return oc(this._calculateProjection(n.interval*r))},from:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._canvasOptions,i=n.startPoint,o=this.visibleCategories||this._categories,r=o.length,a=this._options.stick?.5:0,s=oc((t-i)/n.interval+a-.5-.5*e);return s>=r&&(s=r-1),s<0&&(s=0),n.invert&&(s=r-s-1),o[s]},_add:function(){return NaN},toValue:rc,isValueProlonged:!0,getRangeByMinZoomValue:function(t,e){var n=this._categories,i=n.indexOf(e.minVisible)+t-1,o=n.indexOf(e.maxVisible)-t+1;return n[i]?[e.minVisible,n[i]]:[n[o],e.maxVisible]}},sc=Math.floor,lc={_intervalize:function(t,e){if(Object(c.d)(t))return"datetime"===this._businessRange.dataType?(t=Object(c.i)(t)?new Date(t):new Date(t.getTime()),t=h.a.correctDateWithUnitBeginning(t,e,null,this._options.firstDayOfWeek)):t=Object(u.a)(sc(Object(u.a)(t/e))*e,e),t},translate:function(t,e,n){var i=this.translateSpecialCase(t);return Object(c.d)(i)?Math.round(i):(n=n||this._options.interval,this.isValid(t,n)?this.to(t,e,n):null)},getInterval:function(){return Math.round(this._canvasOptions.ratioOfCanvasRange*(this._businessRange.interval||Math.abs(this._canvasOptions.rangeMax-this._canvasOptions.rangeMin)))},zoom:function(){},getMinScale:function(){},getScale:function(){},_parse:function(t){return"datetime"===this._businessRange.dataType?new Date(t):Number(t)},fromValue:function(t){return this._parse(t)},toValue:function(t){return this._parse(t)},isValid:function(t,e){var n=this._canvasOptions,i=n.rangeMin,o=n.rangeMax;return e=e||this._options.interval,null!==t&&!isNaN(t)&&(t="datetime"===this._businessRange.dataType&&Object(c.i)(t)?new Date(t):t,e!==this._options.interval&&(i=this._intervalize(i,e),o=this._intervalize(o,e)),!(t.valueOf()<i||t.valueOf()>=h.a.addInterval(o,e)))},to:function(t,e,n){n=n||this._options.interval;var i=this._intervalize(t,n),o=h.a.addInterval(i,n),r=this._to(i),a=this._to(o);return e?e>0&&(r=a):r=sc((r+a)/2),r},_to:function(t){var e=this._canvasOptions,n=e.rangeMinVisible,i=e.rangeMaxVisible,o=t-n;return t<n?o=0:t>i&&(o=h.a.addInterval(i,this._options.interval)-n),this._conversionValue(this._calculateProjection(o*this._canvasOptions.ratioOfCanvasRange))},from:function(t,e){var n,i=this._options.interval,o=i,r=this._canvasOptions,a=r.rangeMinVisible,s=r.rangeMaxVisible;return"datetime"===this._businessRange.dataType&&(o=h.a.dateToMilliseconds(i)),n=this._calculateUnProjection((t-this._canvasOptions.startPoint)/this._canvasOptions.ratioOfCanvasRange),(n=this._intervalize(h.a.addInterval(n,o/2,e>0),i))<a?n=a:n>s&&(n=s),n},_add:function(){return NaN},isValueProlonged:!0};function cc(t){return null!==t?new Date(t):t}var uc={fromValue:cc,toValue:cc,_add:h.a.addDateInterval,convert:h.a.dateToMilliseconds},hc={fromValue:function(t){return null!==t?X(t,this._canvasOptions.base,this._businessRange.allowNegatives,this._businessRange.linearThreshold):t},toValue:function(t){return null!==t?Q(t,this._canvasOptions.base,this._businessRange.allowNegatives,this._businessRange.linearThreshold):t},getMinBarSize:function(t){var e=this.getCanvasVisibleArea(),n=this.from(e.min+t),i=this._canvasOptions;return Math.pow(i.base,i.rangeMinVisible+this.fromValue(this.from(e.min))-this.fromValue(Object(c.d)(n)?n:this.from(e.max)))},checkMinBarSize:function(t,e,n){var i,o,r=this._canvasOptions,a=n-t,s=this.constructor.prototype.checkMinBarSize;return Object(c.d)(e)&&a>0?(i=s(this.fromValue(n/a),this.fromValue(e)-r.rangeMinVisible),o=Math.pow(r.base,this.fromValue(a)+i)-a):o=s(t,e),o}},dc=Math.abs,pc=["width","height","left","top","bottom","right"],fc={to:function(t){var e=this._canvasOptions.startPoint+(this._options.conversionValue?t:Math.round(t));return e>this._canvasOptions.endPoint?this._canvasOptions.endPoint:e},from:function(t){return t-this._canvasOptions.startPoint}},mc=function(t){return Object(s.a)(pc,function(e,n){t[n]=parseInt(t[n])||0}),t};function gc(t){return{isStartSide:t?function(t,e,n,i){return t<=e[e.length-1][i]}:function(t,e,n,i){return t<e[0][n]},isEndSide:t?function(t,e,n,i){return t>e[0][n]}:function(t,e,n,i){return t>=e[e.length-1][i]},isInBreak:t?function(t,e,n,i){return t>e[i]&&t<=e[n]}:function(t,e,n,i){return t>=e[n]&&t<e[i]},isBetweenBreaks:t?function(t,e,n,i,o){return t>=e[o]&&t<n[i]}:function(t,e,n,i,o){return t<e[i]&&t>=n[o]},getLength:t?function(t,e){return e.length-t.length}:function(t){return t.length},getBreaksSize:t?function(t,e){return e.cumulativeWidth-t.cumulativeWidth}:function(t){return t.cumulativeWidth}}}var vc=function(t,e,n){this.update(t,e,n)};function yc(t){return{stroke:t.color,"stroke-width":t.width,"stroke-opacity":t.opacity,opacity:1}}function _c(t,e,n,i,o,r,s){var l=s||t._tickOffset,u=t._axisLineGroup,h=t._axisElementsGroup,d=yc(n),p=yc(i),f=/^\s+$/,m=t.getOptions().label,g=t._textOptions;function v(e){var n=t._textFontStyles,i=m.customizeColor;return i&&i.call&&(n=Object(a.a)({},t._textFontStyles,{fill:i.call(e,e)})),n}function y(e,n){var i=t.formatHint(e.value,m,n);Object(c.d)(i)&&""!==i&&e.getContentContainer().setTitle(i)}return function(a){var s={value:a,updateValue:function(t){this.value=a=t},initCoords:function(){this.coords=t._getTranslatedValue(a,l),this.labelCoords=t._getTranslatedValue(a)},saveCoords:function(){this._lastStoredCoordinates={coords:this._storedCoords,labelCoords:this._storedLabelsCoords},this._storedCoords=this.coords,this._storedLabelsCoords=this.templateContainer?this._getTemplateCoords():this.labelCoords},resetCoordinates:function(){this._lastStoredCoordinates&&(this._storedCoords=this._lastStoredCoordinates.coords,this._storedLabelsCoords=this._lastStoredCoordinates.labelCoords)},drawMark:function(e){n.visible&&o!==a&&(t.areCoordsOutsideAxis(this.coords)||(this.mark?(this.mark.append(u),t.sharp(this.mark,t.getSharpDirectionByCoords(this.coords)),this.updateTickPosition(e)):(this.mark=t._createPathElement([],d,t.getSharpDirectionByCoords(this.coords)).append(u),this.updateTickPosition(e))))},setSkippedCategory:function(t){o=t},_updateLine:function(e,n,i,o,r){e&&(null!==n.points&&null!==n.r?(o&&i&&null!==i.points?(n.opacity=1,e.attr(i),e.animate(n)):(n.opacity=o?0:1,e.attr(n),o&&e.animate({opacity:1},{delay:.5,partitionDuration:.5})),this.coords.angle&&t._rotateTick(e,this.coords,r)):e.remove())},updateTickPosition:function(e,i){this._updateLine(this.mark,{points:t._getTickMarkPoints(s.coords,n.length,e)},this._storedCoords&&{points:t._getTickMarkPoints(s._storedCoords,n.length,e)},i,!1)},drawLabel:function(n,i){var o=this;if(this.templateContainer&&t.isRendered())this.updateLabelPosition();else if(m.visible&&!r&&!t.getTranslator().getBusinessRange().isEmpty()&&!t.areCoordsOutsideAxis(this.labelCoords)){var s=m.template,l=t.formatLabel(a,m,n);if(this.label)return this.label.attr({text:l,rotate:0}).append(h),y(this,n),void this.updateLabelPosition();s?(this.templateContainer=e.g().append(h),this._templateDef&&this._templateDef.reject(),this._templateDef=new Ii.a,i.render({model:{valueText:l,value:this.value,labelFontStyle:v(this),labelStyle:g},container:this.templateContainer.element,onRendered:function(){o.updateLabelPosition(),o._templateDef&&o._templateDef.resolve()}})):Object(c.d)(l)&&""!==l&&!f.test(l)&&(this.label=e.text(l).css(v(this)).attr(g).append(h),this.updateLabelPosition(),y(this,n));var u=this.getContentContainer();u&&u.data("chart-data-argument",this.value),this.templateContainer&&y(this,n)}else this.label&&this.removeLabel()},getTemplateDeferred:function(){return this._templateDef},getContentContainer:function(){return this.templateContainer||this.label},fadeOutElements:function(){var e={opacity:1},n={opacity:0},i={partitionDuration:.5};this.getContentContainer()&&this._fadeOutLabel(),this.grid&&this.grid.append(t._axisGridGroup).attr(e).animate(n,i),this.mark&&this.mark.append(t._axisLineGroup).attr(e).animate(n,i)},_fadeInLabel:function(){var e=t._renderer.g().attr({opacity:0}).append(t._axisElementsGroup).animate({opacity:1},{delay:.5,partitionDuration:.5});this.getContentContainer().append(e)},_fadeOutLabel:function(){var e=t._renderer.g().attr({opacity:1}).animate({opacity:0},{partitionDuration:.5}).append(t._axisElementsGroup).toBackground();this.getContentContainer().append(e)},_getTemplateCoords:function(){return t._getLabelAdjustedCoord(this,(t._constantLabelOffset||0)+(s.labelOffset||0))},updateLabelPosition:function(t){var e=this.templateContainer;if(this.getContentContainer())if(t&&this._storedLabelsCoords)if(e){e.attr(this._storedLabelsCoords);var n=this._getTemplateCoords();e.animate(n)}else this.label.attr({x:this._storedLabelsCoords.x,y:this._storedLabelsCoords.y}),this.label.animate({x:this.labelCoords.x,y:this.labelCoords.y});else{if(e){var i=this._getTemplateCoords();e.attr(i)}else this.label.attr({x:this.labelCoords.x,y:this.labelCoords.y});t&&this._fadeInLabel()}},updateMultilineTextAlignment:function(){!m.template&&this.label&&this.label.attr({textsAlignment:this.labelAlignment||t.getOptions().label.alignment})},drawGrid:function(e){i.visible&&o!==this.value&&(this.grid?(this.grid.append(t._axisGridGroup),t.sharp(this.grid,t.getSharpDirectionByCoords(this.coords)),this.updateGridPosition()):(this.grid=e(this,p),this.grid&&this.grid.append(t._axisGridGroup)))},updateGridPosition:function(e){this._updateLine(this.grid,t._getGridPoints(s.coords),this._storedCoords&&t._getGridPoints(this._storedCoords),e,!0)},removeLabel:function(){var t=this.getContentContainer();t&&t.remove(),this._templateDef&&this._templateDef.reject(),this._templateDef=this.templateContainer=this.label=null}};return s}}vc.prototype={constructor:vc,reinit:function(){var t=this,e=t._options,n=t._businessRange,i=n.categories||[],o={},r=t._prepareCanvasOptions(),s=q(i,n.minVisible,n.maxVisible).categories,l=s.length;if(n.isEmpty())o=fc;else switch(n.axisType){case"logarithmic":o=hc;break;case"semidiscrete":o=lc,r.ratioOfCanvasRange=r.canvasLength/(h.a.addInterval(r.rangeMaxVisible,e.interval)-r.rangeMinVisible);break;case"discrete":o=ac,t._categories=i,r.interval=t._getDiscreteInterval(e.addSpiderCategory?l+1:l,r),t._categoriesToPoints=function(t){var e={};return t.forEach(function(t,n){e[t.valueOf()]=n}),e}(i),l&&(r.startPointIndex=t._categoriesToPoints[s[0].valueOf()],t.visibleCategories=s);break;default:"datetime"===n.dataType&&(o=uc)}(t._oldMethods||[]).forEach(function(e){delete t[e]}),t._oldMethods=Object.keys(o),Object(a.a)(t,o),t._conversionValue=e.conversionValue?function(t){return t}:function(t){return Math.round(t)},t.sc={},t._checkingMethodsAboutBreaks=[gc(!1),gc(t.isInverted())],t._translateBreaks(),t._calculateSpecialValues()},_translateBreaks:function(){var t,e,n,i,o=this._breaks,r=this._options.breaksSize;if(void 0!==o)for(t=0,i=o.length;t<i;t++)e=o[t],n=this.translate(e.to),e.end=n,e.start=e.gapSize?n:this.isInverted()?n+r:n-r},_checkValueAboutBreaks:function(t,e,n,i,o){var r,a,s,l,c={length:0,breaksSize:void 0,inBreak:!1},u=t[t.length-1];if(o.isStartSide(e,t,n,i))return c;if(o.isEndSide(e,t,n,i))return{length:u.length,breaksSize:u.cumulativeWidth,inBreak:!1};for(r=0,a=t.length;r<a;r++){if(s=t[r],l=t[r-1],o.isInBreak(e,s,n,i)){c.inBreak=!0,c.break=s;break}if(l&&o.isBetweenBreaks(e,s,l,n,i)){c={length:o.getLength(l,u),breaksSize:o.getBreaksSize(l,u),inBreak:!1};break}}return c},isInverted:function(){return!(this._options.isHorizontal^this._businessRange.invert)},_getDiscreteInterval:function(t,e){var n=t-(this._options.stick?1:0);return n>0?e.canvasLength/n:e.canvasLength},_prepareCanvasOptions:function(){var t,e=this._businessRange,n=this._canvasOptions=function(t){var e=t.min,n=t.max,i=t.minVisible,o=t.maxVisible;return"logarithmic"===t.axisType&&(o=X(o,t.base,t.allowNegatives,t.linearThreshold),i=X(i,t.base,t.allowNegatives,t.linearThreshold),e=X(e,t.base,t.allowNegatives,t.linearThreshold),n=X(n,t.base,t.allowNegatives,t.linearThreshold)),{base:t.base,rangeMin:e,rangeMax:n,rangeMinVisible:i,rangeMaxVisible:o}}(e),i=this._canvas,o=this._breaks;return n.startPadding=i.startPadding||0,n.endPadding=i.endPadding||0,this._options.isHorizontal?(n.startPoint=i.left+n.startPadding,t=i.width,n.endPoint=i.width-i.right-n.endPadding,n.invert=e.invert):(n.startPoint=i.top+n.startPadding,t=i.height,n.endPoint=i.height-i.bottom-n.endPadding,n.invert=!e.invert),this.canvasLength=n.canvasLength=n.endPoint-n.startPoint,n.rangeDoubleError=Math.pow(10,N(n.rangeMax-n.rangeMin)-N(t)-2),n.ratioOfCanvasRange=n.canvasLength/(n.rangeMaxVisible-n.rangeMinVisible),void 0!==o&&(n.ratioOfCanvasRange=(n.canvasLength-o[o.length-1].cumulativeWidth)/(n.rangeMaxVisible-n.rangeMinVisible-o[o.length-1].length)),n},updateCanvas:function(t){this._canvas=mc(t),this.reinit()},updateBusinessRange:function(t){var e=t.breaks||[];this._userBreaks=t.userBreaks||[],this._businessRange=function(t){function e(e,n){!Object(c.d)(t[e])&&Object(c.d)(t[n])&&(t[e]=t[n])}return t instanceof nc||(t=new nc(t)),e("minVisible","min"),e("maxVisible","max"),t}(t),this._breaks=e.length?function(t,e){var n,i,o,r,a="logarithmic"===e.axisType?function(t){return X(t,e.base)}:function(t){return t},s=[],l=t.length,c=0;for(r=0;r<l;r++)i=a((n=t[r]).from),c+=(o=a(n.to))-i,s.push({trFrom:i,trTo:o,from:n.from,to:n.to,length:c,cumulativeWidth:n.cumulativeWidth});return s}(e,this._businessRange):void 0,this.reinit()},update:function(t,e,n){this._options=Object(a.a)(this._options||{},n),this._canvas=mc(e),this.updateBusinessRange(t)},getBusinessRange:function(){return this._businessRange},getEventScale:function(t){return t.deltaScale||1},getCanvasVisibleArea:function(){return{min:this._canvasOptions.startPoint,max:this._canvasOptions.endPoint}},_calculateSpecialValues:function(){var t,e=this._canvasOptions,n=e.startPoint-e.startPadding,i=e.endPoint+e.endPadding,o=this._businessRange,r=o.minVisible,a=o.maxVisible,s=n+e.canvasLength/2;if(r<0&&a>0&&r!==a&&(t=this.translate(0,1)),!Object(c.d)(t)){var l=o.invert^(r<0&&a<=0);t=this._options.isHorizontal?l?i:n:l?n:i}this.sc={canvas_position_default:t,canvas_position_left:n,canvas_position_top:n,canvas_position_center:s,canvas_position_middle:s,canvas_position_right:i,canvas_position_bottom:i,canvas_position_start:e.invert?i:n,canvas_position_end:e.invert?n:i}},translateSpecialCase:function(t){return this.sc[t]},_calculateProjection:function(t){var e=this._canvasOptions;return e.invert?e.endPoint-t:e.startPoint+t},_calculateUnProjection:function(t){var e=this._canvasOptions;return"datetime"===this._businessRange.dataType&&(t=Math.round(t)),e.invert?e.rangeMaxVisible.valueOf()-t:e.rangeMinVisible.valueOf()+t},getMinBarSize:function(t){var e=this.getCanvasVisibleArea(),n=this.from(e.min+t);return dc(this.from(e.min)-(Object(c.d)(n)?n:this.from(e.max)))},checkMinBarSize:function(t,e,n){return dc(t)<e?t>=0?e:-e:t},translate:function(t,e){var n=this.translateSpecialCase(t);return Object(c.d)(n)?Math.round(n):isNaN(t)?null:this.to(t,e)},getInterval:function(t){var e,n=this._canvasOptions;return(t=null!==(e=t)&&void 0!==e?e:this._businessRange.interval)?Math.round(n.ratioOfCanvasRange*t):Math.round(n.endPoint-n.startPoint)},zoom:function(t,e,n){var i=this._canvasOptions;if(i.rangeMinVisible.valueOf()===i.rangeMaxVisible.valueOf()&&0!==t)return this.zoomZeroLengthRange(t,e);var o=i.startPoint,r=i.endPoint,a=this.isInverted(),s=(o+t)/e,l=(r+t)/e;n=n||{};var h,d,p=this.to(a?n.endValue:n.startValue),f=this.to(a?n.startValue:n.endValue);return p>s&&(l-=s-p,s=p,h=a?n.endValue:n.startValue),f<l&&(s-=l-f,l=f,d=a?n.startValue:n.endValue),f-p<l-s&&(s=p,l=f),e=(o+(t=(r-o)*s/(l-s)-o))/s||1,h=Object(c.d)(h)?h:Object(u.a)(this.from(s,1)),d=Object(c.d)(d)?d:Object(u.a)(this.from(l,-1)),e<=1&&(h=this._correctValueAboutBreaks(h,1===e?t:-1),d=this._correctValueAboutBreaks(d,1===e?t:1)),h>d?(h=h>n.endValue?n.endValue:h,d=d<n.startValue?n.startValue:d):(h=h<n.startValue?n.startValue:h,d=d>n.endValue?n.endValue:d),{min:h,max:d,translate:Object(u.a)(t),scale:Object(u.a)(e)}},_correctValueAboutBreaks:function(t,e){var n=this._userBreaks.filter(function(e){return t>=e.from&&t<=e.to});return n.length?e>0?n[0].to:n[0].from:t},zoomZeroLengthRange:function(t,e){var n=this._canvasOptions,i=n.rangeMin,o=n.rangeMax,r=(o.valueOf()!==i.valueOf()?o.valueOf()-i.valueOf():dc(n.rangeMinVisible.valueOf()-i.valueOf()))/n.canvasLength,a=Object(c.b)(o)||Object(c.b)(i),s="logarithmic"===this._businessRange.axisType,l=n.rangeMinVisible.valueOf()-r,h=n.rangeMaxVisible.valueOf()+r;return{min:l=s?Object(u.a)(Q(l,n.base)):a?new Date(l):l,max:h=s?Object(u.a)(Q(h,n.base)):a?new Date(h):h,translate:t,scale:e}},getMinScale:function(t){var e=this._businessRange,n=e.dataType,i=e.interval;return"datetime"===n&&1===i?this.getDateTimeMinScale(t):t?1.1:.9},getDateTimeMinScale:function(t){var e=this._canvasOptions,n=e.canvasLength/e.ratioOfCanvasRange;return n+=(parseInt(.1*n)||1)*(t?-2:2),e.canvasLength/(Math.max(n,1)*e.ratioOfCanvasRange)},getScale:function(t,e){var n=this._canvasOptions;return n.rangeMax===n.rangeMin?1:(t=Object(c.d)(t)?this.fromValue(t):n.rangeMin,e=Object(c.d)(e)?this.fromValue(e):n.rangeMax,(n.rangeMax-n.rangeMin)/Math.abs(t-e))},isValid:function(t){var e=this._canvasOptions;return null!==(t=this.fromValue(t))&&!isNaN(t)&&t.valueOf()+e.rangeDoubleError>=e.rangeMin&&t.valueOf()-e.rangeDoubleError<=e.rangeMax},getCorrectValue:function(t,e){var n,i=this._breaks;return t=this.fromValue(t),this._breaks&&!0===(n=this._checkValueAboutBreaks(i,t,"trFrom","trTo",this._checkingMethodsAboutBreaks[0])).inBreak?this.toValue(e>0?n.break.trTo:n.break.trFrom):this.toValue(t)},to:function(t,e){var n=this.getBusinessRange();if(Object(c.d)(n.maxVisible)&&Object(c.d)(n.minVisible)&&n.maxVisible.valueOf()===n.minVisible.valueOf())return Object(c.d)(t)&&n.maxVisible.valueOf()===t.valueOf()?this.translateSpecialCase(0===t&&this._options.shiftZeroValue?"canvas_position_default":"canvas_position_middle"):null;t=this.fromValue(t);var i=this._canvasOptions,o=this._breaks,r={length:0},a=0;return void 0!==o&&(r=this._checkValueAboutBreaks(o,t,"trFrom","trTo",this._checkingMethodsAboutBreaks[0]),a=Object(c.d)(r.breaksSize)?r.breaksSize:0),!0===r.inBreak?e>0?r.break.start:e<0?r.break.end:null:this._conversionValue(this._calculateProjection((t-i.rangeMinVisible-r.length)*i.ratioOfCanvasRange+a))},from:function(t,e){var n=this._breaks,i={length:0},o=this._canvasOptions,r=o.startPoint,a=0;return void 0!==n&&(i=this._checkValueAboutBreaks(n,t,"start","end",this._checkingMethodsAboutBreaks[1]),a=Object(c.d)(i.breaksSize)?i.breaksSize:0),!0===i.inBreak?e>0?this.toValue(i.break.trTo):e<0?this.toValue(i.break.trFrom):null:this.toValue(this._calculateUnProjection((t-r-a)/o.ratioOfCanvasRange+i.length))},isValueProlonged:!1,getRange:function(){return[this.toValue(this._canvasOptions.rangeMin),this.toValue(this._canvasOptions.rangeMax)]},getScreenRange:function(){return[this._canvasOptions.startPoint,this._canvasOptions.endPoint]},add:function(t,e,n){return this._add(t,e,(this._businessRange.invert?-1:1)*n)},_add:function(t,e,n){return this.toValue(this.fromValue(t)+e*n)},fromValue:function(t){return null!==t?Number(t):null},toValue:function(t){return null!==t?Number(t):null},ratioOfCanvasRange:function(){return this._canvasOptions.ratioOfCanvasRange},convert:function(t){return t},getRangeByMinZoomValue:function(t,e){return e.minVisible+t<=this._businessRange.max?[e.minVisible,e.minVisible+t]:[e.maxVisible-t,e.maxVisible]}};var bc=[0,1,2,3,4,5,6];function Cc(t){return(t+1)%7}function Oc(t,e){for(var n=t.start,i=t.end;n!==i;){if(n===e)return!0;n=Cc(n)}return!1}function xc(t,e){for(var n=0;t!==e;)t=Cc(t),n++;return n}function Sc(t){var e,n=(e=t,bc.filter(function(t){return!e.some(function(e){return e===t})}));if(n.length<7)for(;Cc(n[n.length-1])===n[0];)n.unshift(n.pop());return n}function wc(t,e){var n,i=t.slice(),o=function(t){if(t=h.a.trimTime(new Date(t)),i[n].from<=t&&i[n].to>t){var e=function(t,e){var n=[],i=new Date(e);return i.setDate(e.getDate()+1),e>t.from&&n.push({from:t.from,to:e}),i<t.to&&n.push({from:i,to:t.to}),n}(i[n],t);2===e.length?i.splice(n,1,e[0],e[1]):1===e.length?i.splice(n,1,e[0]):i.splice(n,1)}};for(n=0;n<i.length;n++)e.forEach(o);return i}function Pc(t,e,n,i,o){var r=Sc(n),a=function(t,e,n){var i=t.getDate(),o=[];return n.reduce(function(t,e){var n=t[1];return void 0===n.start?(n={start:e,end:Cc(e)},t[0].push(n),[t[0],n]):n.end===e?(n.end=Cc(e),t):(n={start:e,end:Cc(e)},t[0].push(n),[t[0],n])},[[],{}])[0].forEach(function(n){var r=new Date(t);for(r=h.a.trimTime(r);r<e;){i=r.getDay();var a=r.getDate();if(Oc(n,i)){var s=new Date(r);r.setDate(a+xc(i,n.end));var l=new Date(r);o.push({from:s,to:l})}r.setDate(r.getDate()+1)}}),o}(t,e,r);return a.push.apply(a,function(t,e,n,i){var o,r=function(t){return t===o},a=h.a.trimTime(t),s=h.a.trimTime(e);return s.setDate(e.getDate()+1),n.reduce(function(t,e){var n,l;return e=new Date(e),o=e.getDay(),!i.some(r)&&e>=a&&e<=s&&(n=h.a.trimTime(e),(l=new Date(n)).setDate(n.getDate()+1),t.push({from:n,to:l})),t},[])}(t,e,o||[],r)),function(t){return t.map(function(t){return{from:t.from,to:t.to,gapSize:h.a.convertMillisecondsToDateUnits(t.to-t.from)}})}(wc(a,i||[]))}var kc=h.a.getNextDateUnit,Ec=h.a.correctDateWithUnitBeginning,Tc=Math,Ic=Tc.max,jc=Ks,Mc=$s,Dc=Us,Ac=Ws,Rc=Gs,Bc=.3,Lc=2,Nc=0,zc=4,Fc=24,Hc={left:-1,top:-1,right:0,bottom:0,center:-.5};function Vc(t){return t.sort(function(t,e){return t.from-e.from})}function Uc(t,e,n,i){var o=i,r=e&&h.a.getDatesDifferences(e,t);return e&&"year"!==n&&(!function(t,e){var n,i;if("week"===e&&(e="day"),"quarter"===e&&(e="month"),t[e])for(i=0;i<h.a.dateUnitIntervals.length&&(t[n=h.a.dateUnitIntervals[i]]&&(t[n]=!1,t.count--),n!==e);i++);}(r,n),o=mo.getDateFormatByDifferences(r)),o}function Wc(t,e){return e.reduce(function(e,n){return Ic(e,t(n))},0)}function Kc(t,e,n){return t.some(function(t){return t.label.verticalAlignment===e})&&n||0}function $c(t){return Tc.abs(t.x)||0}function Gc(t){return Tc.abs(t.width-Tc.abs(t.x))||0}var qc={linear:{_getStep:function(t,e){var n=this._options.label.minSpacing,i=Wc(this._isHorizontal?function(t){return t.width+n}:function(t){return t.height},t);return e&&(i=function(t,e){var n=(e=(e=Tc.abs(e))%180>=90?90-e%90:e%90)*(Tc.PI/180);return n>=Tc.atan(t.height/t.width)?t.height/Tc.abs(Tc.sin(n)):t.width}({width:i,height:this._getMaxLabelHeight(t,0)},e)),Ys(this._majorTicks,this._isHorizontal?"x":"y",i)},_getMaxLabelHeight:function(t,e){return Wc(function(t){return t.height},t)+e},_validateOverlappingMode:function(t,e){return this._isHorizontal&&("rotate"===e||"stagger"===e)||!this._isHorizontal?Zs(t):t},_validateDisplayMode:function(t){return this._isHorizontal?t:"standard"},getMarkerTrackers:function(){return this._markerTrackers},_getSharpParam:function(t){return this._isHorizontal^t?"h":"v"},_createAxisElement:function(){return this._renderer.path([],"line")},_updateAxisElementPosition:function(){var t=this._axisPosition,e=this._getCanvasStartEnd();this._axisElement.attr({points:this._isHorizontal?[e.start,t,e.end,t]:[t,e.start,t,e.end]})},_getTranslatedCoord:function(t,e){return this._translator.translate(t,e)},_initAxisPositions:function(){this.customPositionIsAvailable()&&(this._customBoundaryPosition=this.getCustomBoundaryPosition()),!this.customPositionIsAvailable()||this.customPositionIsBoundary()?this._axisPosition=this.getPredefinedPosition(this.getResolvedBoundaryPosition()):this._axisPosition=this.getCustomPosition()},_getTickMarkPoints:function(t,e,n){var i,o=this._isHorizontal,r=this._options.tickOrientation,a=this._options.label.position;if(Object(c.d)(r))i=Hc[r]*e;else{var s=n.shift||0;(!o&&a===Dc||o&&a!==Mc)&&(s=-s),i=s+this.getTickStartPositionShift(e)}return[t.x+(o?0:i),t.y+(o?i:0),t.x+(o?0:i+e),t.y+(o?i+e:0)]},getTickStartPositionShift:function(t){var e=this._options.width,n=this.getResolvedBoundaryPosition();return t%2===1?(e%2!==0||n!==Dc&&n!==jc)&&(e%2!==1||n!==Ac&&n!==Mc||this.hasNonBoundaryPosition())?-Math.floor(t/2):Math.floor(-t/2):-t/2+(e%2===0?0:n===Mc||n===Ac?-1:1)},_getTitleCoords:function(){var t=this._isHorizontal,e=this._axisPosition,n=this._axisPosition,i=this._options.title.alignment,o=this._getCanvasStartEnd(),r=t||this._options.position===Dc,a=r?o.start:o.end,s=r?o.end:o.start,l=i===Dc?a:i===Ac?s:o.start+(o.end-o.start)/2;return t?e=l:n=l,{x:e,y:n}},_drawTitleText:function(t,e){var n=this._options,i=n.title,o={opacity:i.opacity,align:i.alignment,class:i.cssClass};if(i.text&&t){e=e||this._getTitleCoords(),this._isHorizontal||(o.rotate=n.position===Dc?270:90);var r=this._renderer.text(i.text,e.x,e.y).css($(i.font)).attr(o).append(t);return this._checkTitleOverflow(r),r}},_updateTitleCoords:function(){this._title&&this._title.element.attr(this._getTitleCoords())},_drawTitle:function(){var t=this._drawTitleText(this._axisTitleGroup);t&&(this._title={element:t})},_measureTitle:function(){this._title&&(this._title.bBox&&!this._title.originalSize&&(this._title.originalSize=this._title.bBox),this._title.bBox=this._title.element.getBBox())},_drawDateMarker:function(t,e,n){var i,o=this._options.marker,r=this._translator.getBusinessRange().invert,a=o.width+o.textLeftIndent;if(null!==e.x){e.withoutStick||(i=this._renderer.path([e.x,e.y,e.x,e.y+o.separatorHeight],"line").attr({"stroke-width":o.width,stroke:o.color,"stroke-opacity":o.opacity,sharp:"h"}).append(this._axisElementsGroup));var s=String(this.formatLabel(t,e.labelOptions,n));return{date:t,x:e.x,y:e.y,cropped:e.withoutStick,label:this._renderer.text(s,e.x,e.y).css($(o.label.font)).append(this._axisElementsGroup),line:i,getContentContainer:function(){return this.label},getEnd:function(){return this.x+(r?-1:1)*(a+this.labelBBox.width)},setTitle:function(){this.title=s},hideLabel:function(){this.label.dispose(),this.label=null,this.title=s},hide:function(){i&&(i.dispose(),i=null),this.label.dispose(),this.label=null,this.hidden=!0}}}},_drawDateMarkers:function(){var t,e=this,n=e._options,i=e._translator,o=e._getViewportRange(),r=o.minVisible,a=[];function s(t,n,r){return e._drawDateMarker(t,{x:i.translate(t),y:l,labelOptions:e._getLabelFormatOptions(n),withoutStick:r},o)}if(o.isEmpty()||!n.marker.visible||"datetime"!==n.argumentType||"discrete"===n.type||e._majorTicks.length<=1)return[];var l=e._axisPosition+n.marker.topIndent,c=h.a.getDateUnitInterval(this._tickInterval),u=function(t){var e=kc(t);return"quarter"===e&&(e=kc(e)),e}(c),d=function(t,e,n){var i,o=t;return t=Ec(t,n),e=Ec(e,n),(i=h.a.getSequenceByInterval(t,e,n)).length&&o>i[0]&&(i=i.slice(1)),i}(r,o.maxVisible,u);return(d.length>1||1===d.length&&r<d[0])&&(a=d.reduce(function(t,e,n,i){var o=s(e,Uc(e,i[n-1]||r<e&&r,c,u));return o&&t.push(o),t},[]),r<d[0]&&(t=s(r,Uc(r,d[0],c,u),!0))&&a.unshift(t)),a},_adjustDateMarkers:function(t){t=t||0;var e,n=this,i=this._options.marker,o=i.width+i.textLeftIndent,r=this._translator.getBusinessRange().invert,a=n._getCanvasStartEnd(),s=this._dateMarkers;return s.length?(s[0].cropped&&(this._checkMarkersPosition(r,s[1],s[0])||s[0].hideLabel()),s.forEach(function(t,i,o){t.cropped||((r?t.getEnd()<a.end:t.getEnd()>a.end)?t.hideLabel():n._checkMarkersPosition(r,t,e)?e=t:t.hide())}),this._dateMarkers.forEach(function(e){if(e.label){var n=e.labelBBox,a=e.y+i.textTopIndent-n.y;e.label.attr({translateX:r?e.x-o-n.x-n.width:e.x+o-n.x,translateY:a+t})}e.line&&e.line.attr({translateY:t})}),n._initializeMarkersTrackers(t),t+i.topIndent+i.separatorHeight):t},_checkMarkersPosition:function(t,e,n){return void 0===n||(t?e.x<n.getEnd():e.x>n.getEnd())},_initializeMarkersTrackers:function(t){var e=this._options.marker.separatorHeight,n=this._renderer,i=this._translator.getBusinessRange(),o=this._getCanvasStartEnd(),r=this._axisElementsGroup;this._markerTrackers=this._dateMarkers.filter(function(t){return!t.hidden}).map(function(a,s,l){var c=l[s+1]||{x:o.end,date:i.max},u=a.x,h=a.y+t,d=n.path([u,h,u,h+e,c.x,h+e,c.x,h,u,h],"area").attr({"stroke-width":1,stroke:"grey",fill:"grey",opacity:1e-4}).append(r);return d.data("range",{startValue:a.date,endValue:c.date}),a.title&&d.setTitle(a.title),d})},_getLabelFormatOptions:function(t){var e=this._markerLabelOptions;return e||(this._markerLabelOptions=e=Object(a.a)(!0,{},this._options.marker.label)),Object(c.d)(this._options.marker.label.format)||(e.format=t),e},_adjustConstantLineLabels:function(t){var e=this,n=e._options.position,i=e.getCanvas(),o=i.left,r=i.width-i.right,a=i.top,s=i.height-i.bottom,l=a+(s-a)/2,c=o+(r-o)/2,u=0;return t.forEach(function(t){var i,h,d=e._isHorizontal,p=t.options,f=p.paddingTopBottom,m=p.paddingLeftRight,g=p.label,v=g.verticalAlignment,y=g.horizontalAlignment,_="inside"===g.position,b=t.label,C=t.labelBBox;if(null!==b&&!C.isEmpty){if(d)if(_)switch(i=y===Dc?t.coord-m-C.x-C.width:t.coord+m-C.x,v){case Rc:h=l-C.y-C.height/2;break;case Mc:h=s-f-C.y-C.height;break;default:h=a+f-C.y}else n===v&&(u=Ic(u,C.height+f)),i=t.coord-C.x-C.width/2,h=v===Mc?s+f-C.y:a-f-C.y-C.height;else if(_)switch(h=v===Mc?t.coord+f-C.y:t.coord-f-C.y-C.height,y){case Rc:i=c-C.x-C.width/2;break;case Ac:i=r-m-C.x-C.width;break;default:i=o+m-C.x}else n===y&&(u=Ic(u,C.width+m)),h=t.coord-C.y-C.height/2,i=y===Ac?r+m-C.x:o-m-C.x-C.width;b.attr({translateX:i,translateY:h})}}),u},_drawConstantLinesForEstimating:function(t){var e=this,n=this._renderer,i=n.g();return t.forEach(function(t){e._drawConstantLineLabelText(t.label.text,0,0,t.label,i).attr({align:"center"})}),i.append(n.root)},_estimateLabelHeight:function(t,e){var n=t.height,i=e.drawingType;if("stagger"!==this._validateDisplayMode(i)&&"stagger"!==this._validateOverlappingMode(e.overlappingBehavior,i)||(n=2*n+e.staggeringSpacing),"rotate"===this._validateDisplayMode(i)||"rotate"===this._validateOverlappingMode(e.overlappingBehavior,i)){var o=R(e.rotationAngle);n=n*o.cos+t.width*o.sin}return n&&(n+e.indentFromAxis||0)||0},estimateMargins:function(t){this.updateCanvas(t);var e=this._getViewportRange(),n=this._createTicksAndLabelFormat(e),i=n.ticks,o=n.tickInterval,r=this._options,a=this._outsideConstantLines.filter(function(t){return t.labelOptions.visible}).map(function(t){return t.options}),s=this._renderer.root,l=r.label.visible&&!e.isEmpty()&&i.length,c=l&&this.formatLabel(i[i.length-1],r.label,void 0,void 0,o,i),u=l&&this._renderer.text(c,0,0).css(this._textFontStyles).attr(this._textOptions).append(s),h=this._drawTitleText(s,{x:0,y:0}),d=this._drawConstantLinesForEstimating(a),p=!r.label.template&&u&&u.getBBox()||{x:0,y:0,width:0,height:0},f=h&&h.getBBox()||{x:0,y:0,width:0,height:0},m=d.getBBox(),g=f.height?f.height+r.title.margin:0,v=this._estimateLabelHeight(p,r.label),y=m.height?m.height+a.reduce(function(t,e){return Ic(t,e.paddingTopBottom)},0):0,_=v+g,b={left:Ic($c(p),$c(m)),right:Ic(Gc(p),Gc(m)),top:("top"===r.position?_:0)+Kc(a,"top",y),bottom:("top"!==r.position?_:0)+Kc(a,"bottom",y)};return u&&u.remove(),h&&h.remove(),d&&d.remove(),b},_checkAlignmentConstantLineLabels:function(t){var e=t.position,n=(t.verticalAlignment||"").toLowerCase(),i=(t.horizontalAlignment||"").toLowerCase();this._isHorizontal?"outside"===e?(n=n===Mc?Mc:jc,i=Rc):(n=n===Rc?Rc:n===Mc?Mc:jc,i=i===Dc?Dc:Ac):"outside"===e?(n=Rc,i=i===Dc?Dc:Ac):(n=n===Mc?Mc:jc,i=i===Ac?Ac:i===Rc?Rc:Dc),t.verticalAlignment=n,t.horizontalAlignment=i},_getConstantLineLabelsCoords:function(t,e){var n=t,i=t;return this._isHorizontal?i=this._orthogonalPositions["top"===e.verticalAlignment?"start":"end"]:n=this._orthogonalPositions["right"===e.horizontalAlignment?"end":"start"],{x:n,y:i}},_getAdjustedStripLabelCoords:function(t){var e=t.options,n=e.paddingTopBottom,i=e.paddingLeftRight,o=e.label.horizontalAlignment,r=e.label.verticalAlignment,a=t.labelBBox,s=a.height,l=a.width,c=t.labelCoords,u=c.y-a.y,h=c.x-a.x;return r===jc?u+=n:r===Rc?u-=s/2:r===Mc&&(u-=n+s),o===Dc?h+=i:o===Rc?h-=l/2:o===Ac&&(h-=i+l),{translateX:h,translateY:u}},_adjustTitle:function(t){if(t=t||0,this._title){var e=this._options,n=e.position,i=e.title.margin,o=this._title,r=o.bBox,a=r.x,s=r.y,l=r.width,c=r.height,u=this._axisPosition,h=u-i-t,d=u+i+t,p={};this._isHorizontal?p.translateY=n===jc?h-(s+c):d-s:p.translateX=n===Dc?h-(a+l):d-a,o.element.attr(p)}},_checkTitleOverflow:function(t){if(this._title||t){var e=this._getScreenDelta(),n=t?{bBox:t.getBBox(),element:t}:this._title,i=this._options.title,o=n.bBox;if((this._isHorizontal?o.width:o.height)>e)n.element.setMaxSize(e,void 0,{wordWrap:i.wordWrap||"none",textOverflow:i.textOverflow||"ellipsis"}),this._wrapped=i.wordWrap&&"none"!==i.wordWrap;else{var r=n.originalSize&&e>(this._isHorizontal?n.originalSize.width:n.originalSize.height);!this._wrapped&&r&&n.element.restoreText()}}},coordsIn:function(t,e){var n=this.getCanvas(),i=this._options.isHorizontal,o=this._options.position,r=i?e:t;return!(i&&(t<n.left||t>n.width-n.right)||!i&&(e<n.top||e>n.height-n.bottom))&&(i&&o===Ks||!i&&o===Us?r<n[o]:r>n[i?"height":"width"]-n[o])},_boundaryTicksVisibility:{min:!0,max:!0},adjust:function(){var t=this._seriesData,e=this._series.filter(function(t){return t.isVisible()}).reduce(function(t,e){var n=e.getViewport();return t.min=Object(c.d)(n.min)?t.min<n.min?t.min:n.min:t.min,t.max=Object(c.d)(n.max)?t.max>n.max?t.max:n.max:t.max,e.showZero&&(t=new nc(t)).correctValueZeroLevel(),t},{});Object(c.d)(e.min)&&Object(c.d)(e.max)&&(t.minVisible=e.min,t.maxVisible=e.max),t.userBreaks=this._getScaleBreaks(this._options,{minVisible:t.minVisible,maxVisible:t.maxVisible},this._series,this.isArgumentAxis),this._translator.updateBusinessRange(this._getViewportRange())},hasWrap:function(){return this._wrapped},getAxisPosition:function(){return this._axisPosition},_getStick:function(){return!this._options.valueMarginsEnabled},_getStripLabelCoords:function(t,e,n){var i,o,r=this._orthogonalPositions,a=this._isHorizontal,s=n.horizontalAlignment,l=n.verticalAlignment;return a?(s===Rc?i=t+(e-t)/2:s===Dc?i=t:s===Ac&&(i=e),o=r[function(t){var e="start";return"center"===t&&(e="center"),"bottom"===t&&(e="end"),e}(l)]):(i=r[function(t){var e="start";return"center"===t&&(e="center"),"right"===t&&(e="end"),e}(s)],l===jc?o=t:l===Rc?o=e+(t-e)/2:l===Mc&&(o=e)),{x:i,y:o}},_getTranslatedValue:function(t,e){var n=this._translator.translate(t,e,"semidiscrete"===this._options.type&&this._options.tickInterval),i=this._axisPosition,o=this._isHorizontal;return{x:o?n:i,y:o?i:n}},areCoordsOutsideAxis:function(t){var e=this._isHorizontal?t.x:t.y,n=this.getVisibleArea();return e<n[0]||e>n[1]},_getSkippedCategory:function(t){var e;return this._options.type===Hs&&this._tickOffset&&0!==t.length&&(e=t[t.length-1]),e},_filterBreaks:function(t,e,n){var i=e.minVisible,o=e.maxVisible,r=n?n.width:0;return t.reduce(function(t,e){var n,a=e.from,s=e.to,l=t[t.length-1];if(!Object(c.d)(a)||!Object(c.d)(s))return t;if(a>s&&(s=[a,a=s][0]),t.length&&a<l.to)s>l.to&&(l.to=s>o?o:s,l.gapSize&&(l.gapSize=void 0,l.cumulativeWidth+=r));else if((a>=i&&a<o||s<=o&&s>i)&&(s=s<=o?s:o)-(a=a>=i?a:i)<o-i){var u,d;if(n={from:a,to:s,cumulativeWidth:(null!==(u=null===l||void 0===l?void 0:l.cumulativeWidth)&&void 0!==u?u:0)+r},e.gapSize)n.gapSize=h.a.convertMillisecondsToDateUnits(s-a),n.cumulativeWidth=null!==(d=null===l||void 0===l?void 0:l.cumulativeWidth)&&void 0!==d?d:0;t.push(n)}return t},[])},_getScaleBreaks:function(t,e,n,i){var o=this,r=(t.breaks||[]).map(function(t){return{from:o.parser(t.startValue),to:o.parser(t.endValue)}});return"discrete"!==t.type&&"datetime"===t.dataType&&t.workdaysOnly&&(r=r.concat(Pc(e.minVisible,e.maxVisible,t.workWeek,t.singleWorkdays,t.holidays))),!i&&"discrete"!==t.type&&"datetime"!==t.dataType&&t.autoBreaksEnabled&&0!==t.maxAutoBreakCount&&(r=r.concat(function(t,e,n){for(var i=t.logarithmBase,o=t.type,r=t.maxAutoBreakCount,a=[],s="logarithmic"===o?function(t,e){return j(e/t,i)}:function(t,e){return e-t},l=s(n.minVisible,n.maxVisible),u=e.reduce(function(t,e){var n=e.getPointsInViewPort();return t[0]=t[0].concat(n[0]),t[1]=t[1].concat(n[1]),t},[[],[]]),h=u[0].concat(u[1]).sort(function(t,e){return e-t}),d=u[1].filter(function(t){return u[0].indexOf(t)<0}),p=Bc*l,f=function(t,e,n){var i,o,r,a,s,l=null,c=[];for(i=1,o=t.length;i<o;i++)s=n(r=t[i],a=t[i-1]),e.indexOf(r)>=0?(!l||s>l.length)&&(l={start:r,end:a,length:s}):(l&&s<l.length?c.push(l):c.push({start:r,end:a,length:s}),l=null);return l&&c.push(l),c}(h,d,s).sort(function(t,e){return e.length-t.length}),m=Tc.min.apply(null,f.map(function(t){return t.length}))/1e3,g=Object(c.d)(r)?Tc.min(r,f.length):f.length,v=0;v<g&&f[v].length>=p&&!(l<=f[v].length);v++)((l-=f[v].length)>m||l<-m)&&(a.push({from:f[v].start,to:f[v].end}),p=Bc*l);return Vc(a),a}(t,n,e))),Vc(r)},_drawBreak:function(t,e,n,i,o,r){var a=t-(this._translator.isInverted()?0:i+1),s={"stroke-width":1,stroke:o.borderColor,sharp:o.isWaved?void 0:o.isHorizontal?"h":"v"},l={stroke:o.color,"stroke-width":i},c=this._isHorizontal?Yc:function(t){return t},u=Zc(this._renderer,r,c,e,a,n,o.isWaved);u(i/2,l),u(0,s),u(i,s)},_createBreakClipRect:function(t,e){var n,i=this._canvas,o=e-t;return n=this._isHorizontal?this._renderer.clipRect(i.left,t,i.width,o):this._renderer.clipRect(t,i.top,o,i.height),this._breaksElements=this._breaksElements||[],this._breaksElements.push(n),n.id},_createBreaksGroup:function(t,e){var n=this._renderer.g().attr({class:this._axisCssPrefix+"breaks","clip-path":this._createBreakClipRect(t,e)}).append(this._scaleBreaksGroup);return this._breaksElements=this._breaksElements||[],this._breaksElements.push(n),n},_disposeBreaksGroup:function(){(this._breaksElements||[]).forEach(function(t){t.dispose()}),this._breaksElements=null},drawScaleBreaks:function(t){var e,n,i,o,r,a=this,s=a._options,l=s.breakStyle,c=s.position,u=a._translator.getBusinessRange().breaks||[];if(a._disposeBreaksGroup(),u&&u.length){var h={color:a._options.containerColor,borderColor:l.color,isHorizontal:a._isHorizontal,isWaved:"straight"!==l.line.toLowerCase()};t?(e=t.start,n=t.end):(e=a._orthogonalPositions.start-(!s.visible||a._axisShift||c!==Dc&&c!==jc?0:3),n=a._orthogonalPositions.end+(!s.visible||c!==Ac&&c!==Mc?0:3));var d=a._createBreaksGroup(e,n);a._axisShift&&s.visible&&(o=a._axisPosition-a._axisShift-3,r=o+6,i=a._createBreaksGroup(o,r)),u.forEach(function(t){if(!t.gapSize){var c=a._getTranslatedCoord(t.to);a._drawBreak(c,e,n,l.width,h,d),a._axisShift&&s.visible&&a._drawBreak(c,o,r,l.width,h,i)}})}},_getSpiderCategoryOption:l.noop,shift:function(t){var e=this._options,n=e.isHorizontal,i=this.getMultipleAxesSpacing(),o=this._axisConstantLineGroups;function r(e,o){var r={translateX:0,translateY:0},a=t[e]?t[e]+i:0;return r[n?"translateY":"translateX"]=(e===Dc||e===jc?-1:1)*a,(o[e]||o).attr(r),a}this._axisShift=r(e.position,this._axisGroup),r(e.position,this._axisElementsGroup),(n?[jc,Mc]:[Dc,Ac]).forEach(function(t){r(t,o.above),r(t,o.under)})},getCustomPosition:function(t){var e,n=this.getOrthogonalAxis(),i=null!==t&&void 0!==t?t:this.getResolvedPositionOption(),o=this.getOptions().offset,r=n.getTranslator(),a=n.getOptions().type,s=n.validateUnit(i);return"discrete"===a&&(!r._categories||r._categories.indexOf(s)<0)&&(s=void 0),e=this.positionIsBoundary(i)?this.getPredefinedPosition(i):Object(c.d)(s)?r.to(s,-1):this.getPredefinedPosition(this.getOptions().position),isFinite(e)&&isFinite(o)&&(e+=o),e},getCustomBoundaryPosition:function(t){var e=this.getOptions(),n=e.customPosition,i=e.offset,o=null!==t&&void 0!==t?t:this.getResolvedPositionOption(),r=this.getOrthogonalAxis(),a=r.getTranslator(),s=a.getCanvasVisibleArea();if(Object(c.d)(r._orthogonalPositions)&&0!==a.canvasLength){var l=this.getCustomPosition(o);if(!Object(c.d)(l))return this.getResolvedBoundaryPosition();if(Object(c.d)(n)){if(l<=s.min)return this._isHorizontal?jc:Dc;if(l>=s.max)return this._isHorizontal?Mc:Ac}else if(Object(c.d)(i)){if(l<=this._orthogonalPositions.start)return this._isHorizontal?jc:Dc;if(l>=this._orthogonalPositions.end)return this._isHorizontal?Mc:Ac}return l}},getResolvedPositionOption:function(){var t,e=this.getOptions();return null!==(t=e.customPosition)&&void 0!==t?t:e.position},customPositionIsAvailable:function(){var t=this.getOptions();return Object(c.d)(this.getOrthogonalAxis())&&(Object(c.d)(t.customPosition)||isFinite(t.offset))},hasNonBoundaryPosition:function(){return this.customPositionIsAvailable()&&!this.customPositionIsBoundary()},getResolvedBoundaryPosition:function(){return this.customPositionIsBoundary()?this._customBoundaryPosition:this.getOptions().position},customPositionEqualsToPredefined:function(){return this.customPositionIsBoundary()&&this._customBoundaryPosition===this.getOptions().position},customPositionIsBoundary:function(){return this.positionIsBoundary(this._customBoundaryPosition)},positionIsBoundary:function(t){return[jc,Dc,Mc,Ac].indexOf(t)>=0},getPredefinedPosition:function(t){var e;return null===(e=this._orthogonalPositions)||void 0===e?void 0:e[t===jc||t===Dc?"start":"end"]},resolveOverlappingForCustomPositioning:function(t){var e=this;if(e.hasNonBoundaryPosition()||e.customPositionIsBoundary()||t.some(function(t){return t.hasNonBoundaryPosition()})){var n={axes:[],ticks:[]};t.filter(function(t){return t.pane===e.pane}).forEach(function(t){for(var i=0;i<e._majorTicks.length;i++){var o=e._majorTicks[i],r=o.label;if(r){n.axes.indexOf(t)<0&&e._detectElementsOverlapping(r,t._axisElement)&&(n.axes.push(t),e._shiftThroughOrthogonalAxisOverlappedTick(r,t));for(var a=0;a<t._majorTicks.length;a++){var s=t._majorTicks[a].label;if(s&&e._detectElementsOverlapping(r,s)){n.ticks.push(o),e._shiftThroughAxisOverlappedTick(o),i=e._majorTicks.length;break}}}o.mark&&n.ticks.indexOf(o)<0&&(e._isHorizontal&&o.mark.attr("translateY")?o.mark.attr({translateY:0}):!e._isHorizontal&&o.mark.attr("translateX")&&o.mark.attr({translateX:0}))}})}},_shiftThroughOrthogonalAxisOverlappedTick:function(t,e){var n=t.getBBox(),i=e.getAxisPosition(),o=e.getOptions().label,r=o.position,a=o.indentFromAxis/2,s=this._isHorizontal?"translateX":"translateY",l=this._isHorizontal?Dc:jc,c=t.attr(s),u=(this._isHorizontal?n.x:n.y)+c,h=i-u,d=u+(this._isHorizontal?n.width:n.height)-i,p={};p[s]=c,h>0&&d>0&&(d-h>1?p[s]+=h+a:h-d>1?p[s]-=d+a:p[s]+=r===l?h+a:-(d+a),t.attr(p))},_shiftThroughAxisOverlappedTick:function(t){var e,n=t.label;if(n){var i=n.getBBox(),o=null===(e=t.mark)||void 0===e?void 0:e.getBBox(),r=this.getAxisPosition(),a=this.getOptions().label,s=a.indentFromAxis,l=a.position,c=this._isHorizontal?jc:Dc,u=this._isHorizontal?"translateY":"translateX",h=n.attr(u),d=(this._isHorizontal?i.y:i.x)+h,p=this._isHorizontal?i.height:i.width,f={};if(f[u]=h+(l===c?r-d+s:-(d-r+p+s)),n.attr(f),t.mark){var m=this._isHorizontal?o.height:o.width,g=l===c?1:-1;f[u]=g*(m-1),t.mark.attr(f)}}},_detectElementsOverlapping:function(t,e){if(!t||!e)return!1;var n=t.getBBox(),i=n.x+t.attr("translateX"),o=n.y+t.attr("translateY"),r=e.getBBox(),a=r.x+e.attr("translateX"),s=r.y+e.attr("translateY");return(a>=i&&a<=i+n.width||i>=a&&i<=a+r.width)&&(s>=o&&s<=o+n.height||o>=s&&o<=s+r.height)}}};function Zc(t,e,n,i,o,r,a){var s=a?"bezier":"line",l=t.g().append(e);return function(e,c){t.path(n(function(t,e,n,i,o){if(!o)return[t,e+i,n,e+i];var r,a=(e+=i)+Nc,s=e+Lc,l=e+zc,c=[[t,s]];for(r=t;r<n+Fc;r+=Fc)c.push([r+6,a,r+6,a,r+12,s,r+18,l,r+18,l,r+24,s]);return[].concat.apply([],c)}(i,o,r,e,a)),s).attr(c).append(l)}}function Yc(t){var e,n=[];for(e=0;e<t.length;e+=2)n.push(t[e+1]),n.push(t[e]);return n}var Xc=Math.max,Qc=function(t,e){var n=e.left,i=e.top,o=e.width-e.right,r=e.height-e.bottom;return t.reduce(function(t,e){return!e||e.isEmpty?t:{left:Xc(t.left,n-e.x),top:Xc(t.top,i-e.y),right:Xc(t.right,e.x+e.width-o),bottom:Xc(t.bottom,e.y+e.height-r)}},{left:0,right:0,top:0,bottom:0})},Jc=function(t){t.forEach(function(t){var e=t.getContentContainer();t.labelBBox=e?e.getBBox():{x:0,y:0,width:0,height:0}})},tu=Math.PI,eu=Math.abs,nu=Math.atan,iu=Math.round,ou=Math.min,ru=Math.max,au=qc.linear;function su(t){var e;return(t=A(t))>=315&&t<=360||t<45&&t>=0?e=1:t>=45&&t<135?e=2:t>=135&&t<225?e=3:t>=225&&t<315&&(e=4),e}var lu={_calculateValueMargins:function(t){var e=this._getViewportRange(),n=e.minVisible,i=e.maxVisible;return t&&t.length>1&&(i=(n=n<t[0].value?n:t[0].value)>t[t.length-1].value?i:t[t.length-1].value),{minValue:n,maxValue:i}},applyMargins:function(){var t=this._calculateValueMargins(this._majorTicks),e=this._translator.getBusinessRange();e.addRange({minVisible:t.minValue,maxVisible:t.maxValue,interval:this._calculateRangeInterval(e.interval)}),this._translator.updateBusinessRange(e)},_getTranslatorOptions:function(){return{isHorizontal:!0,conversionValue:!0,addSpiderCategory:this._getSpiderCategoryOption(),stick:this._getStick()}},getCenter:function(){return this._center},getRadius:function(){return this._radius},getAngles:function(){var t=this._options;return[t.startAngle,t.endAngle]},_updateRadius:function(t){var e=ou(t.width-t.left-t.right,t.height-t.top-t.bottom)/2;this._radius=e<0?0:e},_updateCenter:function(t){this._center={x:t.left+(t.width-t.right-t.left)/2,y:t.top+(t.height-t.top-t.bottom)/2}},_processCanvas:function(t){return this._updateRadius(t),this._updateCenter(t),{left:0,right:0,width:this._getScreenDelta()}},_createAxisElement:function(){return this._renderer.circle()},_updateAxisElementPosition:function(){var t=this.getCenter();this._axisElement.attr({cx:t.x,cy:t.y,r:this.getRadius()})},_boundaryTicksVisibility:{min:!0},_getSpiderCategoryOption:function(){return this._options.firstPointOnStartAngle},_validateOptions:function(t){var e=t.originValue,n=t.wholeRange={},i=t.period;Object(c.d)(e)&&(e=this.validateUnit(e)),i>0&&t.argumentType===Vs&&(e=e||0,n.endValue=e+i,this._viewport=Z([e,n.endValue])),Object(c.d)(e)&&(n.startValue=e)},getMargins:function(){var t=this._options.tick,e=ru(t.visible?t.length/2+t.shift:0,0),n=this.getRadius(),i=this._center,o=i.x,r=i.y,s=this._majorTicks.map(function(t){return t.label&&t.label.getBBox()}).filter(function(t){return t}),l=Object(a.a)({},this._canvas,{left:o-n,top:r-n,right:this._canvas.width-(o+n),bottom:this._canvas.height-(r+n)}),c=Qc(s,l);return Object.keys(c).forEach(function(t){return c[t]=c[t]<e?e:c[t]}),c},_updateLabelsPosition:function(){Jc(this._majorTicks),this._adjustLabelsCoord(0,0,!0),this._checkBoundedLabelsOverlapping(this._majorTicks,this._majorTicks.map(function(t){return t.labelBBox}))},_setVisualRange:l.noop,applyVisualRangeSetter:l.noop,_getStick:function(){return this._options.firstPointOnStartAngle||this._options.type!==Hs},_getTranslatedCoord:function(t,e){return this._translator.translate(t,e)-90},_getCanvasStartEnd:function(){return{start:-90,end:270}},_getStripGraphicAttributes:function(t,e){var n=this.getCenter(),i=this.getAngles()[0],o=this.getRadius();return{x:n.x,y:n.y,innerRadius:0,outerRadius:o,startAngle:-e-i,endAngle:-t-i}},_createStrip:function(t){return this._renderer.arc(t.x,t.y,t.innerRadius,t.outerRadius,t.startAngle,t.endAngle)},_getStripLabelCoords:function(t,e){var n=this._getStripGraphicAttributes(t,e),i=n.startAngle+(n.endAngle-n.startAngle)/2,o=R(i),r=this.getRadius()/2,a=this.getCenter();return{x:iu(a.x+r*o.cos),y:iu(a.y-r*o.sin),align:Gs}},_getConstantLineGraphicAttributes:function(t){var e=this.getCenter(),n=this.getRadius();return{points:[e.x,e.y,e.x+n,e.y]}},_createConstantLine:function(t,e){return this._createPathElement(this._getConstantLineGraphicAttributes(t).points,e)},_rotateConstantLine:function(t,e){var n=this.getCenter(),i=n.x,o=n.y;t.rotate(e+this.getAngles()[0],i,o)},_getConstantLineLabelsCoords:function(t){var e=R(-t-this.getAngles()[0]),n=this.getRadius()/2,i=this.getCenter();return{x:iu(i.x+n*e.cos),y:iu(i.y-n*e.sin)}},_checkAlignmentConstantLineLabels:l.noop,_adjustDivisionFactor:function(t){return 180*t/(this.getRadius()*tu)},_getScreenDelta:function(){var t=this.getAngles();return eu(t[0]-t[1])},_getTickMarkPoints:function(t,e,n){var i=n.shift,o=void 0===i?0:i,r=this.getCenter(),a=this.getRadius()+e*{inside:-1,center:-.5,outside:0}[this._options.tickOrientation||"center"];return[r.x+a+o,r.y,r.x+a+e+o,r.y]},_getLabelAdjustedCoord:function(t,e,n,i){var o=t.labelCoords,r=o.y,a=o.angle,s=R(a),l=s.cos,c=s.sin,u=t.labelBBox,h=u.width/2,d=u.height/2,p=this._options.label.indentFromAxis||0,f=o.x+p*l,m=r+(r-u.y-d)+p*c,g=0,v=0;switch(su(a)){case 1:g=h,v=d*c;break;case 2:g=h*l,v=d;break;case 3:g=-h,v=d*c;break;case 4:g=h*l,v=-d}if(i){var y=this._canvas,_=f-o.x+g,b=m-o.y+v;u.x+_<y.originalLeft&&(g-=u.x+_-y.originalLeft),u.x+u.width+_>y.width-y.originalRight&&(g-=u.x+u.width+_-(y.width-y.originalRight)),u.y+b<y.originalTop&&(v-=u.y+b-y.originalTop),u.y+u.height+b>y.height-y.originalBottom&&(v-=u.y+u.height+b-(y.height-y.originalBottom))}return{x:f+g,y:m+v}},_getGridLineDrawer:function(){var t=this;return function(e,n){var i=t.getCenter();return t._createPathElement(t._getGridPoints().points,n).rotate(e.coords.angle,i.x,i.y)}},_getGridPoints:function(){var t=this.getRadius(),e=this.getCenter();return{points:[e.x,e.y,e.x+t,e.y]}},_getTranslatedValue:function(t,e){var n=this.getAngles()[0],i=this._translator.translate(t,-e),o=G(this.getCenter(),n,i,this.getRadius());return{x:o.x,y:o.y,angle:this.getTranslatedAngle(i)}},_getAdjustedStripLabelCoords:function(t){var e=t.labelBBox;return{translateY:t.label.attr("y")-e.y-e.height/2}},coordsIn:function(t,e){return function(t,e,n){var i=B(t.x,t.y,e,n),o=C(n-t.y,e-t.x);return{phi:w(A(180*o/p)),r:w(i)}}(this.getCenter(),t,e).r>this.getRadius()},_rotateTick:function(t,e){var n=this.getCenter();t.rotate(e.angle,n.x,n.y)},_validateOverlappingMode:function(t){return Zs(t)},_validateDisplayMode:function(){return"standard"},_getStep:function(t){var e=this.getRadius()+(this._options.label.indentFromAxis||0),n=t.reduce(function(t,e){var n=t;return t.width<e.width&&(n.width=e.width),t.height<e.height&&(n.height=e.height),n},{width:0,height:0}),i=eu(2*nu(n.height/(2*e-n.width))*180/tu),o=eu(2*nu(n.width/(2*e-n.height))*180/tu);return Ys(this._majorTicks,"angle",ru(i,o))},_checkBoundedLabelsOverlapping:function(t,e,n){var i=this._options.label;if("hide"===(n=n||this._validateOverlappingMode(i.overlappingBehavior))){var o=t.reduce(function(t,e,n){return e.label?n:t},null);o&&Xs(e[0],e[o],i.minSpacing,Gs)&&("first"===i.hideFirstOrLast?t[0].removeLabel():t[o].removeLabel())}},shift:function(t){this._axisGroup.attr({translateX:t.right,translateY:t.bottom}),this._axisElementsGroup.attr({translateX:t.right,translateY:t.bottom})},getTranslatedAngle:function(t){return t+this.getAngles()[0]-90}},cu=lu,uu=Object(a.a)({},lu,{_createAxisElement:function(){return this._renderer.path([],"area")},_updateAxisElementPosition:function(){this._axisElement.attr({points:z(this.getSpiderTicks(),function(t){return{x:t.coords.x,y:t.coords.y}})})},_getStick:function(){return!0},_getSpiderCategoryOption:function(){return!0},getSpiderTicks:function(){var t=this.getFullTicks();return this._spiderTicks=t.map(_c(this,this.renderer,{},{},this._getSkippedCategory(t),!0)),this._spiderTicks.forEach(function(t){t.initCoords()}),this._spiderTicks},_getStripGraphicAttributes:function(t,e){for(var n,i,o,r,a=this.getCenter(),s=this.getSpiderTicks(),l=[],c=0,u=s.length;c<u;)(r=s[c].coords).angle>=t&&r.angle<=e&&(n||(n=(s[c-1]||s[s.length-1]).coords,l.push((r.x+n.x)/2,(r.y+n.y)/2)),l.push(r.x,r.y),o=(s[c+1]||s[0]).coords,i={x:(r.x+o.x)/2,y:(r.y+o.y)/2}),c++;return l.push(i.x,i.y),l.push(a.x,a.y),{points:l}},_createStrip:function(t){var e=t.points;return this._renderer.path(e,"area")},_getTranslatedCoord:function(t,e){return this._translator.translate(t,e)-90},_setTickOffset:function(){this._tickOffset=!1}}),hu={_resetMargins:function(){this._reinitTranslator(this._getViewportRange())},_getStick:au._getStick,_getSpiderCategoryOption:l.noop,_getTranslatorOptions:function(){return{isHorizontal:!0,stick:this._getStick()}},getRadius:lu.getRadius,getCenter:lu.getCenter,getAngles:lu.getAngles,_updateRadius:lu._updateRadius,_updateCenter:lu._updateCenter,_processCanvas:function(t){return this._updateRadius(t),this._updateCenter(t),{left:0,right:0,startPadding:t.startPadding,endPadding:t.endPadding,width:this.getRadius()}},_createAxisElement:au._createAxisElement,_updateAxisElementPosition:function(){var t=this.getCenter();this._axisElement.attr({points:[t.x,t.y,t.x+this.getRadius(),t.y]}).rotate(this.getAngles()[0]-90,t.x,t.y)},_getScreenDelta:function(){return this.getRadius()},_getTickMarkPoints:function(t,e){return[t.x-e/2,t.y,t.x+e/2,t.y]},_getLabelAdjustedCoord:function(t){var e=t.labelCoords,n=e.y,i=R(e.angle),o=this._options.label.indentFromAxis||0,r=t.labelBBox;return{x:e.x-eu(o*i.sin)+eu(r.width/2*i.cos)-r.width/2,y:n+(n-r.y)-eu(r.height/2*i.sin)+eu(o*i.cos)}},_getGridLineDrawer:function(){var t=this;return function(e,n){var i=t._getGridPoints(e.coords);return t._renderer.circle(i.cx,i.cy,i.r).attr(n).sharp()}},_getGridPoints:function(t){var e=this.getCenter(),n=B(e.x,e.y,t.x,t.y);return n>this.getRadius()?{cx:null,cy:null,r:null}:{cx:e.x,cy:e.y,r:n}},_getTranslatedValue:function(t,e){var n=this.getAngles()[0],i=G(this.getCenter(),n,0,this._translator.translate(t,e));return{x:i.x,y:i.y,angle:n-90}},_getTranslatedCoord:function(t,e){return this._translator.translate(t,e)},_getCanvasStartEnd:function(){var t=this.getTranslator().getBusinessRange().invert,e=[0,this.getRadius()];return t&&e.reverse(),{start:e[0],end:e[1]}},_getStripGraphicAttributes:function(t,e){var n=this.getCenter();return{x:n.x,y:n.y,innerRadius:t,outerRadius:e}},_createStrip:function(t){return this._renderer.arc(t.x,t.y,t.innerRadius,t.outerRadius,0,360)},_getAdjustedStripLabelCoords:lu._getAdjustedStripLabelCoords,_getStripLabelCoords:function(t,e){var n=t+(e-t)/2,i=this.getCenter(),o=iu(i.y-n);return{x:i.x,y:o,align:Gs}},_getConstantLineGraphicAttributes:function(t){var e=this.getCenter();return{cx:e.x,cy:e.y,r:t}},_createConstantLine:function(t,e){var n=this._getConstantLineGraphicAttributes(t);return this._renderer.circle(n.cx,n.cy,n.r).attr(e).sharp()},_getConstantLineLabelsCoords:function(t){var e=this.getCenter(),n=iu(e.y-t);return{x:e.x,y:n}},_checkAlignmentConstantLineLabels:l.noop,_rotateTick:function(t,e,n){!n&&t.rotate(e.angle+90,e.x,e.y)},_validateOverlappingMode:lu._validateOverlappingMode,_validateDisplayMode:lu._validateDisplayMode,_getStep:function(t){var e=su(this.getAngles()[0]),n=this._options.label.minSpacing,i=2===e||4===e?function(t){return t.width+n}:function(t){return t.height},o=t.reduce(function(t,e){return ru(t,i(e))},0);return Ys(this._majorTicks,2===e||4===e?"x":"y",o)}},du=Object(a.a)({},hu,{_createPathElement:function(t,e){return this._renderer.path(t,"area").attr(e).sharp()},setSpiderTicks:function(t){this._spiderTicks=t},_getGridLineDrawer:function(){var t=this;return function(e,n){return t._createPathElement(t._getGridPoints(e.coords).points,n)}},_getGridPoints:function(t){var e=this.getCenter(),n=B(e.x,e.y,t.x,t.y);return this._getGridPointsByRadius(n)},_getGridPointsByRadius:function(t){var e=this.getCenter();return t>this.getRadius()?{points:null}:{points:z(this._spiderTicks,function(n){var i=R(n.coords.angle);return{x:iu(e.x+t*i.cos),y:iu(e.y+t*i.sin)}})}},_getStripGraphicAttributes:function(t,e){var n=this._getGridPointsByRadius(e).points;return{points:[this._getGridPointsByRadius(t).points,n.reverse()]}},_createStrip:uu._createStrip,_getConstantLineGraphicAttributes:function(t){return this._getGridPointsByRadius(t)},_createConstantLine:function(t,e){return this._createPathElement(this._getConstantLineGraphicAttributes(t).points,e)}});var pu=qs,fu=Math,mu=fu.abs,gu=fu.max,vu=fu.min,yu=Array.isArray,_u=5,bu=Ks,Cu=$s,Ou=Us,xu=Ws,Su=Gs,wu="keep",Pu="shift",ku="reset",Eu=50,Tu=15,Iu=864e5,ju=6048e5;function Mu(t,e,n,i,o,r){var a,s=r.allowNegatives,l=r.linearThreshold;return Zl({axisType:t.type,dataType:t.dataType,logBase:t.logarithmBase,allowNegatives:s,linearThreshold:l,axisDivisionFactor:o(t.axisDivisionFactor||Eu),minorAxisDivisionFactor:o(t.minorAxisDivisionFactor||Tu),numberMultipliers:t.numberMultipliers,calculateMinors:t.minorTick.visible||t.minorGrid.visible||t.calculateMinors,allowDecimals:t.allowDecimals,endOnTick:t.endOnTick,incidentOccurred:e,firstDayOfWeek:null===(a=t.workWeek)||void 0===a?void 0:a[0],skipTickGeneration:n,skipCalculationLimits:t.skipCalculationLimits,generateExtraTick:t.generateExtraTick,minTickInterval:t.minTickInterval,rangeIsEmpty:i})}function Du(t,e,n){var i=t.getOptions();return _c(t,e,i.tick,i.grid,n,!1)}function Au(t,e){var n=t.getOptions();return _c(t,e,n.minorTick,n.minorGrid)}function Ru(t,e,n){var i=t.getOptions();return _c(t,e,Object(a.a)({},i.tick,{visible:i.showCustomBoundaryTicks}),i.grid,void 0,!1,n?-1:1)}function Bu(t,e,n,i){(t||[]).forEach(function(t){return t[e](n,i)})}function Lu(t){Bu(t,"initCoords")}function Nu(t,e){Bu(t,"drawMark",e)}function zu(t,e){Bu(t,"drawGrid",e)}function Fu(t,e,n){Bu(t,"updateTickPosition",e,n)}function Hu(t,e){Bu(t,"updateGridPosition",e)}function Vu(t){for(var e=t.length-1;e>=0&&Uu(t,e);e--);for(e=0;e<t.length&&Uu(t,e);e++)e--}function Uu(t,e){return(null===t[e].coords.x||null===t[e].coords.y)&&(t.splice(e,1),!0)}function Wu(t,e){return 180*fu.asin((t[0].height+e.minSpacing)/(t[1].x-t[0].x))/fu.PI<45?-45:-90}function Ku(t,e,n){t.forEach(function(t,i){t.getContentContainer()&&(i%e!==0?t.removeLabel():n&&n(t,i))})}function $u(t,e){return void 0===t?e:null===t?void 0:t}var Gu=function(t){this._renderer=t.renderer,this._incidentOccurred=t.incidentOccurred,this._eventTrigger=t.eventTrigger,this._stripsGroup=t.stripsGroup,this._stripLabelAxesGroup=t.stripLabelAxesGroup,this._labelsAxesGroup=t.labelsAxesGroup,this._constantLinesGroup=t.constantLinesGroup,this._scaleBreaksGroup=t.scaleBreaksGroup,this._axesContainerGroup=t.axesContainerGroup,this._gridContainerGroup=t.gridGroup,this._axisCssPrefix=t.widgetClass+"-"+(t.axisClass?t.axisClass+"-":""),this._setType(t.axisType,t.drawingType),this._createAxisGroups(),this._translator=this._createTranslator(),this.isArgumentAxis=t.isArgumentAxis,this._viewport={},this._prevDataInfo={},this._firstDrawing=!0,this._initRange={},this._getTemplate=t.getTemplate};Gu.prototype={constructor:Gu,_drawAxis:function(){var t=this._options;t.visible&&(this._axisElement=this._createAxisElement(),this._updateAxisElementPosition(),this._axisElement.attr({"stroke-width":t.width,stroke:t.color,"stroke-opacity":t.opacity}).sharp(this._getSharpParam(!0),this.getAxisSharpDirection()).append(this._axisLineGroup))},_createPathElement:function(t,e,n){return this.sharp(this._renderer.path(t,"line").attr(e),n)},sharp:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t.sharp(this._getSharpParam(),e)},customPositionIsAvailable:function(){return!1},getOrthogonalAxis:l.noop,getCustomPosition:l.noop,getCustomBoundaryPosition:l.noop,resolveOverlappingForCustomPositioning:l.noop,hasNonBoundaryPosition:function(){return!1},customPositionIsBoundaryOrthogonalAxis:function(){return!1},getResolvedBoundaryPosition:function(){return this.getOptions().position},getAxisSharpDirection:function(){var t=this.getResolvedBoundaryPosition();return this.hasNonBoundaryPosition()||t!==Cu&&t!==xu?1:-1},getSharpDirectionByCoords:function(t){var e=this._getCanvasStartEnd(),n=Math.max(e.start,e.end);return this.getRadius?0:n!==t[this._isHorizontal?"x":"y"]?1:-1},_getGridLineDrawer:function(){var t=this;return function(e,n){var i=t._getGridPoints(e.coords);return i.points?t._createPathElement(i.points,n,t.getSharpDirectionByCoords(e.coords)):null}},_getGridPoints:function(t){var e=this._isHorizontal,n=e?"x":"y",i=this._orthogonalPositions,o=i.start,r=i.end,a=this.borderOptions,s=e?Ou:bu,l=e?xu:Cu,c=this.getCanvas(),u={left:c.left,right:c.width-c.right,top:c.top,bottom:c.height-c.bottom},h=4+(a.visible&&a[s]?u[s]:void 0),d=(a.visible&&a[l]?u[l]:void 0)-4;return this.areCoordsOutsideAxis(t)||void 0===t[n]||t[n]<h||t[n]>d?{points:null}:{points:e?null!==t[n]?[t[n],o,t[n],r]:null:null!==t[n]?[o,t[n],r,t[n]]:null}},_getConstantLinePos:function(t,e,n){var i=this._getTranslatedCoord(t);if(!(!Object(c.d)(i)||i<vu(e,n)||i>gu(e,n)))return i},_getConstantLineGraphicAttributes:function(t){var e=this._orthogonalPositions.start,n=this._orthogonalPositions.end;return{points:this._isHorizontal?[t,e,t,n]:[e,t,n,t]}},_createConstantLine:function(t,e){return this._createPathElement(this._getConstantLineGraphicAttributes(t).points,e,(n=t,i=this._getCanvasStartEnd(),Math.max(i.start,i.end)!==n?1:-1));var n,i},_drawConstantLineLabelText:function(t,e,n,i,o){var r=i.font,s=i.cssClass;return this._renderer.text(t,e,n).css($(Object(a.a)({},this._options.label.font,r))).attr({align:"center",class:s}).append(o)},_drawConstantLineLabels:function(t,e,n,i){var o,r=e.text,a=this._options.label;this._checkAlignmentConstantLineLabels(e),r=null!==(o=r)&&void 0!==o?o:this.formatLabel(t,a);var s=this._getConstantLineLabelsCoords(n,e);return this._drawConstantLineLabelText(r,s.x,s.y,e,i)},_getStripPos:function(t,e,n,i,o){var r,a,s,l,u,h=!(!o.minVisible&&!o.maxVisible),d=(o.categories||[]).reduce(function(t,e){return t.push(e.valueOf()),t},[]);if(!h&&Object(c.d)(t)&&Object(c.d)(e)){var p,f,m=this.parser(t),g=this.parser(e);if(l=d.indexOf(null!==(p=null===m||void 0===m?void 0:m.valueOf())&&void 0!==p?p:void 0),u=d.indexOf(null!==(f=null===g||void 0===g?void 0:g.valueOf())&&void 0!==f?f:void 0),-1===l||-1===u)return{from:0,to:0,outOfCanvas:!0};l>u&&(s=e,e=t,t=s)}Object(c.d)(t)?(t=this.validateUnit(t,"E2105","strip"),r=this._getTranslatedCoord(t,-1)):r=n,Object(c.d)(e)?(e=this.validateUnit(e,"E2105","strip"),a=this._getTranslatedCoord(e,1)):a=i;var v=r<a?{from:r,to:a}:{from:a,to:r},y=this.getVisibleArea();return(v.from<=y[0]&&v.to<=y[0]||v.from>=y[1]&&v.to>=y[1])&&(v.outOfCanvas=!0),v},_getStripGraphicAttributes:function(t,e){var n,i,o,r,a=this._orthogonalPositions,s=a.start,l=a.end;return this._isHorizontal?(n=t,i=vu(s,l),o=e-t,r=mu(s-l)):(n=vu(s,l),i=t,o=mu(s-l),r=mu(t-e)),{x:n,y:i,width:o,height:r}},_createStrip:function(t){return this._renderer.rect(t.x,t.y,t.width,t.height)},_adjustStripLabels:function(){var t=this;this._strips.forEach(function(e){e.label&&e.label.attr(t._getAdjustedStripLabelCoords(e))})},_adjustLabelsCoord:function(t,e,n){var i=this,o=function(o){return i._getLabelAdjustedCoord(o,t+(o.labelOffset||0),e,n)};this._majorTicks.forEach(function(t){t.label?(t.updateMultilineTextAlignment(),t.label.attr(o(t))):t.templateContainer&&t.templateContainer.attr(o(t))})},_adjustLabels:function(t){var e=this.getOptions(),n=e.position===e.label.position,i=this._majorTicks.reduce(function(t,e){if(!e.getContentContainer())return t;var n=e.labelRotationAngle?U(e.labelBBox,[e.labelCoords.x,e.labelCoords.y],-e.labelRotationAngle):e.labelBBox;return{width:gu(t.width||0,n.width),height:gu(t.height||0,n.height),offset:gu(t.offset||0,e.labelOffset||0)}},{}),o=n?this._isHorizontal?i.height:i.width:0;return this._adjustLabelsCoord(t,i.width),t+o+(o&&this._options.label.indentFromAxis)+(n?i.offset:0)},_getLabelAdjustedCoord:function(t,e,n){e=e||0;var i,o,r=this._options,a=t.templateContainer&&t.templateContainer.getBBox()||U(t.labelBBox,[t.labelCoords.x,t.labelCoords.y],-t.labelRotationAngle||0),s=t.labelAlignment||r.label.alignment,l="discrete"===this._options.type,c=t.labelRotationAngle%90===0,u=r.label.indentFromAxis,h=r.label.position,d=this._axisPosition,p=t.labelCoords,f=p.x;return this._isHorizontal?(o=h===Cu?d+u-a.y+e:d-u-(a.y+a.height)-e,i=s===xu?l&&c?t.coords.x-(a.x+a.width):f-a.x-a.width:s===Ou?l&&c?f-a.x-(t.coords.x-f):f-a.x:f-a.x-a.width/2):(o=p.y-a.y-a.height/2,h===Ou?(i=s===Ou?d-u-n-a.x:s===Su?d-u-n/2-a.x-a.width/2:d-u-a.x-a.width,i-=e):(i=s===xu?d+u+n-a.x-a.width:s===Su?d+u+n/2-a.x-a.width/2:d+u-a.x,i+=e)),{translateX:i,translateY:o}},_createAxisConstantLineGroups:function(){var t=this._renderer,e=this._axisCssPrefix+"constant-lines",n=t.g().attr({class:e}),i=t.g().attr({class:e}),o=t.g().attr({class:e});return{inside:n,outside1:i,left:i,top:i,outside2:o,right:o,bottom:o,remove:function(){this.inside.remove(),this.outside1.remove(),this.outside2.remove()},clear:function(){this.inside.clear(),this.outside1.clear(),this.outside2.clear()}}},_createAxisGroups:function(){var t=this._renderer,e=this._axisCssPrefix;this._axisGroup=t.g().attr({class:e+"axis"}).enableLinks(),this._axisStripGroup=t.g().attr({class:e+"strips"}),this._axisGridGroup=t.g().attr({class:e+"grid"}),this._axisElementsGroup=t.g().attr({class:e+"elements"}),this._axisLineGroup=t.g().attr({class:e+"line"}).linkOn(this._axisGroup,"axisLine").linkAppend(),this._axisTitleGroup=t.g().attr({class:e+"title"}).append(this._axisGroup),this._axisConstantLineGroups={above:this._createAxisConstantLineGroups(),under:this._createAxisConstantLineGroups()},this._axisStripLabelGroup=t.g().attr({class:e+"axis-labels"})},_clearAxisGroups:function(){this._axisGroup.remove(),this._axisStripGroup.remove(),this._axisStripLabelGroup.remove(),this._axisConstantLineGroups.above.remove(),this._axisConstantLineGroups.under.remove(),this._axisGridGroup.remove(),this._axisTitleGroup.clear(),this._options.label.template&&this.isRendered()||(this._axisElementsGroup.remove(),this._axisElementsGroup.clear()),this._axisLineGroup&&this._axisLineGroup.clear(),this._axisStripGroup&&this._axisStripGroup.clear(),this._axisGridGroup&&this._axisGridGroup.clear(),this._axisConstantLineGroups.above.clear(),this._axisConstantLineGroups.under.clear(),this._axisStripLabelGroup&&this._axisStripLabelGroup.clear()},_getLabelFormatObject:function(t,e,n,i,o,r){n=n||this._getViewportRange();var a={value:t,valueText:Ns(t,{labelOptions:e,ticks:r||pu(this._majorTicks),tickInterval:null!==o&&void 0!==o?o:this._tickInterval,dataType:this._options.dataType,logarithmBase:this._options.logarithmBase,type:this._options.type,showTransition:!this._options.marker.visible,point:i})||"",min:n.minVisible,max:n.maxVisible};return i&&(a.point=i),a},formatLabel:function(t,e,n,i,o,r){var a=this._getLabelFormatObject(t,e,n,i,o,r);return Object(c.h)(e.customizeText)?e.customizeText.call(a,a):a.valueText},formatHint:function(t,e,n){var i=this._getLabelFormatObject(t,e,n);return Object(c.h)(e.customizeHint)?e.customizeHint.call(i,i):void 0},formatRange:function(t,e,n,i){return zs({startValue:t,endValue:e,tickInterval:n,argumentFormat:i,axisOptions:this.getOptions()})},_setTickOffset:function(){var t=this._options.discreteAxisDivisionMode;this._tickOffset=+("crossLabels"!==t||!t)},aggregatedPointBetweenTicks:function(){return"crossTicks"===this._options.aggregatedPointsPosition},resetApplyingAnimation:function(t){this._resetApplyingAnimation=!0,t&&(this._firstDrawing=!0)},isFirstDrawing:function(){return this._firstDrawing},getMargins:function(){var t=this,e=t._options,n=e.position,i=e.offset,o=e.customPosition,r=e.placeholderSize,a=e.grid,s=e.tick,l=e.crosshairMargin,u=Object(c.d)(o),h=t.getResolvedBoundaryPosition(),d=t.getCanvas(),p=d.left,f=d.top,m=d.width-d.right,g=d.height-d.bottom,v=gu(a.visible&&a.width||0,s.visible&&s.width||0),y=t._axisConstantLineGroups.above,_=t._axisConstantLineGroups.under,b=[t._axisElementsGroup,y.outside1,y.outside2,_.outside1,_.outside2,t._axisLineGroup].map(function(t){return t&&t.getBBox()}).concat(function(e){var n=e&&e.getBBox();return!n||n.isEmpty?n:(t._isHorizontal?(n.x=p,n.width=m-p):(n.y=f,n.height=g-f),n)}(t._axisTitleGroup)),C=Qc(b,d);if(C[n]+=l,t.hasNonBoundaryPosition()&&u&&(C[h]=0),r&&(C[n]=r),v&&(t._isHorizontal&&d.right<v&&C.right<v&&(C.right=v),!t._isHorizontal&&d.bottom<v&&C.bottom<v&&(C.bottom=v)),!u&&Object(c.d)(i)){var O=t.customPositionIsBoundary()&&(i>0&&(h===Ou||h===bu)||i<0&&(h===xu||h===Cu));C[h]-=O?i:0}return C},validateUnit:function(t,e,n){return void 0===(t=this.parser(t))&&e&&this._incidentOccurred(e,[n]),t},_setType:function(t,e){var n;switch(t){case"xyAxes":n=qc;break;case"polarAxes":n=i}Object(a.a)(this,n[e])},_getSharpParam:function(){return!0},_disposeBreaksGroup:l.noop,dispose:function(){[this._axisElementsGroup,this._axisStripGroup,this._axisGroup].forEach(function(t){t.dispose()}),this._strips=this._title=null,this._axisStripGroup=this._axisConstantLineGroups=this._axisStripLabelGroup=this._axisBreaksGroup=null,this._axisLineGroup=this._axisElementsGroup=this._axisGridGroup=null,this._axisGroup=this._axisTitleGroup=null,this._axesContainerGroup=this._stripsGroup=this._constantLinesGroup=this._labelsAxesGroup=null,this._renderer=this._options=this._textOptions=this._textFontStyles=null,this._translator=null,this._majorTicks=this._minorTicks=null,this._disposeBreaksGroup(),this._templatesRendered&&this._templatesRendered.reject()},getOptions:function(){return this._options},setPane:function(t){this.pane=t,this._options.pane=t},setTypes:function(t,e,n){this._options.type=t||this._options.type,this._options[n]=e||this._options[n],this._updateTranslator()},resetTypes:function(t){this._options.type=this._initTypes.type,this._options[t]=this._initTypes[t]},getTranslator:function(){return this._translator},updateOptions:function(t){var e=this,n=t.label;!function(t){var e,n,i=t.label,o=t.position,r=t.isHorizontal?Cu:Ou,a=t.isHorizontal?bu:xu,s=i.position;if(o!==r&&o!==a&&(o=r),s&&"outside"!==s){if("inside"===s){var l;s=(l={},Object(lt.a)(l,bu,Cu),Object(lt.a)(l,Cu,bu),Object(lt.a)(l,Ou,xu),Object(lt.a)(l,xu,Ou),l)[o]}}else s=o;s!==r&&s!==a&&(s=o),i.alignment===Su||i.userAlignment||(i.alignment=(n={},Object(lt.a)(n,bu,Su),Object(lt.a)(n,Cu,Su),Object(lt.a)(n,Ou,xu),Object(lt.a)(n,xu,Ou),n)[s]),t.position=o,i.position=s,t.hoverMode=t.hoverMode?t.hoverMode.toLowerCase():"none",i.minSpacing=null!==(e=i.minSpacing)&&void 0!==e?e:_u,t.type&&(t.type=t.type.toLowerCase()),t.argumentType&&(t.argumentType=t.argumentType.toLowerCase()),t.valueType&&(t.valueType=t.valueType.toLowerCase())}(t),e._options=t,t.tick=t.tick||{},t.minorTick=t.minorTick||{},t.grid=t.grid||{},t.minorGrid=t.minorGrid||{},t.title=t.title||{},t.marker=t.marker||{},e._initTypes={type:t.type,argumentType:t.argumentType,valueType:t.valueType},e._setTickOffset(),e._isHorizontal=t.isHorizontal,e.pane=t.pane,e.name=t.name,e.priority=t.priority,e._hasLabelFormat=""!==n.format&&Object(c.d)(n.format),e._textOptions={opacity:n.opacity,align:"center",class:n.cssClass},e._textFontStyles=$(n.font),t.type===Fs&&t.logarithmBaseError&&(e._incidentOccurred("E2104"),delete t.logarithmBaseError),e._updateTranslator(),e._createConstantLines(),e._strips=(t.strips||[]).map(function(t){return function(t,e){var n,i,o=e.label||{};return{options:e,label:null,rect:null,_getCoord:function(){var n=t._getCanvasStartEnd(),i=t._translator.getBusinessRange();return t._getStripPos(e.startValue,e.endValue,n.start,n.end,i)},_drawLabel:function(e){return t._renderer.text(o.text,e.x,e.y).css($(Object(a.a)({},t.getOptions().label.font,o.font))).attr({align:"center",class:o.cssClass}).append(t._axisStripLabelGroup)},draw:function(){if(!t._translator.getBusinessRange().isEmpty()&&(Object(c.d)(e.startValue)||Object(c.d)(e.endValue))&&Object(c.d)(e.color)){var n=this._getCoord();if(this.labelCoords=o.text?t._getStripLabelCoords(n.from,n.to,o):null,n.outOfCanvas||!Object(c.d)(n.to)||!Object(c.d)(n.from))return;this.rect=t._createStrip(t._getStripGraphicAttributes(n.from,n.to)).attr({fill:e.color}).append(t._axisStripGroup),this.label=o.text?this._drawLabel(this.labelCoords):null}},getContentContainer:function(){return this.label},removeLabel:function(){},updatePosition:function(i){var o=this._getCoord();i&&n?(this.label&&this.label.attr(t._getStripLabelCoords(n.from,n.to,e.label)),this.rect&&this.rect.attr(t._getStripGraphicAttributes(n.from,n.to)),this.label&&this.label.animate(t._getStripLabelCoords(o.from,o.to,e.label)),this.rect&&this.rect.animate(t._getStripGraphicAttributes(o.from,o.to))):(this.label&&this.label.attr(t._getStripLabelCoords(o.from,o.to,e.label)),this.rect&&this.rect.attr(t._getStripGraphicAttributes(o.from,o.to)))},saveCoords:function(){i=n,n=this._getCoord()},resetCoordinates:function(){n=i}}}(e,t)}),e._majorTicks=e._minorTicks=null,e._firstDrawing=!0},calculateInterval:function(t,e){var n=this._options;if(!n||n.type!==Fs)return mu(t-e);var i=new nc(this.getTranslator().getBusinessRange()),o=i.allowNegatives,r=i.linearThreshold;return mu(X(t,n.logarithmBase,o,r)-X(e,n.logarithmBase,o,r))},getCanvasRange:function(){var t=this._translator;return{startValue:t.from(t.translate("canvas_position_start")),endValue:t.from(t.translate("canvas_position_end"))}},_processCanvas:function(t){return t},updateCanvas:function(t,e){if(e)this._orthogonalPositions=null;else{var n=this._orthogonalPositions={start:this._isHorizontal?t.top:t.left,end:this._isHorizontal?t.height-t.bottom:t.width-t.right};n.center=n.start+(n.end-n.start)/2}this._canvas=t,this._translator.updateCanvas(this._processCanvas(t)),this._initAxisPositions()},getCanvas:function(){return this._canvas},getAxisShift:function(){return this._axisShift||0},hideTitle:function(){this._options.title.text&&(this._incidentOccurred("W2105",[this._isHorizontal?"horizontal":"vertical"]),this._axisTitleGroup.clear())},getTitle:function(){return this._title},hideOuterElements:function(){!this._options.label.visible&&!this._outsideConstantLines.length||this._translator.getBusinessRange().isEmpty()||(this._incidentOccurred("W2106",[this._isHorizontal?"horizontal":"vertical"]),this._axisElementsGroup.clear(),Bu(this._outsideConstantLines,"removeLabel"))},_resolveLogarithmicOptionsForRange:function(t){var e=this._options;e.type===Fs&&(t.addRange({allowNegatives:void 0!==e.allowNegatives?e.allowNegatives:t.min<=0}),isNaN(e.linearThreshold)||(t.linearThreshold=e.linearThreshold))},adjustViewport:function(t){var e=this._options,n=e.type===Hs,i=this._seriesData&&this._seriesData.categories||[],o=this.adjustRange(Z(e.wholeRange)),r=this.getViewport()||{},a=new nc(t);this._addConstantLinesToRange(a);var s=Object(c.d)(r.startValue),l=Object(c.d)(r.endValue);n||(s=s&&(!Object(c.d)(o.endValue)||r.startValue<o.endValue),l=l&&(!Object(c.d)(o.startValue)||r.endValue>o.startValue));var u,h,d=s?r.startValue:a.minVisible,p=l?r.endValue:a.maxVisible;n?(i=q(i,o.startValue,o.endValue).categories,a.categories=i):(a.min=null!==(u=o.startValue)&&void 0!==u?u:a.min,a.max=null!==(h=o.endValue)&&void 0!==h?h:a.max);var f=function(t,e,n,i){var o=Object(c.d)(e.startValue),r=Object(c.d)(e.endValue),a="discrete"!==t.axisType;i=i||n;var s=Y(t,!1),l=o?e.startValue:i.min,u=r?e.endValue:i.max,h=e.length,d=i.categories;if(a&&!Object(c.d)(l)&&!Object(c.d)(u))return{startValue:l,endValue:u};if(Object(c.d)(h))if(a)"datetime"!==t.dataType||Object(c.i)(h)||(h=P(h)),r&&!o||!r&&!o?(Object(c.d)(n.max)&&(u=u>n.max?n.max:u),l=s(u,h,-1)):o&&!r&&(Object(c.d)(n.min)&&(l=l<n.min?n.min:l),u=s(l,h));else if(h=parseInt(h),!isNaN(h)&&isFinite(h))if(h--,r||o){if(o&&!r)u=q(d,l,void 0).categories[h];else if(!o&&r){var p=q(d,void 0,u);l=p.categories[p.categories.length-1-h]}}else u=d[d.length-1],l=d[d.length-1-h];return a&&(Object(c.d)(n.max)&&u>n.max&&(u=n.max),Object(c.d)(n.min)&&l<n.min&&(l=n.min)),{startValue:l,endValue:u}}({axisType:e.type,dataType:e.dataType,base:e.logarithmBase},{startValue:s?r.startValue:void 0,endValue:l?r.endValue:void 0,length:r.length},{categories:i,min:o.startValue,max:o.endValue},{categories:i,min:d,max:p});return a.minVisible=f.startValue,a.maxVisible=f.endValue,!Object(c.d)(a.min)&&(a.min=a.minVisible),!Object(c.d)(a.max)&&(a.max=a.maxVisible),a.addRange({}),this._resolveLogarithmicOptionsForRange(a),a},adjustRange:function(t){t=t||{};var e=this._options.type===Hs,n=this._options.type===Fs,i=!1===this._options.allowNegatives;if(n&&(t.startValue=i&&t.startValue<=0?null:t.startValue,t.endValue=i&&t.endValue<=0?null:t.endValue),!e&&Object(c.d)(t.startValue)&&Object(c.d)(t.endValue)&&t.startValue>t.endValue){var o=t.endValue;t.endValue=t.startValue,t.startValue=o}return t},_getVisualRangeUpdateMode:function(t,e,n){var i=this._options.visualRangeUpdateMode,o=this._translator,r=this._seriesData,a=this._prevDataInfo;if(a.isEmpty&&!a.containsConstantLine)return wu;if(!this.isArgumentAxis){var s=this.getViewport();if(!Object(c.d)(s.startValue)&&!Object(c.d)(s.endValue)&&!Object(c.d)(s.length))return ku}if(this.isArgumentAxis){if(-1===[Pu,wu,ku].indexOf(i)){if(r.axisType===Hs){var l=r.categories,u=e.categories,h=this.visualRange();i=l&&u&&l.length&&-1!==u.map(function(t){return t.valueOf()}).join(",").indexOf(l.map(function(t){return t.valueOf()}).join(","))&&(h.startValue.valueOf()!==l[0].valueOf()||h.endValue.valueOf()!==l[l.length-1].valueOf())?wu:ku}else{var d=o.translate(r.min),p=o.translate(t.startValue),f=o.translate(r.max),m=o.translate(t.endValue);i=d===p&&f===m?ku:d!==p&&f===m?Pu:wu}i===wu&&a.isEmpty&&a.containsConstantLine&&(i=ku)}}else-1===[wu,ku].indexOf(i)&&(i=n===wu?wu:ku);return i},_handleBusinessRangeChanged:function(t,e,n){var i=this.visualRange();if(!e&&!this._translator.getBusinessRange().isEmpty()){var o=this._lastVisualRangeUpdateMode=this._getVisualRangeUpdateMode(i,n,t);o===wu?this._setVisualRange([i.startValue,i.endValue]):o===ku?this._setVisualRange([null,null]):o===Pu&&this._setVisualRange({length:this.getVisualRangeLength()})}},getVisualRangeLength:function(t){var e,n=t||this._translator.getBusinessRange(),i=this._options.type;if(i===Fs)e=Object(u.a)(this.calculateInterval(n.maxVisible,n.minVisible));else if(i===Hs){e=q(n.categories,n.minVisible,n.maxVisible).categories.length}else e=n.maxVisible-n.minVisible;return e},getVisualRangeCenter:function(t,e){var n,i=this.getTranslator(),o=i.getBusinessRange(),r=e?Object(a.a)(!0,{},o,t||{}):t||o,s=this._options,l=s.type,h=s.logarithmBase;if(Object(c.d)(r.minVisible)&&Object(c.d)(r.maxVisible)){if(l===Fs){var d=r.allowNegatives,p=r.linearThreshold,f=r.minVisible,m=r.maxVisible;n=Q(Object(u.a)(X(m,h,d,p)+X(f,h,d,p))/2,h,d,p)}else if(l===Hs){var g=q(r.categories,r.minVisible,r.maxVisible),v=Math.ceil(g.categories.length/2)-1;n=o.categories.indexOf(g.categories[v])}else n=i.toValue((r.maxVisible.valueOf()+r.minVisible.valueOf())/2);return n}},setBusinessRange:function(t,e,n,i){var o,r,a=this._options,s=a.type===Hs;this._handleBusinessRangeChanged(n,e,t),this._seriesData=new nc(t);var l=this._seriesData.isEmpty(),u=new nc(this._seriesData);if(this._addConstantLinesToRange(u),this._prevDataInfo={isEmpty:l,containsConstantLine:u.containsConstantLine},this._seriesData.addRange({categories:a.categories,dataType:a.dataType,axisType:a.type,base:a.logarithmBase,invert:a.inverted}),this._resolveLogarithmicOptionsForRange(this._seriesData),!s){if(!Object(c.d)(this._seriesData.min)&&!Object(c.d)(this._seriesData.max)){var h=this.getViewport();h&&this._seriesData.addRange({min:h.startValue,max:h.endValue})}var d=a.synchronizedValue;Object(c.d)(d)&&this._seriesData.addRange({min:d,max:d})}this._seriesData.minVisible=null!==(o=this._seriesData.minVisible)&&void 0!==o?o:this._seriesData.min,this._seriesData.maxVisible=null!==(r=this._seriesData.maxVisible)&&void 0!==r?r:this._seriesData.max,!this.isArgumentAxis&&a.showZero&&this._seriesData.correctValueZeroLevel(),this._seriesData.sortCategories(this.getCategoriesSorter(i)),this._seriesData.userBreaks=this._seriesData.isEmpty()?[]:this._getScaleBreaks(a,this._seriesData,this._series,this.isArgumentAxis),this._translator.updateBusinessRange(this._getViewportRange())},_addConstantLinesToRange:function(t){this._outsideConstantLines.concat(this._insideConstantLines||[]).forEach(function(e){if(e.options.extendAxis){var n=e.getParsedValue();t.addRange({containsConstantLine:!0,minVisible:n,maxVisible:n,min:Object(c.d)(t.min)?t.min:n,max:Object(c.d)(t.max)?t.max:n})}})},setGroupSeries:function(t){this._series=t},getLabelsPosition:function(){var t=this._options,e=t.position,n=t.label.indentFromAxis+(this._axisShift||0)+this._constantLabelOffset,i=this._axisPosition;return e===bu||e===Ou?i-n:i+n},getFormattedValue:function(t,e,n){var i=this._options.label;return Object(c.d)(t)?this.formatLabel(t,Object(a.a)(!0,{},i,e),void 0,n):null},_getBoundaryTicks:function(t,e){var n=t.length,i=this._options,o=i.customBoundTicks,r=e.minVisible,a=e.maxVisible,s=i.showCustomBoundaryTicks?this._boundaryTicksVisibility:{},l=[];return i.type===Hs?this._tickOffset&&0!==t.length&&(l=[t[0],t[t.length-1]]):o?(s.min&&Object(c.d)(o[0])&&l.push(o[0]),s.max&&Object(c.d)(o[1])&&l.push(o[1])):(s.min&&(0===n||t[0]>r)&&l.push(r),s.max&&(0===n||t[n-1]<a)&&l.push(a)),l},setPercentLabelFormat:function(){this._hasLabelFormat||(this._options.label.format="percent")},resetAutoLabelFormat:function(){this._hasLabelFormat||delete this._options.label.format},getMultipleAxesSpacing:function(){return this._options.multipleAxesSpacing||0},getTicksValues:function(){return{majorTicksValues:pu(this._majorTicks),minorTicksValues:pu(this._minorTicks)}},estimateTickInterval:function(t){return this.updateCanvas(t),this._tickInterval!==this._getTicks(this._getViewportRange(),l.noop,!0).tickInterval},setTicks:function(t){var e=t.majorTicks||[];this._majorTicks=e.map(Du(this,this._renderer,this._getSkippedCategory(e))),this._minorTicks=(t.minorTicks||[]).map(Au(this,this._renderer)),this._isSynchronized=!0},_adjustDivisionFactor:function(t){return t},_getTicks:function(t,e,n){var i=this._options,o=i.customTicks,r=i.customMinorTicks;return Mu(i,e||this._incidentOccurred,n,this._translator.getBusinessRange().isEmpty(),this._adjustDivisionFactor.bind(this),t)({min:t.minVisible,max:t.maxVisible,categories:t.categories,isSpacedMargin:t.isSpacedMargin},this._getScreenDelta(),i.tickInterval,"ignore"===i.label.overlappingBehavior||i.forceUserTickInterval,{majors:o,minors:r},i.minorTickInterval,i.minorTickCount,this._initialBreaks)},_createTicksAndLabelFormat:function(t,e){var n=this._options,i=this._getTicks(t,e,!1);return t.isEmpty()||n.type!==Hs||"datetime"!==n.dataType||this._hasLabelFormat||!i.ticks.length||(n.label.format=mo.getDateFormatByTicks(i.ticks)),i},getAggregationInfo:function(t,e){var n,i,o,r=this._options,s=this._marginOptions,u=new nc(this.getTranslator().getBusinessRange()).addRange(e),d=this.getViewport(),p=null!==(n=null===d||void 0===d?void 0:d.startValue)&&void 0!==n?n:u.minVisible,f=null!==(i=null===d||void 0===d?void 0:d.endValue)&&void 0!==i?i:u.maxVisible,m=[];if(r.type===Hs&&r.aggregateByCategory)return{aggregateByCategory:!0};var g=r.aggregationInterval,v=r.aggregationGroupWidth;!v&&s&&(s.checkInterval&&(v=r.axisDivisionFactor),s.sizePointNormalState&&(v=Math.min(s.sizePointNormalState,r.axisDivisionFactor)));var y=!r.aggregationGroupWidth&&!g&&e.interval,_=function(t,e,n,i,o){var r=Object(a.a)({},t,{endOnTick:!0,axisDivisionFactor:e,skipCalculationLimits:!0,generateExtraTick:!0,minTickInterval:o});return function(t,e,o,a,s){return Mu(r,l.noop,e,n.isEmpty(),function(t){return t},n)({min:o,max:a,categories:n.categories,isSpacedMargin:n.isSpacedMargin},i,t,Object(c.d)(t),void 0,void 0,void 0,s)}}(r,v,u,this._getScreenDelta(),y),b=_(g,!0,p,f,null===(o=this._seriesData)||void 0===o?void 0:o.breaks).tickInterval;if(r.type!==Hs){var C=t?u.min:p,O=t?u.max:f;if(Object(c.d)(C)&&Object(c.d)(O)){var x=Y({base:r.logarithmBase,axisType:r.type,dataType:r.dataType},!1),S=C,w=O;if(!t){var P=Math.max(this.calculateInterval(O,C),"datetime"===r.dataType?h.a.dateToMilliseconds(b):b);S=x(C,P,-1),w=x(O,P)}S=S<u.min?u.min:S,w=w>u.max?u.max:w;var k=this._getScaleBreaks(r,{minVisible:S,maxVisible:w},this._series,this.isArgumentAxis);m=_(b,!1,S,w,this._filterBreaks(k,{minVisible:S,maxVisible:w},r.breakStyle)).ticks}}return this._aggregationInterval=b,{interval:b,ticks:m}},getTickInterval:function(){return this._tickInterval},getAggregationInterval:function(){return this._aggregationInterval},createTicks:function(t){var e=this,n=e._renderer,i=e._options;if(t){e._isSynchronized=!1,e.updateCanvas(t);var o=e._getViewportRange();e._initialBreaks=o.breaks=this._seriesData.breaks=e._filterBreaks(this._seriesData.userBreaks,o,i.breakStyle),e._estimatedTickInterval=e._getTicks(e.adjustViewport(this._seriesData),l.noop,!0).tickInterval;var r=this._calculateValueMargins();o.addRange({minVisible:r.minValue,maxVisible:r.maxValue,isSpacedMargin:r.isSpacedMargin});var a=e._createTicksAndLabelFormat(o),s=e._getBoundaryTicks(a.ticks,e._getViewportRange());i.showCustomBoundaryTicks&&s.length?(e._boundaryTicks=[s[0]].map(Ru(e,n,!0)),s.length>1&&(e._boundaryTicks=e._boundaryTicks.concat([s[1]].map(Ru(e,n,!1))))):e._boundaryTicks=[];var u=(a.minorTicks||[]).filter(function(t){return!s.some(function(e){return J(e)===J(t)})});e._tickInterval=a.tickInterval,e._minorTickInterval=a.minorTickInterval;var h=e._majorTicks||[],d=h.reduce(function(t,e){return t[e.value.valueOf()]=e,t},{}),p=Object(c.q)(a.ticks[0])===Object(c.q)(h[0]&&h[0].value),f=e._getSkippedCategory(a.ticks),m=a.ticks.map(function(t){var i=d[t.valueOf()];return i&&p?(delete d[t.valueOf()],i.setSkippedCategory(f),i):Du(e,n,f)(t)});e._majorTicks=m;var g=e._minorTicks||[];e._minorTicks=u.map(function(t,i){var o=g[i];return o?(o.updateValue(t),o):Au(e,n)(t)}),e._ticksToRemove=Object.keys(d).map(function(t){return d[t]}).concat(g.slice(e._minorTicks.length,g.length)),e._ticksToRemove.forEach(function(t){var e;return null===(e=t.label)||void 0===e?void 0:e.removeTitle()}),a.breaks&&(e._seriesData.breaks=a.breaks),e._reinitTranslator(e._getViewportRange())}},_reinitTranslator:function(t){var e=this._translator;this._isSynchronized||e.updateBusinessRange(t)},_getViewportRange:function(){return this.adjustViewport(this._seriesData)},setMarginOptions:function(t){this._marginOptions=t},getMarginOptions:function(){var t;return null!==(t=this._marginOptions)&&void 0!==t?t:{}},_calculateRangeInterval:function(t){var e="datetime"===this._options.dataType,n=[],i=function(t){Object(c.d)(t)&&n.push(e?h.a.dateToMilliseconds(t):t)};return i(this._tickInterval),i(this._estimatedTickInterval),Object(c.d)(t)&&n.push(t),i(this._aggregationInterval),this._calculateWorkWeekInterval(vu.apply(this,n))},_calculateWorkWeekInterval:function(t){var e=this._options;if("datetime"===e.dataType&&e.workdaysOnly&&t){var n=e.workWeek.length*Iu,i=ju-n;if(n!==t&&i<t)t-=i*Math.ceil(t/ju);else i>=t&&t>Iu&&(t=Iu)}return t},_getConvertIntervalCoefficient:function(t,e){var n=this._translator.ratioOfCanvasRange();return n/(n*e/(t+e))},_calculateValueMargins:function(t){this._resetMargins();var e,n,i,o=this.getMarginOptions(),r=(o.size||0)/2,a=this._options,s=this._getViewportRange(),l=this.getViewport(),u=this._getScreenDelta(),h=-1!==(a.type||"").indexOf(Hs),d=a.valueMarginsEnabled&&!h&&!this.customPositionIsBoundaryOrthogonalAxis(),p=this._translator,f=a.minValueMargin,m=a.maxValueMargin,g=0,v=0,y=0;if(s.stubData||!u)return{startPadding:0,endPadding:0};if(this.isArgumentAxis&&o.checkInterval){e=this._calculateRangeInterval(s.interval);var _=p.getInterval(e);isFinite(_)?y=Math.ceil(_/(2*this._getConvertIntervalCoefficient(_,u))):e=0}var b=.8*u/2;d&&(Object(c.d)(f)?n=isFinite(f)?f:0:!this.isArgumentAxis&&o.checkInterval&&J(s.minVisible)>0&&J(s.minVisible)===J(s.min)?g=5:(g=Math.max(r,y),g=Math.min(b,g)),Object(c.d)(m)?i=isFinite(m)?m:0:!this.isArgumentAxis&&o.checkInterval&&J(s.maxVisible)<0&&J(s.maxVisible)===J(s.max)?v=5:(v=Math.max(r,y),v=Math.min(b,v))),o.percentStick&&!this.isArgumentAxis&&(1===mu(s.max)&&(v=0),1===mu(s.min)&&(g=0));var C,O,x,S,w,P,k=this._getCanvasStartEnd(),E=(u-g-v)/(1+(n||0)+(i||0))||u;if(void 0===n&&void 0===i||(void 0!==n&&(g=E*n),void 0!==i&&(v=E*i)),a.type!==Hs&&t&&t.length>1&&!a.skipViewportExtending&&!l.action&&!1!==a.endOnTick){var T=t.length,I=p.translate(t[0].value),j=p.translate(t[T-1].value),M=I>j?-1:1,D=gu(M*(k.start-I),0),A=gu(M*(j-k.end),0);if(D>g||A>v){var R=A+D,B=this._getConvertIntervalCoefficient(R,u);D>=g&&(C=t[0].value),A>=v&&(O=t[T-1].value),g=gu(D,g)/B,v=gu(A,v)/B}}(n=void 0===n?g/E:n,i=void 0===i?v/E:i,h)||(this._translator.isInverted()?(C=null!==(x=C)&&void 0!==x?x:p.from(k.start+u*n,-1),O=null!==(S=O)&&void 0!==S?S:p.from(k.end-u*i,1)):(C=null!==(w=C)&&void 0!==w?w:p.from(k.start-u*n,-1),O=null!==(P=O)&&void 0!==P?P:p.from(k.end+u*i,1)));var L=this.getCorrectedValuesToZero(C,O),N=L.correctedMin,z=L.correctedMax,F=L.start,H=L.end;return g=null!==F&&void 0!==F?F:g,v=null!==H&&void 0!==H?H:v,{startPadding:p.isInverted()?v:g,endPadding:p.isInverted()?g:v,minValue:null!==N&&void 0!==N?N:C,maxValue:null!==z&&void 0!==z?z:O,interval:e,isSpacedMargin:g===v&&0!==g}},getCorrectedValuesToZero:function(t,e){var n,i,o,r,a=this,s=a._translator,l=a._getCanvasStartEnd(),c=a._getViewportRange(),u=a._getScreenDelta(),h=a._options,d=function(t,e){var o=mu(l.start-t),r=mu(l.end-e),s=a._getConvertIntervalCoefficient(o+r,u);n=o/s,i=r/s};return a.isArgumentAxis||"datetime"===h.dataType||(t*c.min<=0&&t*c.minVisible<=0&&(d(s.translate(0),s.translate(e)),o=0),e*c.max<=0&&e*c.maxVisible<=0&&(d(s.translate(t),s.translate(0)),r=0)),{start:isFinite(n)?n:null,end:isFinite(i)?i:null,correctedMin:o,correctedMax:r}},applyMargins:function(){if(!this._isSynchronized){var t=this._calculateValueMargins(this._majorTicks),e=Object(a.a)({},this._canvas,{startPadding:t.startPadding,endPadding:t.endPadding});if(this._translator.updateCanvas(this._processCanvas(e)),isFinite(t.interval)){var n=this._translator.getBusinessRange();n.addRange({interval:t.interval}),this._translator.updateBusinessRange(n)}}},_resetMargins:function(){this._reinitTranslator(this._getViewportRange()),this._canvas&&this._translator.updateCanvas(this._processCanvas(this._canvas))},_createConstantLines:function(){var t=this,e=(this._options.constantLines||[]).map(function(e){return function(t,e){var n,i,o,r=e.label||{},a=r.position||"inside",s=!1;return t._checkAlignmentConstantLineLabels(r),{options:e,labelOptions:r,labelPosition:a,label:null,line:null,getParsedValue:function(){return s?n:(n=t.validateUnit(e.value,"E2105","constantLine"),s=!0,n)},draw:function(){if(!Object(c.d)(e.value)||t._translator.getBusinessRange().isEmpty())return this;var n=t._getCanvasStartEnd(),i=this.getParsedValue();this.coord=t._getConstantLinePos(i,n.start,n.end);var o=e.displayBehindSeries?t._axisConstantLineGroups.under:t._axisConstantLineGroups.above,s=o[a];if(s||(s=o[t._isHorizontal?r.verticalAlignment:r.horizontalAlignment]),!Object(c.d)(this.coord))return this;var l=t._createConstantLine(this.coord,{stroke:e.color,"stroke-width":e.width,dashStyle:e.dashStyle});return this.line=l.append(o.inside),this.label=r.visible?t._drawConstantLineLabels(i,r,this.coord,s):null,this.updatePosition(),this},getContentContainer:function(){return this.label},removeLabel:function(){this.label&&this.label.remove()},updatePosition:function(e){var n=t._getCanvasStartEnd(),i=t._getConstantLinePos(this.getParsedValue(),n.start,n.end);Object(c.d)(i)&&(this.coord=i,e&&o?(this.label&&this.label.attr(t._getConstantLineLabelsCoords(o,this.labelOptions)),this.line&&this.line.attr(t._getConstantLineGraphicAttributes(o)),this.label&&this.label.animate(t._getConstantLineLabelsCoords(this.coord,this.labelOptions)),this.line&&this.line.animate(t._getConstantLineGraphicAttributes(this.coord))):(this.label&&this.label.attr(t._getConstantLineLabelsCoords(this.coord,this.labelOptions)),this.line&&this.line.attr(t._getConstantLineGraphicAttributes(this.coord)),t._rotateConstantLine(this.line,this.coord)))},saveCoords:function(){i=o,o=this.coord},resetCoordinates:function(){o=i}}}(t,e)});this._outsideConstantLines=e.filter(function(t){return"outside"===t.labelPosition}),this._insideConstantLines=e.filter(function(t){return"inside"===t.labelPosition})},draw:function(t,e){var n=this,i=this._options;n.borderOptions=e||{visible:!1},n._resetMargins(),n.createTicks(t),n.applyMargins(),n._clearAxisGroups(),Lu(n._majorTicks),Lu(n._minorTicks),Lu(n._boundaryTicks),n._axisGroup.append(n._axesContainerGroup),n._drawAxis(),n._drawTitle(),Nu(n._majorTicks,i.tick),Nu(n._minorTicks,i.minorTick),Nu(n._boundaryTicks,i.tick);var o=n._getGridLineDrawer();zu(n._majorTicks,o),zu(n._minorTicks,o),Bu(n._majorTicks,"drawLabel",n._getViewportRange(),n._getTemplate(i.label.template)),n._templatesRendered&&n._templatesRendered.reject(),n._templatesRendered=new Ii.a,n._majorTicks.forEach(function(t){t.labelRotationAngle=0,t.labelAlignment=void 0,t.labelOffset=0}),Bu(n._outsideConstantLines.concat(n._insideConstantLines),"draw"),Bu(n._strips,"draw"),n._dateMarkers=n._drawDateMarkers()||[],n._stripLabelAxesGroup&&n._axisStripLabelGroup.append(n._stripLabelAxesGroup),n._gridContainerGroup&&n._axisGridGroup.append(n._gridContainerGroup),n._stripsGroup&&n._axisStripGroup.append(n._stripsGroup),n._labelsAxesGroup&&n._axisElementsGroup.append(n._labelsAxesGroup),n._constantLinesGroup&&(n._axisConstantLineGroups.above.inside.append(n._constantLinesGroup.above),n._axisConstantLineGroups.above.outside1.append(n._constantLinesGroup.above),n._axisConstantLineGroups.above.outside2.append(n._constantLinesGroup.above),n._axisConstantLineGroups.under.inside.append(n._constantLinesGroup.under),n._axisConstantLineGroups.under.outside1.append(n._constantLinesGroup.under),n._axisConstantLineGroups.under.outside2.append(n._constantLinesGroup.under)),n._measureTitle(),Jc(n._majorTicks),!i.label.template&&n._applyWordWrap(),Jc(n._outsideConstantLines),Jc(n._insideConstantLines),Jc(n._strips),Jc(n._dateMarkers),n._adjustConstantLineLabels(n._insideConstantLines),n._adjustStripLabels();var r=n._constantLabelOffset=n._adjustConstantLineLabels(n._outsideConstantLines);n._translator.getBusinessRange().isEmpty()||(n._setLabelsPlacement(),r=n._adjustLabels(r)),Ii.c.apply(this,n._majorTicks.map(function(t){return t.getTemplateDeferred()})).done(function(){n._templatesRendered.resolve()}),r=n._adjustDateMarkers(r),n._adjustTitle(r)},getTemplatesDef:function(){return this._templatesRendered},setRenderedState:function(t){this._drawn=t},isRendered:function(){return this._drawn},_applyWordWrap:function(){var t,e,n,i=this._options,o=this._tickInterval;Object(c.d)(o)&&(t=this.getTranslator().getInterval("datetime"===i.dataType?h.a.dateToMilliseconds(o):o));var r=this._validateDisplayMode(i.label.displayMode),a=this._validateOverlappingMode(i.label.overlappingBehavior,r),s=i.label.wordWrap||"none",l=i.label.textOverflow||"none";if(("none"!==s||"none"!==l)&&"rotate"!==r&&"rotate"!==a&&"auto"!==a){var u=Object(c.d)(i.placeholderSize)?i.placeholderSize-i.label.indentFromAxis:void 0;this._isHorizontal?(e=t,n=u):(e=u,n=t);var d=!1,p=!1;e&&this._majorTicks.some(function(t){return t.labelBBox.width>e})&&(d=!0),n&&this._majorTicks.some(function(t){return t.labelBBox.height>n})&&(p=!0),(d||p)&&(this._majorTicks.forEach(function(t){t.label&&t.label.setMaxSize(e,n,i.label)}),Jc(this._majorTicks))}},_measureTitle:l.noop,animate:function(){Bu(this._majorTicks,"animateLabels")},updateSize:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.updateCanvas(t),n&&(this._checkTitleOverflow(),this._measureTitle(),this._updateTitleCoords()),this._reinitTranslator(this._getViewportRange()),this.applyMargins();var i=!this._firstDrawing&&e,o=this._options;Lu(this._majorTicks),Lu(this._minorTicks),Lu(this._boundaryTicks),this._resetApplyingAnimation&&!this._firstDrawing&&this._resetStartCoordinates(),Vu(this._majorTicks),Vu(this._minorTicks),Vu(this._boundaryTicks),this._axisElement&&this._updateAxisElementPosition(),Fu(this._majorTicks,o.tick,i),Fu(this._minorTicks,o.minorTick,i),Fu(this._boundaryTicks,o.tick),Bu(this._majorTicks,"updateLabelPosition",i),this._outsideConstantLines.concat(this._insideConstantLines||[]).forEach(function(t){return t.updatePosition(i)}),Bu(this._strips,"updatePosition",i),Hu(this._majorTicks,i),Hu(this._minorTicks,i),i&&Bu(this._ticksToRemove||[],"fadeOutElements"),this.prepareAnimation(),this._ticksToRemove=null,this._translator.getBusinessRange().isEmpty()||(this._firstDrawing=!1),this._resetApplyingAnimation=!1,this._updateLabelsPosition()},_updateLabelsPosition:l.noop,prepareAnimation:function(){var t="saveCoords";Bu(this._majorTicks,t),Bu(this._minorTicks,t),Bu(this._insideConstantLines,t),Bu(this._outsideConstantLines,t),Bu(this._strips,t)},_resetStartCoordinates:function(){var t="resetCoordinates";Bu(this._majorTicks,t),Bu(this._minorTicks,t),Bu(this._insideConstantLines,t),Bu(this._outsideConstantLines,t),Bu(this._strips,t)},applyClipRects:function(t,e){this._axisGroup.attr({"clip-path":e}),this._axisStripGroup.attr({"clip-path":t}),this._axisElementsGroup.attr({"clip-path":e})},_validateVisualRange:function(t){var e,n=Z(t);return void 0!==n.startValue&&(n.startValue=this.validateUnit(n.startValue)),void 0!==n.endValue&&(n.endValue=this.validateUnit(n.endValue)),e=n,!yu(t)?e:[e.startValue,e.endValue]},_validateOptions:function(t){t.wholeRange=this._validateVisualRange(t.wholeRange),t.visualRange=t._customVisualRange=this._validateVisualRange(t._customVisualRange),this._setVisualRange(t._customVisualRange)},validate:function(){var t=this._options,e=this.isArgumentAxis?t.argumentType:t.valueType,n=e?function(t){return Js[(e=t,"numeric"===e||"datetime"===e||"string"===e?e:"")]||l.noop;var e}(e):function(t){return t};this.parser=n,t.dataType=e,this._validateOptions(t)},resetVisualRange:function(t){this._seriesData.minVisible=this._seriesData.min,this._seriesData.maxVisible=this._seriesData.max,this.handleZooming([null,null],{start:!!t,end:!!t})},_setVisualRange:function(t,e){var n=this.adjustRange(Z(t));e?(Object(c.d)(n.startValue)&&(this._viewport.startValue=n.startValue),Object(c.d)(n.endValue)&&(this._viewport.endValue=n.endValue)):this._viewport=n},_applyZooming:function(t,e){this._resetVisualRangeOption(),this._setVisualRange(t,e);var n=this.getViewport();this._seriesData.userBreaks=this._getScaleBreaks(this._options,{minVisible:n.startValue,maxVisible:n.endValue},this._series,this.isArgumentAxis),this._translator.updateBusinessRange(this._getViewportRange())},getZoomStartEventArg:function(t,e){return{axis:this,range:this.visualRange(),cancel:!1,event:t,actionType:e}},_getZoomEndEventArg:function(t,e,n,i,o){var r=this.visualRange();return{axis:this,previousRange:t,range:r,cancel:!1,event:e,actionType:n,zoomFactor:i,shift:o,rangeStart:r.startValue,rangeEnd:r.endValue}},getZoomBounds:function(){var t=Z(this._options.wholeRange),e=this.getTranslator().getBusinessRange(),n={startValue:$u(this._initRange.startValue,e.min),endValue:$u(this._initRange.endValue,e.max)};return{startValue:$u(t.startValue,n.startValue),endValue:$u(t.endValue,n.endValue)}},setInitRange:function(){this._initRange={},0===Object.keys(this._options.wholeRange||{}).length&&(this._initRange=this.getZoomBounds())},_resetVisualRangeOption:function(){this._options._customVisualRange={}},getTemplatesGroups:function(){return this._majorTicks?this._majorTicks.map(function(t){return t.templateContainer}).filter(function(t){return Object(c.d)(t)}):[]},setCustomVisualRange:function(t){this._options._customVisualRange=t},visualRange:function(){var t,e=arguments;if(0===e.length){var n,i,o=this._getAdjustedBusinessRange(),r=o.minVisible,s=o.maxVisible;return this._options.type===Hs?{startValue:r=null!==(n=r)&&void 0!==n?n:o.categories[0],endValue:s=null!==(i=s)&&void 0!==i?i:o.categories[o.categories.length-1],categories:q(o.categories,r,s).categories}:{startValue:r,endValue:s}}t=yu(e[0])?e[0]:Object(c.k)(e[0])?Object(a.a)({},e[0]):[e[0],e[1]];var l=this.handleZooming(t,e[1]);l.isPrevented||this._visualRange(this,l)},handleZooming:function(t,e,n,i){e=e||{},Object(c.d)(t)&&((t=this._validateVisualRange(t)).action=i);var o=this.getZoomStartEventArg(n,i),r=o.range;!e.start&&this._eventTrigger("zoomStart",o);var a={isPrevented:o.cancel,skipEventRising:e.skipEventRising,range:t||o.range};return o.cancel||(Object(c.d)(t)&&this._applyZooming(t,e.allowPartialUpdate),Object(c.d)(this._storedZoomEndParams)||(this._storedZoomEndParams={startRange:r,type:this.getOptions().type}),this._storedZoomEndParams.event=n,this._storedZoomEndParams.action=i,this._storedZoomEndParams.prevent=!!e.end),a},handleZoomEnd:function(){if(Object(c.d)(this._storedZoomEndParams)&&!this._storedZoomEndParams.prevent){var t=this._storedZoomEndParams.startRange,e=this._storedZoomEndParams.event,n=this._storedZoomEndParams.action,i={minVisible:t.startValue,maxVisible:t.endValue,categories:t.categories},o=this.getOptions().type===this._storedZoomEndParams.type,r=o?Object(u.a)(this.getVisualRangeCenter()-this.getVisualRangeCenter(i,!1)):NaN,a=o?+(Math.round(this.getVisualRangeLength(i)/(this.getVisualRangeLength()||1)+"e+2")+"e-2"):NaN,s=this._getZoomEndEventArg(t,e,n,a,r);s.cancel=this.checkZoomingLowerLimitOvercome(1===a?"pan":"zoom",a).stopInteraction,this._eventTrigger("zoomEnd",s),s.cancel&&this._restorePreviousVisualRange(t),this._storedZoomEndParams=null}},_restorePreviousVisualRange:function(t){this._storedZoomEndParams=null,this._applyZooming(t),this._visualRange(this,t)},checkZoomingLowerLimitOvercome:function(t,e,n){var i,o=this._options,r=this._translator,a=o.minVisualRangeLength,s=n,l="zoom"===t&&e>=1,u=r.getBusinessRange();n&&(i={minVisible:(i=this.adjustRange(Z(n))).startValue,maxVisible:i.endValue,categories:u.categories});var h=this.getVisualRangeLength(u),d=this.getVisualRangeLength(i);if(Object(c.d)(a)||"discrete"===o.type)a=r.convert(a),i&&a<h&&a>=d?(s=Z(r.getRangeByMinZoomValue(a,i)),l=!1):l&=a>d;else{var p=this._translator.canvasLength,f={minVisible:u.min,maxVisible:u.max,categories:u.categories};l&=this.getVisualRangeLength(f)/p>=d}return{stopInteraction:!!l,correctedRange:s}},isExtremePosition:function(t){var e,n;"discrete"===this._options.type?(n=this._translator.getBusinessRange(),e=t?n.categories[n.categories.length-1]:n.categories[0]):(n=this.getZoomBounds(),e=t?n.endValue:n.startValue);var i=this.getTranslator(),o=i.translate(e),r=this.visualRange(),a=t?i.translate(r.endValue):i.translate(r.startValue);return mu(a-o)<5},getViewport:function(){return this._viewport},getFullTicks:function(){var t=this._majorTicks||[];return this._options.type===Hs?pu(t):pu(t.concat(this._minorTicks,this._boundaryTicks)).sort(function(t,e){return J(t)-J(e)})},measureLabels:function(t,e){var n,i,o=this,r=o._options,a=r.visible?r.width:0,s=e?r.label.indentFromAxis+.5*r.tick.length:0,c=o._getViewportRange();if(c.isEmpty()||!r.label.visible||!o._axisElementsGroup)return{height:a,width:a,x:0,y:0};o._majorTicks?n=pu(o._majorTicks):(o.updateCanvas(t),n=o._createTicksAndLabelFormat(c,l.noop),i=n.tickInterval,n=n.ticks);var u=n.reduce(function(t,e,a){var s=o.formatLabel(e,r.label,c,void 0,i,n);return t.length<s.length?s:t},o.formatLabel(n[0],r.label,c,void 0,i,n)),h=o._renderer.text(u,0,0).css(o._textFontStyles).attr(o._textOptions).append(o._renderer.root),d=h.getBBox();return h.remove(),{x:d.x,y:d.y,width:d.width+s,height:d.height+s}},_setLabelsPlacement:function(){if(this._options.label.visible){var t,e=this._options.label,n=this._validateDisplayMode(e.displayMode),i=this._validateOverlappingMode(e.overlappingBehavior,n),o="none"===i||"ignore"===i,r={rotationAngle:e.rotationAngle,staggeringSpacing:e.staggeringSpacing},a=this._majorTicks.map(function(t){return t.labelBBox}),s=this._getStep(a);switch(n){case"rotate":o&&(t=!0,s=1),this._applyLabelMode(n,s,a,e,t);break;case"stagger":o&&(s=2),this._applyLabelMode(n,gu(s,2),a,e);break;default:this._applyLabelOverlapping(a,i,s,r)}}},_applyLabelOverlapping:function(t,e,n,i){var o=this._options.label,r=this._majorTicks;"none"!==e&&"ignore"!==e&&(n>1&&t.some(function(t,e,n){return 0!==e&&Xs(t,n[e-1],o.minSpacing,o.alignment)})&&this._applyLabelMode(e,n,t,i),this._checkBoundedLabelsOverlapping(r,t,e),this._checkShiftedLabels(r,t,o.minSpacing,o.alignment))},_applyLabelMode:function(t,e,n,i,o){var r,a,s=this._majorTicks,l=this._options.label,c=i.rotationAngle;switch(t){case"rotate":l.userAlignment||(a=c<0?xu:Ou,c%90===0&&(a=Su)),Ku(s,e=o?e:this._getStep(n,c),function(t){var e=t.getContentContainer();e&&(e.rotate(c),t.labelRotationAngle=c,a&&(t.labelAlignment=a))});break;case"stagger":r=this._getMaxLabelHeight(n,i.staggeringSpacing),Ku(s,e-1,function(t,n){n/(e-1)%2!==0&&(t.labelOffset=r)});break;case"auto":case"_auto":2===e?this._applyLabelMode("stagger",e,n,i):this._applyLabelMode("rotate",e,n,{rotationAngle:Wu(n,l)});break;default:Ku(s,e)}},getMarkerTrackers:l.noop,_drawDateMarkers:l.noop,_adjustDateMarkers:l.noop,coordsIn:l.noop,areCoordsOutsideAxis:l.noop,_getSkippedCategory:l.noop,_initAxisPositions:l.noop,_drawTitle:l.noop,_updateTitleCoords:l.noop,_adjustConstantLineLabels:l.noop,_createTranslator:function(){return new vc({},{},{})},_updateTranslator:function(){var t=this._translator;t.update(t.getBusinessRange(),this._canvas||{},this._getTranslatorOptions())},_getTranslatorOptions:function(){var t,e,n,i=this._options;return{isHorizontal:this._isHorizontal,shiftZeroValue:!this.isArgumentAxis,interval:i.semiDiscreteInterval,firstDayOfWeek:null===(t=i.workWeek)||void 0===t?void 0:t[0],stick:this._getStick(),breaksSize:null!==(e=null===(n=i.breakStyle)||void 0===n?void 0:n.width)&&void 0!==e?e:0}},getVisibleArea:function(){var t=this._getCanvasStartEnd();return[t.start,t.end].sort(function(t,e){return t-e})},_getCanvasStartEnd:function(){var t=this._isHorizontal,e=this._canvas||{},n=this._translator.getBusinessRange().invert,i=t?[e.left,e.width-e.right]:[e.height-e.bottom,e.top];return n&&i.reverse(),{start:i[0],end:i[1]}},_getScreenDelta:function(){var t=this._getCanvasStartEnd(),e=this._seriesData&&this._seriesData.breaks||[],n=e.length;return mu(t.start-t.end)-(n?e[n-1].cumulativeWidth:0)},_getScaleBreaks:function(){return[]},_filterBreaks:function(){return[]},_adjustTitle:l.noop,_checkTitleOverflow:l.noop,getSpiderTicks:l.noop,setSpiderTicks:l.noop,_checkBoundedLabelsOverlapping:l.noop,_checkShiftedLabels:l.noop,drawScaleBreaks:l.noop,_visualRange:l.noop,_rotateConstantLine:l.noop,applyVisualRangeSetter:function(t){this._visualRange=t},getCategoriesSorter:function(t){var e;if(this.isArgumentAxis)e=t;else{var n=this._options.categoriesSortingMethod;e=null!==n&&void 0!==n?n:this._options.categories}return e},_getAdjustedBusinessRange:function(){return this.adjustViewport(this._translator.getBusinessRange())}};var qu=Array.isArray,Zu=isFinite,Yu=Number,Xu=Math.min,Qu=Math.max,Ju=a.a,th="value",eh="subvalues",nh=[1,2,5];function ih(t,e){return null===t?t:Zu(t)?Yu(t):e}function oh(t){return qu(t)?t:Object(c.i)(t)?[t]:null}var rh=bs.inherit({_initCore:function(){var t=this._renderer;this._setupValue(this.option(th)),this.__subvalues=oh(this.option(eh)),this._setupSubvalues(this.__subvalues),function(t){void 0===t.option(th)&&void 0===t.option(eh)&&void 0!==t.option("valueIndicators")&&((e=t).value=e.subvalues=l.noop,e._setupValue=e._setupSubvalues=e._updateValueIndicator=e._updateSubvalueIndicators=null,function(t){t._indicatorValues=[],sh(t,"_indicatorValues",t.option("valueIndicators")),t._valueIndicators=[];var e=t._applyMostlyTotalChange;t._applyMostlyTotalChange=function(){sh(this,"_indicatorValues",this.option("valueIndicators")),e.call(this)},t._updateActiveElements=lh,t._prepareValueIndicators=ch,t._disposeValueIndicators=uh,t._cleanValueIndicators=hh,t.indicatorValue=dh}(t));var e}(this),this.callBase.apply(this,arguments),this._rangeContainer=new this._factory.RangeContainer({renderer:t,container:t.root,translator:this._translator,themeManager:this._themeManager}),this._initScale(),this._subvalueIndicatorContainer=this._renderer.g().attr({class:"dxg-subvalue-indicators"}).linkOn(this._renderer.root,"valueIndicator").enableLinks()},_fontFields:["scale.label.font","valueIndicators.rangebar.text.font","valueIndicators.textcloud.text.font","indicator.text.font"],_initScale:function(){this._scaleGroup=this._renderer.g().attr({class:"dxg-scale"}).linkOn(this._renderer.root,"scale"),this._labelsAxesGroup=this._renderer.g().attr({class:"dxg-scale-elements"}).linkOn(this._renderer.root,"scale-elements"),this._scale=new Gu({incidentOccurred:this._incidentOccurred,renderer:this._renderer,axesContainerGroup:this._scaleGroup,labelsAxesGroup:this._labelsAxesGroup,axisType:this._scaleTypes.type,drawingType:this._scaleTypes.drawingType,widgetClass:"dxg",getTemplate:function(){}})},_disposeCore:function(){this.callBase.apply(this,arguments),this._scale.dispose(),this._scaleGroup.linkOff(),this._labelsAxesGroup.linkOff(),this._rangeContainer.dispose(),this._disposeValueIndicators(),this._subvalueIndicatorContainer.linkOff(),this._scale=this._scaleGroup=this._labelsAxesGroup=this._rangeContainer=null},_disposeValueIndicators:function(){this._valueIndicator&&this._valueIndicator.dispose(),this._subvalueIndicatorsSet&&this._subvalueIndicatorsSet.dispose(),this._valueIndicator=this._subvalueIndicatorsSet=null},_setupDomainCore:function(){var t=this.option("scale")||{},e=this.option("startValue"),n=this.option("endValue");e=Object(c.i)(e)?Yu(e):Object(c.i)(t.startValue)?Yu(t.startValue):0,n=Object(c.i)(n)?Yu(n):Object(c.i)(t.endValue)?Yu(t.endValue):100,this._baseValue=e<n?e:n,this._translator.setDomain(e,n)},_cleanContent:function(){this._rangeContainer.clean(),this._cleanValueIndicators()},_measureScale:function(t){var e=t.tick,n=e.visible&&e.length>0&&e.width>0,i=t.minorTick,o=i.visible&&i.length>0&&i.width>0,r=t.label,s=Number(r.indentFromTick);if(!n&&!o&&!r.visible)return{};var l=this._scale.measureLabels(Object(a.a)({},this._canvas)),c=this._getScaleLayoutValue(),u={min:c,max:c},h=this._getTicksCoefficients(t),d=h.inner,p=h.outer;return n&&(u.min=Xu(u.min,c-d*e.length),u.max=Qu(u.max,c+p*e.length)),o&&(u.min=Xu(u.min,c-d*i.length),u.max=Qu(u.max,c+p*i.length)),r.visible&&this._correctScaleIndents(u,s,l),u},_renderContent:function(){var t=this,e=t._prepareScaleSettings();t._rangeContainer.render(Ju(t._getOption("rangeContainer"),{vertical:t._area.vertical})),t._renderScale(e),t._subvalueIndicatorContainer.linkAppend();var n=z([t._rangeContainer].concat(t._prepareValueIndicators()),function(t){return t&&t.enabled?t:null});t._applyMainLayout(n,t._measureScale(e)),n.forEach(function(e){return e.resize(t._getElementLayout(e.getOffset()))}),t._shiftScale(t._getElementLayout(0),e),t._beginValueChanging(),t._updateActiveElements(),t._endValueChanging()},_prepareScaleSettings:function(){var t=this,e=t.option("scale"),n=Object(a.a)(!0,{},t._themeManager.theme("scale"),e);return n.label.indentFromAxis=0,n.isHorizontal=!t._area.vertical,n.forceUserTickInterval|=Object(c.d)(e)&&Object(c.d)(e.tickInterval)&&!Object(c.d)(e.scaleDivisionFactor),n.axisDivisionFactor=n.scaleDivisionFactor||t._gridSpacingFactor,n.minorAxisDivisionFactor=n.minorScaleDivisionFactor||5,n.numberMultipliers=nh,n.tickOrientation=t._getTicksOrientation(n),n.label.useRangeColors&&(n.label.customizeColor=function(){return t._rangeContainer.getColorForValue(this.value)}),n},_renderScale:function(t){var e=this._translator.getDomain(),n=e[0],i=e[1],o=this._translator.getCodomain(),r=!!(n>i^t.inverted),s=Xu(n,i),l=Qu(n,i);t.min=s,t.max=l,t.startAngle=90-o[0],t.endAngle=90-o[1],t.skipViewportExtending=!0,t.inverted=r,this._scale.updateOptions(t),this._scale.setBusinessRange({axisType:"continuous",dataType:"numeric",min:s,max:l,invert:r}),this._updateScaleTickIndent(t),this._scaleGroup.linkAppend(),this._labelsAxesGroup.linkAppend(),this._scale.draw(Object(a.a)({},this._canvas))},_updateIndicatorSettings:function(t){t.currentValue=t.baseValue=Zu(this._translator.translate(t.baseValue))?Yu(t.baseValue):this._baseValue,t.vertical=this._area.vertical,t.text&&!t.text.format&&(t.text.format=this._defaultFormatOptions)},_prepareIndicatorSettings:function(t,e){var n=this._themeManager.theme("valueIndicators"),i=F(t.type||this._themeManager.theme(e)),o=Ju(!0,{},n._default,n[i],t);return o.type=i,o.animation=this._animationSettings,o.containerBackgroundColor=this._containerBackgroundColor,this._updateIndicatorSettings(o),o},_cleanValueIndicators:function(){this._valueIndicator&&this._valueIndicator.clean(),this._subvalueIndicatorsSet&&this._subvalueIndicatorsSet.clean()},_prepareValueIndicators:function(){return this._prepareValueIndicator(),null!==this.__subvalues&&this._prepareSubvalueIndicators(),[this._valueIndicator,this._subvalueIndicatorsSet]},_updateActiveElements:function(){this._updateValueIndicator(),this._updateSubvalueIndicators()},_prepareValueIndicator:function(){var t=this._valueIndicator,e=this._prepareIndicatorSettings(this.option("valueIndicator")||{},"valueIndicatorType");t&&t.type!==e.type&&(t.dispose(),t=null),t||(t=this._valueIndicator=this._createIndicator(e.type,this._renderer.root,"dxg-value-indicator","value-indicator")),t.render(e)},_createSubvalueIndicatorsSet:function(){var t=this,e=t._subvalueIndicatorContainer;return new ph({createIndicator:function(n,i){return t._createIndicator(n,e,"dxg-subvalue-indicator","subvalue-indicator",i)},createPalette:function(e){return t._themeManager.createPalette(e)}})},_prepareSubvalueIndicators:function(){var t=this._subvalueIndicatorsSet,e=this._prepareIndicatorSettings(this.option("subvalueIndicator")||{},"subvalueIndicatorType");t||(t=this._subvalueIndicatorsSet=this._createSubvalueIndicatorsSet());var n=e.type!==t.type;t.type=e.type;var i=this._createIndicator(e.type,this._renderer.root);i&&(i.dispose(),t.render(e,n))},_setupValue:function(t){this.__value=ih(t,this.__value)},_setupSubvalues:function(t){var e,n,i,o=void 0===t?this.__subvalues:oh(t);if(null!==o){for(e=0,n=o.length,i=[];e<n;++e)i.push(ih(o[e],this.__subvalues[e]));this.__subvalues=i}},_updateValueIndicator:function(){this._valueIndicator&&this._valueIndicator.value(this.__value,this._noAnimation)},_updateSubvalueIndicators:function(){this._subvalueIndicatorsSet&&this._subvalueIndicatorsSet.values(this.__subvalues,this._noAnimation)},value:function(t){return void 0!==t?(this._changeValue(t),this):this.__value},subvalues:function(t){return void 0!==t?(this._changeSubvalues(t),this):null!==this.__subvalues?this.__subvalues.slice():void 0},_changeValue:function(t){this._setupValue(t),this._beginValueChanging(),this._updateValueIndicator(),this.__value!==this.option(th)&&this.option(th,this.__value),this._endValueChanging()},_changeSubvalues:function(t){var e,n;null!==this.__subvalues?(this._setupSubvalues(t),this._beginValueChanging(),this._updateSubvalueIndicators(),this._endValueChanging()):(this.__subvalues=oh(t),this._setContentSize(),this._renderContent()),e=this.__subvalues,n=this.option(eh),e&&n&&e.length===n.length&&function(t,e){var n,i,o,r=t.length;for(n=0;n<r;++n)if(i=t[n]!==t[n],o=e[n]!==e[n],(!i||!o)&&t[n]!==e[n])return!1;return!0}(e,n)||this.option(eh,this.__subvalues)},_optionChangesMap:{scale:"DOMAIN",rangeContainer:"MOSTLY_TOTAL",valueIndicator:"MOSTLY_TOTAL",subvalueIndicator:"MOSTLY_TOTAL",containerBackgroundColor:"MOSTLY_TOTAL",value:"VALUE",subvalues:"SUBVALUES",valueIndicators:"MOSTLY_TOTAL"},_customChangesOrder:["VALUE","SUBVALUES"],_change_VALUE:function(){this._changeValue(this.option(th))},_change_SUBVALUES:function(){this._changeSubvalues(this.option(eh))},_applyMainLayout:null,_getElementLayout:null,_createIndicator:function(t,e,n,i,o,r){var a=this._factory.createIndicator({renderer:this._renderer,translator:this._translator,owner:e,tracker:this._tracker,className:n},t,r);return a&&(a.type=t,a._trackerInfo={type:i,index:o}),a},_getApproximateScreenRange:null});function ah(t){return t?t.value:null}function sh(t,e,n){for(var i=t[e],o=qu(n)?z(n,ah):[],r=0,a=o.length,s=[];r<a;++r)s.push(ih(o[r],i[r]));t[e]=s}function lh(){var t=this;t._valueIndicators.forEach(function(e){e.value(t._indicatorValues[e.index],t._noAnimation)})}function ch(){var t,e=this,n=e._valueIndicators||[],i=e.option("valueIndicators"),o=[],r=0;for(t=qu(i)?i.length:0;r<t;++r)o.push(i[r]);for(t=n.length;r<t;++r)o.push(null);var a=[];return o.forEach(function(t,i){var o=n[i];if(t){var r=e._prepareIndicatorSettings(t,"valueIndicatorType");o&&o.type!==r.type&&(o.dispose(),o=null),o||(o=e._createIndicator(r.type,e._renderer.root,"dxg-value-indicator","value-indicator",i,!0)),o&&(o.index=i,o.render(r),a.push(o))}else o&&o.dispose()}),e._valueIndicators=a,e._valueIndicators}function uh(){this._valueIndicators.forEach(function(t){return t.dispose()}),this._valueIndicators=null}function hh(){this._valueIndicators.forEach(function(t){return t.clean()})}function dh(t,e){return function(t,e,n,i,o){return void 0!==o?(void 0!==n[i]&&(n[i]=ih(o,n[i]),e[i]&&e[i].value(n[i])),t):n[i]}(this,this._valueIndicators,this._indicatorValues,t,e)}function ph(t){this._parameters=t,this._indicators=[]}ph.prototype={constructor:ph,dispose:function(){return this._indicators.forEach(function(t){return t.dispose()}),this._parameters=this._options=this._indicators=this._colorPalette=this._palette=null,this},clean:function(){return this._sample&&this._sample.clean().dispose(),this._indicators.forEach(function(t){return t.clean()}),this._sample=this._options=this._palette=null,this},render:function(t,e){var n=this;return n._options=t,n._sample=n._parameters.createIndicator(n.type),n._sample.render(t),n.enabled=n._sample.enabled,n._palette=Object(c.d)(t.palette)?n._parameters.createPalette(t.palette):null,n.enabled&&(n._generatePalette(n._indicators.length),n._indicators=z(n._indicators,function(t,i){return e&&(t.dispose(),t=n._parameters.createIndicator(n.type,i)),t.render(n._getIndicatorOptions(i)),t})),n},getOffset:function(){return this._sample.getOffset()},resize:function(t){return this._layout=t,this._indicators.forEach(function(e){return e.resize(t)}),this},measure:function(t){return this._sample.measure(t)},_getIndicatorOptions:function(t){var e=this._options;return this._colorPalette&&(e=Ju({},e,{color:this._colorPalette[t]})),e},_generatePalette:function(t){var e=null;this._palette&&(this._palette.reset(),e=this._palette.generateColors(t,{repeat:!0})),this._colorPalette=e},_adjustIndicatorsCount:function(t){var e,n,i,o=this._indicators,r=o.length;if(r>t){for(e=t,n=r;e<n;++e)o[e].clean().dispose();this._indicators=o.slice(0,t),this._generatePalette(o.length)}else if(r<t)for(this._generatePalette(t),e=r,n=t;e<n;++e)(i=this._parameters.createIndicator(this.type,e)).render(this._getIndicatorOptions(e)).resize(this._layout),o.push(i)},values:function(t,e){if(this.enabled)return void 0!==t?(qu(t)||(t=Zu(t)?[Number(t)]:null),t&&(this._adjustIndicatorsCount(t.length),this._indicators.forEach(function(n,i){return n.value(t[i],e)})),this):z(this._indicators,function(t){return t.value()})}};var fh=isFinite,mh=Number,gh=Math.round,vh=Cs,yh=function(t,e){var n=Cs(t.getDomainStart(),e),i=Cs(t.getDomainEnd(),e);return n.length>=i.length?n:i},_h=st.a.inherit({ctor:function(t){var e=this;Object(s.a)(t,function(t,n){e["_"+t]=n}),e._init()},dispose:function(){var t=this;return t._dispose(),Object(s.a)(t,function(e){t[e]=null}),t},getOffset:function(){return mh(this._options.offset)||0}}),bh=_h.inherit({_init:function(){this._rootElement=this._createRoot().linkOn(this._owner,{name:"value-indicator",after:"core"}),this._trackerElement=this._createTracker()},_dispose:function(){this._rootElement.linkOff()},_setupAnimation:function(){var t=this;t._options.animation&&(t._animation={step:function(e){t._actualValue=t._animation.start+t._animation.delta*e,t._actualPosition=t._translator.translate(t._actualValue),t._move()},duration:t._options.animation.duration>0?mh(t._options.animation.duration):0,easing:t._options.animation.easing})},_runAnimation:function(t){var e=this._animation;e.start=this._actualValue,e.delta=t-this._actualValue,this._rootElement.animate({_:0},{step:e.step,duration:e.duration,easing:e.easing})},_createRoot:function(){return this._renderer.g().attr({class:this._className})},_createTracker:function(){return this._renderer.path([],"area")},_getTrackerSettings:l.noop,clean:function(){return this._animation&&this._rootElement.stopAnimation(),this._rootElement.linkRemove().clear(),this._clear(),this._tracker.detach(this._trackerElement),this._options=this.enabled=this._animation=null,this},render:function(t){return this.type=t.type,this._options=t,this._actualValue=this._currentValue=this._translator.adjust(this._options.currentValue),this.enabled=this._isEnabled(),this.enabled&&(this._setupAnimation(),this._rootElement.attr({fill:this._options.color}).linkAppend(),this._tracker.attach(this._trackerElement,this,this._trackerInfo)),this},resize:function(t){return this._rootElement.clear(),this._clear(),this.visible=this._isVisible(t),this.visible&&(Object(a.a)(this._options,t),this._actualPosition=this._translator.translate(this._actualValue),this._render(),this._trackerElement.attr(this._getTrackerSettings()),this._move()),this},value:function(t,e){var n,i=this._rootElement,o=null;return void 0===t?this._currentValue:(null===t?(o="hidden",this._currentValue=t):(n=this._translator.adjust(t),this._currentValue!==n&&fh(n)&&(this._currentValue=n,this.visible&&(this._animation&&!e?this._runAnimation(n):(this._actualValue=n,this._actualPosition=this._translator.translate(n),this._move())))),i.attr({visibility:o}),this)},_isEnabled:null,_isVisible:null,_render:null,_clear:null,_move:null}),Ch={};Ch["right-bottom"]=Ch.rb=[0,-1,-1,0,0,1,1,0],Ch["bottom-right"]=Ch.br=[-1,0,0,-1,1,0,0,1],Ch["left-bottom"]=Ch.lb=[0,-1,1,0,0,1,-1,0],Ch["bottom-left"]=Ch.bl=[1,0,0,-1,-1,0,0,1],Ch["left-top"]=Ch.lt=[0,1,1,0,0,-1,-1,0],Ch["top-left"]=Ch.tl=[1,0,0,1,-1,0,0,-1],Ch["right-top"]=Ch.rt=[0,1,-1,0,0,-1,1,0],Ch["top-right"]=Ch.tr=[-1,0,0,1,1,0,0,-1];var Oh=bh.inherit({_move:function(){var t=this._options,e=this._getTextCloudOptions(),n=vh(this._actualValue,t.text);this._text.attr({text:n});var i=this._text.getBBox(),o=e.x,r=e.y,a=(i.width||n.length*this._textUnitWidth)+2*t.horizontalOffset,s=(i.height||this._textHeight)+2*t.verticalOffset,l=function(t){var e,n,i=t.x,o=t.y,r=Ch[t.type],a=t.cloudWidth,s=t.cloudHeight,l=i,c=o;return e=n=t.tailLength,1&r[0]?n=Math.min(n,s/3):e=Math.min(e,a/3),{cx:gh(l+r[0]*e+(r[0]+r[2])*a/2),cy:gh(c+r[1]*n+(r[1]+r[3])*s/2),points:[gh(i),gh(o),gh(i+=r[0]*(a+e)),gh(o+=r[1]*(s+n)),gh(i+=r[2]*a),gh(o+=r[3]*s),gh(i+=r[4]*a),gh(o+=r[5]*s),gh(i+=r[6]*(a-e)),gh(o+=r[7]*(s-n))]}}({x:o,y:r,cloudWidth:a,cloudHeight:s,tailLength:t.arrowLength,type:this._correctCloudType(e.type,{x:o,y:r},{width:a,height:s})});this._text.attr({x:l.cx,y:l.cy+this._textVerticalOffset}),this._cloud.attr({points:l.points}),this._trackerElement&&this._trackerElement.attr({points:l.points})},_measureText:function(){var t,e,n;this._textVerticalOffset||(t=this._createRoot().append(this._owner),n=yh(this._translator,this._options.text),e=this._renderer.text(n,0,0).attr({align:"center"}).css($(this._options.text.font)).append(t).getBBox(),t.remove(),this._textVerticalOffset=-e.y-e.height/2,this._textWidth=e.width,this._textHeight=e.height,this._textUnitWidth=this._textWidth/n.length,this._textFullWidth=this._textWidth+2*this._options.horizontalOffset,this._textFullHeight=this._textHeight+2*this._options.verticalOffset)},_render:function(){this._measureText(),this._cloud=this._cloud||this._renderer.path([],"area").append(this._rootElement),this._text=this._text||this._renderer.text().append(this._rootElement),this._text.attr({align:"center"}).css($(this._options.text.font))},_clear:function(){delete this._cloud,delete this._text},getTooltipParameters:function(){var t=this._getTextCloudOptions();return{x:t.x,y:t.y,value:this._currentValue,color:this._options.color}},_correctCloudType:function(t){return t}}),xh=bh.inherit({_measureText:function(){var t,e;this._hasText=this._isTextVisible(),this._hasText&&!this._textVerticalOffset&&(t=this._createRoot().append(this._owner),e=this._renderer.text(yh(this._translator,this._options.text),0,0).attr({class:"dxg-text",align:"center"}).css($(this._options.text.font)).append(t).getBBox(),t.remove(),this._textVerticalOffset=-e.y-e.height/2,this._textWidth=e.width,this._textHeight=e.height)},_move:function(){this._updateBarItemsPositions(),this._hasText&&(this._text.attr({text:vh(this._actualValue,this._options.text)}),this._updateTextPosition(),this._updateLinePosition())},_updateBarItems:function(){var t,e=this._options,n=this._translator;this._setBarSides(),this._startPosition=n.translate(n.getDomainStart()),this._endPosition=n.translate(n.getDomainEnd()),this._basePosition=n.translate(e.baseValue),this._space=this._getSpace();var i=e.backgroundColor||"none";"none"!==i&&this._space>0?t=e.containerBackgroundColor||"none":(this._space=0,t="none"),this._backItem1.attr({fill:i}),this._backItem2.attr({fill:i}),this._spaceItem1.attr({fill:t}),this._spaceItem2.attr({fill:t})},_getSpace:function(){return 0},_updateTextItems:function(){this._hasText?(this._line=this._line||this._renderer.path([],"line").attr({class:"dxg-main-bar","stroke-linecap":"square"}).append(this._rootElement),this._text=this._text||this._renderer.text("",0,0).attr({class:"dxg-text"}).append(this._rootElement),this._text.attr({align:this._getTextAlign()}).css(this._getFontOptions()),this._setTextItemsSides()):(this._line&&(this._line.remove(),delete this._line),this._text&&(this._text.remove(),delete this._text))},_isTextVisible:function(){return!1},_getTextAlign:function(){return"center"},_getFontOptions:function(){var t=this._options,e=t.text.font;return e&&e.color||(e=Object(a.a)({},e,{color:t.color})),$(e)},_updateBarItemsPositions:function(){var t=this._getPositions();this._backItem1.attr(this._buildItemSettings(t.start,t.back1)),this._backItem2.attr(this._buildItemSettings(t.back2,t.end)),this._spaceItem1.attr(this._buildItemSettings(t.back1,t.main1)),this._spaceItem2.attr(this._buildItemSettings(t.main2,t.back2)),this._mainItem.attr(this._buildItemSettings(t.main1,t.main2)),this._trackerElement&&this._trackerElement.attr(this._buildItemSettings(t.main1,t.main2))},_render:function(){this._measureText(),this._backItem1||(this._backItem1=this._createBarItem(),this._backItem1.attr({class:"dxg-back-bar"})),this._backItem2||(this._backItem2=this._createBarItem(),this._backItem2.attr({class:"dxg-back-bar"})),this._spaceItem1||(this._spaceItem1=this._createBarItem(),this._spaceItem1.attr({class:"dxg-space-bar"})),this._spaceItem2||(this._spaceItem2=this._createBarItem(),this._spaceItem2.attr({class:"dxg-space-bar"})),this._mainItem||(this._mainItem=this._createBarItem(),this._mainItem.attr({class:"dxg-main-bar"})),this._updateBarItems(),this._updateTextItems()},_clear:function(){delete this._backItem1,delete this._backItem2,delete this._spaceItem1,delete this._spaceItem2,delete this._mainItem,delete this._hasText,delete this._line,delete this._text},getTooltipParameters:function(){var t=this._getTooltipPosition();return{x:t.x,y:t.y,value:this._currentValue,color:this._options.color,offset:0}}}),Sh=Number,wh=R,Ph=function(t){return 90-t};function kh(t,e){return t&&t.radius-e<=0&&(t.radius=e+1),t}var Eh=bh.inherit({_move:function(){var t=this._options,e=Ph(this._actualPosition);this._rootElement.rotate(e,t.x,t.y),this._trackerElement&&this._trackerElement.rotate(e,t.x,t.y)},_isEnabled:function(){return this._options.width>0},_isVisible:function(t){return t.radius-Sh(this._options.indentFromCenter)>0},_getTrackerSettings:function(){var t=this._options,e=this._getRadius(),n=this._getIndentFromCenter(),i=t.x,o=t.y-(e+n)/2,r=t.width/2,a=(e-n)/2;return r>10||(r=10),a>10||(a=10),{points:[i-r,o-a,i-r,o+a,i+r,o+a,i+r,o-a]}},_render:function(){this._renderPointer()},_clearPointer:function(){delete this._element},_clear:function(){this._clearPointer()},_getIndentFromCenter:function(t){return Number(this._options.indentFromCenter)||0},_getRadius:function(){return 0},measure:function(t){var e={max:t.radius};return this._options.indentFromCenter<0&&(e.inverseHorizontalOffset=e.inverseVerticalOffset=-Sh(this._options.indentFromCenter)),e},getTooltipParameters:function(){var t=this._options,e=wh(this._actualPosition),n=(this._getRadius()+this._getIndentFromCenter())/2;return{x:t.x+e.cos*n,y:t.y-e.sin*n,value:this._currentValue,color:t.color,offset:t.width/2}}}),Th=Eh.inherit({_isVisible:function(t){var e=this._adjustOffset(Number(this._options.indentFromCenter),t.radius),n=this._adjustOffset(Number(this._options.offset),t.radius);return t.radius-e-n>0},getOffset:function(){return 0},_adjustOffset:function(t,e){var n=e/Number(this._options.beginAdaptingAtRadius);return n<1&&(t=Math.floor(t*n)),t||0},_getIndentFromCenter:function(t){return this._adjustOffset(Number(this._options.indentFromCenter),this._options.radius)},_getRadius:function(){var t=this._options;return t.radius-this._adjustOffset(Number(t.offset),t.radius)},_renderSpindle:function(){var t=this._options,e=t.radius,n=2*this._adjustOffset(Sh(t.spindleSize)/2,e),i=2*this._adjustOffset(Sh(t.spindleGapSize)/2,e)||0;i>0&&(i=i<=n?i:n),n>0&&(this._spindleOuter=this._spindleOuter||this._renderer.circle().append(this._rootElement),this._spindleInner=this._spindleInner||this._renderer.circle().append(this._rootElement),this._spindleOuter.attr({class:"dxg-spindle-border",cx:t.x,cy:t.y,r:n/2}),this._spindleInner.attr({class:"dxg-spindle-hole",cx:t.x,cy:t.y,r:i/2,fill:t.containerBackgroundColor}))},_render:function(){this.callBase(),this._renderSpindle()},_clear:function(){this.callBase(),delete this._spindleOuter,delete this._spindleInner}}),Ih=Th.inherit({_renderPointer:function(){var t=this._options,e=t.y-this._getRadius(),n=t.y-this._getIndentFromCenter(),i=t.x-t.width/2,o=i+Sh(t.width);this._element=this._element||this._renderer.path([],"area").append(this._rootElement),this._element.attr({points:[i,n,i,e,o,e,o,n]})}}),jh=Th.inherit({_renderPointer:function(){var t=this._options,e=t.y-this._getRadius(),n=t.y-this._getIndentFromCenter(),i=t.x-t.width/2,o=t.x+t.width/2;this._element=this._element||this._renderer.path([],"area").append(this._rootElement),this._element.attr({points:[i,n,t.x,e,o,n]})}}),Mh=Th.inherit({_renderPointer:function(){var t,e,n=this._options,i=n.x-n.width/2,o=n.x+n.width/2,r=n.y-this._getRadius(),a=n.y-this._getIndentFromCenter(),s=Sh(n.secondFraction)||0;t=s>=1?e=a:s<=0?e=r:(e=r+(a-r)*s)+Sh(n.space),this._firstElement=this._firstElement||this._renderer.path([],"area").append(this._rootElement),this._spaceElement=this._spaceElement||this._renderer.path([],"area").append(this._rootElement),this._secondElement=this._secondElement||this._renderer.path([],"area").append(this._rootElement),this._firstElement.attr({points:[i,a,i,t,o,t,o,a]}),this._spaceElement.attr({points:[i,t,i,e,o,e,o,t],class:"dxg-hole",fill:n.containerBackgroundColor}),this._secondElement.attr({points:[i,e,i,r,o,r,o,e],class:"dxg-part",fill:n.secondColor})},_clearPointer:function(){delete this._firstElement,delete this._secondElement,delete this._spaceElement}}),Dh=Eh.inherit({_isEnabled:function(){return this._options.length>0&&this._options.width>0},_isVisible:function(t){return!0},resize:function(t){return this.callBase(kh(t,0))},_render:function(){var t=this._options,e=t.x,n=t.y-t.radius,i=t.width/2||0,o=n-Sh(t.length);this._element=this._element||this._renderer.path([],"area").append(this._rootElement);var r={points:[e,n,e-i,o,e+i,o],stroke:"none","stroke-width":0,"stroke-linecap":"square"};t.space>0&&(r["stroke-width"]=Math.min(t.space,t.width/4)||0,r.stroke=r["stroke-width"]>0&&t.containerBackgroundColor||"none"),this._element.attr(r).sharp()},_clear:function(){delete this._element},_getTrackerSettings:function(){var t=this._options,e=t.x,n=t.y-t.radius-t.length/2,i=t.width/2,o=t.length/2;return i>10||(i=10),o>10||(o=10),{points:[e-i,n-o,e-i,n+o,e+i,n+o,e+i,n-o]}},measure:function(t){return{min:t.radius,max:t.radius+Sh(this._options.length)}},getTooltipParameters:function(){var t=this._options,e=wh(this._actualPosition),n=t.radius+t.length/2,i=this.callBase();return i.x=t.x+e.cos*n,i.y=t.y-e.sin*n,i.offset=t.length/2,i}}),Ah=Oh.inherit({_isEnabled:function(){return!0},_isVisible:function(t){return!0},resize:function(t){return this.callBase(kh(t,0))},_getTextCloudOptions:function(){var t=wh(this._actualPosition),e=A(this._actualPosition);return{x:this._options.x+t.cos*this._options.radius,y:this._options.y-t.sin*this._options.radius,type:e>270?"left-top":e>180?"top-right":e>90?"right-bottom":"bottom-left"}},measure:function(t){var e=Sh(this._options.arrowLength)||0;this._measureText();var n=this._textFullHeight+e,i=this._textFullWidth+e;return{min:t.radius,max:t.radius,horizontalOffset:i,verticalOffset:n,inverseHorizontalOffset:i,inverseVerticalOffset:n}}}),Rh=xh.inherit({_isEnabled:function(){return this._options.size>0},_isVisible:function(t){return!0},resize:function(t){return this.callBase(kh(t,Sh(this._options.size)))},_createBarItem:function(){return this._renderer.arc().attr({"stroke-linejoin":"round"}).append(this._rootElement)},_createTracker:function(){return this._renderer.arc().attr({"stroke-linejoin":"round"})},_setBarSides:function(){this._maxSide=this._options.radius,this._minSide=this._maxSide-Sh(this._options.size)},_getSpace:function(){var t=this._options;return t.space>0?180*t.space/t.radius/Math.PI:0},_isTextVisible:function(){return(this._options.text||{}).indent>0},_setTextItemsSides:function(){var t=this._options,e=Sh(t.text.indent);this._lineFrom=t.y-t.radius,this._lineTo=this._lineFrom-e,this._textRadius=t.radius+e},_getPositions:function(){var t,e,n=this._basePosition,i=this._actualPosition;return n>=i?(t=n,e=i):(t=i,e=n),{start:this._startPosition,end:this._endPosition,main1:t,main2:e,back1:Math.min(t+this._space,this._startPosition),back2:Math.max(e-this._space,this._endPosition)}},_buildItemSettings:function(t,e){return{x:this._options.x,y:this._options.y,innerRadius:this._minSide,outerRadius:this._maxSide,startAngle:e,endAngle:t}},_updateTextPosition:function(){var t=wh(this._actualPosition),e=this._options.x+this._textRadius*t.cos,n=this._options.y-this._textRadius*t.sin;e+=t.cos*this._textWidth*.6,n-=t.sin*this._textHeight*.6,this._text.attr({x:e,y:n+this._textVerticalOffset})},_updateLinePosition:function(){var t,e,n=this._options.x;this._basePosition>this._actualPosition?(t=n-2,e=n):this._basePosition<this._actualPosition?(t=n,e=n+2):(t=n-1,e=n+1),this._line.attr({points:[t,this._lineFrom,t,this._lineTo,e,this._lineTo,e,this._lineFrom]}).rotate(Ph(this._actualPosition),n,this._options.y).sharp()},_getTooltipPosition:function(){var t=wh((this._basePosition+this._actualPosition)/2),e=(this._minSide+this._maxSide)/2;return{x:this._options.x+t.cos*e,y:this._options.y-t.sin*e}},measure:function(t){var e={min:t.radius-Sh(this._options.size),max:t.radius};return this._measureText(),this._hasText&&(e.max+=Sh(this._options.text.indent),e.horizontalOffset=this._textWidth,e.verticalOffset=this._textHeight),e}}),Bh=Number,Lh=Array.isArray,Nh=isFinite;function zh(t,e,n,i){var o;return n>t&&i<e?o=[{start:t,end:n},{start:i,end:e}]:n>=e||i<=t?o=[{start:t,end:e}]:n<=t&&i>=e?o=[]:n>t?o=[{start:t,end:n}]:i<e&&(o=[{start:i,end:e}]),o}function Fh(t,e,n,i){var o;return n<t&&i>e?o=[{start:t,end:n},{start:i,end:e}]:n<=e||i>=t?o=[{start:t,end:e}]:n>=t&&i<=e?o=[]:n<t?o=[{start:t,end:n}]:i>e&&(o=[{start:i,end:e}]),o}function Hh(t,e,n){var i=n.startValue;return n.endValue===i&&i===t&&e===t}function Vh(t,e,n){return e-t>0||Hh(t,e,n)}function Uh(t,e,n){return t-e>0||Hh(t,e,n)}var Wh=_h.inherit({_init:function(){this._root=this._renderer.g().attr({class:"dxg-range-container"}).linkOn(this._container,"range-container")},_dispose:function(){this._root.linkOff()},clean:function(){return this._root.linkRemove().clear(),this._options=this.enabled=null,this},_getRanges:function(){var t,e=this._options,n=this._translator,i=n.getDomain()[0],o=n.getDomain()[1],r=o-i,a=r>=0?Vh:Uh,l=r>=0?zh:Fh,u=[],h=[{start:i,end:o}],d=Object(c.o)(e.backgroundColor)?e.backgroundColor:"none",p=e.width||{},f=Bh(p>0?p:p.start),m=Bh(p>0?p:p.end),g=m-f;if(void 0!==e.ranges&&!Lh(e.ranges))return null;if(!(f>=0&&m>=0&&f+m>0))return null;t=(Lh(e.ranges)?e.ranges:[]).reduce(function(t,e,i){e=e||{};var o=n.adjust(e.startValue),r=n.adjust(e.endValue);return Nh(o)&&Nh(r)&&a(o,r,e)&&t.push({start:o,end:r,color:e.color,classIndex:i}),t},[]);var v=this._themeManager.createPalette(e.palette,{type:"indicatingSet",extensionMode:e.paletteExtensionMode,keepLastColorInEnd:!0,count:t.length});return Object(s.a)(t,function(t,e){var n=v.getNextColor();e.color=Object(c.o)(e.color)&&e.color||n||"none",e.className="dxg-range dxg-range-"+e.classIndex,delete e.classIndex}),Object(s.a)(t,function(t,e){var n,i,o,r,a,s=[],c=[];for(n=0,i=u.length;n<i;++n)a=u[n],(o=(r=l(a.start,a.end,e.start,e.end))[0])&&(o.color=a.color)&&(o.className=a.className)&&s.push(o),(o=r[1])&&(o.color=a.color)&&(o.className=a.className)&&s.push(o);for(s.push(e),u=s,n=0,i=h.length;n<i;++n)a=h[n],(o=(r=l(a.start,a.end,e.start,e.end))[0])&&c.push(o),(o=r[1])&&c.push(o);h=c}),Object(s.a)(h,function(t,e){e.color=d,e.className="dxg-range dxg-background-range",u.push(e)}),Object(s.a)(u,function(t,e){e.startWidth=(e.start-i)/r*g+f,e.endWidth=(e.end-i)/r*g+f}),u},render:function(t){return this._options=t,this._processOptions(),this._ranges=this._getRanges(),this._ranges&&(this.enabled=!0,this._root.linkAppend()),this},resize:function(t){var e=this;return e._root.clear(),e._isVisible(t)&&Object(s.a)(e._ranges,function(n,i){e._createRange(i,t).attr({fill:i.color,class:i.className}).append(e._root)}),e},_processOptions:null,_isVisible:null,_createRange:null,getColorForValue:function(t){var e=null;return Object(s.a)(this._ranges,function(n,i){if(i.start<=t&&t<=i.end||i.start>=t&&t>=i.end)return e=i.color,!1}),e}}),Kh=Number,$h=Math.max,Gh=Wh.inherit({_processOptions:function(){switch(this._inner=this._outer=0,F(this._options.orientation)){case"inside":this._inner=1;break;case"center":this._inner=this._outer=.5;break;default:this._outer=1}},_isVisible:function(t){var e=this._options.width;return e=Kh(e)||$h(Kh(e.start),Kh(e.end)),t.radius-this._inner*e>0},_createRange:function(t,e){var n=(t.startWidth+t.endWidth)/2;return this._renderer.arc(e.x,e.y,e.radius-this._inner*n,e.radius+this._outer*n,this._translator.translate(t.end),this._translator.translate(t.start)).attr({"stroke-linejoin":"round"})},measure:function(t){var e=this._options.width;return e=Kh(e)||$h(Kh(e.start),Kh(e.end)),{min:t.radius-this._inner*e,max:t.radius+this._outer*e}}}),qh=isFinite,Zh=A,Yh=R,Xh=Math.abs,Qh=Math.max,Jh=Math.min,td=Math.round,ed=s.a,nd=Math.PI;var id=rh.inherit({_rootClass:"dxg-circular-gauge",_factoryMethods:{rangeContainer:"createCircularRangeContainer",indicator:"createCircularIndicator"},_gridSpacingFactor:17,_scaleTypes:{type:"polarAxes",drawingType:"circular"},_getThemeManagerOptions:function(){var t=this.callBase.apply(this,arguments);return t.subTheme="_circular",t},_updateScaleTickIndent:function(t){var e=t.label.indentFromTick,n=t.tick.visible?t.tick.length:0,i=this._scale.measureLabels(Object(a.a)({},this._canvas)),o=t.orientation,r=n,s=e;e>=0?"outside"===o?s+=r:"center"===o&&(s+=r/2):(s-=Qh(i.width,i.height),"inside"===o?s-=r:"center"===o&&(s-=r/2));t.label.indentFromAxis=s,this._scale.updateOptions(t)},_setupCodomain:function(){var t,e=this.option("geometry")||{},n=e.startAngle,i=e.endAngle;n=qh(n)?Zh(n):225,i=qh(i)?Zh(i):-45,Xh(n-i)<1?(i-=360,t={left:-1,up:-1,right:1,down:1}):(n<i&&(i-=360),t=function(t,e){var n=Yh(t),i=Yh(e),o=n.cos,r=n.sin,a=i.cos,s=i.sin;return{left:r<=0&&s>=0||r<=0&&s<=0&&o<=a||r>=0&&s>=0&&o>=a?-1:Jh(o,a,0),right:r>=0&&s<=0||r>=0&&s>=0&&o>=a||r<=0&&s<=0&&o<=a?1:Qh(o,a,0),up:o<=0&&a>=0||o<=0&&a<=0&&r>=s||o>=0&&a>=0&&r<=s?-1:-Qh(r,s,0),down:o>=0&&a<=0||o>=0&&a>=0&&r<=s||o<=0&&a<=0&&r>=s?1:-Jh(r,s,0)}}(n,i)),this._area={x:0,y:0,radius:100,startCoord:n,endCoord:i,sides:t},this._translator.setCodomain(n,i)},_shiftScale:function(t){var e=this._scale,n=e.getCanvas();n.width=n.height=2*t.radius,e.draw(n);var i=e.getCenter();e.shift({right:t.x-i.x,bottom:t.y-i.y})},_getScaleLayoutValue:function(){return this._area.radius},_getTicksOrientation:function(t){return t.orientation},_getTicksCoefficients:function(t){var e={inner:0,outer:1};return"inside"===t.orientation?(e.inner=1,e.outer=0):"center"===t.orientation&&(e.inner=e.outer=.5),e},_correctScaleIndents:function(t,e,n){e>=0?(t.horizontalOffset=e+n.width,t.verticalOffset=e+n.height):(t.horizontalOffset=t.verticalOffset=0,t.min-=-e+Qh(n.width,n.height)),t.inverseHorizontalOffset=n.width/2,t.inverseVerticalOffset=n.height/2},_measureMainElements:function(t,e){var n=this._area.radius,i=0,o=1/0,r=0,a=0,s=0,l=0,c=this._scale;return ed(t.concat(c),function(t,c){var u=c.measure?c.measure({radius:n-c.getOffset()}):e;u.min>0&&(o=Jh(o,u.min)),u.max>0&&(i=Qh(i,u.max)),u.horizontalOffset>0&&(r=Qh(r,u.max+u.horizontalOffset)),u.verticalOffset>0&&(a=Qh(a,u.max+u.verticalOffset)),u.inverseHorizontalOffset>0&&(s=Qh(s,u.inverseHorizontalOffset)),u.inverseVerticalOffset>0&&(l=Qh(l,u.inverseVerticalOffset))}),r=Qh(r-i,0),a=Qh(a-i,0),{minRadius:o,maxRadius:i,horizontalMargin:r,verticalMargin:a,inverseHorizontalMargin:s,inverseVerticalMargin:l}},_applyMainLayout:function(t,e){var n=this._measureMainElements(t,e),i=this._area,o=i.sides,r={left:(o.left<-.1?n.horizontalMargin:n.inverseHorizontalMargin)||0,right:(o.right>.1?n.horizontalMargin:n.inverseHorizontalMargin)||0,top:(o.up<-.1?n.verticalMargin:n.inverseVerticalMargin)||0,bottom:(o.down>.1?n.verticalMargin:n.inverseVerticalMargin)||0},s=function(t,e,n){var i,o=Object(a.a)({},t),r=0,s=0;n=n||{},e>0&&(o.left+=n.left||0,o.right-=n.right||0,o.top+=n.top||0,o.bottom-=n.bottom||0,od(o)>0&&rd(o)>0?((i=rd(o)/od(o))>1?e<i?r=od(o):s=rd(o):e>i?s=rd(o):r=od(o),r>0||(r=s/e),s>0||(s=r*e),r=(od(o)-r)/2,s=(rd(o)-s)/2,o.left+=r,o.right-=r,o.top+=s,o.bottom-=s):(o.left=o.right=(o.left+o.right)/2,o.top=o.bottom=(o.top+o.bottom)/2));return o}(this._innerRect,(o.down-o.up)/(o.right-o.left),r),l=Jh(od(s)/(o.right-o.left),rd(s)/(o.down-o.up));l=l-n.maxRadius+i.radius;var c=s.left-od(s)*o.left/(o.right-o.left),u=s.top-rd(s)*o.up/(o.down-o.up);i.x=td(c),i.y=td(u),i.radius=l,s.left-=r.left,s.right+=r.right,s.top-=r.top,s.bottom+=r.bottom,this._innerRect=s},_getElementLayout:function(t){return{x:this._area.x,y:this._area.y,radius:td(this._area.radius-t)}},_getApproximateScreenRange:function(){var t=this._area,e=Jh(this._canvas.width/(t.sides.right-t.sides.left),this._canvas.height/(t.sides.down-t.sides.up));return e>t.totalRadius&&(e=t.totalRadius),e*=.8,-this._translator.getCodomainRange()*e*nd/180},_getDefaultSize:function(){return{width:300,height:300}},_factory:Object(r.a)(bs.prototype._factory)});function od(t){return t.right-t.left}function rd(t){return t.bottom-t.top}var ad,sd=id.prototype._factory.indicators={};id.prototype._factory.createIndicator=(ad=sd,function(t,e,n){var i=ad[F(e)]||!n&&ad._default;return i?new i(t):null}),sd._default=Ih,sd.rectangleneedle=Ih,sd.triangleneedle=jh,sd.twocolorneedle=Mh,sd.trianglemarker=Dh,sd.textcloud=Ah,sd.rangebar=Rh,id.prototype._factory.RangeContainer=Gh,Object(o.a)("dxCircularGauge",id);var ld=id;e.default=ld},function(t,e,n){"use strict";n.r(e);var i=n(41),o=n(27),r=n(2),a=n(3),s=n(1),l=n(33),c=n(5),u=n(26),h=n(96),d=n(71),p=n(42),f=n(43),m=n(16),g=n(7),v=n(10),y=n(130),_=n(87),b=function(t,e){var n=Object(r.a)(t);return{validate:function(i){if(Object(v.j)(i)&&(o=i.target,!e||Object(r.a)(o).is(t)))return!!function(t,e,n){var i=Object(r.a)(t),o=n?i.scrollLeft():i.scrollTop(),a=n?"Width":"Height",s=i.prop("scroll".concat(a))-i.prop("client".concat(a))-o|0;return(0!==o||0!==s)&&(!!(0===o&&e>=0||0===s&&e<=0||o>0&&s>0)||void 0)}(n,-i.delta,i.shiftKey)&&(i._needSkipEvent=!0,!0);var o}}},C=n(44),O=n(20),x=n(12),S=n(13),w=n(45),P=n.n(w);function k(){if(!P.a)throw p.a.Error("E1041","Quill");return P.a}var E,T=n(19),I=n(6),j=n(18);P.a?E=function(t){function e(t,n){var i;return Object(x.a)(this,e),(i=Object(T.a)(this,Object(I.a)(e).call(this,t,n))).quill.root.classList.add("dx-htmleditor-content"),i.quill.root.setAttribute("role","textbox"),i}return Object(j.a)(e,t),e}(P.a.import("core/theme")):E={};var M=E,D=n(14),A={};P.a&&((A=function(t){function e(){return Object(x.a)(this,e),Object(T.a)(this,Object(I.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(S.a)(e,[{key:"formats",value:function(){var t=Object(D.a)(Object(I.a)(e.prototype),"formats",this).call(this),n=this.domNode.style.float;return n&&(t.float=n),t}},{key:"format",value:function(t,n){"float"===t?this.domNode.style[t]=n:Object(D.a)(Object(I.a)(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=t&&t.src||t,i=Object(D.a)(Object(I.a)(e),"create",this).call(this,n);if(Object(s.j)(t)){var o=function(e,n){t[e]&&i.setAttribute(e,n)};o("alt",t.alt),o("width",t.width),o("height",t.height)}return i}},{key:"formats",value:function(t){var n=Object(D.a)(Object(I.a)(e),"formats",this).call(this,t);return n.imageSrc=t.getAttribute("src"),n}},{key:"value",value:function(t){return{src:t.getAttribute("src"),width:t.getAttribute("width"),height:t.getAttribute("height"),alt:t.getAttribute("alt")}}}]),e}(P.a.import("formats/image"))).blotName="extendedImage");var R=A,B={};P.a&&(B=function(t){function e(){return Object(x.a)(this,e),Object(T.a)(this,Object(I.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(S.a)(e,[{key:"formats",value:function(){var t=Object(D.a)(Object(I.a)(e.prototype),"formats",this).call(this),n=e.formats(this.domNode),i=n.href,o=n.target;return t.link=i,t.target=o,t}},{key:"format",value:function(t,n){"link"===t&&Object(s.j)(n)?(n.text&&(this.domNode.innerText=n.text),n.target?this.domNode.setAttribute("target","_blank"):this.domNode.removeAttribute("target"),this.domNode.setAttribute("href",n.href)):Object(D.a)(Object(I.a)(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=t&&t.href||t,i=Object(D.a)(Object(I.a)(e),"create",this).call(this,n);return Object(s.j)(t)&&(t.text&&(i.innerText=t.text),t.target||i.removeAttribute("target")),i}},{key:"formats",value:function(t){return{href:t.getAttribute("href"),target:t.getAttribute("target")}}},{key:"value",value:function(t){return{href:t.getAttribute("href"),text:t.innerText,target:!!t.getAttribute("target")}}}]),e}(P.a.import("formats/link")));var L=B,N={};P.a&&((N=P.a.import("attributors/style/font")).whitelist=null);var z=N,F={};P.a&&((F=P.a.import("attributors/style/size")).whitelist=null);var H=F,V={};P.a&&(V=P.a.import("attributors/style/align")).whitelist.push("left");var U=V,W=n(22),K=n(40),$=function t(){Object(x.a)(this,t)};P.a&&($=function(t){function e(t,n){var i;return Object(x.a)(this,e),(i=Object(T.a)(this,Object(I.a)(e).call(this,t,n))).editorInstance=n.editorInstance,i}return Object(j.a)(e,t),Object(S.a)(e,[{key:"saveValueChangeEvent",value:function(t){this.editorInstance._saveValueChangeEvent(t)}},{key:"addCleanCallback",value:function(t){this.editorInstance.addCleanCallback(t)}},{key:"handleOptionChangeValue",value:function(t){var e=this;Object(s.j)(t)?Object.entries(t).forEach(function(t){var n=Object(K.a)(t,2),i=n[0],o=n[1];return e.option(i,o)}):Object(s.d)(t)||null===this||void 0===this||this.clean()}}]),e}(P.a.import("core/module")));var G=$,q=n(177),Z=n(186),Y=(n(211),n(116)),X=n(9),Q=function(){function t(){Object(x.a)(this,t),this._collection=[]}return Object(S.a)(t,[{key:"clear",value:function(){this._collection=[]}},{key:"add",value:function(t,e){this._collection.push({name:t,instance:e})}},{key:"remove",value:function(t){this._collection=this._collection.filter(function(e){return e.name!==t})}},{key:"getByName",value:function(t){var e=null;return Object(X.a)(this._collection,function(n,i){var o=i.name,r=i.instance;if(o===t)return e=r,!1}),e}},{key:"each",value:function(t){this._collection.forEach(function(e){var n=e.name,i=e.instance;return i&&t(n,i)})}}]),t}(),J=n(8),tt=n(51),et=["table","tableHeaderCell"],nt=["insertTable","insertHeaderRow","insertRowAbove","insertRowBelow","insertColumnLeft","insertColumnRight","deleteColumn","deleteRow","deleteTable","cellProperties","tableProperties"];function it(t){var e=t.getModule("table");return null!==e&&void 0!==e&&e.tableFormats?e.tableFormats():et}function ot(t,e){return!!e&&t.quill.getText(e).trim().length<e.length}function rt(t,e){var n=e.tableBlot,i=e.quill;(null!==n&&void 0!==n?n:i.scroll.find(t.get(0))).format("tableWidth","initial")}function at(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.find("tr").eq(e).find("th, td")}function st(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"horizontal",n=[],i="horizontal"===e;return(i?at(t):ut(t)).each(function(t,e){var o=Object(r.a)(e);""===o.get(0).style[i?"width":"height"]&&n.push(o)}),n}function lt(t,e){var n=e.elements,i=e.property,o=e.value,r=t.quill.getModule("table").tableBlots,a="cell".concat(Object(tt.a)(i,!0));Object(X.a)(n,function(e,n){var i,s=t.quill.scroll.find(n);if(!r.includes(s.statics.blotName)){var l=s.descendant(function(t){return r.includes(t.statics.blotName)});s=l?l[0]:null}null===(i=s)||void 0===i||i.format(a,o+"px")})}function ct(t,e){return"horizontal"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"horizontal")?ut(t,e):at(t,e)}function ut(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.find("th:nth-child(".concat(1+e,"), td:nth-child(").concat(1+e,")"))}function ht(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return function(){var n=t.getModule("table");if(n)return t.focus(),n[e].apply(n,i)}}var dt=n(24),pt=n(55),ft=n(50),mt=n(80),gt=n(52),vt=n(15),yt=n(59),_t=function(){function t(){Object(x.a)(this,t),this._map={}}return Object(S.a)(t,[{key:"_findWidgetInstance",value:function(t){var e;return Object(X.a)(this._map,function(n,i){var o=i.widgetInstance,r=i.item;if(t(r))return e=o,!1}),e}},{key:"_findFieldByCondition",value:function(t,e){var n;return Object(X.a)(this._map,function(i,o){if(t(o))return n="guid"===e?i:o[e],!1}),n}},{key:"clear",value:function(){this._map={}}},{key:"removeItemsByItems",value:function(t){var e=this;Object(X.a)(t.getItems(),function(t){return e.removeItemByKey(t)})}},{key:"removeItemByKey",value:function(t){delete this._map[t]}},{key:"add",value:function(t){var e=t.guid||new pt.a;return this._map[e]=t,e}},{key:"addItemsOrExtendFrom",value:function(t){var e=this;t.each(function(t,n){e._map[t]?(n.widgetInstance&&(e._map[t].widgetInstance=n.widgetInstance),e._map[t].$itemContainer=n.$itemContainer):e.add({item:n.item,widgetInstance:n.widgetInstance,guid:t,$itemContainer:n.$itemContainer})})}},{key:"extendRunTimeItemInfoByKey",value:function(t,e){this._map[t]&&(this._map[t]=Object(a.a)(this._map[t],e))}},{key:"findWidgetInstanceByItem",value:function(t){return this._findWidgetInstance(function(e){return e===t})}},{key:"findGroupOrTabLayoutManagerByPath",value:function(t){return this._findFieldByCondition(function(e){return e.path===t},"layoutManager")}},{key:"findKeyByPath",value:function(t){return this._findFieldByCondition(function(e){return e.path===t},"guid")}},{key:"findWidgetInstanceByName",value:function(t){return this._findWidgetInstance(function(e){return t===e.name})}},{key:"findWidgetInstanceByDataField",value:function(t){return this._findWidgetInstance(function(e){return t===(Object(s.o)(e)?e:e.dataField)})}},{key:"findItemContainerByItem",value:function(t){for(var e in this._map)if(this._map[e].item===t)return this._map[e].$itemContainer;return null}},{key:"findItemIndexByItem",value:function(t){return this._findFieldByCondition(function(e){return e.item===t},"itemIndex")}},{key:"findPreparedItemByItem",value:function(t){return this._findFieldByCondition(function(e){return e.item===t},"preparedItem")}},{key:"getItems",value:function(){return this._map}},{key:"each",value:function(t){Object(X.a)(this._map,function(e,n){t(e,n)})}},{key:"removeItemsByPathStartWith",value:function(t){var e=this;Object.keys(this._map).filter(function(n){return!!e._map[n].path&&e._map[n].path.indexOf(t,0)>-1}).forEach(function(t){return e.removeItemByKey(t)})}}]),t}(),bt=n(214),Ct=n(161),Ot=n(47),xt=n(32),St=function(){function t(e){Object(x.a)(this,t),this._options=e,this._itemsRunTimeInfo=this._options.itemsRunTimeInfo}return Object(S.a)(t,[{key:"findInstance",value:function(){return this._itemsRunTimeInfo.findWidgetInstanceByItem(this._options.item)}},{key:"findItemContainer",value:function(){return this._itemsRunTimeInfo.findItemContainerByItem(this._options.item)}},{key:"findPreparedItem",value:function(){return this._itemsRunTimeInfo.findPreparedItemByItem(this._options.item)}},{key:"tryExecute",value:function(){xt.a.abstract()}}]),t}(),wt=n(46),Pt=function(t,e){return"".concat(e?"tabs":"items","[").concat(t,"]")},kt=function(t,e){return Object(s.d)(t)&&Object(s.d)(e)?"".concat(t,".").concat(e):t||e},Et=function(t){return t?t.replace(/\s/g,""):void 0},Tt=function(t,e){return"".concat(t,".").concat(e)},It=function(t){var e=t.split(".");return e[e.length-1].replace(/\[\d+]/,"")},jt=function(t){return t.indexOf("tabs")>-1};var Mt=function(t){function e(){return Object(x.a)(this,e),Object(T.a)(this,Object(I.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(S.a)(e,[{key:"tryExecute",value:function(){var t=this._options.value,e=this.findInstance();return!!e&&(e.option(t),!0)}}]),e}(St),Dt=function(t){function e(){return Object(x.a)(this,e),Object(T.a)(this,Object(I.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(S.a)(e,[{key:"tryExecute",value:function(){var t=this.findInstance();if(t){var e=this._options,n=e.optionName,i=e.item,o=e.value,r=this._itemsRunTimeInfo.findItemIndexByItem(i);if(r>=0)return t.option(Tt("items[".concat(r,"]"),n),o),!0}return!1}}]),e}(St),At=function(t){function e(){return Object(x.a)(this,e),Object(T.a)(this,Object(I.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(S.a)(e,[{key:"tryExecute",value:function(){return!1}}]),e}(St),Rt=function(t){function e(){return Object(x.a)(this,e),Object(T.a)(this,Object(I.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(S.a)(e,[{key:"tryExecute",value:function(){var t=this.findPreparedItem();return!(null==t||!t._prepareGroupItemTemplate||!t._renderGroupContentTemplate)&&(t._prepareGroupItemTemplate(this._options.item.template),t._renderGroupContentTemplate(),!0)}}]),e}(St),Bt=function(t){function e(){return Object(x.a)(this,e),Object(T.a)(this,Object(I.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(S.a)(e,[{key:"tryExecute",value:function(){var t=this.findInstance();if(t){var e=this._options.value;return t.option("dataSource",e),!0}return!1}}]),e}(St),Lt=function(t){function e(){return Object(x.a)(this,e),Object(T.a)(this,Object(I.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(S.a)(e,[{key:"tryExecute",value:function(){var t=this._options.item,e=this.findInstance(),n=e&&Object(wt.c)(e.$element()[0],"dxValidator");if(n&&t){var i=function(t){return"required"===t.type},o=(n.option("validationRules")||[]).some(i),r=(t.validationRules||[]).some(i);if(!o&&!r||o&&r)return n.option("validationRules",t.validationRules),!0}return!1}}]),e}(St),Nt=function(t){function e(){return Object(x.a)(this,e),Object(T.a)(this,Object(I.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(S.a)(e,[{key:"tryExecute",value:function(){var t=this.findItemContainer(),e=this._options,n=e.previousValue,i=e.value;return!!t&&(t.removeClass(n).addClass(i),!0)}}]),e}(St),zt=function(t,e){switch(t){case"editorOptions":case"buttonOptions":return new Mt(e);case"validationRules":return new Lt(e);case"cssClass":return new Nt(e);case"badge":case"disabled":case"icon":case"tabTemplate":case"title":return new Dt(Object(a.a)(e,{optionName:t}));case"tabs":return new Bt(e);case"template":var n,i,o,r=null!==(n=null===e||void 0===e?void 0:null===(i=e.item)||void 0===i?void 0:i.itemType)&&void 0!==n?n:null===(o=e.itemsRunTimeInfo.findPreparedItemByItem(null===e||void 0===e?void 0:e.item))||void 0===o?void 0:o.itemType;return"simple"===r?new At(e):"group"===r?new Rt(e):new Dt(Object(a.a)(e,{optionName:t}));default:return null}},Ft=n(104),Ht=n(11),Vt=n(89),Ut=n(120),Wt=n(37),Kt=n(109),$t=n(73),Gt=n(106),qt=n(95),Zt={row:"minWidth",col:"minHeight"},Yt={row:"maxWidth",col:"maxHeight"},Xt={start:"flex-start",end:"flex-end",center:"center","space-between":"space-between","space-around":"space-around"},Qt={start:"flex-start",end:"flex-end",center:"center",stretch:"stretch"},Jt={row:"row",col:"column"},te=function(t,e,n){if(n=Object($t.a)(e,n),t.style[Object($t.b)(e)]=n,!Object(vt.f)()){if(""===n||!Object(s.d)(n))return;var i=Object(tt.c)(e)+": "+n+";";t.attributes.style?t.attributes.style.value.indexOf(i)<0&&(t.attributes.style.value+=" "+i):t.setAttribute("style",i)}},ee=function(t){function e(){return Object(x.a)(this,e),Object(T.a)(this,Object(I.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(S.a)(e,[{key:"_renderVisible",value:function(t,n){Object(D.a)(Object(I.a)(e.prototype),"_renderVisible",this).call(this,t),Object(s.d)(n)&&this._options.fireItemStateChangedAction({name:"visible",state:t,oldState:n})}}]),e}(Gt.a),ne=function(){function t(e,n){Object(x.a)(this,t),this._$element=e,this._option=n}return Object(S.a)(t,[{key:"renderBox",value:function(){this._$element.css({display:Object($t.c)("flexDirection")+"flex"}),te(this._$element.get(0),"flexDirection",Jt[this._option("direction")])}},{key:"renderAlign",value:function(){this._$element.css({justifyContent:this._normalizedAlign()})}},{key:"_normalizedAlign",value:function(){var t=this._option("align");return t in Xt?Xt[t]:t}},{key:"renderCrossAlign",value:function(){this._$element.css({alignItems:this._normalizedCrossAlign()})}},{key:"_normalizedCrossAlign",value:function(){var t=this._option("crossAlign");return t in Qt?Qt[t]:t}},{key:"renderItems",value:function(t){var e=Object($t.c)("flexDirection"),n=this._option("direction");Object(X.a)(t,function(){var t=Object(r.a)(this),i=t.data("dxBoxItemData");t.css({display:e+"flex"}).css(Yt[n],i.maxSize||"none").css(Zt[n],i.minSize||"0"),te(t.get(0),"flexBasis",i.baseSize||0),te(t.get(0),"flexGrow",i.ratio),te(t.get(0),"flexShrink",Object(s.d)(i.shrink)?i.shrink:1),t.children().each(function(t,e){Object(r.a)(e).css({width:"auto",height:"auto",display:Object($t.c)("flexDirection")+"flex",flexBasis:0}),te(e,"flexGrow",1),te(e,"flexDirection",Object(r.a)(e)[0].style.flexDirection||"column")})})}}]),t}(),ie=function(t){function e(){return Object(x.a)(this,e),Object(T.a)(this,Object(I.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(S.a)(e,[{key:"_getDefaultOptions",value:function(){return Object(a.a)(Object(D.a)(Object(I.a)(e.prototype),"_getDefaultOptions",this).call(this),{direction:"row",align:"start",crossAlign:"stretch",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,_queue:void 0})}},{key:"_itemClass",value:function(){return"dx-box-item"}},{key:"_itemDataKey",value:function(){return"dxBoxItemData"}},{key:"_itemElements",value:function(){return this._itemContainer().children(this._itemSelector())}},{key:"_init",value:function(){Object(D.a)(Object(I.a)(e.prototype),"_init",this).call(this),this.$element().addClass("dx-box-flex"),this._initLayout(),this._initBoxQueue()}},{key:"_initLayout",value:function(){this._layout=new ne(this.$element(),this.option.bind(this))}},{key:"_initBoxQueue",value:function(){this._queue=this.option("_queue")||[]}},{key:"_queueIsNotEmpty",value:function(){return!this.option("_queue")&&!!this._queue.length}},{key:"_pushItemToQueue",value:function(t,e){this._queue.push({$item:t,config:e})}},{key:"_shiftItemFromQueue",value:function(){return this._queue.shift()}},{key:"_initMarkup",value:function(){this.$element().addClass("dx-box"),this._layout.renderBox(),Object(D.a)(Object(I.a)(e.prototype),"_initMarkup",this).call(this),this._renderAlign(),this._renderActions()}},{key:"_renderActions",value:function(){this._onItemStateChanged=this._createActionByOption("onItemStateChanged")}},{key:"_renderAlign",value:function(){this._layout.renderAlign(),this._layout.renderCrossAlign()}},{key:"_renderItems",value:function(t){for(Object(D.a)(Object(I.a)(e.prototype),"_renderItems",this).call(this,t);this._queueIsNotEmpty();){var n=this._shiftItemFromQueue();this._createComponent(n.$item,e,Object(a.a)({itemTemplate:this.option("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this.option("onItemHold"),onItemClick:this.option("onItemClick"),onItemContextMenu:this.option("onItemContextMenu"),onItemRendered:this.option("onItemRendered"),_queue:this._queue},n.config))}this._layout.renderItems(this._itemElements())}},{key:"_renderItemContent",value:function(t){var n=t.itemData&&t.itemData.node;return n?this._renderItemContentByNode(t,n):Object(D.a)(Object(I.a)(e.prototype),"_renderItemContent",this).call(this,t)}},{key:"_postprocessRenderItem",value:function(t){var e=t.itemData.box;e&&this._pushItemToQueue(t.itemContent,e)}},{key:"_createItemByTemplate",value:function(t,n){return n.itemData.box?t.source?t.source():Object(r.a)():Object(D.a)(Object(I.a)(e.prototype),"_createItemByTemplate",this).call(this,t,n)}},{key:"_itemOptionChanged",value:function(t,n,i,o){"visible"===n&&this._onItemStateChanged({name:n,state:i,oldState:!1!==o}),Object(D.a)(Object(I.a)(e.prototype),"_itemOptionChanged",this).call(this,t,n,i)}},{key:"_optionChanged",value:function(t){switch(t.name){case"_queue":case"direction":this._invalidate();break;case"align":this._layout.renderAlign();break;case"crossAlign":this._layout.renderCrossAlign();break;default:Object(D.a)(Object(I.a)(e.prototype),"_optionChanged",this).call(this,t)}}},{key:"_itemOptions",value:function(){var t=this,n=Object(D.a)(Object(I.a)(e.prototype),"_itemOptions",this).call(this);return n.fireItemStateChangedAction=function(e){t._onItemStateChanged(e)},n}}]),e}(qt.a);ie.ItemClass=ee,Object(u.a)("dxBox",ie);var oe=ie,re=qt.a.inherit({_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{rows:[],cols:[],screenByWidth:null,singleColumnScreen:"",height:"100%",width:"100%",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,onLayoutChanged:null,currentScreenFactor:void 0})},_init:function(){this.option("screenByWidth")||this._options.silent("screenByWidth",vt.a),this.callBase(),this._initLayoutChangedAction()},_initLayoutChangedAction:function(){this._layoutChangedAction=this._createActionByOption("onLayoutChanged",{excludeValidators:["disabled","readonly"]})},_itemClass:function(){return"dx-box-item"},_itemDataKey:function(){return"dxBoxItemData"},_initMarkup:function(){this.callBase(),this.$element().addClass("dx-responsivebox")},_renderItems:function(){this._setScreenSize(),this._screenItems=this._itemsByScreen(),this._prepareGrid(),this._spreadItems(),this._layoutItems(),this._linkNodeToItem()},_itemOptionChanged:function(t){var e=this._findItemElementByItem(t);e.length&&(this._refreshItem(e,t),this._clearItemNodeTemplates(),this._update(!0))},_setScreenSize:function(){var t=this._getCurrentScreen();this._removeScreenSizeClass(),this.$element().addClass("dx-responsivebox-screen-"+t),this.option("currentScreenFactor",t)},_removeScreenSizeClass:function(){var t=this.option("currentScreenFactor");t&&this.$element().removeClass("dx-responsivebox-screen-"+t)},_prepareGrid:function(){var t=this._grid=[];this._prepareRowsAndCols(),Object(X.a)(this._rows,function(){var e=[];t.push(e),Object(X.a)(this._cols,function(){e.push(this._createEmptyCell())}.bind(this))}.bind(this))},getSingleColumnRows:function(){var t=this.option("rows"),e=this._screenItems.length;if(t.length){for(var n=this._filterByScreen(t),i=[],o=0;o<e;o++){var r=this._defaultSizeConfig();o<n.length&&Object(s.d)(n[o].shrink)&&(r.shrink=n[o].shrink),i.push(r)}return i}return this._defaultSizeConfig(e)},_prepareRowsAndCols:function(){this._isSingleColumnScreen()?(this._prepareSingleColumnScreenItems(),this._rows=this.getSingleColumnRows(),this._cols=this._defaultSizeConfig(1)):(this._rows=this._sizesByScreen(this.option("rows")),this._cols=this._sizesByScreen(this.option("cols")))},_isSingleColumnScreen:function(){return this._screenRegExp().test(this.option("singleColumnScreen"))||!this.option("rows").length||!this.option("cols").length},_prepareSingleColumnScreenItems:function(){this._screenItems.sort(function(t,e){return t.location.row-e.location.row||t.location.col-e.location.col}),Object(X.a)(this._screenItems,function(t,e){Object(a.a)(e.location,{row:t,col:0,rowspan:1,colspan:1})})},_sizesByScreen:function(t){return Object(X.b)(this._filterByScreen(t),function(t){return Object(a.a)(this._defaultSizeConfig(),t)}.bind(this))},_createDefaultSizeConfig:function(){return{ratio:1,baseSize:0,minSize:0,maxSize:0}},_defaultSizeConfig:function(t){var e=this._createDefaultSizeConfig();if(!arguments.length)return e;for(var n=[],i=0;i<t;i++)n.push(e);return n},_filterByScreen:function(t){var e=this._screenRegExp();return Object(c.grep)(t,function(t){return!t.screen||e.test(t.screen)})},_screenRegExp:function(){var t=this._getCurrentScreen();return new RegExp("(^|\\s)"+t+"($|\\s)","i")},_getCurrentScreen:function(){var t=this._screenWidth();return this.option("screenByWidth")(t)},_screenWidth:function(){return Object(vt.f)()?Object(Ht.k)(Object(vt.d)()):1920},_createEmptyCell:function(){return{item:{},location:{colspan:1,rowspan:1}}},_spreadItems:function(){Object(X.a)(this._screenItems,function(t,e){var n=e.location||{},i=n.col,o=n.row,r=this._grid[o],a=r&&r[i];this._occupyCells(a,e)}.bind(this))},_itemsByScreen:function(){var t=this;return this.option("items").reduce(function(e,n){var i=n.location||{};return i=Object(s.k)(i)?[i]:i,t._filterByScreen(i).forEach(function(t){e.push({item:n,location:Object(a.a)({rowspan:1,colspan:1},t)})}),e},[])},_occupyCells:function(t,e){t&&!this._isItemCellOccupied(t,e)&&(Object(a.a)(t,e),this._markSpanningCell(t))},_isItemCellOccupied:function(t,e){if(!Object(s.e)(t.item))return!0;var n=!1;return this._loopOverSpanning(e.location,function(t){n=n||!Object(s.e)(t.item)}),n},_loopOverSpanning:function(t,e){var n=t.row+t.rowspan-1,i=t.col+t.colspan-1,o=Math.min(n,this._rows.length-1),r=Math.min(i,this._cols.length-1);t.rowspan-=n-o,t.colspan-=i-r;for(var a=t.row;a<=o;a++)for(var s=t.col;s<=r;s++)a===t.row&&s===t.col||e(this._grid[a][s])},_markSpanningCell:function(t){this._loopOverSpanning(t.location,function(e){Object(a.a)(e,{item:t.item,spanningCell:t})})},_linkNodeToItem:function(){Object(X.a)(this._itemElements(),function(t,e){var n=Object(r.a)(e),i=n.data("dxBoxItemData");i.box||(i.node=n.children())})},_layoutItems:function(){var t=this._grid.length,e=t&&this._grid[0].length;if(t||e){var n=this._layoutBlock({direction:"col",row:{start:0,end:t-1},col:{start:0,end:e-1}}),i=this._prepareBoxConfig(n.box||{direction:"row",items:[Object(a.a)(n,{ratio:1})]});Object(a.a)(i,this._rootBoxConfig(i.items)),this._$root=Object(r.a)("<div>").appendTo(this._itemContainer()),this._createComponent(this._$root,oe,i)}},_rootBoxConfig:function(t){return{width:"100%",height:"100%",items:Object(X.a)(t,function(t,e){this._needApplyAutoBaseSize(e)&&Object(a.a)(e,{baseSize:"auto"})}.bind(this)),itemTemplate:this._getTemplateByOption("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this._createActionByOption("onItemHold"),onItemClick:this._createActionByOption("onItemClick"),onItemContextMenu:this._createActionByOption("onItemContextMenu"),onItemRendered:this._createActionByOption("onItemRendered")}},_needApplyAutoBaseSize:function(t){return!t.baseSize&&(!t.minSize||"auto"===t.minSize)&&(!t.maxSize||"auto"===t.maxSize)},_prepareBoxConfig:function(t){return Object(a.a)(t||{},{crossAlign:"stretch",onItemStateChanged:this.option("onItemStateChanged")})},_layoutBlock:function(t){return this._isSingleItem(t)?this._itemByCell(t.row.start,t.col.start):this._layoutDirection(t)},_isSingleItem:function(t){var e=this._grid[t.row.start][t.col.start].location,n=t.row.end-t.row.start===e.rowspan-1,i=t.col.end-t.col.start===e.colspan-1;return n&&i},_itemByCell:function(t,e){var n=this._grid[t][e];return n.spanningCell?null:n.item},_layoutDirection:function(t){for(var e,n=[],i=t.direction,o=this._crossDirection(i);e=this._nextBlock(t);){if(this._isBlockIndivisible(t.prevBlockOptions,e))throw p.a.Error("E1025");var r=this._layoutBlock({direction:o,row:e.row,col:e.col,prevBlockOptions:t});r&&(Object(a.a)(r,this._blockSize(e,o)),n.push(r)),t[o].start=e[o].end+1}return{box:this._prepareBoxConfig({direction:i,items:n})}},_isBlockIndivisible:function(t,e){return t&&t.col.start===e.col.start&&t.col.end===e.col.end&&t.row.start===e.row.start&&t.row.end===e.row.end},_crossDirection:function(t){return"col"===t?"row":"col"},_nextBlock:function(t){var e=t.direction,n=this._crossDirection(e),i=t[e].start,o=t[e].end,r=t[n].start;if(r>t[n].end)return null;for(var a=1,s=r;s<r+a;s++){for(var l=1,c=i;c<=o;c++){var u=this._cellByDirection(e,c,s);l=Math.max(l,u.location[n+"span"])}var h=s+l,d=r+a;h>d&&(a+=h-d)}var p={};return p[e]={start:i,end:o},p[n]={start:r,end:r+a-1},p},_cellByDirection:function(t,e,n){return"col"===t?this._grid[n][e]:this._grid[e][n]},_blockSize:function(t,e){for(var n="row"===e?"auto":0,i="row"===e?this._rows:this._cols,o=Object(a.a)(this._createDefaultSizeConfig(),{ratio:0}),r=t[e].start;r<=t[e].end;r++){var l=i[r];o.ratio+=l.ratio,o.baseSize+=l.baseSize,o.minSize+=l.minSize,o.maxSize+=l.maxSize,Object(s.d)(l.shrink)&&(o.shrink=l.shrink)}return o.minSize=o.minSize?o.minSize:n,o.maxSize=o.maxSize?o.maxSize:"auto",this._isSingleColumnScreen()&&(o.baseSize="auto"),o},_update:function(t){var e=this._$root;this._renderItems(),e&&(t?e.remove():(e.detach(),this._saveAssistantRoot(e))),this._layoutChangedAction()},_saveAssistantRoot:function(t){this._assistantRoots=this._assistantRoots||[],this._assistantRoots.push(t)},_dispose:function(){this._clearItemNodeTemplates(),this._cleanUnusedRoots(),this.callBase.apply(this,arguments)},_cleanUnusedRoots:function(){this._assistantRoots&&Object(X.a)(this._assistantRoots,function(t,e){Object(r.a)(e).remove()})},_clearItemNodeTemplates:function(){Object(X.a)(this.option("items"),function(){delete this.node})},_attachClickEvent:c.noop,_optionChanged:function(t){switch(t.name){case"rows":case"cols":case"screenByWidth":case"singleColumnScreen":this._clearItemNodeTemplates(),this._invalidate();break;case"width":case"height":this.callBase(t),this._update();break;case"onLayoutChanged":this._initLayoutChangedAction();break;case"itemTemplate":this._clearItemNodeTemplates(),this.callBase(t);break;case"currentScreenFactor":break;default:this.callBase(t)}},_dimensionChanged:function(){this._getCurrentScreen()!==this.option("currentScreenFactor")&&this._update()},repaint:function(){this._update()}});Object(u.a)("dxResponsiveBox",re);var ae=re,se="dx-field-item-label-content",le="dx-field-item-label",ce="dx-field-item-content",ue="simple",he=n(101),de=(n(176),n(48)),pe=n(28),fe=n(157),me=function(t){return t.getMonth()+1},ge=function(t,e){var n=t.getDate(),i=be("M",t),o=Object(pe.b)(parseInt(e),i.min,i.max);t.setMonth(o-1,1);var r=be("dM",t),a=r.min,s=r.max,l=Object(pe.b)(n,a,s);t.setDate(l)},ve={a:function(t){return t.getHours()<12?0:1},E:"getDay",y:"getFullYear",M:me,L:me,d:"getDate",H:"getHours",h:"getHours",m:"getMinutes",s:"getSeconds",S:"getMilliseconds"},ye=Object(a.a)({},Object(fe.b)(),{a:function(t,e){var n=t.getHours();n>=12!==!!parseInt(e)&&t.setHours((n+12)%24)},d:function(t,e){e>be("dM",t).max&&t.setMonth(t.getMonth()+1),t.setDate(e)},h:function(t,e){var n=t.getHours()>=12;t.setHours(+e%12+(n?12:0))},M:ge,L:ge,E:function(t,e){e<0||t.setDate(t.getDate()-t.getDay()+parseInt(e))},y:function(t,e){var n=t.getFullYear(),i=String(e).length,o=String(be("y",t).max).length,r=parseInt(String(n).substr(0,o-i)+e);t.setFullYear(r)}}),_e=function(t,e){for(var n=e.regexp.exec(t),i=0,o=0,r=[],a=function(t){o=(i=o)+n[t].length;var a,s=e.patterns[t-1].replace(/^'|'$/g,""),l=(a=s[0],ve[a]||function(){return a});r.push({index:t-1,isStub:s===n[t],caret:{start:i,end:o},pattern:s,text:n[t],limits:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return be.apply(void 0,[s[0]].concat(e))},setter:ye[s[0]]||c.noop,getter:l})},s=1;s<n.length;s++)a(s);return r},be=function(t,e,n){var i={y:{min:0,max:9999},M:{min:1,max:12},L:{min:1,max:12},d:{min:1,max:31},dM:{min:1,max:new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},E:{min:0,max:6},H:{min:0,max:23},h:{min:0,max:23},m:{min:0,max:59},s:{min:0,max:59},S:{min:0,max:999},a:{min:0,max:1}};return i[n||t]||i.getAmPm},Ce=n(39),Oe=n(156),xe=n(64),Se=n(23),we=n(67),Pe=["year","day","month","day"],ke=["hours","minutes","seconds","milliseconds"],Ee={SUPPORTED_FORMATS:["date","time","datetime"],ONE_MINUTE:6e4,ONE_DAY:864e5,ONE_YEAR:31536e6,MIN_DATEVIEW_DEFAULT_DATE:new Date(1900,0,1),MAX_DATEVIEW_DEFAULT_DATE:function(){var t=new Date;return new Date(t.getFullYear()+50,t.getMonth(),t.getDate(),23,59,59)}(),FORMATS_INFO:{date:{getStandardPattern:function(){return"yyyy-MM-dd"},components:Pe},time:{getStandardPattern:function(){return"HH:mm"},components:ke},datetime:{getStandardPattern:function(){var t;return function(){var e=Object(r.a)("<input>").attr("type","datetime");e.val("2000-01-01T01:01Z"),e.val()&&(t="yyyy-MM-ddTHH:mmZ")}(),t||(t="yyyy-MM-ddTHH:mm:ssZ"),Ee.FORMATS_INFO.datetime.getStandardPattern=function(){return t},t},components:[].concat(Pe,ke)},"datetime-local":{getStandardPattern:function(){return"yyyy-MM-ddTHH:mm:ss"},components:[].concat(Pe,["hours","minutes","seconds"])}},FORMATS_MAP:{date:"shortdate",time:"shorttime",datetime:"shortdateshorttime"},SUBMIT_FORMATS_MAP:{date:"date",time:"time",datetime:"datetime-local"},toStandardDateFormat:function(t,e){var n=Ee.FORMATS_INFO[e].getStandardPattern();return we.a.serializeDate(t,n)},fromStandardDateFormat:function(t){var e=we.a.dateParser(t);return Object(s.b)(e)?e:void 0},getMaxMonthDay:function(t,e){return new Date(t,e+1,0).getDate()},mergeDates:function(t,e,n){if(!e)return e||null;if(!t||isNaN(t.getTime())){var i=new Date(null);t=new Date(i.getFullYear(),i.getMonth(),i.getDate())}var o=new Date(t.valueOf()),r=Ee.FORMATS_INFO[n];return Object(X.a)(r.components,function(){var t=Ee.DATE_COMPONENTS_INFO[this];o[t.setter](e[t.getter]())}),o},getLongestCaptionIndex:function(t){var e,n=0,i=0;for(e=0;e<t.length;++e)t[e].length>i&&(n=e,i=t[e].length);return n},formatUsesMonthName:function(t){return Ce.a.formatUsesMonthName(t)},formatUsesDayName:function(t){return Ce.a.formatUsesDayName(t)},getLongestDate:function(t,e,n){var i=function(t){var e=typeof t;return"string"===e?"format":"object"===e&&void 0!==t.type?t.type:null}(t),o=9;i&&!Ee.formatUsesMonthName(i)||(o=Ee.getLongestCaptionIndex(e));var r=new Date(1888,o,21,23,59,59,999);if(!i||Ee.formatUsesDayName(i)){var a=r.getDate()-r.getDay()+Ee.getLongestCaptionIndex(n);r.setDate(a)}return r},normalizeTime:function(t){t.setSeconds(0),t.setMilliseconds(0)}};Ee.DATE_COMPONENTS_INFO={year:{getter:"getFullYear",setter:"setFullYear",formatter:function(t,e){var n=new Date(e.getTime());return n.setFullYear(t),Ce.a.format(n,"yyyy")},startValue:void 0,endValue:void 0},day:{getter:"getDate",setter:"setDate",formatter:function(t,e){var n=new Date(e.getTime());return n.setDate(t),Ce.a.format(n,"d")},startValue:1,endValue:void 0},month:{getter:"getMonth",setter:"setMonth",formatter:function(t){return Ce.a.getMonthNames()[t]},startValue:0,endValue:11},hours:{getter:"getHours",setter:"setHours",formatter:function(t){return Ce.a.format(new Date(0,0,0,t),"hour")},startValue:0,endValue:23},minutes:{getter:"getMinutes",setter:"setMinutes",formatter:function(t){return Ce.a.format(new Date(0,0,0,0,t),"minute")},startValue:0,endValue:59},seconds:{getter:"getSeconds",setter:"setSeconds",formatter:function(t){return Ce.a.format(new Date(0,0,0,0,0,t),"second")},startValue:0,endValue:59},milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",formatter:function(t){return Ce.a.format(new Date(0,0,0,0,0,0,t),"millisecond")},startValue:0,endValue:999}};var Te=Ee,Ie=n(166),je=n(65),Me=n(181),De=gt.a.inherit({_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{onClick:null,onCaptionClick:null,text:""})},_init:function(){this.callBase(),this._initActions()},_initActions:function(){this._clickAction=this._createActionByOption("onClick"),this._captionClickAction=this._createActionByOption("onCaptionClick")},_initMarkup:function(){this.callBase(),this.$element().addClass("dx-calendar-navigator"),this._renderButtons(),this._renderCaption()},_renderButtons:function(){var t=this,e=this.option("rtlEnabled")?-1:1;this._prevButton=this._createComponent(Object(r.a)("<a>"),je.default,{focusStateEnabled:!1,icon:"chevronleft",onClick:function(n){t._clickAction({direction:-e,event:n})},integrationOptions:{}});var n=this._prevButton.$element().addClass("dx-calendar-navigator-previous-view").addClass("dx-calendar-navigator-previous-month");this._nextButton=this._createComponent(Object(r.a)("<a>"),je.default,{focusStateEnabled:!1,icon:"chevronright",onClick:function(n){t._clickAction({direction:e,event:n})},integrationOptions:{}});var i=this._nextButton.$element().addClass("dx-calendar-navigator-next-view").addClass("dx-calendar-navigator-next-month");this._caption=this._createComponent(Object(r.a)("<a>").addClass("dx-calendar-caption-button"),je.default,{focusStateEnabled:!1,onClick:function(e){t._captionClickAction({event:e})},integrationOptions:{}});var o=this._caption.$element();this.$element().append(n,o,i)},_renderCaption:function(){this._caption.option("text",this.option("text"))},toggleButton:function(t,e){var n=this["_"+t+"Button"];n&&(n.option("disabled",e),n.$element().toggleClass("dx-calendar-disabled-navigator-link",e))},_optionChanged:function(t){switch(t.name){case"text":this._renderCaption();break;default:this.callBase(t)}}}),Ae=n(17),Re=n(54),Be=gt.a.abstract,Le=Object(v.a)(Re.a,"dxCalendar"),Ne=gt.a.inherit({_getViewName:function(){return"base"},_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{date:new Date,focusStateEnabled:!1,cellTemplate:null,disabledDates:null,onCellClick:null,rowCount:3,colCount:4,allowValueSelection:!0,_todayDate:function(){return new Date}})},_initMarkup:function(){this.callBase(),this._renderImpl()},_renderImpl:function(){this.$element().append(this._createTable()),this._createDisabledDatesHandler(),this._renderBody(),this._renderContouredDate(),this._renderValue(),this._renderEvents()},_createTable:function(){return this._$table=Object(r.a)("<table>"),this.setAria({label:J.a.format("dxCalendar-ariaWidgetName"),role:"grid"},this._$table),this._$table},_renderBody:function(){this.$body=Object(r.a)("<tbody>").appendTo(this._$table);for(var t={cellDate:this._getFirstCellData(),prevCellDate:null},e=0,n=this.option("rowCount");e<n;e++){t.row=this._createRow();for(var i=0,o=this.option("colCount");i<o;i++)this._renderCell(t,i);this._renderWeekNumberCell(t)}},_createRow:function(){var t=Ae.a.createElement("tr");return this.setAria("role","row",Object(r.a)(t)),this.$body.get(0).appendChild(t),t},_appendCell:function(t,e){this._appendMethodName||this._cacheAppendMethodName(),Object(r.a)(t)[this._appendMethodName](e)},_cacheAppendMethodName:function(t){this._appendMethodName=(null!==t&&void 0!==t?t:this.option("rtlEnabled"))?"prepend":"append"},_createCell:function(t){var e=Ae.a.createElement("td"),n=Object(r.a)(e);return e.className=this._getClassNameByDate(t),e.setAttribute("data-value",we.a.serializeDate(t,Se.a.getShortDateFormat())),Object(wt.c)(e,"dxDateValueKey",t),this.setAria({role:"gridcell",label:this.getCellAriaLabel(t)},n),{cell:e,$cell:n}},_renderCell:function(t,e){var n=t.cellDate,i=t.prevCellDate,o=t.row;i&&Se.a.fixTimezoneGap(i,n),t.prevCellDate=n;var r=this._createCell(n),a=r.cell,s=r.$cell,l=this.option("cellTemplate");this._appendCell(o,a),l?l.render(this._prepareCellTemplateData(n,e,s)):a.innerHTML=this._getCellText(n),t.cellDate=this._getNextCellData(n)},_getClassNameByDate:function(t){var e="dx-calendar-cell";return this._isTodayCell(t)&&(e+=" ".concat("dx-calendar-today")),(this._isDateOutOfRange(t)||this.isDateDisabled(t))&&(e+=" ".concat("dx-calendar-empty-cell")),this._isOtherView(t)&&(e+=" ".concat("dx-calendar-other-view")),e},_prepareCellTemplateData:function(t,e,n){var i=t instanceof Date;return{model:{text:i?this._getCellText(t):t,date:i?t:void 0,view:this._getViewName()},container:Object(l.a)(n),index:e}},_renderEvents:function(){var t=this;this._createCellClickAction(),g.a.off(this._$table,Le),g.a.on(this._$table,Le,"td:not(.".concat("dx-calendar-week-number-cell",")"),function(e){Object(r.a)(e.currentTarget).hasClass("dx-calendar-empty-cell")||t._cellClickAction({event:e,value:Object(r.a)(e.currentTarget).data("dxDateValueKey")})})},_createCellClickAction:function(){this._cellClickAction=this._createActionByOption("onCellClick")},_createDisabledDatesHandler:function(){var t=this.option("disabledDates");this._disabledDatesHandler=Array.isArray(t)?this._getDefaultDisabledDatesHandler(t):t||c.noop},_getDefaultDisabledDatesHandler:function(t){return c.noop},_isTodayCell:Be,_isDateOutOfRange:Be,isDateDisabled:function(t){var e={date:t,view:this._getViewName()};return this._disabledDatesHandler(e)},_isOtherView:Be,_getCellText:Be,_getFirstCellData:Be,_getNextCellData:Be,_renderContouredDate:function(t){if(this.option("focusStateEnabled")){t=t||this.option("contouredDate");var e=this._getContouredCell(),n=this._getCellByDate(t);e.removeClass("dx-calendar-contoured-date"),n.addClass("dx-calendar-contoured-date")}},_getContouredCell:function(){return this._$table.find(".".concat("dx-calendar-contoured-date"))},_changeValue:function(t){if(t){var e=this.option("value"),n=e?new Date(e):new Date;n.setDate(t.getDate()),n.setMonth(t.getMonth()),n.setFullYear(t.getFullYear()),n.setDate(t.getDate()),this.option("value",n)}else this.option("value",null)},_renderValue:function(){if(this.option("allowValueSelection")){var t=this.option("value"),e=this._getCellByDate(t);this._selectedCell&&this._selectedCell.removeClass("dx-calendar-selected-date"),e.addClass("dx-calendar-selected-date"),this._selectedCell=e}},getCellAriaLabel:function(t){return this._getCellText(t)},_getFirstAvailableDate:function(){var t=this.option("date"),e=this.option("min");return t=Se.a.getFirstDateView(this._getViewName(),t),new Date(e&&t<e?e:t)},_getCellByDate:Be,isBoundary:Be,_optionChanged:function(t){var e=t.name,n=t.value;switch(e){case"value":this._renderValue();break;case"contouredDate":this._renderContouredDate(n);break;case"onCellClick":this._createCellClickAction();break;case"disabledDates":case"cellTemplate":this._invalidate();break;case"rtlEnabled":this._cacheAppendMethodName(n),this.callBase(t);break;case"_todayDate":this._renderBody();break;default:this.callBase(t)}}}),ze={month:Ne.inherit({_getViewName:function(){return"month"},_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{firstDayOfWeek:0,rowCount:6,colCount:7})},_renderImpl:function(){this.callBase(),this._renderHeader()},_renderBody:function(){this.callBase(),this._$table.find(".".concat("dx-calendar-other-view")).addClass("dx-calendar-other-month")},_renderFocusTarget:c.noop,getCellAriaLabel:function(t){return Ce.a.format(t,"longdate")},_renderHeader:function(){var t=Object(r.a)("<tr>"),e=Object(r.a)("<thead>").append(t);this._$table.prepend(e);for(var n=0,i=this.option("colCount");n<i;n++)this._renderHeaderCell(n,t);this.option("showWeekNumbers")&&this._renderWeekHeaderCell(t)},_renderHeaderCell:function(t,e){var n=this.option().firstDayOfWeek,i=this._getDayCaption(n+t),o=i.full,a=i.abbreviated,s=Object(r.a)("<th>").attr({scope:"col",abbr:o}).text(a);this._appendCell(e,s)},_renderWeekHeaderCell:function(t){var e=Object(r.a)("<th>").attr({scope:"col",abbr:"WeekNumber",class:"dx-week-number-header"}).text("#");this.option("rtlEnabled")?t.append(e):t.prepend(e)},_renderWeekNumberCell:function(t){var e=this.option(),n=e.showWeekNumbers,i=e.rtlEnabled,o=e.cellTemplate;if(n){var a=this._getWeekNumber(t.prevCellDate),s=Ae.a.createElement("td"),l=Object(r.a)(s);s.className="dx-calendar-week-number-cell",o?o.render(this._prepareCellTemplateData(a,-1,l)):s.innerHTML=a,i?t.row.append(s):t.row.prepend(s),this.setAria({role:"gridcell",label:"Week ".concat(a)},l)}},_getWeekNumber:function(t){var e=this.option(),n=e.weekNumberRule,i=e.firstDayOfWeek;return"auto"===n?Se.a.getWeekNumber(t,i,1===i?"firstFourDays":"firstDay"):Se.a.getWeekNumber(t,i,n)},getNavigatorCaption:function(){return Ce.a.format(this.option("date"),"monthandyear")},_isTodayCell:function(t){var e=this.option("_todayDate")();return Se.a.sameDate(t,e)},_isDateOutOfRange:function(t){var e=this.option("min"),n=this.option("max");return!Se.a.dateInRange(t,e,n,"date")},_isOtherView:function(t){return t.getMonth()!==this.option("date").getMonth()},_getCellText:function(t){return Ce.a.format(t,"d")},_getDayCaption:function(t){var e=t%this.option("colCount");return{full:Ce.a.getDayNames()[e],abbreviated:Ce.a.getDayNames("abbreviated")[e]}},_getFirstCellData:function(){var t=this.option().firstDayOfWeek,e=Se.a.getFirstMonthDate(this.option("date")),n=t-e.getDay(),i=this.option("colCount");return n>=0&&(n-=i),e.setDate(e.getDate()+n),e},_getNextCellData:function(t){return(t=new Date(t)).setDate(t.getDate()+1),t},_getCellByDate:function(t){return this._$table.find("td[data-value='".concat(we.a.serializeDate(t,Se.a.getShortDateFormat()),"']"))},isBoundary:function(t){return Se.a.sameMonthAndYear(t,this.option("min"))||Se.a.sameMonthAndYear(t,this.option("max"))},_getDefaultDisabledDatesHandler:function(t){return function(e){if(t.some(function(t){return Se.a.sameDate(t,e.date)}))return!0}}}),year:Ne.inherit({_getViewName:function(){return"year"},_isTodayCell:function(t){var e=this.option("_todayDate")();return Se.a.sameMonthAndYear(t,e)},_isDateOutOfRange:function(t){return!Se.a.dateInRange(t,Se.a.getFirstMonthDate(this.option("min")),Se.a.getLastMonthDate(this.option("max")))},_isOtherView:function(){return!1},_getCellText:function(t){return Ce.a.getMonthNames("abbreviated")[t.getMonth()]},_getFirstCellData:function(){var t=this.option("date"),e=new Date(t);return e.setDate(1),e.setMonth(0),e},_getNextCellData:function(t){return(t=new Date(t)).setMonth(t.getMonth()+1),t},_getCellByDate:function(t){var e=new Date(t);return e.setDate(1),this._$table.find("td[data-value='".concat(we.a.serializeDate(e,Se.a.getShortDateFormat()),"']"))},getCellAriaLabel:function(t){return Ce.a.format(t,"monthandyear")},getNavigatorCaption:function(){return Ce.a.format(this.option("date"),"yyyy")},isBoundary:function(t){return Se.a.sameYear(t,this.option("min"))||Se.a.sameYear(t,this.option("max"))},_renderWeekNumberCell:c.noop}),decade:Ne.inherit({_getViewName:function(){return"decade"},_isTodayCell:function(t){var e=this.option("_todayDate")();return Se.a.sameYear(t,e)},_isDateOutOfRange:function(t){var e=this.option("min"),n=this.option("max");return!Se.a.dateInRange(t.getFullYear(),e&&e.getFullYear(),n&&n.getFullYear())},_isOtherView:function(t){var e=new Date(t);return e.setMonth(1),!Se.a.sameDecade(e,this.option("date"))},_getCellText:function(t){return Ce.a.format(t,"yyyy")},_getFirstCellData:function(){var t=Se.a.getFirstYearInDecade(this.option("date"))-1;return Se.a.createDateWithFullYear(t,0,1)},_getNextCellData:function(t){return(t=new Date(t)).setFullYear(t.getFullYear()+1),t},getNavigatorCaption:function(){var t=this.option("date"),e=Se.a.getFirstYearInDecade(t),n=new Date(t),i=new Date(t);return n.setFullYear(e),i.setFullYear(e+9),Ce.a.format(n,"yyyy")+"-"+Ce.a.format(i,"yyyy")},_isValueOnCurrentView:function(t,e){return Se.a.sameDecade(t,e)},_getCellByDate:function(t){var e=new Date(t);return e.setDate(1),e.setMonth(0),this._$table.find("td[data-value='".concat(we.a.serializeDate(e,Se.a.getShortDateFormat()),"']"))},isBoundary:function(t){return Se.a.sameDecade(t,this.option("min"))||Se.a.sameDecade(t,this.option("max"))},_renderWeekNumberCell:c.noop}),century:Ne.inherit({_getViewName:function(){return"century"},_isTodayCell:function(t){var e=this.option("_todayDate")();return Se.a.sameDecade(t,e)},_isDateOutOfRange:function(t){var e=Se.a.getFirstYearInDecade(t),n=Se.a.getFirstYearInDecade(this.option("min")),i=Se.a.getFirstYearInDecade(this.option("max"));return!Se.a.dateInRange(e,n,i)},_isOtherView:function(t){var e=new Date(t);return e.setMonth(1),!Se.a.sameCentury(e,this.option("date"))},_getCellText:function(t){var e=Ce.a.format(t,"yyyy"),n=new Date(t);return n.setFullYear(n.getFullYear()+9),e+" - "+Ce.a.format(n,"yyyy")},_getFirstCellData:function(){var t=Se.a.getFirstDecadeInCentury(this.option("date"))-10;return Se.a.createDateWithFullYear(t,0,1)},_getNextCellData:function(t){return(t=new Date(t)).setFullYear(t.getFullYear()+10),t},_getCellByDate:function(t){var e=new Date(t);return e.setDate(1),e.setMonth(0),e.setFullYear(Se.a.getFirstYearInDecade(e)),this._$table.find("td[data-value='".concat(we.a.serializeDate(e,Se.a.getShortDateFormat()),"']"))},getNavigatorCaption:function(){var t=this.option("date"),e=Se.a.getFirstDecadeInCentury(t),n=new Date(t),i=new Date(t);return n.setFullYear(e),i.setFullYear(e+99),Ce.a.format(n,"yyyy")+"-"+Ce.a.format(i,"yyyy")},isBoundary:function(t){return Se.a.sameCentury(t,this.option("min"))||Se.a.sameCentury(t,this.option("max"))},_renderWeekNumberCell:c.noop})},Fe=n(34),He=n(57),Ve=n(138),Ue="dx-state-focused",We={month:3,year:2,decade:1,century:0},Ke="month",$e="year",Ge="decade",qe="century";var Ze=d.a.inherit({_activeStateUnit:".dx-calendar-cell",_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,currentDate:new Date,value:null,dateSerializationFormat:void 0,min:new Date(1e3,0),max:new Date(3e3,0),firstDayOfWeek:void 0,zoomLevel:Ke,maxZoomLevel:Ke,minZoomLevel:qe,showTodayButton:!1,showWeekNumbers:!1,weekNumberRule:"auto",cellTemplate:"cell",disabledDates:null,onCellClick:null,onContouredChanged:null,skipFocusCheck:!1,_todayDate:function(){return new Date}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===O.a.real().deviceType&&!O.a.isSimulator()},options:{focusStateEnabled:!0}}])},_supportedKeys:function(){return Object(a.a)(this.callBase(),{rightArrow:function(t){t.preventDefault(),Object(v.i)(t)?this._waitRenderView(1):this._moveCurrentDateByOffset(1*this._getRtlCorrection())},leftArrow:function(t){t.preventDefault(),Object(v.i)(t)?this._waitRenderView(-1):this._moveCurrentDateByOffset(-1*this._getRtlCorrection())},upArrow:function(t){if(t.preventDefault(),Object(v.i)(t))this._navigateUp();else{if(He.a.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(-1*this._view.option("colCount"))}},downArrow:function(t){if(t.preventDefault(),Object(v.i)(t))this._navigateDown();else{if(He.a.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(1*this._view.option("colCount"))}},home:function(t){t.preventDefault();var e=this.option("zoomLevel"),n=this.option("currentDate"),i=this._dateOption("min");if(!this._view.isDateDisabled(n)){var o=Se.a.sameView(e,n,i)?i:Se.a.getViewFirstCellDate(e,n);this._moveToClosestAvailableDate(o)}},end:function(t){t.preventDefault();var e=this.option("zoomLevel"),n=this.option("currentDate"),i=this._dateOption("max");if(!this._view.isDateDisabled(n)){var o=Se.a.sameView(e,n,i)?i:Se.a.getViewLastCellDate(e,n);this._moveToClosestAvailableDate(o)}},pageUp:function(t){t.preventDefault(),this._waitRenderView(-1*this._getRtlCorrection())},pageDown:function(t){t.preventDefault(),this._waitRenderView(1*this._getRtlCorrection())},tab:c.noop,enter:function(t){if(this._isMaxZoomLevel()){if(!this._view.isDateDisabled(this.option("currentDate"))){var e=this._updateTimeComponent(this.option("currentDate"));this._dateValue(e,t)}}else this._navigateDown()}})},_getSerializationFormat:function(t){var e=this.option(t||"value");return this.option("dateSerializationFormat")?this.option("dateSerializationFormat"):Object(s.i)(e)?"number":Object(s.o)(e)?we.a.getDateSerializationFormat(e):void 0},_convertToDate:function(t,e){return we.a.deserializeDate(t)},_dateValue:function(t,e){if(e){if("keydown"===e.type){var n=this._view._getContouredCell().get(0);e.target=n}this._saveValueChangeEvent(e)}this._dateOption("value",t)},_dateOption:function(t,e){if(1===arguments.length)return this._convertToDate(this.option(t),t);var n=this._getSerializationFormat(t);this.option(t,we.a.serializeDate(e,n))},_shiftDate:function(t,e,n,i){switch(t){case Ke:e.setDate(e.getDate()+n*i);break;case $e:e.setMonth(e.getMonth()+n*i);break;case Ge:e.setFullYear(e.getFullYear()+n*i);break;case qe:e.setFullYear(e.getFullYear()+10*n*i)}},_moveCurrentDateByOffset:function(t){var e=this.option("currentDate"),n=new Date(e),i=this.option("zoomLevel");this._shiftDate(i,n,t,1);for(var o=this._getMaxDate(),r=this._getMinDate(),a=this._areDatesInNeighborView(i,n,e),s=Object(pe.e)(n,r,o)&&a,l=new Date(n);s;){if(!this._view.isDateDisabled(l)){n=l;break}this._shiftDate(i,l,t,1),a=this._areDatesInNeighborView(i,l,e),s=Object(pe.e)(l,r,o)&&a}this._view.isDateDisabled(e)||this._view.isDateDisabled(n)?this._waitRenderView(t>0?1:-1):this.option("currentDate",n)},_areDatesInSameView:function(t,e,n){switch(t){case Ke:return e.getMonth()===n.getMonth();case $e:return e.getYear()===n.getYear();case Ge:return parseInt(e.getYear()/10)===parseInt(n.getYear()/10);case qe:return parseInt(e.getYear()/100)===parseInt(n.getYear()/100)}},_areDatesInNeighborView:function(t,e,n){switch(t){case Ke:return i=e.getMonth(),o=n.getMonth(),r=Math.abs(i-o),Math.min(r,12-r)<=1;case $e:return Math.abs(e.getYear()-n.getYear())<=1;case Ge:return Math.abs(e.getYear()-n.getYear())<=10;case qe:return Math.abs(e.getYear()-n.getYear())<=100}var i,o,r},_moveToClosestAvailableDate:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.option("currentDate"),i=new Date(n),o=this.option("zoomLevel"),r=!this._isDateNotAvailable(i),a=r,s=r,l=new Date(i),c=new Date(i);do{if(a){i=l;break}if(s){i=c;break}this._shiftDate(o,l,1,1),this._shiftDate(o,c,1,-1),t=this._areDatesInSameView(o,l,n),e=this._areDatesInSameView(o,c,n),a=t&&!this._isDateNotAvailable(l),s=e&&!this._isDateNotAvailable(c)}while(t||e);this.option("currentDate",i)},_isDateNotAvailable:function(t){var e=this._getMaxDate(),n=this._getMinDate();return!Object(pe.e)(t,n,e)||this._view.isDateDisabled(t)},_init:function(){this.callBase(),this._correctZoomLevel(),this._initCurrentDate(),this._initActions()},_correctZoomLevel:function(){var t=this.option("minZoomLevel"),e=this.option("maxZoomLevel"),n=this.option("zoomLevel");We[e]<We[t]||(We[n]>We[e]?this.option("zoomLevel",e):We[n]<We[t]&&this.option("zoomLevel",t))},_initCurrentDate:function(){var t=this._getNormalizedDate(this._dateOption("value"))||this._getNormalizedDate(this.option("currentDate"));this.option("currentDate",t)},_getNormalizedDate:function(t){return t=Se.a.normalizeDate(t,this._getMinDate(),this._getMaxDate()),Object(s.d)(t)?this._getDate(t):t},_initActions:function(){this._cellClickAction=this._createActionByOption("onCellClick"),this._onContouredChanged=this._createActionByOption("onContouredChanged")},_initTemplates:function(){this._templateManager.addDefaultTemplates({cell:new Ve.a(function(t){var e=t.model;Object(r.a)(t.container).append(Object(r.a)("<span>").text(e&&e.text||String(e)))})}),this.callBase()},_updateCurrentDate:function(t){if(He.a.isAnimating(this._$viewsWrapper)&&He.a.stop(this._$viewsWrapper,!0),this._getMinDate()>this._getMaxDate())this.option("currentDate",new Date);else{var e=this._getNormalizedDate(t);if(t.getTime()===e.getTime()){var n=this._getViewsOffset(this._view.option("date"),e);0!==n&&!this._isMaxZoomLevel()&&this._isOtherViewCellClicked&&(n=0),this._view&&0!==n&&!this._suppressNavigation?this._navigate(n,e):(this._renderNavigator(),this._setViewContoured(e),this._updateAriaId(e))}else this.option("currentDate",new Date(e))}},_setViewContoured:function(t){(this.option("skipFocusCheck")||this._focusTarget().hasClass(Ue))&&this._view.option("contouredDate",t)},_getMinDate:function(){return this.min?this.min:(this.min=this._dateOption("min")||new Date(1e3,0),this.min)},_getMaxDate:function(){return this.max?this.max:(this.max=this._dateOption("max")||new Date(3e3,0),this.max)},_getViewsOffset:function(t,e){var n,i=this.option("zoomLevel");if(i===Ke)return this._getMonthsOffset(t,e);switch(i){case qe:n=100;break;case Ge:n=10;break;default:n=1}return parseInt(e.getFullYear()/n)-parseInt(t.getFullYear()/n)},_getMonthsOffset:function(t,e){return 12*(e.getFullYear()-t.getFullYear())+(e.getMonth()-t.getMonth())},_waitRenderView:function(t){var e=this;if(!this._alreadyViewRender){this._alreadyViewRender=!0;var n=this._getDateByOffset(t*this._getRtlCorrection());this._moveToClosestAvailableDate(n),this._waitRenderViewTimeout=setTimeout(function(){e._alreadyViewRender=!1})}},_getRtlCorrection:function(){return this.option("rtlEnabled")?-1:1},_getDateByOffset:function(t,e){var n,i=(e=this._getDate(null!==(n=e)&&void 0!==n?n:this.option("currentDate"))).getDate(),o=Se.a.getDifferenceInMonth(this.option("zoomLevel"))*t;e.setDate(1),e.setMonth(e.getMonth()+o);var r=Se.a.getLastMonthDate(e).getDate();return e.setDate(i>r?r:i),e},_focusTarget:function(){return this.$element()},_initMarkup:function(){this._renderSubmitElement(),this.callBase();var t=this.$element();t.addClass("dx-calendar"),this._renderBody(),t.append(this.$body),this._renderViews(),this._renderNavigator(),t.append(this._navigator.$element()),this._renderSwipeable(),this._renderFooter(),this._updateAriaSelected(),this._updateAriaId(),this._moveToClosestAvailableDate()},_render:function(){this.callBase(),this._setViewContoured(this.option("currentDate"))},_renderBody:function(){this._$viewsWrapper||(this.$body=Object(r.a)("<div>").addClass("dx-calendar-body"),this._$viewsWrapper=Object(r.a)("<div>").addClass("dx-calendar-views-wrapper"),this.$body.append(this._$viewsWrapper))},_getKeyboardListeners:function(){return this.callBase().concat([this._view])},_renderViews:function(){this.$element().addClass("dx-calendar-view-"+this.option("zoomLevel"));var t=this.option("currentDate");if(this._view=this._renderSpecificView(t),Object(vt.f)()){var e=this._getDateByOffset(-1,t);this._beforeView=this._isViewAvailable(e)?this._renderSpecificView(e):null;var n=this._getDateByOffset(1,t);n.setDate(1),this._afterView=this._isViewAvailable(n)?this._renderSpecificView(n):null}this._translateViews()},_renderSpecificView:function(t){var e=ze[this.option("zoomLevel")],n=Object(r.a)("<div>").appendTo(this._$viewsWrapper),i=this._viewConfig(t);return this._createComponent(n,e,i)},_viewConfig:function(t){var e,n=this.option("disabledDates");return n=Object(s.h)(n)?this._injectComponent(n.bind(this)):n,{date:t,min:this._getMinDate(),max:this._getMaxDate(),firstDayOfWeek:null!==(e=this.option("firstDayOfWeek"))&&void 0!==e?e:Ce.a.firstDayOfWeekIndex(),showWeekNumbers:this.option("showWeekNumbers"),weekNumberRule:this.option("weekNumberRule"),zoomLevel:this.option("zoomLevel"),value:this._dateOption("value"),tabIndex:void 0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),disabledDates:n,onCellClick:this._cellClickHandler.bind(this),cellTemplate:this._getTemplateByOption("cellTemplate"),allowValueSelection:this._isMaxZoomLevel(),_todayDate:this.option("_todayDate")}},_injectComponent:function(t){var e=this;return function(n){return Object(a.a)(n,{component:e}),t(n)}},_isViewAvailable:function(t){var e=this.option("zoomLevel"),n=Se.a.getViewMinBoundaryDate(e,this._getMinDate()),i=Se.a.getViewMaxBoundaryDate(e,this._getMaxDate());return Se.a.dateInRange(t,n,i)},_translateViews:function(){Object(Fe.e)(this._view.$element(),{left:0,top:0}),this._beforeView&&Object(Fe.e)(this._beforeView.$element(),{left:this._getViewPosition(-1),top:0}),this._afterView&&Object(Fe.e)(this._afterView.$element(),{left:this._getViewPosition(1),top:0})},_getViewPosition:function(t){return 100*t*(this.option("rtlEnabled")?-1:1)+"%"},_cellClickHandler:function(t){var e=this.option("zoomLevel"),n=Se.a.getViewDown(e),i=this._isMaxZoomLevel();if(n&&!i)this._navigateDown(t.event.currentTarget);else{var o=this._updateTimeComponent(t.value);this._dateValue(o,t.event),this._cellClickAction(t)}},_updateTimeComponent:function(t){var e=new Date(t),n=this._dateOption("value");return n&&(e.setHours(n.getHours()),e.setMinutes(n.getMinutes()),e.setSeconds(n.getSeconds()),e.setMilliseconds(n.getMilliseconds())),e},_isMaxZoomLevel:function(){return this.option("zoomLevel")===this.option("maxZoomLevel")},_navigateDown:function(t){var e=this.option("zoomLevel");if(!this._isMaxZoomLevel()){var n=Se.a.getViewDown(e);if(n){var i=this._view.option("contouredDate")||this._view.option("date");t&&(i=Object(r.a)(t).data("dxDateValueKey")),this._isOtherViewCellClicked=!0,this.option("currentDate",i),this.option("zoomLevel",n),this._isOtherViewCellClicked=!1,this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate")))}}},_renderNavigator:function(){this._navigator||(this._navigator=new De(Object(r.a)("<div>"),this._navigatorConfig())),this._navigator.option("text",this._view.getNavigatorCaption()),this._updateButtonsVisibility()},_navigatorConfig:function(){return{text:this._view.getNavigatorCaption(),onClick:this._navigatorClickHandler.bind(this),onCaptionClick:this._navigateUp.bind(this),rtlEnabled:this.option("rtlEnabled")}},_navigatorClickHandler:function(t){var e=this._getDateByOffset(t.direction,this.option("currentDate"));this._moveToClosestAvailableDate(e)},_navigateUp:function(){var t=this.option("zoomLevel"),e=Se.a.getViewUp(t);e&&!this._isMinZoomLevel(t)&&(this.option("zoomLevel",e),this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate"))))},_isMinZoomLevel:function(t){var e=this._getMinDate(),n=this._getMaxDate();return Se.a.sameView(t,e,n)||this.option("minZoomLevel")===t},_updateButtonsVisibility:function(){this._navigator.toggleButton("next",!Object(s.d)(this._getRequiredView("next"))),this._navigator.toggleButton("prev",!Object(s.d)(this._getRequiredView("prev")))},_renderSwipeable:function(){this._swipeable||(this._swipeable=this._createComponent(this.$element(),Me.a,{onStart:this._swipeStartHandler.bind(this),onUpdated:this._swipeUpdateHandler.bind(this),onEnd:this._swipeEndHandler.bind(this),itemSizeFunc:this._viewWidth.bind(this)}))},_swipeStartHandler:function(t){He.a.stop(this._$viewsWrapper,!0),t.event.maxLeftOffset=this._getRequiredView("next")?1:0,t.event.maxRightOffset=this._getRequiredView("prev")?1:0},_getRequiredView:function(t){var e,n=this.option("rtlEnabled");return"next"===t?e=n?this._beforeView:this._afterView:"prev"===t&&(e=n?this._afterView:this._beforeView),e},_swipeUpdateHandler:function(t){var e=t.event.offset;Object(Fe.e)(this._$viewsWrapper,{left:e*this._viewWidth(),top:0}),this._updateNavigatorCaption(e)},_swipeEndHandler:function(t){var e=t.event.targetOffset,n=e?e/Math.abs(e):0;if(0!==n){var i=this._getDateByOffset(-n*this._getRtlCorrection());this._isDateInInvalidRange(i)&&(i=n>=0?new Date(this._getMinDate()):new Date(this._getMaxDate())),this.option("currentDate",i)}else this._animateWrapper(0,250)},_viewWidth:function(){return this._viewWidthValue||(this._viewWidthValue=Object(Ht.k)(this.$element())),this._viewWidthValue},_updateNavigatorCaption:function(t){t*=this._getRtlCorrection();var e=this._view;t>.5&&this._beforeView?e=this._beforeView:t<-.5&&this._afterView&&(e=this._afterView),this._navigator.option("text",e.getNavigatorCaption())},_isDateInInvalidRange:function(t){if(!this._view.isBoundary(t)){var e=this._getMinDate(),n=this._getMaxDate(),i=Se.a.normalizeDate(t,e,n);return i===e||i===n}},_renderFooter:function(){var t=this.option("showTodayButton");if(t){var e=this._createComponent(Object(r.a)("<a>"),je.default,{focusStateEnabled:!1,text:J.a.format("dxCalendar-todayButtonText"),onClick:function(t){this._toTodayView(t)}.bind(this),integrationOptions:{}}).$element().addClass("dx-calendar-today-button");this._$footer=Object(r.a)("<div>").addClass("dx-calendar-footer").append(e),this.$element().append(this._$footer)}this.$element().toggleClass("dx-calendar-with-footer",t)},_renderSubmitElement:function(){this._$submitElement=Object(r.a)("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(t){var e=this._convertToDate(t);this._getSubmitElement().val(we.a.serializeDate(e,"yyyy-MM-dd"))},_getSubmitElement:function(){return this._$submitElement},_animateShowView:function(){return He.a.stop(this._view.$element(),!0),this._popAnimationView(this._view,.6,1,250).promise()},_popAnimationView:function(t,e,n,i){return He.a.animate(t.$element(),{type:"pop",from:{scale:e,opacity:e},to:{scale:n,opacity:n},duration:i})},_navigate:function(t,e){if(0!==t&&1!==Math.abs(t)&&this._isViewAvailable(e)){var n=this._renderSpecificView(e);t>0?(this._afterView&&this._afterView.$element().remove(),this._afterView=n):(this._beforeView&&this._beforeView.$element().remove(),this._beforeView=n),this._translateViews()}var i=-this._getRtlCorrection()*(t>0?1:t<0?-1:0)*this._viewWidth();this._$viewsWrapper.position().left!==i&&(this._preventViewChangeAnimation?this._wrapperAnimationEndHandler(t,e):this._animateWrapper(i,250).done(this._wrapperAnimationEndHandler.bind(this,t,e)))},_animateWrapper:function(t,e){return He.a.animate(this._$viewsWrapper,{type:"slide",from:{left:this._$viewsWrapper.position().left},to:{left:t},duration:e})},_getDate:function(t){return new Date(t)},_toTodayView:function(t){this._saveValueChangeEvent(t.event);var e=new Date;this._isMaxZoomLevel()?this._dateOption("value",e):(this._preventViewChangeAnimation=!0,this.option("zoomLevel",this.option("maxZoomLevel")),this._dateOption("value",e),this._animateShowView(),this._preventViewChangeAnimation=!1)},_wrapperAnimationEndHandler:function(t,e){this._rearrangeViews(t),this._translateViews(),this._resetLocation(),this._renderNavigator(),this._setViewContoured(e),this._updateAriaId(e)},_rearrangeViews:function(t){var e,n,i;if(0!==t&&(t<0?(e=1,n="_beforeView",i="_afterView"):(e=-1,n="_afterView",i="_beforeView"),this[n])){var o=this[n].option("date");this[i]&&this[i].$element().remove(),t===e?this[i]=this._view:(this[i]=this._renderSpecificView(this._getDateByOffset(e,o)),this._view.$element().remove()),this._view=this[n];var r=this._getDateByOffset(-e,o);this[n]=this._isViewAvailable(r)?this._renderSpecificView(r):null}},_resetLocation:function(){Object(Fe.e)(this._$viewsWrapper,{left:0,top:0})},_clean:function(){this.callBase(),this._clearViewWidthCache(),delete this._$viewsWrapper,delete this._navigator,delete this._$footer},_clearViewWidthCache:function(){delete this._viewWidthValue},_disposeViews:function(){this._view.$element().remove(),this._beforeView&&this._beforeView.$element().remove(),this._afterView&&this._afterView.$element().remove(),delete this._view,delete this._beforeView,delete this._afterView},_dispose:function(){clearTimeout(this._waitRenderViewTimeout),this.callBase()},_refreshViews:function(){this._disposeViews(),this._renderViews()},_visibilityChanged:function(){this._translateViews()},_focusInHandler:function(){this.callBase.apply(this,arguments),this._view.option("contouredDate",this.option("currentDate"))},_focusOutHandler:function(){this.callBase.apply(this,arguments),this._view.option("contouredDate",null)},_updateViewsValue:function(t){var e=t?new Date(t):null;this._view.option("value",e),this._beforeView&&this._beforeView.option("value",e),this._afterView&&this._afterView.option("value",e)},_updateAriaSelected:function(t,e){var n;t=null!==(n=t)&&void 0!==n?n:this._dateOption("value");var i=this._view._getCellByDate(e),o=this._view._getCellByDate(t);this.setAria("selected",void 0,i),this.setAria("selected",!0,o),t&&this.option("currentDate").getTime()===t.getTime()&&this._updateAriaId(t)},_updateAriaId:function(t){var e;t=null!==(e=t)&&void 0!==e?e:this.option("currentDate");var n="dx-"+new pt.a,i=this._view._getCellByDate(t);this.setAria("id",n,i),this.setAria("activedescendant",n),this._onContouredChanged(n)},_suppressingNavigation:function(t,e){this._suppressNavigation=!0,t.apply(this,e),delete this._suppressNavigation},_optionChanged:function(t){var e=t.value,n=t.previousValue;switch(t.name){case"width":this.callBase(t),this._clearViewWidthCache();break;case"min":case"max":this.min=void 0,this.max=void 0,this._suppressingNavigation(this._updateCurrentDate,[this.option("currentDate")]),this._refreshViews(),this._renderNavigator();break;case"firstDayOfWeek":this._refreshViews(),this._updateButtonsVisibility();break;case"currentDate":this.setAria("id",void 0,this._view._getCellByDate(n)),this._updateCurrentDate(e);break;case"zoomLevel":this.$element().removeClass("dx-calendar-view-"+n),this._correctZoomLevel(),this._refreshViews(),this._renderNavigator(),this._updateAriaId();break;case"minZoomLevel":case"maxZoomLevel":this._correctZoomLevel(),this._updateButtonsVisibility();break;case"value":e=this._convertToDate(e),n=this._convertToDate(n),this._updateAriaSelected(e,n),this.option("currentDate",Object(s.d)(e)?new Date(e):new Date),this._updateViewsValue(e),this._setSubmitValue(e),this.callBase(t);break;case"onCellClick":this._view.option("onCellClick",e);break;case"onContouredChanged":this._onContouredChanged=this._createActionByOption("onContouredChanged");break;case"disabledDates":case"dateSerializationFormat":case"cellTemplate":case"showTodayButton":this._invalidate();break;case"skipFocusCheck":break;case"_todayDate":case"showWeekNumbers":case"weekNumberRule":this._refreshViews();break;default:this.callBase(t)}},getContouredDate:function(){return this._view.option("contouredDate")}});Object(u.a)("dxCalendar",Ze);var Ye=Ze,Xe=xt.a.abstract,Qe=xt.a.inherit({ctor:function(t){this.dateBox=t},widgetOption:function(){return this._widget&&this._widget.option.apply(this._widget,arguments)},_renderWidget:function(t){t=t||Object(r.a)("<div>"),this._widget=this._createWidget(t),this._widget.$element().appendTo(this._getWidgetContainer())},_createWidget:function(t){var e=this._getWidgetName(),n=this._getWidgetOptions();return this.dateBox._createComponent(t,e,n)},_getWidgetOptions:Xe,_getWidgetName:Xe,getDefaultOptions:function(){return{mode:"text"}},getDisplayFormat:Xe,supportedKeys:c.noop,getKeyboardListener:c.noop,customizeButtons:c.noop,getParsedText:function(t,e){var n=Ce.a.parse(t,e);return n||Ce.a.parse(t)},renderInputMinMax:c.noop,renderOpenedState:function(){this._updateValue()},popupConfig:Xe,_dimensionChanged:function(){var t;null===(t=this._getPopup())||void 0===t||t.repaint()},renderPopupContent:function(){var t=this._getPopup();this._renderWidget();var e=t.$content().parent();g.a.off(e,"mousedown"),g.a.on(e,"mousedown",this._preventFocusOnPopup.bind(this))},getFirstPopupElement:c.noop,getLastPopupElement:c.noop,_preventFocusOnPopup:function(t){t.preventDefault()},_getWidgetContainer:function(){return this._getPopup().$content()},_getPopup:function(){return this.dateBox._popup},popupShowingHandler:c.noop,popupHiddenHandler:c.noop,_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},useCurrentDateByDefault:c.noop,getDefaultDate:function(){return new Date},textChangedHandler:c.noop,renderValue:function(){this.dateBox.option("opened")&&this._updateValue()},getValue:function(){return this._widget.option("value")},isAdaptivityChanged:function(){return!1},dispose:function(){var t=this._getPopup();t&&t.$content().empty()},dateBoxValue:function(){return arguments.length?this.dateBox.dateValue.apply(this.dateBox,arguments):this.dateBox.dateOption.apply(this.dateBox,["value"])}}),Je=Qe.inherit({NAME:"Calendar",getDefaultOptions:function(){return Object(a.a)(this.callBase(),{todayButtonText:J.a.format("dxCalendar-todayButtonText")})},supportedKeys:function(){var t=function(t){return!!this.option("opened")&&(t.preventDefault(),!0)};return{rightArrow:function(){if(this.option("opened"))return!0},leftArrow:function(){if(this.option("opened"))return!0},enter:function(t){if(this.dateBox.option("opened")){if(t.preventDefault(),this._widget.option("zoomLevel")===this._widget.option("maxZoomLevel")){var e=this._getContouredValue(),n=this._lastActionElement,i=this._closeDropDownByEnter();return i&&e&&"calendar"===n&&this.dateBoxValue(e,t),i&&this.dateBox.close(),this.dateBox._valueChangeEventHandler(t),!i}return!0}this.dateBox._valueChangeEventHandler(t)}.bind(this),home:t,end:t}},getDisplayFormat:function(t){return t||"shortdate"},_closeDropDownByEnter:function(){return!0},_getWidgetName:function(){return Ye},_getContouredValue:function(){return this._widget._view.option("contouredDate")},getKeyboardListener:function(){return this._widget},_getWidgetOptions:function(){var t=this.dateBox.option("disabledDates");return Object(a.a)(this.dateBox.option("calendarOptions"),{value:this.dateBoxValue()||null,dateSerializationFormat:null,min:this.dateBox.dateOption("min"),max:this.dateBox.dateOption("max"),onValueChanged:this._valueChangedHandler.bind(this),onCellClick:this._cellClickHandler.bind(this),tabIndex:null,disabledDates:Object(s.h)(t)?this._injectComponent(t.bind(this.dateBox)):t,onContouredChanged:this._refreshActiveDescendant.bind(this),skipFocusCheck:!0})},_injectComponent:function(t){var e=this;return function(n){return Object(a.a)(n,{component:e.dateBox}),t(n)}},_refreshActiveDescendant:function(t){this._lastActionElement="calendar",this.dateBox.setAria("activedescendant",t.actionValue)},_getTodayButtonConfig:function(){var t=this,e=this.dateBox.option("buttonsLocation"),n="default"===e?["bottom","center"]:Object(c.splitPair)(e);return{widget:"dxButton",toolbar:n[0],location:"after"===n[1]?"before":n[1],options:{onInitialized:function(t){t.component.registerKeyHandler("escape",this._escapeHandler.bind(this))}.bind(this),onClick:function(e){t._widget._toTodayView(e)},text:this.dateBox.option("todayButtonText"),type:"today"}}},_isCalendarVisible:function(){var t=this.dateBox.option().calendarOptions;return Object(s.e)(t)||!1!==t.visible},_getPopupToolbarItems:function(t){return"useButtons"===this.dateBox.option("applyValueMode")&&this._isCalendarVisible()?[this._getTodayButtonConfig()].concat(Object(i.a)(t)):t},popupConfig:function(t){return Object(a.a)(!0,t,{position:{collision:"flipfit flip"},width:"auto"})},_escapeHandler:function(){this.dateBox.close(),this.dateBox.focus()},_valueChangedHandler:function(t){var e=t.value,n=t.previousValue;Se.a.sameDate(e,n)&&Se.a.sameHoursAndMinutes(e,n)||"instantly"===this.dateBox.option("applyValueMode")&&this.dateBoxValue(this.getValue(),t.event)},_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},textChangedHandler:function(){this._lastActionElement="input",this.dateBox.option("opened")&&this._widget&&this._updateValue(!0)},_cellClickHandler:function(t){var e=this.dateBox;"instantly"===e.option("applyValueMode")&&(e.option("opened",!1),this.dateBoxValue(this.getValue(),t.event))}}),tn=n(217),en=n(212);var nn=function(t){function e(){return Object(x.a)(this,e),Object(T.a)(this,Object(I.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(S.a)(e,[{key:"_getDefaultOptions",value:function(){return Object(a.a)(Object(D.a)(Object(I.a)(e.prototype),"_getDefaultOptions",this).call(this),{showScrollbar:"never",useNative:!1,selectedIndex:0,bounceEnabled:!1,items:[],showOnClick:!1,onClick:null,onSelectedIndexChanged:null,scrollByContent:!0})}},{key:"_init",value:function(){Object(D.a)(Object(I.a)(e.prototype),"_init",this).call(this),this.option("onVisibilityChange",this._visibilityChangedHandler.bind(this)),this.option("onEnd",this._endActionHandler.bind(this))}},{key:"_render",value:function(){Object(D.a)(Object(I.a)(e.prototype),"_render",this).call(this),this._renderSelectedItemFrame(),this.$element().addClass("dx-dateviewroller"),this._renderContainerClick(),this._renderItems(),this._renderSelectedValue(),this._renderItemsClick(),this._renderWheelEvent(),this._renderSelectedIndexChanged()}},{key:"_renderSelectedIndexChanged",value:function(){this._selectedIndexChanged=this._createActionByOption("onSelectedIndexChanged")}},{key:"_renderWheelEvent",value:function(){var t=this;g.a.on(Object(r.a)(this.container()),"dxmousewheel",function(e){t._isWheelScrolled=!0})}},{key:"_renderContainerClick",value:function(){if(this.option("showOnClick")){var t=Object(v.a)(Re.a,this.NAME),e=this._createActionByOption("onClick");g.a.off(Object(r.a)(this.container()),t),g.a.on(Object(r.a)(this.container()),t,function(t){e({event:t})})}}},{key:"_renderItems",value:function(){var t=this.option("items")||[],e=Object(r.a)();Object(r.a)(this.content()).empty(),t.forEach(function(t){e=e.add(Object(r.a)("<div>").addClass("dx-dateview-item").append(t))}),Object(r.a)(this.content()).append(e),this._$items=e,this.update()}},{key:"_renderSelectedItemFrame",value:function(){Object(r.a)("<div>").addClass("dx-dateview-item-selected-frame").append(Object(r.a)("<div>").addClass("dx-dateview-item-selected-border")).appendTo(Object(r.a)(this.container()))}},{key:"_renderSelectedValue",value:function(t){var e=this._fitIndex(null!==t&&void 0!==t?t:this.option("selectedIndex"));this._moveTo({top:this._getItemPosition(e)}),this._renderActiveStateItem()}},{key:"_fitIndex",value:function(t){var e=(this.option("items")||[]).length;return t>=e?e-1:t<0?0:t}},{key:"_getItemPosition",value:function(t){return Math.round(this._itemHeight()*t)}},{key:"_renderItemsClick",value:function(){var t=this._getItemSelector(),e=Object(v.a)(Re.a,this.NAME);g.a.off(this.$element(),e,t),g.a.on(this.$element(),e,t,this._itemClickHandler.bind(this))}},{key:"_getItemSelector",value:function(){return".dx-dateview-item"}},{key:"_itemClickHandler",value:function(t){this.option("selectedIndex",this._itemElementIndex(t.currentTarget))}},{key:"_itemElementIndex",value:function(t){return this._itemElements().index(t)}},{key:"_itemElements",value:function(){return this.$element().find(this._getItemSelector())}},{key:"_renderActiveStateItem",value:function(){var t=this.option("selectedIndex");Object(X.a)(this._$items,function(e){Object(r.a)(this).toggleClass("dx-dateview-item-selected",t===e)})}},{key:"_shouldScrollToNeighborItem",value:function(){return"desktop"===O.a.real().deviceType&&this._isWheelScrolled}},{key:"_moveTo",value:function(t){var e=function(t,e){if(Object(s.k)(t)){var n=Object(c.ensureDefined)(t.left,t.x),i=Object(c.ensureDefined)(t.top,t.y);return{left:Object(s.d)(n)?n:void 0,top:Object(s.d)(i)?i:void 0}}var o=new en.a(e),r=o.isHorizontal,a=o.isVertical;return{left:r&&Object(s.d)(t)?t:void 0,top:a&&Object(s.d)(t)?t:void 0}}(t),n=e.top,i=e.left,o=this.scrollOffset(),a={x:o.left-i,y:o.top-n};if(this._isVisible()&&(a.x||a.y))if(this._prepareDirections(!0),this._animation&&!this._shouldScrollToNeighborItem()){var l=this;He.a.stop(Object(r.a)(this.content())),He.a.animate(Object(r.a)(this.content()),{duration:200,type:"slide",to:{top:Math.floor(a.y)},complete:function(){Object(Fe.g)(Object(r.a)(l.content())),l.handleMove({delta:a})}}),delete this._animation}else this.handleMove({delta:a})}},{key:"_validate",value:function(t){return this._moveIsAllowed(t)}},{key:"_fitSelectedIndexInRange",value:function(t){var e=this.option("items").length;return Math.max(Math.min(t,e-1),0)}},{key:"_isInNullNeighborhood",value:function(t){return-.1<=t&&t<=.1}},{key:"_getSelectedIndexAfterScroll",value:function(t){var e=this.scrollOffset().top-t*this._itemHeight();if(this._isInNullNeighborhood(e))return t;var n=e>0?1:-1;return this._fitSelectedIndexInRange(t+n)}},{key:"_getNewSelectedIndex",value:function(t){if(this._shouldScrollToNeighborItem())return this._getSelectedIndexAfterScroll(t);this._animation=!0;var e=this.scrollOffset().top/this._itemHeight();return Math.round(e)}},{key:"_endActionHandler",value:function(){var t=this.option("selectedIndex"),e=this._getNewSelectedIndex(t);e===t?this._renderSelectedValue(e):this.option("selectedIndex",e),this._isWheelScrolled=!1}},{key:"_itemHeight",value:function(){var t=this._$items.first();return Object(Ht.c)(t)}},{key:"_toggleActive",value:function(t){this.$element().toggleClass("dx-state-active",t)}},{key:"_isVisible",value:function(){return Object(r.a)(this.container()).is(":visible")}},{key:"_fireSelectedIndexChanged",value:function(t,e){this._selectedIndexChanged({value:t,previousValue:e,event:void 0})}},{key:"_visibilityChanged",value:function(t){Object(D.a)(Object(I.a)(e.prototype),"_visibilityChanged",this).call(this,t),this._visibilityChangedHandler(t)}},{key:"_visibilityChangedHandler",value:function(t){var e=this;t&&(this._visibilityTimer=setTimeout(function(){e._renderSelectedValue(e.option("selectedIndex"))})),this.toggleActiveState(!1)}},{key:"toggleActiveState",value:function(t){this.$element().toggleClass("dx-dateviewroller-current",t)}},{key:"_refreshSelectedIndex",value:function(){var t=this.option("selectedIndex"),e=this._fitIndex(t);e===t?this._renderActiveStateItem():this.option("selectedIndex",e)}},{key:"_optionChanged",value:function(t){switch(t.name){case"selectedIndex":this._fireSelectedIndexChanged(t.value,t.previousValue),this._renderSelectedValue(t.value);break;case"items":this._renderItems(),this._refreshSelectedIndex();break;case"onClick":case"showOnClick":this._renderContainerClick();break;case"onSelectedIndexChanged":this._renderSelectedIndexChanged();break;default:Object(D.a)(Object(I.a)(e.prototype),"_optionChanged",this).call(this,t)}}},{key:"_dispose",value:function(){clearTimeout(this._visibilityTimer),Object(D.a)(Object(I.a)(e.prototype),"_dispose",this).call(this)}}]),e}(tn.a);Object(u.a)("dxDateViewRoller",nn);var on=nn,rn="date",an="year",sn="month",ln="day",cn="hours",un=d.a.inherit({_valueOption:function(){var t=this.option("value"),e=new Date(t);return!t||isNaN(e)?this._getDefaultDate():e},_getDefaultDate:function(){var t=new Date;return this.option("type")===rn?new Date(t.getFullYear(),t.getMonth(),t.getDate()):t},_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{minDate:Te.MIN_DATEVIEW_DEFAULT_DATE,maxDate:Te.MAX_DATEVIEW_DEFAULT_DATE,type:rn,value:new Date,applyCompactClass:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(t){return"desktop"!==t.deviceType},options:{applyCompactClass:!0}}])},_render:function(){this.callBase(),this.$element().addClass("dx-dateview"),this._toggleFormatClasses(this.option("type")),this._toggleCompactClass()},_toggleFormatClasses:function(t,e){this.$element().addClass("dx-dateview-"+t),e&&this.$element().removeClass("dx-dateview-"+e)},_toggleCompactClass:function(){this.$element().toggleClass("dx-dateview-compact",this.option("applyCompactClass"))},_wrapper:function(){return this._$wrapper},_renderContentImpl:function(){this._$wrapper=Object(r.a)("<div>").addClass("dx-dateview-wrapper"),this._renderRollers(),this._$wrapper.appendTo(this.$element())},_renderRollers:function(){this._$rollersContainer||(this._$rollersContainer=Object(r.a)("<div>").addClass("dx-dateview-rollers")),this._$rollersContainer.empty(),this._createRollerConfigs(),this._rollers={};var t=this;Object(X.a)(t._rollerConfigs,function(e){var n=Object(r.a)("<div>").appendTo(t._$rollersContainer).addClass("dx-dateviewroller-"+t._rollerConfigs[e].type);t._rollers[t._rollerConfigs[e].type]=t._createComponent(n,on,{items:t._rollerConfigs[e].displayItems,selectedIndex:t._rollerConfigs[e].selectedIndex,showScrollbar:"never",scrollByContent:!0,onStart:function(n){var i=n.component;i._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[e],i.option("selectedIndex"))},onEnd:function(t){t.component._toggleActive(!1)},onClick:function(n){var i=n.component;i._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[e],i.option("selectedIndex")),t._setRollerState(t._rollerConfigs[e],i.option("selectedIndex")),i._toggleActive(!1)},onSelectedIndexChanged:function(n){var i=n.component;t._setRollerState(t._rollerConfigs[e],i.option("selectedIndex"))}})}),t._$rollersContainer.appendTo(t._wrapper())},_createRollerConfigs:function(t){var e=this;t=t||e.option("type"),e._rollerConfigs={},Ce.a.getFormatParts(Te.FORMATS_MAP[t]).forEach(function(t){e._createRollerConfig(t)})},_createRollerConfig:function(t){for(var e=Te.DATE_COMPONENTS_INFO[t],n=this._calculateRollerConfigValueRange(t),i=n.startValue,o=n.endValue,r=e.formatter,a=this._getCurrentDate(),s={type:t,setValue:e.setter,valueItems:[],displayItems:[],getIndex:function(t){return t[e.getter]()-i}},l=i;l<=o;l++)s.valueItems.push(l),s.displayItems.push(r(l,a));s.selectedIndex=s.getIndex(a),this._rollerConfigs[t]=s},_setActiveRoller:function(t){var e=t&&this._rollers[t.type];Object(X.a)(this._rollers,function(){this.toggleActiveState(this===e)})},_updateRollersPosition:function(){var t=this;Object(X.a)(this._rollers,function(e){var n=t._rollerConfigs[e].getIndex(t._getCurrentDate());this.option("selectedIndex",n)})},_setRollerState:function(t,e){if(e!==t.selectedIndex){var n=t.valueItems[e],i=t.setValue,o=new Date(this._getCurrentDate()),r=o.getDate(),a=this.option("minDate"),s=this.option("maxDate");t.type===sn?r=Math.min(r,Te.getMaxMonthDay(o.getFullYear(),n)):t.type===an&&(r=Math.min(r,Te.getMaxMonthDay(n,o.getMonth()))),o.setDate(r),o[i](n);var l=Se.a.normalizeDate(o,a,s);o=Te.mergeDates(l,o,"time"),o=Se.a.normalizeDate(o,a,s),this.option("value",o),t.selectedIndex=e}t.type===an&&this._refreshRollers(),t.type===sn&&(this._refreshRoller(ln),this._refreshRoller(cn))},_refreshRoller:function(t){var e=this._rollers[t];if(e){this._createRollerConfig(t);var n=this._rollerConfigs[t];t!==ln&&n.displayItems.toString()===e.option("items").toString()||e.option({items:n.displayItems,selectedIndex:n.selectedIndex})}},_getCurrentDate:function(){var t=this._valueOption(),e=this.option("minDate"),n=this.option("maxDate");return Se.a.normalizeDate(t,e,n)},_calculateRollerConfigValueRange:function(t){var e=this._getCurrentDate(),n=this.option("minDate"),i=this.option("maxDate"),o=Se.a.sameYear(e,n),r=o&&e.getMonth()===n.getMonth(),a=Se.a.sameYear(e,i),s=a&&e.getMonth()===i.getMonth(),l=r&&e.getDate()===n.getDate(),c=s&&e.getDate()===i.getDate(),u=Te.DATE_COMPONENTS_INFO[t],h=u.startValue,d=u.endValue;return t===an&&(h=n.getFullYear(),d=i.getFullYear()),t===sn&&(o&&(h=n.getMonth()),a&&(d=i.getMonth())),t===ln&&(d=Te.getMaxMonthDay(e.getFullYear(),e.getMonth()),o&&r&&(h=n.getDate()),a&&s&&(d=i.getDate())),t===cn&&(h=l?n.getHours():h,d=c?i.getHours():d),{startValue:h,endValue:d}},_refreshRollers:function(){this._refreshRoller(sn),this._refreshRoller(ln),this._refreshRoller(cn)},_optionChanged:function(t){switch(t.name){case"minDate":case"maxDate":case"type":this._renderRollers(),this._toggleFormatClasses(t.value,t.previousValue);break;case"visible":this.callBase(t),t.value&&this._renderRollers();break;case"value":this.option("value",this._valueOption()),this._refreshRollers(),this._updateRollersPosition();break;default:this.callBase(t)}},_clean:function(){this.callBase(),delete this._$rollersContainer}});Object(u.a)("dxDateView",un);var hn=un,dn=Object(vt.d)(),pn=Qe.inherit({NAME:"DateView",getDefaultOptions:function(){return Object(a.a)(this.callBase(),{openOnFieldClick:!0,applyButtonText:J.a.format("OK"),"dropDownOptions.showTitle":!0})},getDisplayFormat:function(t){return t||Te.FORMATS_MAP[this.dateBox.option("type")]},popupConfig:function(t){return{toolbarItems:this.dateBox._popupToolbarItemsConfig(),onInitialized:t.onInitialized,defaultOptionsRules:[{device:{platform:"android"},options:{width:333,height:331}},{device:function(t){var e=t.platform;return"generic"===e||"ios"===e},options:{width:"auto",height:"auto"}},{device:function(t){var e=t.platform,n=t.phone;return"generic"===e&&n},options:{width:333,maxWidth:"100%",maxHeight:"100%",height:"auto",position:{collision:"flipfit flip"}}},{device:{platform:"ios",phone:!0},options:{width:"100%",position:{my:"bottom",at:"bottom",of:dn}}}]}},_renderWidget:function(){if(Object(xe.inputType)(this.dateBox.option("mode"))&&this.dateBox._isNativeType()||this.dateBox.option("readOnly"))this._widget&&(this._widget.$element().remove(),this._widget=null);else{var t=this._getPopup();if(this._widget)this._widget.option(this._getWidgetOptions());else{var e=Object(r.a)("<div>").appendTo(t.$content());this._widget=this._createWidget(e)}this._widget.$element().appendTo(this._getWidgetContainer())}},_getWidgetName:function(){return hn},renderOpenedState:function(){this.callBase(),this._widget&&this._widget.option("value",this._widget._getCurrentDate())},_getWidgetOptions:function(){return{value:this.dateBoxValue()||new Date,type:this.dateBox.option("type"),minDate:this.dateBox.dateOption("min")||new Date(1900,0,1),maxDate:this.dateBox.dateOption("max")||new Date(Date.now()+50*Te.ONE_YEAR),onDisposing:function(){this._widget=null}.bind(this)}}}),fn=Qe.inherit({NAME:"Native",popupConfig:function(t){return Object(a.a)({},t,{width:"auto"})},getParsedText:function(t){return t?"datetime"===this.dateBox.option("type")?new Date(t.replace(/-/g,"/").replace("T"," ").split(".")[0]):Te.fromStandardDateFormat(t):null},renderPopupContent:c.noop,_getWidgetName:c.noop,_getWidgetOptions:c.noop,_getDateBoxType:function(){var t=this.dateBox.option("type");return Te.SUPPORTED_FORMATS.includes(t)?"datetime"!==t||Object(xe.inputType)(t)||(t="datetime-local"):t="date",t},customizeButtons:function(){var t=this.dateBox.getButton("dropDown");O.a.real().android&&t&&t.on("click",function(){this.dateBox._input().get(0).click()}.bind(this))},getDefaultOptions:function(){return{mode:this._getDateBoxType()}},getDisplayFormat:function(t){var e=this._getDateBoxType();return t||Te.FORMATS_MAP[e]},renderInputMinMax:function(t){t.attr({min:we.a.serializeDate(this.dateBox.dateOption("min"),"yyyy-MM-dd"),max:we.a.serializeDate(this.dateBox.dateOption("max"),"yyyy-MM-dd")})}}),mn=function(t,e,n){gn(t,e,n)},gn=function(t,e,n){t.css("transform","rotate("+e+"deg) translate(0,"+n+"px)")},vn=d.a.inherit({_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{value:new Date(Date.now()),use24HourFormat:!0,_showClock:!0,_arrowOffset:5,stylingMode:void 0})},_getValue:function(){return this.option("value")||new Date},_init:function(){this.callBase(),this.$element().addClass("dx-timeview")},_render:function(){this.callBase(),this._renderBox(),this._updateTime()},_renderBox:function(){var t=Object(r.a)("<div>").appendTo(this.$element()),e=[];this.option("_showClock")&&e.push({ratio:1,shrink:0,baseSize:"auto",template:this._renderClock.bind(this)}),e.push({ratio:0,shrink:0,baseSize:"auto",template:this._renderField.bind(this)}),this._createComponent(t,oe,{height:"100%",width:"100%",direction:"col",items:e})},_renderClock:function(t,e,n){this._$hourArrow=Object(r.a)("<div>").addClass("dx-timeview-hourarrow"),this._$minuteArrow=Object(r.a)("<div>").addClass("dx-timeview-minutearrow");var i=Object(r.a)(n);i.addClass("dx-timeview-clock").append(this._$hourArrow).append(this._$minuteArrow),this.setAria("role","presentation",i)},_updateClock:function(){var t=this._getValue(),e=t.getHours()/12*360+t.getMinutes()/60*30,n=t.getMinutes()/60*360;mn(this._$hourArrow,e,this.option("_arrowOffset")),mn(this._$minuteArrow,n,this.option("_arrowOffset"))},_getBoxItems:function(t){var e=this,n=[{ratio:0,shrink:0,baseSize:"auto",template:function(){return e._hourBox.$element()}},{ratio:0,shrink:0,baseSize:"auto",template:Object(r.a)("<div>").addClass("dx-timeview-time-separator").text(Ce.a.getTimeSeparator())},{ratio:0,shrink:0,baseSize:"auto",template:function(){return e._minuteBox.$element()}}];return t&&n.push({ratio:0,shrink:0,baseSize:"auto",template:function(){return e._format12.$element()}}),n},_renderField:function(){var t=!this.option("use24HourFormat");return this._createHourBox(t),this._createMinuteBox(),t&&this._createFormat12Box(),this._createComponent(Object(r.a)("<div>").addClass("dx-timeview-field"),oe,{direction:"row",align:"center",crossAlign:"center",items:this._getBoxItems(t)}).$element()},_createHourBox:function(t){var e=this;(this._hourBox=this._createComponent(Object(r.a)("<div>"),Y.a,Object(a.a)({min:-1,max:t?13:24,value:this._getValue().getHours(),onValueChanged:this._onHourBoxValueChanged.bind(this),onKeyboardHandled:function(t){return e._keyboardHandler(t)}},this._getNumberBoxConfig()))).setAria("label","hours")},_isPM:function(){return!this.option("use24HourFormat")&&1===this._format12.option("value")},_onHourBoxValueChanged:function(t){var e=t.value,n=t.component,i=this._getValue(),o=new Date(i),r=this._convertMaxHourToMin(e);n.option("value",r),this._isPM()&&(r+=12),o.setHours(r),Te.normalizeTime(o),this.option("value",o)},_convertMaxHourToMin:function(t){var e=this.option("use24HourFormat")?24:12;return(e+t)%e},_createMinuteBox:function(){var t=this;(this._minuteBox=this._createComponent(Object(r.a)("<div>"),Y.a,Object(a.a)({min:-1,max:60,value:this._getValue().getMinutes(),onKeyboardHandled:function(e){return t._keyboardHandler(e)},onValueChanged:function(e){var n=(60+e.value)%60;e.component.option("value",n);var i=new Date(t._getValue());i.setMinutes(n),Te.normalizeTime(i),t.option("value",i)}},this._getNumberBoxConfig()))).setAria("label","minutes")},_createFormat12Box:function(){var t=this,e=Ce.a.getPeriodNames();(this._format12=this._createComponent(Object(r.a)("<div>").addClass("dx-timeview-format12"),Z.a,{items:[{value:-1,text:e[0]},{value:1,text:e[1]}],valueExpr:"value",displayExpr:"text",onKeyboardHandled:function(e){return t._keyboardHandler(e)},onValueChanged:function(e){var n=e.value,i=t._getValue().getHours(),o=new Date(t._getValue()),r=(i+12*n)%24;o.setHours(r),t.option("value",o)},value:this._getValue().getHours()>=12?1:-1,stylingMode:this.option("stylingMode")})).setAria("label","type")},_refreshFormat12:function(){if(!this.option("use24HourFormat")){var t=this._getValue().getHours()>=12?1:-1;this._silentEditorValueUpdate(this._format12,t)}},_silentEditorValueUpdate:function(t,e){t&&(t._suppressValueChangeAction(),t.option("value",e),t._resumeValueChangeAction())},_getNumberBoxConfig:function(){return{showSpinButtons:!0,displayValueFormatter:function(t){return(t<10?"0":"")+t},stylingMode:this.option("stylingMode")}},_normalizeHours:function(t){return this.option("use24HourFormat")?t:t%12||12},_updateField:function(){var t=this._normalizeHours(this._getValue().getHours());this._silentEditorValueUpdate(this._hourBox,t),this._silentEditorValueUpdate(this._minuteBox,this._getValue().getMinutes()),this._refreshFormat12()},_updateTime:function(){this.option("_showClock")&&this._updateClock(),this._updateField()},_visibilityChanged:function(t){t&&this._updateTime()},_optionChanged:function(t){switch(t.name){case"value":this._updateTime(),this.callBase(t);break;case"_arrowOffset":break;case"use24HourFormat":case"_showClock":case"stylingMode":this._invalidate();break;default:this.callBase(t)}}});Object(u.a)("dxTimeView",vn);var yn=vn,_n=Object(vt.d)(),bn=Je.inherit({NAME:"CalendarWithTime",getDefaultOptions:function(){return Object(a.a)(this.callBase(),{applyValueMode:"useButtons",buttonsLocation:"bottom after","dropDownOptions.showTitle":!1})},_closeDropDownByEnter:function(){return Se.a.sameDate(this._getContouredValue(),this.widgetOption("value"))},getDisplayFormat:function(t){return t||"shortdateshorttime"},_is24HourFormat:function(){return Ce.a.is24HourFormat(this.getDisplayFormat(this.dateBox.option("displayFormat")))},_getContouredValue:function(){var t=this.callBase();return this._updateDateTime(t)},_renderWidget:function(){this.callBase(),this._timeView=this.dateBox._createComponent(Object(r.a)("<div>"),yn,{value:this.dateBoxValue(),_showClock:!this._isShrinkView(),use24HourFormat:this._is24HourFormat(),onValueChanged:this._valueChangedHandler.bind(this),stylingMode:this.dateBox.option("stylingMode")}),this._timeView.registerKeyHandler("escape",this._escapeHandler.bind(this))},renderOpenedState:function(){this.callBase();var t=this._getPopup();t&&t.$wrapper().toggleClass("dx-datebox-adaptivity-mode",this._isSmallScreen()),clearTimeout(this._repaintTimer),this._repaintTimer=setTimeout(function(){this._getPopup()&&this._getPopup().repaint()}.bind(this),0)},isAdaptivityChanged:function(){var t=this._isShrinkView(),e=this._currentAdaptiveMode;return t!==e?(this._currentAdaptiveMode=t,void 0!==e):this.callBase()},_updateValue:function(t){var e=this.dateBoxValue();e||t||(e=new Date,Te.normalizeTime(e)),this.callBase(),this._timeView&&(e&&this._timeView.option("value",e),this._timeView.option("use24HourFormat",this._is24HourFormat()))},_isSmallScreen:function(){return Object(Ht.k)(_n)<=573},_isShrinkView:function(){return!this.dateBox.option("showAnalogClock")||this.dateBox.option("adaptivityEnabled")&&this._isSmallScreen()},_getBoxItems:function(){var t=[{ratio:0,shrink:0,baseSize:"auto",name:"calendar"}];return this._isShrinkView()||t.push({ratio:0,shrink:0,baseSize:"auto",name:"time"}),t},renderPopupContent:function(){this.callBase(),this._currentAdaptiveMode=this._isShrinkView();var t=this._getPopup().$content();this._box=this.dateBox._createComponent(Object(r.a)("<div>").appendTo(t),oe,{direction:"row",crossAlign:"stretch",items:this._getBoxItems(),itemTemplate:function(t,e,n){var i=Object(r.a)("<div>");switch(t.name){case"calendar":i.append(this._widget.$element()),this._isShrinkView()&&(this._timeView.$element().addClass("dx-datebox-datetime-time-side"),i.append(this._timeView.$element()));break;case"time":i.append(this._timeView.$element()),Object(r.a)(n).addClass("dx-datebox-datetime-time-side")}return i}.bind(this)}),this._attachTabHandler()},popupConfig:function(t){var e=this.callBase(t);return Object(a.a)(e,{width:"auto"})},getFirstPopupElement:function(){return this._timeView._hourBox.$element().find("input")},_attachTabHandler:function(){var t=this.dateBox;this._timeView._hourBox.registerKeyHandler("tab",function(e){e.shiftKey&&(e.preventDefault(),t.focus())})},_preventFocusOnPopup:function(t){Object(r.a)(t.target).hasClass("dx-texteditor-input")||(this.callBase.apply(this,arguments),this.dateBox._hasFocusClass()||this.dateBox.focus())},_updateDateTime:function(t){var e=this._timeView.option("value");return t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t},getValue:function(){var t,e=null!==(t=this._widget.option("value"))&&void 0!==t?t:this._widget.getContouredDate();return e=e?new Date(e):new Date,this._updateDateTime(e)},dispose:function(){clearTimeout(this._removeMinWidthTimer),clearTimeout(this._repaintTimer),this.callBase()}}),Cn=n(163),On=(n(232),n(170)),xn=Object(vt.d)(),Sn={min:new Date(0,0,0,0,0),max:new Date(0,0,0,23,59)},wn=Qe.inherit({NAME:"List",supportedKeys:function(){return{tab:function(){var t=this.option(),e=t.opened,n=t.applyValueMode;e&&"instantly"===n&&this.close()},space:c.noop,home:c.noop,end:c.noop}},getDefaultOptions:function(){return Object(a.a)(this.callBase(),{applyValueMode:"instantly"})},getDisplayFormat:function(t){return t||"shorttime"},popupConfig:function(t){return t},getValue:function(){var t=this._widget.option("selectedIndex");if(-1===t)return this.dateBox.option("value");var e=this._widgetItems[t];return this._getDateByItemData(e)},useCurrentDateByDefault:function(){return!0},getDefaultDate:function(){return new Date(null)},popupShowingHandler:function(){this.dateBox._dimensionChanged()},_renderWidget:function(){this.callBase(),this._refreshItems()},_getWidgetName:function(){return Cn.a},_getWidgetOptions:function(){return{itemTemplate:this._timeListItemTemplate.bind(this),onItemClick:this._listItemClickHandler.bind(this),tabIndex:-1,onFocusedItemChanged:this._refreshActiveDescendant.bind(this),selectionMode:"single"}},_refreshActiveDescendant:function(t){this.dateBox.setAria("activedescendant",""),this.dateBox.setAria("activedescendant",t.actionValue)},_refreshItems:function(){this._widgetItems=this._getTimeListItems(),this._widget.option("items",this._widgetItems)},renderOpenedState:function(){this._widget&&(this._widget.option("focusedElement",null),this._setSelectedItemsByValue(),this._widget.option("templatesRenderAsynchronously")?this._asyncScrollTimeout=setTimeout(this._scrollToSelectedItem.bind(this)):this._scrollToSelectedItem())},dispose:function(){this.callBase(),clearTimeout(this._asyncScrollTimeout)},_updateValue:function(){this._widget&&(this._refreshItems(),this._setSelectedItemsByValue(),this._scrollToSelectedItem())},_setSelectedItemsByValue:function(){var t=this.dateBoxValue(),e=this._getDateIndex(t);-1===e?this._widget.option("selectedItems",[]):this._widget.option("selectedIndex",e)},_scrollToSelectedItem:function(){this._widget.scrollToItem(this._widget.option("selectedIndex"))},_getDateIndex:function(t){for(var e=-1,n=0,i=this._widgetItems.length;n<i;n++)if(this._areDatesEqual(t,this._widgetItems[n])){e=n;break}return e},_areDatesEqual:function(t,e){return Object(s.b)(t)&&Object(s.b)(e)&&t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes()},_getTimeListItems:function(){var t=this.dateBox.dateOption("min")||this._getBoundaryDate("min"),e=this.dateBox.dateOption("max")||this._getBoundaryDate("max"),n=this.dateBox.dateOption("value")||null,i=e-t,o=t.getMinutes()%this.dateBox.option("interval");return i<0?[]:(i>Te.ONE_DAY&&(i=Te.ONE_DAY),n-t<Te.ONE_DAY?this._getRangeItems(t,new Date(t),i):((t=this._getBoundaryDate("min")).setMinutes(o),n&&Math.abs(n-e)<Te.ONE_DAY&&(i=(60*e.getHours()+Math.abs(e.getMinutes()-o))*Te.ONE_MINUTE),this._getRangeItems(t,new Date(t),i)))},_getRangeItems:function(t,e,n){for(var i=[],o=this.dateBox.option("interval");e-t<=n;)i.push(new Date(e)),e.setMinutes(e.getMinutes()+o);return i},_getBoundaryDate:function(t){var e=Sn[t],n=new Date(Object(c.ensureDefined)(this.dateBox.dateOption("value"),0));return new Date(n.getFullYear(),n.getMonth(),n.getDate(),e.getHours(),e.getMinutes())},_timeListItemTemplate:function(t){var e=this.dateBox.option("displayFormat");return Ce.a.format(t,this.getDisplayFormat(e))},_listItemClickHandler:function(t){if("useButtons"!==this.dateBox.option("applyValueMode")){var e=this._getDateByItemData(t.itemData);this.dateBox.option("opened",!1),this.dateBoxValue(e,t.event)}},_getDateByItemData:function(t){var e=this.dateBox.option("value"),n=t.getHours(),i=t.getMinutes(),o=t.getSeconds(),r=t.getFullYear(),a=t.getMonth(),s=t.getDate();return e?((e=this.dateBox.option("dateSerializationFormat")?we.a.deserializeDate(e):new Date(e)).setHours(n),e.setMinutes(i),e.setSeconds(o),e.setFullYear(r),e.setMonth(a),e.setDate(s)):e=new Date(r,a,s,n,i,0,0),e},getKeyboardListener:function(){return this._widget},_updatePopupHeight:function(){var t=Object(On.b)(this.dateBox.option("dropDownOptions.height"));if(void 0===t||"auto"===t){this.dateBox._setPopupOption("height","auto");var e=Object(Ht.g)(this._widget.$element()),n=.45*Object(Ht.c)(xn);this.dateBox._setPopupOption("height",Math.min(e,n))}this.dateBox._timeList&&this.dateBox._timeList.updateDimensions()},getParsedText:function(t,e){var n=this.callBase(t,e);return n&&(n=Te.mergeDates(n,new Date(null),"date")),n}}),Pn=Object(vt.d)(),kn={calendar:"calendar",rollers:"rollers",list:"list",native:"native"},En={date:"date",datetime:"datetime",time:"time"},Tn="Calendar",In="DateView",jn="Native",Mn="CalendarWithTime",Dn="List",An={Calendar:Je,DateView:pn,Native:fn,CalendarWithTime:bn,List:wn},Rn=Ie.a.inherit({_supportedKeys:function(){return Object(a.a)(this.callBase(),this._strategy.supportedKeys())},_renderButtonContainers:function(){this.callBase.apply(this,arguments),this._strategy.customizeButtons()},_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{type:"date",showAnalogClock:!0,value:null,dateSerializationFormat:void 0,min:void 0,max:void 0,displayFormat:null,interval:30,disabledDates:null,pickerType:kn.calendar,invalidDateMessage:J.a.format("dxDateBox-validation-datetime"),dateOutOfRangeMessage:J.a.format("validation-range"),applyButtonText:J.a.format("OK"),adaptivityEnabled:!1,calendarOptions:{},useHiddenSubmitElement:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{"dropDownOptions.showTitle":!0}},{device:{platform:"android"},options:{buttonsLocation:"bottom after"}},{device:function(){var t=O.a.real().platform;return"ios"===t||"android"===t},options:{pickerType:kn.native}},{device:{platform:"generic",deviceType:"desktop"},options:{buttonsLocation:"bottom after"}}])},_initOptions:function(t){this._userOptions=Object(a.a)({},t),this.callBase(t),this._updatePickerOptions()},_updatePickerOptions:function(){var t=this.option("pickerType"),e=this.option("type");t!==kn.list||e!==En.datetime&&e!==En.date||(t=kn.calendar),e===En.time&&t===kn.calendar&&(t=kn.list),this.option("showDropDownButton","generic"!==O.a.real().platform||t!==kn.native),this._pickerType=t},_init:function(){this._initStrategy(),this.option(Object(a.a)({},this._strategy.getDefaultOptions(),this._userOptions)),delete this._userOptions,this.callBase()},_toLowerCaseFirstLetter:function(t){return t.charAt(0).toLowerCase()+t.substr(1)},_initStrategy:function(){var t=this._getStrategyName(this._getFormatType()),e=An[t];this._strategy&&this._strategy.NAME===t||(this._strategy=new e(this))},_getFormatType:function(){var t=this.option("type"),e=/h|m|s/g.test(t),n="";return/d|M|Y/g.test(t)&&(n+=En.date),e&&(n+=En.time),n},_getStrategyName:function(t){var e=this._pickerType;return e===kn.rollers?In:e===kn.native?jn:t===En.date?Tn:t===En.datetime?Mn:Dn},_initMarkup:function(){this.$element().addClass("dx-datebox"),this.callBase(),this._refreshFormatClass(),this._refreshPickerTypeClass(),this._strategy.renderInputMinMax(this._input())},_render:function(){this.callBase(),this._formatValidationIcon()},_renderDimensions:function(){this.callBase(),this.$element().toggleClass("dx-auto-width",!this.option("width")),this._updatePopupWidth(),this._updatePopupHeight()},_dimensionChanged:function(){this.callBase(),this._updatePopupHeight()},_updatePopupHeight:function(){var t,e;this._popup&&(null===(t=(e=this._strategy)._updatePopupHeight)||void 0===t||t.call(e))},_refreshFormatClass:function(){var t=this.$element();Object(X.a)(En,function(e,n){t.removeClass("dx-datebox-"+n)}),t.addClass("dx-datebox-"+this.option("type"))},_refreshPickerTypeClass:function(){var t=this.$element();Object(X.a)(kn,function(e,n){t.removeClass("dx-datebox-"+n)}),t.addClass("dx-datebox-"+this._pickerType)},_formatValidationIcon:function(){if(Object(vt.f)()){var t=this._input().get(0),e=this.option("rtlEnabled"),n=this._getClearButtonWidth(),i=this._getLongestElementDimensions(),o=parseFloat(Pn.getComputedStyle(t).width)-n,r=i.width>o,a=t.style;this.$element().toggleClass("dx-show-invalid-badge",!r),r?(void 0===this._storedPadding&&(this._storedPadding=e?i.leftPadding:i.rightPadding),e?a.paddingLeft=0:a.paddingRight=0):e?a.paddingLeft=this._storedPadding+"px":a.paddingRight=this._storedPadding+"px"}},_getClearButtonWidth:function(){var t=0;if(this._isClearButtonVisible()&&""===this._input().val()){var e=this.$element().find(".dx-clear-button-area").get(0);t=parseFloat(Pn.getComputedStyle(e).width)}return t},_getLongestElementDimensions:function(){var t=this._strategy.getDisplayFormat(this.option("displayFormat")),e=Ce.a.format(Te.getLongestDate(t,Ce.a.getMonthNames(),Ce.a.getDayNames()),t),n=this._input(),i=n.get(0),o=Object(de.d)(n,e),r=void 0!==this._storedPadding?this._storedPadding:0;o.appendTo(this.$element());var a=parseFloat(Pn.getComputedStyle(o.get(0)).width),s=parseFloat(Pn.getComputedStyle(i).paddingRight),l=parseFloat(Pn.getComputedStyle(i).paddingLeft),c=a+l+s+r;return o.remove(),{width:c,leftPadding:l,rightPadding:s}},_getKeyboardListeners:function(){return this.callBase().concat([this._strategy&&this._strategy.getKeyboardListener()])},_renderPopup:function(){this.callBase(),this._popup.$wrapper().addClass("dx-datebox-wrapper"),this._renderPopupWrapper()},_getPopupToolbarItems:function(){var t,e,n,i=this.callBase();return null!==(t=null===(e=(n=this._strategy)._getPopupToolbarItems)||void 0===e?void 0:e.call(n,i))&&void 0!==t?t:i},_popupConfig:function(){var t=this.callBase();return Object(a.a)(this._strategy.popupConfig(t),{title:this._getPopupTitle(),dragEnabled:!1})},_renderPopupWrapper:function(){if(this._popup){var t=this.$element(),e=Object(a.a)({},En,kn);Object(X.a)(e,function(e,n){t.removeClass("dx-datebox-wrapper-"+n)}.bind(this)),this._popup.$wrapper().addClass("dx-datebox-wrapper-"+this.option("type")).addClass("dx-datebox-wrapper-"+this._pickerType).addClass("dx-dropdowneditor-overlay")}},_renderPopupContent:function(){this.callBase(),this._strategy.renderPopupContent()},_getFirstPopupElement:function(){return this._strategy.getFirstPopupElement()||this.callBase()},_getLastPopupElement:function(){return this._strategy.getLastPopupElement()||this.callBase()},_popupShowingHandler:function(){this.callBase(),this._strategy.popupShowingHandler()},_popupShownHandler:function(){this.callBase(),this._strategy.renderOpenedState()},_popupHiddenHandler:function(){this.callBase(),this._strategy.renderOpenedState(),this._strategy.popupHiddenHandler()},_visibilityChanged:function(t){t&&this._formatValidationIcon()},_clearValueHandler:function(t){this.option("text",""),this.callBase(t)},_readOnlyPropValue:function(){if(this._pickerType===kn.rollers)return!0;var t=O.a.real().platform;return this._isNativeType()&&("ios"===t||"android"===t)?this.option("readOnly"):this.callBase()},_isClearButtonVisible:function(){return this.callBase()&&!this._isNativeType()},_renderValue:function(){var t=this.dateOption("value");return this.option("text",this._getDisplayedText(t)),this._strategy.renderValue(),this.callBase()},_setSubmitValue:function(){var t=this.dateOption("value"),e=this.option("dateSerializationFormat"),n=Te.SUBMIT_FORMATS_MAP[this.option("type")],i=e?we.a.serializeDate(t,e):Te.toStandardDateFormat(t,n);this._getSubmitElement().val(i)},_getDisplayedText:function(t){var e,n=this.option("mode");if("text"===n){var i=this._strategy.getDisplayFormat(this.option("displayFormat"));e=Ce.a.format(t,i)}else{var o=this._getFormatByMode(n);e=o?Ce.a.format(t,o):Te.toStandardDateFormat(t,n)}return e},_getFormatByMode:function(t){return Object(xe.inputType)(t)?null:Te.FORMATS_MAP[t]},_valueChangeEventHandler:function(t){var e=this.option(),n=e.text,i=e.type,o=e.validationError,r=this.dateOption("value");if(n!==this._getDisplayedText(r)){var a=this._getParsedDate(n),s=null!==r&&void 0!==r?r:this._getDateByDefault(),l=Te.mergeDates(s,a,i),c=a&&"time"===i?l:a;if(this._applyInternalValidation(c).isValid){var u=this._getDisplayedText(l);s&&l&&s.getTime()===l.getTime()&&u!==n?this._renderValue():this.dateValue(l,t)}}else o&&!o.editorSpecific||(this._applyInternalValidation(r),this._applyCustomValidation(r))},_getDateByDefault:function(){return this._strategy.useCurrentDateByDefault()&&this._strategy.getDefaultDate()},_getParsedDate:function(t){var e=this._strategy.getDisplayFormat(this.option("displayFormat")),n=this._strategy.getParsedText(t,e);return null!==n&&void 0!==n?n:void 0},_applyInternalValidation:function(t){var e=!!this.option("text")&&null!==t,n=!!t&&Object(s.b)(t)&&!isNaN(t.getTime()),i=n&&Se.a.dateInRange(t,this.dateOption("min"),this.dateOption("max"),this.option("type")),o=!e&&!t||i,r="";return n?i||(r=this.option("dateOutOfRangeMessage")):r=this.option("invalidDateMessage"),this.option({isValid:o,validationError:o?null:{editorSpecific:!0,message:r}}),{isValid:o,isDate:n}},_applyCustomValidation:function(t){this.validationRequest.fire({editor:this,value:this._serializeDate(t)})},_isValueChanged:function(t){var e=this.dateOption("value");return(e&&e.getTime())!==(t&&t.getTime())},_isTextChanged:function(t){return this.option("text")!==(t&&this._getDisplayedText(t)||"")},_renderProps:function(){this.callBase(),this._input().attr("autocomplete","off")},_renderOpenedState:function(){this._isNativeType()||this.callBase(),this._strategy.isAdaptivityChanged()&&this._refreshStrategy()},_getPopupTitle:function(){var t=this.option("placeholder");if(t)return t;var e=this.option("type");return e===En.time?J.a.format("dxDateBox-simulatedDataPickerTitleTime"):e===En.date||e===En.datetime?J.a.format("dxDateBox-simulatedDataPickerTitleDate"):""},_refreshStrategy:function(){this._strategy.dispose(),this._initStrategy(),this.option(this._strategy.getDefaultOptions()),this._refresh()},_applyButtonHandler:function(t){var e=this._strategy.getValue();this.dateValue(e,t.event),this.callBase()},_dispose:function(){var t;this.callBase(),null===(t=this._strategy)||void 0===t||t.dispose()},_isNativeType:function(){return this._pickerType===kn.native},_updatePopupTitle:function(){var t;null===(t=this._popup)||void 0===t||t.option("title",this._getPopupTitle())},_optionChanged:function(t){switch(t.name){case"showClearButton":case"buttons":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"pickerType":this._updatePickerOptions({pickerType:t.value}),this._refreshStrategy(),this._refreshPickerTypeClass(),this._invalidate();break;case"type":this._updatePickerOptions({format:t.value}),this._refreshStrategy(),this._refreshFormatClass(),this._renderPopupWrapper(),this._formatValidationIcon(),this._updateValue();break;case"placeholder":this.callBase.apply(this,arguments),this._updatePopupTitle();break;case"min":case"max":var e=this.option("isValid");this._applyInternalValidation(this.dateOption("value")),e||this._applyCustomValidation(this.dateOption("value")),this._invalidate();break;case"dateSerializationFormat":case"interval":case"disabledDates":case"calendarOptions":this._invalidate();break;case"displayFormat":this.option("text",this._getDisplayedText(this.dateOption("value"))),this._renderInputValue();break;case"text":this._strategy.textChangedHandler(t.value),this.callBase.apply(this,arguments);break;case"isValid":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"showDropDownButton":this._formatValidationIcon(),this.callBase.apply(this,arguments);break;case"readOnly":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"todayButtonText":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"invalidDateMessage":case"dateOutOfRangeMessage":case"adaptivityEnabled":case"showAnalogClock":break;default:this.callBase.apply(this,arguments)}},_getSerializationFormat:function(){var t=this.option("value");return this.option("dateSerializationFormat")&&Object(ft.a)().forceIsoDateParsing?this.option("dateSerializationFormat"):Object(s.i)(t)?"number":Object(s.o)(t)?we.a.getDateSerializationFormat(t):void 0},_updateValue:function(t){this.callBase(),this._applyInternalValidation(null!==t&&void 0!==t?t:this.dateOption("value"))},dateValue:function(t,e){var n=this._isValueChanged(t);return n&&e&&this._saveValueChangeEvent(e),n||(this._isTextChanged(t)?this._updateValue(t):""===this.option("text")&&this._applyCustomValidation(t)),this.dateOption("value",t)},dateOption:function(t,e){if(1===arguments.length)return we.a.deserializeDate(this.option(t));this.option(t,this._serializeDate(e))},_serializeDate:function(t){var e=this._getSerializationFormat();return we.a.serializeDate(t,e)},_clearValue:function(){var t=this.option("value");this.callBase(),null===t&&this._applyCustomValidation(null)},reset:function(){var t=this.option("value");this.callBase(),null===t&&this._applyInternalValidation(null)}}),Bn=n(53),Ln=n(72),Nn=Rn.inherit({_supportedKeys:function(t){var e=this,n=this.callBase(t),i=function(t,i){return e._shouldUseOriginalHandler(t)?function(t){var i=n[Object(v.n)(t)];return i&&i.apply(e,[t])}.apply(e,[t]):i.apply(e,[t])};return Object(a.a)({},n,{del:function(t){return i(t,function(t){e._revertPart(1),e._isAllSelected()||t.preventDefault()})},backspace:function(t){return i(t,function(t){e._revertPart(-1),e._isAllSelected()||t.preventDefault()})},home:function(t){return i(t,function(t){e._selectFirstPart(),t.preventDefault()})},end:function(t){return i(t,function(t){e._selectLastPart(),t.preventDefault()})},escape:function(t){return i(t,function(t){e._revertChanges(t)})},enter:function(t){return i(t,function(){e._enterHandler()})},leftArrow:function(t){return i(t,function(t){e._selectNextPart(-1),t.preventDefault()})},rightArrow:function(t){return i(t,function(t){e._selectNextPart(1),t.preventDefault()})},upArrow:function(t){return i(t,function(t){e._upDownArrowHandler(1),t.preventDefault()})},downArrow:function(t){return i(t,function(t){e._upDownArrowHandler(-1),t.preventDefault()})}})},_shouldUseOriginalHandler:function(t){var e=this.option("opened")&&t&&-1===["backspace","del"].indexOf(Object(v.n)(t));return!this._useMaskBehavior()||e||t&&t.altKey},_upDownArrowHandler:function(t){this._setNewDateIfEmpty();var e=this._getActivePartValue(this._initialMaskValue),n=this._getActivePartValue()-e;this._loadMaskValue(this._initialMaskValue),this._partIncrease(n+t,!0)},_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{useMaskBehavior:!1,emptyDateValue:new Date(2e3,0,1,0,0,0)})},_isSingleCharKey:function(t){var e=t.originalEvent,n=t.alt,i=e.data||e.key;return"string"===typeof i&&1===i.length&&!n&&!Object(v.i)(e)},_isSingleDigitKey:function(t){var e,n=null===(e=t.originalEvent)||void 0===e?void 0:e.data;return 1===(null===n||void 0===n?void 0:n.length)&&parseInt(n,10)},_useBeforeInputEvent:function(){return O.a.real().android},_keyInputHandler:function(t,e){var n=this._input().val();this._processInputKey(e),t.preventDefault(),n!==this._input().val()&&g.a.trigger(this._input(),"input")},_keyboardHandler:function(t){var e=this,n=t.originalEvent.key,i=this.callBase(t);return!this._useMaskBehavior()||this._useBeforeInputEvent()?i:(Ln.a.chrome&&"Process"===t.key&&0===t.code.indexOf("Digit")?(n=t.code.replace("Digit",""),this._processInputKey(n),this._maskInputHandler=function(){e._renderSelectedPart()}):this._isSingleCharKey(t)&&this._keyInputHandler(t.originalEvent,n),i)},_maskBeforeInputHandler:function(t){var e=this;this._maskInputHandler=null;var n=t.originalEvent.inputType;"insertCompositionText"===n&&(this._maskInputHandler=function(){e._renderSelectedPart()});var i="deleteContentBackward"===n;if(i||"deleteContentForward"===n){var o=i?-1:1;this._maskInputHandler=function(){e._revertPart(),e._selectNextPart(o)}}if(this._useMaskBehavior()&&this._isSingleCharKey(t)){var r=t.originalEvent.data;return this._keyInputHandler(t,r),!0}},_keyPressHandler:function(t){var e=t.originalEvent;"insertCompositionText"===(null===e||void 0===e?void 0:e.inputType)&&this._isSingleDigitKey(t)&&(this._processInputKey(e.data),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()),this.callBase(t),this._maskInputHandler&&(this._maskInputHandler(),this._maskInputHandler=null)},_processInputKey:function(t){this._isAllSelected()&&(this._activePartIndex=0),this._setNewDateIfEmpty(),isNaN(parseInt(t))?this._searchString(t):this._searchNumber(t)},_isAllSelected:function(){var t=this._caret();return t.end-t.start===this.option("text").length},_getFormatPattern:function(){if(this._formatPattern)return this._formatPattern;var t=this._strategy.getDisplayFormat(this.option("displayFormat")),e=Object(s.o)(t)&&!Ce.a._getPatternByFormat(t);return this._formatPattern=e?t:Object(Oe.a)(function(e){return Ce.a.format(e,t)}),this._formatPattern},_setNewDateIfEmpty:function(){if(!this._maskValue){var t="time"===this.option("type")?new Date(null):new Date;this._maskValue=t,this._initialMaskValue=t,this._renderDateParts()}},_partLimitsReached:function(t){var e=String(t).length,n=this._getActivePartProp("pattern").length,i=1===n?e:Math.min(n,e),o=this._searchValue.length===i,r=parseInt(this._searchValue+"0")>t;return o||r},_searchNumber:function(t){var e=this._getActivePartLimits().max,n=String(e).length;this._searchValue=(this._searchValue+t).substr(-n),isNaN(this._searchValue)&&(this._searchValue=t),this._setActivePartValue(this._searchValue),this._partLimitsReached(e)&&this._selectNextPart(1)},_searchString:function(t){if(isNaN(parseInt(this._getActivePartProp("text")))){for(var e=this._getActivePartProp("limits")(this._maskValue),n=this._searchValue+t.toLowerCase(),i=e.max-e.min,o=0;o<=i;o++)if(this._loadMaskValue(this._initialMaskValue),this._partIncrease(o+1),0===this._getActivePartProp("text").toLowerCase().indexOf(n))return void(this._searchValue=n);this._setNewDateIfEmpty(),this._searchValue&&(this._clearSearchValue(),this._searchString(t))}},_clearSearchValue:function(){this._searchValue=""},_revertPart:function(t){if(!this._isAllSelected()){var e=this._getActivePartValue(this.option("emptyDateValue"));this._setActivePartValue(e),this._selectNextPart(t)}this._clearSearchValue()},_useMaskBehavior:function(){return this.option("useMaskBehavior")&&"text"===this.option("mode")},_prepareRegExpInfo:function(){this._regExpInfo=Object(fe.c)(this._getFormatPattern(),Ce.a);var t=this._regExpInfo.regexp,e=t.source,n=t.flags,i=new RegExp(/(\{[0-9]+,?[0-9]*\})/),o=e.split(i).map(function(t){return i.test(t)?t:Bn.a.convertDigits(t,!1)}).join("");this._regExpInfo.regexp=new RegExp(o,n)},_initMaskState:function(){this._activePartIndex=0,this._formatPattern=null,this._prepareRegExpInfo(),this._loadMaskValue()},_renderMask:function(){this.callBase(),this._detachMaskEvents(),this._clearMaskState(),this._useMaskBehavior()&&(this._attachMaskEvents(),this._initMaskState(),this._renderDateParts())},_renderDateParts:function(){if(this._useMaskBehavior()){var t=this.option("text")||this._getDisplayedText(this._maskValue);t&&(this._dateParts=_e(t,this._regExpInfo),this._input().is(":hidden")||this._selectNextPart())}},_detachMaskEvents:function(){g.a.off(this._input(),".dateBoxMask")},_attachMaskEvents:function(){var t=this;g.a.on(this._input(),Object(v.a)("dxclick","dateBoxMask"),this._maskClickHandler.bind(this)),g.a.on(this._input(),Object(v.a)("paste","dateBoxMask"),this._maskPasteHandler.bind(this)),g.a.on(this._input(),Object(v.a)("drop","dateBoxMask"),function(){t._renderSelectedPart()}),g.a.on(this._input(),Object(v.a)("compositionend","dateBoxMask"),this._maskCompositionEndHandler.bind(this)),this._useBeforeInputEvent()&&g.a.on(this._input(),Object(v.a)("beforeinput","dateBoxMask"),this._maskBeforeInputHandler.bind(this))},_renderSelectedPart:function(){this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()},_selectLastPart:function(){this.option("text")&&(this._activePartIndex=this._dateParts.length,this._selectNextPart(-1))},_selectFirstPart:function(){this.option("text")&&(this._activePartIndex=-1,this._selectNextPart(1))},_onMouseWheel:function(t){this._useMaskBehavior()&&this._partIncrease(t.delta>0?1:-1,t)},_selectNextPart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.option("text")&&!this._disposed){t&&(this._initialMaskValue=new Date(this._maskValue));var e=Object(pe.b)(this._activePartIndex+t,0,this._dateParts.length-1);if(this._dateParts[e].isStub){if(!(0===e&&t<0||e===this._dateParts.length-1&&t>0))return void this._selectNextPart(t>=0?t+1:t-1);e=this._activePartIndex}this._activePartIndex!==e&&this._clearSearchValue(),this._activePartIndex=e,this._caret(this._getActivePartProp("caret"))}},_getRealLimitsPattern:function(){if("d"===this._getActivePartProp("pattern")[0])return"dM"},_getActivePartLimits:function(t){return this._getActivePartProp("limits")(this._maskValue,t&&this._getRealLimitsPattern())},_getActivePartValue:function(t){t=t||this._maskValue;var e=this._getActivePartProp("getter");return Object(s.h)(e)?e(t):t[e]()},_addLeadingZeroes:function(t){var e=this._searchValue.match(/^0+/),n=this._getActivePartLimits(),i=String(n.max).length;return((e&&e[0]||"")+String(t)).substr(-i)},_setActivePartValue:function(t,e){e=e||this._maskValue;var n=this._getActivePartProp("setter"),i=this._getActivePartLimits();t=Object(pe.e)(t,i.min,i.max)?t:t%10,t=this._addLeadingZeroes(Object(pe.b)(t,i.min,i.max)),Object(s.h)(n)?n(e,t):e[n](t),this._renderDisplayText(this._getDisplayedText(e)),this._renderDateParts()},_getActivePartProp:function(t){if(this._dateParts&&this._dateParts[this._activePartIndex])return this._dateParts[this._activePartIndex][t]},_loadMaskValue:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dateOption("value");this._maskValue=t&&new Date(t),this._initialMaskValue=t&&new Date(t)},_saveMaskValue:function(){var t=this._maskValue&&new Date(this._maskValue);t&&"date"===this.option("type")&&t.setHours(0,0,0,0),this._initialMaskValue=new Date(t),this.dateOption("value",t)},_revertChanges:function(){this._loadMaskValue(),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts()},_renderDisplayText:function(t){this.callBase(t),this._useMaskBehavior()&&this.option("text",t)},_partIncrease:function(t,e){this._setNewDateIfEmpty();var n=this._getActivePartLimits(e),i=n.max,o=n.min,r=i-o;1===r&&r++;var a=t+this._getActivePartValue();a>i?a=this._applyLimits(a,{limitBase:o,limitClosest:i,limitDelta:r}):a<o&&(a=this._applyLimits(a,{limitBase:i,limitClosest:o,limitDelta:r})),this._setActivePartValue(a)},_applyLimits:function(t,e){var n=e.limitBase,i=e.limitClosest,o=(t-i)%e.limitDelta;return o?n+o-1*Object(pe.g)(o):i},_maskClickHandler:function(){this._loadMaskValue(this._maskValue),this.option("text")&&(this._activePartIndex=function(t,e){for(var n=0;n<t.length;n++){var i=t[n].caret.end>=e;if(!t[n].isStub&&i)return n}return null}(this._dateParts,this._caret().start),this._isAllSelected()||(Object(s.d)(this._activePartIndex)?this._caret(this._getActivePartProp("caret")):this._selectLastPart()))},_maskCompositionEndHandler:function(t){var e=this;this._input().val(this._getDisplayedText(this._maskValue)),this._selectNextPart(),this._maskInputHandler=function(){e._renderSelectedPart()}},_maskPasteHandler:function(t){var e=this._replaceSelectedText(this.option("text"),this._caret(),Object(de.b)(t)),n=Ce.a.parse(e,this._getFormatPattern());n&&this._isDateValid(n)&&(this._maskValue=n,this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts(),this._selectNextPart()),t.preventDefault()},_isDateValid:function(t){return Object(s.b)(t)&&!isNaN(t)},_isValueDirty:function(){var t=this.dateOption("value");return(this._maskValue&&this._maskValue.getTime())!==(t&&t.getTime())},_fireChangeEvent:function(){this._clearSearchValue(),this._isValueDirty()&&g.a.trigger(this._input(),"change")},_enterHandler:function(){this._fireChangeEvent(),this._selectNextPart(1)},_focusOutHandler:function(t){this._useMaskBehavior()&&!t.isDefaultPrevented()?(this._fireChangeEvent(),this.callBase(t),this._selectFirstPart(t)):this.callBase(t)},_valueChangeEventHandler:function(t){var e=this.option("text");this._useMaskBehavior()?(this._saveValueChangeEvent(t),e?null===this._maskValue&&this._loadMaskValue(e):this._maskValue=null,this._saveMaskValue()):this.callBase(t)},_optionChanged:function(t){switch(t.name){case"useMaskBehavior":this._renderMask();break;case"displayFormat":case"mode":this.callBase(t),this._renderMask();break;case"value":this._loadMaskValue(),this.callBase(t),this._renderDateParts();break;case"emptyDateValue":break;default:this.callBase(t)}},_clearMaskState:function(){this._clearSearchValue(),delete this._dateParts,delete this._activePartIndex,delete this._maskValue},reset:function(){this._clearMaskState(),this._activePartIndex=0,this.callBase()},_clean:function(){this.callBase(),this._detachMaskEvents(),this._clearMaskState()}});Object(u.a)("dxDateBox",Nn);var zn=n(76),Fn=n(78),Hn=xt.a.inherit({ctor:function(t,e){var n=this;this.editor=t,this.validator=e,this.validationRequestsCallbacks=[];var i=function(t){n.validationRequestsCallbacks.forEach(function(e){return e(t)})};t.validationRequest.add(i),t.on("disposing",function(){t.validationRequest.remove(i)})},getValue:function(){return this.editor.option("value")},getCurrentValidationError:function(){return this.editor.option("validationError")},bypass:function(){return this.editor.option("disabled")},applyValidationResults:function(t){this.editor.option({validationErrors:t.brokenRules,validationStatus:t.status})},reset:function(){this.editor.reset()},focus:function(){this.editor.focus()}}),Vn=Fn.a.inherit({_initOptions:function(t){this.callBase.apply(this,arguments),this.option(yt.a.initValidationOptions(t))},_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{validationRules:[]})},_init:function(){this.callBase(),this._initGroupRegistration(),this.focused=Object(f.a)(),this._initAdapter(),this._validationInfo={result:null,deferred:null,skipValidation:!1}},_initGroupRegistration:function(){var t=this._findGroup();this._groupWasInit||this.on("disposing",function(t){yt.a.removeRegisteredValidator(t.component._validationGroup,t.component)}),this._groupWasInit&&this._validationGroup===t||(yt.a.removeRegisteredValidator(this._validationGroup,this),this._groupWasInit=!0,this._validationGroup=t,yt.a.registerValidatorInGroup(t,this))},_setOptionsByReference:function(){this.callBase(),Object(a.a)(this._optionsByReference,{validationGroup:!0})},_getEditor:function(){var t=this.$element()[0];return Object(wt.c)(t,"dx-validation-target")},_initAdapter:function(){var t=this,e=this._getEditor(),n=this.option("adapter");if(!n){if(e)return(n=new Hn(e,this)).validationRequestsCallbacks.push(function(e){t._validationInfo.skipValidation||t.validate(e)}),void this.option("adapter",n);throw p.a.Error("E0120")}var i=n.validationRequestsCallbacks;i&&i.push(function(e){t.validate(e)})},_toggleRTLDirection:function(t){var e,n,i,o=null!==(e=null===(n=this.option("adapter"))||void 0===n?void 0:null===(i=n.editor)||void 0===i?void 0:i.option("rtlEnabled"))&&void 0!==e?e:t;this.callBase(o)},_initMarkup:function(){this.$element().addClass("dx-validator"),this.callBase()},_render:function(){this.callBase(),this._toggleAccessibilityAttributes()},_toggleAccessibilityAttributes:function(){var t=this._getEditor();if(t){var e=(this.option("validationRules")||[]).some(function(t){return"required"===t.type})||null;t.isInitialized()&&t.setAria("required",e),t.option("_onMarkupRendered",function(){t.setAria("required",e)})}},_visibilityChanged:function(t){t&&this._initGroupRegistration()},_optionChanged:function(t){switch(t.name){case"validationGroup":return void this._initGroupRegistration();case"validationRules":return this._resetValidationRules(),this._toggleAccessibilityAttributes(),void(void 0!==this.option("isValid")&&this.validate());case"adapter":this._initAdapter();break;case"isValid":case"validationStatus":this.option(yt.a.synchronizeValidationOptions(t,this.option()));break;default:this.callBase(t)}},_getValidationRules:function(){var t=this;return this._validationRules||(this._validationRules=Object(X.b)(this.option("validationRules"),function(e,n){return Object(a.a)({},e,{validator:t,index:n})})),this._validationRules},_findGroup:function(){var t=this.$element();return this.option("validationGroup")||yt.a.findGroup(t,this._modelByElement(t))},_resetValidationRules:function(){delete this._validationRules},validate:function(t){var e,n=this,i=this.option("adapter"),o=this.option("name"),r=i.bypass&&i.bypass(),s=t&&void 0!==t.value?t.value:i.getValue(),l=i.getCurrentValidationError&&i.getCurrentValidationError(),c=this._getValidationRules(),u=this._validationInfo&&this._validationInfo.result;return u&&"pending"===u.status&&u.value===s?Object(a.a)({},u):(r?e={isValid:!0,status:"valid"}:l&&l.editorSpecific?(l.validator=this,e={isValid:!1,status:"invalid",brokenRule:l,brokenRules:[l]}):e=yt.a.validate(s,c,o),e.id=(new pt.a).toString(),this._applyValidationResult(e,i),e.complete&&e.complete.then(function(t){t.id===n._validationInfo.result.id&&n._applyValidationResult(t,i)}),Object(a.a)({},this._validationInfo.result))},reset:function(){var t=this.option("adapter"),e={id:null,isValid:!0,brokenRule:null,brokenRules:null,pendingRules:null,status:"valid",complete:null};this._validationInfo.skipValidation=!0,t.reset(),this._validationInfo.skipValidation=!1,this._resetValidationRules(),this._applyValidationResult(e,t)},_updateValidationResult:function(t){if(this._validationInfo.result&&this._validationInfo.result.id===t.id)for(var e in t)"id"!==e&&"complete"!==e&&(this._validationInfo.result[e]=t[e]);else{var n=this._validationInfo.deferred&&this._validationInfo.result.complete;this._validationInfo.result=Object(a.a)({},t,{complete:n})}},_applyValidationResult:function(t,e){var n=this._createActionByOption("onValidated",{excludeValidators:["readOnly"]});if(t.validator=this,this._updateValidationResult(t),e.applyValidationResults&&e.applyValidationResults(this._validationInfo.result),this.option({validationStatus:this._validationInfo.result.status}),"pending"===this._validationInfo.result.status)return this._validationInfo.deferred||(this._validationInfo.deferred=new m.a,this._validationInfo.result.complete=this._validationInfo.deferred.promise()),void this._eventsStrategy.fireEvent("validating",[this._validationInfo.result]);"pending"!==this._validationInfo.result.status&&(n(t),this._validationInfo.deferred&&(this._validationInfo.deferred.resolve(t),this._validationInfo.deferred=null))},focus:function(){var t=this.option("adapter");t&&t.focus&&t.focus()},_useTemplates:function(){return!1}});Object(u.a)("dxValidator",Vn);var Un=Vn,Wn=["dxTagBox","dxRangeSlider"],Kn=["dxCalendar","dxCheckBox","dxHtmlEditor","dxRadioGroup","dxRangeSlider","dxSlider","dxSwitch"];function $n(t){var e=t.$parent,n=t.rootElementCssClassList,i=t.formOrLayoutManager,o=t.createComponentCallback,r=t.item,l=t.template,c=t.labelTemplate,u=t.name,h=t.formLabelLocation,d=t.requiredMessageTemplate,p=t.validationGroup,f=t.editorValue,m=t.canAssignUndefinedValueToEditor,g=t.editorValidationBoundary,v=t.editorStylingMode,y=t.showColonAfterLabel,_=t.managerLabelLocation,b=t.itemId,C=t.managerMarkOptions,O=t.labelMode,x=t.onLabelTemplateRendered,S=Object(s.d)(r.isRequired)?r.isRequired:!!function(t){var e;t&&t.length&&Object(X.a)(t,function(t,n){if("required"===n.type)return e=!0,!1});return e}(r.validationRules),w=r.itemType===ue,P=r.helpText?"dx-"+new pt.a:null,k=function(t){var e=t.item,n=t.id,i=t.isRequired,o=t.managerMarkOptions,r=t.showColonAfterLabel,s=t.labelLocation,l=t.labelTemplate,c=t.formLabelMode,u=t.onLabelTemplateRendered,h=Kn.includes(e.editorType),d=Object(a.a)({showColon:r,location:s,id:n,visible:"outside"===c||h&&"hidden"!==c,isRequired:i},e?e.label:{},{markOptions:Gn(o,i),labelTemplate:l,onLabelTemplateRendered:u});["dxRadioGroup","dxCheckBox","dxLookup","dxSlider","dxRangeSlider","dxSwitch","dxHtmlEditor"].includes(e.editorType)&&(d.labelID="dx-label-".concat(new pt.a));!d.text&&e.dataField&&(d.text=Object(tt.b)(e.dataField));d.text&&(d.textWithoutColon=d.text,d.text+=d.showColon?":":"");return d}({item:r,id:b,isRequired:S,managerMarkOptions:C,showColonAfterLabel:y,labelLocation:_,formLabelMode:O,labelTemplate:c,onLabelTemplateRendered:x}),E=k.visible&&(k.text||k.labelTemplate&&w),T=k.location,I=k.labelID,j="top"!==T&&["dxTextArea","dxRadioGroup","dxCalendar","dxHtmlEditor"].includes(r.editorType),M=function(t){var e=t.editorType,n=t.defaultEditorName,i=t.editorValue,o=t.canAssignUndefinedValueToEditor,r=t.externalEditorOptions,l=t.editorInputId,c=t.editorValidationBoundary,u=t.editorStylingMode,h=t.formLabelMode,d=t.labelText,p=t.labelMark,f={};(void 0!==i||o)&&(f.value=i);-1!==Wn.indexOf(e)&&(f.value=f.value||[]);var m=null===r||void 0===r?void 0:r.labelMode;Object(s.d)(m)||(m="outside"===h?"hidden":h);var g=(null===r||void 0===r?void 0:r.stylingMode)||u,v=Object(a.a)(!0,f,r,{inputAttr:{id:l},validationBoundary:c,stylingMode:g,label:d,labelMode:m,labelMark:p});r&&(v.dataSource&&(v.dataSource=r.dataSource),v.items&&(v.items=r.items));n&&!v.name&&(v.name=n);return v}({editorType:r.editorType,editorValue:f,defaultEditorName:r.dataField,canAssignUndefinedValueToEditor:m,externalEditorOptions:r.editorOptions,editorInputId:b,editorValidationBoundary:g,editorStylingMode:v,formLabelMode:O,labelText:k.textWithoutColon,labelMark:k.markOptions.showRequiredMark?String.fromCharCode(160)+k.markOptions.requiredMark:""});return{$parent:e,rootElementCssClassList:n,formOrLayoutManager:i,createComponentCallback:o,labelOptions:k,labelNeedBaselineAlign:j,labelLocation:T,needRenderLabel:E,item:r,isSimpleItem:w,isRequired:S,template:l,helpID:P,labelID:I,name:u,helpText:k.markOptions.showOptionalMark&&!k.visible&&"hidden"!==M.labelMode&&!Object(s.d)(r.helpText)?k.markOptions.optionalMark:r.helpText,formLabelLocation:h,requiredMessageTemplate:d,validationGroup:p,editorOptions:M}}function Gn(t,e){return{showRequiredMark:t.showRequiredMark&&e,requiredMark:t.requiredMark,showOptionalMark:t.showOptionalMark&&!e,optionalMark:t.optionalMark}}var qn="dx-field-item-required-mark",Zn="dx-field-item-label-location-",Yn="dx-field-item-optional-mark",Xn="dx-field-item-label-text";function Qn(t){var e=t.text,n=t.id,i=t.location,o=t.alignment,a=t.labelID,c=void 0===a?null:a,u=t.markOptions,h=void 0===u?{}:u,d=t.labelTemplate,p=t.labelTemplateData,f=t.onLabelTemplateRendered;if((!Object(s.d)(e)||e.length<=0)&&!Object(s.d)(d))return null;var m=Object(r.a)("<label>").addClass(le+" "+Zn+i).attr("for",n).attr("id",c).css("textAlign",o),g=Object(r.a)("<span>").addClass(se),v=Object(r.a)("<span>").addClass(Xn).text(e);return d&&(v=Object(r.a)("<div>").addClass("dx-field-item-custom-label-content"),p.text=e,d.render({container:Object(l.a)(v),model:p,onRendered:function(){null===f||void 0===f||f()}})),m.append(g.append(v,function(t){var e=function(t){var e=t.showRequiredMark,n=t.requiredMark,i=t.showOptionalMark,o=t.optionalMark;return e||i?String.fromCharCode(160)+(e?n:o):""}(t);if(""===e)return null;return Object(r.a)("<span>").addClass(t.showRequiredMark?qn:Yn).text(e)}(h)))}function Jn(t){for(var e=0,n=t.children.length,i=0;i<n;i++){e+=t.children[i].offsetWidth}return e}var ti="dx-flex-layout",ei="dx-field-item-optional",ni="dx-field-item-required",ii="dx-field-item-content-wrapper",oi="dx-field-item-content-location-",ri="dx-field-item-label-align",ai="dx-field-item-help-text",si="dx-label-v-align",li="dx-label-h-align",ci="dx-template-wrapper",ui="dx-validation-target",hi="dx-invalid";function di(t){var e=t.$parent,n=t.rootElementCssClassList,i=t.formOrLayoutManager,o=t.createComponentCallback,a=t.labelOptions,s=t.labelNeedBaselineAlign,c=t.labelLocation,u=t.needRenderLabel,h=t.formLabelLocation,d=t.item,f=t.editorOptions,m=t.isSimpleItem,v=t.isRequired,y=t.template,_=t.helpID,b=t.labelID,C=t.name,O=t.helpText,x=t.requiredMessageTemplate,S=t.validationGroup,w=Object(r.a)("<div>").addClass(n.join(" ")).appendTo(e);w.addClass(v?ni:ei),m&&w.addClass(ti),m&&s&&w.addClass(ri);var P=Object(r.a)("<div>");P.data("dx-form-item",d),P.addClass(ce).addClass(oi+{right:"left",left:"right",top:"bottom"}[h]);var k,E=null;if(u&&(a.labelTemplate&&(a.labelTemplateData=mi(d,f,i)),E=Qn(a)),E?(w.append(E),"top"!==c&&"left"!==c||w.append(P),"right"===c&&w.prepend(P),"top"===c?w.addClass(si):w.addClass(li),"dxCheckBox"!==d.editorType&&"dxSwitch"!==d.editorType||g.a.on(E,Re.a,function(){g.a.trigger(P.children(),Re.a)})):w.append(P),y)y.render({container:Object(l.a)(P),model:mi(d,f,i),onRendered:function(){fi(function(t){var e,n;return(null===t||void 0===t?void 0:t.data(ui))||(null===t||void 0===t?void 0:null===(e=t.parent)||void 0===e?void 0:null===(n=e.call(t))||void 0===n?void 0:n.data(ui))}(pi(P)))}});else{var T=Object(r.a)("<div>").appendTo(P);try{(k=o(T,d.editorType,f)).setAria("describedby",_),b&&k.setAria("labelledby",b),k.setAria("required",v)}catch(L){p.a.log("E1035",L.message)}}var I=pi(P),j=I&&I.data(ui);if(j){var M,D=d.label&&d.label.text,A=D?null:C,R=D?d.label.text:A&&Object(tt.b)(A);if(m)if(d.validationRules)M=d.validationRules;else{var B=Object(zn.b)(x,R||"");M=d.isRequired?[{type:"required",message:B}]:null}Array.isArray(M)&&M.length&&o(I,Un,{validationRules:M,validationGroup:S,dataGetter:function(){return{formItem:d}}}),fi(j)}O&&m&&P.parent().append(Object(r.a)("<div>").addClass(ii).append(P).append(Object(r.a)("<div>").addClass(ai).attr("id",_).text(O)));return{$fieldEditorContainer:P,$rootElement:w,widgetInstance:k}}function pi(t){var e=t.children().first();return e.hasClass(ci)?e.children().first():e}function fi(t){if(t&&Object(Ot.d)()){var e=".".concat(ii),n=function(t){var n=t.element,i=t.component,o=i.option(),a=o.isValid,s=o.validationMessageMode;Object(r.a)(n).parents(e).toggleClass(hi,!1===a&&(i._isFocused()||"always"===s))};t.on("optionChanged",function(t){"isValid"===t.name&&n(t)}),t.on("focusIn",n).on("focusOut",n).on("enterKey",n)}}function mi(t,e,n){return{dataField:t.dataField,editorType:t.editorType,editorOptions:e,component:n,name:t.name}}var gi="dx-field-button-item";function vi(t){var e,n=t.item,i=t.$parent,o=t.rootElementCssClassList,l=t.validationGroup,c=t.createComponentCallback,u=Object(r.a)("<div>").appendTo(i).addClass(o.join(" ")).addClass(gi).css("textAlign",(e=n.horizontalAlignment,Object(s.d)(e)?e:"right"));return i.css("justifyContent",function(t){switch(t){case"center":return"center";case"bottom":return"flex-end";default:return"flex-start"}}(n.verticalAlignment)),{$rootElement:u,buttonInstance:c(Object(r.a)("<div>").appendTo(u),"dxButton",Object(a.a)({validationGroup:l},n.buttonOptions))}}var yi="dx-field-empty-item";function _i(t){var e=t.$parent,n=t.rootElementCssClassList;return Object(r.a)("<div>").addClass(yi).html("&nbsp;").addClass(n.join(" ")).appendTo(e)}var bi=gt.a.inherit({_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{layoutData:{},readOnly:!1,colCount:1,colCountByScreen:void 0,labelLocation:"left",onFieldDataChanged:null,onEditorEnterKey:null,customizeItem:null,alignItemLabels:!0,minColWidth:200,showRequiredMark:!0,screenByWidth:null,showOptionalMark:!1,requiredMark:"*",labelMode:"outside",optionalMark:J.a.format("dxForm-optionalMark"),requiredMessage:J.a.getFormatter("dxForm-requiredMessage")})},_setOptionsByReference:function(){this.callBase(),Object(a.a)(this._optionsByReference,{layoutData:!0,validationGroup:!0})},_init:function(){var t=this.option("layoutData");this.callBase(),this._itemWatchers=[],this._itemsRunTimeInfo=new _t,this._updateReferencedOptions(t),this._initDataAndItems(t)},_dispose:function(){this.callBase(),this._cleanItemWatchers()},_initDataAndItems:function(t){this._syncDataWithItems(),this._updateItems(t)},_syncDataWithItems:function(){var t=this,e=this.option("layoutData"),n=this.option("items");Object(s.d)(n)&&n.forEach(function(n){var i;n.dataField&&void 0===t._getDataByField(n.dataField)&&(n.editorOptions&&(i=n.editorOptions.value),(Object(s.d)(i)||n.dataField in e)&&t._updateFieldValue(n.dataField,i))})},_getDataByField:function(t){return t?this.option("layoutData."+t):null},_isCheckboxUndefinedStateEnabled:function(t){var e=t.allowIndeterminateState,n=t.editorType,o=t.dataField;if(!0===e&&"dxCheckBox"===n){var r=["layoutData"].concat(Object(i.a)(o.split("."))),a=r.pop(),s=this.option(r.join("."));return s&&a in s}return!1},_updateFieldValue:function(t,e){var n=this.option("layoutData"),i=e;!Vt.a.isWrapped(n[t])&&Object(s.d)(t)?this.option("layoutData."+t,i):Vt.a.isWritableWrapped(n[t])&&(i=Object(s.h)(i)?i():i,n[t](i)),this._triggerOnFieldDataChanged({dataField:t,value:i})},_triggerOnFieldDataChanged:function(t){this._createActionByOption("onFieldDataChanged")(t)},_updateItems:function(t){var e=this,n=this.option("items"),i=Object(s.d)(n),o=e.option("customizeItem"),r=i?n:this._generateItemsByData(t);if(Object(s.d)(r)){var a=[];Object(X.a)(r,function(t,n){e._isAcceptableItem(n)&&(n=e._processItem(n),o&&o(n),Object(s.j)(n)&&!1!==Vt.a.unwrap(n.visible)&&a.push(n))}),e._itemWatchers.length&&i||e._updateItemWatchers(r),this._setItems(a),this._sortItems()}},_cleanItemWatchers:function(){this._itemWatchers.forEach(function(t){t()}),this._itemWatchers=[]},_updateItemWatchers:function(t){var e=this,n=e._getWatch();t.forEach(function(t){Object(s.j)(t)&&Object(s.d)(t.visible)&&Object(s.h)(n)&&e._itemWatchers.push(n(function(){return Vt.a.unwrap(t.visible)},function(){e._updateItems(e.option("layoutData")),e.repaint()},{skipImmediate:!0}))})},_generateItemsByData:function(t){var e=[];return Object(s.d)(t)&&Object(X.a)(t,function(t){e.push({dataField:t})}),e},_isAcceptableItem:function(t){var e=t.dataField||t,n=this._getDataByField(e);return!(Object(s.h)(n)&&!Vt.a.isWrapped(n))},_processItem:function(t){if("string"===typeof t&&(t={dataField:t}),"object"!==typeof t||t.itemType||(t.itemType=ue),!Object(s.d)(t.editorType)&&Object(s.d)(t.dataField)){var e=this._getDataByField(t.dataField);t.editorType=Object(s.d)(e)?this._getEditorTypeByDataType(Object(s.q)(e)):"dxTextBox"}var n;"dxCheckBox"===t.editorType&&(t.allowIndeterminateState=null===(n=t.allowIndeterminateState)||void 0===n||n);return t},_getEditorTypeByDataType:function(t){switch(t){case"number":return"dxNumberBox";case"date":return"dxDateBox";case"boolean":return"dxCheckBox";default:return"dxTextBox"}},_sortItems:function(){Object(Ut.c)(this._items,"visibleIndex"),this._sortIndexes()},_sortIndexes:function(){this._items.sort(function(t,e){var n=t.visibleIndex,i=e.visibleIndex;return n>i?1:n<i?-1:0})},_initMarkup:function(){this._itemsRunTimeInfo.clear(),this.$element().addClass("dx-layout-manager"),this.callBase(),this._renderResponsiveBox()},_renderResponsiveBox:function(){var t=[];if(this._items&&this._items.length){var e=this._getColCount(),n=Object(r.a)("<div>").appendTo(this.$element());this._prepareItemsWithMerging(e);var i=this._generateLayoutItems();this._responsiveBox=this._createComponent(n,ae,this._getResponsiveBoxConfig(i,e,t)),Object(vt.f)()||this._renderTemplates(t)}},_itemStateChangedHandler:function(t){this._refresh()},_renderTemplates:function(t){var e=this,n=0;t.forEach(function(t){var e,i=t.item;null!==i&&void 0!==i&&null!==(e=i.label)&&void 0!==e&&e.template&&n++}),Object(X.a)(t,function(t,i){switch(i.itemType){case"empty":_i(i);break;case"button":e._renderButtonItem(i);break;default:e._renderFieldItem(i,n)}})},_getResponsiveBoxConfig:function(t,e,n){var i=this,o=i.option("colCountByScreen"),a=o&&o.xs;return{onItemStateChanged:this._itemStateChangedHandler.bind(this),onLayoutChanged:function(){var t=i.option("onLayoutChanged"),e=i.isSingleColumnMode();t&&(i.$element().toggleClass("dx-layout-manager-one-col",e),t(e))},onContentReady:function(t){Object(vt.f)()&&i._renderTemplates(n),i.option("onLayoutChanged")&&i.$element().toggleClass("dx-layout-manager-one-col",i.isSingleColumnMode(t.component))},itemTemplate:function(t,o,a){if(t.location){var l=Object(r.a)(a),c=t.location.row*e,u=i._items[t.location.col+c];if(u){var h=[u.cssClass];l.toggleClass("dx-single-column-item-content",i.isSingleColumnMode(this)),0===t.location.row&&h.push("dx-first-row"),0===t.location.col&&h.push("dx-first-col"),u.itemType===ue&&i.option("isRoot")&&l.addClass("dx-root-simple-item");var d=t.location.col===e-1||t.location.col+t.location.colspan===e,p=i._getRowsCount(),f=t.location.row===p-1;d&&h.push("dx-last-col"),f&&h.push("dx-last-row"),"empty"!==u.itemType&&(h.push("dx-field-item"),h.push(i.option("cssItemClass")),Object(s.d)(u.col)&&h.push("dx-col-"+u.col)),n.push({itemType:u.itemType,item:u,$parent:l,rootElementCssClassList:h})}}},cols:i._generateRatio(e),rows:i._generateRatio(i._getRowsCount(),!0),dataSource:t,screenByWidth:i.option("screenByWidth"),singleColumnScreen:!a&&"xs"}},_getColCount:function(){var t=this.option("colCount"),e=this.option("colCountByScreen");if(e){var n=this.option("form").getTargetScreenFactor();n||(n=Object(vt.f)()?Object(vt.b)(this.option("screenByWidth")):"lg"),t=e[n]||t}if("auto"===t){if(this._cashedColCount)return this._cashedColCount;this._cashedColCount=t=this._getMaxColCount()}return t<1?1:t},_getMaxColCount:function(){if(!Object(vt.f)())return 1;var t=this.option("minColWidth"),e=Object(Ht.k)(this.$element()),n=this._items.length,i=Math.floor(e/t)||1;return n<i?n:i},isCachedColCountObsolete:function(){return this._cashedColCount&&this._getMaxColCount()!==this._cashedColCount},_prepareItemsWithMerging:function(t){var e,n,i,o,r=this._items.slice(0),a=[];for(o=0;o<r.length;o++)if(e=r[o],a.push(e),(this.option("alignItemLabels")||e.alignItemLabels||e.colSpan)&&(e.col=this._getColByIndex(a.length-1,t)),e.colSpan>1&&e.col+e.colSpan<=t){for(n=[],i=0;i<e.colSpan-1;i++)n.push({merged:!0});a=a.concat(n)}else delete e.colSpan;this._setItems(a)},_getColByIndex:function(t,e){return t%e},_setItems:function(t){this._items=t,this._cashedColCount=null},_generateLayoutItems:function(){var t,e,n=this._items,i=this._getColCount(),o=[];for(e=0;e<n.length;e++)if(!(t=n[e]).merged){var r={location:{row:parseInt(e/i),col:this._getColByIndex(e,i)}};Object(s.d)(t.disabled)&&(r.disabled=t.disabled),Object(s.d)(t.visible)&&(r.visible=t.visible),Object(s.d)(t.colSpan)&&(r.location.colspan=t.colSpan),Object(s.d)(t.rowSpan)&&(r.location.rowspan=t.rowSpan),o.push(r)}return o},_renderEmptyItem:function(t){_i({$container:t})},_renderButtonItem:function(t){var e=t.item,n=vi({item:e,$parent:t.$parent,rootElementCssClassList:t.rootElementCssClassList,validationGroup:this.option("validationGroup"),createComponentCallback:this._createComponent.bind(this)}),i=n.$rootElement,o=n.buttonInstance;this._itemsRunTimeInfo.add({item:e,widgetInstance:o,guid:e.guid,$itemContainer:i})},_renderFieldItem:function(t,e){var n,i,o=this,r=t.item,a=t.$parent,s=t.rootElementCssClassList,l=this._getDataByField(r.dataField),c=!1;if(void 0===l){var u=r.allowIndeterminateState,h=r.editorType,d=r.dataField;c=this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:u,editorType:h,dataField:d})}var p=r.dataField||r.name,f=this._getFormOrThis(),m=di($n({$parent:a,rootElementCssClassList:s,item:r,name:p,editorValue:l,canAssignUndefinedValueToEditor:c,formOrLayoutManager:this._getFormOrThis(),createComponentCallback:this._createComponent.bind(this),formLabelLocation:this.option("labelLocation"),requiredMessageTemplate:this.option("requiredMessage"),validationGroup:this.option("validationGroup"),editorValidationBoundary:this.option("validationBoundary"),editorStylingMode:this.option("form")&&this.option("form").option("stylingMode"),showColonAfterLabel:this.option("showColonAfterLabel"),managerLabelLocation:this.option("labelLocation"),template:r.template?this._getTemplate(r.template):null,labelTemplate:null!==(n=r.label)&&void 0!==n&&n.template?this._getTemplate(r.label.template):null,itemId:this.option("form")&&this.option("form").getItemID(p),managerMarkOptions:this._getMarkOptions(),labelMode:this.option("labelMode"),onLabelTemplateRendered:function(){o._incTemplateRenderedCallCount(),o._shouldAlignLabelsOnTemplateRendered(f,e)&&f._alignLabels(o,o.isSingleColumnMode(f))}})),g=m.$fieldEditorContainer,v=m.widgetInstance,y=m.$rootElement;null===(i=this.option("onFieldItemRendered"))||void 0===i||i(),v&&r.dataField&&this._bindDataField(v,r.dataField,r.editorType,g),this._itemsRunTimeInfo.add({item:r,widgetInstance:v,guid:r.guid,$itemContainer:y})},_incTemplateRenderedCallCount:function(){var t;this._labelTemplateRenderedCallCount=(null!==(t=this._labelTemplateRenderedCallCount)&&void 0!==t?t:0)+1},_shouldAlignLabelsOnTemplateRendered:function(t,e){return t.option("templatesRenderAsynchronously")&&this._labelTemplateRenderedCallCount===e},_getMarkOptions:function(){return{showRequiredMark:this.option("showRequiredMark"),requiredMark:this.option("requiredMark"),showOptionalMark:this.option("showOptionalMark"),optionalMark:this.option("optionalMark")}},_getFormOrThis:function(){return this.option("form")||this},_bindDataField:function(t,e,n,i){var o=this._getFormOrThis();t.on("enterKey",function(t){o._createActionByOption("onEditorEnterKey")(Object(a.a)(t,{dataField:e}))}),this._createWatcher(t,i,e),this.linkEditorToDataField(t,e,n)},_createWatcher:function(t,e,n){var i=this,o=i._getWatch();if(Object(s.h)(o)){var r=o(function(){return i._getDataByField(n)},function(){var e=i._getDataByField(n);if("dxTagBox"===t.NAME){var o=t.option("value");if(e!==o&&function(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}(e,o))return}t.option("value",e)},{deep:!0,skipImmediate:!0});g.a.on(e,Kt.a,r)}},_getWatch:function(){if(!Object(s.d)(this._watch)){var t=this.option("form");this._watch=t&&t.option("integrationOptions.watchMethod")}return this._watch},_createComponent:function(t,e,n){var i=this.option("readOnly"),o=this.callBase(t,e,n);return i&&o.option("readOnly",i),this.on("optionChanged",function(t){"readOnly"!==t.name||Object(s.d)(n.readOnly)||o.option(t.name,t.value)}),o},_generateRatio:function(t,e){var n,i,o=[];for(i=0;i<t;i++)n={ratio:1},e&&(n.baseSize="auto"),o.push(n);return o},_getRowsCount:function(){return Math.ceil(this._items.length/this._getColCount())},_updateReferencedOptions:function(t){var e=this,n=this.option("layoutData");Object(s.j)(n)&&Object.getOwnPropertyNames(n).forEach(function(t){return delete e._optionsByReference["layoutData."+t]}),Object(s.j)(t)&&Object.getOwnPropertyNames(t).forEach(function(t){return e._optionsByReference["layoutData."+t]=!0})},_resetWidget:function(t){this._disableEditorValueChangedHandler=!0,t.reset(),this._disableEditorValueChangedHandler=!1,t.option("isValid",!0)},_optionChanged:function(t){var e=this;if(0!==t.fullName.search("layoutData."))switch(t.name){case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":this._cashedRequiredConfig=null,this._invalidate();break;case"layoutData":this._updateReferencedOptions(t.value),this.option("items")?Object(s.e)(t.value)||this._itemsRunTimeInfo.each(function(n,i){if(Object(s.d)(i.item)){var o=i.item.dataField;if(o&&Object(s.d)(i.widgetInstance)){var r=Object(Wt.a)(o)(t.value),a=i.item,l=a.allowIndeterminateState,c=a.editorType;void 0!==r||e._isCheckboxUndefinedStateEnabled({allowIndeterminateState:l,editorType:c,dataField:o})?i.widgetInstance.option("value",r):e._resetWidget(i.widgetInstance)}}}):(this._initDataAndItems(t.value),this._invalidate());break;case"items":this._cleanItemWatchers(),this._initDataAndItems(t.value),this._invalidate();break;case"alignItemLabels":case"labelLocation":case"labelMode":case"requiredMessage":this._invalidate();break;case"customizeItem":this._updateItems(this.option("layoutData")),this._invalidate();break;case"colCount":this._resetColCount();break;case"minColWidth":"auto"===this.option("colCount")&&this._resetColCount();break;case"readOnly":break;case"width":this.callBase(t),"auto"===this.option("colCount")&&this._resetColCount();break;case"onFieldDataChanged":break;default:this.callBase(t)}},_resetColCount:function(){this._cashedColCount=null,this._invalidate()},linkEditorToDataField:function(t,e){var n=this;this.on("optionChanged",function(n){n.fullName==="layoutData.".concat(e)&&t._setOptionWithoutOptionChange("value",n.value)}),t.on("valueChanged",function(t){var i=Object(s.j)(t.value)||Array.isArray(t.value);n._disableEditorValueChangedHandler||i&&t.value===t.previousValue||n._updateFieldValue(e,t.value)})},_dimensionChanged:function(){"auto"===this.option("colCount")&&this.isCachedColCountObsolete()&&this._eventsStrategy.fireEvent("autoColCountChanged")},updateData:function(t,e){var n=this;Object(s.j)(t)?Object(X.a)(t,function(t,e){n._updateFieldValue(t,e)}):"string"===typeof t&&n._updateFieldValue(t,e)},getEditor:function(t){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(t)||this._itemsRunTimeInfo.findWidgetInstanceByName(t)},isSingleColumnMode:function(t){var e=this._responsiveBox||t;if(e)return e.option("currentScreenFactor")===e.option("singleColumnScreen")},getItemsRunTimeInfo:function(){return this._itemsRunTimeInfo}});Object(u.a)("dxLayoutManager",bi);var Ci=qt.a.inherit({_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{focusStateEnabled:!1,noDataText:null})},_setOptionsByReference:function(){this.callBase(),Object(a.a)(this._optionsByReference,{validationGroup:!0})},_init:function(){this.callBase(),this._initGroupRegistration()},_initGroupRegistration:function(){var t=this.$element(),e=this.option("validationGroup")||yt.a.findGroup(t,this._modelByElement(t)),n=yt.a.addGroup(e);this._unsubscribeGroup(),this._groupWasInit=!0,this._validationGroup=e,this.groupSubscription=this._groupValidationHandler.bind(this),n.on("validated",this.groupSubscription)},_unsubscribeGroup:function(){var t=yt.a.getGroupConfig(this._validationGroup);t&&t.off("validated",this.groupSubscription)},_getOrderedItems:function(t,e){var n=[];return Object(X.a)(t,function(t,i){var o=Object(c.grep)(e,function(t){if(t.validator===i)return!0});o.length&&(n=n.concat(o))}),n},_groupValidationHandler:function(t){var e=this,n=this._getOrderedItems(t.validators,Object(X.b)(t.brokenRules,function(t){return{text:t.message,validator:t.validator,index:t.index}}));this.validators=t.validators,Object(X.a)(this.validators,function(t,n){if(n._validationSummary!==e){var i=e._itemValidationHandler.bind(e);n.on("validated",i),n.on("disposing",function(){n.off("validated",i),n._validationSummary=null,i=null}),n._validationSummary=e}}),this.option("items",n)},_itemValidationHandler:function(t){for(var e=t.isValid,n=t.validator,i=t.brokenRules,o=this.option("items"),r=!1,a=0,s=function(){var t=o[a];if(t.validator===n){var s=Object(c.grep)(i||[],function(e){return e.index===t.index})[0];if(e||!s)return o.splice(a,1),r=!0,"continue";s.message!==t.text&&(t.text=s.message,r=!0)}a++};a<o.length;)s();Object(X.a)(i,function(t,e){Object(c.grep)(o,function(t){return t.validator===n&&t.index===e.index})[0]||(o.push({text:e.message,validator:n,index:e.index}),r=!0)}),r&&(o=this._getOrderedItems(this.validators,o),this.option("items",o))},_initMarkup:function(){this.$element().addClass("dx-validationsummary"),this.callBase()},_optionChanged:function(t){switch(t.name){case"validationGroup":this._initGroupRegistration();break;default:this.callBase(t)}},_itemClass:function(){return"dx-validationsummary-item"},_itemDataKey:function(){return"dx-validationsummary-item-data"},_postprocessRenderItem:function(t){g.a.on(t.itemElement,"click",function(){t.itemData.validator&&t.itemData.validator.focus&&t.itemData.validator.focus()})},_dispose:function(){this.callBase(),this._unsubscribeGroup()},refreshValidationGroup:function(){this._initGroupRegistration()}});Object(u.a)("dxValidationSummary",Ci);var Oi=Ci,xi=function(t){function e(){return Object(x.a)(this,e),Object(T.a)(this,Object(I.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(S.a)(e,[{key:"_getDefaultOptions",value:function(){return Object(D.a)(Object(I.a)(e.prototype),"_getDefaultOptions",this).call(this)}},{key:"_init",value:function(){Object(D.a)(Object(I.a)(e.prototype),"_init",this).call(this),yt.a.addGroup(this)}},{key:"_initMarkup",value:function(){var t=this.$element();t.addClass("dx-validationgroup"),t.find(".".concat("dx-validator")).each(function(t,e){Un.getInstance(Object(r.a)(e))._initGroupRegistration()}),t.find(".".concat("dx-validationsummary")).each(function(t,e){Oi.getInstance(Object(r.a)(e)).refreshValidationGroup()}),Object(D.a)(Object(I.a)(e.prototype),"_initMarkup",this).call(this)}},{key:"validate",value:function(){return yt.a.validateGroup(this)}},{key:"reset",value:function(){return yt.a.resetGroup(this)}},{key:"_dispose",value:function(){yt.a.removeGroup(this),this.$element().removeClass("dx-validationgroup"),Object(D.a)(Object(I.a)(e.prototype),"_dispose",this).call(this)}},{key:"_useTemplates",value:function(){return!1}}]),e}(Fn.a);Object(u.a)("dxValidationGroup",xi);var Si=n(202),wi=["items","isRequired","validationRules","visible"],Pi=gt.a.inherit({_init:function(){this.callBase(),this._cachedColCountOptions=[],this._itemsRunTimeInfo=new _t,this._groupsColCount=[],this._attachSyncSubscriptions()},_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{formID:"dx-"+new pt.a,formData:{},colCount:1,screenByWidth:vt.a,colCountByScreen:void 0,labelLocation:"left",readOnly:!1,onFieldDataChanged:null,customizeItem:null,onEditorEnterKey:null,minColWidth:200,alignItemLabels:!0,alignItemLabelsInAllGroups:!0,alignRootItemLabels:!0,showColonAfterLabel:!0,showRequiredMark:!0,showOptionalMark:!1,requiredMark:"*",optionalMark:J.a.format("dxForm-optionalMark"),requiredMessage:J.a.getFormatter("dxForm-requiredMessage"),showValidationSummary:!1,items:void 0,scrollingEnabled:!1,validationGroup:void 0,stylingMode:Object(ft.a)().editorStylingMode,labelMode:"outside"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Object(Ot.d)()},options:{showColonAfterLabel:!1,labelLocation:"top"}}])},_setOptionsByReference:function(){this.callBase(),Object(a.a)(this._optionsByReference,{formData:!0,validationGroup:!0})},_getGroupColCount:function(t){return parseInt(t.attr("group-col-count"))},_applyLabelsWidthByCol:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=(arguments.length>3&&arguments[3],n.inOneColumn?"dx-field-item":"dx-col-"+e),o=n.excludeTabbed?":not(.".concat("dx-field-item-tab",")"):"";!function(t,e,n){var i,o,r="".concat(e," > .").concat(le,":not(.").concat(Zn,"top) > .").concat(se),a=t.find(r),s=a.length,l=0;for(o=0;o<s;o++)(i=Jn(a[o]))>l&&(l=i);for(o=0;o<s;o++)a[o].style.width=l+"px"}(t,".".concat(i).concat(o))},_applyLabelsWidth:function(t,e,n,i,o){i=n?1:i||this._getGroupColCount(t);var r,a={excludeTabbed:e,inOneColumn:n};for(r=0;r<i;r++)this._applyLabelsWidthByCol(t,r,a,o)},_getGroupElementsInColumn:function(t,e,n){var i=Object(s.d)(n)?".dx-group-colcount-"+n:"",o=".dx-col-"+e+" > ."+ce+" > .dx-form-group"+i;return t.find(o)},_applyLabelsWidthWithGroups:function(t,e,n,i){if(!0===this.option("alignRootItemLabels"))for(var o=t.find(".".concat("dx-root-simple-item")),r=0;r<e;r++)this._applyLabelsWidthByCol(o,r,n,i);if(this.option("alignItemLabelsInAllGroups"))this._applyLabelsWidthWithNestedGroups(t,e,n,i);else{var a,s=this.$element().find(".dx-form-group");for(a=0;a<s.length;a++)this._applyLabelsWidth(s.eq(a),n,void 0,void 0,i)}},_applyLabelsWidthWithNestedGroups:function(t,e,n,i){var o,r,a,s,l={excludeTabbed:n};for(o=0;o<e;o++)for(s=this._getGroupElementsInColumn(t,o),this._applyLabelsWidthByCol(s,0,l,i),r=0;r<this._groupsColCount.length;r++){s=this._getGroupElementsInColumn(t,o,this._groupsColCount[r]);var c=this._getGroupColCount(s);for(a=1;a<c;a++)this._applyLabelsWidthByCol(s,a,l,i)}},_labelLocation:function(){return this.option("labelLocation")},_alignLabelsInColumn:function(t){var e=t.layoutManager,n=t.inOneColumn,i=t.$container,o=t.excludeTabbed,r=t.items;if(Object(vt.f)()&&"top"!==this._labelLocation()){var a=Gn(e._getMarkOptions());n?this._applyLabelsWidth(i,o,!0,void 0,a):this._checkGrouping(r)?this._applyLabelsWidthWithGroups(i,e._getColCount(),o,a):this._applyLabelsWidth(i,o,!1,e._getColCount(),a)}},_prepareFormData:function(){Object(s.d)(this.option("formData"))||this.option("formData",{})},_setStylingModeClass:function(){"underlined"===this.option("stylingMode")&&this.$element().addClass("dx-form-styling-mode-underlined")},_initMarkup:function(){yt.a.addGroup(this._getValidationGroup()),this._clearCachedInstances(),this._prepareFormData(),this.$element().addClass("dx-form"),this._setStylingModeClass(),this.callBase(),this.setAria("role","form",this.$element()),this.option("scrollingEnabled")&&this._renderScrollable(),this._renderLayout(),this._renderValidationSummary(),this._lastMarkupScreenFactor=this._targetScreenFactor||this._getCurrentScreenFactor(),this._attachResizeObserverSubscription()},_attachResizeObserverSubscription:function(){var t=this;if(Object(vt.f)()){var e=this.$element().get(0);Ft.a.unobserve(e),Ft.a.observe(e,function(){t._resizeHandler()})}},_resizeHandler:function(){this._cachedLayoutManagers.length&&Object(X.a)(this._cachedLayoutManagers,function(t,e){var n;null===(n=e.option("onLayoutChanged"))||void 0===n||n(e.isSingleColumnMode())})},_getCurrentScreenFactor:function(){return Object(vt.f)()?Object(vt.b)(this.option("screenByWidth")):"lg"},_clearCachedInstances:function(){this._itemsRunTimeInfo.clear(),this._cachedLayoutManagers=[]},_alignLabels:function(t,e){this._alignLabelsInColumn({$container:this.$element(),layoutManager:t,excludeTabbed:!0,items:this.option("items"),inOneColumn:e}),Object(mt.b)(this.$element().find(".".concat(Si.a)))},_clean:function(){this._clearValidationSummary(),this.callBase(),this._groupsColCount=[],this._cachedColCountOptions=[],this._lastMarkupScreenFactor=void 0,Ft.a.unobserve(this.$element().get(0))},_renderScrollable:function(){var t=this.option("useNativeScrolling");this._scrollable=new Ct.a(this.$element(),{useNative:!!t,useSimulatedScrollbar:!t,useKeyboard:!1,direction:"both",bounceEnabled:!1})},_getContent:function(){return this.option("scrollingEnabled")?Object(r.a)(this._scrollable.content()):this.$element()},_clearValidationSummary:function(){var t;null===(t=this._$validationSummary)||void 0===t||t.remove(),this._$validationSummary=void 0,this._validationSummary=void 0},_renderValidationSummary:function(){this._clearValidationSummary(),this.option("showValidationSummary")&&(this._$validationSummary=Object(r.a)("<div>").addClass("dx-form-validation-summary").appendTo(this._getContent()),this._validationSummary=this._$validationSummary.dxValidationSummary({validationGroup:this._getValidationGroup()}).dxValidationSummary("instance"))},_prepareItems:function(t,e,n,i){if(t){for(var o=[],r=0;r<t.length;r++){var a=t[r],l=kt(n,Pt(r,i)),c={item:a,itemIndex:r,path:l},u=this._itemsRunTimeInfo.add(c);if(Object(s.o)(a)&&(a={dataField:a}),Object(s.j)(a)){var h=Object(dt.a)({},a);c.preparedItem=h,h.guid=u,this._tryPrepareGroupItem(h),this._tryPrepareTabbedItem(h,l),this._tryPrepareItemTemplate(h),e&&(h.cssItemClass="dx-field-item-tab"),h.items&&(h.items=this._prepareItems(h.items,e,l)),o.push(h)}else o.push(a)}return o}},_tryPrepareGroupItem:function(t){var e=this;"group"===t.itemType&&(t.alignItemLabels=Object(c.ensureDefined)(t.alignItemLabels,!0),t._prepareGroupItemTemplate=function(n){t.template&&(t.groupContentTemplate=e._getTemplate(n)),t.template=e._itemGroupTemplate.bind(e,t)},t._prepareGroupItemTemplate(t.template))},_tryPrepareTabbedItem:function(t,e){"tabbed"===t.itemType&&(t.template=this._itemTabbedTemplate.bind(this,t),t.tabs=this._prepareItems(t.tabs,!0,e,!0))},_tryPrepareItemTemplate:function(t){t.template&&(t.template=this._getTemplate(t.template))},_checkGrouping:function(t){if(t)for(var e=0;e<t.length;e++){if("group"===t[e].itemType)return!0}},_renderLayout:function(){var t=this,e=t.option("items"),n=t._getContent();e=t._prepareItems(e),t._rootLayoutManager=t._renderLayoutManager(n,this._createLayoutManagerOptions(e,{isRoot:!0,colCount:t.option("colCount"),alignItemLabels:t.option("alignItemLabels"),screenByWidth:this.option("screenByWidth"),colCountByScreen:this.option("colCountByScreen"),onLayoutChanged:function(e){t._alignLabels.bind(t)(t._rootLayoutManager,e)},onContentReady:function(e){t._alignLabels(e.component,e.component.isSingleColumnMode())}}))},_tryGetItemsForTemplate:function(t){return t.items||[]},_itemTabbedTemplate:function(t,e,n){var o=this,s=Object(r.a)("<div>").appendTo(n),l=Object(a.a)({},t.tabPanelOptions,{dataSource:t.tabs,onItemRendered:function(e){var n,i;null===(n=t.tabPanelOptions)||void 0===n||null===(i=n.onItemRendered)||void 0===i||i.call(n,e),Object(mt.c)(e.itemElement)},itemTemplate:function(t,e,n){var i=Object(r.a)(n),a=Object(c.ensureDefined)(t.alignItemLabels,!0),s=o._renderLayoutManager(i,o._createLayoutManagerOptions(o._tryGetItemsForTemplate(t),{colCount:t.colCount,alignItemLabels:a,screenByWidth:o.option("screenByWidth"),colCountByScreen:t.colCountByScreen,cssItemClass:t.cssItemClass,onLayoutChanged:function(e){o._alignLabelsInColumn({$container:i,layoutManager:s,items:t.items,inOneColumn:e})}}));o._itemsRunTimeInfo&&o._itemsRunTimeInfo.extendRunTimeItemInfoByKey(t.guid,{layoutManager:s}),a&&o._alignLabelsInColumn({$container:i,layoutManager:s,items:t.items,inOneColumn:s.isSingleColumnMode()})}}),u=function(t,e){Array.isArray(t)&&t.forEach(function(t){return o._itemsRunTimeInfo.extendRunTimeItemInfoByKey(t.guid,{widgetInstance:e})})},h=this._createComponent(s,bt.a,l);Object(r.a)(n).parent().addClass("dx-field-item-has-tabs"),h.on("optionChanged",function(t){"dataSource"===t.fullName&&u(t.value,t.component)}),u([{guid:t.guid}].concat(Object(i.a)(t.tabs)),h)},_itemGroupTemplate:function(t,e,n){var i,o,a=this,c=Object(r.a)("<div>").toggleClass("dx-form-group-with-caption",Object(s.d)(t.caption)&&t.caption.length).addClass("dx-form-group").appendTo(n);Object(r.a)(n).parent().addClass("dx-field-item-has-group"),t.caption&&Object(r.a)("<span>").addClass("dx-form-group-caption").text(t.caption).appendTo(c);var u=Object(r.a)("<div>").addClass("dx-form-group-content").appendTo(c);t.groupContentTemplate?(t._renderGroupContentTemplate=function(){u.empty();var e={formData:a.option("formData"),component:a};t.groupContentTemplate.render({model:e,container:Object(l.a)(u)})},t._renderGroupContentTemplate()):(o=this._renderLayoutManager(u,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(t),{colCount:t.colCount,colCountByScreen:t.colCountByScreen,alignItemLabels:t.alignItemLabels,cssItemClass:t.cssItemClass})),this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(t.guid,{layoutManager:o}),i=o._getColCount(),this._groupsColCount.includes(i)||this._groupsColCount.push(i),c.addClass("dx-group-colcount-"+i),c.attr("group-col-count",i))},_createLayoutManagerOptions:function(t,e){var n=this;return function(t){var e=t.form,n=t.$formElement,i=t.formOptions,o=t.items,r=t.validationGroup,s=t.extendedLayoutManagerOptions,l={form:e,items:o,$formElement:n,validationGroup:r,onFieldDataChanged:t.onFieldDataChanged,onContentReady:t.onContentReady,onDisposing:t.onDisposing,onFieldItemRendered:t.onFieldItemRendered,validationBoundary:i.scrollingEnabled?n:void 0,scrollingEnabled:i.scrollingEnabled,showRequiredMark:i.showRequiredMark,showOptionalMark:i.showOptionalMark,requiredMark:i.requiredMark,optionalMark:i.optionalMark,requiredMessage:i.requiredMessage,screenByWidth:i.screenByWidth,layoutData:i.formData,labelLocation:i.labelLocation,customizeItem:i.customizeItem,minColWidth:i.minColWidth,showColonAfterLabel:i.showColonAfterLabel,onEditorEnterKey:i.onEditorEnterKey,labelMode:i.labelMode};return Object(a.a)(l,{isRoot:s.isRoot,colCount:s.colCount,alignItemLabels:s.alignItemLabels,cssItemClass:s.cssItemClass,colCountByScreen:s.colCountByScreen,onLayoutChanged:s.onLayoutChanged,width:s.width})}({form:this,formOptions:this.option(),$formElement:this.$element(),items:t,validationGroup:this._getValidationGroup(),extendedLayoutManagerOptions:e,onFieldDataChanged:function(t){n._isDataUpdating||n._triggerOnFieldDataChanged(t)},onContentReady:function(t){n._itemsRunTimeInfo.addItemsOrExtendFrom(t.component._itemsRunTimeInfo),e.onContentReady&&e.onContentReady(t)},onDisposing:function(t){var e=t.component.getItemsRunTimeInfo();n._itemsRunTimeInfo.removeItemsByItems(e)},onFieldItemRendered:function(){var t;null===(t=n._validationSummary)||void 0===t||t.refreshValidationGroup()}})},_renderLayoutManager:function(t,e){var n=this,i={lg:e.colCount,md:e.colCount,sm:e.colCount,xs:1};this._cachedColCountOptions.push({colCountByScreen:Object(a.a)(i,e.colCountByScreen)});var o=Object(r.a)("<div>");o.appendTo(t);var s=this._createComponent(o,"dxLayoutManager",e);return s.on("autoColCountChanged",function(){n._clearAutoColCountChangedTimeout(),n.autoColCountChangedTimeoutId=setTimeout(function(){return!n._disposed&&n._refresh()},0)}),this._cachedLayoutManagers.push(s),s},_getValidationGroup:function(){return this.option("validationGroup")||this},_createComponent:function(t,e,n){return n=n||{},this._extendConfig(n,{readOnly:this.option("readOnly")}),this.callBase(t,e,n)},_attachSyncSubscriptions:function(){var t=this;t.on("optionChanged",function(e){var n=e.fullName;"formData"===n&&(Object(s.d)(e.value)||t._options.silent("formData",e.value={}),t._triggerOnFieldDataChangedByDataSet(e.value)),t._cachedLayoutManagers.length&&Object(X.a)(t._cachedLayoutManagers,function(i,o){"formData"===n&&(t._isDataUpdating=!0,o.option("layoutData",e.value),t._isDataUpdating=!1),"readOnly"!==e.name&&"disabled"!==e.name||o.option(n,e.value)})})},_optionChanged:function(t){var e=t.fullName.split(".");e.length>1&&-1!==e[0].search("items")&&this._itemsOptionChangedHandler(t)||e.length>1&&-1!==e[0].search("formData")&&this._formDataOptionChangedHandler(t)||this._defaultOptionChangedHandler(t)},_defaultOptionChangedHandler:function(t){switch(t.name){case"formData":this.option("items")?Object(s.e)(t.value)&&this._resetValues():this._invalidate();break;case"onFieldDataChanged":break;case"items":case"colCount":case"onEditorEnterKey":case"labelLocation":case"labelMode":case"alignItemLabels":case"showColonAfterLabel":case"customizeItem":case"alignItemLabelsInAllGroups":case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":case"requiredMessage":case"scrollingEnabled":case"formID":case"colCountByScreen":case"screenByWidth":case"stylingMode":this._invalidate();break;case"showValidationSummary":this._renderValidationSummary();break;case"minColWidth":"auto"===this.option("colCount")&&this._invalidate();break;case"alignRootItemLabels":case"readOnly":break;case"width":this.callBase(t),this._rootLayoutManager.option(t.name,t.value),this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode());break;case"validationGroup":yt.a.removeGroup(t.previousValue||this),this._invalidate();break;default:this.callBase(t)}},_itemsOptionChangedHandler:function(t){var e=t.fullName.split("."),n=t.value,i=this._getItemPath(e),o=this.option(i),r=t.fullName.replace(i+".",""),a=r.split(".")[0].replace(/\[\d+]/,""),s=this._tryCreateItemOptionAction(a,o,o[a],t.previousValue,i),l=this._tryExecuteItemOptionAction(s)||this._tryChangeLayoutManagerItemOption(t.fullName,n);if(!l&&o){this._changeItemOption(o,r,n);var c=this._generateItemsFromData(this.option("items"));this.option("items",c),l=!0}return l},_formDataOptionChangedHandler:function(t){var e=t.fullName.split("."),n=t.value,i=e.slice(1).join("."),o=this.getEditor(i);return o?o.option("value",n):this._triggerOnFieldDataChanged({dataField:i,value:n}),!0},_tryCreateItemOptionAction:function(t,e,n,i,o){return"tabs"===t&&(this._itemsRunTimeInfo.removeItemsByPathStartWith("".concat(o,".tabs")),n=this._prepareItems(n,!0,o,!0)),zt(t,{item:e,value:n,previousValue:i,itemsRunTimeInfo:this._itemsRunTimeInfo})},_tryExecuteItemOptionAction:function(t){return t&&t.tryExecute()},_updateValidationGroupAndSummaryIfNeeded:function(t){var e,n=It(t);wi.indexOf(n)>-1&&(yt.a.addGroup(this._getValidationGroup()),this.option("showValidationSummary")&&(null===(e=this._validationSummary)||void 0===e||e.refreshValidationGroup()))},_setLayoutManagerItemOption:function(t,e,n,o){var r=this;if(this._updateLockCount>0){!t._updateLockCount&&t.beginUpdate();var a=this._itemsRunTimeInfo.findKeyByPath(o);this.postponedOperations.add(a,function(){return!t._disposed&&t.endUpdate(),(new m.a).resolve()})}t.on("contentReady",function t(e){if(e.component.off("contentReady",t),jt(o)){var n=function(t){for(var e=t.split("."),n=Object(i.a)(e),o=e.length-1;o>=0;o--){if(jt(e[o]))return n.join(".");n.splice(o,1)}return""}(o),a=r._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(n);a&&r._alignLabelsInColumn({items:a.option("items"),layoutManager:a,$container:a.$element(),inOneColumn:a.isSingleColumnMode()})}else r._alignLabels(r._rootLayoutManager,r._rootLayoutManager.isSingleColumnMode())}),t.option(e,n),this._updateValidationGroupAndSummaryIfNeeded(e)},_tryChangeLayoutManagerItemOption:function(t,e){var n=t.split("."),i=It(t);if("items"===i&&n.length>1){var o=this._getItemPath(n),r=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(o);if(r){this._itemsRunTimeInfo.removeItemsByItems(r.getItemsRunTimeInfo());var a=this._prepareItems(e,!1,o);return this._setLayoutManagerItemOption(r,i,a,o),!0}}else if(n.length>2){var s=n.length-2,l=this._getItemPath(n.slice(0,s)),c=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(l);if(c){var u=Tt(n[s],i);if("editorType"===i&&c.option(u)!==e)return!1;if("visible"===i){var h=this.option(Tt(l,"items"));if(h&&h.length){var d=c.option("items");h.forEach(function(t,e){d[e].visibleIndex=t.visibleIndex})}}return this._setLayoutManagerItemOption(c,u,e,l),!0}}return!1},_tryChangeLayoutManagerItemOptions:function(t,e){var n,i=this;return this.beginUpdate(),Object(X.a)(e,function(e,o){if(!(n=i._tryChangeLayoutManagerItemOption(Tt(t,e),o)))return!1}),this.endUpdate(),n},_getItemPath:function(t){var e,n=t[0];for(e=1;e<t.length&&-1!==t[e].search(/items\[\d+]|tabs\[\d+]/);e++)n+="."+t[e];return n},_triggerOnFieldDataChanged:function(t){this._createActionByOption("onFieldDataChanged")(t)},_triggerOnFieldDataChangedByDataSet:function(t){var e=this;t&&Object(s.j)(t)&&Object(X.a)(t,function(t,n){e._triggerOnFieldDataChanged({dataField:t,value:n})})},_updateFieldValue:function(t,e){if(Object(s.d)(this.option("formData"))){var n=this.getEditor(t);if(this.option("formData."+t,e),n)n.option("value")!==e&&n.option("value",e)}},_generateItemsFromData:function(t){var e=this.option("formData"),n=[];return!t&&Object(s.d)(e)&&Object(X.a)(e,function(t){n.push({dataField:t})}),t&&Object(X.a)(t,function(t,e){Object(s.j)(e)?n.push(e):n.push({dataField:e})}),n},_getItemByField:function(t,e){var n,i=this,o=Object(s.j)(t)?t:i._getFieldParts(t),r=o.fieldName,a=o.fieldPath;return e.length&&Object(X.a)(e,function(t,e){var o=e.itemType;if(a.length){var s=a.slice();e=i._getItemByFieldPath(s,r,e)}else if("group"===o&&!e.caption&&!e.name||"tabbed"===o&&!e.name){var l=i._getSubItemField(o);e.items=i._generateItemsFromData(e.items),e=i._getItemByField({fieldName:r,fieldPath:a},e[l])}if(function(t,e){return!!t&&(t.dataField===e||t.name===e||Et(t.title)===e||"group"===t.itemType&&Et(t.caption)===e)}(e,r))return n=e,!1}),n},_getFieldParts:function(t){for(var e=t,n=e.indexOf("."),i=[];-1!==n;)i.push(e.substr(0,n)),n=(e=e.substr(n+1)).indexOf(".");return{fieldName:e,fieldPath:i.reverse()}},_getItemByFieldPath:function(t,e,n){var i,o=n.itemType,r=this._getSubItemField(o),a="group"===o||"tabbed"===o||n.title;do{if(!a)break;var l=n.name||n.caption||n.title,c=Object(s.d)(l),u=Et(l),h=void 0;if(n[r]=this._generateItemsFromData(n[r]),c&&(h=t.pop()),!t.length&&(i=this._getItemByField(e,n[r])))break;(!c||c&&u===h)&&t.length&&(i=this._searchItemInEverySubItem(t,e,n[r]))}while(t.length&&!Object(s.d)(i));return i},_getSubItemField:function(t){return"tabbed"===t?"tabs":"items"},_searchItemInEverySubItem:function(t,e,n){var i,o=this;return Object(X.a)(n,function(n,r){if(i=o._getItemByFieldPath(t.slice(),e,r))return!1}),i||(i=!1),i},_changeItemOption:function(t,e,n){Object(s.j)(t)&&(t[e]=n)},_dimensionChanged:function(){var t=this._getCurrentScreenFactor();this._lastMarkupScreenFactor!==t&&(this._isColCountChanged(this._lastMarkupScreenFactor,t)&&(this._targetScreenFactor=t,this._refresh(),this._targetScreenFactor=void 0),this._lastMarkupScreenFactor=t)},_isColCountChanged:function(t,e){var n=!1;return Object(X.a)(this._cachedColCountOptions,function(i,o){if(o.colCountByScreen[t]!==o.colCountByScreen[e])return n=!0,!1}),n},_refresh:function(){g.a.trigger(this.$element().find(".dx-state-focused input, .dx-state-focused textarea"),"change"),this.callBase()},_resetValues:function(){this._itemsRunTimeInfo.each(function(t,e){Object(s.d)(e.widgetInstance)&&d.a.isEditor(e.widgetInstance)&&(e.widgetInstance.reset(),e.widgetInstance.option("isValid",!0))}),yt.a.resetGroup(this._getValidationGroup())},_updateData:function(t,e,n){var i=this,o=n?e:t;Object(s.j)(o)?Object(X.a)(o,function(e,o){i._updateData(n?t+"."+e:e,o,Object(s.j)(o))}):Object(s.o)(t)&&i._updateFieldValue(t,e)},registerKeyHandler:function(t,e){this.callBase(t,e),this._itemsRunTimeInfo.each(function(n,i){Object(s.d)(i.widgetInstance)&&i.widgetInstance.registerKeyHandler(t,e)})},_focusTarget:function(){return this.$element().find("."+ce+" [tabindex]").first()},_visibilityChanged:function(){this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode())},_clearAutoColCountChangedTimeout:function(){this.autoColCountChangedTimeoutId&&(clearTimeout(this.autoColCountChangedTimeoutId),this.autoColCountChangedTimeoutId=void 0)},_dispose:function(){this._clearAutoColCountChangedTimeout(),yt.a.removeGroup(this._getValidationGroup()),this.callBase()},resetValues:function(){this._resetValues()},updateData:function(t,e){this._updateData(t,e)},getEditor:function(t){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(t)||this._itemsRunTimeInfo.findWidgetInstanceByName(t)},getButton:function(t){return this._itemsRunTimeInfo.findWidgetInstanceByName(t)},updateDimensions:function(){var t=this,e=new m.a;return t._scrollable?t._scrollable.update().done(function(){e.resolveWith(t)}):e.resolveWith(t),e.promise()},itemOption:function(t,e,n){var i=this,o=this._generateItemsFromData(this.option("items")),r=this._getItemByField(t,o),a=function t(e,n,i){var o=e.indexOf(n);if(o>-1)return Pt(o,i);for(var r=0;r<e.length;r++){var a=e[r],s=a.tabs||a.items;if(s){var l=t(s,n,a.tabs);if(l)return kt(Pt(r,i),l)}}}(o,r);if(r)switch(arguments.length){case 1:return r;case 3:var l=this._tryCreateItemOptionAction(e,r,n,r[e],a);this._changeItemOption(r,e,n);var c=Tt(a,e);this._tryExecuteItemOptionAction(l)||this._tryChangeLayoutManagerItemOption(c,n)||this.option("items",o);break;default:var u;if(Object(s.j)(e))if(!this._tryChangeLayoutManagerItemOptions(a,e))Object(X.a)(e,function(t,e){var n=i._tryCreateItemOptionAction(t,r,e,r[t],a);i._changeItemOption(r,t,e),u||i._tryExecuteItemOptionAction(n)||(u=!0)}),u&&this.option("items",o)}},validate:function(){return yt.a.validateGroup(this._getValidationGroup())},getItemID:function(t){return"dx_"+this.option("formID")+"_"+(t||new pt.a)},getTargetScreenFactor:function(){return this._targetScreenFactor}});Object(u.a)("dxForm",Pi);var ki=Pi,Ei=n(88),Ti=qt.a.inherit({_initTemplates:function(){var t=this;this.callBase(),this._templateManager.addDefaultTemplates({item:new Ei.a(function(e,n,i){t._prepareItemStyles(e);var o=t.option("buttonTemplate");t._createComponent(e,je.default,Object(a.a)({},i,n,t._getBasicButtonOptions(),{_templateData:t._hasCustomTemplate(o)?i:{},template:i.template||o}))},["text","type","icon","disabled","visible","hint"],this.option("integrationOptions.watchMethod"))})},_getBasicButtonOptions:function(){return{focusStateEnabled:!1,onClick:null,hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),stylingMode:this.option("stylingMode")}},_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{itemTemplateProperty:null})},_hasCustomTemplate:function(t){return Object(s.h)(t)||this.option("integrationOptions.templates")[t]},_prepareItemStyles:function(t){var e=t.data("dxItemIndex");0===e&&t.addClass("dx-buttongroup-first-item");var n=this.option("items");n&&e===n.length-1&&t.addClass("dx-buttongroup-last-item"),t.addClass("dx-shape-standard")},_renderItemContent:function(t){return t.container=Object(r.a)(t.container).parent(),this.callBase(t)},_renderItemContentByNode:function(t,e){return t.container=Object(r.a)(t.container.children().first()),this.callBase(t,e)},_focusTarget:function(){return this.$element().parent()},_keyboardEventBindingTarget:function(){return this._focusTarget()},_refreshContent:function(){this._prepareContent(),this._renderContent()},_itemClass:function(){return"dx-buttongroup-item"},_itemSelectHandler:function(t){"single"===this.option("selectionMode")&&this.isItemSelected(t.currentTarget)||this.callBase(t)}}),Ii=gt.a.inherit({_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{hoverStateEnabled:!0,focusStateEnabled:!0,selectionMode:"single",selectedItems:[],selectedItemKeys:[],stylingMode:"contained",keyExpr:"text",items:[],buttonTemplate:"content",onSelectionChanged:null,onItemClick:null})},_init:function(){this.callBase(),this._createItemClickAction()},_createItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_initMarkup:function(){this.setAria("role","group"),this.$element().addClass("dx-buttongroup"),this._renderButtons(),this._syncSelectionOptions(),this.callBase()},_fireSelectionChangeEvent:function(t,e){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:t,removedItems:e})},_renderButtons:function(){var t=this,e=Object(r.a)("<div>").addClass("dx-buttongroup-wrapper").appendTo(this.$element()),n=this.option("selectedItems"),i={selectionMode:this.option("selectionMode"),items:this.option("items"),keyExpr:this.option("keyExpr"),buttonTemplate:this.option("buttonTemplate"),scrollingEnabled:!1,selectedItemKeys:this.option("selectedItemKeys"),focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),stylingMode:this.option("stylingMode"),accessKey:this.option("accessKey"),tabIndex:this.option("tabIndex"),noDataText:"",selectionRequired:!1,onItemRendered:function(e){var n=t.option("width");Object(s.d)(n)&&Object(r.a)(e.itemElement).addClass("dx-buttongroup-item-has-width")},onSelectionChanged:function(e){t._syncSelectionOptions(),t._fireSelectionChangeEvent(e.addedItems,e.removedItems)},onItemClick:function(e){t._itemClickAction(e)}};Object(s.d)(n)&&n.length&&(i.selectedItems=n),this._buttonsCollection=this._createComponent(e,Ti,i)},_syncSelectionOptions:function(){this._setOptionWithoutOptionChange("selectedItems",this._buttonsCollection.option("selectedItems")),this._setOptionWithoutOptionChange("selectedItemKeys",this._buttonsCollection.option("selectedItemKeys"))},_optionChanged:function(t){switch(t.name){case"stylingMode":case"selectionMode":case"keyExpr":case"buttonTemplate":case"items":case"activeStateEnabled":case"focusStateEnabled":case"hoverStateEnabled":case"tabIndex":this._invalidate();break;case"selectedItemKeys":case"selectedItems":this._buttonsCollection.option(t.name,t.value);break;case"onItemClick":this._createItemClickAction();break;case"onSelectionChanged":break;case"width":this.callBase(t),this._buttonsCollection.itemElements().toggleClass("dx-buttongroup-item-has-width",!!t.value);break;default:this.callBase(t)}}});Object(u.a)("dxButtonGroup",Ii);var ji=Ii,Mi=n(172),Di=n(119),Ai=n(61),Ri=n(164),Bi=["imageSrc","src"],Li="phone"===O.a.current().deviceType,Ni="user",zi="dx-htmleditor-image",Fi=function(){function t(e,n){Object(x.a)(this,t),this.module=e,this.config=null!==n&&void 0!==n?n:{},this.quill=this.module.quill,this.editorInstance=this.module.editorInstance}return Object(S.a)(t,[{key:"render",value:function(){var t=this;this.editorInstance._formDialog&&(this.editorInstance._formDialog.beforeAddButtonAction=function(){return t.getCurrentTab().upload()}),this.tabPanelIndex=0,this.formData=this.getFormData(),this.isUpdating=this.isImageUpdating(),this.tabsModel=this.createTabsModel(this.config.tabs),this.tabs=this.createTabs(this.formData);var e=this.getFormConfig();this.updatePopupConfig(),this.updateAddButtonState(),this.editorInstance.showFormDialog(e).done(function(e,n){t.tabs[t.getActiveTabIndex()].strategy.pasteImage(e,n)}).always(function(){t.resetDialogPopupOptions(),t.quill.focus()})}},{key:"getCurrentTab",value:function(){return this.tabs[this.tabPanelIndex]}},{key:"updateAddButtonState",value:function(){var t=this.getCurrentTab().isDisableButton();this.setAddButtonDisabled(t)}},{key:"setAddButtonDisabled",value:function(t){this.editorInstance.formDialogOption({"toolbarItems[0].options.disabled":t})}},{key:"getActiveTabIndex",value:function(){return this.isUpdating?0:this.tabPanelIndex}},{key:"getFormData",value:function(){return this.getUpdateDialogFormData(this.quill.getFormat())}},{key:"getUpdateDialogFormData",value:function(t){var e=t.imageSrc,n=t.src,i=Object(Ai.a)(t,Bi);return Object(dt.a)({src:null!==e&&void 0!==e?e:n},i)}},{key:"createUrlTab",value:function(t){var e=this;return new Vi(this.module,{config:this.config,formData:t,isUpdating:this.isUpdating},function(){return e.updateAddButtonState()})}},{key:"createFileTab",value:function(){var t=this;return new Ui(this.module,{config:this.config},function(){return t.updateAddButtonState()})}},{key:"createTabsModel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return 0===t.length||this.isUpdating?["url"]:t.map(function(t){return"object"===typeof t?t.name:t})}},{key:"createTabs",value:function(t){var e=this;return this.tabsModel.map(function(n){return"url"===n?e.createUrlTab(t):e.createFileTab()})}},{key:"isImageUpdating",value:function(){var t;return Object.prototype.hasOwnProperty.call(null!==(t=this.module.quill.getFormat())&&void 0!==t?t:{},"imageSrc")}},{key:"updatePopupConfig",value:function(){var t="".concat("dx-htmleditor-add-image-popup"," ").concat("dx-formdialog");this.useTabbedItems()&&(t+=" ".concat("dx-htmleditor-add-image-popup-with-tabs"));var e=this.isUpdating?"dxHtmlEditor-dialogUpdateImageCaption":"dxHtmlEditor-dialogImageCaption",n=this.isUpdating?"dxHtmlEditor-dialogImageUpdateButton":"dxHtmlEditor-dialogImageAddButton";this.editorInstance.formDialogOption({title:J.a.format(e),"toolbarItems[0].options.text":J.a.format(n),wrapperAttr:{class:t}})}},{key:"resetDialogPopupOptions",value:function(){this.editorInstance.formDialogOption({"toolbarItems[0].options.text":J.a.format("OK"),"toolbarItems[0].options.visible":!0,"toolbarItems[0].options.disabled":!1,wrapperAttr:{class:"dx-formdialog"}})}},{key:"useTabbedItems",value:function(){return this.tabsModel.length>1}},{key:"getFormWidth",value:function(){return Li?"100%":493}},{key:"getFormConfig",value:function(){return{formData:this.formData,width:this.getFormWidth(),labelLocation:"top",colCount:this.useTabbedItems()?1:11,items:this.getItemsConfig()}}},{key:"getItemsConfig",value:function(){var t=this;return this.useTabbedItems()?[{itemType:"tabbed",tabPanelOptions:{onSelectionChanged:function(e){t.tabPanelIndex=e.component.option("selectedIndex"),t.updateAddButtonState()}},tabs:Object(X.b)(this.tabs,function(t){return{title:t.getTabName(),colCount:11,items:t.getItemsConfig()}})}]:this.tabs[0].getItemsConfig()}}]),t}(),Hi=function(){function t(e,n,i){Object(x.a)(this,t);var o=n.config,r=n.formData,a=n.isUpdating;this.module=e,this.config=o,this.formData=r,this.isUpdating=a,this.onFileSelected=i,this.strategy=this.createStrategy()}return Object(S.a)(t,[{key:"getItemsConfig",value:function(){return this.strategy.getItemsConfig()}},{key:"createStrategy",value:function(){return this.isUpdating?new $i(this.module,this.config,this.formData):new Ki(this.module,this.config,this.onFileSelected)}},{key:"isDisableButton",value:function(){return!1}},{key:"upload",value:function(){return this.strategy.upload()}}]),t}(),Vi=function(t){function e(){return Object(x.a)(this,e),Object(T.a)(this,Object(I.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(S.a)(e,[{key:"getTabName",value:function(){return J.a.format("dxHtmlEditor-dialogImageSpecifyUrl")}}]),e}(Hi),Ui=function(t){function e(){return Object(x.a)(this,e),Object(T.a)(this,Object(I.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(S.a)(e,[{key:"getTabName",value:function(){return J.a.format("dxHtmlEditor-dialogImageSelectFile")}},{key:"createStrategy",value:function(){return new Gi(this.module,this.config,this.onFileSelected)}},{key:"isDisableButton",value:function(){return!this.strategy.isValid()}}]),e}(Hi),Wi=function(){function t(e,n){Object(x.a)(this,t),this.module=e,this.config=n,this.editorInstance=e.editorInstance,this.quill=e.quill,this.selection=this.getQuillSelection()}return Object(S.a)(t,[{key:"getQuillSelection",value:function(){var t=this.quill.getSelection();return null!==t&&void 0!==t?t:{index:this.quill.getLength(),length:0}}},{key:"pasteImage",value:function(){}},{key:"isValid",value:function(){return!0}},{key:"upload",value:function(){}}]),t}(),Ki=function(t){function e(t,n,i){var o;return Object(x.a)(this,e),(o=Object(T.a)(this,Object(I.a)(e).call(this,t,n,i))).shouldKeepAspectRatio=!0,o}return Object(j.a)(e,t),Object(S.a)(e,[{key:"pasteImage",value:function(t,e){this.module.saveValueChangeEvent(e),Yi(this.quill,this.selection.index,t)}},{key:"keepAspectRatio",value:function(t,e){var n=e.dependentEditor,i=e.e,o=parseInt(i.value),r=parseInt(i.previousValue),a=parseInt(n.option("value"));t.component.updateData(t.dataField,o),this.shouldKeepAspectRatio&&a&&r&&!this.preventRecalculating&&(this.preventRecalculating=!0,n.option("value",Math.round(o*a/parseInt(r)).toString())),this.preventRecalculating=!1}},{key:"createKeepAspectRatioEditor",value:function(t,e,n){var i=this;return this.editorInstance._createComponent(t,he.default,Object(a.a)(!0,e.editorOptions,{value:e.component.option("formData")[e.dataField],onEnterKey:e.component.option("onEditorEnterKey").bind(this.editorInstance._formDialog,e),onValueChanged:function(t){i.keepAspectRatio(e,{dependentEditor:i[n+"Editor"],e:t})}}))}},{key:"upload",value:function(){return this.editorInstance._formDialog._form.validate().isValid}},{key:"getItemsConfig",value:function(){var t=this;return[{dataField:"src",colSpan:11,label:{text:J.a.format("dxHtmlEditor-dialogImageUrlField")},validationRules:[{type:"required"},{type:"stringLength",min:1}]},{dataField:"width",colSpan:6,label:{text:J.a.format("dxHtmlEditor-dialogImageWidthField")},template:function(e){var n=Object(r.a)("<div>").addClass("dx-fix-ratio-container"),i=Object(r.a)("<div>").appendTo(n);t.widthEditor=t.createKeepAspectRatioEditor(i,e,"height");var o=Object(r.a)("<div>").appendTo(n);return t.editorInstance._createComponent(o,ji,{items:[{icon:"imgarlock",value:"keepRatio"}],hint:J.a.format("dxHtmlEditor-dialogImageKeepAspectRatio"),focusStateEnabled:!1,keyExpr:"value",stylingMode:"outlined",selectionMode:"multiple",selectedItemKeys:["keepRatio"],onSelectionChanged:function(e){t.shouldKeepAspectRatio=!!e.component.option("selectedItems").length}}),n}},{dataField:"height",colSpan:5,label:{text:J.a.format("dxHtmlEditor-dialogImageHeightField")},template:function(e){var n=Object(r.a)("<div>");return t.heightEditor=t.createKeepAspectRatioEditor(n,e,"width"),n}},{dataField:"alt",colSpan:11,label:{text:J.a.format("dxHtmlEditor-dialogImageAltField")}}]}}]),e}(Wi),$i=function(t){function e(t,n,i,o){var r;return Object(x.a)(this,e),(r=Object(T.a)(this,Object(I.a)(e).call(this,t,n,o))).formData=i,r.modifyFormData(),r}return Object(j.a)(e,t),Object(S.a)(e,[{key:"modifyFormData",value:function(){this.quill.getFormat(this.selection.index-1,1).imageSrc&&0!==this.selection.index||(this.selection={index:this.selection.index+1,length:0},this.quill.setSelection(this.selection.index,this.selection.length,"silent"));var t,e,n=this.quill.getLeaf(this.selection.index)[0].domNode;n&&(this.formData.width=null!==(t=this.formData.width)&&void 0!==t?t:Object(Ht.k)(Object(r.a)(n)),this.formData.height=null!==(e=this.formData.height)&&void 0!==e?e:Object(Ht.c)(Object(r.a)(n)))}},{key:"pasteImage",value:function(t,n){this.quill.deleteText(this.embedFormatIndex(),1,"silent"),this.selection.index-=1,Object(D.a)(Object(I.a)(e.prototype),"pasteImage",this).call(this,t,n)}},{key:"embedFormatIndex",value:function(){var t,e=null!==(t=this.selection)&&void 0!==t?t:this.quill.getSelection();return e?e.length?e.index:e.index-1:this.quill.getLength()}}]),e}(Ki),Gi=function(t){function e(t,n,i){var o;return Object(x.a)(this,e),(o=Object(T.a)(this,Object(I.a)(e).call(this,t,n,i))).useBase64=!Object(s.d)(o.config.fileUploadMode)||"base64"===o.config.fileUploadMode,o.isValidInternal=!1,o.onFileSelected=i,o.data=null,o}return Object(j.a)(e,t),Object(S.a)(e,[{key:"upload",value:function(){return this.useBase64?this.base64Upload(this.data):this.data.value.length&&this.data.component.upload(),!0}},{key:"isValid",value:function(){return this.isValidInternal}},{key:"closeDialogPopup",value:function(t){this.editorInstance._formDialog.hide({file:t.value?t.value[0]:t.file},t.event)}},{key:"serverUpload",value:function(t){if(!this.useBase64){var e=qi(this.config.uploadDirectory)+t.file.name;Yi(this.quill,this.selection.index,{src:e}),this.closeDialogPopup(t)}}},{key:"base64Upload",value:function(t){this.quill.getModule("uploader").upload(this.selection,t.value,!0),this.closeDialogPopup(t)}},{key:"pasteImage",value:function(t,n){this.useBase64&&Object(D.a)(Object(I.a)(e.prototype),"pasteImage",this).call(this,t,n)}},{key:"isBase64Editable",value:function(){return"both"===this.config.fileUploadMode}},{key:"validate",value:function(t){var e=t.component;this.isValidInternal=!e._files.some(function(t){return!t.isValid()}),0===e._files.length&&(this.isValidInternal=!1)}},{key:"getFileUploaderOptions",value:function(){var t=this,e={uploadUrl:this.config.uploadUrl,onValueChanged:function(e){t.validate(e),t.data=e,t.onFileSelected()},onUploaded:function(e){return t.serverUpload(e)}};return Object(a.a)({},Zi(),e,this.config.fileUploaderOptions)}},{key:"getItemsConfig",value:function(){var t=this;return[{itemType:"simple",dataField:"files",colSpan:11,label:{visible:!1},template:function(){var e=Object(r.a)("<div>");return t.module.editorInstance._createComponent(e,Ri.a,t.getFileUploaderOptions()),e}},{itemType:"simple",colSpan:11,label:{visible:!1},editorType:"dxCheckBox",editorOptions:{value:this.useBase64,visible:this.isBase64Editable(),text:J.a.format("dxHtmlEditor-dialogImageEncodeToBase64"),onValueChanged:function(e){t.isBase64Editable()&&(t.useBase64=e.value)}}}]}}]),e}(Wi);function qi(t){return"/"!==t[t.length-1]?t+"/":t}function Zi(){return{value:[],name:zi,accept:"image/*",uploadMode:"useButtons"}}function Yi(t,e,n){t.insertEmbed(e,"extendedImage",n,Ni),t.setSelection(e+1,0,Ni)}var Xi=400,Qi=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"],Ji="user",to="silent",eo="dxHtmlEditor-dialogColorCaption",no="dxHtmlEditor-dialogBackgroundCaption",io="dxHtmlEditor-dialogLinkCaption",oo="dxHtmlEditor-dialogInsertTableCaption",ro="dxHtmlEditor-dialogLinkUrlField",ao="dxHtmlEditor-dialogLinkTextField",so="dxHtmlEditor-dialogLinkTargetField",lo="dx-formdialog-field-target",co="dxHtmlEditor-dialogInsertTableRowsField",uo="dxHtmlEditor-dialogInsertTableColumnsField",ho={insertHeaderRow:"header",clear:"clearformat"};function po(t){return{clear:function(e){var n,i=e.event,o=t.quill.getSelection();o&&(t.saveValueChangeEvent(i),t.quill.removeFormat(o),null===(n=Oo(t))||void 0===n||n.updateFormatWidgets())},link:vo(t),image:yo(t,t.editorInstance.option("imageUpload")),color:bo(t,"color"),background:bo(t,"background"),orderedList:Co(t,"list","ordered"),bulletList:Co(t,"list","bullet"),alignLeft:Co(t,"align","left"),alignCenter:Co(t,"align","center"),alignRight:Co(t,"align","right"),alignJustify:Co(t,"align","justify"),codeBlock:xo(t,"code-block"),undo:function(e){var n=e.event;t.saveValueChangeEvent(n),t.quill.history.undo()},redo:function(e){var n=e.event;t.saveValueChangeEvent(n),t.quill.history.redo()},increaseIndent:function(e){var n=e.event;go(t,["indent","+1",Ji],n)},decreaseIndent:function(e){var n=e.event;go(t,["indent","-1",Ji],n)},superscript:Co(t,"script","super"),subscript:Co(t,"script","sub"),insertTable:So(t),insertHeaderRow:ht(t.quill,"insertHeaderRow"),insertRowAbove:ht(t.quill,"insertRowAbove"),insertRowBelow:ht(t.quill,"insertRowBelow"),insertColumnLeft:ht(t.quill,"insertColumnLeft"),insertColumnRight:ht(t.quill,"insertColumnRight"),deleteColumn:ht(t.quill,"deleteColumn"),deleteRow:ht(t.quill,"deleteRow"),deleteTable:ht(t.quill,"deleteTable"),cellProperties:mo(t,"cell"),tableProperties:mo(t,"table")}}function fo(t,e){var n=e.contentTemplate,i=e.title,o=e.minHeight,r=e.minWidth,a=e.maxWidth;t.formDialogOption({contentTemplate:n,title:i,minHeight:null!==o&&void 0!==o?o:0,minWidth:null!==r&&void 0!==r?r:0,maxWidth:null!==a&&void 0!==a?a:"none"})}function mo(t,e){return function(n){var i,o;null!==(i=n)&&void 0!==i&&i.length||(n=Object(r.a)(function(t,e){var n=t.quill.getModule("table").getTable();return"table"===e?n[0].domNode:n[2].domNode}(t,e)));var a,s=null!==(o=t.quill.getModule("table").getTable())&&void 0!==o?o:[],l=Object(K.a)(s,2),c=l[0],u=l[1],h=t.quill.getFormat(t.editorInstance.getSelection(!0)),d=function(t){return"cell"===t?Po:wo}(e)(t,{$element:n,formats:h,tableBlot:c,rowBlot:u}),p=t.editorInstance._formDialog._popup.option(),f={contentTemplate:p.contentTemplate,title:p.title,minHeight:p.minHeight,minWidth:p.minWidth,maxWidth:p.maxWidth};t.editorInstance.formDialogOption({contentTemplate:function(e){var n=Object(r.a)("<div>").appendTo(e),i=Object(r.a)("<div>").appendTo(n);return t.editorInstance._createComponent(i,ki,d.formOptions),t.editorInstance._createComponent(n,Di.a,{}),a=i.dxForm("instance"),n},title:J.a.format("dxHtmlEditor-".concat(e,"Properties")),minHeight:Xi,minWidth:Math.min(800,.9*Object(Ht.k)(Object(vt.d)())-1),maxWidth:.9*Object(Ht.k)(Object(vt.d)())});var m=t.editorInstance.showFormDialog();m.done(function(e,n){t.saveValueChangeEvent(n),d.applyHandler(a),fo(t.editorInstance,f)}),m.fail(function(){t.quill.focus(),fo(t.editorInstance,f)})}}function go(t,e,n){var o;t.editorInstance._saveValueChangeEvent(n),(o=t.quill).format.apply(o,Object(i.a)(e))}function vo(t){return function(){var e;t.quill.focus();var n=t.quill.getSelection(),i=ot(t,n),o=n?t.quill.getFormat():{},r=o.link&&0===(null===(e=n)||void 0===e?void 0:e.length),a=o.link||"";if(r){var s=function(t,e){var n=k().import("formats/link"),i=t.quill.scroll.descendant(n,e.index),o=Object(K.a)(i,2),r=o[0],a=o[1];return r?{index:e.index-a,length:r.length()}:null}(t,n);s?n=s:a=""}var l={href:a,text:n&&!i?t.quill.getText(n):"",target:!Object.prototype.hasOwnProperty.call(o,"target")||!!o.target};t.editorInstance.formDialogOption("title",J.a.format(io));var c=t.editorInstance.showFormDialog({formData:l,items:_o(t,n)});c.done(function(e,o){if(n&&!i){var r=e.text||e.href,a=n,s=a.index,l=a.length;e.text=void 0,t.saveValueChangeEvent(o),l&&t.quill.deleteText(s,l,to),t.quill.insertText(s,r,"link",e,Ji),t.quill.setSelection(s+r.length,0,Ji)}else e.text=n||e.text?e.text:e.href,go(t,["link",e,Ji],o)}),c.fail(function(){t.quill.focus()})}}function yo(t,e){var n=new Fi(t,e);return function(){n.render()}}function _o(t,e){return[{dataField:"href",label:{text:J.a.format(ro)}},{dataField:"text",label:{text:J.a.format(ao)},visible:!ot(t,e)},{dataField:"target",editorType:"dxCheckBox",editorOptions:{text:J.a.format(so)},cssClass:lo,label:{visible:!1}}]}function bo(t,e){return function(){var n=t.quill.getFormat(),i="color"===e?eo:no;t.editorInstance.formDialogOption("title",J.a.format(i));var o=t.editorInstance.showFormDialog({formData:n,items:[{dataField:e,editorType:"dxColorView",editorOptions:{focusStateEnabled:!1},label:{visible:!1}}]});o.done(function(n,i){go(t,[e,n[e],Ji],i)}),o.fail(function(){t.quill.focus()})}}function Co(t,e,n){return function(i){var o,r=i.event,a=t.quill.getFormat()[e]!==n&&n;go(t,[e,a,Ji],r),null===(o=Oo(t))||void 0===o||o.updateFormatWidgets(!0)}}function Oo(t){return t._updateFormatWidget?t:t.quill.getModule("toolbar")}function xo(t,e){return function(n){var i,o=n.event,r=t.quill.getFormat(),a=r[e],l=!(Object(s.a)(a)?a:Object(s.d)(a));go(t,[e,l,Ji],o),null===(i=Oo(t))||void 0===i||i._updateFormatWidget(e,l,r)}}function So(t){return function(){var e=t.quill.getFormat();t._tableFormats.some(function(t){return Object.prototype.hasOwnProperty.call(e,t)})?t.quill.focus():(t.editorInstance.formDialogOption("title",J.a.format(oo)),t.editorInstance.showFormDialog({formData:{rows:1,columns:1},items:[{dataField:"columns",editorType:"dxNumberBox",editorOptions:{min:1},label:{text:J.a.format(co)}},{dataField:"rows",editorType:"dxNumberBox",editorOptions:{min:1},label:{text:J.a.format(uo)}}]}).done(function(e,n){t.quill.focus();var i=t.quill.getModule("table");if(i){t.saveValueChangeEvent(n);var o=e.columns,r=e.rows;i.insertTable(o,r)}}).always(function(){t.quill.focus()}))}}function wo(t,e){var n,i,o,a=e.$element,l=e.formats,c=e.tableBlot,u=Object(vt.d)(),h=a,d=t.editorInstance,p=parseInt(l.tableWidth)||Object(Ht.h)(h),f=u.getComputedStyle(h.get(0)),m="start"===f.textAlign?"left":f.textAlign;return{formOptions:{colCount:2,formData:{width:p,height:Object(s.d)(l.tableHeight)?parseInt(l.tableHeight):Object(Ht.g)(h),backgroundColor:l.tableBackgroundColor||f.backgroundColor,borderStyle:l.tableBorderStyle||f.borderTopStyle,borderColor:l.tableBorderColor||f.borderTopColor,borderWidth:parseInt(Object(s.d)(l.tableBorderWidth)?l.tableBorderWidth:f.borderTopWidth),alignment:l.tableAlign||m},items:[{itemType:"group",caption:J.a.format("dxHtmlEditor-border"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"borderStyle",label:{text:J.a.format("dxHtmlEditor-style")},editorType:"dxSelectBox",editorOptions:{items:Qi,placeholder:"Select style"}},{dataField:"borderWidth",label:{text:J.a.format("dxHtmlEditor-borderWidth")},editorOptions:{placeholder:J.a.format("dxHtmlEditor-pixels")}},{itemType:"simple",dataField:"borderColor",label:{text:J.a.format("dxHtmlEditor-borderColor")},colSpan:2,template:function(t){var e=Object(r.a)("<div>");return d._createComponent(e,Mi.a,{editAlphaChannel:!0,value:t.component.option("formData").borderColor,onInitialized:function(t){i=t.component}}),e}}]},{itemType:"group",caption:J.a.format("dxHtmlEditor-dimensions"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"width",label:{text:J.a.format("dxHtmlEditor-width")},editorOptions:{min:0,placeholder:J.a.format("dxHtmlEditor-pixels")}},{dataField:"height",label:{text:J.a.format("dxHtmlEditor-height")},editorOptions:{min:0,placeholder:J.a.format("dxHtmlEditor-pixels")}}]},{itemType:"group",caption:J.a.format("dxHtmlEditor-tableBackground"),items:[{itemType:"simple",dataField:"backgroundColor",label:{text:J.a.format("dxHtmlEditor-borderColor")},template:function(t){var e=Object(r.a)("<div>");return d._createComponent(e,Mi.a,{editAlphaChannel:!0,value:t.component.option("formData").backgroundColor,onInitialized:function(t){o=t.component}}),e}}]},{itemType:"group",caption:J.a.format("dxHtmlEditor-alignment"),items:[{itemType:"simple",label:{text:J.a.format("dxHtmlEditor-horizontal")},template:function(){var t=Object(r.a)("<div>");return d._createComponent(t,ji,{items:[{value:"left",icon:"alignleft"},{value:"center",icon:"aligncenter"},{value:"right",icon:"alignright"},{value:"justify",icon:"alignjustify"}],keyExpr:"value",selectedItemKeys:[m],onInitialized:function(t){n=t.component}}),t}}]}],showColonAfterLabel:!0,labelLocation:"top",minColWidth:400},applyHandler:function(e){var a=e.option("formData"),l=a.width===p?void 0:a.width,u=a.height;!function(t,e){var n=e.$table,i=e.newHeight,o=e.newWidth,a=e.tableBlot;if(Object(s.d)(o)){var l=st(n);if(l.length>0)t.editorInstance.format("tableWidth",o+"px");else{var c=at(n),u=Object(Ht.h)(n);rt(n,{tableBlot:a}),Object(X.a)(c,function(e,i){var a=Object(r.a)(i),s=o/u*Object(Ht.h)(a),l=ct(n,a.index(),"horizontal");lt(t,{elements:l,property:"width",value:s})})}}var h=st(n,"vertical");if((null===h||void 0===h?void 0:h.length)>0)a.format("tableHeight",i+"px");else{var d=ut(n),p=Object(Ht.g)(n);Object(X.a)(d,function(e,o){var a=Object(r.a)(o),s=i/p*Object(Ht.g)(a),l=ct(n,e,"vertical");lt(t,{elements:l,property:"height",value:s})})}}(t,{$table:h,newHeight:u,newWidth:l,tableBlot:c}),t.editorInstance.format("tableBorderStyle",a.borderStyle),t.editorInstance.format("tableBorderWidth",a.borderWidth+"px"),t.editorInstance.format("tableBorderColor",i.option("value")),t.editorInstance.format("tableBackgroundColor",o.option("value")),t.editorInstance.format("tableTextAlign",n.option("selectedItemKeys")[0])}}}function Po(t,e){var n,i,o,a,l=e.$element,c=e.formats,u=e.tableBlot,h=e.rowBlot,d=Object(vt.d)(),p=l,f=Object(s.d)(c.cellWidth)?parseInt(c.cellWidth):Object(Ht.h)(p),m=t.editorInstance,g=d.getComputedStyle(p.get(0)),v="start"===g.textAlign?"left":g.textAlign;return{formOptions:{colCount:2,formData:{width:f,height:Object(s.d)(c.cellHeight)?parseInt(c.cellHeight):Object(Ht.g)(p),backgroundColor:c.cellBackgroundColor||g.backgroundColor,borderStyle:c.cellBorderStyle||g.borderTopStyle,borderColor:c.cellBorderColor||g.borderTopColor,borderWidth:parseInt(Object(s.d)(c.cellBorderWidth)?c.cellBorderWidth:g.borderTopWidth),alignment:c.cellTextAlign||v,verticalAlignment:c.cellVerticalAlign||g.verticalAlign,verticalPadding:parseInt(Object(s.d)(c.cellPaddingTop)?c.cellPaddingTop:g.paddingTop),horizontalPadding:parseInt(Object(s.d)(c.cellPaddingLeft)?c.cellPaddingLeft:g.paddingLeft)},items:[{itemType:"group",caption:J.a.format("dxHtmlEditor-border"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"borderStyle",label:{text:J.a.format("dxHtmlEditor-style")},editorType:"dxSelectBox",editorOptions:{items:Qi}},{dataField:"borderWidth",label:{text:J.a.format("dxHtmlEditor-borderWidth")},editorOptions:{placeholder:J.a.format("dxHtmlEditor-pixels")}},{itemType:"simple",dataField:"borderColor",colSpan:2,label:{text:J.a.format("dxHtmlEditor-borderColor")},template:function(t){var e=Object(r.a)("<div>");return m._createComponent(e,Mi.a,{editAlphaChannel:!0,value:t.component.option("formData").borderColor,onInitialized:function(t){o=t.component}}),e}}]},{itemType:"group",caption:J.a.format("dxHtmlEditor-dimensions"),colCount:2,colCountByScreen:{xs:2},items:[{dataField:"width",label:{text:J.a.format("dxHtmlEditor-width")},editorOptions:{min:0,placeholder:J.a.format("dxHtmlEditor-pixels")}},{dataField:"height",label:{text:J.a.format("dxHtmlEditor-height")},editorOptions:{min:0,placeholder:J.a.format("dxHtmlEditor-pixels")}},{dataField:"verticalPadding",label:{text:J.a.format("dxHtmlEditor-paddingVertical")},editorOptions:{placeholder:J.a.format("dxHtmlEditor-pixels")}},{label:{text:J.a.format("dxHtmlEditor-paddingHorizontal")},dataField:"horizontalPadding",editorOptions:{placeholder:J.a.format("dxHtmlEditor-pixels")}}]},{itemType:"group",caption:J.a.format("dxHtmlEditor-tableBackground"),items:[{itemType:"simple",dataField:"backgroundColor",label:{text:J.a.format("dxHtmlEditor-borderColor")},template:function(t){var e=Object(r.a)("<div>");return m._createComponent(e,Mi.a,{editAlphaChannel:!0,value:t.component.option("formData").backgroundColor,onInitialized:function(t){a=t.component}}),e}}]},{itemType:"group",caption:J.a.format("dxHtmlEditor-alignment"),colCount:2,items:[{itemType:"simple",label:{text:J.a.format("dxHtmlEditor-horizontal")},template:function(){var t=Object(r.a)("<div>");return m._createComponent(t,ji,{items:[{value:"left",icon:"alignleft"},{value:"center",icon:"aligncenter"},{value:"right",icon:"alignright"},{value:"justify",icon:"alignjustify"}],keyExpr:"value",selectedItemKeys:[v],onInitialized:function(t){n=t.component}}),t}},{itemType:"simple",label:{text:J.a.format("dxHtmlEditor-vertical")},template:function(){var t=Object(r.a)("<div>");return m._createComponent(t,ji,{items:[{value:"top",icon:"verticalaligntop"},{value:"middle",icon:"verticalaligncenter"},{value:"bottom",icon:"verticalalignbottom"}],keyExpr:"value",selectedItemKeys:[g.verticalAlign],onInitialized:function(t){i=t.component}}),t}}]}],showColonAfterLabel:!0,labelLocation:"top",minColWidth:400},applyHandler:function(e){var l=e.option("formData"),c=l.width===parseInt(f)?void 0:l.width,d=l.height;!function(t,e){var n=e.$cell,i=e.newHeight,o=e.newWidth,a=e.tableBlot,l=e.rowBlot,c=Object(r.a)(n.closest("table"));if(Object(s.d)(o)){var u=Object(r.a)(n).index(),h=ct(c,u),d=o-Object(Ht.h)(n),p=Object(Ht.h)(c);o>p&&rt(c,{tableBlot:a}),lt(t,{elements:h,property:"width",value:o});var f=n.next(),m=0===st(c).length;if(m)if(rt(c,{tableBlot:a}),1===f.length){h=ct(c,u+1);var g=Object(Ht.h)(h.eq(0))-d;lt(t,{elements:h,property:"width",value:Math.max(g,0)})}else{var v=n.prev();if(1===v.length){h=ct(c,u-1);var y=Object(Ht.h)(h.eq(0))-d;lt(t,{elements:h,property:"width",value:Math.max(y,0)})}}}l.children.forEach(function(t){t.format("cellHeight",i+"px")}),0===st(c,"vertical").length&&c.css("height","auto")}(t,{$cell:p,newHeight:d,newWidth:c,tableBlot:u,rowBlot:h}),t.editorInstance.format("cellBorderWidth",l.borderWidth+"px"),t.editorInstance.format("cellBorderColor",o.option("value")),t.editorInstance.format("cellBorderStyle",l.borderStyle),t.editorInstance.format("cellBackgroundColor",a.option("value")),t.editorInstance.format("cellTextAlign",n.option("selectedItemKeys")[0]),t.editorInstance.format("cellVerticalAlign",i.option("selectedItemKeys")[0]),t.editorInstance.format("cellPaddingLeft",l.horizontalPadding+"px"),t.editorInstance.format("cellPaddingRight",l.horizontalPadding+"px"),t.editorInstance.format("cellPaddingTop",l.verticalPadding+"px"),t.editorInstance.format("cellPaddingBottom",l.verticalPadding+"px")}}}var ko=G;if(P.a){var Eo="selection-change",To="silent",Io={66:"bold",73:"italic",85:"underline"},jo={b:66,i:73,u:85},Mo=function(t){return J.a.format("dxHtmlEditor-".concat(Object(tt.a)(t)))};ko=function(t){function e(t,n){var i,o;if(Object(x.a)(this,e),i=Object(T.a)(this,Object(I.a)(e).call(this,t,n)),o=Object(W.a)(Object(W.a)(i)),i._toolbarWidgets=new Q,i._formatHandlers=po(Object(W.a)(Object(W.a)(i))),i._tableFormats=it(t),Object(s.d)(n.items)){i._addCallbacks(),i._renderToolbar();var r=i.toolbarInstance._layoutStrategy._menu;if(r){var a=r._renderPopup;r._renderPopup=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];a.apply.apply(a,[r].concat(e)),r._popup.on("showing",function(){o._updateToolbar(!0)})}}i.quill.on("editor-change",function(t,e,n,o){if(!(o===To&&Object(s.e)(i.quill.getFormat()))){var r=t===Eo;i._updateToolbar(r)}})}return i}return Object(j.a)(e,t),Object(S.a)(e,[{key:"_addCallbacks",value:function(){this.addCleanCallback(this.clean.bind(this)),this.editorInstance.addContentInitializedCallback(this.updateHistoryWidgets.bind(this))}},{key:"_updateToolbar",value:function(t){this.updateFormatWidgets(t),this.updateHistoryWidgets(),this.updateTableWidgets()}},{key:"_updateFormatWidget",value:function(t,e,n){var i=this._toolbarWidgets.getByName(t);i&&(e?this._markActiveFormatWidget(t,i,n):(this._resetFormatWidget(t,i),Object.prototype.hasOwnProperty.call(t)&&delete n[t]),this._toggleClearFormatting(e||!Object(s.e)(n)))}},{key:"_renderToolbar",value:function(){var t=this,e=this.options.container||this._getContainer();this._$toolbar=Object(r.a)("<div>").addClass("dx-htmleditor-toolbar").appendTo(e),this._$toolbarContainer=Object(r.a)(e).addClass("dx-htmleditor-toolbar-wrapper"),g.a.on(this._$toolbarContainer,Object(v.a)("mousedown",this.editorInstance.NAME),function(t){t.preventDefault()}),this._subscribeFormatHotKeys(),this.toolbarInstance=this.editorInstance._createComponent(this._$toolbar,q.a,this.toolbarConfig),this.editorInstance.on("optionChanged",function(e){var n=e.name;"readOnly"!==n&&"disabled"!==n||t.toolbarInstance.option("disabled",t.isInteractionDisabled)})}},{key:"isMultilineMode",value:function(){var t;return null===(t=this.options.multiline)||void 0===t||t}},{key:"clean",value:function(){this._toolbarWidgets.clear(),this._$toolbarContainer&&this._$toolbarContainer.empty().removeClass("dx-htmleditor-toolbar-wrapper")}},{key:"repaint",value:function(){this.toolbarInstance&&this.toolbarInstance.repaint()}},{key:"_getContainer",value:function(){var t=Object(r.a)("<div>");return this.editorInstance.$element().prepend(t),t}},{key:"_detectRenamedOptions",value:function(t){Object(s.j)(t)&&Object(X.a)([{newName:"name",oldName:"formatName"},{newName:"acceptedValues",oldName:"formatValues"}],function(e,n){Object.prototype.hasOwnProperty.call(t,n.oldName)&&p.a.log("W1016",n.oldName,n.newName)})}},{key:"_subscribeFormatHotKeys",value:function(){this.quill.keyboard.addBinding({which:jo.b,shortKey:!0},this._handleFormatHotKey.bind(this)),this.quill.keyboard.addBinding({which:jo.i,shortKey:!0},this._handleFormatHotKey.bind(this)),this.quill.keyboard.addBinding({which:jo.u,shortKey:!0},this._handleFormatHotKey.bind(this))}},{key:"_handleFormatHotKey",value:function(t,e,n){var i=n.which,o=Io[i];this._updateButtonState(o)}},{key:"_updateButtonState",value:function(t){var e=this._toolbarWidgets.getByName(t),n=this.quill.getFormat();n[t]?this._markActiveFormatWidget(t,e,n):this._resetFormatWidget(t,e)}},{key:"_prepareToolbarItems",value:function(){var t=this,e=[];return Object(X.a)(this.options.items,function(n,i){var o;if(t._detectRenamedOptions(i),Object(s.j)(i))o=t._handleObjectItem(i);else if(Object(s.o)(i)){var r=t._prepareButtonItemConfig(i);o=t._getToolbarItem(r)}o&&e.push(o)}),e}},{key:"_handleObjectItem",value:function(t){if(t.name&&t.acceptedValues&&this._isAcceptableItem(t.widget,"dxSelectBox")){var e=this._prepareSelectItemConfig(t);return this._getToolbarItem(e)}if(t.name&&this._isAcceptableItem(t.widget,"dxButton")){var n=this._prepareButtonItemConfig(t.name),i=Object(a.a)(!0,n,t);return this._getToolbarItem(i)}return this._getToolbarItem(t)}},{key:"_isAcceptableItem",value:function(t,e){return!t||t===e}},{key:"_prepareButtonItemConfig",value:function(t){var e,n=null!==(e=ho[t])&&void 0!==e?e:t,i=Object(tt.e)(t);return{widget:"dxButton",name:t,options:{hint:Mo(i),text:Mo(i),icon:n.toLowerCase(),onClick:this._formatHandlers[t]||xo(this,t),stylingMode:"text"},showText:"inMenu"}}},{key:"_prepareSelectItemConfig",value:function(t){var e=this,n=t.name,i=t.acceptedValues;return Object(a.a)(!0,{widget:"dxSelectBox",name:n,options:{stylingMode:"filled",dataSource:i,displayExpr:function(t){return function(t,e){return"header"===e?Object(s.d)(t)&&!1!==t?"".concat(Mo("heading")," ").concat(t):Mo("normalText"):Mo(t)||t}(t,n)},placeholder:Mo(n),onValueChanged:function(t){e._isReset||(e._hideAdaptiveMenu(),go(e,[n,t.value,"user"],t.event),e._setValueSilent(t.component,t.value))}}},t)}},{key:"_hideAdaptiveMenu",value:function(){this.toolbarInstance.option("overflowMenuVisible")&&this.toolbarInstance.option("overflowMenuVisible",!1)}},{key:"_getToolbarItem",value:function(t){var e=this,n={options:{onInitialized:function(n){t.name&&(n.component.$element().addClass("dx-htmleditor-toolbar-format"),n.component.$element().toggleClass("dx-".concat(t.name.toLowerCase(),"-format"),!!t.name),e._toolbarWidgets.add(t.name,n.component))},onDisposing:function(){e._toolbarWidgets.remove(t.name)}}};return Object(a.a)(!0,{location:"before",locateInMenu:"auto"},this._getDefaultConfig(t.name),t,n)}},{key:"_getDefaultItemsConfig",value:function(){return{clear:{options:{disabled:!0}},undo:{options:{disabled:!0}},redo:{options:{disabled:!0}},insertRowAbove:{options:{disabled:!0}},insertRowBelow:{options:{disabled:!0}},insertHeaderRow:{options:{disabled:!0}},insertColumnLeft:{options:{disabled:!0}},insertColumnRight:{options:{disabled:!0}},deleteRow:{options:{disabled:!0}},deleteColumn:{options:{disabled:!0}},deleteTable:{options:{disabled:!0}},cellProperties:{options:{disabled:!0}},tableProperties:{options:{disabled:!0}},separator:{template:function(t,e,n){Object(r.a)(n).addClass("dx-htmleditor-toolbar-separator")},menuItemTemplate:function(t,e,n){Object(r.a)(n).addClass("dx-htmleditor-toolbar-menu-separator")}}}}},{key:"_getDefaultConfig",value:function(t){return this._getDefaultItemsConfig()[t]}},{key:"updateHistoryWidgets",value:function(){var t=this.quill.history;if(t){var e=t.stack,n=e.undo,i=e.redo;this._updateManipulationWidget(this._toolbarWidgets.getByName("undo"),Boolean(n.length)),this._updateManipulationWidget(this._toolbarWidgets.getByName("redo"),Boolean(i.length))}}},{key:"updateTableWidgets",value:function(){var t=this;if(this.quill.getModule("table")){var e=this.quill.getSelection(),n=e&&this.quill.getFormat(e)||{},i=this._tableFormats.some(function(t){return Boolean(n[t])});nt.forEach(function(e){var n="insertTable"===e,o=t._toolbarWidgets.getByName(e);t._updateManipulationWidget(o,n?!i:i)})}}},{key:"_updateManipulationWidget",value:function(t,e){t&&t.option("disabled",!e)}},{key:"updateFormatWidgets",value:function(t){var e=this.quill.getSelection();if(e){var n=this.quill.getFormat(e),i=!Object(s.e)(n);for(var o in i&&!t||this._resetFormatWidgets(),n){var r=this._getFormatWidgetName(o,n),a=this._toolbarWidgets.getByName(r)||this._toolbarWidgets.getByName(o);a&&this._markActiveFormatWidget(o,a,n)}this._toggleClearFormatting(i||e.length>1)}}},{key:"_markActiveFormatWidget",value:function(t,e,n){this._isColorFormat(t)&&this._updateColorWidget(t,n[t]),"value"in e.option()?this._setValueSilent(e,n[t]):e.$element().addClass("dx-format-active")}},{key:"_toggleClearFormatting",value:function(t){var e=this._toolbarWidgets.getByName("clear");e&&e.option("disabled",!t)}},{key:"_isColorFormat",value:function(t){return"color"===t||"background"===t}},{key:"_updateColorWidget",value:function(t,e){var n=this._toolbarWidgets.getByName(t);n&&n.$element().find(".".concat("dx-icon")).css("borderBottomColor",e||"transparent")}},{key:"_getFormatWidgetName",value:function(t,e){var n;switch(t){case"align":n=t+Object(tt.e)(e[t]);break;case"list":n=e[t]+Object(tt.e)(t);break;case"code-block":n="codeBlock";break;case"script":n=e[t]+t;break;case"imageSrc":n="image";break;default:n=t}return n}},{key:"_setValueSilent",value:function(t,e){this._isReset=!0,t.option("value",e),this._isReset=!1}},{key:"_resetFormatWidgets",value:function(){var t=this;this._toolbarWidgets.each(function(e,n){t._resetFormatWidget(e,n)})}},{key:"_resetFormatWidget",value:function(t,e){e.$element().removeClass("dx-format-active"),this._isColorFormat(t)&&this._updateColorWidget(t),"clear"===t&&e.option("disabled",!0),"dxSelectBox"===e.NAME&&this._setValueSilent(e,null)}},{key:"addClickHandler",value:function(t,e){this._formatHandlers[t]=e;var n=this._toolbarWidgets.getByName(t);n&&"dxButton"===n.NAME&&n.option("onClick",e)}},{key:"toolbarConfig",get:function(){return{dataSource:this._prepareToolbarItems(),disabled:this.isInteractionDisabled,menuContainer:this._$toolbarContainer,multiline:this.isMultilineMode()}}},{key:"isInteractionDisabled",get:function(){return this.editorInstance.option("readOnly")||this.editorInstance.option("disabled")}}]),e}(G)}var Do=ko,Ao=G;P.a&&(Ao=function(t){function e(t,n){var i;Object(x.a)(this,e);var o=(i=Object(T.a)(this,Object(I.a)(e).call(this,t,n))).editorInstance.NAME;return g.a.on(i.quill.root,Object(v.a)("drop",o),i._dropHandler.bind(Object(W.a)(Object(W.a)(i)))),g.a.on(i.quill.root,Object(v.a)("paste",o),i._pasteHandler.bind(Object(W.a)(Object(W.a)(i)))),i}return Object(j.a)(e,t),Object(S.a)(e,[{key:"_dropHandler",value:function(t){var e,n=t.originalEvent.dataTransfer,i=null===n||void 0===n?void 0:null===(e=n.files)||void 0===e?void 0:e.length;this.saveValueChangeEvent(t),t.preventDefault(),i&&this._getImage(n.files,this._addImage.bind(this))}},{key:"_pasteHandler",value:function(t){var e,n=this,i=t.originalEvent.clipboardData;if(this.saveValueChangeEvent(t),i){var o=null===(e=i.items)||void 0===e?void 0:e.length;!i.getData("text/html")&&o&&this._getImage(i.items,function(t){n._isBrowserSupportImagePaste(Ln.a)||n._addImage(t)})}}},{key:"_isBrowserSupportImagePaste",value:function(t){var e=t.mozilla,n=t.chrome,i=t.version;return e||n&&i>82}},{key:"_isImage",value:function(t){return!!t.type.match(/^image\/(a?png|bmp|gif|p?jpe?g|svg|vnd\.microsoft\.icon|webp)/i)}},{key:"_getImage",value:function(t,e){var n=this,i=Object(vt.d)();Object(X.a)(t,function(t,o){if(n._isImage(o)){var r=new i.FileReader;r.onload=function(t){var n=t.target;e(n.result)};var a=o.getAsFile?o.getAsFile():o;a instanceof i.Blob&&r.readAsDataURL(a)}})}},{key:"_addImage",value:function(t){var e=this.quill.getSelection(),n=e?e.index:this.quill.getLength();this.quill.insertEmbed(n,"extendedImage",t,"user")}}]),e}(G));var Ro=Ao,Bo=n(62),Lo=n(149),No=G;if(P.a){var zo="dx-suggestion-list-wrapper";No=function(t){function e(t,n){var i;return Object(x.a)(this,e),(i=Object(T.a)(this,Object(I.a)(e).call(this,t,n))).options=Object(a.a)({},i._getDefaultOptions(),n),i._popup=i.renderPopup(),i._popup.$wrapper().addClass(zo),i._renderPreventFocusOut(),i}return Object(j.a)(e,t),Object(S.a)(e,[{key:"_getDefaultOptions",value:function(){return{dataSource:null}}}]),Object(S.a)(e,[{key:"renderList",value:function(t,e){var n=Object(r.a)("<div>").addClass("dx-suggestion-list").appendTo(t);this._list=this.options.editorInstance._createComponent(n,Cn.a,e)}},{key:"renderPopup",value:function(){var t=this.options.editorInstance,e=Object(r.a)("<div>").appendTo(t.$element()),n=this._getPopupConfig();return t._createComponent(e,Lo.default,n)}},{key:"_getPopupConfig",value:function(){var t=this;return{contentTemplate:function(e){var n=t._getListConfig(t.options);t.renderList(Object(r.a)(e),n)},deferRendering:!1,onShown:function(){t._list.focus()},onHidden:function(){t._list.unselectAll(),t._list.option("focusedElement",null)},showTitle:!1,width:"auto",height:"auto",shading:!1,hideOnParentScroll:!0,hideOnOutsideClick:!0,animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},fullScreen:!1,maxHeight:this.maxHeight}}},{key:"_getListConfig",value:function(t){return{dataSource:t.dataSource,onSelectionChanged:this.selectionChangedHandler.bind(this),selectionMode:"single",pageLoadMode:"scrollBottom"}}},{key:"selectionChangedHandler",value:function(t){this._popup.option("visible")&&(this._popup.hide(),this.insertEmbedContent(t))}},{key:"_renderPreventFocusOut",value:function(){var t=Object(v.a)("mousedown","dxHtmlEditorPopupModule");g.a.on(this._popup.$wrapper(),t,function(t){t.preventDefault()})}},{key:"insertEmbedContent",value:function(t){}},{key:"showPopup",value:function(){this._popup&&this._popup.show()}},{key:"savePosition",value:function(t){this.caretPosition=t}},{key:"getPosition",value:function(){return this.caretPosition}},{key:"maxHeight",get:function(){var t=Object(vt.d)(),e=t&&Object(Ht.c)(t)||0;return Math.max(100,.5*e)}}]),e}(G)}var Fo=No,Ho={};if(P.a){(Ho=function(t){function e(){return Object(x.a)(this,e),Object(T.a)(this,Object(I.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(S.a)(e,null,[{key:"create",value:function(t){var n,i,o=Object(D.a)(Object(I.a)(e),"create",this).call(this),r=t.value;return Array.isArray(t.escapeChar)?(n=Object(c.ensureDefined)(t.escapeChar[0],""),i=Object(c.ensureDefined)(t.escapeChar[1],"")):n=i=t.escapeChar,o.innerText=n+r+i,o.dataset.varStartEscChar=n,o.dataset.varEndEscChar=i,o.dataset.varValue=t.value,o}},{key:"value",value:function(t){return Object(a.a)({},{value:t.dataset.varValue,escapeChar:[t.dataset.varStartEscChar||"",t.dataset.varEndEscChar||""]})}}]),e}(P.a.import("blots/embed"))).blotName="variable",Ho.tagName="span",Ho.className="dx-variable"}var Vo=Ho,Uo=G;if(P.a){var Wo="dx-variable-format",Ko="dx-format-active";P.a.register({"formats/variable":Vo},!0),Uo=function(t){function e(t,n){var i;Object(x.a)(this,e),i=Object(T.a)(this,Object(I.a)(e).call(this,t,n));var o=t.getModule("toolbar");return o&&o.addClickHandler("variable",i.showPopup.bind(Object(W.a)(Object(W.a)(i)))),t.keyboard.addBinding({key:"P",altKey:!0},i.showPopup.bind(Object(W.a)(Object(W.a)(i)))),i._popup.on("shown",function(t){var e=Object(r.a)(t.component.option("position").of);e.hasClass(Wo)&&e.addClass(Ko)}),i}return Object(j.a)(e,t),Object(S.a)(e,[{key:"_getDefaultOptions",value:function(){var t=Object(D.a)(Object(I.a)(e.prototype),"_getDefaultOptions",this).call(this);return Object(a.a)(t,{escapeChar:""})}}]),Object(S.a)(e,[{key:"showPopup",value:function(t){var n=this.quill.getSelection(!0),i=n?n.index:this.quill.getLength();this.savePosition(i),this._resetPopupPosition(t,i),Object(D.a)(Object(I.a)(e.prototype),"showPopup",this).call(this)}},{key:"_resetPopupPosition",value:function(t,e){if(t&&t.element)this._popup.option("position",{of:t.element,offset:{h:0,v:0},my:"top center",at:"bottom center",collision:"fit"});else{var n=this.quill.getBounds(e),i=Object(Bo.a)(this.quill.root);this._popup.option("position",{of:this.quill.root,offset:{h:n.left,v:n.bottom-i.height},my:"top center",at:"bottom left",collision:"fit flip"})}}},{key:"insertEmbedContent",value:function(t){var e=this.getPosition(),n=t.component.option("selectedItem"),i=Object(a.a)({},{value:n,escapeChar:this.options.escapeChar});setTimeout(function(){this.quill.insertEmbed(e,"variable",i),this.quill.setSelection(e+1)}.bind(this))}}]),e}(Fo)}var $o=Uo,Go=n(207),qo=Object(v.a)("keydown","dxHtmlResizingModule"),Zo=Object(v.a)("scroll","dxHtmlResizingModule"),Yo=Object(v.a)("mousedown","dxHtmlResizingModule"),Xo=function(t){function e(t,n){var i;return Object(x.a)(this,e),(i=Object(T.a)(this,Object(I.a)(e).call(this,t,n))).allowedTargets=n.allowedTargets||["image"],i.enabled=!!n.enabled,i._hideFrameWithContext=i.hideFrame.bind(Object(W.a)(Object(W.a)(i))),i._framePositionChangedHandler=i._prepareFramePositionChangedHandler(),i.enabled&&(i._attachEvents(),i._createResizeFrame()),i}return Object(j.a)(e,t),Object(S.a)(e,[{key:"_attachEvents",value:function(){g.a.on(this.quill.root,Object(v.a)(Re.a,"dxHtmlResizingModule"),this._clickHandler.bind(this)),g.a.on(this.quill.root,Zo,this._framePositionChangedHandler),this.editorInstance.on("focusOut",this._hideFrameWithContext),this.quill.on("text-change",this._framePositionChangedHandler)}},{key:"_detachEvents",value:function(){g.a.off(this.quill.root,"dxHtmlResizingModule"),this.editorInstance.off("focusOut",this._hideFrameWithContext),this.quill.off("text-change",this._framePositionChangedHandler)}},{key:"_clickHandler",value:function(t){if(this._isAllowedTarget(t.target)){if(this._$target===t.target)return;this._$target=t.target;var e=Object(r.a)(this._$target),n=Math.max(Object(Ht.h)(e)-Object(Ht.k)(e),this.resizable.option("minWidth")),i=Math.max(Object(Ht.g)(e)-Object(Ht.c)(e),this.resizable.option("minHeight"));this.resizable.option({minWidth:n,minHeight:i}),this.updateFramePosition(),this.showFrame(),this._adjustSelection()}else this._$target&&this.hideFrame()}},{key:"_prepareFramePositionChangedHandler",value:function(t){var e=this;return function(){e._$target&&e.updateFramePosition()}}},{key:"_adjustSelection",value:function(){this.quill.getSelection()||this.quill.setSelection(0,0)}},{key:"_isAllowedTarget",value:function(t){return this._isImage(t)}},{key:"_isImage",value:function(t){return-1!==this.allowedTargets.indexOf("image")&&"IMG"===t.tagName.toUpperCase()}},{key:"showFrame",value:function(){this._$resizeFrame.show(),g.a.on(this.quill.root,qo,this._handleFrameKeyDown.bind(this))}},{key:"_handleFrameKeyDown",value:function(t){var e=Object(v.n)(t);"del"!==e&&"backspace"!==e||this._deleteImage(),this.hideFrame()}},{key:"hideFrame",value:function(){this._$target=null,this._$resizeFrame.hide(),g.a.off(this.quill.root,qo)}},{key:"updateFramePosition",value:function(){var t=Object(Bo.a)(this._$target),e=t.height,n=t.width,i=t.top,o=t.left,r=Object(Bo.a)(this.quill.root),a=r.top,s=r.left,l=this._getBorderWidth();this._$resizeFrame.css({height:e,width:n,padding:1,top:i-a-l-1,left:o-s-l-1}),Object(Fe.e)(this._$resizeFrame,{left:0,top:0})}},{key:"_getBorderWidth",value:function(){return parseInt(this._$resizeFrame.css("borderTopWidth"))}},{key:"_createResizeFrame",value:function(){var t=this;if(!this._$resizeFrame){var e=O.a.current().deviceType;this._$resizeFrame=Object(r.a)("<div>").addClass("dx-resize-frame").toggleClass("dx-touch-device","desktop"!==e).appendTo(this.editorInstance._getQuillContainer()).hide(),g.a.on(this._$resizeFrame,Yo,function(t){t.preventDefault()}),this.resizable=this.editorInstance._createComponent(this._$resizeFrame,Go.a,{onResize:function(e){t._$target&&(Object(r.a)(t._$target).attr({height:e.height,width:e.width}),t.updateFramePosition())}})}}},{key:"_deleteImage",value:function(){var t;this._isAllowedTarget(this._$target)&&(null===(t=P.a.find(this._$target))||void 0===t||t.deleteAt(0))}},{key:"option",value:function(t,e){"mediaResizing"!==t?"enabled"===t?(this.enabled=e,e?this._attachEvents():this._detachEvents()):"allowedTargets"===t&&Array.isArray(e)&&(this.allowedTargets=e):this.handleOptionChangeValue(e)}},{key:"clean",value:function(){this._detachEvents(),this._$resizeFrame.remove(),this._$resizeFrame=void 0}}]),e}(G),Qo=n(98),Jo=n(171),tr={minColumnWidth:40,minRowHeight:24},er=Object(v.a)("dxpointerdown","dxHtmlTableResizingModule"),nr=Object(v.a)("scroll","dxHtmlTableResizingModule"),ir=function(t){function e(t,n){var i;return Object(x.a)(this,e),(i=Object(T.a)(this,Object(I.a)(e).call(this,t,n))).enabled=!!n.enabled,i._tableResizeFrames=[],i._minColumnWidth=i._minSizeLimit("minColumnWidth",n.minColumnWidth),i._minRowHeight=i._minSizeLimit("minRowHeight",n.minRowHeight),i._quillContainer=i.editorInstance._getQuillContainer(),i._tableData=[],i.enabled&&i._applyResizing(),i}return Object(j.a)(e,t),Object(S.a)(e,[{key:"_applyResizing",value:function(t){t?this._applyResizingImpl():this.editorInstance.addContentInitializedCallback(this._applyResizingImpl.bind(this)),this.addCleanCallback(this.clean.bind(this)),this._resizeHandlerWithContext=Qo.a.add(this._resizeHandler.bind(this))}},{key:"_minSizeLimit",value:function(t,e){return Object(s.d)(e)?Math.max(e,0):tr[t]}},{key:"_applyResizingImpl",value:function(){var t=this._findTables();t.length&&(this._fixTablesWidths(t),this._createResizeFrames(t),this._updateFramesPositions(),this._updateFramesSeparators()),this._attachEvents()}},{key:"_attachEvents",value:function(){g.a.on(this.editorInstance._getContent(),nr,this._updateFramesPositions.bind(this)),this.quill.on("text-change",this._getQuillTextChangeHandler())}},{key:"_detachEvents",value:function(){g.a.off(this.editorInstance._getContent(),"dxHtmlTableResizingModule"),this.quill.off("text-change",this._quillTextChangeHandler)}},{key:"_getQuillTextChangeHandler",value:function(t,e,n){var i=this;return function(t,e,n){if(i._isTableChanging()){var o=i._findTables();i._removeResizeFrames(),"api"===n&&i._fixTablesWidths(o),i._updateTablesColumnsWidth(o),i._createResizeFrames(o),i._updateFramesPositions(),i._updateFramesSeparators()}else i._updateFramesPositions(),i._isDragging||i._updateFramesSeparators()}}},{key:"_getFrameForTable",value:function(t){var e;return null===(e=this._framesForTables)||void 0===e?void 0:e.get(t.get(0))}},{key:"_resizeHandler",value:function(){var t=this;this._windowResizeTimeout=setTimeout(function(){var e=t._findTables();Object(X.a)(e,function(e,n){var i=Object(r.a)(n),o=t._tableResizeFrames[e],a=Object(Ht.h)(i),s=t._tableLastWidth(o);Math.abs(a-s)>1&&(t._tableLastWidth(o,a),t._updateColumnsWidth(i,e))}),t._updateFramesPositions(),t._updateFramesSeparators()})}},{key:"_findTables",value:function(){return Object(r.a)(this._quillContainer).find("table")}},{key:"_getWidthStyleValue",value:function(t){var e=t[0].style.width;return""!==e?parseInt(e):void 0}},{key:"_tableLastWidth",value:function(t,e){if(!Object(s.d)(e))return null===t||void 0===t?void 0:t.lastWidth;t.lastWidth=e}},{key:"_fixTablesWidths",value:function(t){var e=this;Object(X.a)(t,function(t,n){var i=Object(r.a)(n),o=e._getTableDeterminantElements(i,"horizontal");e._tableResizeFrames[t]||(e._tableResizeFrames[t]={lastWidth:void 0});var a=e._getFrameForTable(i);if(a||e._tableResizeFrames.push({$table:i}),0===st(i).length){var s,l=e._getColumnElementsSum(o).columnsSum;rt(i,{quill:e.quill});var c=null!==(s=e._tableLastWidth(a))&&void 0!==s?s:Object(Ht.h)(i);a&&e._tableLastWidth(a,Math.max(l,c))}})}},{key:"_createResizeFrames",value:function(t){var e=this;this._framesForTables=new Map,t.each(function(t,n){var i,o=Object(r.a)(n),a=null===(i=e._tableResizeFrames[t])||void 0===i?void 0:i.$table,s=e._tableResizeFrames[t].lastWidth;e._tableResizeFrames[t]={$frame:e._createTableResizeFrame(n),$table:o,index:t,lastWidth:a&&n===a.get(0)?s:void 0,columnsCount:e._getTableDeterminantElements(o,"horizontal").length,rowsCount:e._getTableDeterminantElements(o,"vertical").length},e._framesForTables.set(n,e._tableResizeFrames[t])}),this._tableResizeFrames.length=t.length}},{key:"_isTableChanging",value:function(){var t=this,e=this._findTables(),n=!1;return e.length!==this._tableResizeFrames.length?n=!0:Object(X.a)(e,function(e,i){var o=Object(r.a)(i),a=t._tableResizeFrames[e],s=(null===a||void 0===a?void 0:a.columnsCount)!==t._getTableDeterminantElements(o,"horizontal").length,l=(null===a||void 0===a?void 0:a.rowsCount)!==t._getTableDeterminantElements(o,"vertical").length;if(s||l)return n=!0,!1}),n}},{key:"_removeResizeFrames",value:function(t){var e,n=this;Object(X.a)(this._tableResizeFrames,function(t,e){if(e.$frame){var i,o=".".concat("dx-htmleditor-column-resizer",", .").concat("dx-htmleditor-row-resizer");n._detachSeparatorEvents(null===(i=e.$frame)||void 0===i?void 0:i.find(o)),e.$frame.remove()}}),null===(e=this._framesForTables)||void 0===e||e.clear(),t&&(this._tableResizeFrames=[])}},{key:"_detachSeparatorEvents",value:function(t){t.each(function(t,e){g.a.off(e,er)})}},{key:"_createTableResizeFrame",value:function(){return Object(r.a)("<div>").addClass("dx-table-resize-frame").appendTo(this._quillContainer)}},{key:"_updateFramesPositions",value:function(){var t=this;Object(X.a)(this._tableResizeFrames,function(e,n){t._updateFramePosition(n.$table,n.$frame)})}},{key:"_updateFramePosition",value:function(t,e){var n=Object(Bo.a)(t.get(0)),i=n.height,o=n.width,r=n.top,a=n.left,s=Object(Bo.a)(this.quill.root),l=s.top,c=s.left;e.css({height:i,width:o,top:r-l,left:a-c}),Object(Fe.e)(e,{left:0,top:0})}},{key:"_updateFramesSeparators",value:function(t){var e=this;Object(X.a)(this._tableResizeFrames,function(n,i){t?e._updateFrameSeparators(i,t):(e._updateFrameSeparators(i,"vertical"),e._updateFrameSeparators(i,"horizontal"))})}},{key:"_isDraggable",value:function(t){return t.hasClass("dx-draggable")&&t.is(":visible")}},{key:"_removeDraggable",value:function(t,e){this._isDraggable(t)&&(Object(r.a)(t).dxDraggable("instance").dispose(),Object(r.a)(t).addClass(e))}},{key:"_getDirectionInfo",value:function(t){return"vertical"===t?{lineResizerClass:"dx-htmleditor-row-resizer",sizeFunction:function(t){return Object(Ht.g)(t)},positionCoordinate:"top",positionStyleProperty:"height",positionCoordinateName:"y"}:{lineResizerClass:"dx-htmleditor-column-resizer",sizeFunction:function(t){return Object(Ht.h)(t)},positionCoordinate:this.editorInstance.option("rtlEnabled")?"right":"left",positionStyleProperty:"width",positionCoordinateName:"x"}}},{key:"_getSize",value:function(t,e){return e.sizeFunction(t)}},{key:"_updateFrameSeparators",value:function(t,e){for(var n=this._getTableDeterminantElements(t.$table,e),i=n.length-1,o=this._getDirectionInfo(e),a=t.$frame.find(".".concat(o.lineResizerClass)),l={transform:"none"},c=0,u=0;u<=i;u++){c+=this._getSize(n.eq(u),o),Object(s.d)(a[u])||(a[u]=Object(r.a)("<div>").addClass(o.lineResizerClass).appendTo(t.$frame).get(0));var h=Object(r.a)(a[u]);this._removeDraggable(h,o.lineResizerClass),l[o.positionCoordinate]=c-2,Object(r.a)(h).css(l);var d={lineSeparator:a[u],index:u,$determinantElements:n,frame:t,direction:e};this._attachColumnSeparatorEvents(d)}}},{key:"_getTableDeterminantElements",value:function(t,e){return"vertical"===e?t.find("th:first-child, td:first-child"):at(t)}},{key:"_attachColumnSeparatorEvents",value:function(t){var e=this;g.a.on(t.lineSeparator,er,function(){e._createDraggableElement(t)})}},{key:"_dragStartHandler",value:function(t){var e=t.$determinantElements,n=t.index,i=t.frame,o=t.direction,a=t.lineSeparator,s=this._getDirectionInfo(o);this._isDragging=!0,this._fixColumnsWidth(i.$table),this._startLineSize=parseInt(this._getSize(Object(r.a)(e[n]),s)),this._startTableWidth=Object(Ht.h)(i.$table),this._startLineSeparatorPosition=parseInt(Object(r.a)(a).css(s.positionCoordinate)),this._nextLineSize=0,e[n+1]?this._nextLineSize=parseInt(this._getSize(Object(r.a)(e[n+1]),s)):"horizontal"===o&&rt(i.$table,{quill:this.quill})}},{key:"_shouldRevertOffset",value:function(t){return"horizontal"===t&&this.editorInstance.option("rtlEnabled")}},{key:"_isNextColumnWidthEnough",value:function(t,e,n){if(!this._nextLineSize)return!0;if(t>=this._minColumnWidth){var i=this._nextColumnOffsetLimit?n<this._nextColumnOffsetLimit:n<0,o=Math.abs(this._getWidthStyleValue(e)-Object(Ht.h)(e))>3;return i||!o}return!1}},{key:"_shouldSetNextColumnWidth",value:function(t){return this._nextLineSize&&t>0}},{key:"_horizontalDragHandler",value:function(t){var e=t.currentLineNewSize,n=t.directionInfo,i=t.eventOffset,o=t.$determinantElements,r=t.index,a=t.frame,s=this._nextLineSize&&this._nextLineSize-i,l=e>=this._minColumnWidth,c=ct(a.$table,r),u=ct(a.$table,r+1),h=Object(Ht.h)(c.eq(0))-e;if(l)if(this._isNextColumnWidthEnough(s,o.eq(r+1),i)){lt(this,{elements:c,property:n.positionStyleProperty,value:e}),this._shouldSetNextColumnWidth(s)&&lt(this,{elements:u,property:n.positionStyleProperty,value:s});var d=Math.abs(this._startTableWidth-Object(Ht.h)(a.$table))<3;(Math.abs(h)>3||!this._nextLineSize&&d)&&(lt(this,{elements:c,property:n.positionStyleProperty,value:Object(Ht.h)(c.eq(0))}),s+=e-Object(Ht.h)(c.eq(0)),this._shouldSetNextColumnWidth(s)&&lt(this,{elements:u,property:n.positionStyleProperty,value:s}))}else this._nextColumnOffsetLimit=this._nextColumnOffsetLimit||i;this._$highlightedElement.css(n.positionCoordinate,this._startLineSeparatorPosition+i+h+"px")}},{key:"_verticalDragHandler",value:function(t){var e=t.currentLineNewSize,n=t.directionInfo,i=t.eventOffset,o=t.$determinantElements,r=t.index,a=t.frame,s=Math.max(e,this._minRowHeight);lt(this,{elements:ct(a.$table,r,"vertical"),property:n.positionStyleProperty,value:s});var l=Object(Ht.g)(o.eq(r))-e;this._$highlightedElement.css(n.positionCoordinate,this._startLineSeparatorPosition+i+l+"px")}},{key:"_dragMoveHandler",value:function(t,e){var n=e.$determinantElements,i=e.index,o=e.frame,r=e.direction,a=this._getDirectionInfo(r),s=t.offset[a.positionCoordinateName];this.editorInstance._saveValueChangeEvent(t),this._shouldRevertOffset(r)&&(s=-s);var l=this._startLineSize+s;"horizontal"===r?this._horizontalDragHandler({currentLineNewSize:l,directionInfo:a,eventOffset:s,$determinantElements:n,index:i,frame:o}):this._verticalDragHandler({currentLineNewSize:l,directionInfo:a,eventOffset:s,$determinantElements:n,index:i,frame:o}),this._updateFramePosition(o.$table,o.$frame)}},{key:"_dragEndHandler",value:function(t){var e;null===(e=this._$highlightedElement)||void 0===e||e.remove(),this._isDragging=void 0,this._nextColumnOffsetLimit=void 0,this._tableLastWidth(t.frame,Object(Ht.h)(t.frame.$table)),this._updateFramesPositions(),this._updateFramesSeparators()}},{key:"_isLastColumnResizing",value:function(t){var e=t.$determinantElements,n=t.index;return!Object(s.d)(e[n+1])}},{key:"_getBoundaryConfig",value:function(t){var e={};if("vertical"===t.direction)e.boundary=t.frame.$table,e.boundOffset={bottom:Object(vt.f)()?-Object(Ht.c)(Object(vt.d)()):-Object(Ht.g)(this._quillContainer),top:0,left:0,right:0};else if(this._isLastColumnResizing(t)){var n=this.editorInstance._getContent();e.boundary=n,e.boundOffset={bottom:0,top:0,left:n.css("paddingLeft"),right:n.css("paddingRight")}}else e.boundary=t.frame.$table;return e}},{key:"_createDraggableElement",value:function(t){var e,n=this,i=this._getBoundaryConfig(t),o="vertical"===t.direction?"dx-htmleditor-highlighted-row":"dx-htmleditor-highlighted-column";null===(e=this._$highlightedElement)||void 0===e||e.remove(),this._$highlightedElement=Object(r.a)("<div>").addClass("".concat(o)).insertAfter(Object(r.a)(t.lineSeparator));var s={contentTemplate:null,allowMoveByClick:!1,dragDirection:t.direction,onDragMove:function(e){e.component;var i=e.event;n._dragMoveHandler(i,t)},onDragStart:function(){n._dragStartHandler(t)},onDragEnd:function(){n._dragEndHandler(t)}};Object(a.a)(s,i),this._currentDraggableElement=this.editorInstance._createComponent(t.lineSeparator,Jo.a,s)}},{key:"_fixColumnsWidth",value:function(t){var e=this,n=this._getTableDeterminantElements(t);Object(X.a)(n,function(n,i){var o=Object(Ht.h)(i),r=ct(t,n);lt(e,{elements:r,property:"width",value:Math.max(o,e._minColumnWidth)})})}},{key:"_getColumnElementsSum",value:function(t){var e=this,n=[],i=0;return Object(X.a)(t,function(t,o){var a=Object(r.a)(o),s=e._getWidthStyleValue(a)||Object(Ht.h)(a);n[t]=Math.max(s,e._minColumnWidth),i+=n[t]}),{columnsWidths:n,columnsSum:i}}},{key:"_setColumnsRatioWidth",value:function(t,e,n,i){var o=this;Object(X.a)(t,function(t){var r,a=ct(i,t);r=e>0?o._minColumnWidth+Math.round((n[t]-o._minColumnWidth)*e):o._minColumnWidth,lt(o,{elements:a,property:"width",value:r})})}},{key:"_updateColumnsWidth",value:function(t,e){var n=this._getTableDeterminantElements(t),i=this._tableResizeFrames[e];i||(this._tableResizeFrames[e]={}),i=this._tableResizeFrames[e];var o,r=this._tableLastWidth(i)||Object(Ht.h)(t),a=this._getColumnElementsSum(n),s=a.columnsWidths,l=a.columnsSum,c=n.length*this._minColumnWidth;o=l>c?(r-c)/(l-c):-1,this._tableLastWidth(i,o>0?r:c),this._setColumnsRatioWidth(n,o,s,t)}},{key:"_updateTablesColumnsWidth",value:function(t){var e=this;Object(X.a)(t,function(t,n){e._updateColumnsWidth(Object(r.a)(n),t)})}},{key:"option",value:function(t,e){"tableResizing"!==t?"enabled"===t?(this.enabled=e,e?this._applyResizing(!0):this.clean()):["minColumnWidth","minRowHeight"].includes(t)&&(this["_".concat(t)]=this._minSizeLimit(t,e)):this.handleOptionChangeValue(e)}},{key:"clean",value:function(){this._removeResizeFrames(!0),this._detachEvents(),Qo.a.remove(this._resizeHandlerWithContext),clearTimeout(this._windowResizeTimeout),this._resizeHandlerWithContext=void 0,this._isDragging=void 0,this._startTableWidth=void 0,clearTimeout(this._attachResizerTimeout)}}]),e}(G),or=n(162),rr=Object(v.a)("dxcontextmenu","dxHtmlEditorTableContextMenu"),ar=G,sr=function(t){return J.a.format("dxHtmlEditor-".concat(Object(tt.a)(t)))};P.a&&(ar=function(t){function e(t,n){var i;return Object(x.a)(this,e),(i=Object(T.a)(this,Object(I.a)(e).call(this,t,n))).enabled=!!n.enabled,i._quillContainer=i.editorInstance._getQuillContainer(),i.addCleanCallback(i.prepareCleanCallback()),i._formatHandlers=po(Object(W.a)(Object(W.a)(i))),i._tableFormats=it(t),i.enabled&&i._enableContextMenu(n.items),i}return Object(j.a)(e,t),Object(S.a)(e,[{key:"_enableContextMenu",value:function(t){var e;null===(e=this._contextMenu)||void 0===e||e.dispose(),this._contextMenu=this._createContextMenu(t),this._attachEvents()}},{key:"_attachEvents",value:function(){g.a.on(this.editorInstance._getContent(),rr,this._prepareContextMenuHandler())}},{key:"_detachEvents",value:function(){g.a.off(this.editorInstance._getContent(),rr)}},{key:"_createContextMenu",value:function(t){var e=Object(r.a)("<div>").appendTo(this.editorInstance.$element()),n=this._getMenuConfig(t);return this.editorInstance._createComponent(e,or.a,n)}},{key:"showPropertiesForm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cell",e=Object(r.a)(this._targetElement).closest("cell"===t?"th, td":"table");this._contextMenu.hide(),this._formatHandlers["".concat(t,"Properties")](e),this._targetElement=null}},{key:"_isAcceptableItem",value:function(t,e){return!t||t===e}},{key:"_handleObjectItem",value:function(t){if(t.name&&this._isAcceptableItem(t.widget,"dxButton")){var e=this._prepareMenuItemConfig(t.name);return Object(a.a)(!0,e,t)}return t.items?(t.items=this._prepareMenuItems(t.items),t):t}},{key:"_prepareMenuItemConfig",value:function(t){var e,n,i=null!==(e=ho[t])&&void 0!==e?e:t,o=Object(tt.e)(t);return{text:sr(o),icon:i.toLowerCase(),onClick:null!==(n=this._formatHandlers[t])&&void 0!==n?n:xo(this,t)}}},{key:"_prepareMenuItems",value:function(t){var e=this,n=[];return Object(X.a)(t,function(t,i){var o;Object(s.j)(i)?o=e._handleObjectItem(i):Object(s.o)(i)&&(o=e._prepareMenuItemConfig(i)),o&&n.push(o)}),n}},{key:"_getMenuConfig",value:function(t){var e=this,n=[{text:sr("insert"),items:["insertHeaderRow","insertRowAbove","insertRowBelow",Object(a.a)(this._prepareMenuItemConfig("insertColumnLeft"),{beginGroup:!0}),"insertColumnRight"]},{text:sr("delete"),items:["deleteColumn","deleteRow","deleteTable"]},Object(a.a)(this._prepareMenuItemConfig("cellProperties"),{onClick:function(t){e.showPropertiesForm("cell")}}),Object(a.a)(this._prepareMenuItemConfig("tableProperties"),{onClick:function(t){e.showPropertiesForm("table")}})],i=this._prepareMenuItems(null!==t&&void 0!==t&&t.length?t:n);return{target:this._quillContainer,showEvent:null,hideOnParentScroll:!1,items:i}}},{key:"_prepareContextMenuHandler",value:function(){var t=this;return function(e){t._isTableTarget(e.target)&&(t._targetElement=e.target,t._setContextMenuPosition(e),t._contextMenu.show(),e.preventDefault())}}},{key:"_setContextMenuPosition",value:function(t){var e=this._quillContainer.get(0).getBoundingClientRect();this._contextMenu.option({position:{my:"left top",at:"left top",collision:"fit fit",offset:{x:t.clientX-e.left,y:t.clientY-e.top}}})}},{key:"_isTableTarget",value:function(t){return!!Object(r.a)(t).closest(".dx-htmleditor-content td, .dx-htmleditor-content th").length}},{key:"clean",value:function(){this._detachEvents()}},{key:"option",value:function(t,e){if("tableContextMenu"!==t){if("enabled"===t)this.enabled=e,e?this._enableContextMenu():this.clean();else if("items"===t){var n;null===(n=this._contextMenu)||void 0===n||n.dispose(),this._contextMenu=this._createContextMenu(e)}}else this.handleOptionChangeValue(e)}},{key:"prepareCleanCallback",value:function(){var t=this;return function(){t.clean()}}}]),e}(G));var lr=ar,cr=G;P.a&&(cr=function(t){function e(t,n){var i;return Object(x.a)(this,e),(i=Object(T.a)(this,Object(I.a)(e).call(this,t,n))).options=n,i._quillContainer=i.editorInstance._getQuillContainer(),i.addCleanCallback(i.prepareCleanCallback()),i._handleServerUpload(),i}return Object(j.a)(e,t),Object(S.a)(e,[{key:"_handleServerUpload",value:function(){Object(s.d)(this.options.fileUploadMode)&&"base64"!==this.options.fileUploadMode?this._enableDragAndDropUploading():this._disableDragAndDropUploading()}},{key:"_getUploaderModule",value:function(){return this._uploaderModule||(this._uploaderModule=this.quill.getModule("uploader")),this._uploaderModule}},{key:"_disableDragAndDropUploading",value:function(){var t;this._getUploaderModule().preventImageUploading(!1),this._detachEvents(),null===(t=this._fileUploader)||void 0===t||t.dispose()}},{key:"_enableDragAndDropUploading",value:function(){this._initFileUploader(),this._getUploaderModule().preventImageUploading(!0),this._attachEvents()}},{key:"_initFileUploader",value:function(){var t=Object(r.a)("<div>").addClass("dx-htmleditor-hidden-content").appendTo(this._quillContainer),e=Object(a.a)({},Zi(),{uploadUrl:this.options.uploadUrl,onUploaded:this._onUploaded.bind(this)},this.options.fileUploaderOptions);return this._fileUploader=this.editorInstance._createComponent(t,Ri.a,e),t}},{key:"_onUploaded",value:function(t){var e,n=(null!==(e=this.quill.getSelection())&&void 0!==e?e:{index:this.quill.getLength()}).index,i=qi(this.options.uploadDirectory)+t.file.name;Yi(this.quill,n,{src:i}),this.quill.setSelection(n+1,0)}},{key:"_attachEvents",value:function(){g.a.on(this.quill.root,Object(v.a)("drop","dxHtmlEditorImageUpload"),this._dropHandler.bind(this)),g.a.on(this.quill.root,Object(v.a)("paste","dxHtmlEditorImageUpload"),this._pasteHandler.bind(this))}},{key:"_detachEvents",value:function(){g.a.off(this.quill.root,"dxHtmlEditorImageUpload")}},{key:"_dropHandler",value:function(t){this._handleInsertImages(t,"dataTransfer")}},{key:"_pasteHandler",value:function(t){this._handleInsertImages(t,"clipboardData")}},{key:"_handleInsertImages",value:function(t,e){this.saveValueChangeEvent(t);var n=Array.from(t.originalEvent[e].files||[]);n.length&&(t.preventDefault(),t.stopPropagation(),this._fileUploader.option("value",n),this._fileUploader.upload())}},{key:"clean",value:function(){this._disableDragAndDropUploading()}},{key:"prepareCleanCallback",value:function(){var t=this;return function(){t.clean()}}},{key:"option",value:function(t,e){switch(t){case"imageUpload":this.handleOptionChangeValue(e);break;case"fileUploadMode":this.options.fileUploadMode=e,this._handleServerUpload();break;case"fileUploaderOptions":this._fileUploader.option(e)}}}]),e}(G));var ur=cr,hr=Object(v.a)("dxclick","dxHtmlEditorImageCursor"),dr=G;P.a&&(dr=function(t){function e(t,n){var i;return Object(x.a)(this,e),(i=Object(T.a)(this,Object(I.a)(e).call(this,t,n))).addCleanCallback(i.clean.bind(Object(W.a)(Object(W.a)(i)))),i._attachEvents(),i}return Object(j.a)(e,t),Object(S.a)(e,[{key:"_attachEvents",value:function(){g.a.on(this.quill.root,hr,this._clickHandler.bind(this))}},{key:"_detachEvents",value:function(){g.a.off(this.quill.root,hr)}},{key:"_clickHandler",value:function(t){this._isAllowedTarget(t.target)&&this._adjustSelection(t)}},{key:"_isAllowedTarget",value:function(t){return this._isImage(t)}},{key:"_isImage",value:function(t){return"IMG"===t.tagName.toUpperCase()}},{key:"_adjustSelection",value:function(t){var e=this.quill.scroll.find(t.target);if(e){var n=e.offset(this.quill.scroll);this.quill.setSelection(n+1,0)}else this.quill.setSelection(0,0)}},{key:"clean",value:function(){this._detachEvents()}}]),e}(G));var pr=dr,fr={};if(P.a){(fr=function(t){function e(){return Object(x.a)(this,e),Object(T.a)(this,Object(I.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(S.a)(e,null,[{key:"create",value:function(t){var n=Object(D.a)(Object(I.a)(e),"create",this).call(this);return n.setAttribute("spellcheck",!1),n.dataset.marker=t.marker,n.dataset.mentionValue=t.value,n.dataset.id=t.id,this.renderContent(n,t),n}},{key:"value",value:function(t){return{marker:t.dataset.marker,id:t.dataset.id,value:t.dataset.mentionValue}}},{key:"renderContent",value:function(t,e){var n=this._templates.get(e.marker);n?n.render({model:e,container:t}):this.baseContentRender(t,e)}},{key:"baseContentRender",value:function(t,e){var n=Object(r.a)("<span>").text(e.marker);Object(r.a)(t).append(n).append(e.value)}},{key:"addTemplate",value:function(t,e){this._templates.set(t,e)}},{key:"removeTemplate",value:function(t){this._templates.delete(t)}}]),e}(P.a.import("blots/embed"))).blotName="mention",fr.tagName="span",fr.className="dx-mention",fr._templates=new Map}var mr=fr,gr=G;if(P.a){var vr="@",yr={ARROW_UP:"upArrow",ARROW_DOWN:"downArrow",ARROW_LEFT:"leftArrow",ARROW_RIGHT:"rightArrow",ENTER:"enter",ESCAPE:"escape",SPACE:"space",PAGE_UP:"pageUp",PAGE_DOWN:"pageDown",END:"end",HOME:"home"},_r=[yr.ARROW_LEFT,yr.ARROW_RIGHT,yr.PAGE_UP,yr.PAGE_DOWN,yr.END,yr.HOME],br=[" ","\n"];P.a.register({"formats/mention":mr},!0),gr=function(t){function e(t,n){var i;return Object(x.a)(this,e),(i=Object(T.a)(this,Object(I.a)(e).call(this,t,n)))._mentions={},n.mentions.forEach(function(t){var e=t.marker;e||(t.marker=e=vr);var n=t.template;if(n){var o=i.editorInstance._getTemplate(n);o&&mr.addTemplate(e,o)}i._mentions[e]=Object(a.a)({},i._getDefaultOptions(),t)}),i._attachKeyboardHandlers(),i.addCleanCallback(i.clean.bind(Object(W.a)(Object(W.a)(i)))),i.quill.on("text-change",i.onTextChange.bind(Object(W.a)(Object(W.a)(i)))),i}return Object(j.a)(e,t),Object(S.a)(e,[{key:"_getDefaultOptions",value:function(){var t=Object(D.a)(Object(I.a)(e.prototype),"_getDefaultOptions",this).call(this);return Object(a.a)(t,{itemTemplate:"item",valueExpr:"this",displayExpr:"this",template:null,searchExpr:null,searchTimeout:500,minSearchLength:0})}}]),Object(S.a)(e,[{key:"_attachKeyboardHandlers",value:function(){this.quill.keyboard.addBinding({key:yr.ARROW_UP},this._moveToItem.bind(this,"prev")),this.quill.keyboard.addBinding({key:yr.ARROW_DOWN},this._moveToItem.bind(this,"next")),this.quill.keyboard.addBinding({key:[yr.ENTER,yr.SPACE]},this._selectItemHandler.bind(this));var t=this.quill.keyboard.bindings[yr.ENTER];t.unshift(t.pop()),this.quill.keyboard.addBinding({key:yr.ESCAPE},this._escapeKeyHandler.bind(this)),this.quill.keyboard.addBinding({key:[yr.ARROW_LEFT,yr.ARROW_RIGHT],shiftKey:!0},this._ignoreKeyHandler.bind(this)),this.quill.keyboard.addBinding({key:_r},this._ignoreKeyHandler.bind(this))}},{key:"_moveToItem",value:function(t){var e=this._list.getDataSource();if(this._isMentionActive&&!e.isLoading()){var n="next"===t?"first":"last",i=Object(r.a)(this._list.option("focusedElement"))[t]();i=i.length?i:this._activeListItems[n](),this._list.option("focusedElement",Object(l.a)(i)),this._list.scrollToItem(i)}return!this._isMentionActive}},{key:"_ignoreKeyHandler",value:function(){return!this._isMentionActive}},{key:"_fitIntoRange",value:function(t,e,n){return t>n?e:t<e?n:t}},{key:"_selectItemHandler",value:function(){return this._isMentionActive&&(this._list.option("items").length?this._list.selectItem(this._list.option("focusedElement")):this._popup.hide()),!this._isMentionActive}},{key:"_escapeKeyHandler",value:function(){return this._isMentionActive&&this._popup.hide(),!this._isMentionActive}},{key:"renderList",value:function(t,n){this.compileGetters(this.options),Object(D.a)(Object(I.a)(e.prototype),"renderList",this).call(this,t,n)}},{key:"compileGetters",value:function(t){var e=t.displayExpr,n=t.valueExpr;this._valueGetter=Object(Wt.a)(e),this._idGetter=Object(Wt.a)(n)}},{key:"_getListConfig",value:function(t){var n=this,i=Object(D.a)(Object(I.a)(e.prototype),"_getListConfig",this).call(this,t);return Object(a.a)(i,{itemTemplate:this.options.itemTemplate,onContentReady:function(){n._hasSearch&&(n._popup.repaint(),n._focusFirstElement(),n._hasSearch=!1)}})}},{key:"insertEmbedContent",value:function(){var t=this._activeMentionConfig.marker.length,e=t+this._searchValue.length,n=this.getPosition(),i=this._list.option("selectedItem"),o={value:this._valueGetter(i),id:this._idGetter(i),marker:this._activeMentionConfig.marker},r=P.a.import("delta"),a=Math.max(0,n-t),s=(new r).retain(a).delete(e).insert({mention:o}).insert(" ");this.quill.updateContents(s),this.quill.setSelection(a+2)}},{key:"_getLastInsertOperation",value:function(t){var e=t[t.length-1];if("insert"in e)return e;var n="delete"in e;if(n&&t.length>=2){var i=t[t.length-2];if(n&&"insert"in i)return i}return null}},{key:"onTextChange",value:function(t,e,n){if("user"===n){var i=t.ops[t.ops.length-1];if(this._isMentionActive&&this._isPopupVisible)this._processSearchValue(i)&&this._filterList(this._searchValue);else{var o=t.ops,r=this._getLastInsertOperation(o);r&&this.checkMentionRequest(r,o)}}}},{key:"_processSearchValue",value:function(t){if("insert"in t)this._searchValue+=t.insert;else{if(!this._searchValue.length||t.delete>1)return this._popup.hide(),!1;this._searchValue=this._searchValue.slice(0,-1)}return!0}},{key:"checkMentionRequest",value:function(t,e){var n=t.insert,i=this.quill.getSelection();if(n&&Object(s.o)(n)&&i&&!this._isMarkerPartOfText(e[0].retain)&&(this._activeMentionConfig=this._mentions[n],this._activeMentionConfig)){this._updateList(this._activeMentionConfig);var o=i.index&&"\n"===this._getCharByIndex(i.index-1);this.savePosition(i.index+o),this._popup.option("position",this._popupPosition),this._searchValue="",this._popup.show()}}},{key:"_isMarkerPartOfText",value:function(t){return!(!t||-1!==br.indexOf(this._getCharByIndex(t-1)))}},{key:"_getCharByIndex",value:function(t){return this.quill.getContents(t,1).ops[0].insert}},{key:"_updateList",value:function(t){var e=t.dataSource,n=t.displayExpr,i=t.valueExpr,o=t.itemTemplate,r=t.searchExpr;this.compileGetters({displayExpr:n,valueExpr:i}),this._list.unselectAll(),this._list.option({dataSource:e,displayExpr:n,itemTemplate:o,searchExpr:r})}},{key:"_filterList",value:function(t){var e=this;if(this._isMinSearchLengthExceeded(t)){var n=this._activeMentionConfig.searchTimeout;n?(clearTimeout(this._searchTimer),this._searchTimer=setTimeout(function(){e._search(t)},n)):this._search(t)}else this._resetFilter()}},{key:"_isMinSearchLengthExceeded",value:function(t){return t.length>=this._activeMentionConfig.minSearchLength}},{key:"_resetFilter",value:function(){clearTimeout(this._searchTimer),this._search(null)}},{key:"_search",value:function(t){this._hasSearch=!0,this._list.option("searchValue",t)}},{key:"_focusFirstElement",value:function(){if(this._list){var t=this._activeListItems.first();this._list.option("focusedElement",Object(l.a)(t)),this._list.scrollToItem(t)}}},{key:"_getPopupConfig",value:function(){var t=this;return Object(a.a)(Object(D.a)(Object(I.a)(e.prototype),"_getPopupConfig",this).call(this),{hideOnParentScroll:!1,onShown:function(){t._isMentionActive=!0,t._hasSearch=!1,t._focusFirstElement()},onHidden:function(){t._list.unselectAll(),t._list.option("focusedElement",null),t._isMentionActive=!1,t._search(null)},focusStateEnabled:!1})}},{key:"clean",value:function(){var t=this;Object.keys(this._mentions).forEach(function(e){t._mentions[e].template&&mr.removeTemplate(e)})}},{key:"_isPopupVisible",get:function(){var t;return null===(t=this._popup)||void 0===t?void 0:t.option("visible")}},{key:"_popupPosition",get:function(){var t=this.getPosition(),e=this.quill.getBounds(t?t-1:t),n=e.left,i=e.top,o=e.height,a=Object(r.a)(this.quill.root).offset(),s=a.left,l=a.top;return{of:g.a.Event("positionEvent",{pageX:s+n,pageY:l+i}),offset:{v:o},my:"top left",at:"top left",collision:{y:"flip",x:"flipfit"}}}},{key:"_activeListItems",get:function(){return this._list.itemElements().filter(":not(.".concat("dx-state-disabled",")"))}}]),e}(Fo)}var Cr=gr,Or=function(){function t(){if(Object(x.a)(this,t),!t.initialized){var e=this.getQuill(),n=e.import("attributors/style/direction");e.register({"formats/align":U,"formats/direction":n,"formats/font":z,"formats/size":H,"formats/extendedImage":R,"formats/link":L,"modules/toolbar":Do,"modules/dropImage":Ro,"modules/variables":$o,"modules/resizing":Xo,"modules/tableResizing":ir,"modules/tableContextMenu":lr,"modules/imageUpload":ur,"modules/imageCursor":pr,"modules/mentions":Cr,"themes/basic":M},!0),this._customModules=[],t._initialized=!0}}return Object(S.a)(t,[{key:"createEditor",value:function(t,e){return new(this.getQuill())(t,e)}},{key:"registerModules",value:function(t){var e=RegExp("modules/*"),n=this.getQuill(),i=function(t){return!!n.imports[t]};for(var o in t)e.test(o)&&!i(o)&&this._customModules.push(o.slice(8));n.register(t,!0)}},{key:"getRegisteredModuleNames",value:function(){return this._customModules}},{key:"getQuill",value:function(){return k()}}]),t}(),xr=n(142),Sr=function(){function t(){Object(x.a)(this,t)}return Object(S.a)(t,[{key:"setQuillInstance",value:function(t){this.quillInstance=t}},{key:"toHtml",value:function(){if(this.quillInstance)return this._isQuillEmpty()?"":this.quillInstance.getSemanticHTML(0,this.quillInstance.getLength()+1)}},{key:"_isQuillEmpty",value:function(){var t=this.quillInstance.getContents();return 1===t.length()&&this._isDeltaEmpty(t)}},{key:"_isDeltaEmpty",value:function(t){return t.reduce(function(t,e){return-1!==e.insert.indexOf("\n")})}}]),t}();xr.a.addConverter("delta",Sr);var wr=function(t){var e=t.import("delta");return function(t,n){var i=n.ops.slice(),o=i[0];o.insert=o.insert.replace(/^\s+/,"");var r,a=o.insert.match(/^(\S+)\s+/),s=a&&function(t){var e=t.getAttribute("style");if(e){var n=e.replace(/\n+/g,"").match(/level(\d+)/);return n?n[1]-1:0}return!1}(t);return a&&!1!==s?(o.insert=o.insert.substring(a[0].length,o.insert.length),function(t){var e=t[t.length-1];e.insert=e.insert.trim()}(i),i.push({insert:"\n",attributes:{list:(r=a,r[1].match(/\S+\./)?"ordered":"bullet"),indent:s}}),new e(i)):n}},Pr=function(){function t(e,n){Object(x.a)(this,t),this._editorInstance=e,this._popupUserConfig=n,this._renderPopup(),this._attachOptionChangedHandler()}return Object(S.a)(t,[{key:"_renderPopup",value:function(){var t=this._editorInstance,e=Object(r.a)("<div>").addClass("dx-formdialog").appendTo(t.$element()),n=this._getPopupConfig();return t._createComponent(e,Lo.default,n)}},{key:"_attachOptionChangedHandler",value:function(){var t,e=this;null===(t=this._popup)||void 0===t||t.on("optionChanged",function(t){var n=t.name,i=t.value;"title"===n&&e._updateFormLabel(i)})}},{key:"_escKeyHandler",value:function(){this._popup.hide()}},{key:"_addEscapeHandler",value:function(t){t.component.registerKeyHandler("escape",this._escKeyHandler.bind(this))}},{key:"_isSmallScreen",value:function(){var t=Object(vt.f)()?Object(vt.b)():null;return"phone"===O.a.real().deviceType||"xs"===t}},{key:"_getPopupConfig",value:function(){var t=this;return Object(a.a)({onInitialized:function(e){t._popup=e.component,t._popup.on("hiding",function(){return t.onHiding()}),t._popup.on("shown",function(){t._form.focus()})},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,fullScreen:this._isSmallScreen(),contentTemplate:function(e){var n=Object(r.a)("<div>").appendTo(e);t._renderForm(n,{onEditorEnterKey:function(e){return t.callAddButtonAction(e.event)},customizeItem:function(e){"simple"===e.itemType&&(e.editorOptions=Object(a.a)(!0,{},e.editorOptions,{onInitialized:t._addEscapeHandler.bind(t)}))}})},toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:{onInitialized:this._addEscapeHandler.bind(this),text:J.a.format("OK"),onClick:function(e){return t.callAddButtonAction(e.event)}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{onInitialized:this._addEscapeHandler.bind(this),text:J.a.format("Cancel"),onClick:function(){t._popup.hide()}}}],_wrapperClassExternal:"dx-formdialog"},this._popupUserConfig)}},{key:"onHiding",value:function(){this.beforeAddButtonAction=void 0,this.deferred.reject()}},{key:"callAddButtonAction",value:function(t){this.beforeAddButtonAction&&!this.beforeAddButtonAction()||this.hide(this._form.option("formData"),t)}},{key:"_renderForm",value:function(t,e){t.addClass("dx-formdialog-form"),this._form=this._editorInstance._createComponent(t,ki,e),this._updateFormLabel()}},{key:"_updateFormLabel",value:function(t){var e,n=null!==t&&void 0!==t?t:this.popupOption("title");null===(e=this._form)||void 0===e||e.$element().attr("aria-label",n)}},{key:"_getDefaultFormOptions",value:function(){return{colCount:1,width:"auto",labelLocation:Object(Ot.d)()?"top":"left"}}},{key:"formOption",value:function(t,e){return this._form.option.apply(this._form,arguments)}},{key:"show",value:function(t){if(!this._popup.option("visible")){this.deferred=new m.a;var e=Object(a.a)(this._getDefaultFormOptions(),t);return this._form.option(e),this._popup.show(),this.deferred.promise()}}},{key:"hide",value:function(t,e){this.deferred.resolve(t,e),this._popup.hide()}},{key:"popupOption",value:function(t,e){return this._popup.option.apply(this._popup,arguments)}}]),t}(),kr="ios"===O.a.current().platform,Er=d.a.inherit({_getDefaultOptions:function(){return Object(a.a)(this.callBase(),{focusStateEnabled:!0,valueType:"html",placeholder:"",toolbar:null,variables:null,mediaResizing:null,tableResizing:null,mentions:null,customizeModules:null,tableContextMenu:null,allowSoftLineBreak:!1,formDialogOptions:null,imageUpload:null,stylingMode:"outlined"})},_init:function(){this.callBase(),this._cleanCallback=Object(f.a)(),this._contentInitializedCallback=Object(f.a)()},_getAnonymousTemplateName:function(){return"htmlContent"},_initTemplates:function(){this._templateManager.addDefaultTemplates(Object(o.a)({},"htmlContent",new h.a)),this.callBase()},_focusTarget:function(){return this._getContent()},_getContent:function(){return this.$element().find(".".concat("dx-htmleditor-content"))},_focusInHandler:function(t){var e=t.relatedTarget;this._shouldSkipFocusEvent(e)||(this._toggleFocusClass(!0,this.$element()),this.callBase.apply(this,arguments))},_focusOutHandler:function(t){var e=t.relatedTarget;this._shouldSkipFocusEvent(e)||(this._toggleFocusClass(!1,this.$element()),this.callBase.apply(this,arguments))},_shouldSkipFocusEvent:function(t){return Object(r.a)(t).hasClass("ql-clipboard")},_initMarkup:function(){this._$htmlContainer=Object(r.a)("<div>").addClass("dx-quill-container"),this.$element().attr("role","application").addClass("dx-htmleditor").wrapInner(this._$htmlContainer),this._renderStylingMode();var t=this._getTemplate("htmlContent");this._$templateResult=t&&t.render({container:Object(l.a)(this._$htmlContainer),noModel:!0,transclude:!0}),this._renderSubmitElement(),this.callBase(),this._updateContainerMarkup()},_renderSubmitElement:function(){this._$submitElement=Object(r.a)("<textarea>").addClass("dx-htmleditor-submit-element").attr("hidden",!0).appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(t){this._getSubmitElement().val(t)},_getSubmitElement:function(){return this._$submitElement},_removeXSSVulnerableHtml:function(t){var e=Object(r.a)("<iframe>").css("display","none").attr({id:"xss-frame",sandbox:"allow-same-origin"}).appendTo("body"),n=e.get(0).contentWindow.document.body;n.innerHTML=t;!function t(e){if(e.attributes)for(var n=0;n<e.attributes.length;n++){var i=e.attributes[n].name;i.startsWith("on")&&e.removeAttribute(i)}if(e.childNodes)for(var o=0;o<e.childNodes.length;o++)t(e.childNodes[o])}(n),Object(r.a)(n).find("script").remove();var i=n.innerHTML;return e.remove(),i},_updateContainerMarkup:function(){var t=this.option("value");if(this._isMarkdownValue()&&(this._prepareMarkdownConverter(),t=this._markdownConverter.toHtml(t)),t){var e=this._removeXSSVulnerableHtml(t);this._$htmlContainer.html(e)}},_prepareMarkdownConverter:function(){var t=xr.a.getConverter("markdown");if(!t)throw p.a.Error("E1051","markdown");this._markdownConverter=new t},_render:function(){this._prepareConverters(),this.callBase()},_prepareQuillRegistrator:function(){this._quillRegistrator||(this._quillRegistrator=new Or)},_getRegistrator:function(){return this._prepareQuillRegistrator(),this._quillRegistrator},_prepareConverters:function(){if(!this._deltaConverter){var t=xr.a.getConverter("delta");t&&(this._deltaConverter=new t)}"markdown"!==this.option("valueType")||this._markdownConverter||this._prepareMarkdownConverter()},_renderContentImpl:function(){this._contentRenderedDeferred=new m.a;var t=this._contentRenderedDeferred.promise();return this.callBase(),this._renderHtmlEditor(),this._renderFormDialog(),this._addKeyPressHandler(),t},_pointerMoveHandler:function(t){kr&&t.stopPropagation()},_attachFocusEvents:function(){Object(c.deferRender)(this.callBase.bind(this))},_addKeyPressHandler:function(){var t=Object(v.a)("keydown","".concat(this.NAME,"TextChange"));g.a.on(this._$htmlContainer,t,this._keyDownHandler.bind(this))},_keyDownHandler:function(t){this._saveValueChangeEvent(t)},_renderHtmlEditor:function(){var t=this,e=this.option("customizeModules"),n=this._getModulesConfig();Object(s.h)(e)&&e(n),this._quillInstance=this._getRegistrator().createEditor(this._$htmlContainer[0],{placeholder:this.option("placeholder"),readOnly:this.option("readOnly")||this.option("disabled"),modules:n,theme:"basic"}),this._deltaConverter.setQuillInstance(this._quillInstance),this._textChangeHandlerWithContext=this._textChangeHandler.bind(this),this._quillInstance.on("text-change",this._textChangeHandlerWithContext),this._renderScrollHandler(),this._hasTranscludedContent()?this._updateContentTask=Object(c.executeAsync)(function(){t._applyTranscludedContent()}):this._finalizeContentRendering()},_renderScrollHandler:function(){var t=this._getContent(),e=b(t);g.a.on(t,Object(v.a)(_.a.init,this.NAME),e,c.noop),g.a.on(t,Object(v.a)(C.a.move,this.NAME),this._pointerMoveHandler.bind(this))},_applyTranscludedContent:function(){var t=this.option("value");if(!Object(s.d)(t)){var e=this._deltaConverter.toHtml(),n=this._quillInstance.clipboard.convert({html:e});if(n.ops.length)return void this._quillInstance.setContents(n)}this._finalizeContentRendering()},_hasTranscludedContent:function(){return this._$templateResult&&this._$templateResult.length},_getModulesConfig:function(){var t=this,e=this._getRegistrator().getQuill(),n=wr(e);return Object(a.a)({},{table:!0,toolbar:this._getModuleConfigByOption("toolbar"),variables:this._getModuleConfigByOption("variables"),resizing:this._getModuleConfigByOption("mediaResizing"),tableResizing:this._getModuleConfigByOption("tableResizing"),tableContextMenu:this._getModuleConfigByOption("tableContextMenu"),imageUpload:this._getModuleConfigByOption("imageUpload"),imageCursor:this._getBaseModuleConfig(),mentions:this._getModuleConfigByOption("mentions"),uploader:{onDrop:function(e){return t._saveValueChangeEvent(Object(y.Event)(e))},imageBlot:"extendedImage"},keyboard:{onKeydown:function(e){return t._saveValueChangeEvent(Object(y.Event)(e))}},clipboard:{onPaste:function(e){return t._saveValueChangeEvent(Object(y.Event)(e))},onCut:function(e){return t._saveValueChangeEvent(Object(y.Event)(e))},matchers:[["p.MsoListParagraphCxSpFirst",n],["p.MsoListParagraphCxSpMiddle",n],["p.MsoListParagraphCxSpLast",n]]},multiline:Boolean(this.option("allowSoftLineBreak"))},this._getCustomModules())},_getModuleConfigByOption:function(t){var e=this.option(t),n={};if(Object(s.d)(e))return Array.isArray(e)?n[t]=e:n=e,Object(a.a)(this._getBaseModuleConfig(),n)},_getBaseModuleConfig:function(){return{editorInstance:this}},_getCustomModules:function(){var t=this,e={};return this._getRegistrator().getRegisteredModuleNames().forEach(function(n){e[n]=t._getBaseModuleConfig()}),e},_textChangeHandler:function(t,e,n){var i=this._deltaConverter.toHtml(),o=this._isMarkdownValue()?this._updateValueByType("markdown",i):i,r=this.option("value");r===o||this._isNullValueConverted(r,o)||(this._isEditorUpdating=!0,this.option("value",o)),this._finalizeContentRendering()},_isNullValueConverted:function(t,e){return null===t&&""===e},_finalizeContentRendering:function(){this._contentRenderedDeferred&&(this.clearHistory(),this._contentInitializedCallback.fire(),this._contentRenderedDeferred.resolve(),this._contentRenderedDeferred=void 0)},_updateValueByType:function(t,e){var n=this._markdownConverter;if(Object(s.d)(n)){var i=Object(c.ensureDefined)(e,this.option("value"));return"markdown"===t?n.toMarkdown(i):n.toHtml(i)}},_isMarkdownValue:function(){return"markdown"===this.option("valueType")},_resetEnabledState:function(){if(this._quillInstance){var t=!(this.option("readOnly")||this.option("disabled"));this._quillInstance.enable(t)}},_renderFormDialog:function(){var t=Object(a.a)(!0,{width:"auto",height:"auto",hideOnOutsideClick:!0},this.option("formDialogOptions"));this._formDialog=new Pr(this,t)},_getStylingModePrefix:function(){return"dx-htmleditor-"},_getQuillContainer:function(){return this._$htmlContainer},_prepareModuleOptions:function(t){var e,n=null===(e=t.fullName)||void 0===e?void 0:e.split("."),i=t.value,r=n.length>=2?n[1]:t.name;return 3===n.length&&(i=Object(o.a)({},n[2],i)),[r,i]},_moduleOptionChanged:function(t,e){var n,o=null===(n=this._quillInstance)||void 0===n?void 0:n.getModule(t);Boolean(o)?o.option.apply(o,Object(i.a)(this._prepareModuleOptions(e))):this._invalidate()},_optionChanged:function(t){switch(t.name){case"value":if(this._quillInstance)if(this._isEditorUpdating)this._isEditorUpdating=!1;else{var e=this._isMarkdownValue()?this._updateValueByType("HTML",t.value):t.value;this._updateHtmlContent(e)}else this._$htmlContainer.html(t.value);this._setSubmitValue(t.value),this.callBase(t);break;case"placeholder":case"variables":case"toolbar":case"mentions":case"customizeModules":case"allowSoftLineBreak":this._invalidate();break;case"tableResizing":this._moduleOptionChanged("tableResizing",t);break;case"valueType":this._prepareConverters();var n=this._updateValueByType(t.value);"html"===t.value&&this._quillInstance?this._updateHtmlContent(n):this.option("value",n);break;case"stylingMode":this._renderStylingMode();break;case"readOnly":case"disabled":this.callBase(t),this._resetEnabledState();break;case"formDialogOptions":this._renderFormDialog();break;case"tableContextMenu":this._moduleOptionChanged("tableContextMenu",t);break;case"mediaResizing":t.previousValue&&t.value?this._quillInstance.getModule("resizing").option(t.name,t.value):this._invalidate();break;case"width":this.callBase(t),this._repaintToolbar();break;case"imageUpload":this._moduleOptionChanged("imageUpload",t);break;default:this.callBase(t)}},_repaintToolbar:function(){var t=this._quillInstance.getModule("toolbar");t&&t.repaint()},_updateHtmlContent:function(t){var e=this._quillInstance.clipboard.convert({html:t});this._quillInstance.setContents(e)},_clean:function(){this._quillInstance&&(g.a.off(this._getContent(),".".concat(this.NAME)),this._quillInstance.off("text-change",this._textChangeHandlerWithContext),this._cleanCallback.fire()),this._abortUpdateContentTask(),this._cleanCallback.empty(),this._contentInitializedCallback.empty(),this.callBase()},_abortUpdateContentTask:function(){this._updateContentTask&&(this._updateContentTask.abort(),this._updateContentTask=void 0)},_applyQuillMethod:function(t,e){if(this._quillInstance)return this._quillInstance[t].apply(this._quillInstance,e)},_applyQuillHistoryMethod:function(t){this._quillInstance&&this._quillInstance.history&&this._quillInstance.history[t]()},addCleanCallback:function(t){this._cleanCallback.add(t)},addContentInitializedCallback:function(t){this._contentInitializedCallback.add(t)},register:function(t){this._getRegistrator().registerModules(t),this._quillInstance&&this.repaint()},get:function(t){return this._getRegistrator().getQuill().import(t)},getModule:function(t){return this._applyQuillMethod("getModule",arguments)},getQuillInstance:function(){return this._quillInstance},getSelection:function(t){return this._applyQuillMethod("getSelection",arguments)},setSelection:function(t,e){this._applyQuillMethod("setSelection",arguments)},getText:function(t,e){return this._applyQuillMethod("getText",arguments)},format:function(t,e){this._applyQuillMethod("format",arguments)},formatText:function(t,e,n,i){this._applyQuillMethod("formatText",arguments)},formatLine:function(t,e,n,i){this._applyQuillMethod("formatLine",arguments)},getFormat:function(t,e){return this._applyQuillMethod("getFormat",arguments)},removeFormat:function(t,e){return this._applyQuillMethod("removeFormat",arguments)},clearHistory:function(){this._applyQuillHistoryMethod("clear")},undo:function(){this._applyQuillHistoryMethod("undo")},redo:function(){this._applyQuillHistoryMethod("redo")},getLength:function(){return this._applyQuillMethod("getLength")},getBounds:function(t,e){return this._applyQuillMethod("getBounds",arguments)},delete:function(t,e){this._applyQuillMethod("deleteText",arguments)},insertText:function(t,e,n){this._applyQuillMethod("insertText",arguments)},insertEmbed:function(t,e,n){this._applyQuillMethod("insertEmbed",arguments)},showFormDialog:function(t){return this._formDialog.show(t)},formDialogOption:function(t,e){return this._formDialog.popupOption.apply(this._formDialog,arguments)},focus:function(){this.callBase(),this._applyQuillMethod("focus")},blur:function(){this._applyQuillMethod("blur")}});Object(u.a)("dxHtmlEditor",Er);var Tr=Er;e.default=Tr},function(t,e,n){"use strict";n.r(e);var i=n(12),o=n(13),r=n(19),a=n(14),s=n(6),l=n(18),c=n(11),u=n(2),h=n(52),d=n(94),p=n(26),f=n(3),m=n(1),g=n(37),v=n(68),y=n(42),_=n(224),b=n.n(_);function C(){if(!b.a)throw y.a.Error("E1041","devexpress-diagram");return _}var O=n(15),x=n(33),S=n(7),w=n(10),P=n(8),k=n(53),E=n(100),T=n(115),I=n(177),j=n(162),M=function(){function t(e){Object(i.a)(this,t);var n=C().EventDispatcher;this.onChanged=new n,this._owner=e}return Object(o.a)(t,[{key:"raiseBarCommandExecuted",value:function(t,e){this.onChanged.raise("notifyBarCommandExecuted",parseInt(t),e)}},{key:"getCommandKeys",value:function(){throw"Not Implemented"}},{key:"setItemValue",value:function(t,e){}},{key:"setItemEnabled",value:function(t,e){}},{key:"setItemVisible",value:function(t,e){}},{key:"setEnabled",value:function(t){}},{key:"setItemSubItems",value:function(t,e){}},{key:"isVisible",value:function(){return!0}},{key:"_getKeys",value:function(t){var e=this;return t.reduce(function(t,n){return void 0!==n.command&&t.push(n.command),n.items&&(t=t.concat(e._getKeys(n.items))),t},[])}}]),t}(),D=n(44),A=Object(w.a)(D.a.up,"dxDiagramPanel"),R=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_init",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_init",this).call(this),this._createOnPointerUpAction()}},{key:"_render",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_render",this).call(this),this._attachPointerUpEvent()}},{key:"_getPointerUpElements",value:function(){return[this.$element()]}},{key:"_attachPointerUpEvent",value:function(){var t=this;this._getPointerUpElements().forEach(function(e){S.a.off(e,A),S.a.on(e,A,function(e){Object(u.a)(e.target).closest(".dx-textbox").length||t._onPointerUpAction()})})}},{key:"_createOnPointerUpAction",value:function(){this._onPointerUpAction=this._createActionByOption("onPointerUp")}},{key:"_optionChanged",value:function(t){switch(t.name){case"onPointerUp":this._createOnPointerUpAction();break;default:Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).call(this,t)}}}]),e}(h.a),B=n(82),L={getContextMenuItemTemplate:function(t,e,n,i){var o=Object(u.a)(i);o.empty();var r=void 0!==e.rootCommand?e.rootCommand:-1;if(e.icon&&!e.checked){var a=Object(B.a)(e.icon);o.append(a)}else if(t._menuHasCheckedItems&&!0===t._menuHasCheckedItems[r]){var s=Object(B.a)("check");s.css("visibility",e.checked?"visible":"hidden"),o.append(s)}o.append('<span class="dx-menu-item-text">'+e.text+"</span>"),Array.isArray(e.items)&&e.items.length>0&&o.append('<span class="dx-menu-item-popout-container"><div class="dx-menu-item-popout"></div></span>')},getContextMenuCssClass:function(){return"dx-diagram-contextmenu"},onContextMenuItemClick:function(t,e,n){if(void 0===e.command&&void 0===e.name||Array.isArray(e.items)&&e.items.length){if(void 0!==e.rootCommand&&void 0!==e.value){var i=L.getItemCommandParameter(t,e,e.value);n.call(this,e.rootCommand,void 0,i)}}else{var o=L.getItemCommandParameter(t,e);n.call(this,e.command,e.name,o)}},getItemValue:function(t){return"object"===typeof t.value?JSON.stringify(t.value):t.value},getItemOptionText:function(t,e){if(t){e=e.slice();var n=this._getParentItemOptionText(e);t._originalItemsInfo&&t._originalItemsInfo[n]&&(e[e.length-1]+=t._originalItemsInfo[n].indexPathCorrection)}return this._getItemOptionTextCore(e)},_getParentItemOptionText:function(t){var e=t.slice(0,t.length-1);return this._getItemOptionTextCore(e)},_getItemOptionTextCore:function(t){return t.reduce(function(t,e){return t+"items[".concat(e,"].")},"")},getItemCommandParameter:function(t,e,n){return e.getParameter?e.getParameter(t):n},updateContextMenuItems:function(t,e,n,i){var o=this;t._originalItemsInfo||(t._originalItemsInfo={}),t._originalItemsInfo[e]||(t._originalItemsInfo[e]={items:t.option(e+"items")||[]}),i=i.map(function(e){return{value:o.getItemValue(e),text:e.text,checked:e.checked,widget:t,rootCommand:n}});var r=t._originalItemsInfo[e].items;t.option(e+"items",i.concat(r)),t._originalItemsInfo[e]&&r.length&&(t._originalItemsInfo[e].indexPathCorrection=i.length)},updateContextMenuItemVisible:function(t,e,n){t.option(e+"visible",n)},updateContextMenuItemValue:function(t,e,n,i){var o=t.option(e+"items");"boolean"!==typeof i||o&&o.length?void 0!==i&&(this._setContextMenuHasCheckedItems(t,n),Array.isArray(o)&&o.forEach(function(t,e){t.checked=t.value===i})):(this._setContextMenuHasCheckedItems(t,-1),t.option(e+"checked",i))},_setContextMenuHasCheckedItems:function(t,e){t._menuHasCheckedItems||(t._menuHasCheckedItems={}),t._menuHasCheckedItems[e]=!0}},N=L,z=(n(186),n(172),n(176),function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_init",value:function(){this._commands=[],this._itemHelpers={},this._commandContextMenus={},this._contextMenuList=[],this._valueConverters={},this.bar=new F(this),this._createOnInternalCommand(),this._createOnCustomCommand(),this._createOnSubMenuVisibilityChangingAction(),Object(a.a)(Object(s.a)(e.prototype),"_init",this).call(this)}},{key:"_initMarkup",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_initMarkup",this).call(this);var t=!Object(O.f)();this.option("skipAdjustSize")||t||Object(c.n)(this.$element(),""),this._commands=this._getCommands(),this._itemHelpers={},this._commandContextMenus={},this._contextMenuList=[];var n=this._createMainElement();if(this._renderToolbar(n),!this.option("skipAdjustSize")&&!t){var i=this.$element().find(".dx-toolbar-before");Object(c.n)(this.$element(),Object(c.k)(i))}}},{key:"_createMainElement",value:function(){return Object(u.a)("<div>").addClass("dx-diagram-toolbar").appendTo(this._$element)}},{key:"_getCommands",value:function(){return this.option("commands")||[]}},{key:"_renderToolbar",value:function(t){var e=this._commands.filter(function(t){return-1===["after","center"].indexOf(t.location)}),n=this._commands.filter(function(t){return"center"===t.location}),i=this._commands.filter(function(t){return"after"===t.location}),o=[].concat(this._prepareToolbarItems(e,"before",this._executeCommand)).concat(this._prepareToolbarItems(n,"center",this._executeCommand)).concat(this._prepareToolbarItems(i,"after",this._executeCommand));this._toolbarInstance=this._createComponent(t,I.a,{dataSource:o})}},{key:"_prepareToolbarItems",value:function(t,e,n){var i=this;return t.map(function(t){return Object(f.a)(!0,{location:e,locateInMenu:i.option("locateInMenu")},i._createItem(t,e,n),i._createItemOptions(t),i._createItemActionOptions(t,n))})}},{key:"_createItem",value:function(t,e,n){var i=this;return(t.getCommandValue||t.getEditorValue||t.getEditorDisplayValue)&&(this._valueConverters[t.command]={getCommandValue:t.getCommandValue,getEditorValue:t.getEditorValue,getEditorDisplayValue:t.getEditorDisplayValue}),"separator"===t.widget?{template:function(t,e,n){Object(u.a)(n).addClass("dx-diagram-toolbar-separator")},menuItemTemplate:function(t,e,n){Object(u.a)(n).addClass("dx-diagram-toolbar-menu-separator")}}:{widget:t.widget||"dxButton",cssClass:t.cssClass,options:{stylingMode:this.option("buttonStylingMode"),type:this.option("buttonType"),text:t.text,hint:t.hint,icon:t.icon||t.iconUnchecked||t.iconChecked,iconChecked:t.iconChecked,iconUnchecked:t.iconUnchecked,onInitialized:function(e){return i._onItemInitialized(e.component,t)},onContentReady:function(e){return i._onItemContentReady(e.component,t,n)}}}}},{key:"_createItemOptions",value:function(t){var e=t.widget,n=t.command,i=t.items,o=t.valueExpr,r=t.displayExpr,a=t.showText,s=t.hint,l=t.icon;return"dxSelectBox"===e?this._createSelectBoxItemOptions(n,s,i,o,r):"dxTextBox"===e?this._createTextBoxItemOptions(n,s):"dxColorBox"===e?this._createColorBoxItemOptions(n,s,l):e&&"dxButton"!==e?void 0:{showText:a||"inMenu"}}},{key:"_createSelectBoxItemOptions",value:function(t,e,n,i,o){var r=this._createTextEditorItemOptions(e);return r=Object(f.a)(!0,r,{options:{dataSource:n,displayExpr:o||"text",valueExpr:i||"value"}}),n&&n.every(function(t){return void 0!==t.icon})&&(r=Object(f.a)(!0,r,{options:{fieldTemplate:function(t,e){Object(u.a)("<i>").addClass(t&&t.icon||"dx-diagram-i-selectbox-null-icon dx-diagram-i").appendTo(e),Object(u.a)("<div>").dxTextBox({readOnly:!0,stylingMode:"outlined"}).appendTo(e)},itemTemplate:function(t,e,n){return Object(u.a)(n).attr("title",t.hint),'<i class="'.concat(t.icon,'"></i>')}}})),r}},{key:"_createTextBoxItemOptions",value:function(t,e){var n=this,i=this._createTextEditorItemOptions(e);return i=Object(f.a)(!0,i,{options:{readOnly:!0,focusStateEnabled:!1,hoverStateEnabled:!1,buttons:[{name:"dropDown",location:"after",options:{icon:"spindown",disabled:!1,stylingMode:"text",onClick:function(e){var i=n._commandContextMenus[t];i&&n._toggleContextMenu(i)}}}]}})}},{key:"_createColorBoxItemOptions",value:function(t,e,n){var i=this,o=this._createTextEditorItemOptions(e);return n&&(o=Object(f.a)(!0,o,{options:{openOnFieldClick:!0,fieldTemplate:function(t,e){Object(u.a)("<i>").addClass(n).css("borderBottomColor",t).appendTo(e),Object(u.a)("<div>").dxTextBox({readOnly:!0,stylingMode:"outlined"}).appendTo(e)}}})),o=Object(f.a)(!0,o,{options:{onOpened:function(){i.option("isMobileView")&&Object(u.a)("body").addClass("dx-diagram-mobile-toolbar-color-box-opened")},onClosed:function(){Object(u.a)("body").removeClass("dx-diagram-mobile-toolbar-color-box-opened")}}})}},{key:"_createTextEditorItemOptions",value:function(t){return{options:{stylingMode:this.option("editorStylingMode"),hint:t}}}},{key:"_createItemActionOptions",value:function(t,e){var n=this;switch(t.widget){case"dxSelectBox":case"dxColorBox":case"dxCheckBox":return{options:{onValueChanged:function(i){var o=N.getItemCommandParameter(n,t,i.component.option("value"));e.call(n,t.command,t.name,o)}}};case"dxTextBox":return{};default:return{options:{onClick:function(i){if(t.items){var o=i.component._contextMenu;o&&n._toggleContextMenu(o)}else{var r=N.getItemCommandParameter(n,t);e.call(n,t.command,t.name,r)}}}}}}},{key:"_toggleContextMenu",value:function(t){this._contextMenuList.forEach(function(e){t!==e&&e.hide()}),t.toggle()}},{key:"_onItemInitialized",value:function(t,e){this._addItemHelper(e.command,new H(t))}},{key:"_onItemContentReady",value:function(t,e,n){var i=this;if(("dxButton"===t.NAME||"dxTextBox"===t.NAME)&&e.items){var o=this._isTouchMode(),r=Object(u.a)("<div>").appendTo(this.$element());t._contextMenu=this._createComponent(r,j.a,{items:e.items,target:t.$element(),cssClass:N.getContextMenuCssClass(),showEvent:"",hideOnOutsideClick:function(e){return!o&&0===Object(u.a)(e.target).closest(t._contextMenu._dropDownButtonElement).length},focusStateEnabled:!1,position:{at:"left bottom"},itemTemplate:function(t,e,n){N.getContextMenuItemTemplate(this,t,e,n)},onItemClick:function(t){var e=t.component,o=t.itemData;N.onContextMenuItemClick(i,o,n.bind(i)),o.items&&o.items.length||e.hide()},onShowing:function(t){i._showingSubMenu||(i._showingSubMenu=t.component,i._onSubMenuVisibilityChangingAction({visible:!0,component:i}),t.component.option("items",t.component.option("items")),delete i._showingSubMenu)},onInitialized:function(n){var o=n.component;return i._onContextMenuInitialized(o,e,t)},onDisposing:function(t){var n=t.component;return i._onContextMenuDisposing(n,e)}}),o||(t._contextMenu._dropDownButtonElement=t.$element(),"dxTextBox"===t.NAME&&(t._contextMenu._dropDownButtonElement=t.getButton("dropDown").element()))}}},{key:"_isTouchMode",value:function(){return C().Browser.TouchUI}},{key:"_onContextMenuInitialized",value:function(t,e,n){this._contextMenuList.push(t),e.command&&(this._commandContextMenus[e.command]=t),this._addContextMenuHelper(e,t,[],n)}},{key:"_addItemHelper",value:function(t,e){if(void 0!==t){if(this._itemHelpers[t])throw new Error("Toolbar cannot contain duplicated commands.");this._itemHelpers[t]=e}}},{key:"_addContextMenuHelper",value:function(t,e,n,i){var o=this;t.items&&t.items.forEach(function(t,r){var a=n.concat(r);o._addItemHelper(t.command,new V(e,a,t.command,i)),o._addContextMenuHelper(t,e,a,i)})}},{key:"_onContextMenuDisposing",value:function(t,e){this._contextMenuList.splice(this._contextMenuList.indexOf(t),1),delete this._commandContextMenus[e.command]}},{key:"_executeCommand",value:function(t,e,n){if(!this._updateLocked){if("number"===typeof t){var i=this._valueConverters[t];i&&i.getCommandValue&&(n=i.getCommandValue(n)),this.bar.raiseBarCommandExecuted(t,n)}else"string"===typeof t&&this._onInternalCommandAction({command:t});void 0!==e&&this._onCustomCommandAction({name:e})}}},{key:"_createOnInternalCommand",value:function(){this._onInternalCommandAction=this._createActionByOption("onInternalCommand")}},{key:"_createOnCustomCommand",value:function(){this._onCustomCommandAction=this._createActionByOption("onCustomCommand")}},{key:"_setItemEnabled",value:function(t,e){if(t in this._itemHelpers){var n=this._itemHelpers[t];n.canUpdate(this._showingSubMenu)&&n.setEnabled(e)}}},{key:"_setEnabled",value:function(t){this._toolbarInstance.option("disabled",!t),this._contextMenuList.forEach(function(e){e.option("disabled",!t)})}},{key:"_setItemValue",value:function(t,e){try{if(this._updateLocked=!0,t in this._itemHelpers){var n=this._itemHelpers[t];if(n.canUpdate(this._showingSubMenu)){var i,o=this._valueConverters[t];o&&o.getEditorValue&&(e=o.getEditorValue(e)),o&&o.getEditorDisplayValue&&(i=o.getEditorDisplayValue(e));var r=this._commandContextMenus[t];n.setValue(e,i,r,r&&t)}}}finally{this._updateLocked=!1}}},{key:"_setItemSubItems",value:function(t,e){if(this._updateLocked=!0,t in this._itemHelpers){var n=this._itemHelpers[t];if(n.canUpdate(this._showingSubMenu)){var i=this._commandContextMenus[t];n.setItems(e,i,i&&t)}}this._updateLocked=!1}},{key:"_createOnSubMenuVisibilityChangingAction",value:function(){this._onSubMenuVisibilityChangingAction=this._createActionByOption("onSubMenuVisibilityChanging")}},{key:"_optionChanged",value:function(t){switch(t.name){case"isMobileView":Object(u.a)("body").removeClass("dx-diagram-mobile-toolbar-color-box-opened"),this._invalidate();break;case"onSubMenuVisibilityChanging":this._createOnSubMenuVisibilityChangingAction();break;case"onInternalCommand":this._createOnInternalCommand();break;case"onCustomCommand":this._createOnCustomCommand();break;case"container":case"commands":this._invalidate();break;case"export":break;default:Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).call(this,t)}}},{key:"_getDefaultOptions",value:function(){return Object(f.a)(Object(a.a)(Object(s.a)(e.prototype),"_getDefaultOptions",this).call(this),{isMobileView:!1,export:{fileName:"Diagram"},locateInMenu:"auto",buttonStylingMode:"text",buttonType:"normal",editorStylingMode:"filled",skipAdjustSize:!1})}},{key:"setCommandChecked",value:function(t,e){this._setItemValue(t,e)}},{key:"setCommandEnabled",value:function(t,e){this._setItemEnabled(t,e)}}]),e}(R)),F=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"getCommandKeys",value:function(){return this._getKeys(this._owner._commands)}},{key:"setItemValue",value:function(t,e){this._owner._setItemValue(t,e)}},{key:"setItemEnabled",value:function(t,e){this._owner._setItemEnabled(t,e)}},{key:"setEnabled",value:function(t){this._owner._setEnabled(t)}},{key:"setItemSubItems",value:function(t,e){this._owner._setItemSubItems(t,e)}}]),e}(M),H=function(){function t(e){Object(i.a)(this,t),this._widget=e}return Object(o.a)(t,[{key:"canUpdate",value:function(t){return void 0===t}},{key:"setEnabled",value:function(t){this._widget.option("disabled",!t)}},{key:"setValue",value:function(t,e,n,i){"value"in this._widget.option()?this._updateEditorValue(t,e):void 0!==t&&this._updateButtonValue(t),n&&this._updateContextMenuItemValue(n,"",i,t)}},{key:"setItems",value:function(t,e,n){e?this._updateContextMenuItems(e,"",n,t):this._updateEditorItems(t)}},{key:"_updateContextMenuItems",value:function(t,e,n,i){N.updateContextMenuItems(t,e,n,i)}},{key:"_updateEditorItems",value:function(t){"items"in this._widget.option()&&this._widget.option("items",t.map(function(t){return{value:N.getItemValue(t),text:t.text}}))}},{key:"_updateEditorValue",value:function(t,e){this._widget.option("value",t),!this._widget.option("selectedItem")&&e&&this._widget.option("value",e)}},{key:"_updateButtonValue",value:function(t){this._widget.option("iconChecked")&&this._widget.option("iconUnchecked")?this._widget.option("icon",t?this._widget.option("iconChecked"):this._widget.option("iconUnchecked")):this._widget.$element().toggleClass("dx-format-active",t)}},{key:"_updateContextMenuItemValue",value:function(t,e,n,i){N.updateContextMenuItemValue(t,e,n,i)}}]),t}(),V=function(t){function e(t,n,o,a){var l;return Object(i.a)(this,e),(l=Object(r.a)(this,Object(s.a)(e).call(this,t)))._indexPath=n,l._rootCommandKey=o,l._rootWidget=a,l}return Object(l.a)(e,t),Object(o.a)(e,[{key:"canUpdate",value:function(t){return Object(a.a)(Object(s.a)(e.prototype),"canUpdate",this).call(this,t)||t===this._widget}},{key:"setEnabled",value:function(t){this._widget.option(this._getItemOptionText()+"disabled",!t);var e=this._hasEnabledCommandItems(this._widget.option("items"));this._rootWidget.option("disabled",!e)}},{key:"_hasEnabledCommandItems",value:function(t){var e=this;return!!t&&t.some(function(t){return void 0!==t.command&&!t.disabled||e._hasEnabledCommandItems(t.items)})}},{key:"setValue",value:function(t){this._updateContextMenuItemValue(this._widget,this._getItemOptionText(),this._rootCommandKey,t)}},{key:"setItems",value:function(t){this._updateContextMenuItems(this._widget,this._getItemOptionText(),this._rootCommandKey,t)}},{key:"_getItemOptionText",value:function(){return N.getItemOptionText(this._widget,this._indexPath)}}]),e}(H),U=z,W=n(140),K={widget:"separator"},$="dx-diagram-sm-edit-item",G="dx-diagram-md-edit-item",q="dx-diagram-lg-edit-item",Z="dx-diagram-image-dropdown-item",Y="dx-diagram-color-edit-item",X="dx-diagram-lg-icon-item",Q={SHOW_TOOLBOX_COMMAND_NAME:"toolbox",SHOW_PROPERTIES_PANEL_COMMAND_NAME:"propertiesPanel",getAllCommands:function(){var t=this,e=C().DiagramCommand;return this._allCommands||(this._allCommands={separator:K,exportSvg:{command:e.ExportSvg,text:P.a.format("dxDiagram-commandExportToSvg"),getParameter:function(e){return function(n){return t._exportTo(e,n,"SVG","image/svg+xml")}}},exportPng:{command:e.ExportPng,text:P.a.format("dxDiagram-commandExportToPng"),getParameter:function(e){return function(n){return t._exportTo(e,n,"PNG","image/png")}}},exportJpg:{command:e.ExportJpg,text:P.a.format("dxDiagram-commandExportToJpg"),getParameter:function(e){return function(n){return t._exportTo(e,n,"JPEG","image/jpeg")}}},undo:{command:e.Undo,hint:P.a.format("dxDiagram-commandUndo"),text:P.a.format("dxDiagram-commandUndo"),icon:"undo",menuIcon:"undo"},redo:{command:e.Redo,hint:P.a.format("dxDiagram-commandRedo"),text:P.a.format("dxDiagram-commandRedo"),icon:"redo",menuIcon:"redo"},cut:{command:e.Cut,hint:P.a.format("dxDiagram-commandCut"),text:P.a.format("dxDiagram-commandCut"),icon:"cut",menuIcon:"cut"},copy:{command:e.Copy,hint:P.a.format("dxDiagram-commandCopy"),text:P.a.format("dxDiagram-commandCopy"),icon:"copy",menuIcon:"copy"},paste:{command:e.PasteInPosition,hint:P.a.format("dxDiagram-commandPaste"),text:P.a.format("dxDiagram-commandPaste"),icon:"paste",menuIcon:"paste"},selectAll:{command:e.SelectAll,hint:P.a.format("dxDiagram-commandSelectAll"),text:P.a.format("dxDiagram-commandSelectAll"),icon:"dx-diagram-i-button-select-all dx-diagram-i",menuIcon:"dx-diagram-i-menu-select-all dx-diagram-i"},delete:{command:e.Delete,hint:P.a.format("dxDiagram-commandDelete"),text:P.a.format("dxDiagram-commandDelete"),icon:"remove",menuIcon:"remove"},fontName:{command:e.FontName,hint:P.a.format("dxDiagram-commandFontName"),text:P.a.format("dxDiagram-commandFontName"),widget:"dxSelectBox",items:["Arial","Arial Black","Helvetica","Times New Roman","Courier New","Courier","Verdana","Georgia","Comic Sans MS","Trebuchet MS"].map(function(t){return{text:t,value:t}}),cssClass:G},fontSize:{command:e.FontSize,hint:P.a.format("dxDiagram-commandFontSize"),text:P.a.format("dxDiagram-commandFontSize"),widget:"dxSelectBox",items:[8,9,10,11,12,14,16,18,20,22,24,26,28,36,48,72].map(function(t){return{text:t+"pt",value:t+"pt"}}),cssClass:$},bold:{command:e.Bold,hint:P.a.format("dxDiagram-commandBold"),text:P.a.format("dxDiagram-commandBold"),icon:"bold",menuIcon:"bold"},italic:{command:e.Italic,hint:P.a.format("dxDiagram-commandItalic"),text:P.a.format("dxDiagram-commandItalic"),icon:"italic",menuIcon:"italic"},underline:{command:e.Underline,hint:P.a.format("dxDiagram-commandUnderline"),text:P.a.format("dxDiagram-commandUnderline"),icon:"underline",menuIcon:"underline"},fontColor:{command:e.FontColor,text:P.a.format("dxDiagram-commandTextColor"),hint:P.a.format("dxDiagram-commandTextColor"),widget:"dxColorBox",icon:"dx-icon dx-icon-color",menuIcon:"dx-icon dx-icon-color",cssClass:Y},lineColor:{command:e.StrokeColor,text:P.a.format("dxDiagram-commandLineColor"),hint:P.a.format("dxDiagram-commandLineColor"),widget:"dxColorBox",icon:"dx-icon dx-icon-background",menuIcon:"dx-icon dx-icon-background",cssClass:Y},lineWidth:{command:e.StrokeWidth,text:P.a.format("dxDiagram-commandLineWidth"),hint:P.a.format("dxDiagram-commandLineWidth"),widget:"dxSelectBox",items:[1,2,3,4,5,6,7,8].map(function(t){return{text:t+"px",value:t.toString()}}),cssClass:$},lineStyle:{command:e.StrokeStyle,text:P.a.format("dxDiagram-commandLineStyle"),hint:P.a.format("dxDiagram-commandLineStyle"),widget:"dxSelectBox",items:[{value:"",menuIcon:"dx-diagram-i-line-solid dx-diagram-i",hint:P.a.format("dxDiagram-commandLineStyleSolid")},{value:"2,2",menuIcon:"dx-diagram-i-line-dotted dx-diagram-i",hint:P.a.format("dxDiagram-commandLineStyleDotted")},{value:"6,2",menuIcon:"dx-diagram-i-line-dashed dx-diagram-i",hint:P.a.format("dxDiagram-commandLineStyleDashed")}],cssClass:Z},fillColor:{command:e.FillColor,text:P.a.format("dxDiagram-commandFillColor"),hint:P.a.format("dxDiagram-commandFillColor"),widget:"dxColorBox",icon:"dx-diagram-i dx-diagram-i-button-fill",menuIcon:"dx-diagram-i dx-diagram-i-menu-fill",cssClass:Y},textAlignLeft:{command:e.TextLeftAlign,hint:P.a.format("dxDiagram-commandAlignLeft"),text:P.a.format("dxDiagram-commandAlignLeft"),icon:"alignleft",menuIcon:"alignleft"},textAlignCenter:{command:e.TextCenterAlign,hint:P.a.format("dxDiagram-commandAlignCenter"),text:P.a.format("dxDiagram-commandAlignCenter"),icon:"aligncenter",menuIcon:"aligncenter"},textAlignRight:{command:e.TextRightAlign,hint:P.a.format("dxDiagram-commandAlignRight"),text:P.a.format("dxDiagram-commandAlignRight"),icon:"alignright",menuIcon:"alignright"},lock:{command:e.Lock,hint:P.a.format("dxDiagram-commandLock"),text:P.a.format("dxDiagram-commandLock"),icon:"dx-diagram-i-button-lock dx-diagram-i",menuIcon:"dx-diagram-i-menu-lock dx-diagram-i"},unlock:{command:e.Unlock,hint:P.a.format("dxDiagram-commandUnlock"),text:P.a.format("dxDiagram-commandUnlock"),icon:"dx-diagram-i-button-unlock dx-diagram-i",menuIcon:"dx-diagram-i-menu-unlock dx-diagram-i"},bringToFront:{command:e.BringToFront,hint:P.a.format("dxDiagram-commandBringToFront"),text:P.a.format("dxDiagram-commandBringToFront"),icon:"dx-diagram-i-button-bring-to-front dx-diagram-i",menuIcon:"dx-diagram-i-menu-bring-to-front dx-diagram-i"},sendToBack:{command:e.SendToBack,hint:P.a.format("dxDiagram-commandSendToBack"),text:P.a.format("dxDiagram-commandSendToBack"),icon:"dx-diagram-i-button-send-to-back dx-diagram-i",menuIcon:"dx-diagram-i-menu-send-to-back dx-diagram-i"},insertShapeImage:{command:e.InsertShapeImage,text:P.a.format("dxDiagram-commandInsertShapeImage"),icon:"dx-diagram-i-button-image-insert dx-diagram-i",menuIcon:"dx-diagram-i-menu-image-insert dx-diagram-i"},editShapeImage:{command:e.EditShapeImage,text:P.a.format("dxDiagram-commandEditShapeImage"),icon:"dx-diagram-i-button-image-edit dx-diagram-i",menuIcon:"dx-diagram-i-menu-image-edit dx-diagram-i"},deleteShapeImage:{command:e.DeleteShapeImage,text:P.a.format("dxDiagram-commandDeleteShapeImage"),icon:"dx-diagram-i-button-image-delete dx-diagram-i",menuIcon:"dx-diagram-i-menu-image-delete dx-diagram-i"},connectorLineType:{command:e.ConnectorLineOption,widget:"dxSelectBox",hint:P.a.format("dxDiagram-commandConnectorLineType"),text:P.a.format("dxDiagram-commandConnectorLineType"),items:[{value:0,menuIcon:"dx-diagram-i-connector-straight dx-diagram-i",hint:P.a.format("dxDiagram-commandConnectorLineStraight"),text:P.a.format("dxDiagram-commandConnectorLineStraight")},{value:1,menuIcon:"dx-diagram-i-connector-orthogonal dx-diagram-i",hint:P.a.format("dxDiagram-commandConnectorLineOrthogonal"),text:P.a.format("dxDiagram-commandConnectorLineOrthogonal")}],cssClass:Z},connectorLineStart:{command:e.ConnectorStartLineEnding,widget:"dxSelectBox",items:[{value:0,menuIcon:"dx-diagram-i-connector-begin-none dx-diagram-i",hint:P.a.format("dxDiagram-commandConnectorLineNone"),text:P.a.format("dxDiagram-commandConnectorLineNone")},{value:1,menuIcon:"dx-diagram-i-connector-begin-arrow dx-diagram-i",hint:P.a.format("dxDiagram-commandConnectorLineArrow"),text:P.a.format("dxDiagram-commandConnectorLineArrow")},{value:2,menuIcon:"dx-diagram-i-connector-begin-outlined-triangle dx-diagram-i",hint:P.a.format("dxDiagram-commandConnectorLineArrow"),text:P.a.format("dxDiagram-commandConnectorLineArrow")},{value:3,menuIcon:"dx-diagram-i-connector-begin-filled-triangle dx-diagram-i",hint:P.a.format("dxDiagram-commandConnectorLineArrow"),text:P.a.format("dxDiagram-commandConnectorLineArrow")}],hint:P.a.format("dxDiagram-commandConnectorLineStart"),text:P.a.format("dxDiagram-commandConnectorLineStart"),cssClass:Z},connectorLineEnd:{command:e.ConnectorEndLineEnding,widget:"dxSelectBox",items:[{value:0,menuIcon:"dx-diagram-i-connector-end-none dx-diagram-i",hint:P.a.format("dxDiagram-commandConnectorLineNone"),text:P.a.format("dxDiagram-commandConnectorLineNone")},{value:1,menuIcon:"dx-diagram-i-connector-end-arrow dx-diagram-i",hint:P.a.format("dxDiagram-commandConnectorLineArrow"),text:P.a.format("dxDiagram-commandConnectorLineArrow")},{value:2,menuIcon:"dx-diagram-i-connector-end-outlined-triangle dx-diagram-i",hint:P.a.format("dxDiagram-commandConnectorLineArrow"),text:P.a.format("dxDiagram-commandConnectorLineArrow")},{value:3,menuIcon:"dx-diagram-i-connector-end-filled-triangle dx-diagram-i",hint:P.a.format("dxDiagram-commandConnectorLineArrow"),text:P.a.format("dxDiagram-commandConnectorLineArrow")}],hint:P.a.format("dxDiagram-commandConnectorLineEnd"),text:P.a.format("dxDiagram-commandConnectorLineEnd"),cssClass:Z},layoutTreeTopToBottom:{command:e.AutoLayoutTreeVertical,text:P.a.format("dxDiagram-commandLayoutTopToBottom"),hint:P.a.format("dxDiagram-commandLayoutTopToBottom"),icon:"dx-diagram-i-button-layout-tree-tb dx-diagram-i",cssClass:X},layoutTreeBottomToTop:{command:e.AutoLayoutTreeVerticalBottomToTop,text:P.a.format("dxDiagram-commandLayoutBottomToTop"),hint:P.a.format("dxDiagram-commandLayoutBottomToTop"),icon:"dx-diagram-i-button-layout-tree-bt dx-diagram-i",cssClass:X},layoutTreeLeftToRight:{command:e.AutoLayoutTreeHorizontal,text:P.a.format("dxDiagram-commandLayoutLeftToRight"),hint:P.a.format("dxDiagram-commandLayoutLeftToRight"),icon:"dx-diagram-i-button-layout-tree-lr dx-diagram-i",cssClass:X},layoutTreeRightToLeft:{command:e.AutoLayoutTreeHorizontalRightToLeft,text:P.a.format("dxDiagram-commandLayoutRightToLeft"),hint:P.a.format("dxDiagram-commandLayoutRightToLeft"),icon:"dx-diagram-i-button-layout-tree-rl dx-diagram-i",cssClass:X},layoutLayeredTopToBottom:{command:e.AutoLayoutLayeredVertical,text:P.a.format("dxDiagram-commandLayoutTopToBottom"),hint:P.a.format("dxDiagram-commandLayoutTopToBottom"),icon:"dx-diagram-i-button-layout-layered-tb dx-diagram-i",cssClass:X},layoutLayeredBottomToTop:{command:e.AutoLayoutLayeredVerticalBottomToTop,text:P.a.format("dxDiagram-commandLayoutBottomToTop"),hint:P.a.format("dxDiagram-commandLayoutBottomToTop"),icon:"dx-diagram-i-button-layout-layered-bt dx-diagram-i",cssClass:X},layoutLayeredLeftToRight:{command:e.AutoLayoutLayeredHorizontal,text:P.a.format("dxDiagram-commandLayoutLeftToRight"),hint:P.a.format("dxDiagram-commandLayoutLeftToRight"),icon:"dx-diagram-i-button-layout-layered-lr dx-diagram-i",cssClass:X},layoutLayeredRightToLeft:{command:e.AutoLayoutLayeredHorizontalRightToLeft,text:P.a.format("dxDiagram-commandLayoutRightToLeft"),hint:P.a.format("dxDiagram-commandLayoutRightToLeft"),icon:"dx-diagram-i-button-layout-layered-rl dx-diagram-i",cssClass:X},fullScreen:{command:e.Fullscreen,hint:P.a.format("dxDiagram-commandFullscreen"),text:P.a.format("dxDiagram-commandFullscreen"),icon:"dx-diagram-i dx-diagram-i-button-fullscreen",menuIcon:"dx-diagram-i dx-diagram-i-menu-fullscreen",cssClass:Y},units:{command:e.ViewUnits,hint:P.a.format("dxDiagram-commandUnits"),text:P.a.format("dxDiagram-commandUnits"),widget:"dxSelectBox"},simpleView:{command:e.ToggleSimpleView,hint:P.a.format("dxDiagram-commandSimpleView"),text:P.a.format("dxDiagram-commandSimpleView"),widget:"dxCheckBox"},showGrid:{command:e.ShowGrid,hint:P.a.format("dxDiagram-commandShowGrid"),text:P.a.format("dxDiagram-commandShowGrid"),widget:"dxCheckBox"},snapToGrid:{command:e.SnapToGrid,hint:P.a.format("dxDiagram-commandSnapToGrid"),text:P.a.format("dxDiagram-commandSnapToGrid"),widget:"dxCheckBox"},gridSize:{command:e.GridSize,hint:P.a.format("dxDiagram-commandGridSize"),text:P.a.format("dxDiagram-commandGridSize"),widget:"dxSelectBox"},pageSize:{command:e.PageSize,hint:P.a.format("dxDiagram-commandPageSize"),text:P.a.format("dxDiagram-commandPageSize"),widget:"dxSelectBox",cssClass:q,getCommandValue:function(t){return JSON.parse(t)},getEditorValue:function(t){return JSON.stringify(t)}},pageOrientation:{command:e.PageLandscape,hint:P.a.format("dxDiagram-commandPageOrientation"),text:P.a.format("dxDiagram-commandPageOrientation"),widget:"dxSelectBox",items:[{value:!0,text:P.a.format("dxDiagram-commandPageOrientationLandscape")},{value:!1,text:P.a.format("dxDiagram-commandPageOrientationPortrait")}],cssClass:G},pageColor:{command:e.PageColor,hint:P.a.format("dxDiagram-commandPageColor"),text:P.a.format("dxDiagram-commandPageColor"),widget:"dxColorBox",icon:"dx-diagram-i dx-diagram-i-button-fill",menuIcon:"dx-diagram-i dx-diagram-i-menu-fill",cssClass:Y},zoomLevel:{command:e.ZoomLevel,hint:P.a.format("dxDiagram-commandZoomLevel"),text:P.a.format("dxDiagram-commandZoomLevel"),widget:"dxTextBox",items:[K,{command:e.FitToScreen,hint:P.a.format("dxDiagram-commandFitToContent"),text:P.a.format("dxDiagram-commandFitToContent")},{command:e.FitToWidth,hint:P.a.format("dxDiagram-commandFitToWidth"),text:P.a.format("dxDiagram-commandFitToWidth")},K,{command:e.AutoZoomToContent,hint:P.a.format("dxDiagram-commandAutoZoomByContent"),text:P.a.format("dxDiagram-commandAutoZoomByContent")},{command:e.AutoZoomToWidth,hint:P.a.format("dxDiagram-commandAutoZoomByWidth"),text:P.a.format("dxDiagram-commandAutoZoomByWidth")}],getEditorDisplayValue:function(t){return Math.round(100*t)+"%"},cssClass:$},toolbox:{command:this.SHOW_TOOLBOX_COMMAND_NAME,iconChecked:"dx-diagram-i dx-diagram-i-button-toolbox-close",iconUnchecked:"dx-diagram-i dx-diagram-i-button-toolbox-open",hint:P.a.format("dxDiagram-uiShowToolbox"),text:P.a.format("dxDiagram-uiShowToolbox")},propertiesPanel:{command:this.SHOW_PROPERTIES_PANEL_COMMAND_NAME,iconChecked:"close",iconUnchecked:"dx-diagram-i dx-diagram-i-button-properties-panel-open",hint:P.a.format("dxDiagram-uiProperties"),text:P.a.format("dxDiagram-uiProperties")}})},getMainToolbarCommands:function(t,e){var n=this.getAllCommands(),i=t?this._getPreparedCommands(n,t):this._getDefaultMainToolbarCommands(n);return this._prepareToolbarCommands(i,e)},_getDefaultMainToolbarCommands:function(t){return this._defaultMainToolbarCommands||(this._defaultMainToolbarCommands=[t.undo,t.redo,t.separator,t.fontName,t.fontSize,t.bold,t.italic,t.underline,t.separator,t.lineWidth,t.lineStyle,t.separator,t.fontColor,t.lineColor,t.fillColor,t.separator,t.textAlignLeft,t.textAlignCenter,t.textAlignRight,t.separator,t.connectorLineType,t.connectorLineStart,t.connectorLineEnd,t.separator,{text:P.a.format("dxDiagram-uiLayout"),showText:"always",items:[{text:P.a.format("dxDiagram-uiLayoutTree"),items:[t.layoutTreeTopToBottom,t.layoutTreeBottomToTop,t.layoutTreeLeftToRight,t.layoutTreeRightToLeft]},{text:P.a.format("dxDiagram-uiLayoutLayered"),items:[t.layoutLayeredTopToBottom,t.layoutLayeredBottomToTop,t.layoutLayeredLeftToRight,t.layoutLayeredRightToLeft]}]}])},getHistoryToolbarCommands:function(t,e){var n=this.getAllCommands(),i=t?this._getPreparedCommands(n,t):this._getDefaultHistoryToolbarCommands(n);return this._prepareToolbarCommands(i,e)},_getDefaultHistoryToolbarCommands:function(t){return this._defaultHistoryToolbarCommands||(this._defaultHistoryToolbarCommands=[t.undo,t.redo,t.separator,t.toolbox])},getViewToolbarCommands:function(t,e){var n=this.getAllCommands(),i=t?this._getPreparedCommands(n,t):this._getDefaultViewToolbarCommands(n);return this._prepareToolbarCommands(i,e)},_getDefaultViewToolbarCommands:function(t){return this._defaultViewToolbarCommands||(this._defaultViewToolbarCommands=[t.zoomLevel,t.separator,t.fullScreen,t.separator,{widget:"dxButton",icon:"export",text:P.a.format("dxDiagram-uiExport"),hint:P.a.format("dxDiagram-uiExport"),items:[t.exportSvg,t.exportPng,t.exportJpg]},{icon:"preferences",hint:P.a.format("dxDiagram-uiSettings"),text:P.a.format("dxDiagram-uiSettings"),items:[t.units,t.separator,t.showGrid,t.snapToGrid,t.gridSize,t.separator,t.simpleView,t.toolbox]}])},getPropertiesToolbarCommands:function(t,e){var n=this.getAllCommands(),i=t?this._getPreparedCommands(n,t):this._getDefaultPropertiesToolbarCommands(n);return this._prepareToolbarCommands(i,e)},_getDefaultPropertiesToolbarCommands:function(t){return this._defaultPropertiesToolbarCommands||(this._defaultPropertiesToolbarCommands=[t.propertiesPanel])},_getDefaultPropertyPanelCommandGroups:function(){return this._defaultPropertyPanelCommandGroups||(this._defaultPropertyPanelCommandGroups=[{title:P.a.format("dxDiagram-uiStyle"),groups:[{title:P.a.format("dxDiagram-uiText"),commands:["fontName","fontSize","bold","italic","underline","textAlignLeft","textAlignCenter","textAlignRight","fontColor"]},{title:P.a.format("dxDiagram-uiObject"),commands:["lineStyle","lineWidth","lineColor","fillColor"]},{title:P.a.format("dxDiagram-uiConnector"),commands:["connectorLineType","connectorLineStart","connectorLineEnd"]}]},{title:P.a.format("dxDiagram-uiLayout"),groups:[{title:P.a.format("dxDiagram-uiLayoutLayered"),commands:["layoutLayeredTopToBottom","layoutLayeredBottomToTop","layoutLayeredLeftToRight","layoutLayeredRightToLeft"]},{title:P.a.format("dxDiagram-uiLayoutTree"),commands:["layoutTreeTopToBottom","layoutTreeBottomToTop","layoutTreeLeftToRight","layoutTreeRightToLeft"]}]},{title:P.a.format("dxDiagram-uiDiagram"),groups:[{title:P.a.format("dxDiagram-uiPage"),commands:["pageSize","pageOrientation","pageColor"]}]}])},_preparePropertyPanelGroups:function(t){var e=this,n=this.getAllCommands(),i=[];return t.forEach(function(t){var o,r=t.commands;r&&(r=e._getPreparedCommands(n,r),r=e._prepareToolbarCommands(r)),t.groups&&(o=[],t.groups.forEach(function(t){var i=t.commands;i&&(i=e._getPreparedCommands(n,i),i=e._prepareToolbarCommands(i)),o.push({title:t.title,commands:i})})),i.push({title:t.title,commands:r,groups:o})}),i},getPropertyPanelCommandTabs:function(t){return t=t||this._getDefaultPropertyPanelCommandGroups(),this._preparePropertyPanelGroups(t)},getContextMenuCommands:function(t){var e=this.getAllCommands(),n=t?this._getPreparedCommands(e,t):this._getDefaultContextMenuCommands(e);return this._prepareContextMenuCommands(n)},_getDefaultContextMenuCommands:function(t){return this._defaultContextMenuCommands||(this._defaultContextMenuCommands=[t.cut,t.copy,t.paste,t.delete,t.separator,t.selectAll,t.separator,t.bringToFront,t.sendToBack,t.separator,t.lock,t.unlock,t.separator,t.insertShapeImage,t.editShapeImage,t.deleteShapeImage])},_getPreparedCommands:function(t,e){var n=this;return e.map(function(e){if(e.widget&&"separator"===e.widget)return{command:e,location:e.location};if(t[e])return t[e];if(e.text||e.icon||e.name){var i=e.name&&t[e.name],o={command:i&&i.command,name:e.name,location:e.location,text:e.text||i&&i.text,hint:e.text||i&&i.hint,icon:e.icon||i&&i.icon,menuIcon:e.icon||i&&i.menuIcon,widget:i&&i.widget,cssClass:i&&i.cssClass,getParameter:i&&i.getParameter,getCommandValue:i&&i.getCommandValue,getEditorValue:i&&i.getEditorValue,getEditorDisplayValue:i&&i.getEditorDisplayValue,iconChecked:i&&i.iconChecked,iconUnchecked:i&&i.iconUnchecked};return Array.isArray(e.items)?o.items=n._getPreparedCommands(t,e.items):o.items=i&&i.items,o}}).filter(function(t){return t})},_prepareContextMenuCommands:function(t,e,n){var i=this,o=!1;return t.map(function(t){if(i._isValidCommand(t,e)){if(!t.widget||"separator"!==t.widget){var r=i._cloneCommand(t,e);return r.icon=r.menuIcon,r.beginGroup=o,r.rootCommand=r.command?void 0:n&&n.command,o=!1,r}o=!0}}).filter(function(t){return t})},_prepareToolbarCommands:function(t,e){var n=this;return t.map(function(t){if(n._isValidCommand(t,e))return n._cloneCommand(t,e)}).filter(function(t){return t}).filter(function(t,e,n){return("separator"!==t.widget||e!==n.length-1)&&t})},_cloneCommand:function(t,e){var n=Object(f.a)({},t);return Array.isArray(t.items)&&(n.items=this._prepareContextMenuCommands(t.items,e,n)),n},_isValidCommand:function(t,e){return-1===(e=e||[]).indexOf(t.command)},_exportTo:function(t,e,n,i){var o=Object(O.d)();if(o&&o.atob&&Object(m.h)(o.Blob)){var r=this._getBlobByDataURI(o,e,i),a=t.option("export");W.b.saveAs(a.fileName||"foo",n,r)}},_getBlobByDataURI:function(t,e,n){for(var i=t.atob(e.split(",")[1]),o=new Uint8Array(i.length),r=0;r<i.length;r++)o[r]=i.charCodeAt(r);return new t.Blob([o.buffer],{type:n})}},J=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_getCommands",value:function(){return Q.getMainToolbarCommands(this.option("commands"),this.option("excludeCommands"))}}]),e}(U),tt=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_getCommands",value:function(){return Q.getHistoryToolbarCommands(this.option("commands"),this._getExcludeCommands())}},{key:"_getExcludeCommands",value:function(){var t=[].concat(this.option("excludeCommands"));return this.option("isMobileView")||t.push(Q.SHOW_TOOLBOX_COMMAND_NAME),t}}]),e}(U),et=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_getCommands",value:function(){return Q.getViewToolbarCommands(this.option("commands"),this.option("excludeCommands"))}}]),e}(U),nt=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_getCommands",value:function(){return Q.getPropertiesToolbarCommands()}}]),e}(U),it=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_init",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_init",this).call(this),this._createOnVisibilityChangingAction(),this._createOnInternalCommand(),this._createOnCustomCommand(),this._createOnItemClickAction(),this._tempState=void 0,this._commands=[],this._commandToIndexMap={},this.bar=new rt(this)}},{key:"_initMarkup",value:function(){var t=this;Object(a.a)(Object(s.a)(e.prototype),"_initMarkup",this).call(this),this._commands=this._getCommands(),this._commandToIndexMap={},this._fillCommandToIndexMap(this._commands,[]),this._$contextMenuTargetElement=Object(u.a)("<div>").addClass("dx-diagram-touchbar-target").appendTo(this.$element());var n=Object(u.a)("<div>").appendTo(this.$element());this._contextMenuInstance=this._createComponent(n,ot,{isTouchBarMode:this._isTouchBarMode(),cssClass:this._isTouchBarMode()?"dx-diagram-touchbar":N.getContextMenuCssClass(),hideOnOutsideClick:!1,showEvent:"",focusStateEnabled:!1,items:this._commands,position:this._isTouchBarMode()?{my:{x:"center",y:"bottom"},at:{x:"center",y:"top"},of:this._$contextMenuTargetElement}:{},itemTemplate:function(t,e,n){N.getContextMenuItemTemplate(this,t,e,n)},onItemClick:function(e){var n=e.itemData;return t._onItemClick(n)},onShowing:function(e){!0!==t._inOnShowing&&(t._inOnShowing=!0,t._onVisibilityChangingAction({visible:!0,component:t}),e.component.option("items",e.component.option("items")),delete t._inOnShowing)}})}},{key:"_show",value:function(t,e,n){if(this._contextMenuInstance.hide(),this._isTouchBarMode()){this._$contextMenuTargetElement.show(),n||(n={x:t,y:e,width:0,height:0});var i=n.width>800?0:(800-n.width)/2;this._$contextMenuTargetElement.css({left:n.x-i,top:n.y-32,width:n.width+2*i,height:n.height+64}),this._contextMenuInstance.show()}else this._contextMenuInstance.option("position",{offset:t+" "+e}),this._contextMenuInstance.show()}},{key:"_hide",value:function(){this._$contextMenuTargetElement.hide(),this._contextMenuInstance.hide()}},{key:"_isTouchBarMode",value:function(){return C().Browser.TouchUI}},{key:"_onItemClick",value:function(t){var e=!1;this._onItemClickAction&&(e=this._onItemClickAction(t)),e||(N.onContextMenuItemClick(this,t,this._executeCommand.bind(this)),this._contextMenuInstance.hide())}},{key:"_executeCommand",value:function(t,e,n){"number"===typeof t?this.bar.raiseBarCommandExecuted(t,n):"string"===typeof t&&this._onInternalCommandAction({command:t}),void 0!==e&&this._onCustomCommandAction({name:e})}},{key:"_createOnInternalCommand",value:function(){this._onInternalCommandAction=this._createActionByOption("onInternalCommand")}},{key:"_createOnCustomCommand",value:function(){this._onCustomCommandAction=this._createActionByOption("onCustomCommand")}},{key:"_getCommands",value:function(){return Q.getContextMenuCommands(this.option("commands"))}},{key:"_fillCommandToIndexMap",value:function(t,e){var n=this;t.forEach(function(t,i){var o=e.concat([i]);void 0!==t.command&&(n._commandToIndexMap[t.command]=o),Array.isArray(t.items)&&n._fillCommandToIndexMap(t.items,o)})}},{key:"_setItemEnabled",value:function(t,e){this._setItemVisible(t,e)}},{key:"_setItemVisible",value:function(t,e){var n=N.getItemOptionText(this._contextMenuInstance,this._commandToIndexMap[t]);N.updateContextMenuItemVisible(this._contextMenuInstance,n,e)}},{key:"_setItemValue",value:function(t,e){var n=N.getItemOptionText(this._contextMenuInstance,this._commandToIndexMap[t]);N.updateContextMenuItemValue(this._contextMenuInstance,n,t,e)}},{key:"_setItemSubItems",value:function(t,e){var n=N.getItemOptionText(this._contextMenuInstance,this._commandToIndexMap[t]);N.updateContextMenuItems(this._contextMenuInstance,n,t,e)}},{key:"_setEnabled",value:function(t){this._contextMenuInstance.option("disabled",!t)}},{key:"isVisible",value:function(){return this._inOnShowing}},{key:"_createOnVisibilityChangingAction",value:function(){this._onVisibilityChangingAction=this._createActionByOption("onVisibilityChanging")}},{key:"_createOnItemClickAction",value:function(){this._onItemClickAction=this._createActionByOption("onItemClick")}},{key:"_optionChanged",value:function(t){switch(t.name){case"onVisibilityChanging":this._createOnVisibilityChangingAction();break;case"onInternalCommand":this._createOnInternalCommand();break;case"onCustomCommand":this._createOnCustomCommand();break;case"onItemClick":this._createOnItemClickAction();break;case"commands":this._invalidate();break;case"export":break;default:Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).call(this,t)}}}]),e}(h.a),ot=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_renderContextMenuOverlay",value:function(){var t=this;Object(a.a)(Object(s.a)(e.prototype),"_renderContextMenuOverlay",this).call(this),this._overlay&&this.option("isTouchBarMode")&&this._overlay&&this._overlay.option("onShown",function(){Object(u.a)(t._overlay.$content()).parent().addClass("dx-diagram-touchbar-overlay")})}}]),e}(j.a),rt=function(t){function e(t){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).call(this,t))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"getCommandKeys",value:function(){return this._getKeys(this._owner._commands)}},{key:"setItemValue",value:function(t,e){this._owner._setItemValue(t,e)}},{key:"setItemEnabled",value:function(t,e){this._owner._setItemEnabled(t,e)}},{key:"setItemVisible",value:function(t,e){this._owner._setItemVisible(t,e)}},{key:"setItemSubItems",value:function(t,e){this._owner._setItemSubItems(t,e)}},{key:"setEnabled",value:function(t){this._owner._setEnabled(t)}},{key:"isVisible",value:function(){return this._owner.isVisible()}}]),e}(M),at={DiagramContextMenuWrapper:it,DiagramContextMenu:ot},st=n(17),lt=n(34),ct=n(28),ut=n(114),ht=n(62),dt=n(24),pt=n(61),ft=n(5),mt={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"};var gt=n(144),vt=["shading","target","$arrow"],yt={left:-1,top:-1,center:0,right:1,bottom:1},_t={top:{my:"bottom center",at:"top center",collision:"fit flip"},bottom:{my:"top center",at:"bottom center",collision:"fit flip"},right:{my:"left center",at:"right center",collision:"flip fit"},left:{my:"right center",at:"left center",collision:"flip fit"}},bt={h:10,v:10},Ct=function(t){function e(t){var n;Object(i.a)(this,e);var o=t.shading,a=t.target,l=t.$arrow,c=Object(pt.a)(t,vt);return(n=Object(r.a)(this,Object(s.a)(e).call(this,c)))._props=Object(dt.a)({},n._props,{shading:o,target:a}),n._$arrow=l,n._positionSide=void 0,n.updatePosition(n._props.position),n}return Object(l.a)(e,t),Object(o.a)(e,[{key:"positionWrapper",value:function(){this._props.shading&&this._$wrapper.css({top:0,left:0})}},{key:"updateTarget",value:function(t){this._props.target=t,this.updatePosition(this._props.position)}},{key:"_renderBoundaryOffset",value:function(){}},{key:"_getContainerPosition",value:function(){var t=Object(ft.pairToObject)(this._position.offset||""),e=t.h,n=t.v,i=this._isVerticalSide(),o=this._isHorizontalSide();if(i||o){var r=(this._isPopoverInside()?-1:1)*yt[this._positionSide]*((i?Object(c.c)(this._$arrow):Object(c.k)(this._$arrow))-this._getContentBorderWidth(this._positionSide));i?n+=r:e+=r}return Object(f.a)({},this._position,{offset:e+" "+n})}},{key:"_getContentBorderWidth",value:function(t){var e=this._$content.css(mt[t]);return parseInt(e)||0}},{key:"_isPopoverInside",value:function(){var t=v.a.setup.normalizeAlign(this._position.my),e=v.a.setup.normalizeAlign(this._position.at);return t.h===e.h&&t.v===e.v}},{key:"_isVerticalSide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._positionSide;return"top"===t||"bottom"===t}},{key:"_isHorizontalSide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._positionSide;return"left"===t||"right"===t}},{key:"_getDisplaySide",value:function(t){var e=v.a.setup.normalizeAlign(t.my),n=v.a.setup.normalizeAlign(t.at),i=yt[e.h]===yt[n.h]&&yt[e.v]===yt[n.v]?-1:1;return Math.abs(yt[e.h]-i*yt[n.h])>Math.abs(yt[e.v]-i*yt[n.v])?n.h:n.v}},{key:"_normalizePosition",value:function(t){var e,n={of:this._props.target,boundaryOffset:bt};return e=Object(m.d)(t)?Object(f.a)(!0,{},n,this._positionToObject(t)):n,this._positionSide=this._getDisplaySide(e),e}},{key:"_positionToObject",value:function(t){return Object(m.o)(t)?Object(f.a)({},_t[t]):t}}]),e}(gt.b),Ot={left:"right",top:"bottom",right:"left",bottom:"top",center:"center"},xt=function(t){return Object(m.j)(t)?t.name:t},St=function(t,e){var n=t.option(e);return xt(n)},wt=function(t,e){var n=t.option(),i=n.target,o=n.shading,r=n.disabled,a=n.hideEvent,s=Object(m.o)(i),l=o&&"hide"===e,c=l?null:St(t,"".concat(e,"Event"));if(l&&a&&y.a.log("W1020"),c&&!r){var h=Object(w.a)(c,t.NAME),d=t._createAction(function(){var n=function(t,e){var n=t.option(e);return Object(m.j)(n)&&n.delay}(t,e+"Event");this._clearEventsTimeouts(),n?this._timeouts[e]=setTimeout(function(){t[e]()},n):t[e]()}.bind(t),{validatingTargetName:"target"}),p=function(t){d({event:t,target:Object(u.a)(t.currentTarget)})},f="_"+e+"EventHandler";if(s)t[f]=p,S.a.on(st.a.getDocument(),h,i,p);else{var g=Object(x.a)(Object(u.a)(i));t[f]=void 0,S.a.on(g,h,p)}}},Pt=function(t,e,n,i){var o=i||St(t,n+"Event");if(o){o=Object(w.a)(o,t.NAME);var r="_"+n+"EventHandler";t[r]?S.a.off(st.a.getDocument(),o,e,t[r]):S.a.off(Object(x.a)(Object(u.a)(e)),o)}},kt=ut.a.inherit({_getDefaultOptions:function(){return Object(f.a)(this.callBase(),{target:void 0,shading:!1,position:Object(f.a)({},_t.bottom),hideOnOutsideClick:!0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",from:1,to:0}},showTitle:!1,width:"auto",height:"auto",dragEnabled:!1,resizeEnabled:!1,fullScreen:!1,hideOnParentScroll:!0,arrowPosition:"",arrowOffset:0,_fixWrapperPosition:!0})},_defaultOptionsRules:function(){return[{device:{platform:"ios"},options:{arrowPosition:{boundaryOffset:{h:20,v:-10},collision:"fit"}}},{device:function(){return!Object(O.f)()},options:{animation:null}}]},_init:function(){this.callBase(),this._renderArrow(),this._timeouts={},this.$element().addClass("dx-popover"),this.$wrapper().addClass("dx-popover-wrapper")},_render:function(){this.callBase.apply(this,arguments),this._detachEvents(this.option("target")),this._attachEvents()},_detachEvents:function(t){Pt(this,t,"show"),Pt(this,t,"hide")},_attachEvents:function(){wt(this,"show"),wt(this,"hide")},_renderArrow:function(){this._$arrow=Object(u.a)("<div>").addClass("dx-popover-arrow").prependTo(this.$overlayContent())},_documentDownHandler:function(t){return!this._isOutsideClick(t)||this.callBase(t)},_isOutsideClick:function(t){return!Object(u.a)(t.target).closest(this.option("target")).length},_animate:function(t){t&&t.to&&"object"===typeof t.to&&Object(f.a)(t.to,{position:this._getContainerPosition()}),this.callBase.apply(this,arguments)},_stopAnimation:function(){this.callBase.apply(this,arguments)},_renderTitle:function(){this.$wrapper().toggleClass("dx-popover-without-title",!this.option("showTitle")),this.callBase()},_renderPosition:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.callBase(),this._renderOverlayPosition(t),this._actions.onPositioned()},_renderOverlayPosition:function(t){this._resetOverlayPosition(t),this._updateContentSize(t);var e=this._getContainerPosition(),n=v.a.setup(this.$overlayContent(),e),i=this._getSideByLocation(n);this._togglePositionClass("dx-position-"+i),this._toggleFlippedClass(n.h.flip,n.v.flip),(this._isHorizontalSide()||this._isVerticalSide())&&this._renderArrowPosition(i)},_resetOverlayPosition:function(t){this._setContentHeight(t),this._togglePositionClass("dx-position-"+this._positionController._positionSide),Object(lt.e)(this.$overlayContent(),{left:0,top:0}),this._$arrow.css({top:"auto",right:"auto",bottom:"auto",left:"auto"})},_updateContentSize:function(t){if(this.$content()&&t){var e=v.a.calculate(this.$overlayContent(),this._getContainerPosition());if(e.h.oversize>0&&this._isHorizontalSide()&&!e.h.fit){var n=Object(c.k)(this.$overlayContent())-e.h.oversize;Object(c.n)(this.$overlayContent(),n)}if(e.v.oversize>0&&this._isVerticalSide()&&!e.v.fit){var i=Object(c.c)(this.$overlayContent())-e.v.oversize,o=Object(c.c)(this.$content())-e.v.oversize;Object(c.m)(this.$overlayContent(),i),Object(c.m)(this.$content(),o)}}},_getContainerPosition:function(){return this._positionController._getContainerPosition()},_hideOnParentScrollTarget:function(){return Object(u.a)(this._positionController._position.of||this.callBase())},_getSideByLocation:function(t){var e=t.v.flip,n=t.h.flip;return this._isVerticalSide()&&e||this._isHorizontalSide()&&n||this._isPopoverInside()?Ot[this._positionController._positionSide]:this._positionController._positionSide},_togglePositionClass:function(t){this.$wrapper().removeClass("dx-position-left dx-position-right dx-position-top dx-position-bottom").addClass(t)},_toggleFlippedClass:function(t,e){this.$wrapper().toggleClass("dx-popover-flipped-horizontal",t).toggleClass("dx-popover-flipped-vertical",e)},_renderArrowPosition:function(t){var e=Object(ht.a)(this._$arrow.get(0)),n=-(this._isVerticalSide(t)?e.height:e.width);this._$arrow.css(Ot[t],n);var i,o=this._isVerticalSide(t)?"left":"top",r=this._isVerticalSide(t)?"width":"height",a=Object(u.a)(this._positionController._position.of),s=v.a.offset(a)||{top:0,left:0},l=v.a.offset(this.$overlayContent()),c=e[r],h=l[o],d=Object(ht.a)(this.$overlayContent().get(0))[r],p=s[o],f=a.get(0),m=f&&!f.preventDefault?Object(ht.a)(f)[r]:0,g=Math.max(h,p),y=Math.min(h+d,p+m);i="start"===this.option("arrowPosition")?g-h:"end"===this.option("arrowPosition")?y-h-c:(g+y)/2-h-c/2;var _=this._positionController._getContentBorderWidth(t),b=Object(ct.b)(i-_+this.option("arrowOffset"),_,d-c-2*_);this._$arrow.css(o,b)},_isPopoverInside:function(){return this._positionController._isPopoverInside()},_setContentHeight:function(t){t&&this.callBase()},_getPositionControllerConfig:function(){var t=this.option(),e=t.shading,n=t.target;return Object(f.a)({},this.callBase(),{target:n,shading:e,$arrow:this._$arrow})},_initPositionController:function(){this._positionController=new Ct(this._getPositionControllerConfig())},_renderWrapperDimensions:function(){this.option("shading")&&this.$wrapper().css({width:"100%",height:"100%"})},_isVerticalSide:function(t){return this._positionController._isVerticalSide(t)},_isHorizontalSide:function(t){return this._positionController._isHorizontalSide(t)},_clearEventTimeout:function(t){clearTimeout(this._timeouts[t])},_clearEventsTimeouts:function(){this._clearEventTimeout("show"),this._clearEventTimeout("hide")},_clean:function(){this._detachEvents(this.option("target")),this.callBase.apply(this,arguments)},_optionChanged:function(t){switch(t.name){case"arrowPosition":case"arrowOffset":this._renderGeometry();break;case"fullScreen":t.value&&this.option("fullScreen",!1);break;case"target":t.previousValue&&this._detachEvents(t.previousValue),this._positionController.updateTarget(t.value),this._invalidate();break;case"showEvent":case"hideEvent":var e=t.name.substring(0,4),n=xt(t.previousValue);this.hide(),Pt(this,this.option("target"),e,n),wt(this,e);break;case"visible":this._clearEventTimeout(t.value?"show":"hide"),this.callBase(t);break;default:this.callBase(t)}},show:function(t){return t&&this.option("target",t),this.callBase()}});Object(p.a)("dxPopover",kt);var Et=kt,Tt=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_init",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_init",this).call(this),this._onShownAction=this._createActionByOption("onShown"),this._popoverPositionData=[{my:{x:"center",y:"top"},at:{x:"center",y:"bottom"},offset:{x:0,y:5}},{my:{x:"right",y:"center"},at:{x:"left",y:"center"},offset:{x:-5,y:0}},{my:{x:"center",y:"bottom"},at:{x:"center",y:"top"},offset:{x:0,y:-5}},{my:{x:"left",y:"center"},at:{x:"right",y:"center"},offset:{x:5,y:0}}]}},{key:"_initMarkup",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_initMarkup",this).call(this),this._$popoverTargetElement=Object(u.a)("<div>").addClass("dx-diagram-context-toolbox-target").appendTo(this.$element());var t=Object(u.a)("<div>").appendTo(this.$element()),n="dx-diagram-context-toolbox";this._isTouchMode()&&(n+=" dx-diagram-touch-context-toolbox"),this._popoverInstance=this._createComponent(t,Et,{hideOnOutsideClick:!1,container:this.$element()}),this._popoverInstance.$element().addClass(n)}},{key:"_isTouchMode",value:function(){return C().Browser.TouchUI}},{key:"_show",value:function(t,e,n,i,o){this._popoverInstance.hide();var r=Object(u.a)("<div>").addClass("dx-diagram-context-toolbox-content");void 0!==this.option("toolboxWidth")&&r.css("width",this.option("toolboxWidth")),this._$popoverTargetElement.css({left:t+this._popoverPositionData[n].offset.x,top:e+this._popoverPositionData[n].offset.y}).show();var a=Object(O.d)(),s=this._$popoverTargetElement.get(0);this._$popoverTargetElement.css({left:s.offsetLeft-(s.getBoundingClientRect().left+a.scrollX-s.offsetLeft),top:s.offsetTop-(s.getBoundingClientRect().top+a.scrollY-s.offsetTop)}),this._popoverInstance.option({position:{my:this._popoverPositionData[n].my,at:this._popoverPositionData[n].at,of:this._$popoverTargetElement},contentTemplate:r,onContentReady:function(){var t=this,e=this.$element().find(".dx-diagram-context-toolbox-content");this._onShownAction({category:i,callback:o,$element:e,hide:function(){return t._popoverInstance.hide()}})}.bind(this)}),this._popoverInstance.show()}},{key:"_hide",value:function(){this._$popoverTargetElement.hide(),this._popoverInstance.hide()}}]),e}(h.a),It=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_init",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_init",this).call(this),this._command=void 0,this._isShown=!1,this._createOnGetContentOption(),this._createOnHiddenOption()}},{key:"_initMarkup",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_initMarkup",this).call(this),this._command=this.option("command"),this._$popupElement=Object(u.a)("<div>").appendTo(this.$element()),this._popup=this._createComponent(this._$popupElement,ut.a,{title:this.option("title"),maxWidth:this.option("maxWidth"),height:this.option("height"),toolbarItems:this.option("toolbarItems"),onHidden:this._onHiddenAction})}},{key:"_clean",value:function(){delete this._popup,this._$popupElement&&this._$popupElement.remove()}},{key:"_getDefaultOptions",value:function(){return Object(f.a)(Object(a.a)(Object(s.a)(e.prototype),"_getDefaultOptions",this).call(this),{title:"",maxWidth:500,height:"auto",toolbarItems:this._getToolbarItems()})}},{key:"_getToolbarItems",value:function(){return[this._getOkToolbarItem(),this._getCancelToolbarItem()]}},{key:"_getOkToolbarItem",value:function(){return{widget:"dxButton",location:"after",toolbar:"bottom",options:{text:P.a.format("dxDiagram-dialogButtonOK"),onClick:function(){this._command.execute(this._commandParameter),this._hide()}.bind(this)}}}},{key:"_getCancelToolbarItem",value:function(){return{widget:"dxButton",location:"after",toolbar:"bottom",options:{text:P.a.format("dxDiagram-dialogButtonCancel"),onClick:this._hide.bind(this)}}}},{key:"_optionChanged",value:function(t){switch(t.name){case"title":case"maxWidth":case"height":case"toolbarItems":this._popup.option(t.name,t.value);break;case"command":this._command=t.value;break;case"onGetContent":this._createOnGetContentOption();break;case"onHidden":this._createOnHiddenOption();break;default:Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).call(this,t)}}},{key:"_createOnGetContentOption",value:function(){this._onGetContentAction=this._createActionByOption("onGetContent")}},{key:"_createOnHiddenOption",value:function(){this._onHiddenAction=this._createActionByOption("onHidden")}},{key:"_hide",value:function(){this._popup.hide(),this._isShown=!1}},{key:"_show",value:function(){this._popup.$content().empty().append(this._onGetContentAction()),this._popup.show(),this._isShown=!0}},{key:"isVisible",value:function(){return this._isShown}}]),e}(h.a),jt=n(119),Mt=n(77);var Dt=Object(Mt.a)(function(){var t=st.a.getDocument();t.body.insertAdjacentHTML("beforeend","<div style='position: absolute; overflow: scroll; width: 100px; height: 100px; top: -9999;'></div>");var e,n=t.body.lastElementChild,i=(e=n).offsetWidth-e.clientWidth;return t.body.removeChild(n),i}),At=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_init",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_init",this).call(this);var t=C().EventDispatcher;this.onScroll=new t,this._createOnCreateDiagramAction()}},{key:"_initMarkup",value:function(){var t=this;Object(a.a)(Object(s.a)(e.prototype),"_initMarkup",this).call(this);var n=Object(u.a)("<div>").appendTo(this.$element()),i={direction:"both",bounceEnabled:!1,scrollByContent:!1,onScroll:function(e){var n=e.scrollOffset;t._raiseOnScroll(n.left,n.top)}},o=this.option("useNativeScrolling");void 0!==o&&(i.useNative=o),this._scrollView=this._createComponent(n,jt.a,i),this._onCreateDiagramAction({$parent:Object(u.a)(this._scrollView.content()),scrollView:this})}},{key:"setScroll",value:function(t,e){this._scrollView.scrollTo({left:t,top:e}),this._raiseOnScrollWithoutPoint()}},{key:"offsetScroll",value:function(t,e){this._scrollView.scrollBy({left:t,top:e}),this._raiseOnScrollWithoutPoint()}},{key:"getSize",value:function(){var t=C().Size,e=this._scrollView.$element();return new t(Math.floor(Object(c.k)(e)),Math.floor(Object(c.c)(e)))}},{key:"getScrollContainer",value:function(){return this._scrollView.$element()[0]}},{key:"getScrollBarWidth",value:function(){return this.option("useNativeScrolling")?Dt():0}},{key:"detachEvents",value:function(){}},{key:"_raiseOnScroll",value:function(t,e){var n=C().Point;this.onScroll.raise("notifyScrollChanged",function(){return new n(t,e)})}},{key:"_raiseOnScrollWithoutPoint",value:function(){var t=this,e=C().Point;this.onScroll.raise("notifyScrollChanged",function(){return new e(t._scrollView.scrollLeft(),t._scrollView.scrollTop())})}},{key:"_createOnCreateDiagramAction",value:function(){this._onCreateDiagramAction=this._createActionByOption("onCreateDiagram")}},{key:"_optionChanged",value:function(t){switch(t.name){case"onCreateDiagram":this._createOnCreateDiagramAction();break;case"useNativeScrolling":break;default:Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).call(this,t)}}}]),e}(h.a),Rt={getDefaultGroups:function(){return this._groups||(this._groups={general:{category:"general",title:P.a.format("dxDiagram-categoryGeneral")},flowchart:{category:"flowchart",title:P.a.format("dxDiagram-categoryFlowchart")},orgChart:{category:"orgChart",title:P.a.format("dxDiagram-categoryOrgChart")},containers:{category:"containers",title:P.a.format("dxDiagram-categoryContainers")},custom:{category:"custom",title:P.a.format("dxDiagram-categoryCustom")}})},getGroups:function(t){var e=this.getDefaultGroups();return t?t.map(function(t){return"string"===typeof t?{category:t,title:e[t]&&e[t].title||t}:t}).filter(function(t){return t}):[e.general,e.flowchart,e.orgChart,e.containers]}},Bt=n(16),Lt=n(101),Nt=n(57),zt=n(54),Ft=n(20),Ht=n(9),Vt=n(135),Ut=n(88),Wt=n(47),Kt=Vt.a.inherit({_activeStateUnit:".dx-accordion-item",_getDefaultOptions:function(){return Object(f.a)(this.callBase(),{hoverStateEnabled:!0,height:void 0,itemTitleTemplate:"title",onItemTitleClick:null,selectedIndex:0,collapsible:!1,multiple:!1,animationDuration:300,deferRendering:!0,selectionByClick:!0,activeStateEnabled:!0,_itemAttributes:{role:"tab"},_animationEasing:"ease"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===Ft.a.real().deviceType&&!Ft.a.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return Object(Wt.d)()},options:{animationDuration:200,_animationEasing:"cubic-bezier(0.4, 0, 0.2, 1)"}}])},_itemElements:function(){return this._itemContainer().children(this._itemSelector())},_init:function(){this.callBase(),this.option("selectionRequired",!this.option("collapsible")),this.option("selectionMode",this.option("multiple")?"multiple":"single");var t=this.$element();t.addClass("dx-accordion"),this._$container=Object(u.a)("<div>").addClass("dx-accordion-wrapper"),t.append(this._$container)},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({title:new Ut.a(function(t,e){if(Object(m.k)(e)){var n=Object(B.a)(e.icon);n&&t.append(n),Object(m.d)(e.title)&&!Object(m.k)(e.title)&&t.append(st.a.createTextNode(e.title))}else Object(m.d)(e)&&t.text(String(e));t.wrapInner(Object(u.a)("<div>").addClass("dx-accordion-item-title-caption"))},["title","icon"],this.option("integrationOptions.watchMethod"))})},_initMarkup:function(){var t=this;this._deferredItems=[],this.callBase(),this.setAria({role:"tablist",multiselectable:this.option("multiple")}),Object(ft.deferRender)(function(){var e=t._getSelectedItemIndices();t._renderSelection(e,[])})},_render:function(){this.callBase(),this._updateItemHeightsWrapper(!0)},_itemDataKey:function(){return"dxAccordionItemData"},_itemClass:function(){return"dx-accordion-item"},_itemContainer:function(){return this._$container},_itemTitles:function(){return this._itemElements().find(".dx-accordion-item-title")},_itemContents:function(){return this._itemElements().find(".dx-accordion-item-body")},_getItemData:function(t){return Object(u.a)(t).parent().data(this._itemDataKey())||this.callBase.apply(this,arguments)},_executeItemRenderAction:function(t){t.type||this.callBase.apply(this,arguments)},_itemSelectHandler:function(t){Object(u.a)(t.target).closest(this._itemContents()).length||this.callBase.apply(this,arguments)},_afterItemElementDeleted:function(t,e){this._deferredItems.splice(e.itemIndex,1),this.callBase.apply(this,arguments)},_renderItemContent:function(t){var e=this.callBase(Object(f.a)({},t,{contentClass:"dx-accordion-item-title",templateProperty:"titleTemplate",defaultTemplateName:this.option("itemTitleTemplate")}));this._attachItemTitleClickAction(e);var n=new Bt.a;Object(m.d)(this._deferredItems[t.index])?this._deferredItems[t.index]=n:this._deferredItems.push(n),(!this.option("deferRendering")||this._getSelectedItemIndices().indexOf(t.index)>=0)&&n.resolve(),n.done(this.callBase.bind(this,Object(f.a)({},t,{contentClass:"dx-accordion-item-body",container:Object(x.a)(Object(u.a)("<div>").appendTo(Object(u.a)(e).parent()))})))},_attachItemTitleClickAction:function(t){var e=Object(w.a)(zt.a,this.NAME);S.a.off(t,e),S.a.on(t,e,this._itemTitleClickHandler.bind(this))},_itemTitleClickHandler:function(t){this._itemDXEventHandler(t,"onItemTitleClick")},_renderSelection:function(t,e){this._itemElements().addClass("dx-accordion-item-closed"),this.setAria("hidden",!0,this._itemContents()),this._updateItems(t,e)},_updateSelection:function(t,e){this._updateItems(t,e),this._updateItemHeightsWrapper(!1)},_updateItems:function(t,e){var n=this,i=this._itemElements();Ht.a(t,function(t,e){n._deferredItems[e].resolve();var o=i.eq(e).addClass("dx-accordion-item-opened").removeClass("dx-accordion-item-closed");n.setAria("hidden",!1,o.find(".dx-accordion-item-body"))}),Ht.a(e,function(t,e){var o=i.eq(e).removeClass("dx-accordion-item-opened");n.setAria("hidden",!0,o.find(".dx-accordion-item-body"))})},_updateItemHeightsWrapper:function(t){this.option("templatesRenderAsynchronously")?this._animationTimer=setTimeout(function(){this._updateItemHeights(t)}.bind(this)):this._updateItemHeights(t)},_updateItemHeights:function(t){var e=this,n=e._deferredAnimate,i=this._splitFreeSpace(this._calculateFreeSpace());return clearTimeout(this._animationTimer),Bt.c.apply(u.a,[].slice.call(this._itemElements()).map(function(n){return e._updateItemHeight(Object(u.a)(n),i,t)})).done(function(){n&&n.resolveWith(e)})},_updateItemHeight:function(t,e,n){var i=t.children(".dx-accordion-item-title");Nt.a.isAnimating(t)&&Nt.a.stop(t);var o,r=Object(c.g)(t);return t.hasClass("dx-accordion-item-opened")?(o=e+Object(c.g)(i))||(Object(c.m)(t,"auto"),o=Object(c.g)(t)):o=Object(c.g)(i),this._animateItem(t,r,o,n,!!e)},_animateItem:function(t,e,n,i,o){var r;return i||e===n?(t.css("height",n),r=(new Bt.a).resolve()):r=Nt.a.animate(t,{type:"custom",from:{height:e},to:{height:n},duration:this.option("animationDuration"),easing:this.option("_animationEasing")}),r.done(function(){t.hasClass("dx-accordion-item-opened")&&!o&&t.css("height",""),t.not(".dx-accordion-item-opened").addClass("dx-accordion-item-closed")})},_splitFreeSpace:function(t){return t?t/this.option("selectedItems").length:t},_calculateFreeSpace:function(){var t=this.option("height");if(void 0!==t&&"auto"!==t){var e=this._itemTitles(),n=0;return Ht.a(e,function(t,e){n+=Object(c.g)(e)}),Object(c.c)(this.$element())-n}},_visibilityChanged:function(t){t&&this._dimensionChanged()},_dimensionChanged:function(){this._updateItemHeights(!0)},_clean:function(){clearTimeout(this._animationTimer),this.callBase()},_tryParseItemPropertyName:function(t){var e=t.match(/.*\.(.*)/);if(Object(m.d)(e)&&e.length>=1)return e[1]},_optionChanged:function(t){switch(t.name){case"items":this.callBase(t),"title"===this._tryParseItemPropertyName(t.fullName)&&this._renderSelection(this._getSelectedItemIndices(),[]),"visible"===this._tryParseItemPropertyName(t.fullName)&&this._updateItemHeightsWrapper(!0),!0===this.option("repaintChangesOnly")&&"items"===t.fullName&&(this._updateItemHeightsWrapper(!0),this._renderSelection(this._getSelectedItemIndices(),[]));break;case"animationDuration":case"onItemTitleClick":case"_animationEasing":break;case"collapsible":this.option("selectionRequired",!this.option("collapsible"));break;case"itemTitleTemplate":case"height":case"deferRendering":this._invalidate();break;case"multiple":this.option("selectionMode",t.value?"multiple":"single");break;default:this.callBase(t)}},expandItem:function(t){return this._deferredAnimate=new Bt.a,this.selectItem(t),this._deferredAnimate.promise()},collapseItem:function(t){return this._deferredAnimate=new Bt.a,this.unselectItem(t),this._deferredAnimate.promise()},updateDimensions:function(){return this._updateItemHeights(!1)}});Object(p.a)("dxAccordion",Kt);var $t=Kt,Gt=n(55),qt=Et.inherit({_getDefaultOptions:function(){return Object(f.a)(this.callBase(),{toolbarItems:[],showCloseButton:!1,showTitle:!1,title:null,titleTemplate:null,onTitleRendered:null,bottomTemplate:null,propagateOutsideClick:!0})},_render:function(){this.$element().addClass("dx-tooltip"),this.$wrapper().addClass("dx-tooltip-wrapper"),this.callBase()},_renderContent:function(){this.callBase(),this._contentId="dx-"+new Gt.a,this.$overlayContent().attr({id:this._contentId,role:"tooltip"}),this._toggleAriaDescription(!0)},_toggleAriaDescription:function(t){var e=Object(u.a)(this.option("target")),n=t?this._contentId:void 0;Object(m.p)(e.get(0))||this.setAria("describedby",n,e)}});Object(p.a)("dxTooltip",qt);var Zt=qt,Yt=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_init",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_init",this).call(this),this._createOnVisibilityChangingAction(),this._createOnVisibilityChangedAction()}},{key:"isVisible",value:function(){return this.option("isVisible")}},{key:"isMobileView",value:function(){return this.option("isMobileView")}},{key:"_initMarkup",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_initMarkup",this).call(this);var t=this.$element(),n=Object(u.a)("<div>").addClass(this._getPopupClass()).addClass(this.isMobileView()&&"dx-diagram-mobile-popup").appendTo(t);this._popup=this._createComponent(n,ut.a,this._getPopupOptions()),this._updatePopupVisible()}},{key:"show",value:function(){this.option("isVisible",!0)}},{key:"hide",value:function(){this.option("isVisible",!1)}},{key:"toggle",value:function(){this.option("isVisible",!this.isVisible())}},{key:"repaint",value:function(){this._popup.repaint()}},{key:"_getPopupContent",value:function(){return this._popup.content()}},{key:"_getPopupTitle",value:function(){return Object(u.a)(this._getPopupContent()).parent().find(".dx-popup-title")}},{key:"_getPointerUpElements",value:function(){return[this._getPopupContent(),this._getPopupTitle()]}},{key:"_getVerticalPaddingsAndBorders",value:function(){var t=Object(u.a)(this._getPopupContent());return Object(c.g)(t)-Object(c.c)(t)}},{key:"_getHorizontalPaddingsAndBorders",value:function(){var t=Object(u.a)(this._getPopupContent());return Object(c.h)(t)-Object(c.k)(t)}},{key:"_getPopupClass",value:function(){return""}},{key:"_getPopupWidth",value:function(){return this.option("width")||"auto"}},{key:"_getPopupMaxWidth",value:function(){return this.option("maxWidth")}},{key:"_getPopupMinWidth",value:function(){return this.option("minWidth")}},{key:"_getPopupHeight",value:function(){return this.option("height")||"auto"}},{key:"_getPopupMaxHeight",value:function(){return this.option("maxHeight")}},{key:"_getPopupMinHeight",value:function(){return this.option("minHeight")}},{key:"_getPopupPosition",value:function(){return{}}},{key:"_getPopupContainer",value:function(){return this.option("container")}},{key:"_getPopupSlideAnimationObject",value:function(t){return Object(f.a)({type:"slide",start:function(){Object(u.a)("body").css("overflow","hidden")},complete:function(){Object(u.a)("body").css("overflow","")}},t)}},{key:"_getPopupAnimation",value:function(){return{hide:{type:"fadeOut"},show:{type:"fadeIn"}}}},{key:"_getPopupOptions",value:function(){var t=this,e=this;return{animation:Object(O.f)()?this._getPopupAnimation():null,shading:!1,showTitle:!1,focusStateEnabled:!1,container:this._getPopupContainer(),width:this._getPopupWidth(),height:this._getPopupHeight(),maxWidth:this._getPopupMaxWidth(),maxHeight:this._getPopupMaxHeight(),minWidth:this._getPopupMinWidth(),minHeight:this._getPopupMinHeight(),position:this._getPopupPosition(),showCloseButton:!0,copyRootClassesToWrapper:!0,_ignoreCopyRootClassesToWrapperDeprecation:!0,onContentReady:function(){e._renderPopupContent(e._popup.content())},onShowing:function(){t._onVisibilityChangingAction({visible:!0,component:t})},onShown:function(){t.option("isVisible",!0),t._onVisibilityChangedAction({visible:!0,component:t})},onHiding:function(){t._onVisibilityChangingAction({visible:!1,component:t})},onHidden:function(){t.option("isVisible",!1),t._onVisibilityChangedAction({visible:!1,component:t})}}}},{key:"_renderPopupContent",value:function(t){}},{key:"_updatePopupVisible",value:function(){this._popup.option("visible",this.isVisible())}},{key:"_createOnVisibilityChangingAction",value:function(){this._onVisibilityChangingAction=this._createActionByOption("onVisibilityChanging")}},{key:"_createOnVisibilityChangedAction",value:function(){this._onVisibilityChangedAction=this._createActionByOption("onVisibilityChanged")}},{key:"_optionChanged",value:function(t){switch(t.name){case"onVisibilityChanging":this._createOnVisibilityChangingAction();break;case"onVisibilityChanged":this._createOnVisibilityChangedAction();break;case"container":this._popup.option("container",this._getPopupContainer());break;case"width":this._popup.option("width",this._getPopupWidth());break;case"height":this._popup.option("height",this._getPopupHeight());break;case"maxWidth":this._popup.option("maxWidth",this._getPopupMaxWidth());break;case"maxHeight":this._popup.option("maxHeight",this._getPopupMaxHeight());break;case"minWidth":this._popup.option("minWidth",this._getPopupMinWidth());break;case"minHeight":this._popup.option("minHeight",this._getPopupMinHeight());break;case"isMobileView":this._invalidate();break;case"isVisible":this._updatePopupVisible();break;default:Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).call(this,t)}}},{key:"_getDefaultOptions",value:function(){return Object(f.a)(Object(a.a)(Object(s.a)(e.prototype),"_getDefaultOptions",this).call(this),{isVisible:!0,isMobileView:!1,offsetX:0,offsetY:0})}}]),e}(R),Xt=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_init",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_init",this).call(this),this._toolboxes=[],this._filterText="",this._createOnShapeCategoryRenderedAction(),this._createOnFilterChangedAction()}},{key:"_getPopupClass",value:function(){return"dx-diagram-toolbox-popup"}},{key:"_getPopupHeight",value:function(){return this.isMobileView()?"100%":Object(a.a)(Object(s.a)(e.prototype),"_getPopupHeight",this).call(this)}},{key:"_getPopupMaxHeight",value:function(){return this.isMobileView()?"100%":Object(a.a)(Object(s.a)(e.prototype),"_getPopupMaxHeight",this).call(this)}},{key:"_getPopupMinHeight",value:function(){return 130}},{key:"_getPopupPosition",value:function(){var t={my:"left top",at:"left top",of:this.option("offsetParent")};return this.isMobileView()?t:Object(f.a)(t,{offset:this.option("offsetX")+" "+this.option("offsetY")})}},{key:"_getPopupAnimation",value:function(){var t=this.option("offsetParent");return this.isMobileView()?{hide:this._getPopupSlideAnimationObject({direction:"left",from:{position:{my:"left top",at:"left top",of:t}},to:{position:{my:"right top",at:"left top",of:t}}}),show:this._getPopupSlideAnimationObject({direction:"right",from:{position:{my:"right top",at:"left top",of:t}},to:{position:{my:"left top",at:"left top",of:t}}})}:Object(a.a)(Object(s.a)(e.prototype),"_getPopupAnimation",this).call(this)}},{key:"_getPopupOptions",value:function(){var t=Object(a.a)(Object(s.a)(e.prototype),"_getPopupOptions",this).call(this);return this.isMobileView()?t:Object(f.a)(t,{showTitle:!0,toolbarItems:[{widget:"dxButton",location:"center",options:{activeStateEnabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,icon:"diagram-toolbox-drag",stylingMode:"outlined",type:"normal"}}]})}},{key:"_renderPopupContent",value:function(t){var e="100%";if(this.option("showSearch")){var n=Object(u.a)("<div>").addClass("dx-diagram-toolbox-input-container").appendTo(t);this._updateElementWidth(n),this._renderSearchInput(n),Object(O.f)()&&(e="calc(100% - "+Object(c.c)(this._searchInput.$element())+"px)")}var i=Object(u.a)("<div>").addClass("dx-diagram-toolbox-panel").appendTo(t);Object(c.m)(i,e),this._updateElementWidth(i),this._renderScrollView(i)}},{key:"_updateElementWidth",value:function(t){void 0!==this.option("toolboxWidth")&&t.css("width",this.option("toolboxWidth"))}},{key:"updateMaxHeight",value:function(){if(!this.isMobileView()){var t=6;if(this._popup){var e=this._getPopupTitle();t+=Object(c.g)(e)}this._accordion&&(t+=Object(c.g)(this._accordion.$element())),this._searchInput&&(t+=Object(c.g)(this._searchInput.$element())),this.option("maxHeight",t)}}},{key:"_renderSearchInput",value:function(t){var e=this,n=Object(u.a)("<div>").addClass("dx-diagram-toolbox-input").appendTo(t);this._searchInput=this._createComponent(n,Lt.default,{stylingMode:"outlined",placeholder:P.a.format("dxDiagram-uiSearch"),onValueChanged:function(t){e._onInputChanged(t.value)},valueChangeEvent:"keyup",buttons:[{name:"search",location:"after",options:{activeStateEnabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,icon:"search",stylingMode:"outlined",type:"normal",onClick:function(){e._searchInput.focus()}}}]})}},{key:"_renderScrollView",value:function(t){var e=this,n=Object(u.a)("<div>").appendTo(t);this._scrollView=this._createComponent(n,jt.a);var i=this._scrollView._moveIsAllowed.bind(this._scrollView);this._scrollView._moveIsAllowed=function(t){for(var n=0;n<e._toolboxes.length;n++){var o=e._toolboxes[n];if(Object(u.a)(o).children(".dxdi-tb-start-drag-flag").length)return!1}return i(t)};var o=Object(u.a)("<div>").appendTo(this._scrollView.content());this._updateElementWidth(o),this._renderAccordion(o)}},{key:"_getAccordionDataSource",value:function(){for(var t=this,e=[],n=this.option("toolboxGroups"),i=0;i<n.length;i++){var o=n[i].category,r={category:o,title:n[i].title||o,expanded:n[i].expanded,displayMode:n[i].displayMode,shapes:n[i].shapes,onTemplate:function(e,n,i){var o=Object(u.a)(n);t._onShapeCategoryRenderedAction({category:i.category,displayMode:i.displayMode,dataToggle:"shape-toolbox-tooltip",shapes:i.shapes,$element:o}),t._toolboxes.push(o),""!==t._filterText&&t._onFilterChangedAction({text:t._filterText,filteringToolboxes:t._toolboxes.length-1}),t._createTooltips(o)}};e.push(r)}return e}},{key:"_createTooltips",value:function(t){var e=this;if(!this._isTouchMode()){var n=t.find('[data-toggle="shape-toolbox-tooltip"]'),i=this.$element();n.each(function(t,n){var o=Object(u.a)(n),r=o.attr("title");if(r){var a=Object(u.a)("<div>").text(r).appendTo(i);e._createComponent(a,Zt,{target:o.get(0),showEvent:"mouseenter",hideEvent:"mouseleave",position:"top",animation:{show:{type:"fade",from:0,to:1,delay:500},hide:{type:"fade",from:1,to:0,delay:100}}})}})}}},{key:"_isTouchMode",value:function(){return C().Browser.TouchUI}},{key:"_renderAccordion",value:function(t){var e=this;this._accordion=this._createComponent(t,$t,{multiple:!0,animationDuration:0,activeStateEnabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,collapsible:!0,displayExpr:"title",dataSource:this._getAccordionDataSource(),disabled:this.option("disabled"),itemTemplate:function(t,n,i){t.onTemplate(e,i,t)},onSelectionChanged:function(t){e._updateScrollAnimateSubscription(t.component)},onContentReady:function(t){t.component.option("selectedItems",[]);for(var n=t.component.option("dataSource"),i=0;i<n.length;i++)!1===n[i].expanded?t.component.collapseItem(i):!0===n[i].expanded&&t.component.expandItem(i);n.length&&void 0===n[0].expanded&&t.component.expandItem(0),e._updateScrollAnimateSubscription(t.component)}})}},{key:"_updateScrollAnimateSubscription",value:function(t){var e=this;t._deferredAnimate=new Bt.a,t._deferredAnimate.done(function(){e.updateMaxHeight(),e._scrollView.update(),e._updateScrollAnimateSubscription(t)})}},{key:"_onInputChanged",value:function(t){this._filterText=t,this._onFilterChangedAction({text:this._filterText,filteringToolboxes:this._toolboxes.map(function(t,e){return e})}),this.updateTooltips(),this.updateMaxHeight(),this._scrollView.update()}},{key:"updateFilter",value:function(){this._onInputChanged(this._filterText)}},{key:"updateTooltips",value:function(){var t=this;this._toolboxes.forEach(function(e){var n=Object(u.a)(e);t._createTooltips(n)})}},{key:"_createOnShapeCategoryRenderedAction",value:function(){this._onShapeCategoryRenderedAction=this._createActionByOption("onShapeCategoryRendered")}},{key:"_createOnFilterChangedAction",value:function(){this._onFilterChangedAction=this._createActionByOption("onFilterChanged")}},{key:"_optionChanged",value:function(t){switch(t.name){case"onShapeCategoryRendered":this._createOnShapeCategoryRenderedAction();break;case"onFilterChanged":this._createOnFilterChangedAction();break;case"showSearch":case"toolboxWidth":this._invalidate();break;case"toolboxGroups":this._accordion.option("dataSource",this._getAccordionDataSource());break;default:Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).call(this,t)}}}]),e}(Yt),Qt=n(214),Jt=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_init",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_init",this).call(this),this._commandTabs=Q.getPropertyPanelCommandTabs(this.option("propertyTabs")),this._createOnCreateToolbar(),this._createOnSelectedGroupChanged()}},{key:"_initMarkup",value:function(){this._toolbars=[],this._selectedToolbar=void 0,Object(a.a)(Object(s.a)(e.prototype),"_initMarkup",this).call(this)}},{key:"_getPopupClass",value:function(){var t="dx-diagram-properties-popup";return this._hasTabPanel()||(t+=" dx-diagram-properties-popup-notabs"),t}},{key:"_getPopupWidth",value:function(){return this.isMobileView()?"100%":420}},{key:"_getPopupHeight",value:function(){return 340}},{key:"_getPopupPosition",value:function(){var t=this.option("offsetParent");return this.isMobileView()?{my:"left bottom",at:"left bottom",of:t}:{my:"right bottom",at:"right bottom",of:t,offset:"-"+this.option("offsetX")+" -"+this.option("offsetY")}}},{key:"_getPopupAnimation",value:function(){var t=this.option("offsetParent");return this.isMobileView()?{hide:this._getPopupSlideAnimationObject({direction:"bottom",from:{position:{my:"left bottom",at:"left bottom",of:t}},to:{position:{my:"left top",at:"left bottom",of:t}}}),show:this._getPopupSlideAnimationObject({direction:"top",from:{position:{my:"left top",at:"left bottom",of:t}},to:{position:{my:"left bottom",at:"left bottom",of:t}}})}:Object(a.a)(Object(s.a)(e.prototype),"_getPopupAnimation",this).call(this)}},{key:"_getPopupOptions",value:function(){return Object(f.a)(Object(a.a)(Object(s.a)(e.prototype),"_getPopupOptions",this).call(this),{showTitle:this.isMobileView(),showCloseButton:this.isMobileView()})}},{key:"_renderPopupContent",value:function(t){if(this._commandTabs.length){var e=Object(u.a)("<div>").addClass("dx-diagram-properties-panel").appendTo(t);this._hasTabPanel()?this._renderTabPanel(e):this._renderTabContent(e,this._commandTabs[0],0,!0)}}},{key:"_hasTabPanel",value:function(){return this._commandTabs.length>1}},{key:"_renderTabPanel",value:function(t){var e=this,n=Object(u.a)("<div>").appendTo(t);this._tabPanel=this._createComponent(n,Qt.a,{focusStateEnabled:!1,dataSource:this._commandTabs,itemTemplate:function(t,n,i){e._renderTabContent(i,t,n)},onSelectionChanged:function(t){e._onSelectedGroupChangedAction(),e._onPointerUpAction()},onContentReady:function(t){e._popup.option("height",Object(c.c)(t.component.$element())+e._getVerticalPaddingsAndBorders()),e._firstScrollView&&(e._scrollViewHeight=Object(c.g)(e._firstScrollView.$element()),e._firstScrollView.option("height",e._scrollViewHeight))}})}},{key:"_renderTabContent",value:function(t,e,n,i){var o=Object(u.a)("<div>").appendTo(t),r=this._createComponent(o,jt.a,{height:this._scrollViewHeight});this._renderTabInnerContent(r.content(),e,n),i?this._popup.option("height",Object(c.c)(r.$element())+this._getVerticalPaddingsAndBorders()):this._firstScrollView=this._firstScrollView||r}},{key:"_renderTabInnerContent",value:function(t,e,n){var i=this;e.groups?e.groups.forEach(function(e,o){i._renderTabGroupContent(t,n,e.title,e.commands)}):e.commands&&this._renderTabGroupContent(t,n,void 0,e.commands)}},{key:"_renderTabGroupContent",value:function(t,e,n,i){n&&Object(u.a)("<div>").addClass("dx-diagram-properties-panel-group-title").appendTo(t).text(n);var o={$parent:Object(u.a)("<div>").addClass("dx-diagram-properties-panel-group-toolbar").appendTo(t),commands:i};this._onCreateToolbarAction(o),this._toolbars[e]||(this._toolbars[e]=[]),this._toolbars[e].push(o.toolbar),this._selectedToolbar=o.toolbar}},{key:"getActiveToolbars",value:function(){var t=this._tabPanel?this._tabPanel.option("selectedIndex"):0;return this._toolbars[t]}},{key:"_createOnCreateToolbar",value:function(){this._onCreateToolbarAction=this._createActionByOption("onCreateToolbar")}},{key:"_createOnSelectedGroupChanged",value:function(){this._onSelectedGroupChangedAction=this._createActionByOption("onSelectedGroupChanged")}},{key:"_optionChanged",value:function(t){switch(t.name){case"onCreateToolbar":this._createOnCreateToolbar();break;case"onSelectedGroupChanged":this._createOnSelectedGroupChanged();break;case"propertyTabs":this._invalidate();break;default:Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).call(this,t)}}}]),e}(Yt),te=function(t){function e(t){var n;Object(i.a)(this,e),n=Object(r.a)(this,Object(s.a)(e).call(this,t));var o=C().DiagramCommand;return n.commandOptions={},n.commandOptions[o.Fullscreen]="fullScreen",n.commandOptions[o.ZoomLevel]=function(t){"object"===typeof this._getOption("zoomLevel")?this._setOption("zoomLevel.value",t):this._setOption("zoomLevel",t)},n.commandOptions[o.SwitchAutoZoom]=function(t){var e=C().AutoZoomMode;switch(t){case e.FitContent:this._setOption("autoZoomMode","fitContent");break;case e.FitToWidth:this._setOption("autoZoomMode","fitWidth");break;case e.Disabled:this._setOption("autoZoomMode","disabled")}},n.commandOptions[o.ToggleSimpleView]="simpleView",n.commandOptions[o.ShowGrid]="showGrid",n.commandOptions[o.SnapToGrid]="snapToGrid",n.commandOptions[o.GridSize]=function(t){"object"===typeof this._getOption("gridSize")?this._setOption("gridSize.value",t):this._setOption("gridSize",t)},n.commandOptions[o.ViewUnits]="viewUnits",n.commandOptions[o.PageSize]=function(t){var e=this._getOption("pageSize");void 0!==e&&e.width===t.width&&e.height===t.height||this._setOption("pageSize",t)},n.commandOptions[o.PageLandscape]=function(t){this._setOption("pageOrientation",t?"landscape":"portrait")},n.commandOptions[o.ViewUnits]=function(t){var e=C().DiagramUnit;switch(t){case e.In:this._setOption("viewUnits","in");break;case e.Cm:this._setOption("viewUnits","cm");break;case e.Px:this._setOption("viewUnits","px")}},n.commandOptions[o.PageColor]="pageColor",n._updateLock=0,n}return Object(l.a)(e,t),Object(o.a)(e,[{key:"getCommandKeys",value:function(){return Object.keys(this.commandOptions).map(function(t){return parseInt(t)})}},{key:"setItemValue",value:function(t,e){if(!this.isUpdateLocked()){this.beginUpdate();try{"function"===typeof this.commandOptions[t]?this.commandOptions[t].call(this,e):this._setOption(this.commandOptions[t],e)}finally{this.endUpdate()}}}},{key:"beginUpdate",value:function(){this._updateLock++}},{key:"endUpdate",value:function(){this._updateLock--}},{key:"isUpdateLocked",value:function(){return this._updateLock>0}},{key:"_getOption",value:function(t){return this._owner.option(t)}},{key:"_setOption",value:function(t,e){this._owner.option(t,e)}}]),e}(M),ee=n(164),ne={getConfigurations:function(){var t=C().DiagramCommand;return this.dialogList||(this.dialogList=[{command:t.InsertShapeImage,title:P.a.format("dxDiagram-dialogInsertShapeImageTitle"),onGetContent:this.getChangeImageDialogContent},{command:t.EditShapeImage,title:P.a.format("dxDiagram-dialogEditShapeImageTitle"),onGetContent:this.getChangeImageDialogContent}])},getChangeImageDialogContent:function(t){var e=Object(u.a)("<div>");return t.component._createComponent(e,ee.a,{selectButtonText:P.a.format("dxDiagram-dialogEditShapeImageSelectButton"),accept:"image/*",uploadMode:"useForm",onValueChanged:function(e){var n=new(Object(O.d)().FileReader);n.onload=function(e){t.component._commandParameter=e.target.result},n.readAsDataURL(e.value[0])}}),e},getDialogParameters:function(t){var e=this.getConfigurations().map(function(t){return t.command}).indexOf(t);return e>=0?this.getConfigurations()[e]:null}},ie=n(182),oe=n(165),re=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(r.a)(this,Object(s.a)(e).call(this)))._diagramWidget=t,n._resetCache(),n}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_dataSourceChangedHandler",value:function(t,e){if(this._resetCache(),this._items=t.map(function(t){return Object(f.a)(!0,{},t)}),this._dataSourceItems=t.slice(),e&&e.changes){var n=e.changes.filter(function(t){return t.internalChange}),i=e.changes.filter(function(t){return!t.internalChange});n.length&&this._reloadContentByChanges(n,!1),i.length&&this._reloadContentByChanges(i,!0)}else this._diagramWidget._onDataSourceChanged()}},{key:"_dataSourceLoadingChangedHandler",value:function(t){t&&!this._dataSource.isLoaded()?this._diagramWidget._showLoadingIndicator():this._diagramWidget._hideLoadingIndicator()}},{key:"_prepareData",value:function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&void 0===t[e]&&(t[e]=null);return t}},{key:"insert",value:function(t,e,n){var i=this;this._resetCache();var o=this._getStore();o.insert(this._prepareData(t)).done(function(t,n){o.push([{type:"insert",key:n,data:t,internalChange:!0}]),e&&e(t),i._resetCache()}).fail(function(t){n&&n(t),i._resetCache()})}},{key:"update",value:function(t,e,n,i){var o=this._getStore(),r=this._getStoreKey(o,t,e);o.update(r,this._prepareData(e)).done(function(t,e){o.push([{type:"update",key:e,data:t,internalChange:!0}]),n&&n(e,t)}).fail(function(t){i&&i(t)})}},{key:"remove",value:function(t,e,n,i){var o=this;this._resetCache();var r=this._getStore(),a=this._getStoreKey(r,t,e);r.remove(a).done(function(t){r.push([{type:"remove",key:t,internalChange:!0}]),n&&n(t),o._resetCache()}).fail(function(t){i&&i(t),o._resetCache()})}},{key:"findItem",value:function(t){return this._items?this._getItemByKey(t):null}},{key:"getItems",value:function(){return this._items}},{key:"hasItems",value:function(){return!!this._items}},{key:"_reloadContentByChanges",value:function(t,e){var n=this;t=t.map(function(t){return Object(f.a)(t,{internalKey:n._getInternalKey(t.key)})}),this._diagramWidget._reloadContentByChanges(t,e)}},{key:"_getItemByKey",value:function(t){this._ensureCache();var e=this._cache,n=this._getIndexByKey(t);return e.items[n]}},{key:"_getIndexByKey",value:function(t){this._ensureCache();var e=this._cache;if("object"!==typeof t){var n=e.keySet||e.keys.reduce(function(t,e,n){return t[e]=n,t},{});return e.keySet||(e.keySet=n),n[t]}for(var i=0,o=e.keys.length;i<o;i++)if(e.keys[i]===t)return i;return-1}},{key:"_ensureCache",value:function(){var t=this._cache;t.keys||(t.keys=[],t.items=[],this._fillCache(t,this._items))}},{key:"_fillCache",value:function(t,e){var n=this;if(e&&e.length){var i=this._getKeyExpr();i&&e.forEach(function(e){t.keys.push(i(e)),t.items.push(e)});var o=this._getItemsExpr();o&&e.forEach(function(e){return n._fillCache(t,o(e))});var r=this._getContainerChildrenExpr();r&&e.forEach(function(e){return n._fillCache(t,r(e))})}}},{key:"_getKeyExpr",value:function(){throw"Not Implemented"}},{key:"_getItemsExpr",value:function(){}},{key:"_getContainerChildrenExpr",value:function(){}},{key:"_initDataSource",value:function(){Object(a.a)(Object(s.a)(e.prototype),"_initDataSource",this).call(this),this._dataSource&&this._dataSource.paginate(!1)}},{key:"_dataSourceOptions",value:function(){return{paginate:!1}}},{key:"_getStore",value:function(){return this._dataSource&&this._dataSource.store()}},{key:"_getStoreKey",value:function(t,e,n){var i=t.keyOf(n);if(i===n){var o=this._getKeyExpr();this._dataSourceItems.forEach(function(t){o(t)===e&&(i=t)})}return i}},{key:"_getInternalKey",value:function(t){return"object"===typeof t?this._getKeyExpr()(t):t}},{key:"_resetCache",value:function(){this._cache={}}}]),e}(ie.a.inherit({}).include(oe.a)),ae=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_getKeyExpr",value:function(){return this._diagramWidget._createOptionGetter("nodes.keyExpr")}},{key:"_getItemsExpr",value:function(){return this._diagramWidget._createOptionGetter("nodes.itemsExpr")}},{key:"_getContainerChildrenExpr",value:function(){return this._diagramWidget._createOptionGetter("nodes.containerChildrenExpr")}}]),e}(re),se=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_getKeyExpr",value:function(){return this._diagramWidget._createOptionGetter("edges.keyExpr")}}]),e}(re),le=Object(w.a)("fullscreenchange","dxDiagramEvent"),ce=Object(w.a)("msfullscreenchange","dxDiagramEvent"),ue=Object(w.a)("webkitfullscreenchange","dxDiagramEvent"),he=Object(w.a)("mozfullscreenchange","dxDiagramEvent"),de=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"_init",value:function(){this._updateDiagramLockCount=0,this.toggleFullscreenLock=0,this._toolbars=[],Object(a.a)(Object(s.a)(e.prototype),"_init",this).call(this),this._initDiagram(),this._createCustomCommand()}},{key:"_initMarkup",value:function(){var t=this;Object(a.a)(Object(s.a)(e.prototype),"_initMarkup",this).call(this),this._toolbars=[],delete this._isMobileScreenSize;var n=!Object(O.f)();this.$element().addClass("dx-diagram"),delete this._mainToolbar,this.option("mainToolbar.visible")&&this._renderMainToolbar();var i=Object(u.a)("<div>").addClass("dx-diagram-content-wrapper").appendTo(this.$element());if(delete this._historyToolbar,delete this._historyToolbarResizeCallback,this._isHistoryToolbarVisible()&&this._renderHistoryToolbar(i),delete this._propertiesToolbar,delete this._propertiesToolbarResizeCallback,this._isPropertiesPanelEnabled()&&this._renderPropertiesToolbar(i),delete this._viewToolbar,delete this._viewToolbarResizeCallback,this.option("viewToolbar.visible")&&this._renderViewToolbar(i),delete this._toolbox,delete this._toolboxResizeCallback,this._isToolboxEnabled()&&this._renderToolbox(i),delete this._propertiesPanel,delete this._propertiesPanelResizeCallback,this._isPropertiesPanelEnabled()&&this._renderPropertiesPanel(i),this._$content=Object(u.a)("<div>").addClass("dx-diagram-content").appendTo(i),delete this._contextMenu,this._diagramInstance.settings.contextMenuEnabled=this.option("contextMenu.enabled"),this._diagramInstance.settings.contextMenuEnabled&&this._renderContextMenu(i),delete this._contextToolbox,this.option("contextToolbox.enabled")&&this._renderContextToolbox(i),this._renderDialog(i),!n){var o=Object(u.a)("<div>").addClass("dx-diagram-scroll-view").appendTo(this._$content);this._createComponent(o,At,{useNativeScrolling:this.option("useNativeScrolling"),onCreateDiagram:function(e){t._diagramInstance.createDocument(e.$parent[0],e.scrollView,i[0])}})}this._setCustomCommandChecked(Q.SHOW_PROPERTIES_PANEL_COMMAND_NAME,this._isPropertiesPanelVisible()),this._setCustomCommandChecked(Q.SHOW_TOOLBOX_COMMAND_NAME,this._isToolboxVisible()),this._createOptionsUpdateBar()}},{key:"_dimensionChanged",value:function(){this._isMobileScreenSize=void 0,this._processDiagramResize()}},{key:"_visibilityChanged",value:function(t){t&&(this._bindDiagramData(),this.repaint())}},{key:"_processDiagramResize",value:function(){this._diagramInstance.onDimensionChanged(),this._historyToolbarResizeCallback&&this._historyToolbarResizeCallback.call(this),this._propertiesToolbarResizeCallback&&this._propertiesToolbarResizeCallback.call(this),this._propertiesPanelResizeCallback&&this._propertiesPanelResizeCallback.call(this),this._viewToolbarResizeCallback&&this._viewToolbarResizeCallback.call(this),this._toolboxResizeCallback&&this._toolboxResizeCallback.call(this)}},{key:"isMobileScreenSize",value:function(){return void 0===this._isMobileScreenSize&&(this._isMobileScreenSize=Object(O.f)()&&Object(c.h)(this.$element())<576),this._isMobileScreenSize}},{key:"_captureFocus",value:function(){this._diagramInstance&&this._diagramInstance.captureFocus()}},{key:"_captureFocusOnTimeout",value:function(){var t=this;this._captureFocusTimeout=setTimeout(function(){t._captureFocus(),delete t._captureFocusTimeout},100)}},{key:"_killCaptureFocusTimeout",value:function(){this._captureFocusTimeout&&(clearTimeout(this._captureFocusTimeout),delete this._captureFocusTimeout)}},{key:"notifyBarCommandExecuted",value:function(){this._captureFocusOnTimeout()}},{key:"_registerToolbar",value:function(t){this._registerBar(t),this._toolbars.push(t)}},{key:"_registerBar",value:function(t){t.bar.onChanged.add(this),this._diagramInstance.registerBar(t.bar)}},{key:"_getExcludeCommands",value:function(){var t=[];return this._isToolboxEnabled()||t.push(Q.SHOW_TOOLBOX_COMMAND_NAME),this._isPropertiesPanelEnabled()||t.push(Q.SHOW_PROPERTIES_PANEL_COMMAND_NAME),t}},{key:"_getToolbarBaseOptions",value:function(){var t=this;return{onContentReady:function(e){var n=e.component;return t._registerToolbar(n)},onSubMenuVisibilityChanging:function(e){var n=e.component;return t._diagramInstance.updateBarItemsState(n.bar)},onPointerUp:this._onPanelPointerUp.bind(this),export:this.option("export"),excludeCommands:this._getExcludeCommands(),onInternalCommand:this._onInternalCommand.bind(this),onCustomCommand:this._onCustomCommand.bind(this),isMobileView:this.isMobileScreenSize()}}},{key:"_onInternalCommand",value:function(t){switch(t.command){case Q.SHOW_TOOLBOX_COMMAND_NAME:this._toolbox&&this._toolbox.toggle();break;case Q.SHOW_PROPERTIES_PANEL_COMMAND_NAME:this._propertiesPanel&&this._propertiesPanel.toggle()}}},{key:"_onCustomCommand",value:function(t){this._customCommandAction({name:t.name})}},{key:"_renderMainToolbar",value:function(){var t=Object(u.a)("<div>").addClass("dx-diagram-toolbar-wrapper").appendTo(this.$element());this._mainToolbar=this._createComponent(t,J,Object(f.a)(this._getToolbarBaseOptions(),{commands:this.option("mainToolbar.commands"),skipAdjustSize:!0}))}},{key:"_isHistoryToolbarVisible",value:function(){return this.option("historyToolbar.visible")&&!this.isReadOnlyMode()}},{key:"_renderHistoryToolbar",value:function(t){var e=this,n=Object(u.a)("<div>").addClass("dx-diagram-floating-toolbar-container").appendTo(t);this._historyToolbar=this._createComponent(n,tt,Object(f.a)(this._getToolbarBaseOptions(),{commands:this.option("historyToolbar.commands"),locateInMenu:"never"})),this._updateHistoryToolbarPosition(),this._historyToolbarResizeCallback=function(){e._historyToolbar.option("isMobileView",e.isMobileScreenSize())}}},{key:"_updateHistoryToolbarPosition",value:function(){Object(O.f)()&&v.a.setup(this._historyToolbar.$element(),{my:"left top",at:"left top",of:this._historyToolbar.$element().parent(),offset:"12 12"})}},{key:"_isToolboxEnabled",value:function(){return"disabled"!==this.option("toolbox.visibility")&&!this.isReadOnlyMode()}},{key:"_isToolboxVisible",value:function(){return"visible"===this.option("toolbox.visibility")||"auto"===this.option("toolbox.visibility")&&!this.isMobileScreenSize()}},{key:"_renderToolbox",value:function(t){var e=this,n=!Object(O.f)(),i=Object(u.a)("<div>").appendTo(t),o=this._getToolboxBounds(t,n);this._toolbox=this._createComponent(i,Xt,{isMobileView:this.isMobileScreenSize(),isVisible:this._isToolboxVisible(),container:this.$element(),height:o.height,offsetParent:t,offsetX:o.offsetX,offsetY:o.offsetY,showSearch:this.option("toolbox.showSearch"),toolboxGroups:this._getToolboxGroups(),toolboxWidth:this.option("toolbox.width"),onShapeCategoryRendered:function(t){n||e._diagramInstance.createToolbox(t.$element[0],"texts"===t.displayMode,t.shapes||t.category,{shapeIconSpacing:12,shapeIconCountInRow:e.option("toolbox.shapeIconsPerRow"),shapeIconAttributes:{"data-toggle":t.dataToggle}})},onFilterChanged:function(t){n||e._diagramInstance.applyToolboxFilter(t.text,t.filteringToolboxes)},onVisibilityChanging:function(t){n||(e._setCustomCommandChecked(Q.SHOW_TOOLBOX_COMMAND_NAME,t.visible),e._propertiesPanel&&t.visible&&e.isMobileScreenSize()&&e._propertiesPanel.hide(),e._historyToolbar&&t.visible&&e.isMobileScreenSize()&&(e._historyToolbarZIndex=E.b(T.a.baseZIndex()),e._historyToolbar.$element().css("zIndex",e._historyToolbarZIndex),e._historyToolbar.$element().css("boxShadow","none")),e._viewToolbar&&(e._viewToolbar.$element().css("opacity",t.visible&&e.isMobileScreenSize()?"0":"1"),e._viewToolbar.$element().css("pointerEvents",t.visible&&e.isMobileScreenSize()?"none":"")))},onVisibilityChanged:function(t){t.visible||e._textInputStarted||e._captureFocus(),n||e._historyToolbar&&!t.visible&&e.isMobileScreenSize()&&e._historyToolbarZIndex&&(E.d(e._historyToolbarZIndex),e._historyToolbar.$element().css("zIndex",""),e._historyToolbar.$element().css("boxShadow",""),e._historyToolbarZIndex=void 0)},onPointerUp:this._onPanelPointerUp.bind(this)}),this._toolbox._popup.option("propagateOutsideClick",!this.option("fullScreen")),this._toolboxResizeCallback=function(){var i=e._getToolboxBounds(t,n);e._toolbox.option("height",i.height),e._toolbox.option("isMobileView")!==e.isMobileScreenSize()&&(e._toolbox.option({isMobileView:e.isMobileScreenSize(),isVisible:e._isToolboxVisible()}),e._setCustomCommandChecked(Q.SHOW_TOOLBOX_COMMAND_NAME,e._isToolboxVisible())),e._toolbox.updateMaxHeight()}}},{key:"_getToolboxBounds",value:function(t,e){var n={offsetX:12,offsetY:12,height:e?0:Object(c.c)(t)-24};return this._historyToolbar&&!e&&(n.offsetY+=Object(c.g)(this._historyToolbar.$element())+12,n.height-=Object(c.g)(this._historyToolbar.$element())+12),this._viewToolbar&&!e&&(n.height-=Object(c.g)(this._viewToolbar.$element())+this._getViewToolbarYOffset(e)),n}},{key:"_renderViewToolbar",value:function(t){var e=this,n=!Object(O.f)(),i=Object(u.a)("<div>").addClass("dx-diagram-floating-toolbar-container").appendTo(t);this._viewToolbar=this._createComponent(i,et,Object(f.a)(this._getToolbarBaseOptions(),{commands:this.option("viewToolbar.commands"),locateInMenu:"never"})),this._updateViewToolbarPosition(i,t,n),this._viewToolbarResizeCallback=function(){e._updateViewToolbarPosition(i,t,n)}}},{key:"_getViewToolbarYOffset",value:function(t){if(!t){var e=12;return this._viewToolbar&&this._propertiesToolbar&&(e+=(Object(c.g)(this._propertiesToolbar.$element())-Object(c.g)(this._viewToolbar.$element()))/2),e}}},{key:"_updateViewToolbarPosition",value:function(t,e,n){n||v.a.setup(t,{my:"left bottom",at:"left bottom",of:e,offset:"12 -"+this._getViewToolbarYOffset(n)})}},{key:"_isPropertiesPanelEnabled",value:function(){return"disabled"!==this.option("propertiesPanel.visibility")&&!this.isReadOnlyMode()}},{key:"_isPropertiesPanelVisible",value:function(){return"visible"===this.option("propertiesPanel.visibility")}},{key:"_renderPropertiesToolbar",value:function(t){var e=this,n=!Object(O.f)(),i=Object(u.a)("<div>").addClass("dx-diagram-floating-toolbar-container").addClass("dx-diagram-properties-panel-toolbar-container").appendTo(t);this._propertiesToolbar=this._createComponent(i,nt,Object(f.a)(this._getToolbarBaseOptions(),{buttonStylingMode:"contained",buttonType:"default",locateInMenu:"never"})),this._updatePropertiesToolbarPosition(i,t,n),this._propertiesToolbarResizeCallback=function(){e._updatePropertiesToolbarPosition(i,t,n)}}},{key:"_updatePropertiesToolbarPosition",value:function(t,e,n){n||v.a.setup(t,{my:"right bottom",at:"right bottom",of:e,offset:"-12 -12"})}},{key:"_renderPropertiesPanel",value:function(t){var e=this,n=!Object(O.f)(),i=Object(u.a)("<div>").appendTo(t),o=24+(n?0:Object(c.g)(this._propertiesToolbar.$element()));this._propertiesPanel=this._createComponent(i,Jt,{isMobileView:this.isMobileScreenSize(),isVisible:this._isPropertiesPanelVisible(),container:this.$element(),offsetParent:t,offsetX:12,offsetY:o,propertyTabs:this.option("propertiesPanel.tabs"),onCreateToolbar:function(t){t.toolbar=e._createComponent(t.$parent,U,Object(f.a)(e._getToolbarBaseOptions(),{commands:t.commands,locateInMenu:"never",editorStylingMode:"outlined"}))},onVisibilityChanging:function(t){n||(e._updatePropertiesPanelGroupBars(t.component),e._setCustomCommandChecked(Q.SHOW_PROPERTIES_PANEL_COMMAND_NAME,t.visible),e._toolbox&&t.visible&&e.isMobileScreenSize()&&e._toolbox.hide())},onVisibilityChanged:function(t){t.visible||e._textInputStarted||e._captureFocus()},onSelectedGroupChanged:function(t){var n=t.component;return e._updatePropertiesPanelGroupBars(n)},onPointerUp:this._onPanelPointerUp.bind(this)}),this._propertiesPanelResizeCallback=function(){e._propertiesPanel.option("isMobileView")!==e.isMobileScreenSize()&&(e._propertiesPanel.option({isMobileView:e.isMobileScreenSize(),isVisible:e._isPropertiesPanelVisible()}),e._setCustomCommandChecked(Q.SHOW_PROPERTIES_PANEL_COMMAND_NAME,e._isPropertiesPanelVisible()))}}},{key:"_updatePropertiesPanelGroupBars",value:function(t){var e=this;t.getActiveToolbars().forEach(function(t){e._diagramInstance.updateBarItemsState(t.bar)})}},{key:"_onPanelPointerUp",value:function(){this._captureFocusOnTimeout()}},{key:"_renderContextMenu",value:function(t){var e=this,n=Object(u.a)("<div>").appendTo(t);this._contextMenu=this._createComponent(n,at.DiagramContextMenuWrapper,{commands:this.option("contextMenu.commands"),onContentReady:function(t){var n=t.component;return e._registerBar(n)},onVisibilityChanging:function(t){var n=t.component;return e._diagramInstance.updateBarItemsState(n.bar)},onItemClick:function(t){return e._onBeforeCommandExecuted(t.command)},export:this.option("export"),excludeCommands:this._getExcludeCommands(),onInternalCommand:this._onInternalCommand.bind(this),onCustomCommand:this._onCustomCommand.bind(this)})}},{key:"_renderContextToolbox",value:function(t){var e=this,n=!Object(O.f)(),i=this.option("contextToolbox.category"),o=this.option("contextToolbox.displayMode"),r=this.option("contextToolbox.shapes"),a=Object(u.a)("<div>").appendTo(t);this._contextToolbox=this._createComponent(a,Tt,{toolboxWidth:this.option("contextToolbox.width"),onShown:function(t){if(!n){var a=Object(u.a)(t.$element),s="texts"===o;if(!r&&!i&&!s){var l=e._getToolboxGroups().filter(function(e){return e.category===t.category})[0];l&&(s="texts"===l.displayMode)}e._diagramInstance.createContextToolbox(a[0],s,r||i||t.category,{shapeIconSpacing:12,shapeIconCountInRow:e.option("contextToolbox.shapeIconsPerRow")},function(n){t.callback(n),e._captureFocus(),t.hide()})}}})}},{key:"_setCustomCommandChecked",value:function(t,e){this._toolbars.forEach(function(n){n.setCommandChecked(t,e)})}},{key:"_onBeforeCommandExecuted",value:function(t){var e=ne.getDialogParameters(t);return e&&this._showDialog(e),!!e}},{key:"_renderDialog",value:function(t){var e=Object(u.a)("<div>").appendTo(t);this._dialogInstance=this._createComponent(e,It,{})}},{key:"_showDialog",value:function(t){this._dialogInstance&&(this._dialogInstance.option("onGetContent",t.onGetContent),this._dialogInstance.option("onHidden",function(){this._captureFocus()}.bind(this)),this._dialogInstance.option("command",this._diagramInstance.getCommand(t.command)),this._dialogInstance.option("title",t.title),this._dialogInstance._show())}},{key:"_showLoadingIndicator",value:function(){this._loadingIndicator=Object(u.a)("<div>").addClass("dx-diagram-loading-indicator"),this._createComponent(this._loadingIndicator,d.a,{}),(this._$content||this.$element()).append(this._loadingIndicator)}},{key:"_hideLoadingIndicator",value:function(){this._loadingIndicator&&(this._loadingIndicator.remove(),this._loadingIndicator=null)}},{key:"_initDiagram",value:function(){var t=C().DiagramControl;if(this._diagramInstance=new t,this._diagramInstance.onChanged=this._raiseDataChangeAction.bind(this),this._diagramInstance.onEdgeInserted=this._raiseEdgeInsertedAction.bind(this),this._diagramInstance.onEdgeUpdated=this._raiseEdgeUpdatedAction.bind(this),this._diagramInstance.onEdgeRemoved=this._raiseEdgeRemovedAction.bind(this),this._diagramInstance.onNodeInserted=this._raiseNodeInsertedAction.bind(this),this._diagramInstance.onNodeUpdated=this._raiseNodeUpdatedAction.bind(this),this._diagramInstance.onNodeRemoved=this._raiseNodeRemovedAction.bind(this),this._diagramInstance.onToolboxDragStart=this._raiseToolboxDragStart.bind(this),this._diagramInstance.onToolboxDragEnd=this._raiseToolboxDragEnd.bind(this),this._diagramInstance.onTextInputStart=this._raiseTextInputStart.bind(this),this._diagramInstance.onTextInputEnd=this._raiseTextInputEnd.bind(this),this._diagramInstance.onToggleFullscreen=this._onToggleFullScreen.bind(this),this._diagramInstance.onShowContextMenu=this._onShowContextMenu.bind(this),this._diagramInstance.onHideContextMenu=this._onHideContextMenu.bind(this),this._diagramInstance.onShowContextToolbox=this._onShowContextToolbox.bind(this),this._diagramInstance.onHideContextToolbox=this._onHideContextToolbox.bind(this),this._diagramInstance.onNativeAction.add({notifyItemClick:this._raiseItemClickAction.bind(this),notifyItemDblClick:this._raiseItemDblClickAction.bind(this),notifySelectionChanged:this._raiseSelectionChanged.bind(this)}),this._diagramInstance.onRequestOperation=this._raiseRequestEditOperation.bind(this),this._updateEventSubscriptionMethods(),this._updateDefaultItemProperties(),this._updateEditingSettings(),this._updateShapeTexts(),this._updateUnitItems(),this._updateFormatUnitsMethod(),"in"!==this.option("units")&&this._updateUnitsState(),this.isReadOnlyMode()&&this._updateReadOnlyState(),this.option("pageSize")&&(this.option("pageSize.items")&&this._updatePageSizeItemsState(),this.option("pageSize.width")&&this.option("pageSize.height")&&this._updatePageSizeState()),"portrait"!==this.option("pageOrientation")&&this._updatePageOrientationState(),"#ffffff"!==this.option("pageColor")&&this._updatePageColorState(),"in"!==this.option("viewUnits")&&this._updateViewUnitsState(),this.option("showGrid")||this._updateShowGridState(),this.option("snapToGrid")||this._updateSnapToGridState(),this.option("gridSize")&&this._updateGridSizeState(),1!==this.option("zoomLevel")&&this._updateZoomLevelState(),this.option("simpleView")&&this._updateSimpleViewState(),"disabled"!==this.option("autoZoomMode")&&this._updateAutoZoomState(),this.option("fullScreen")){var e=Object(O.d)();e&&e.self!==e.top?this.option("fullScreen",!1):this._updateFullscreenState()}this._createOptionsUpdateBar(),Object(O.f)()&&this._diagramInstance.initMeasurer(this.$element()[0]),this._updateCustomShapes(this._getCustomShapes()),this._refreshDataSources()}},{key:"_createOptionsUpdateBar",value:function(){this.optionsUpdateBar||(this.optionsUpdateBar=new te(this),this._diagramInstance.registerBar(this.optionsUpdateBar))}},{key:"_deleteOptionsUpdateBar",value:function(){delete this.optionsUpdateBar}},{key:"_clean",value:function(){this._diagramInstance&&(this._diagramInstance.cleanMarkup(function(t){Object(u.a)(t).empty()}),this._deleteOptionsUpdateBar()),Object(a.a)(Object(s.a)(e.prototype),"_clean",this).call(this)}},{key:"_dispose",value:function(){this._killCaptureFocusTimeout(),Object(a.a)(Object(s.a)(e.prototype),"_dispose",this).call(this),this._diagramInstance&&(this._diagramInstance.dispose(),this._diagramInstance=void 0)}},{key:"_executeDiagramCommand",value:function(t,e){this._diagramInstance.getCommand(t).execute(e)}},{key:"getNodeDataSource",value:function(){return this._nodesOption&&this._nodesOption.getDataSource()}},{key:"getEdgeDataSource",value:function(){return this._edgesOption&&this._edgesOption.getDataSource()}},{key:"_refreshDataSources",value:function(){this._beginUpdateDiagram(),this._refreshNodesDataSource(),this._refreshEdgesDataSource(),this._endUpdateDiagram()}},{key:"_refreshNodesDataSource",value:function(){this._nodesOption&&(this._nodesOption._disposeDataSource(),delete this._nodesOption),this.option("nodes.dataSource")&&(this._nodesOption=new ae(this),this._nodesOption.option("dataSource",this.option("nodes.dataSource")),this._nodesOption._refreshDataSource())}},{key:"_refreshEdgesDataSource",value:function(){this._edgesOption&&(this._edgesOption._disposeDataSource(),delete this._edgesOption),this.option("edges.dataSource")&&(this._edgesOption=new se(this),this._edgesOption.option("dataSource",this.option("edges.dataSource")),this._edgesOption._refreshDataSource())}},{key:"_getDiagramData",value:function(){var t,e=C().DiagramCommand;return this._executeDiagramCommand(e.Export,function(e){t=e}),t}},{key:"_setDiagramData",value:function(t,e){var n=C().DiagramCommand;this._executeDiagramCommand(n.Import,{data:t,keepExistingItems:e})}},{key:"isReadOnlyMode",value:function(){return this.option("readOnly")||this.option("disabled")}},{key:"_onDataSourceChanged",value:function(){this._bindDiagramData()}},{key:"_getChangesKeys",value:function(t){return t.map(function(t){return Object(m.d)(t.internalKey)?t.internalKey:Object(m.d)(t.key)?t.key:null}).filter(function(t){return Object(m.d)(t)})}},{key:"_createOptionGetter",value:function(t){var e=this.option(t);return e&&Object(g.a)(e)}},{key:"_onRequestUpdateLayout",value:function(t){this._requestLayoutUpdateAction||this._createRequestLayoutUpdateAction();var e={changes:t,allowed:!1};return this._requestLayoutUpdateAction(e),e.allowed}},{key:"_createOptionSetter",value:function(t){var e=this.option(t);return Object(m.h)(e)?e:e&&Object(g.b)(e)}},{key:"_bindDiagramData",value:function(){if(!this._updateDiagramLockCount&&this._isBindingMode()){var t,e,n,i,o,r,a,s,l=C(),c=l.DiagramCommand,u=l.ConnectorLineOption,h=l.ConnectorLineEnding,d={nodeDataSource:this._nodesOption&&this._nodesOption.getItems(),edgeDataSource:this._edgesOption&&this._edgesOption.getItems(),nodeDataImporter:{getKey:this._createOptionGetter("nodes.keyExpr"),setKey:this._createOptionSetter("nodes.keyExpr"),getCustomData:this._createOptionGetter("nodes.customDataExpr"),setCustomData:this._createOptionSetter("nodes.customDataExpr"),getLocked:this._createOptionGetter("nodes.lockedExpr"),setLocked:this._createOptionSetter("nodes.lockedExpr"),getStyle:this._createOptionGetter("nodes.styleExpr"),setStyle:this._createOptionSetter("nodes.styleExpr"),getStyleText:this._createOptionGetter("nodes.textStyleExpr"),setStyleText:this._createOptionSetter("nodes.textStyleExpr"),getZIndex:this._createOptionGetter("nodes.zIndexExpr"),setZIndex:this._createOptionSetter("nodes.zIndexExpr"),getType:this._createOptionGetter("nodes.typeExpr"),setType:this._createOptionSetter("nodes.typeExpr"),getText:this._createOptionGetter("nodes.textExpr"),setText:this._createOptionSetter("nodes.textExpr"),getImage:this._createOptionGetter("nodes.imageUrlExpr"),setImage:this._createOptionSetter("nodes.imageUrlExpr"),getLeft:this._createOptionGetter("nodes.leftExpr"),setLeft:this._createOptionSetter("nodes.leftExpr"),getTop:this._createOptionGetter("nodes.topExpr"),setTop:this._createOptionSetter("nodes.topExpr"),getWidth:this._createOptionGetter("nodes.widthExpr"),setWidth:this._createOptionSetter("nodes.widthExpr"),getHeight:this._createOptionGetter("nodes.heightExpr"),setHeight:this._createOptionSetter("nodes.heightExpr"),getParentKey:this._createOptionGetter("nodes.parentKeyExpr"),setParentKey:this._createOptionSetter("nodes.parentKeyExpr"),getItems:this._createOptionGetter("nodes.itemsExpr"),setItems:this._createOptionSetter("nodes.itemsExpr"),getChildren:a=this._createOptionGetter("nodes.containerChildrenExpr"),setChildren:s=this._createOptionSetter("nodes.containerChildrenExpr"),getContainerKey:!a&&!s&&this._createOptionGetter("nodes.containerKeyExpr"),setContainerKey:!a&&!s&&this._createOptionSetter("nodes.containerKeyExpr")},edgeDataImporter:{getKey:this._createOptionGetter("edges.keyExpr"),setKey:this._createOptionSetter("edges.keyExpr"),getCustomData:this._createOptionGetter("edges.customDataExpr"),setCustomData:this._createOptionSetter("edges.customDataExpr"),getLocked:this._createOptionGetter("edges.lockedExpr"),setLocked:this._createOptionSetter("edges.lockedExpr"),getStyle:this._createOptionGetter("edges.styleExpr"),setStyle:this._createOptionSetter("edges.styleExpr"),getStyleText:this._createOptionGetter("edges.textStyleExpr"),setStyleText:this._createOptionSetter("edges.textStyleExpr"),getZIndex:this._createOptionGetter("edges.zIndexExpr"),setZIndex:this._createOptionSetter("edges.zIndexExpr"),getFrom:this._createOptionGetter("edges.fromExpr"),setFrom:this._createOptionSetter("edges.fromExpr"),getFromPointIndex:this._createOptionGetter("edges.fromPointIndexExpr"),setFromPointIndex:this._createOptionSetter("edges.fromPointIndexExpr"),getTo:this._createOptionGetter("edges.toExpr"),setTo:this._createOptionSetter("edges.toExpr"),getToPointIndex:this._createOptionGetter("edges.toPointIndexExpr"),setToPointIndex:this._createOptionSetter("edges.toPointIndexExpr"),getPoints:this._createOptionGetter("edges.pointsExpr"),setPoints:this._createOptionSetter("edges.pointsExpr"),getText:this._createOptionGetter("edges.textExpr"),setText:this._createOptionSetter("edges.textExpr"),getLineOption:(t=this._createOptionGetter("edges.lineTypeExpr"))&&function(e){var n=t(e);return this._getConnectorLineOption(n)}.bind(this),setLineOption:(e=this._createOptionSetter("edges.lineTypeExpr"))&&function(t,n){switch(n){case u.Straight:n="straight";break;case u.Orthogonal:n="orthogonal"}e(t,n)}.bind(this),getStartLineEnding:(n=this._createOptionGetter("edges.fromLineEndExpr"))&&function(t){var e=n(t);return this._getConnectorLineEnding(e)}.bind(this),setStartLineEnding:(i=this._createOptionSetter("edges.fromLineEndExpr"))&&function(t,e){switch(e){case h.Arrow:e="arrow";break;case h.OutlinedTriangle:e="outlinedTriangle";break;case h.FilledTriangle:e="filledTriangle";break;case h.None:e="none"}i(t,e)}.bind(this),getEndLineEnding:(o=this._createOptionGetter("edges.toLineEndExpr"))&&function(t){var e=o(t);return this._getConnectorLineEnding(e)}.bind(this),setEndLineEnding:(r=this._createOptionSetter("edges.toLineEndExpr"))&&function(t,e){switch(e){case h.Arrow:e="arrow";break;case h.OutlinedTriangle:e="outlinedTriangle";break;case h.FilledTriangle:e="filledTriangle";break;case h.None:e="none"}r(t,e)}.bind(this)},layoutParameters:this._getDataBindingLayoutParameters()};this._executeDiagramCommand(c.BindDocument,d)}}},{key:"_reloadContentByChanges",value:function(t,e){var n=this._getChangesKeys(t),i=this._onRequestUpdateLayout(t);this._reloadContent(n,i,e)}},{key:"_reloadContent",value:function(t,e,n){var i=this;this._diagramInstance.reloadContent(t,function(){var t,e;return i._nodesOption&&n&&(t=i._nodesOption.getItems()),i._edgesOption&&n&&(e=i._edgesOption.getItems()),{nodeDataSource:t,edgeDataSource:e}},e&&this._getDataBindingLayoutParameters(),n)}},{key:"_getConnectorLineOption",value:function(t){var e=C().ConnectorLineOption;switch(t){case"straight":return e.Straight;default:return e.Orthogonal}}},{key:"_getConnectorLineEnding",value:function(t){var e=C().ConnectorLineEnding;switch(t){case"arrow":return e.Arrow;case"outlinedTriangle":return e.OutlinedTriangle;case"filledTriangle":return e.FilledTriangle;default:return e.None}}},{key:"_getDataBindingLayoutParameters",value:function(){var t=C(),e=t.DataLayoutType,n=t.DataLayoutOrientation,i=this.option("nodes.autoLayout")||"off",o=i.type||i,r={};if("off"!==o&&("auto"!==o||!this._hasNodePositionExprs())){switch(o){case"tree":r.type=e.Tree;break;default:r.type=e.Sugiyama}switch(i.orientation){case"vertical":r.orientation=n.Vertical;break;case"horizontal":r.orientation=n.Horizontal}(this.option("edges.fromPointIndexExpr")||this.option("edges.toPointIndexExpr"))&&(r.skipPointIndices=!0)}return r.autoSizeEnabled=!!this.option("nodes.autoSizeEnabled"),r}},{key:"_hasNodePositionExprs",value:function(){return this.option("nodes.topExpr")&&this.option("nodes.leftExpr")}},{key:"_getAutoZoomValue",value:function(t){var e=C().AutoZoomMode;switch(t){case"fitContent":return e.FitContent;case"fitWidth":return e.FitToWidth;default:return e.Disabled}}},{key:"_isBindingMode",value:function(){return this._nodesOption&&this._nodesOption.hasItems()||this._edgesOption&&this._edgesOption.hasItems()}},{key:"_beginUpdateDiagram",value:function(){this._updateDiagramLockCount++}},{key:"_endUpdateDiagram",value:function(){this._updateDiagramLockCount=Math.max(this._updateDiagramLockCount-1,0),this._updateDiagramLockCount||this._bindDiagramData()}},{key:"_getCustomShapes",value:function(){return this.option("customShapes")||[]}},{key:"_getToolboxGroups",value:function(){return Rt.getGroups(this.option("toolbox.groups"))}},{key:"_updateAllCustomShapes",value:function(){this._diagramInstance.removeAllCustomShapes(),this._updateCustomShapes(this._getCustomShapes())}},{key:"_updateCustomShapes",value:function(t,e){var n=this;Array.isArray(e)&&this._diagramInstance.removeCustomShapes(e.map(function(t){return t.type})),Array.isArray(t)&&this._diagramInstance.addCustomShapes(t.map(function(t){var e=t.template||n.option("customShapeTemplate"),i=e&&n._getTemplate(e),o=t.toolboxTemplate||n.option("customShapeToolboxTemplate"),r=o&&n._getTemplate(o);return{category:t.category,type:t.type,baseType:t.baseType,title:t.title,svgUrl:t.backgroundImageUrl,svgToolboxUrl:t.backgroundImageToolboxUrl,svgLeft:t.backgroundImageLeft,svgTop:t.backgroundImageTop,svgWidth:t.backgroundImageWidth,svgHeight:t.backgroundImageHeight,defaultWidth:t.defaultWidth,defaultHeight:t.defaultHeight,toolboxWidthToHeightRatio:t.toolboxWidthToHeightRatio,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,allowResize:t.allowResize,defaultText:t.defaultText,allowEditText:t.allowEditText,textLeft:t.textLeft,textTop:t.textTop,textWidth:t.textWidth,textHeight:t.textHeight,defaultImageUrl:t.defaultImageUrl,allowEditImage:t.allowEditImage,imageLeft:t.imageLeft,imageTop:t.imageTop,imageWidth:t.imageWidth,imageHeight:t.imageHeight,connectionPoints:t.connectionPoints&&t.connectionPoints.map(function(t){return{x:t.x,y:t.y}}),createTemplate:i&&function(t,e){i.render({model:n._nativeItemToDiagramItem(e),container:Object(x.a)(Object(u.a)(t))})},createToolboxTemplate:r&&function(t,e){r.render({model:n._nativeItemToDiagramItem(e),container:Object(x.a)(Object(u.a)(t))})},destroyTemplate:i&&function(t){Object(u.a)(t).empty()},templateLeft:t.templateLeft,templateTop:t.templateTop,templateWidth:t.templateWidth,templateHeight:t.templateHeight,keepRatioOnAutoSize:t.keepRatioOnAutoSize}}))}},{key:"_getViewport",value:function(){var t=this.$element().closest(".dx-viewport");return t.length?t:Object(u.a)("body")}},{key:"_onToggleFullScreen",value:function(t){this.toggleFullscreenLock>0||(this._changeNativeFullscreen(t),t?(this._prevParent=this.$element().parent(),this._prevFullScreenZIndex=this.$element().css("zIndex"),this._fullScreenZIndex=E.b(T.a.baseZIndex()),this.$element().css("zIndex",this._fullScreenZIndex),this.$element().appendTo(this._getViewport())):(this.$element().appendTo(this._prevParent),this._fullScreenZIndex&&(E.d(this._fullScreenZIndex),this.$element().css("zIndex",this._prevFullScreenZIndex))),this.$element().toggleClass("dx-diagram-fullscreen",t),this._processDiagramResize(),this._toolbox&&(this._toolbox.repaint(),this._toolbox._popup.option("propagateOutsideClick",!t)),this._propertiesPanel&&this._propertiesPanel.repaint(),this._historyToolbar&&this._updateHistoryToolbarPosition())}},{key:"_changeNativeFullscreen",value:function(t){var e=Object(O.d)();e.self!==e.top&&t!==this._inNativeFullscreen()&&(t?this._subscribeFullscreenNativeChanged():this._unsubscribeFullscreenNativeChanged(),this._setNativeFullscreen(t))}},{key:"_setNativeFullscreen",value:function(t){var e=Object(O.d)(),n=e.self.document,i=e.self.document.body;t?i.requestFullscreen?i.requestFullscreen():i.mozRequestFullscreen?i.mozRequestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.msRequestFullscreen&&i.msRequestFullscreen():n.exitFullscreen?n.exitFullscreen():n.mozCancelFullscreen?n.mozCancelFullscreen():n.webkitExitFullscreen?n.webkitExitFullscreen():n.msExitFullscreen&&n.msExitFullscreen()}},{key:"_inNativeFullscreen",value:function(){var t=Object(O.d)().document;return!!((t.fullscreenElement||t.msFullscreenElement||t.webkitFullscreenElement)===t.body||t.webkitIsFullscreen)}},{key:"_subscribeFullscreenNativeChanged",value:function(){var t=Object(O.d)().document,e=this._onNativeFullscreenChangeHandler.bind(this);S.a.on(t,le,e),S.a.on(t,ce,e),S.a.on(t,ue,e),S.a.on(t,he,e)}},{key:"_unsubscribeFullscreenNativeChanged",value:function(){var t=Object(O.d)().document;S.a.off(t,le),S.a.off(t,ce),S.a.off(t,ue),S.a.off(t,he)}},{key:"_onNativeFullscreenChangeHandler",value:function(){this._inNativeFullscreen()||(this._unsubscribeFullscreenNativeChanged(),this.option("fullScreen",!1))}},{key:"_executeDiagramFullscreenCommand",value:function(t){var e=C().DiagramCommand;this.toggleFullscreenLock++,this._executeDiagramCommand(e.Fullscreen,t),this.toggleFullscreenLock--}},{key:"_onShowContextMenu",value:function(t,e,n){this._contextMenu&&this._contextMenu._show(t,e,n)}},{key:"_onHideContextMenu",value:function(){this._contextMenu&&this._contextMenu._hide()}},{key:"_onShowContextToolbox",value:function(t,e,n,i,o){this._contextToolbox&&this._contextToolbox._show(t,e,n,i,o)}},{key:"_onHideContextToolbox",value:function(){this._contextToolbox&&this._contextToolbox._hide()}},{key:"_getDiagramUnitValue",value:function(t){var e=C().DiagramUnit;switch(t){case"in":return e.In;case"cm":return e.Cm;case"px":return e.Px;default:return e.In}}},{key:"_updateReadOnlyState",value:function(){var t=C().DiagramCommand,e=this.isReadOnlyMode();this._executeDiagramCommand(t.ToggleReadOnly,e)}},{key:"_updateZoomLevelState",value:function(){if(this.option("zoomLevel.items")){this._updateZoomLevelItemsState();var t=this.option("zoomLevel.value");if(!t)return;var e=C().DiagramCommand;this._executeDiagramCommand(e.ZoomLevel,t)}else{var n=this.option("zoomLevel.value")||this.option("zoomLevel");if(!n)return;var i=C().DiagramCommand;this._executeDiagramCommand(i.ZoomLevel,n)}}},{key:"_updateZoomLevelItemsState",value:function(){var t=this.option("zoomLevel.items");if(Array.isArray(t)){var e=C().DiagramCommand;this._executeDiagramCommand(e.ZoomLevelItems,t)}}},{key:"_updateAutoZoomState",value:function(){var t=C().DiagramCommand;this._executeDiagramCommand(t.SwitchAutoZoom,this._getAutoZoomValue(this.option("autoZoomMode")))}},{key:"_updateSimpleViewState",value:function(){var t=C().DiagramCommand;this._executeDiagramCommand(t.ToggleSimpleView,this.option("simpleView"))}},{key:"_updateFullscreenState",value:function(){var t=this.option("fullScreen");this._executeDiagramFullscreenCommand(t),this._onToggleFullScreen(t)}},{key:"_updateShowGridState",value:function(){var t=C().DiagramCommand;this._executeDiagramCommand(t.ShowGrid,this.option("showGrid"))}},{key:"_updateSnapToGridState",value:function(){var t=C().DiagramCommand;this._executeDiagramCommand(t.SnapToGrid,this.option("snapToGrid"))}},{key:"_updateGridSizeState",value:function(){if(this.option("gridSize.items")){this._updateGridSizeItemsState();var t=this.option("gridSize.value");if(!t)return;var e=C().DiagramCommand;this._executeDiagramCommand(e.GridSize,t)}else{var n=this.option("gridSize.value")||this.option("gridSize");if(!n)return;var i=C().DiagramCommand;this._executeDiagramCommand(i.GridSize,n)}}},{key:"_updateGridSizeItemsState",value:function(){var t=this.option("gridSize.items");if(Array.isArray(t)){var e=C().DiagramCommand;this._executeDiagramCommand(e.GridSizeItems,t)}}},{key:"_updateUnitItems",value:function(){var t=C().DiagramLocalizationService,e=this._getUnitItems();this._unitItems!==e&&(this._unitItems=e,t.unitItems=e)}},{key:"_getUnitItems",value:function(){var t=C().DiagramUnit,e={};return e[t.In]=P.a.format("dxDiagram-unitIn"),e[t.Cm]=P.a.format("dxDiagram-unitCm"),e[t.Px]=P.a.format("dxDiagram-unitPx"),e}},{key:"_updateFormatUnitsMethod",value:function(){C().DiagramLocalizationService.formatUnit=function(t){return k.a.format(t)}}},{key:"_updateViewUnitsState",value:function(){var t=C().DiagramCommand;this._executeDiagramCommand(t.ViewUnits,this._getDiagramUnitValue(this.option("viewUnits")))}},{key:"_updateUnitsState",value:function(){var t=C().DiagramCommand;this._executeDiagramCommand(t.Units,this._getDiagramUnitValue(this.option("units")))}},{key:"_updatePageSizeState",value:function(){var t=this.option("pageSize");if(t&&t.width&&t.height){var e=C().DiagramCommand;this._executeDiagramCommand(e.PageSize,t)}}},{key:"_updatePageSizeItemsState",value:function(){var t=this.option("pageSize.items");if(Array.isArray(t)){var e=C().DiagramCommand;this._executeDiagramCommand(e.PageSizeItems,t)}}},{key:"_updatePageOrientationState",value:function(){var t=C().DiagramCommand;this._executeDiagramCommand(t.PageLandscape,"landscape"===this.option("pageOrientation"))}},{key:"_updatePageColorState",value:function(){var t=C().DiagramCommand;this._executeDiagramCommand(t.PageColor,this.option("pageColor"))}},{key:"_updateShapeTexts",value:function(){var t=C().DiagramLocalizationService,e=this._getShapeTexts();this._shapeTexts!==e&&(this._shapeTexts=e,t.shapeTexts=e)}},{key:"_getShapeTexts",value:function(){var t=C().ShapeTypes,e={};return e[t.Text]=P.a.format("dxDiagram-shapeText"),e[t.Rectangle]=P.a.format("dxDiagram-shapeRectangle"),e[t.Ellipse]=P.a.format("dxDiagram-shapeEllipse"),e[t.Cross]=P.a.format("dxDiagram-shapeCross"),e[t.Triangle]=P.a.format("dxDiagram-shapeTriangle"),e[t.Diamond]=P.a.format("dxDiagram-shapeDiamond"),e[t.Heart]=P.a.format("dxDiagram-shapeHeart"),e[t.Pentagon]=P.a.format("dxDiagram-shapePentagon"),e[t.Hexagon]=P.a.format("dxDiagram-shapeHexagon"),e[t.Octagon]=P.a.format("dxDiagram-shapeOctagon"),e[t.Star]=P.a.format("dxDiagram-shapeStar"),e[t.ArrowLeft]=P.a.format("dxDiagram-shapeArrowLeft"),e[t.ArrowUp]=P.a.format("dxDiagram-shapeArrowUp"),e[t.ArrowRight]=P.a.format("dxDiagram-shapeArrowRight"),e[t.ArrowDown]=P.a.format("dxDiagram-shapeArrowDown"),e[t.ArrowUpDown]=P.a.format("dxDiagram-shapeArrowUpDown"),e[t.ArrowLeftRight]=P.a.format("dxDiagram-shapeArrowLeftRight"),e[t.Process]=P.a.format("dxDiagram-shapeProcess"),e[t.Decision]=P.a.format("dxDiagram-shapeDecision"),e[t.Terminator]=P.a.format("dxDiagram-shapeTerminator"),e[t.PredefinedProcess]=P.a.format("dxDiagram-shapePredefinedProcess"),e[t.Document]=P.a.format("dxDiagram-shapeDocument"),e[t.MultipleDocuments]=P.a.format("dxDiagram-shapeMultipleDocuments"),e[t.ManualInput]=P.a.format("dxDiagram-shapeManualInput"),e[t.Preparation]=P.a.format("dxDiagram-shapePreparation"),e[t.Data]=P.a.format("dxDiagram-shapeData"),e[t.Database]=P.a.format("dxDiagram-shapeDatabase"),e[t.HardDisk]=P.a.format("dxDiagram-shapeHardDisk"),e[t.InternalStorage]=P.a.format("dxDiagram-shapeInternalStorage"),e[t.PaperTape]=P.a.format("dxDiagram-shapePaperTape"),e[t.ManualOperation]=P.a.format("dxDiagram-shapeManualOperation"),e[t.Delay]=P.a.format("dxDiagram-shapeDelay"),e[t.StoredData]=P.a.format("dxDiagram-shapeStoredData"),e[t.Display]=P.a.format("dxDiagram-shapeDisplay"),e[t.Merge]=P.a.format("dxDiagram-shapeMerge"),e[t.Connector]=P.a.format("dxDiagram-shapeConnector"),e[t.Or]=P.a.format("dxDiagram-shapeOr"),e[t.SummingJunction]=P.a.format("dxDiagram-shapeSummingJunction"),e[t.Container]=P.a.format("dxDiagram-shapeContainerDefaultText"),e[t.VerticalContainer]=P.a.format("dxDiagram-shapeVerticalContainer"),e[t.HorizontalContainer]=P.a.format("dxDiagram-shapeHorizontalContainer"),e[t.Card]=P.a.format("dxDiagram-shapeCardDefaultText"),e[t.CardWithImageOnLeft]=P.a.format("dxDiagram-shapeCardWithImageOnLeft"),e[t.CardWithImageOnTop]=P.a.format("dxDiagram-shapeCardWithImageOnTop"),e[t.CardWithImageOnRight]=P.a.format("dxDiagram-shapeCardWithImageOnRight"),e}},{key:"_updateEventSubscriptionMethods",value:function(){var t=C().RenderHelper;t.addEventListener=function(t,e,n){S.a.on(t,e,n)},t.removeEventListener=function(t,e,n){S.a.off(t,e,n)}}},{key:"_updateDefaultItemProperties",value:function(){this.option("defaultItemProperties.style")&&this._diagramInstance.setInitialStyleProperties(this.option("defaultItemProperties.style")),this.option("defaultItemProperties.textStyle")&&this._diagramInstance.setInitialTextStyleProperties(this.option("defaultItemProperties.textStyle")),this._diagramInstance.setInitialConnectorProperties({lineOption:this._getConnectorLineOption(this.option("defaultItemProperties.connectorLineType")),startLineEnding:this._getConnectorLineEnding(this.option("defaultItemProperties.connectorLineStart")),endLineEnding:this._getConnectorLineEnding(this.option("defaultItemProperties.connectorLineEnd"))}),this._diagramInstance.applyShapeSizeSettings({shapeMinWidth:this.option("defaultItemProperties.shapeMinWidth"),shapeMaxWidth:this.option("defaultItemProperties.shapeMaxWidth"),shapeMinHeight:this.option("defaultItemProperties.shapeMinHeight"),shapeMaxHeight:this.option("defaultItemProperties.shapeMaxHeight")})}},{key:"_updateEditingSettings",value:function(){this._diagramInstance.applyOperationSettings({addShape:this.option("editing.allowAddShape"),addShapeFromToolbox:this.option("editing.allowAddShape"),deleteShape:this.option("editing.allowDeleteShape"),deleteConnector:this.option("editing.allowDeleteConnector"),changeConnection:this.option("editing.allowChangeConnection"),changeConnectorPoints:this.option("editing.allowChangeConnectorPoints"),changeShapeText:this.option("editing.allowChangeShapeText"),changeConnectorText:this.option("editing.allowChangeConnectorText"),resizeShape:this.option("editing.allowResizeShape"),moveShape:this.option("editing.allowMoveShape")})}},{key:"fitToContent",value:function(){var t=C().DiagramCommand;this._executeDiagramCommand(t.FitToScreen)}},{key:"fitToWidth",value:function(){var t=C().DiagramCommand;this._executeDiagramCommand(t.FitToWidth)}},{key:"focus",value:function(){this._captureFocus()}},{key:"export",value:function(){return this._getDiagramData()}},{key:"exportTo",value:function(t,e){var n=this._getDiagramExportToCommand(t);this._executeDiagramCommand(n,e)}},{key:"_getDiagramExportToCommand",value:function(t){var e=C().DiagramCommand;switch(t){case"png":return e.ExportPng;case"jpg":return e.ExportJpg;default:return e.ExportSvg}}},{key:"import",value:function(t,e){this._setDiagramData(t,e),this._raiseDataChangeAction()}},{key:"updateToolbox",value:function(){this._diagramInstance&&this._diagramInstance.refreshToolbox(),this._toolbox&&(this._toolbox.updateTooltips(),this._toolbox.updateFilter(),this._toolbox.updateMaxHeight())}},{key:"_getDefaultOptions",value:function(){return Object(f.a)(Object(a.a)(Object(s.a)(e.prototype),"_getDefaultOptions",this).call(this),{readOnly:!1,zoomLevel:1,simpleView:!1,autoZoomMode:"disabled",fullScreen:!1,showGrid:!0,snapToGrid:!0,units:"in",viewUnits:"in",pageOrientation:"portrait",pageColor:"#ffffff",hasChanges:!1,nodes:{dataSource:null,keyExpr:"id",customDataExpr:void 0,lockedExpr:void 0,styleExpr:void 0,textStyleExpr:void 0,zIndexExpr:void 0,typeExpr:"type",textExpr:"text",imageUrlExpr:void 0,parentKeyExpr:void 0,itemsExpr:void 0,leftExpr:void 0,topExpr:void 0,widthExpr:void 0,heightExpr:void 0,containerKeyExpr:"containerKey",containerChildrenExpr:void 0,autoLayout:"auto",autoSizeEnabled:!0},edges:{dataSource:null,keyExpr:"id",customDataExpr:void 0,lockedExpr:void 0,styleExpr:void 0,textStyleExpr:void 0,zIndexExpr:void 0,fromExpr:"from",fromPointIndexExpr:void 0,toExpr:"to",toPointIndexExpr:void 0,pointsExpr:void 0,textExpr:void 0,lineTypeExpr:void 0,fromLineEndExpr:void 0,toLineEndExpr:void 0},customShapes:[],toolbox:{visibility:"auto",shapeIconsPerRow:3,showSearch:!0},mainToolbar:{visible:!1},historyToolbar:{visible:!0},viewToolbar:{visible:!0},contextMenu:{enabled:!0},contextToolbox:{enabled:!0,shapeIconsPerRow:4,width:152},propertiesPanel:{visibility:"auto"},defaultItemProperties:{connectorLineType:"orthogonal",connectorLineStart:"none",connectorLineEnd:"arrow"},editing:{allowAddShape:!0,allowDeleteShape:!0,allowDeleteConnector:!0,allowChangeConnection:!0,allowChangeConnectorPoints:!0,allowChangeShapeText:!0,allowChangeConnectorText:!0,allowResizeShape:!0,allowMoveShape:!0},export:{fileName:"Diagram"},onItemClick:null,onItemDblClick:null,onSelectionChanged:null,onRequestEditOperation:null,onRequestLayoutUpdate:null})}},{key:"_raiseDataChangeAction",value:function(){this._initialized&&this.option("hasChanges",!0)}},{key:"_raiseEdgeInsertedAction",value:function(t,e,n){this._edgesOption&&this._edgesOption.insert(t,e,n)}},{key:"_raiseEdgeUpdatedAction",value:function(t,e,n,i){this._edgesOption&&this._edgesOption.update(t,e,n,i)}},{key:"_raiseEdgeRemovedAction",value:function(t,e,n,i){this._edgesOption&&this._edgesOption.remove(t,e,n,i)}},{key:"_raiseNodeInsertedAction",value:function(t,e,n){this._nodesOption&&this._nodesOption.insert(t,e,n)}},{key:"_raiseNodeUpdatedAction",value:function(t,e,n,i){this._nodesOption&&this._nodesOption.update(t,e,n,i)}},{key:"_raiseNodeRemovedAction",value:function(t,e,n,i){this._nodesOption&&this._nodesOption.remove(t,e,n,i)}},{key:"_raiseToolboxDragStart",value:function(){this._toolbox&&this.isMobileScreenSize()&&(this._toolbox.hide(),this._toolboxDragHidden=!0)}},{key:"_raiseToolboxDragEnd",value:function(){this._toolbox&&this._toolboxDragHidden&&(this._toolbox.show(),delete this._toolboxDragHidden)}},{key:"_raiseTextInputStart",value:function(){this._textInputStarted=!0,this._propertiesPanel&&this.isMobileScreenSize()&&this._propertiesPanel.isVisible()&&(this._propertiesPanel.hide(),this._propertiesPanelTextInputHidden=!0),this._toolbox&&this.isMobileScreenSize()&&this._toolbox.isVisible()&&(this._toolbox.hide(),this._toolboxTextInputHidden=!0)}},{key:"_raiseTextInputEnd",value:function(){this._propertiesPanel&&this._propertiesPanelTextInputHidden&&(this._propertiesPanel.show(),delete this._propertiesPanelTextInputHidden),this._toolbox&&this._toolboxTextInputHidden&&(this._toolbox.show(),delete this._toolboxTextInputHidden),this._textInputStarted=!1}},{key:"_createItemClickAction",value:function(){this._itemClickAction=this._createActionByOption("onItemClick")}},{key:"_createItemDblClickAction",value:function(){this._itemDblClickAction=this._createActionByOption("onItemDblClick")}},{key:"_createSelectionChangedAction",value:function(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged")}},{key:"_createRequestEditOperationAction",value:function(){this._requestEditOperationAction=this._createActionByOption("onRequestEditOperation")}},{key:"_createRequestLayoutUpdateAction",value:function(){this._requestLayoutUpdateAction=this._createActionByOption("onRequestLayoutUpdate")}},{key:"_createCustomCommand",value:function(){this._customCommandAction=this._createActionByOption("onCustomCommand")}},{key:"_raiseItemClickAction",value:function(t){this._itemClickAction||this._createItemClickAction(),this._itemClickAction({item:this._nativeItemToDiagramItem(t)})}},{key:"_raiseItemDblClickAction",value:function(t){this._itemDblClickAction||this._createItemDblClickAction(),this._itemDblClickAction({item:this._nativeItemToDiagramItem(t)})}},{key:"_raiseSelectionChanged",value:function(t){this._selectionChangedAction||this._createSelectionChangedAction(),this._selectionChangedAction({items:t.map(this._nativeItemToDiagramItem.bind(this))})}},{key:"_raiseRequestEditOperation",value:function(t,e){this._requestEditOperationAction||this._createRequestEditOperationAction();var n=this._getRequestEditOperationEventArgs(t,e);this._requestEditOperationAction(n),e.allowed=n.allowed}},{key:"_getModelOperation",value:function(t){var e=C().DiagramModelOperation;switch(t){case e.AddShape:return"addShape";case e.AddShapeFromToolbox:return"addShapeFromToolbox";case e.DeleteShape:return"deleteShape";case e.DeleteConnector:return"deleteConnector";case e.ChangeConnection:return"changeConnection";case e.ChangeConnectorPoints:return"changeConnectorPoints";case e.BeforeChangeShapeText:return"beforeChangeShapeText";case e.ChangeShapeText:return"changeShapeText";case e.BeforeChangeConnectorText:return"beforeChangeConnectorText";case e.ChangeConnectorText:return"changeConnectorText";case e.ResizeShape:return"resizeShape";case e.MoveShape:return"moveShape"}}},{key:"_getRequestEditOperationEventArgs",value:function(t,e){var n=C(),i=n.DiagramModelOperation,o=n.ConnectorPosition,r={operation:this._getModelOperation(t),allowed:e.allowed,updateUI:e.updateUI,reason:e.updateUI?"checkUIElementAvailability":"modelModification"};switch(t){case i.AddShape:r.args={shape:e.shape&&this._nativeItemToDiagramItem(e.shape),position:e.position&&{x:e.position.x,y:e.position.y}};break;case i.AddShapeFromToolbox:r.args={shapeType:e.shapeType};break;case i.DeleteShape:r.args={shape:e.shape&&this._nativeItemToDiagramItem(e.shape)};break;case i.DeleteConnector:r.args={connector:e.connector&&this._nativeItemToDiagramItem(e.connector)};break;case i.ChangeConnection:r.args={newShape:e.shape&&this._nativeItemToDiagramItem(e.shape),oldShape:e.oldShape&&this._nativeItemToDiagramItem(e.oldShape),connector:e.connector&&this._nativeItemToDiagramItem(e.connector),connectionPointIndex:e.connectionPointIndex,connectorPosition:e.position===o.Begin?"start":"end"};break;case i.ChangeConnectorPoints:r.args={connector:e.connector&&this._nativeItemToDiagramItem(e.connector),newPoints:e.points&&e.points.map(function(t){return{x:t.x,y:t.y}}),oldPoints:e.oldPoints&&e.oldPoints.map(function(t){return{x:t.x,y:t.y}})};break;case i.BeforeChangeShapeText:r.args={shape:e.shape&&this._nativeItemToDiagramItem(e.shape)};break;case i.ChangeShapeText:r.args={shape:e.shape&&this._nativeItemToDiagramItem(e.shape),text:e.text};break;case i.BeforeChangeConnectorText:r.args={connector:e.connector&&this._nativeItemToDiagramItem(e.connector),index:e.index};break;case i.ChangeConnectorText:r.args={connector:e.connector&&this._nativeItemToDiagramItem(e.connector),index:e.index,text:e.text};break;case i.ResizeShape:r.args={shape:e.shape&&this._nativeItemToDiagramItem(e.shape),newSize:e.size&&{width:e.size.width,height:e.size.height},oldSize:e.oldSize&&{width:e.oldSize.width,height:e.oldSize.height}};break;case i.MoveShape:r.args={shape:e.shape&&this._nativeItemToDiagramItem(e.shape),newPosition:e.position&&{x:e.position.x,y:e.position.y},oldPosition:e.oldPosition&&{x:e.oldPosition.x,y:e.oldPosition.y}}}return r}},{key:"_nativeItemToDiagramItem",value:function(t){var e=t instanceof C().NativeShape?this._nativeShapeToDiagramShape.bind(this):this._nativeConnectorToDiagramConnector.bind(this);return Object(f.a)({id:t.id,key:t.key,dataItem:void 0},e(t))}},{key:"_nativeShapeToDiagramShape",value:function(t){return{dataItem:this._nodesOption&&this._nodesOption.findItem(t.key),itemType:"shape",text:t.text,type:t.type,position:{x:t.position.x,y:t.position.y},size:{width:t.size.width,height:t.size.height},attachedConnectorIds:t.attachedConnectorIds,containerId:t.containerId,containerChildItemIds:t.containerChildItemIds,containerExpanded:t.containerExpanded}}},{key:"_nativeConnectorToDiagramConnector",value:function(t){return{dataItem:this._edgesOption&&this._edgesOption.findItem(t.key),itemType:"connector",texts:t.texts,fromKey:t.fromKey,toKey:t.toKey,fromId:t.fromId,fromPointIndex:t.fromPointIndex,toId:t.toId,toPointIndex:t.toPointIndex,points:t.points.map(function(t){return{x:t.x,y:t.y}})}}},{key:"getItemByKey",value:function(t){var e=this._diagramInstance&&this._diagramInstance.getNativeItemByDataKey(t);return e&&this._nativeItemToDiagramItem(e)}},{key:"getItemById",value:function(t){var e=this._diagramInstance&&this._diagramInstance.getNativeItemByKey(t);return e&&this._nativeItemToDiagramItem(e)}},{key:"getItems",value:function(){var t=this;return this._diagramInstance.getNativeItems().map(function(e){return e&&t._nativeItemToDiagramItem(e)})}},{key:"getSelectedItems",value:function(){var t=this;return this._diagramInstance.getNativeSelectedItems().map(function(e){return e&&t._nativeItemToDiagramItem(e)})}},{key:"setSelectedItems",value:function(t){return this._diagramInstance.setSelectedItems(t.map(function(t){return t.id}))}},{key:"scrollToItem",value:function(t){return this._diagramInstance.scrollToItems([t.id])}},{key:"_invalidateContextMenuCommands",value:function(){this._contextMenu&&this._contextMenu.option({commands:this.option("contextMenu.commands")})}},{key:"_invalidateMainToolbarCommands",value:function(){this._mainToolbar&&this._mainToolbar.option({commands:this.option("mainToolbar.commands")})}},{key:"_invalidateHistoryToolbarCommands",value:function(){this._historyToolbar&&this._historyToolbar.option({commands:this.option("historyToolbar.commands")})}},{key:"_invalidateViewToolbarCommands",value:function(){this._viewToolbar&&this._viewToolbar.option({commands:this.option("viewToolbar.commands")})}},{key:"_invalidateToolboxGroups",value:function(){this._toolbox&&this._toolbox.option({toolboxGroups:this._getToolboxGroups()})}},{key:"_optionChanged",value:function(t){if(this.optionsUpdateBar&&!this.optionsUpdateBar.isUpdateLocked()){this.optionsUpdateBar.beginUpdate();try{this._optionChangedCore(t)}finally{this.optionsUpdateBar.endUpdate()}}}},{key:"_optionChangedCore",value:function(t){var n=this;switch(t.name){case"readOnly":case"disabled":this._updateReadOnlyState(),this._invalidate();break;case"zoomLevel":"zoomLevel"!==t.fullName&&"zoomLevel.items"!==t.fullName&&"zoomLevel.value"!==t.fullName||this._updateZoomLevelState();break;case"autoZoomMode":this._updateAutoZoomState();break;case"simpleView":this._updateSimpleViewState();break;case"useNativeScrolling":this._invalidate();break;case"fullScreen":this._updateFullscreenState();break;case"showGrid":this._updateShowGridState();break;case"snapToGrid":this._updateSnapToGridState();break;case"gridSize":"gridSize"!==t.fullName&&"gridSize.items"!==t.fullName&&"gridSize.value"!==t.fullName||this._updateGridSizeState();break;case"viewUnits":this._updateViewUnitsState();break;case"units":this._updateUnitsState();break;case"pageSize":"pageSize"!==t.fullName&&"pageSize.items"!==t.fullName||this._updatePageSizeItemsState(),"pageSize"!==t.fullName&&"pageSize.width"!==t.fullName&&"pageSize.height"!==t.fullName||this._updatePageSizeState();break;case"pageOrientation":this._updatePageOrientationState();break;case"pageColor":this._updatePageColorState();break;case"nodes":0===t.fullName.indexOf("nodes.autoLayout")?this._refreshDataSources():this._refreshNodesDataSource();break;case"edges":this._refreshEdgesDataSource();break;case"customShapes":t.fullName!==t.name?this._updateAllCustomShapes():this._updateCustomShapes(t.value,t.previousValue),this._invalidate();break;case"contextMenu":"contextMenu.commands"===t.fullName?this._invalidateContextMenuCommands():this._invalidate();break;case"contextToolbox":case"propertiesPanel":this._invalidate();break;case"toolbox":"toolbox.groups"===t.fullName?this._invalidateToolboxGroups():this._invalidate();break;case"mainToolbar":"mainToolbar.commands"===t.fullName?this._invalidateMainToolbarCommands():this._invalidate();break;case"historyToolbar":"historyToolbar.commands"===t.fullName?this._invalidateHistoryToolbarCommands():this._invalidate();break;case"viewToolbar":"viewToolbar.commands"===t.fullName?this._invalidateViewToolbarCommands():this._invalidate();break;case"onItemClick":this._createItemClickAction();break;case"onItemDblClick":this._createItemDblClickAction();break;case"onSelectionChanged":this._createSelectionChangedAction();break;case"onRequestEditOperation":this._createRequestEditOperationAction();break;case"onRequestLayoutUpdate":this._createRequestLayoutUpdateAction();break;case"onCustomCommand":this._createCustomCommand();break;case"defaultItemProperties":this._updateDefaultItemProperties();break;case"editing":this._updateEditingSettings();break;case"export":this._toolbars.forEach(function(t){t.option("export",n.option("export"))}),this._contextMenu&&this._contextMenu.option("export",this.option("export"));break;case"hasChanges":break;default:Object(a.a)(Object(s.a)(e.prototype),"_optionChanged",this).call(this,t)}}}]),e}(h.a);Object(p.a)("dxDiagram",de);var pe=de;e.default=pe},,function(t,e,n){"use strict";var i=n(12),o=n(13);function r(t,e){return Array(e+1).join(t)}var a=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function s(t){return h(t,a)}var l=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function c(t){return h(t,l)}var u=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function h(t,e){return e.indexOf(t.nodeName)>=0}function d(t,e){return t.getElementsByTagName&&e.some(function(e){return t.getElementsByTagName(e).length})}var p={};function f(t){return t?t.replace(/(\n+\s*)+/g,"\n"):""}function m(t){for(var e in this.options=t,this._keep=[],this._remove=[],this.blankRule={replacement:t.blankReplacement},this.keepReplacement=t.keepReplacement,this.defaultRule={replacement:t.defaultReplacement},this.array=[],t.rules)this.array.push(t.rules[e])}function g(t,e,n){for(var i=0;i<t.length;i++){var o=t[i];if(v(o,e,n))return o}}function v(t,e,n){var i=t.filter;if("string"===typeof i){if(i===e.nodeName.toLowerCase())return!0}else if(Array.isArray(i)){if(i.indexOf(e.nodeName.toLowerCase())>-1)return!0}else{if("function"!==typeof i)throw new TypeError("`filter` needs to be a string, array, or function");if(i.call(t,e,n))return!0}}function y(t){var e=t.nextSibling||t.parentNode;return t.parentNode.removeChild(t),e}function _(t,e,n){return t&&t.parentNode===e||n(e)?e.nextSibling||e.parentNode:e.firstChild||e.nextSibling||e.parentNode}p.paragraph={filter:"p",replacement:function(t){return"\n\n"+t+"\n\n"}},p.lineBreak={filter:"br",replacement:function(t,e,n){return n.br+"\n"}},p.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(t,e,n){var i=Number(e.nodeName.charAt(1));return"setext"===n.headingStyle&&i<3?"\n\n"+t+"\n"+r(1===i?"=":"-",t.length)+"\n\n":"\n\n"+r("#",i)+" "+t+"\n\n"}},p.blockquote={filter:"blockquote",replacement:function(t){return"\n\n"+(t=(t=t.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+"\n\n"}},p.list={filter:["ul","ol"],replacement:function(t,e){var n=e.parentNode;return"LI"===n.nodeName&&n.lastElementChild===e?"\n"+t:"\n\n"+t+"\n\n"}},p.listItem={filter:"li",replacement:function(t,e,n){t=t.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var i=n.bulletListMarker+"   ",o=e.parentNode;if("OL"===o.nodeName){var r=o.getAttribute("start"),a=Array.prototype.indexOf.call(o.children,e);i=(r?Number(r)+a:a+1)+".  "}return i+t+(e.nextSibling&&!/\n$/.test(t)?"\n":"")}},p.indentedCodeBlock={filter:function(t,e){return"indented"===e.codeBlockStyle&&"PRE"===t.nodeName&&t.firstChild&&"CODE"===t.firstChild.nodeName},replacement:function(t,e,n){return"\n\n    "+e.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},p.fencedCodeBlock={filter:function(t,e){return"fenced"===e.codeBlockStyle&&"PRE"===t.nodeName&&t.firstChild&&"CODE"===t.firstChild.nodeName},replacement:function(t,e,n){for(var i,o=((e.firstChild.getAttribute("class")||"").match(/language-(\S+)/)||[null,""])[1],a=e.firstChild.textContent,s=n.fence.charAt(0),l=3,c=new RegExp("^"+s+"{3,}","gm");i=c.exec(a);)i[0].length>=l&&(l=i[0].length+1);var u=r(s,l);return"\n\n"+u+o+"\n"+a.replace(/\n$/,"")+"\n"+u+"\n\n"}},p.horizontalRule={filter:"hr",replacement:function(t,e,n){return"\n\n"+n.hr+"\n\n"}},p.inlineLink={filter:function(t,e){return"inlined"===e.linkStyle&&"A"===t.nodeName&&t.getAttribute("href")},replacement:function(t,e){var n=e.getAttribute("href"),i=f(e.getAttribute("title"));return i&&(i=' "'+i+'"'),"["+t+"]("+n+i+")"}},p.referenceLink={filter:function(t,e){return"referenced"===e.linkStyle&&"A"===t.nodeName&&t.getAttribute("href")},replacement:function(t,e,n){var i,o,r=e.getAttribute("href"),a=f(e.getAttribute("title"));switch(a&&(a=' "'+a+'"'),n.linkReferenceStyle){case"collapsed":i="["+t+"][]",o="["+t+"]: "+r+a;break;case"shortcut":i="["+t+"]",o="["+t+"]: "+r+a;break;default:var s=this.references.length+1;i="["+t+"]["+s+"]",o="["+s+"]: "+r+a}return this.references.push(o),i},references:[],append:function(t){var e="";return this.references.length&&(e="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),e}},p.emphasis={filter:["em","i"],replacement:function(t,e,n){return t.trim()?n.emDelimiter+t+n.emDelimiter:""}},p.strong={filter:["strong","b"],replacement:function(t,e,n){return t.trim()?n.strongDelimiter+t+n.strongDelimiter:""}},p.code={filter:function(t){var e=t.previousSibling||t.nextSibling,n="PRE"===t.parentNode.nodeName&&!e;return"CODE"===t.nodeName&&!n},replacement:function(t){if(!t)return"";t=t.replace(/\r?\n|\r/g," ");for(var e=/^`|^ .*?[^ ].* $|`$/.test(t)?" ":"",n="`",i=t.match(/`+/gm)||[];-1!==i.indexOf(n);)n+="`";return n+e+t+e+n}},p.image={filter:"img",replacement:function(t,e){var n=f(e.getAttribute("alt")),i=e.getAttribute("src")||"",o=f(e.getAttribute("title"));return i?"!["+n+"]("+i+(o?' "'+o+'"':"")+")":""}},m.prototype={add:function(t,e){this.array.unshift(e)},keep:function(t){this._keep.unshift({filter:t,replacement:this.keepReplacement})},remove:function(t){this._remove.unshift({filter:t,replacement:function(){return""}})},forNode:function(t){return t.isBlank?this.blankRule:(e=g(this.array,t,this.options))?e:(e=g(this._keep,t,this.options))?e:(e=g(this._remove,t,this.options))?e:this.defaultRule;var e},forEach:function(t){for(var e=0;e<this.array.length;e++)t(this.array[e],e)}};var b="undefined"!==typeof window?window:{};var C,O=function(){var t=b.DOMParser,e=!1;try{(new t).parseFromString("","text/html")&&(e=!0)}catch(n){}return e}()?b.DOMParser:function(){var t=function(){};return function(){var t=!1;try{document.implementation.createHTMLDocument("").open()}catch(e){window.ActiveXObject&&(t=!0)}return t}()?t.prototype.parseFromString=function(t){var e=new window.ActiveXObject("htmlfile");return e.designMode="on",e.open(),e.write(t),e.close(),e}:t.prototype.parseFromString=function(t){var e=document.implementation.createHTMLDocument("");return e.open(),e.write(t),e.close(),e},t}();function x(t,e){var n;"string"===typeof t?n=(C=C||new O).parseFromString('<x-turndown id="turndown-root">'+t+"</x-turndown>","text/html").getElementById("turndown-root"):n=t.cloneNode(!0);return function(t){var e=t.element,n=t.isBlock,i=t.isVoid,o=t.isPre||function(t){return"PRE"===t.nodeName};if(e.firstChild&&!o(e)){for(var r=null,a=!1,s=null,l=_(s,e,o);l!==e;){if(3===l.nodeType||4===l.nodeType){var c=l.data.replace(/[ \r\n\t]+/g," ");if(r&&!/ $/.test(r.data)||a||" "!==c[0]||(c=c.substr(1)),!c){l=y(l);continue}l.data=c,r=l}else{if(1!==l.nodeType){l=y(l);continue}n(l)||"BR"===l.nodeName?(r&&(r.data=r.data.replace(/ $/,"")),r=null,a=!1):i(l)||o(l)?(r=null,a=!0):r&&(a=!1)}var u=_(s,l,o);s=l,l=u}r&&(r.data=r.data.replace(/ $/,""),r.data||y(r))}}({element:n,isBlock:s,isVoid:c,isPre:e.preformattedCode?S:null}),n}function S(t){return"PRE"===t.nodeName||"CODE"===t.nodeName}function w(t,e){return t.isBlock=s(t),t.isCode="CODE"===t.nodeName||t.parentNode.isCode,t.isBlank=function(t){return!c(t)&&!function(t){return h(t,u)}(t)&&/^\s*$/i.test(t.textContent)&&!function(t){return d(t,l)}(t)&&!function(t){return d(t,u)}(t)}(t),t.flankingWhitespace=function(t,e){if(t.isBlock||e.preformattedCode&&t.isCode)return{leading:"",trailing:""};var n=function(t){var e=t.match(/^(([ \t\r\n]*)(\s*))[\s\S]*?((\s*?)([ \t\r\n]*))$/);return{leading:e[1],leadingAscii:e[2],leadingNonAscii:e[3],trailing:e[4],trailingNonAscii:e[5],trailingAscii:e[6]}}(t.textContent);n.leadingAscii&&P("left",t,e)&&(n.leading=n.leadingNonAscii);n.trailingAscii&&P("right",t,e)&&(n.trailing=n.trailingNonAscii);return{leading:n.leading,trailing:n.trailing}}(t,e),t}function P(t,e,n){var i,o,r;return"left"===t?(i=e.previousSibling,o=/ $/):(i=e.nextSibling,o=/^ /),i&&(3===i.nodeType?r=o.test(i.nodeValue):n.preformattedCode&&"CODE"===i.nodeName?r=!1:1!==i.nodeType||s(i)||(r=o.test(i.textContent))),r}var k=Array.prototype.reduce,E=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function T(t){if(!(this instanceof T))return new T(t);var e={rules:p,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(t,e){return e.isBlock?"\n\n":""},keepReplacement:function(t,e){return e.isBlock?"\n\n"+e.outerHTML+"\n\n":e.outerHTML},defaultReplacement:function(t,e){return e.isBlock?"\n\n"+t+"\n\n":t}};this.options=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}return t}({},e,t),this.rules=new m(this.options)}function I(t){var e=this;return k.call(t.childNodes,function(t,n){var i="";return 3===(n=new w(n,e.options)).nodeType?i=n.isCode?n.nodeValue:e.escape(n.nodeValue):1===n.nodeType&&(i=function(t){var e=this.rules.forNode(t),n=I.call(this,t),i=t.flankingWhitespace;(i.leading||i.trailing)&&(n=n.trim());return i.leading+e.replacement(n,t,this.options)+i.trailing}.call(e,n)),j(t,i)},"")}function j(t,e){var n=function(t){for(var e=t.length;e>0&&"\n"===t[e-1];)e--;return t.substring(0,e)}(t),i=e.replace(/^\n*/,""),o=Math.max(t.length-n.length,e.length-i.length);return n+"\n\n".substring(0,o)+i}T.prototype={turndown:function(t){if(!function(t){return null!=t&&("string"===typeof t||t.nodeType&&(1===t.nodeType||9===t.nodeType||11===t.nodeType))}(t))throw new TypeError(t+" is not a string, or an element/document/fragment node.");if(""===t)return"";var e=I.call(this,new x(t,this.options));return function(t){var e=this;return this.rules.forEach(function(n){"function"===typeof n.append&&(t=j(t,n.append(e.options)))}),t.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}.call(this,e)},use:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.use(t[e]);else{if("function"!==typeof t)throw new TypeError("plugin must be a Function or an Array of Functions");t(this)}return this},addRule:function(t,e){return this.rules.add(t,e),this},keep:function(t){return this.rules.keep(t),this},remove:function(t){return this.rules.remove(t),this},escape:function(t){return E.reduce(function(t,e){return t.replace(e[0],e[1])},t)}};var M=T,D=n(247),A=n.n(D),R=n(15),B=n(42),L=n(142),N=function(){function t(){var e;Object(i.a)(this,t);var n=Object(R.d)(),o=n&&n.TurndownService||M,r=n&&n.showdown||A.a;if(!o)throw B.a.Error("E1041","Turndown");if(!r)throw B.a.Error("E1041","DevExtreme-Showdown");this._html2Markdown=new o,null!==(e=this._html2Markdown)&&void 0!==e&&e.addRule&&(this._html2Markdown.addRule("emptyLine",{filter:function(t){return"p"===t.nodeName.toLowerCase()&&"<br>"===t.innerHTML},replacement:function(){return"<br>"}}),this._html2Markdown.keep(["table"])),this._markdown2Html=new r.Converter({simpleLineBreaks:!0,strikethrough:!0,tables:!0})}return Object(o.a)(t,[{key:"toMarkdown",value:function(t){return this._html2Markdown.turndown(t||"")}},{key:"toHtml",value:function(t){var e=this._markdown2Html.makeHtml(t);return e&&(e=e.replace(new RegExp("\\r?\\n","g"),"")),e}}]),t}();L.a.addConverter("markdown",N)},,function(t,e,n){"use strict";var i=n(21),o=n(196),r=n(12),a=n(13),s=n(131);function l(t){var e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(t){return e[t]})}function c(t,e){this._pairs=[],t&&Object(s.a)(t,this,e)}var u=c.prototype;u.append=function(t,e){this._pairs.push([t,e])},u.toString=function(t){var e=t?function(e){return t.call(this,e,l)}:l;return this._pairs.map(function(t){return e(t[0])+"="+e(t[1])},"").join("&")};var h=c;function d(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function p(t,e,n){if(!e)return t;var o,r=n&&n.encode||d,a=n&&n.serialize;if(o=a?a(e,n):i.a.isURLSearchParams(e)?e.toString():new h(e,n).toString(r)){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}var f=function(){function t(){Object(r.a)(this,t),this.handlers=[]}return Object(a.a)(t,[{key:"use",value:function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(t){this.handlers[t]&&(this.handlers[t]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(t){i.a.forEach(this.handlers,function(e){null!==e&&t(e)})}}]),t}(),m=n(56),g={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},v={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:h,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var t;return("undefined"===typeof navigator||"ReactNative"!==(t=navigator.product)&&"NativeScript"!==t&&"NS"!==t)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var y=function(t){function e(t,n,o,r){var a=t[r++],s=Number.isFinite(+a),l=r>=t.length;return a=!a&&i.a.isArray(o)?o.length:a,l?(i.a.hasOwnProp(o,a)?o[a]=[o[a],n]:o[a]=n,!s):(o[a]&&i.a.isObject(o[a])||(o[a]=[]),e(t,n,o[a],r)&&i.a.isArray(o[a])&&(o[a]=function(t){var e,n,i={},o=Object.keys(t),r=o.length;for(e=0;e<r;e++)i[n=o[e]]=t[n];return i}(o[a])),!s)}if(i.a.isFormData(t)&&i.a.isFunction(t.entries)){var n={};return i.a.forEachEntry(t,function(t,o){e(function(t){return i.a.matchAll(/\w+|\[(\w*)]/g,t).map(function(t){return"[]"===t[0]?"":t[1]||t[0]})}(t),o,n,0)}),n}return null},_={"Content-Type":void 0};var b={transitional:g,adapter:["xhr","http"],transformRequest:[function(t,e){var n,o=e.getContentType()||"",r=o.indexOf("application/json")>-1,a=i.a.isObject(t);if(a&&i.a.isHTMLForm(t)&&(t=new FormData(t)),i.a.isFormData(t))return r&&r?JSON.stringify(y(t)):t;if(i.a.isArrayBuffer(t)||i.a.isBuffer(t)||i.a.isStream(t)||i.a.isFile(t)||i.a.isBlob(t))return t;if(i.a.isArrayBufferView(t))return t.buffer;if(i.a.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();if(a){if(o.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return Object(s.a)(t,new v.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,o){return v.isNode&&i.a.isBuffer(t)?(this.append(e,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((n=i.a.isFileList(t))||o.indexOf("multipart/form-data")>-1){var l=this.env&&this.env.FormData;return Object(s.a)(n?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||r?(e.setContentType("application/json",!1),function(t,e,n){if(i.a.isString(t))try{return(e||JSON.parse)(t),i.a.trim(t)}catch(o){if("SyntaxError"!==o.name)throw o}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||b.transitional,n=e&&e.forcedJSONParsing,o="json"===this.responseType;if(t&&i.a.isString(t)&&(n&&!this.responseType||o)){var r=!(e&&e.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(a){if(r){if("SyntaxError"===a.name)throw m.a.from(a,m.a.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:v.classes.FormData,Blob:v.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.a.forEach(["delete","get","head"],function(t){b.headers[t]={}}),i.a.forEach(["post","put","patch"],function(t){b.headers[t]=i.a.merge(_)});var C=b,O=n(40),x=i.a.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),S=Symbol("internals");function w(t){return t&&String(t).trim().toLowerCase()}function P(t){return!1===t||null==t?t:i.a.isArray(t)?t.map(P):String(t)}function k(t,e,n,o,r){return i.a.isFunction(o)?o.call(this,e,n):(r&&(e=n),i.a.isString(e)?i.a.isString(o)?-1!==e.indexOf(o):i.a.isRegExp(o)?o.test(e):void 0:void 0)}var E=function(){function t(e){Object(r.a)(this,t),e&&this.set(e)}return Object(a.a)(t,[{key:"set",value:function(t,e,n){var o=this;function r(t,e,n){var r=w(e);if(!r)throw new Error("header name must be a non-empty string");var a=i.a.findKey(o,r);(!a||void 0===o[a]||!0===n||void 0===n&&!1!==o[a])&&(o[a||e]=P(t))}var a=function(t,e){return i.a.forEach(t,function(t,n){return r(t,n,e)})};return i.a.isPlainObject(t)||t instanceof this.constructor?a(t,e):i.a.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z]+$/.test(t.trim())?a(function(t){var e,n,i,o={};return t&&t.split("\n").forEach(function(t){i=t.indexOf(":"),e=t.substring(0,i).trim().toLowerCase(),n=t.substring(i+1).trim(),!e||o[e]&&x[e]||("set-cookie"===e?o[e]?o[e].push(n):o[e]=[n]:o[e]=o[e]?o[e]+", "+n:n)}),o}(t),e):null!=t&&r(e,t,n),this}},{key:"get",value:function(t,e){if(t=w(t)){var n=i.a.findKey(this,t);if(n){var o=this[n];if(!e)return o;if(!0===e)return function(t){for(var e,n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;e=i.exec(t);)n[e[1]]=e[2];return n}(o);if(i.a.isFunction(e))return e.call(this,o,n);if(i.a.isRegExp(e))return e.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(t,e){if(t=w(t)){var n=i.a.findKey(this,t);return!(!n||void 0===this[n]||e&&!k(0,this[n],n,e))}return!1}},{key:"delete",value:function(t,e){var n=this,o=!1;function r(t){if(t=w(t)){var r=i.a.findKey(n,t);!r||e&&!k(0,n[r],r,e)||(delete n[r],o=!0)}}return i.a.isArray(t)?t.forEach(r):r(t),o}},{key:"clear",value:function(t){for(var e=Object.keys(this),n=e.length,i=!1;n--;){var o=e[n];t&&!k(0,this[o],o,t,!0)||(delete this[o],i=!0)}return i}},{key:"normalize",value:function(t){var e=this,n={};return i.a.forEach(this,function(o,r){var a=i.a.findKey(n,r);if(a)return e[a]=P(o),void delete e[r];var s=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,function(t,e,n){return e.toUpperCase()+n})}(r):String(r).trim();s!==r&&delete e[r],e[s]=P(o),n[s]=!0}),this}},{key:"concat",value:function(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=this.constructor).concat.apply(t,[this].concat(n))}},{key:"toJSON",value:function(t){var e=Object.create(null);return i.a.forEach(this,function(n,o){null!=n&&!1!==n&&(e[o]=t&&i.a.isArray(n)?n.join(", "):n)}),e}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map(function(t){var e=Object(O.a)(t,2);return e[0]+": "+e[1]}).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(t){return t instanceof this?t:new this(t)}},{key:"concat",value:function(t){for(var e=new this(t),n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return i.forEach(function(t){return e.set(t)}),e}},{key:"accessor",value:function(t){var e=(this[S]=this[S]={accessors:{}}).accessors,n=this.prototype;function o(t){var o=w(t);e[o]||(!function(t,e){var n=i.a.toCamelCase(" "+e);["get","set","has"].forEach(function(i){Object.defineProperty(t,i+n,{value:function(t,n,o){return this[i].call(this,e,t,n,o)},configurable:!0})})}(n,t),e[o]=!0)}return i.a.isArray(t)?t.forEach(o):o(t),this}}]),t}();E.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),i.a.freezeMethods(E.prototype),i.a.freezeMethods(E);var T=E;function I(t,e){var n=this||C,o=e||n,r=T.from(o.headers),a=o.data;return i.a.forEach(t,function(t){a=t.call(n,a,r.normalize(),e?e.status:void 0)}),r.normalize(),a}function j(t){return!(!t||!t.__CANCEL__)}function M(t,e,n){m.a.call(this,null==t?"canceled":t,m.a.ERR_CANCELED,e,n),this.name="CanceledError"}i.a.inherits(M,m.a,{__CANCEL__:!0});var D=M,A=n(197);var R=v.isStandardBrowserEnv?{write:function(t,e,n,o,r,a){var s=[];s.push(t+"="+encodeURIComponent(e)),i.a.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.a.isString(o)&&s.push("path="+o),i.a.isString(r)&&s.push("domain="+r),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function B(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}var L=v.isStandardBrowserEnv?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=i.a.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0};var N=function(t,e){t=t||10;var n,i=new Array(t),o=new Array(t),r=0,a=0;return e=void 0!==e?e:1e3,function(s){var l=Date.now(),c=o[a];n||(n=l),i[r]=s,o[r]=l;for(var u=a,h=0;u!==r;)h+=i[u++],u%=t;if((r=(r+1)%t)===a&&(a=(a+1)%t),!(l-n<e)){var d=c&&l-c;return d?Math.round(1e3*h/d):void 0}}};function z(t,e){var n=0,i=N(50,250);return function(o){var r=o.loaded,a=o.lengthComputable?o.total:void 0,s=r-n,l=i(s);n=r;var c={loaded:r,total:a,progress:a?r/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&r<=a?(a-r)/l:void 0,event:o};c[e?"download":"upload"]=!0,t(c)}}var F="undefined"!==typeof XMLHttpRequest&&function(t){return new Promise(function(e,n){var o,r=t.data,a=T.from(t.headers).normalize(),s=t.responseType;function l(){t.cancelToken&&t.cancelToken.unsubscribe(o),t.signal&&t.signal.removeEventListener("abort",o)}i.a.isFormData(r)&&(v.isStandardBrowserEnv||v.isStandardBrowserWebWorkerEnv)&&a.setContentType(!1);var c=new XMLHttpRequest;if(t.auth){var u=t.auth.username||"",h=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.set("Authorization","Basic "+btoa(u+":"+h))}var d=B(t.baseURL,t.url);function f(){if(c){var i=T.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());!function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(new m.a("Request failed with status code "+n.status,[m.a.ERR_BAD_REQUEST,m.a.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}(function(t){e(t),l()},function(t){n(t),l()},{data:s&&"text"!==s&&"json"!==s?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:i,config:t,request:c}),c=null}}if(c.open(t.method.toUpperCase(),p(d,t.params,t.paramsSerializer),!0),c.timeout=t.timeout,"onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(f)},c.onabort=function(){c&&(n(new m.a("Request aborted",m.a.ECONNABORTED,t,c)),c=null)},c.onerror=function(){n(new m.a("Network Error",m.a.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",i=t.transitional||g;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new m.a(e,i.clarifyTimeoutError?m.a.ETIMEDOUT:m.a.ECONNABORTED,t,c)),c=null},v.isStandardBrowserEnv){var y=(t.withCredentials||L(d))&&t.xsrfCookieName&&R.read(t.xsrfCookieName);y&&a.set(t.xsrfHeaderName,y)}void 0===r&&a.setContentType(null),"setRequestHeader"in c&&i.a.forEach(a.toJSON(),function(t,e){c.setRequestHeader(e,t)}),i.a.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),s&&"json"!==s&&(c.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&c.addEventListener("progress",z(t.onDownloadProgress,!0)),"function"===typeof t.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",z(t.onUploadProgress)),(t.cancelToken||t.signal)&&(o=function(e){c&&(n(!e||e.type?new D(null,t,c):e),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(o),t.signal&&(t.signal.aborted?o():t.signal.addEventListener("abort",o)));var _=function(t){var e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(d);_&&-1===v.protocols.indexOf(_)?n(new m.a("Unsupported protocol "+_+":",m.a.ERR_BAD_REQUEST,t)):c.send(r||null)})},H={http:A.a,xhr:F};i.a.forEach(H,function(t,e){if(t){try{Object.defineProperty(t,"name",{value:e})}catch(n){}Object.defineProperty(t,"adapterName",{value:e})}});var V={getAdapter:function(t){for(var e,n,o=(t=i.a.isArray(t)?t:[t]).length,r=0;r<o&&(e=t[r],!(n=i.a.isString(e)?H[e.toLowerCase()]:e));r++);if(!n){if(!1===n)throw new m.a("Adapter ".concat(e," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(i.a.hasOwnProp(H,e)?"Adapter '".concat(e,"' is not available in the build"):"Unknown adapter '".concat(e,"'"))}if(!i.a.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:H};function U(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new D(null,t)}function W(t){return U(t),t.headers=T.from(t.headers),t.data=I.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),V.getAdapter(t.adapter||C.adapter)(t).then(function(e){return U(t),e.data=I.call(t,t.transformResponse,e),e.headers=T.from(e.headers),e},function(e){return j(e)||(U(t),e&&e.response&&(e.response.data=I.call(t,t.transformResponse,e.response),e.response.headers=T.from(e.response.headers))),Promise.reject(e)})}var K=function(t){return t instanceof T?t.toJSON():t};function $(t,e){e=e||{};var n={};function o(t,e,n){return i.a.isPlainObject(t)&&i.a.isPlainObject(e)?i.a.merge.call({caseless:n},t,e):i.a.isPlainObject(e)?i.a.merge({},e):i.a.isArray(e)?e.slice():e}function r(t,e,n){return i.a.isUndefined(e)?i.a.isUndefined(t)?void 0:o(void 0,t,n):o(t,e,n)}function a(t,e){if(!i.a.isUndefined(e))return o(void 0,e)}function s(t,e){return i.a.isUndefined(e)?i.a.isUndefined(t)?void 0:o(void 0,t):o(void 0,e)}function l(n,i,r){return r in e?o(n,i):r in t?o(void 0,n):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:function(t,e){return r(K(t),K(e),!0)}};return i.a.forEach(Object.keys(t).concat(Object.keys(e)),function(o){var a=c[o]||r,s=a(t[o],e[o],o);i.a.isUndefined(s)&&a!==l||(n[o]=s)}),n}var G="1.3.4",q={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){q[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var Z={};q.transitional=function(t,e,n){function i(t,e){return"[Axios v"+G+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,o,r){if(!1===t)throw new m.a(i(o," has been removed"+(e?" in "+e:"")),m.a.ERR_DEPRECATED);return e&&!Z[o]&&(Z[o]=!0,console.warn(i(o," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,o,r)}};var Y={assertOptions:function(t,e,n){if("object"!==typeof t)throw new m.a("options must be an object",m.a.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(t),o=i.length;o-- >0;){var r=i[o],a=e[r];if(a){var s=t[r],l=void 0===s||a(s,r,t);if(!0!==l)throw new m.a("option "+r+" must be "+l,m.a.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new m.a("Unknown option "+r,m.a.ERR_BAD_OPTION)}},validators:q},X=Y.validators,Q=function(){function t(e){Object(r.a)(this,t),this.defaults=e,this.interceptors={request:new f,response:new f}}return Object(a.a)(t,[{key:"request",value:function(t,e){"string"===typeof t?(e=e||{}).url=t:e=t||{};var n,o=e=$(this.defaults,e),r=o.transitional,a=o.paramsSerializer,s=o.headers;void 0!==r&&Y.assertOptions(r,{silentJSONParsing:X.transitional(X.boolean),forcedJSONParsing:X.transitional(X.boolean),clarifyTimeoutError:X.transitional(X.boolean)},!1),void 0!==a&&Y.assertOptions(a,{encode:X.function,serialize:X.function},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase(),(n=s&&i.a.merge(s.common,s[e.method]))&&i.a.forEach(["delete","get","head","post","put","patch","common"],function(t){delete s[t]}),e.headers=T.concat(n,s);var l=[],c=!0;this.interceptors.request.forEach(function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(c=c&&t.synchronous,l.unshift(t.fulfilled,t.rejected))});var u,h=[];this.interceptors.response.forEach(function(t){h.push(t.fulfilled,t.rejected)});var d,p=0;if(!c){var f=[W.bind(this),void 0];for(f.unshift.apply(f,l),f.push.apply(f,h),d=f.length,u=Promise.resolve(e);p<d;)u=u.then(f[p++],f[p++]);return u}d=l.length;var m=e;for(p=0;p<d;){var g=l[p++],v=l[p++];try{m=g(m)}catch(y){v.call(this,y);break}}try{u=W.call(this,m)}catch(y){return Promise.reject(y)}for(p=0,d=h.length;p<d;)u=u.then(h[p++],h[p++]);return u}},{key:"getUri",value:function(t){return p(B((t=$(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}]),t}();i.a.forEach(["delete","get","head","options"],function(t){Q.prototype[t]=function(e,n){return this.request($(n||{},{method:t,url:e,data:(n||{}).data}))}}),i.a.forEach(["post","put","patch"],function(t){function e(e){return function(n,i,o){return this.request($(o||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}Q.prototype[t]=e(),Q.prototype[t+"Form"]=e(!0)});var J=Q,tt=function(){function t(e){if(Object(r.a)(this,t),"function"!==typeof e)throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(t){n=t});var i=this;this.promise.then(function(t){if(i._listeners){for(var e=i._listeners.length;e-- >0;)i._listeners[e](t);i._listeners=null}}),this.promise.then=function(t){var e,n=new Promise(function(t){i.subscribe(t),e=t}).then(t);return n.cancel=function(){i.unsubscribe(e)},n},e(function(t,e,o){i.reason||(i.reason=new D(t,e,o),n(i.reason))})}return Object(a.a)(t,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}},{key:"unsubscribe",value:function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}}}],[{key:"source",value:function(){var e;return{token:new t(function(t){e=t}),cancel:e}}}]),t}();var et={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(et).forEach(function(t){var e=Object(O.a)(t,2),n=e[0],i=e[1];et[i]=n});var nt=et;var it=function t(e){var n=new J(e),r=Object(o.a)(J.prototype.request,n);return i.a.extend(r,J.prototype,n,{allOwnKeys:!0}),i.a.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return t($(e,n))},r}(C);it.Axios=J,it.CanceledError=D,it.CancelToken=tt,it.isCancel=j,it.VERSION=G,it.toFormData=s.a,it.AxiosError=m.a,it.Cancel=it.CanceledError,it.all=function(t){return Promise.all(t)},it.spread=function(t){return function(e){return t.apply(null,e)}},it.isAxiosError=function(t){return i.a.isObject(t)&&!0===t.isAxiosError},it.mergeConfig=$,it.AxiosHeaders=T,it.formToJSON=function(t){return y(i.a.isHTMLForm(t)?new FormData(t):t)},it.HttpStatusCode=nt,it.default=it;e.a=it}]]);
//# sourceMappingURL=2.b2fa3d88.chunk.js.map