{"ast":null,"code":"/**\r\n * DevExtreme (esm/core/utils/queue.js)\r\n * Version: 22.2.4\r\n * Build date: Thu Jan 19 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport errors from \"../errors\";\nimport { when } from \"../../core/utils/deferred\";\nfunction createQueue(discardPendingTasks) {\n  var _tasks = [];\n  var _busy = false;\n  function exec() {\n    while (_tasks.length) {\n      _busy = true;\n      var task = _tasks.shift();\n      var result = task();\n      if (void 0 === result) {\n        continue;\n      }\n      if (result.then) {\n        when(result).always(exec);\n        return;\n      }\n      throw errors.Error(\"E0015\");\n    }\n    _busy = false;\n  }\n  return {\n    add: function add(task, removeTaskCallback) {\n      if (!discardPendingTasks) {\n        _tasks.push(task);\n      } else {\n        if (_tasks[0] && removeTaskCallback) {\n          removeTaskCallback(_tasks[0]);\n        }\n        _tasks = [task];\n      }\n      if (!_busy) {\n        exec();\n      }\n    },\n    busy: function busy() {\n      return _busy;\n    }\n  };\n}\nexport { createQueue as create };\nexport var enqueue = createQueue().add;","map":null,"metadata":{},"sourceType":"module"}